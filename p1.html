<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<style>body{background-color:white;}</style>
<script src="data:application/javascript;base64,KGZ1bmN0aW9uKCkgewogIC8vIElmIHdpbmRvdy5IVE1MV2lkZ2V0cyBpcyBhbHJlYWR5IGRlZmluZWQsIHRoZW4gdXNlIGl0OyBvdGhlcndpc2UgY3JlYXRlIGEKICAvLyBuZXcgb2JqZWN0LiBUaGlzIGFsbG93cyBwcmVjZWRpbmcgY29kZSB0byBzZXQgb3B0aW9ucyB0aGF0IGFmZmVjdCB0aGUKICAvLyBpbml0aWFsaXphdGlvbiBwcm9jZXNzICh0aG91Z2ggbm9uZSBjdXJyZW50bHkgZXhpc3QpLgogIHdpbmRvdy5IVE1MV2lkZ2V0cyA9IHdpbmRvdy5IVE1MV2lkZ2V0cyB8fCB7fTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSB2aWV3ZXIgcGFuZS4gSWYgbm90LCB3ZSdyZSBpbiBhIHdlYiBicm93c2VyLgogIHZhciB2aWV3ZXJNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnZpZXdlck1vZGUgPQogICAgICAvXGJ2aWV3ZXJfcGFuZT0xXGIvLnRlc3Qod2luZG93LmxvY2F0aW9uKTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gU2hpbnkgbW9kZS4gSWYgbm90LCBpdCdzIGEgc3RhdGljIGRvY3VtZW50LgogIC8vIE5vdGUgdGhhdCBzdGF0aWMgd2lkZ2V0cyBjYW4gYXBwZWFyIGluIGJvdGggU2hpbnkgYW5kIHN0YXRpYyBtb2RlcywgYnV0CiAgLy8gb2J2aW91c2x5LCBTaGlueSB3aWRnZXRzIGNhbiBvbmx5IGFwcGVhciBpbiBTaGlueSBhcHBzL2RvY3VtZW50cy4KICB2YXIgc2hpbnlNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnNoaW55TW9kZSA9CiAgICAgIHR5cGVvZih3aW5kb3cuU2hpbnkpICE9PSAidW5kZWZpbmVkIiAmJiAhIXdpbmRvdy5TaGlueS5vdXRwdXRCaW5kaW5nczsKCiAgLy8gV2UgY2FuJ3QgY291bnQgb24galF1ZXJ5IGJlaW5nIGF2YWlsYWJsZSwgc28gd2UgaW1wbGVtZW50IG91ciBvd24KICAvLyB2ZXJzaW9uIGlmIG5lY2Vzc2FyeS4KICBmdW5jdGlvbiBxdWVyeVNlbGVjdG9yQWxsKHNjb3BlLCBzZWxlY3RvcikgewogICAgaWYgKHR5cGVvZihqUXVlcnkpICE9PSAidW5kZWZpbmVkIiAmJiBzY29wZSBpbnN0YW5jZW9mIGpRdWVyeSkgewogICAgICByZXR1cm4gc2NvcGUuZmluZChzZWxlY3Rvcik7CiAgICB9CiAgICBpZiAoc2NvcGUucXVlcnlTZWxlY3RvckFsbCkgewogICAgICByZXR1cm4gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBhc0FycmF5KHZhbHVlKSB7CiAgICBpZiAodmFsdWUgPT09IG51bGwpCiAgICAgIHJldHVybiBbXTsKICAgIGlmICgkLmlzQXJyYXkodmFsdWUpKQogICAgICByZXR1cm4gdmFsdWU7CiAgICByZXR1cm4gW3ZhbHVlXTsKICB9CgogIC8vIEltcGxlbWVudCBqUXVlcnkncyBleHRlbmQKICBmdW5jdGlvbiBleHRlbmQodGFyZ2V0IC8qLCAuLi4gKi8pIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07CiAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7CiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgewogICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRhcmdldDsKICB9CgogIC8vIElFOCBkb2Vzbid0IHN1cHBvcnQgQXJyYXkuZm9yRWFjaC4KICBmdW5jdGlvbiBmb3JFYWNoKHZhbHVlcywgY2FsbGJhY2ssIHRoaXNBcmcpIHsKICAgIGlmICh2YWx1ZXMuZm9yRWFjaCkgewogICAgICB2YWx1ZXMuZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZyk7CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWVzW2ldLCBpLCB2YWx1ZXMpOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBSZXBsYWNlcyB0aGUgc3BlY2lmaWVkIG1ldGhvZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgZnVuY1NvdXJjZS4KICAvLwogIC8vIE5vdGUgdGhhdCBmdW5jU291cmNlIHNob3VsZCBub3QgQkUgdGhlIG5ldyBtZXRob2QsIGl0IHNob3VsZCBiZSBhIGZ1bmN0aW9uCiAgLy8gdGhhdCBSRVRVUk5TIHRoZSBuZXcgbWV0aG9kLiBmdW5jU291cmNlIHJlY2VpdmVzIGEgc2luZ2xlIGFyZ3VtZW50IHRoYXQgaXMKICAvLyB0aGUgb3ZlcnJpZGRlbiBtZXRob2QsIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSB0aGUgbmV3IG1ldGhvZC4gVGhlIG92ZXJyaWRkZW4KICAvLyBtZXRob2QgY2FuIGJlIGNhbGxlZCBsaWtlIGEgcmVndWxhciBmdW5jdGlvbiwgaXQgaGFzIHRoZSB0YXJnZXQgcGVybWFuZW50bHkKICAvLyBib3VuZCB0byBpdCBzbyAidGhpcyIgd2lsbCB3b3JrIGNvcnJlY3RseS4KICBmdW5jdGlvbiBvdmVycmlkZU1ldGhvZCh0YXJnZXQsIG1ldGhvZE5hbWUsIGZ1bmNTb3VyY2UpIHsKICAgIHZhciBzdXBlckZ1bmMgPSB0YXJnZXRbbWV0aG9kTmFtZV0gfHwgZnVuY3Rpb24oKSB7fTsKICAgIHZhciBzdXBlckZ1bmNCb3VuZCA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gc3VwZXJGdW5jLmFwcGx5KHRhcmdldCwgYXJndW1lbnRzKTsKICAgIH07CiAgICB0YXJnZXRbbWV0aG9kTmFtZV0gPSBmdW5jU291cmNlKHN1cGVyRnVuY0JvdW5kKTsKICB9CgogIC8vIEFkZCBhIG1ldGhvZCB0byBkZWxlZ2F0b3IgdGhhdCwgd2hlbiBpbnZva2VkLCBjYWxscwogIC8vIGRlbGVnYXRlZS5tZXRob2ROYW1lLiBJZiB0aGVyZSBpcyBubyBzdWNoIG1ldGhvZCBvbgogIC8vIHRoZSBkZWxlZ2F0ZWUsIGJ1dCB0aGVyZSB3YXMgb25lIG9uIGRlbGVnYXRvciBiZWZvcmUKICAvLyBkZWxlZ2F0ZU1ldGhvZCB3YXMgY2FsbGVkLCB0aGVuIHRoZSBvcmlnaW5hbCB2ZXJzaW9uCiAgLy8gaXMgaW52b2tlZCBpbnN0ZWFkLgogIC8vIEZvciBleGFtcGxlOgogIC8vCiAgLy8gdmFyIGEgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2ExJyk7IH0KICAvLyAgIG1ldGhvZDI6IGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnYTInKTsgfQogIC8vIH07CiAgLy8gdmFyIGIgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2IxJyk7IH0KICAvLyB9OwogIC8vIGRlbGVnYXRlTWV0aG9kKGEsIGIsICJtZXRob2QxIik7CiAgLy8gZGVsZWdhdGVNZXRob2QoYSwgYiwgIm1ldGhvZDIiKTsKICAvLyBhLm1ldGhvZDEoKTsKICAvLyBhLm1ldGhvZDIoKTsKICAvLwogIC8vIFRoZSBvdXRwdXQgd291bGQgYmUgImIxIiwgImEyIi4KICBmdW5jdGlvbiBkZWxlZ2F0ZU1ldGhvZChkZWxlZ2F0b3IsIGRlbGVnYXRlZSwgbWV0aG9kTmFtZSkgewogICAgdmFyIGluaGVyaXRlZCA9IGRlbGVnYXRvclttZXRob2ROYW1lXTsKICAgIGRlbGVnYXRvclttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgdGFyZ2V0ID0gZGVsZWdhdGVlOwogICAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGVlW21ldGhvZE5hbWVdOwoKICAgICAgLy8gVGhlIG1ldGhvZCBkb2Vzbid0IGV4aXN0IG9uIHRoZSBkZWxlZ2F0ZWUuIEluc3RlYWQsCiAgICAgIC8vIGNhbGwgdGhlIG1ldGhvZCBvbiB0aGUgZGVsZWdhdG9yLCBpZiBpdCBleGlzdHMuCiAgICAgIGlmICghbWV0aG9kKSB7CiAgICAgICAgdGFyZ2V0ID0gZGVsZWdhdG9yOwogICAgICAgIG1ldGhvZCA9IGluaGVyaXRlZDsKICAgICAgfQoKICAgICAgaWYgKG1ldGhvZCkgewogICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGFyZ2V0LCBhcmd1bWVudHMpOwogICAgICB9CiAgICB9OwogIH0KCiAgLy8gSW1wbGVtZW50IGEgdmFndWUgZmFjc2ltaWxpZSBvZiBqUXVlcnkncyBkYXRhIG1ldGhvZAogIGZ1bmN0aW9uIGVsZW1lbnREYXRhKGVsLCBuYW1lLCB2YWx1ZSkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikgewogICAgICByZXR1cm4gZWxbImh0bWx3aWRnZXRfZGF0YV8iICsgbmFtZV07CiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMykgewogICAgICBlbFsiaHRtbHdpZGdldF9kYXRhXyIgKyBuYW1lXSA9IHZhbHVlOwogICAgICByZXR1cm4gZWw7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgZm9yIGVsZW1lbnREYXRhOiAiICsKICAgICAgICBhcmd1bWVudHMubGVuZ3RoKTsKICAgIH0KICB9CgogIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQ0NjE3MC9lc2NhcGUtc3RyaW5nLWZvci11c2UtaW4tamF2YXNjcmlwdC1yZWdleAogIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHIpIHsKICAgIHJldHVybiBzdHIucmVwbGFjZSgvW1wtXFtcXVwvXHtcfVwoXClcKlwrXD9cLlxcXF5cJFx8XS9nLCAiXFwkJiIpOwogIH0KCiAgZnVuY3Rpb24gaGFzQ2xhc3MoZWwsIGNsYXNzTmFtZSkgewogICAgdmFyIHJlID0gbmV3IFJlZ0V4cCgiXFxiIiArIGVzY2FwZVJlZ0V4cChjbGFzc05hbWUpICsgIlxcYiIpOwogICAgcmV0dXJuIHJlLnRlc3QoZWwuY2xhc3NOYW1lKTsKICB9CgogIC8vIGVsZW1lbnRzIC0gYXJyYXkgKG9yIGFycmF5LWxpa2Ugb2JqZWN0KSBvZiBIVE1MIGVsZW1lbnRzCiAgLy8gY2xhc3NOYW1lIC0gY2xhc3MgbmFtZSB0byB0ZXN0IGZvcgogIC8vIGluY2x1ZGUgLSBpZiB0cnVlLCBvbmx5IHJldHVybiBlbGVtZW50cyB3aXRoIGdpdmVuIGNsYXNzTmFtZTsKICAvLyAgIGlmIGZhbHNlLCBvbmx5IHJldHVybiBlbGVtZW50cyAqd2l0aG91dCogZ2l2ZW4gY2xhc3NOYW1lCiAgZnVuY3Rpb24gZmlsdGVyQnlDbGFzcyhlbGVtZW50cywgY2xhc3NOYW1lLCBpbmNsdWRlKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICBpZiAoaGFzQ2xhc3MoZWxlbWVudHNbaV0sIGNsYXNzTmFtZSkgPT0gaW5jbHVkZSkKICAgICAgICByZXN1bHRzLnB1c2goZWxlbWVudHNbaV0pOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBvbihvYmosIGV2ZW50TmFtZSwgZnVuYykgewogICAgaWYgKG9iai5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgIG9iai5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuYywgZmFsc2UpOwogICAgfSBlbHNlIGlmIChvYmouYXR0YWNoRXZlbnQpIHsKICAgICAgb2JqLmF0dGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBvZmYob2JqLCBldmVudE5hbWUsIGZ1bmMpIHsKICAgIGlmIChvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcikKICAgICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jLCBmYWxzZSk7CiAgICBlbHNlIGlmIChvYmouZGV0YWNoRXZlbnQpIHsKICAgICAgb2JqLmRldGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICAvLyBUcmFuc2xhdGUgYXJyYXkgb2YgdmFsdWVzIHRvIHRvcC9yaWdodC9ib3R0b20vbGVmdCwgYXMgdXN1YWwgd2l0aAogIC8vIHRoZSAicGFkZGluZyIgQ1NTIHByb3BlcnR5CiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3BhZGRpbmcKICBmdW5jdGlvbiB1bnBhY2tQYWRkaW5nKHZhbHVlKSB7CiAgICBpZiAodHlwZW9mKHZhbHVlKSA9PT0gIm51bWJlciIpCiAgICAgIHZhbHVlID0gW3ZhbHVlXTsKICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDEpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMF0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzBdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDMpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDQpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzNdfTsKICAgIH0KICB9CgogIC8vIENvbnZlcnQgYW4gdW5wYWNrZWQgcGFkZGluZyBvYmplY3QgdG8gYSBDU1MgdmFsdWUKICBmdW5jdGlvbiBwYWRkaW5nVG9Dc3MocGFkZGluZ09iaikgewogICAgcmV0dXJuIHBhZGRpbmdPYmoudG9wICsgInB4ICIgKyBwYWRkaW5nT2JqLnJpZ2h0ICsgInB4ICIgKyBwYWRkaW5nT2JqLmJvdHRvbSArICJweCAiICsgcGFkZGluZ09iai5sZWZ0ICsgInB4IjsKICB9CgogIC8vIE1ha2VzIGEgbnVtYmVyIHN1aXRhYmxlIGZvciBDU1MKICBmdW5jdGlvbiBweCh4KSB7CiAgICBpZiAodHlwZW9mKHgpID09PSAibnVtYmVyIikKICAgICAgcmV0dXJuIHggKyAicHgiOwogICAgZWxzZQogICAgICByZXR1cm4geDsKICB9CgogIC8vIFJldHJpZXZlcyBydW50aW1lIHdpZGdldCBzaXppbmcgaW5mb3JtYXRpb24gZm9yIGFuIGVsZW1lbnQuCiAgLy8gVGhlIHJldHVybiB2YWx1ZSBpcyBlaXRoZXIgbnVsbCwgb3IgYW4gb2JqZWN0IHdpdGggZmlsbCwgcGFkZGluZywKICAvLyBkZWZhdWx0V2lkdGgsIGRlZmF1bHRIZWlnaHQgZmllbGRzLgogIGZ1bmN0aW9uIHNpemluZ1BvbGljeShlbCkgewogICAgdmFyIHNpemluZ0VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vaHRtbHdpZGdldC1zaXppbmcnXSIpOwogICAgaWYgKCFzaXppbmdFbCkKICAgICAgcmV0dXJuIG51bGw7CiAgICB2YXIgc3AgPSBKU09OLnBhcnNlKHNpemluZ0VsLnRleHRDb250ZW50IHx8IHNpemluZ0VsLnRleHQgfHwgInt9Iik7CiAgICBpZiAodmlld2VyTW9kZSkgewogICAgICByZXR1cm4gc3Audmlld2VyOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHNwLmJyb3dzZXI7CiAgICB9CiAgfQoKICAvLyBAcGFyYW0gdGFza3MgQXJyYXkgb2Ygc3RyaW5ncyAob3IgZmFsc3kgdmFsdWUsIGluIHdoaWNoIGNhc2Ugbm8tb3ApLgogIC8vICAgRWFjaCBlbGVtZW50IG11c3QgYmUgYSB2YWxpZCBKYXZhU2NyaXB0IGV4cHJlc3Npb24gdGhhdCB5aWVsZHMgYQogIC8vICAgZnVuY3Rpb24uIE9yLCBjYW4gYmUgYW4gYXJyYXkgb2Ygb2JqZWN0cyB3aXRoICJjb2RlIiBhbmQgImRhdGEiCiAgLy8gICBwcm9wZXJ0aWVzOyBpbiB0aGlzIGNhc2UsIHRoZSAiY29kZSIgcHJvcGVydHkgc2hvdWxkIGJlIGEgc3RyaW5nCiAgLy8gICBvZiBKUyB0aGF0J3MgYW4gZXhwciB0aGF0IHlpZWxkcyBhIGZ1bmN0aW9uLCBhbmQgImRhdGEiIHNob3VsZCBiZQogIC8vICAgYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBhZGRlZCBhcyBhbiBhZGRpdGlvbmFsIGFyZ3VtZW50IHdoZW4gdGhhdAogIC8vICAgZnVuY3Rpb24gaXMgY2FsbGVkLgogIC8vIEBwYXJhbSB0YXJnZXQgVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgInRoaXMiIGZvciBlYWNoIGZ1bmN0aW9uCiAgLy8gICBleGVjdXRpb24uCiAgLy8gQHBhcmFtIGFyZ3MgQXJyYXkgb2YgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25zLiAoVGhlCiAgLy8gICBzYW1lIGFyZ3VtZW50cyB3aWxsIGJlIHBhc3NlZCB0byBhbGwgZnVuY3Rpb25zLikKICBmdW5jdGlvbiBldmFsQW5kUnVuKHRhc2tzLCB0YXJnZXQsIGFyZ3MpIHsKICAgIGlmICh0YXNrcykgewogICAgICBmb3JFYWNoKHRhc2tzLCBmdW5jdGlvbih0YXNrKSB7CiAgICAgICAgdmFyIHRoZXNlQXJncyA9IGFyZ3M7CiAgICAgICAgaWYgKHR5cGVvZih0YXNrKSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgIHRoZXNlQXJncyA9IHRoZXNlQXJncy5jb25jYXQoW3Rhc2suZGF0YV0pOwogICAgICAgICAgdGFzayA9IHRhc2suY29kZTsKICAgICAgICB9CiAgICAgICAgdmFyIHRhc2tGdW5jID0gdHJ5RXZhbCh0YXNrKTsKICAgICAgICBpZiAodHlwZW9mKHRhc2tGdW5jKSAhPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJUYXNrIG11c3QgYmUgYSBmdW5jdGlvbiEgU291cmNlOlxuIiArIHRhc2spOwogICAgICAgIH0KICAgICAgICB0YXNrRnVuYy5hcHBseSh0YXJnZXQsIHRoZXNlQXJncyk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgLy8gQXR0ZW1wdCBldmFsKCkgYm90aCB3aXRoIGFuZCB3aXRob3V0IGVuY2xvc2luZyBpbiBwYXJlbnRoZXNlcy4KICAvLyBOb3RlIHRoYXQgZW5jbG9zaW5nIGNvZXJjZXMgYSBmdW5jdGlvbiBkZWNsYXJhdGlvbiBpbnRvCiAgLy8gYW4gZXhwcmVzc2lvbiB0aGF0IGV2YWwoKSBjYW4gcGFyc2UKICAvLyAob3RoZXJ3aXNlLCBhIFN5bnRheEVycm9yIGlzIHRocm93bikKICBmdW5jdGlvbiB0cnlFdmFsKGNvZGUpIHsKICAgIHZhciByZXN1bHQgPSBudWxsOwogICAgdHJ5IHsKICAgICAgcmVzdWx0ID0gZXZhbCgiKCIgKyBjb2RlICsgIikiKTsKICAgIH0gY2F0Y2goZXJyb3IpIHsKICAgICAgaWYgKCEoZXJyb3IgaW5zdGFuY2VvZiBTeW50YXhFcnJvcikpIHsKICAgICAgICB0aHJvdyBlcnJvcjsKICAgICAgfQogICAgICB0cnkgewogICAgICAgIHJlc3VsdCA9IGV2YWwoY29kZSk7CiAgICAgIH0gY2F0Y2goZSkgewogICAgICAgIGlmIChlIGluc3RhbmNlb2YgU3ludGF4RXJyb3IpIHsKICAgICAgICAgIHRocm93IGVycm9yOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyBlOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIGZ1bmN0aW9uIGluaXRTaXppbmcoZWwpIHsKICAgIHZhciBzaXppbmcgPSBzaXppbmdQb2xpY3koZWwpOwogICAgaWYgKCFzaXppbmcpCiAgICAgIHJldHVybjsKCiAgICB2YXIgY2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImh0bWx3aWRnZXRfY29udGFpbmVyIik7CiAgICBpZiAoIWNlbCkKICAgICAgcmV0dXJuOwoKICAgIGlmICh0eXBlb2Yoc2l6aW5nLnBhZGRpbmcpICE9PSAidW5kZWZpbmVkIikgewogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbiA9ICIwIjsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nID0gcGFkZGluZ1RvQ3NzKHVucGFja1BhZGRpbmcoc2l6aW5nLnBhZGRpbmcpKTsKICAgIH0KCiAgICBpZiAoc2l6aW5nLmZpbGwpIHsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9ICIxMDAlIjsKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOwogICAgICBpZiAoY2VsKSB7CiAgICAgICAgY2VsLnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsKICAgICAgICB2YXIgcGFkID0gdW5wYWNrUGFkZGluZyhzaXppbmcucGFkZGluZyk7CiAgICAgICAgY2VsLnN0eWxlLnRvcCA9IHBhZC50b3AgKyAicHgiOwogICAgICAgIGNlbC5zdHlsZS5yaWdodCA9IHBhZC5yaWdodCArICJweCI7CiAgICAgICAgY2VsLnN0eWxlLmJvdHRvbSA9IHBhZC5ib3R0b20gKyAicHgiOwogICAgICAgIGNlbC5zdHlsZS5sZWZ0ID0gcGFkLmxlZnQgKyAicHgiOwogICAgICAgIGVsLnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICAgIGVsLnN0eWxlLmhlaWdodCA9ICIxMDAlIjsKICAgICAgfQoKICAgICAgcmV0dXJuIHsKICAgICAgICBnZXRXaWR0aDogZnVuY3Rpb24oKSB7IHJldHVybiBjZWwub2Zmc2V0V2lkdGg7IH0sCiAgICAgICAgZ2V0SGVpZ2h0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGNlbC5vZmZzZXRIZWlnaHQ7IH0KICAgICAgfTsKCiAgICB9IGVsc2UgewogICAgICBlbC5zdHlsZS53aWR0aCA9IHB4KHNpemluZy53aWR0aCk7CiAgICAgIGVsLnN0eWxlLmhlaWdodCA9IHB4KHNpemluZy5oZWlnaHQpOwoKICAgICAgcmV0dXJuIHsKICAgICAgICBnZXRXaWR0aDogZnVuY3Rpb24oKSB7IHJldHVybiBlbC5vZmZzZXRXaWR0aDsgfSwKICAgICAgICBnZXRIZWlnaHQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZWwub2Zmc2V0SGVpZ2h0OyB9CiAgICAgIH07CiAgICB9CiAgfQoKICAvLyBEZWZhdWx0IGltcGxlbWVudGF0aW9ucyBmb3IgbWV0aG9kcwogIHZhciBkZWZhdWx0cyA9IHsKICAgIGZpbmQ6IGZ1bmN0aW9uKHNjb3BlKSB7CiAgICAgIHJldHVybiBxdWVyeVNlbGVjdG9yQWxsKHNjb3BlLCAiLiIgKyB0aGlzLm5hbWUpOwogICAgfSwKICAgIHJlbmRlckVycm9yOiBmdW5jdGlvbihlbCwgZXJyKSB7CiAgICAgIHZhciAkZWwgPSAkKGVsKTsKCiAgICAgIHRoaXMuY2xlYXJFcnJvcihlbCk7CgogICAgICAvLyBBZGQgYWxsIHRoZXNlIGVycm9yIGNsYXNzZXMsIGFzIFNoaW55IGRvZXMKICAgICAgdmFyIGVyckNsYXNzID0gInNoaW55LW91dHB1dC1lcnJvciI7CiAgICAgIGlmIChlcnIudHlwZSAhPT0gbnVsbCkgewogICAgICAgIC8vIHVzZSB0aGUgY2xhc3NlcyBvZiB0aGUgZXJyb3IgY29uZGl0aW9uIGFzIENTUyBjbGFzcyBuYW1lcwogICAgICAgIGVyckNsYXNzID0gZXJyQ2xhc3MgKyAiICIgKyAkLm1hcChhc0FycmF5KGVyci50eXBlKSwgZnVuY3Rpb24odHlwZSkgewogICAgICAgICAgcmV0dXJuIGVyckNsYXNzICsgIi0iICsgdHlwZTsKICAgICAgICB9KS5qb2luKCIgIik7CiAgICAgIH0KICAgICAgZXJyQ2xhc3MgPSBlcnJDbGFzcyArICIgaHRtbHdpZGdldHMtZXJyb3IiOwoKICAgICAgLy8gSXMgZWwgaW5saW5lIG9yIGJsb2NrPyBJZiBpbmxpbmUgb3IgaW5saW5lLWJsb2NrLCBqdXN0IGRpc3BsYXk6bm9uZSBpdAogICAgICAvLyBhbmQgYWRkIGFuIGlubGluZSBlcnJvci4KICAgICAgdmFyIGRpc3BsYXkgPSAkZWwuY3NzKCJkaXNwbGF5Iik7CiAgICAgICRlbC5kYXRhKCJyZXN0b3JlLWRpc3BsYXktbW9kZSIsIGRpc3BsYXkpOwoKICAgICAgaWYgKGRpc3BsYXkgPT09ICJpbmxpbmUiIHx8IGRpc3BsYXkgPT09ICJpbmxpbmUtYmxvY2siKSB7CiAgICAgICAgJGVsLmhpZGUoKTsKICAgICAgICBpZiAoZXJyLm1lc3NhZ2UgIT09ICIiKSB7CiAgICAgICAgICB2YXIgZXJyb3JTcGFuID0gJCgiPHNwYW4+IikuYWRkQ2xhc3MoZXJyQ2xhc3MpOwogICAgICAgICAgZXJyb3JTcGFuLnRleHQoZXJyLm1lc3NhZ2UpOwogICAgICAgICAgJGVsLmFmdGVyKGVycm9yU3Bhbik7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGRpc3BsYXkgPT09ICJibG9jayIpIHsKICAgICAgICAvLyBJZiBibG9jaywgYWRkIGFuIGVycm9yIGp1c3QgYWZ0ZXIgdGhlIGVsLCBzZXQgdmlzaWJpbGl0eTpub25lIG9uIHRoZQogICAgICAgIC8vIGVsLCBhbmQgcG9zaXRpb24gdGhlIGVycm9yIHRvIGJlIG9uIHRvcCBvZiB0aGUgZWwuCiAgICAgICAgLy8gTWFyayBpdCB3aXRoIGEgdW5pcXVlIElEIGFuZCBDU1MgY2xhc3Mgc28gd2UgY2FuIHJlbW92ZSBpdCBsYXRlci4KICAgICAgICAkZWwuY3NzKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpOwogICAgICAgIGlmIChlcnIubWVzc2FnZSAhPT0gIiIpIHsKICAgICAgICAgIHZhciBlcnJvckRpdiA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoZXJyQ2xhc3MpLmNzcygicG9zaXRpb24iLCAiYWJzb2x1dGUiKQogICAgICAgICAgICAuY3NzKCJ0b3AiLCBlbC5vZmZzZXRUb3ApCiAgICAgICAgICAgIC5jc3MoImxlZnQiLCBlbC5vZmZzZXRMZWZ0KQogICAgICAgICAgICAvLyBzZXR0aW5nIHdpZHRoIGNhbiBwdXNoIG91dCB0aGUgcGFnZSBzaXplLCBmb3JjaW5nIG90aGVyd2lzZQogICAgICAgICAgICAvLyB1bm5lY2Vzc2FyeSBzY3JvbGxiYXJzIHRvIGFwcGVhciBhbmQgbWFraW5nIGl0IGltcG9zc2libGUgZm9yCiAgICAgICAgICAgIC8vIHRoZSBlbGVtZW50IHRvIHNocmluazsgc28gdXNlIG1heC13aWR0aCBpbnN0ZWFkCiAgICAgICAgICAgIC5jc3MoIm1heFdpZHRoIiwgZWwub2Zmc2V0V2lkdGgpCiAgICAgICAgICAgIC5jc3MoImhlaWdodCIsIGVsLm9mZnNldEhlaWdodCk7CiAgICAgICAgICBlcnJvckRpdi50ZXh0KGVyci5tZXNzYWdlKTsKICAgICAgICAgICRlbC5hZnRlcihlcnJvckRpdik7CgogICAgICAgICAgLy8gUmVhbGx5IGR1bWIgd2F5IHRvIGtlZXAgdGhlIHNpemUvcG9zaXRpb24gb2YgdGhlIGVycm9yIGluIHN5bmMgd2l0aAogICAgICAgICAgLy8gdGhlIHBhcmVudCBlbGVtZW50IGFzIHRoZSB3aW5kb3cgaXMgcmVzaXplZCBvciB3aGF0ZXZlci4KICAgICAgICAgIHZhciBpbnRJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAoIWVycm9yRGl2WzBdLnBhcmVudEVsZW1lbnQpIHsKICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludElkKTsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3JEaXYKICAgICAgICAgICAgICAuY3NzKCJ0b3AiLCBlbC5vZmZzZXRUb3ApCiAgICAgICAgICAgICAgLmNzcygibGVmdCIsIGVsLm9mZnNldExlZnQpCiAgICAgICAgICAgICAgLmNzcygibWF4V2lkdGgiLCBlbC5vZmZzZXRXaWR0aCkKICAgICAgICAgICAgICAuY3NzKCJoZWlnaHQiLCBlbC5vZmZzZXRIZWlnaHQpOwogICAgICAgICAgfSwgNTAwKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjbGVhckVycm9yOiBmdW5jdGlvbihlbCkgewogICAgICB2YXIgJGVsID0gJChlbCk7CiAgICAgIHZhciBkaXNwbGF5ID0gJGVsLmRhdGEoInJlc3RvcmUtZGlzcGxheS1tb2RlIik7CiAgICAgICRlbC5kYXRhKCJyZXN0b3JlLWRpc3BsYXktbW9kZSIsIG51bGwpOwoKICAgICAgaWYgKGRpc3BsYXkgPT09ICJpbmxpbmUiIHx8IGRpc3BsYXkgPT09ICJpbmxpbmUtYmxvY2siKSB7CiAgICAgICAgaWYgKGRpc3BsYXkpCiAgICAgICAgICAkZWwuY3NzKCJkaXNwbGF5IiwgZGlzcGxheSk7CiAgICAgICAgJChlbC5uZXh0U2libGluZykuZmlsdGVyKCIuaHRtbHdpZGdldHMtZXJyb3IiKS5yZW1vdmUoKTsKICAgICAgfSBlbHNlIGlmIChkaXNwbGF5ID09PSAiYmxvY2siKXsKICAgICAgICAkZWwuY3NzKCJ2aXNpYmlsaXR5IiwgImluaGVyaXQiKTsKICAgICAgICAkKGVsLm5leHRTaWJsaW5nKS5maWx0ZXIoIi5odG1sd2lkZ2V0cy1lcnJvciIpLnJlbW92ZSgpOwogICAgICB9CiAgICB9LAogICAgc2l6aW5nOiB7fQogIH07CgogIC8vIENhbGxlZCBieSB3aWRnZXQgYmluZGluZ3MgdG8gcmVnaXN0ZXIgYSBuZXcgdHlwZSBvZiB3aWRnZXQuIFRoZSBkZWZpbml0aW9uCiAgLy8gb2JqZWN0IGNhbiBjb250YWluIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczoKICAvLyAtIG5hbWUgKHJlcXVpcmVkKSAtIEEgc3RyaW5nIGluZGljYXRpbmcgdGhlIGJpbmRpbmcgbmFtZSwgd2hpY2ggd2lsbCBiZQogIC8vICAgdXNlZCBieSBkZWZhdWx0IGFzIHRoZSBDU1MgY2xhc3NuYW1lIHRvIGxvb2sgZm9yLgogIC8vIC0gaW5pdGlhbGl6ZSAob3B0aW9uYWwpIC0gQSBmdW5jdGlvbihlbCkgdGhhdCB3aWxsIGJlIGNhbGxlZCBvbmNlIHBlcgogIC8vICAgd2lkZ2V0IGVsZW1lbnQ7IGlmIGEgdmFsdWUgaXMgcmV0dXJuZWQsIGl0IHdpbGwgYmUgcGFzc2VkIGFzIHRoZSB0aGlyZAogIC8vICAgdmFsdWUgdG8gcmVuZGVyVmFsdWUuCiAgLy8gLSByZW5kZXJWYWx1ZSAocmVxdWlyZWQpIC0gQSBmdW5jdGlvbihlbCwgZGF0YSwgaW5pdFZhbHVlKSB0aGF0IHdpbGwgYmUKICAvLyAgIGNhbGxlZCB3aXRoIGRhdGEuIFN0YXRpYyBjb250ZXh0cyB3aWxsIGNhdXNlIHRoaXMgdG8gYmUgY2FsbGVkIG9uY2UgcGVyCiAgLy8gICBlbGVtZW50OyBTaGlueSBhcHBzIHdpbGwgY2F1c2UgdGhpcyB0byBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgcGVyCiAgLy8gICBlbGVtZW50LCBhcyB0aGUgZGF0YSBjaGFuZ2VzLgogIHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXQgPSBmdW5jdGlvbihkZWZpbml0aW9uKSB7CiAgICBpZiAoIWRlZmluaXRpb24ubmFtZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldpZGdldCBtdXN0IGhhdmUgYSBuYW1lIik7CiAgICB9CiAgICBpZiAoIWRlZmluaXRpb24udHlwZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldpZGdldCBtdXN0IGhhdmUgYSB0eXBlIik7CiAgICB9CiAgICAvLyBDdXJyZW50bHkgd2Ugb25seSBzdXBwb3J0IG91dHB1dCB3aWRnZXRzCiAgICBpZiAoZGVmaW5pdGlvbi50eXBlICE9PSAib3V0cHV0IikgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIlVucmVjb2duaXplZCB3aWRnZXQgdHlwZSAnIiArIGRlZmluaXRpb24udHlwZSArICInIik7CiAgICB9CiAgICAvLyBUT0RPOiBWZXJpZnkgdGhhdCAubmFtZSBpcyBhIHZhbGlkIENTUyBjbGFzc25hbWUKCiAgICAvLyBTdXBwb3J0IG5ldy1zdHlsZSBpbnN0YW5jZS1ib3VuZCBkZWZpbml0aW9ucy4gT2xkLXN0eWxlIGNsYXNzLWJvdW5kCiAgICAvLyBkZWZpbml0aW9ucyBoYXZlIG9uZSB3aWRnZXQgIm9iamVjdCIgcGVyIHdpZGdldCBwZXIgdHlwZS9jbGFzcyBvZgogICAgLy8gd2lkZ2V0OyB0aGUgcmVuZGVyVmFsdWUgYW5kIHJlc2l6ZSBtZXRob2RzIG9uIHN1Y2ggd2lkZ2V0IG9iamVjdHMKICAgIC8vIHRha2UgZWwgYW5kIGluc3RhbmNlIGFyZ3VtZW50cywgYmVjYXVzZSB0aGUgd2lkZ2V0IG9iamVjdCBjYW4ndAogICAgLy8gc3RvcmUgdGhlbS4gTmV3LXN0eWxlIGluc3RhbmNlLWJvdW5kIGRlZmluaXRpb25zIGhhdmUgb25lIHdpZGdldAogICAgLy8gb2JqZWN0IHBlciB3aWRnZXQgaW5zdGFuY2U7IHRoZSBkZWZpbml0aW9uIHRoYXQncyBwYXNzZWQgaW4gZG9lc24ndAogICAgLy8gcHJvdmlkZSByZW5kZXJWYWx1ZSBvciByZXNpemUgbWV0aG9kcyBhdCBhbGwsIGp1c3QgdGhlIHNpbmdsZSBtZXRob2QKICAgIC8vICAgZmFjdG9yeShlbCwgd2lkdGgsIGhlaWdodCkKICAgIC8vIHdoaWNoIHJldHVybnMgYW4gb2JqZWN0IHRoYXQgaGFzIHJlbmRlclZhbHVlKHgpIGFuZCByZXNpemUodywgaCkuCiAgICAvLyBUaGlzIGVuYWJsZXMgYSBmYXIgbW9yZSBuYXR1cmFsIHByb2dyYW1taW5nIHN0eWxlIGZvciB0aGUgd2lkZ2V0CiAgICAvLyBhdXRob3IsIHdobyBjYW4gc3RvcmUgcGVyLWluc3RhbmNlIHN0YXRlIHVzaW5nIGVpdGhlciBPTy1zdHlsZQogICAgLy8gaW5zdGFuY2UgZmllbGRzIG9yIGZ1bmN0aW9uYWwtc3R5bGUgY2xvc3VyZSB2YXJpYWJsZXMgKEkgZ3Vlc3MgdGhpcwogICAgLy8gaXMgaW4gY29udHJhc3QgdG8gd2hhdCBjYW4gb25seSBiZSBjYWxsZWQgQy1zdHlsZSBwc2V1ZG8tT08gd2hpY2ggaXMKICAgIC8vIHdoYXQgd2UgcmVxdWlyZWQgYmVmb3JlKS4KICAgIGlmIChkZWZpbml0aW9uLmZhY3RvcnkpIHsKICAgICAgZGVmaW5pdGlvbiA9IGNyZWF0ZUxlZ2FjeURlZmluaXRpb25BZGFwdGVyKGRlZmluaXRpb24pOwogICAgfQoKICAgIGlmICghZGVmaW5pdGlvbi5yZW5kZXJWYWx1ZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldpZGdldCBtdXN0IGhhdmUgYSByZW5kZXJWYWx1ZSBmdW5jdGlvbiIpOwogICAgfQoKICAgIC8vIEZvciBzdGF0aWMgcmVuZGVyaW5nIChub24tU2hpbnkpLCB1c2UgYSBzaW1wbGUgd2lkZ2V0IHJlZ2lzdHJhdGlvbgogICAgLy8gc2NoZW1lLiBXZSBhbHNvIHVzZSB0aGlzIHNjaGVtZSBmb3IgU2hpbnkgYXBwcy9kb2N1bWVudHMgdGhhdCBhbHNvCiAgICAvLyBjb250YWluIHN0YXRpYyB3aWRnZXRzLgogICAgd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMgPSB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cyB8fCBbXTsKICAgIC8vIE1lcmdlIGRlZmF1bHRzIGludG8gdGhlIGRlZmluaXRpb247IGRvbid0IG11dGF0ZSB0aGUgb3JpZ2luYWwgZGVmaW5pdGlvbi4KICAgIHZhciBzdGF0aWNCaW5kaW5nID0gZXh0ZW5kKHt9LCBkZWZhdWx0cywgZGVmaW5pdGlvbik7CiAgICBvdmVycmlkZU1ldGhvZChzdGF0aWNCaW5kaW5nLCAiZmluZCIsIGZ1bmN0aW9uKHN1cGVyZnVuYykgewogICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUpIHsKICAgICAgICB2YXIgcmVzdWx0cyA9IHN1cGVyZnVuYyhzY29wZSk7CiAgICAgICAgLy8gRmlsdGVyIG91dCBTaGlueSBvdXRwdXRzLCB3ZSBvbmx5IHdhbnQgdGhlIHN0YXRpYyBraW5kCiAgICAgICAgcmV0dXJuIGZpbHRlckJ5Q2xhc3MocmVzdWx0cywgImh0bWwtd2lkZ2V0LW91dHB1dCIsIGZhbHNlKTsKICAgICAgfTsKICAgIH0pOwogICAgd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMucHVzaChzdGF0aWNCaW5kaW5nKTsKCiAgICBpZiAoc2hpbnlNb2RlKSB7CiAgICAgIC8vIFNoaW55IGlzIHJ1bm5pbmcuIFJlZ2lzdGVyIHRoZSBkZWZpbml0aW9uIHdpdGggYW4gb3V0cHV0IGJpbmRpbmcuCiAgICAgIC8vIFRoZSBkZWZpbml0aW9uIGl0c2VsZiB3aWxsIG5vdCBiZSB0aGUgb3V0cHV0IGJpbmRpbmcsIGluc3RlYWQKICAgICAgLy8gd2Ugd2lsbCBtYWtlIGFuIG91dHB1dCBiaW5kaW5nIG9iamVjdCB0aGF0IGRlbGVnYXRlcyB0byB0aGUKICAgICAgLy8gZGVmaW5pdGlvbi4gVGhpcyBpcyBiZWNhdXNlIHdlIGZvb2xpc2hseSB1c2VkIHRoZSBzYW1lIG1ldGhvZAogICAgICAvLyBuYW1lIChyZW5kZXJWYWx1ZSkgZm9yIGh0bWx3aWRnZXRzIGRlZmluaXRpb24gYW5kIFNoaW55IGJpbmRpbmdzCiAgICAgIC8vIGJ1dCB0aGV5IGFjdHVhbGx5IGhhdmUgcXVpdGUgZGlmZmVyZW50IHNlbWFudGljcyAodGhlIFNoaW55CiAgICAgIC8vIGJpbmRpbmdzIHJlY2VpdmUgZGF0YSB0aGF0IGluY2x1ZGVzIGxvdHMgb2YgbWV0YWRhdGEgdGhhdCBpdAogICAgICAvLyBzdHJpcHMgb2ZmIGJlZm9yZSBjYWxsaW5nIGh0bWx3aWRnZXRzIHJlbmRlclZhbHVlKS4gV2UgY2FuJ3QKICAgICAgLy8ganVzdCBpZ25vcmUgdGhlIGRpZmZlcmVuY2UgYmVjYXVzZSBpbiBzb21lIHdpZGdldHMgaXQncyBoZWxwZnVsCiAgICAgIC8vIHRvIGNhbGwgdGhpcy5yZW5kZXJWYWx1ZSgpIGZyb20gaW5zaWRlIG9mIHJlc2l6ZSgpLCBhbmQgaWYKICAgICAgLy8gd2UncmUgbm90IGRlbGVnYXRpbmcsIHRoZW4gdGhhdCBjYWxsIHdpbGwgZ28gdG8gdGhlIFNoaW55CiAgICAgIC8vIHZlcnNpb24gaW5zdGVhZCBvZiB0aGUgaHRtbHdpZGdldHMgdmVyc2lvbi4KCiAgICAgIC8vIE1lcmdlIGRlZmF1bHRzIHdpdGggZGVmaW5pdGlvbiwgd2l0aG91dCBtdXRhdGluZyBlaXRoZXIuCiAgICAgIHZhciBiaW5kaW5nRGVmID0gZXh0ZW5kKHt9LCBkZWZhdWx0cywgZGVmaW5pdGlvbik7CgogICAgICAvLyBUaGlzIG9iamVjdCB3aWxsIGJlIG91ciBhY3R1YWwgU2hpbnkgYmluZGluZy4KICAgICAgdmFyIHNoaW55QmluZGluZyA9IG5ldyBTaGlueS5PdXRwdXRCaW5kaW5nKCk7CgogICAgICAvLyBXaXRoIGEgZmV3IGV4Y2VwdGlvbnMsIHdlJ2xsIHdhbnQgdG8gc2ltcGx5IHVzZSB0aGUgYmluZGluZ0RlZidzCiAgICAgIC8vIHZlcnNpb24gb2YgbWV0aG9kcyBpZiB0aGV5IGFyZSBhdmFpbGFibGUsIG90aGVyd2lzZSBmYWxsIGJhY2sgdG8KICAgICAgLy8gU2hpbnkncyBkZWZhdWx0cy4gTk9URTogSWYgU2hpbnkncyBvdXRwdXQgYmluZGluZ3MgZ2FpbiBhZGRpdGlvbmFsCiAgICAgIC8vIG1ldGhvZHMgaW4gdGhlIGZ1dHVyZSwgYW5kIHdlIHdhbnQgdGhlbSB0byBiZSBvdmVycmlkZWFibGUgYnkKICAgICAgLy8gSFRNTFdpZGdldCBiaW5kaW5nIGRlZmluaXRpb25zLCB0aGVuIHdlJ2xsIG5lZWQgdG8gYWRkIHRoZW0gdG8gdGhpcwogICAgICAvLyBsaXN0LgogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJnZXRJZCIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJvblZhbHVlQ2hhbmdlIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgIm9uVmFsdWVFcnJvciIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJyZW5kZXJFcnJvciIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJjbGVhckVycm9yIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgInNob3dQcm9ncmVzcyIpOwoKICAgICAgLy8gVGhlIGZpbmQsIHJlbmRlclZhbHVlLCBhbmQgcmVzaXplIGFyZSBoYW5kbGVkIGRpZmZlcmVudGx5LCBiZWNhdXNlIHdlCiAgICAgIC8vIHdhbnQgdG8gYWN0dWFsbHkgZGVjb3JhdGUgdGhlIGJlaGF2aW9yIG9mIHRoZSBiaW5kaW5nRGVmIG1ldGhvZHMuCgogICAgICBzaGlueUJpbmRpbmcuZmluZCA9IGZ1bmN0aW9uKHNjb3BlKSB7CiAgICAgICAgdmFyIHJlc3VsdHMgPSBiaW5kaW5nRGVmLmZpbmQoc2NvcGUpOwoKICAgICAgICAvLyBPbmx5IHJldHVybiBlbGVtZW50cyB0aGF0IGFyZSBTaGlueSBvdXRwdXRzLCBub3Qgc3RhdGljIG9uZXMKICAgICAgICB2YXIgZHluYW1pY1Jlc3VsdHMgPSByZXN1bHRzLmZpbHRlcigiLmh0bWwtd2lkZ2V0LW91dHB1dCIpOwoKICAgICAgICAvLyBJdCdzIHBvc3NpYmxlIHRoYXQgd2hhdGV2ZXIgY2F1c2VkIFNoaW55IHRvIHRoaW5rIHRoZXJlIG1pZ2h0IGJlCiAgICAgICAgLy8gbmV3IGR5bmFtaWMgb3V0cHV0cywgYWxzbyBjYXVzZWQgdGhlcmUgdG8gYmUgbmV3IHN0YXRpYyBvdXRwdXRzLgogICAgICAgIC8vIFNpbmNlIHRoZXJlIG1pZ2h0IGJlIGxvdHMgb2YgZGlmZmVyZW50IGh0bWx3aWRnZXRzIGJpbmRpbmdzLCB3ZQogICAgICAgIC8vIHNjaGVkdWxlIGV4ZWN1dGlvbiBmb3IgbGF0ZXItLW5vIG5lZWQgdG8gc3RhdGljUmVuZGVyIG11bHRpcGxlCiAgICAgICAgLy8gdGltZXMuCiAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoICE9PSBkeW5hbWljUmVzdWx0cy5sZW5ndGgpCiAgICAgICAgICBzY2hlZHVsZVN0YXRpY1JlbmRlcigpOwoKICAgICAgICByZXR1cm4gZHluYW1pY1Jlc3VsdHM7CiAgICAgIH07CgogICAgICAvLyBXcmFwIHJlbmRlclZhbHVlIHRvIGhhbmRsZSBpbml0aWFsaXphdGlvbiwgd2hpY2ggdW5mb3J0dW5hdGVseSBpc24ndAogICAgICAvLyBzdXBwb3J0ZWQgbmF0aXZlbHkgYnkgU2hpbnkgYXQgdGhlIHRpbWUgb2YgdGhpcyB3cml0aW5nLgoKICAgICAgc2hpbnlCaW5kaW5nLnJlbmRlclZhbHVlID0gZnVuY3Rpb24oZWwsIGRhdGEpIHsKICAgICAgICBTaGlueS5yZW5kZXJEZXBlbmRlbmNpZXMoZGF0YS5kZXBzKTsKICAgICAgICAvLyBSZXNvbHZlIHN0cmluZ3MgbWFya2VkIGFzIGphdmFzY3JpcHQgbGl0ZXJhbHMgdG8gb2JqZWN0cwogICAgICAgIGlmICghKGRhdGEuZXZhbHMgaW5zdGFuY2VvZiBBcnJheSkpIGRhdGEuZXZhbHMgPSBbZGF0YS5ldmFsc107CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGRhdGEuZXZhbHMgJiYgaSA8IGRhdGEuZXZhbHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5ldmFsdWF0ZVN0cmluZ01lbWJlcihkYXRhLngsIGRhdGEuZXZhbHNbaV0pOwogICAgICAgIH0KICAgICAgICBpZiAoIWJpbmRpbmdEZWYucmVuZGVyT25OdWxsVmFsdWUpIHsKICAgICAgICAgIGlmIChkYXRhLnggPT09IG51bGwpIHsKICAgICAgICAgICAgZWwuc3R5bGUudmlzaWJpbGl0eSA9ICJoaWRkZW4iOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBlbC5zdHlsZS52aXNpYmlsaXR5ID0gImluaGVyaXQiOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoIWVsZW1lbnREYXRhKGVsLCAiaW5pdGlhbGl6ZWQiKSkgewogICAgICAgICAgaW5pdFNpemluZyhlbCk7CgogICAgICAgICAgZWxlbWVudERhdGEoZWwsICJpbml0aWFsaXplZCIsIHRydWUpOwogICAgICAgICAgaWYgKGJpbmRpbmdEZWYuaW5pdGlhbGl6ZSkgewogICAgICAgICAgICB2YXIgcmVzdWx0ID0gYmluZGluZ0RlZi5pbml0aWFsaXplKGVsLCBlbC5vZmZzZXRXaWR0aCwKICAgICAgICAgICAgICBlbC5vZmZzZXRIZWlnaHQpOwogICAgICAgICAgICBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IiwgcmVzdWx0KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgYmluZGluZ0RlZi5yZW5kZXJWYWx1ZShlbCwgZGF0YS54LCBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IikpOwogICAgICAgIGV2YWxBbmRSdW4oZGF0YS5qc0hvb2tzLnJlbmRlciwgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpLCBbZWwsIGRhdGEueF0pOwogICAgICB9OwoKICAgICAgLy8gT25seSBvdmVycmlkZSByZXNpemUgaWYgYmluZGluZ0RlZiBpbXBsZW1lbnRzIGl0CiAgICAgIGlmIChiaW5kaW5nRGVmLnJlc2l6ZSkgewogICAgICAgIHNoaW55QmluZGluZy5yZXNpemUgPSBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCkgewogICAgICAgICAgLy8gU2hpbnkgY2FuIGNhbGwgcmVzaXplIGJlZm9yZSBpbml0aWFsaXplL3JlbmRlclZhbHVlIGhhdmUgYmVlbgogICAgICAgICAgLy8gY2FsbGVkLCB3aGljaCBkb2Vzbid0IG1ha2Ugc2Vuc2UgZm9yIHdpZGdldHMuCiAgICAgICAgICBpZiAoZWxlbWVudERhdGEoZWwsICJpbml0aWFsaXplZCIpKSB7CiAgICAgICAgICAgIGJpbmRpbmdEZWYucmVzaXplKGVsLCB3aWR0aCwgaGVpZ2h0LCBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IikpOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIFNoaW55Lm91dHB1dEJpbmRpbmdzLnJlZ2lzdGVyKHNoaW55QmluZGluZywgYmluZGluZ0RlZi5uYW1lKTsKICAgIH0KICB9OwoKICB2YXIgc2NoZWR1bGVTdGF0aWNSZW5kZXJUaW1lcklkID0gbnVsbDsKICBmdW5jdGlvbiBzY2hlZHVsZVN0YXRpY1JlbmRlcigpIHsKICAgIGlmICghc2NoZWR1bGVTdGF0aWNSZW5kZXJUaW1lcklkKSB7CiAgICAgIHNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgc2NoZWR1bGVTdGF0aWNSZW5kZXJUaW1lcklkID0gbnVsbDsKICAgICAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7CiAgICAgIH0sIDEpOwogICAgfQogIH0KCiAgLy8gUmVuZGVyIHN0YXRpYyB3aWRnZXRzIGFmdGVyIHRoZSBkb2N1bWVudCBmaW5pc2hlcyBsb2FkaW5nCiAgLy8gU3RhdGljYWxseSByZW5kZXIgYWxsIGVsZW1lbnRzIHRoYXQgYXJlIG9mIHRoaXMgd2lkZ2V0J3MgY2xhc3MKICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgYmluZGluZ3MgPSB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cyB8fCBbXTsKICAgIGZvckVhY2goYmluZGluZ3MsIGZ1bmN0aW9uKGJpbmRpbmcpIHsKICAgICAgdmFyIG1hdGNoZXMgPSBiaW5kaW5nLmZpbmQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTsKICAgICAgZm9yRWFjaChtYXRjaGVzLCBmdW5jdGlvbihlbCkgewogICAgICAgIHZhciBzaXplT2JqID0gaW5pdFNpemluZyhlbCwgYmluZGluZyk7CgogICAgICAgIGlmIChoYXNDbGFzcyhlbCwgImh0bWwtd2lkZ2V0LXN0YXRpYy1ib3VuZCIpKQogICAgICAgICAgcmV0dXJuOwogICAgICAgIGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZSArICIgaHRtbC13aWRnZXQtc3RhdGljLWJvdW5kIjsKCiAgICAgICAgdmFyIGluaXRSZXN1bHQ7CiAgICAgICAgaWYgKGJpbmRpbmcuaW5pdGlhbGl6ZSkgewogICAgICAgICAgaW5pdFJlc3VsdCA9IGJpbmRpbmcuaW5pdGlhbGl6ZShlbCwKICAgICAgICAgICAgc2l6ZU9iaiA/IHNpemVPYmouZ2V0V2lkdGgoKSA6IGVsLm9mZnNldFdpZHRoLAogICAgICAgICAgICBzaXplT2JqID8gc2l6ZU9iai5nZXRIZWlnaHQoKSA6IGVsLm9mZnNldEhlaWdodAogICAgICAgICAgKTsKICAgICAgICAgIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiLCBpbml0UmVzdWx0KTsKICAgICAgICB9CgogICAgICAgIGlmIChiaW5kaW5nLnJlc2l6ZSkgewogICAgICAgICAgdmFyIGxhc3RTaXplID0gewogICAgICAgICAgICB3OiBzaXplT2JqID8gc2l6ZU9iai5nZXRXaWR0aCgpIDogZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgIGg6IHNpemVPYmogPyBzaXplT2JqLmdldEhlaWdodCgpIDogZWwub2Zmc2V0SGVpZ2h0CiAgICAgICAgICB9OwogICAgICAgICAgdmFyIHJlc2l6ZUhhbmRsZXIgPSBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIHZhciBzaXplID0gewogICAgICAgICAgICAgIHc6IHNpemVPYmogPyBzaXplT2JqLmdldFdpZHRoKCkgOiBlbC5vZmZzZXRXaWR0aCwKICAgICAgICAgICAgICBoOiBzaXplT2JqID8gc2l6ZU9iai5nZXRIZWlnaHQoKSA6IGVsLm9mZnNldEhlaWdodAogICAgICAgICAgICB9OwogICAgICAgICAgICBpZiAoc2l6ZS53ID09PSAwICYmIHNpemUuaCA9PT0gMCkKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGlmIChzaXplLncgPT09IGxhc3RTaXplLncgJiYgc2l6ZS5oID09PSBsYXN0U2l6ZS5oKQogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgbGFzdFNpemUgPSBzaXplOwogICAgICAgICAgICBiaW5kaW5nLnJlc2l6ZShlbCwgc2l6ZS53LCBzaXplLmgsIGluaXRSZXN1bHQpOwogICAgICAgICAgfTsKCiAgICAgICAgICBvbih3aW5kb3csICJyZXNpemUiLCByZXNpemVIYW5kbGVyKTsKCiAgICAgICAgICAvLyBUaGlzIGlzIG5lZWRlZCBmb3IgY2FzZXMgd2hlcmUgd2UncmUgcnVubmluZyBpbiBhIFNoaW55CiAgICAgICAgICAvLyBhcHAsIGJ1dCB0aGUgd2lkZ2V0IGl0c2VsZiBpcyBub3QgYSBTaGlueSBvdXRwdXQsIGJ1dAogICAgICAgICAgLy8gcmF0aGVyIGEgc2ltcGxlIHN0YXRpYyB3aWRnZXQuIE9uZSBleGFtcGxlIG9mIHRoaXMgaXMKICAgICAgICAgIC8vIGFuIHJtYXJrZG93biBkb2N1bWVudCB0aGF0IGhhcyBydW50aW1lOnNoaW55IGFuZCB3aWRnZXQKICAgICAgICAgIC8vIHRoYXQgaXNuJ3QgaW4gYSByZW5kZXIgZnVuY3Rpb24uIFNoaW55IG9ubHkga25vd3MgdG8KICAgICAgICAgIC8vIGNhbGwgcmVzaXplIGhhbmRsZXJzIGZvciBTaGlueSBvdXRwdXRzLCBub3QgZm9yIHN0YXRpYwogICAgICAgICAgLy8gd2lkZ2V0cywgc28gd2UgZG8gaXQgb3Vyc2VsdmVzLgogICAgICAgICAgaWYgKHdpbmRvdy5qUXVlcnkpIHsKICAgICAgICAgICAgd2luZG93LmpRdWVyeShkb2N1bWVudCkub24oCiAgICAgICAgICAgICAgInNob3duLmh0bWx3aWRnZXRzIHNob3duLmJzLnRhYi5odG1sd2lkZ2V0cyBzaG93bi5icy5jb2xsYXBzZS5odG1sd2lkZ2V0cyIsCiAgICAgICAgICAgICAgcmVzaXplSGFuZGxlcgogICAgICAgICAgICApOwogICAgICAgICAgICB3aW5kb3cualF1ZXJ5KGRvY3VtZW50KS5vbigKICAgICAgICAgICAgICAiaGlkZGVuLmh0bWx3aWRnZXRzIGhpZGRlbi5icy50YWIuaHRtbHdpZGdldHMgaGlkZGVuLmJzLmNvbGxhcHNlLmh0bWx3aWRnZXRzIiwKICAgICAgICAgICAgICByZXNpemVIYW5kbGVyCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gVGhpcyBpcyBuZWVkZWQgZm9yIHRoZSBzcGVjaWZpYyBjYXNlIG9mIGlvc2xpZGVzLCB3aGljaAogICAgICAgICAgLy8gZmxpcHMgc2xpZGVzIGJldHdlZW4gZGlzcGxheTpub25lIGFuZCBkaXNwbGF5OmJsb2NrLgogICAgICAgICAgLy8gSWRlYWxseSB3ZSB3b3VsZCBub3QgaGF2ZSB0byBoYXZlIGlvc2xpZGUtc3BlY2lmaWMgY29kZQogICAgICAgICAgLy8gaGVyZSwgYnV0IHJhdGhlciBoYXZlIGlvc2xpZGVzIHJhaXNlIGEgZ2VuZXJpYyBldmVudCwKICAgICAgICAgIC8vIGJ1dCB0aGUgcm1hcmtkb3duIHBhY2thZ2UganVzdCB3ZW50IHRvIENSQU4gc28gdGhlCiAgICAgICAgICAvLyB3aW5kb3cgdG8gZ2V0dGluZyB0aGF0IGZpeGVkIG1heSBiZSBsb25nLgogICAgICAgICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgICAgICAgIC8vIEl0J3MgT0sgdG8gbGltaXQgdGhpcyB0byB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcgogICAgICAgICAgICAvLyBicm93c2VycyBiZWNhdXNlIGlvc2xpZGVzIGl0c2VsZiBvbmx5IHN1cHBvcnRzCiAgICAgICAgICAgIC8vIHN1Y2ggYnJvd3NlcnMuCiAgICAgICAgICAgIG9uKGRvY3VtZW50LCAic2xpZGVlbnRlciIsIHJlc2l6ZUhhbmRsZXIpOwogICAgICAgICAgICBvbihkb2N1bWVudCwgInNsaWRlbGVhdmUiLCByZXNpemVIYW5kbGVyKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBzY3JpcHREYXRhID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vanNvbiddIik7CiAgICAgICAgaWYgKHNjcmlwdERhdGEpIHsKICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShzY3JpcHREYXRhLnRleHRDb250ZW50IHx8IHNjcmlwdERhdGEudGV4dCk7CiAgICAgICAgICAvLyBSZXNvbHZlIHN0cmluZ3MgbWFya2VkIGFzIGphdmFzY3JpcHQgbGl0ZXJhbHMgdG8gb2JqZWN0cwogICAgICAgICAgaWYgKCEoZGF0YS5ldmFscyBpbnN0YW5jZW9mIEFycmF5KSkgZGF0YS5ldmFscyA9IFtkYXRhLmV2YWxzXTsKICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBkYXRhLmV2YWxzICYmIGsgPCBkYXRhLmV2YWxzLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5ldmFsdWF0ZVN0cmluZ01lbWJlcihkYXRhLngsIGRhdGEuZXZhbHNba10pOwogICAgICAgICAgfQogICAgICAgICAgYmluZGluZy5yZW5kZXJWYWx1ZShlbCwgZGF0YS54LCBpbml0UmVzdWx0KTsKICAgICAgICAgIGV2YWxBbmRSdW4oZGF0YS5qc0hvb2tzLnJlbmRlciwgaW5pdFJlc3VsdCwgW2VsLCBkYXRhLnhdKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CgogICAgaW52b2tlUG9zdFJlbmRlckhhbmRsZXJzKCk7CiAgfQoKCiAgZnVuY3Rpb24gaGFzX2pRdWVyeTMoKSB7CiAgICBpZiAoIXdpbmRvdy5qUXVlcnkpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgdmFyICR2ZXJzaW9uID0gd2luZG93LmpRdWVyeS5mbi5qcXVlcnk7CiAgICB2YXIgJG1ham9yX3ZlcnNpb24gPSBwYXJzZUludCgkdmVyc2lvbi5zcGxpdCgiLiIpWzBdKTsKICAgIHJldHVybiAkbWFqb3JfdmVyc2lvbiA+PSAzOwogIH0KCiAgLyoKICAvIFNoaW55IDEuNCBidW1wZWQgalF1ZXJ5IGZyb20gMS54IHRvIDMueCB3aGljaCBtZWFucyBqUXVlcnkncwogIC8gb24tcmVhZHkgaGFuZGxlciAoaS5lLiwgJChmbikpIGlzIG5vdyBhc3luY3Jvbm91cyAoaS5lLiwgaXQgbm93CiAgLyByZWFsbHkgbWVhbnMgJChzZXRUaW1lb3V0KGZuKSkuCiAgLyBodHRwczovL2pxdWVyeS5jb20vdXBncmFkZS1ndWlkZS8zLjAvI2JyZWFraW5nLWNoYW5nZS1kb2N1bWVudC1yZWFkeS1oYW5kbGVycy1hcmUtbm93LWFzeW5jaHJvbm91cwogIC8KICAvIFNpbmNlIFNoaW55IHVzZXMgJCgpIHRvIHNjaGVkdWxlIGluaXRTaGlueSwgc2hpbnk+PTEuNCBjYWxscyBpbml0U2hpbnkKICAvIG9uZSB0aWNrIGxhdGVyIHRoYW4gaXQgZGlkIGJlZm9yZSwgd2hpY2ggbWVhbnMgc3RhdGljUmVuZGVyKCkgaXMKICAvIGNhbGxlZCByZW5kZXJWYWx1ZSgpIGVhcmxpZXIgdGhhbiAoYWR2YW5jZWQpIHdpZGdldCBhdXRob3JzIG1pZ2h0IGJlIGV4cGVjdGluZy4KICAvIGh0dHBzOi8vZ2l0aHViLmNvbS9yc3R1ZGlvL3NoaW55L2lzc3Vlcy8yNjMwCiAgLwogIC8gRm9yIGEgY29uY3JldGUgZXhhbXBsZSwgbGVhZmxldCBoYXMgc29tZSBtZXRob2RzIChlLmcuLCB1cGRhdGVCb3VuZHMpCiAgLyB3aGljaCByZWZlcmVuY2UgU2hpbnkgbWV0aG9kcyByZWdpc3RlcmVkIGluIGluaXRTaGlueSAoZS5nLiwgc2V0SW5wdXRWYWx1ZSkuCiAgLyBTaW5jZSBsZWFmbGV0IGlzIHByaXZ5IHRvIHRoaXMgbGlmZS1jeWNsZSwgaXQga25vd3MgdG8gdXNlIHNldFRpbWVvdXQoKSB0bwogIC8gZGVsYXkgZXhlY3V0aW9uIG9mIHRob3NlIG1ldGhvZHMgKHVudGlsIFNoaW55IG1ldGhvZHMgYXJlIHJlYWR5KQogIC8gaHR0cHM6Ly9naXRodWIuY29tL3JzdHVkaW8vbGVhZmxldC9ibG9iLzE4ZWM5ODEvamF2YXNjcmlwdC9zcmMvaW5kZXguanMjTDI2Ni1MMjY4CiAgLwogIC8gSWRlYWxseSB3aWRnZXQgYXV0aG9ycyB3b3VsZG4ndCBuZWVkIHRvIHVzZSB0aGlzIHNldFRpbWVvdXQoKSBoYWNrIHRoYXQKICAvIGxlYWZsZXQgdXNlcyB0byBjYWxsIFNoaW55IG1ldGhvZHMgb24gYSBzdGF0aWNSZW5kZXIoKS4gSW4gdGhlIGxvbmcgcnVuLAogIC8gdGhlIGxvZ2ljIGluaXRTaGlueSBzaG91bGQgYmUgYnJva2VuIHVwIHNvIHRoYXQgbWV0aG9kIHJlZ2lzdHJhdGlvbiBoYXBwZW5zCiAgLyByaWdodCBhd2F5LCBidXQgYmluZGluZyBoYXBwZW5zIGxhdGVyLgogICovCiAgZnVuY3Rpb24gbWF5YmVTdGF0aWNSZW5kZXJMYXRlcigpIHsKICAgIGlmIChzaGlueU1vZGUgJiYgaGFzX2pRdWVyeTMoKSkgewogICAgICB3aW5kb3cualF1ZXJ5KHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIpOwogICAgfSBlbHNlIHsKICAgICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpOwogICAgfQogIH0KCiAgaWYgKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBmdW5jdGlvbigpIHsKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIGFyZ3VtZW50cy5jYWxsZWUsIGZhbHNlKTsKICAgICAgbWF5YmVTdGF0aWNSZW5kZXJMYXRlcigpOwogICAgfSwgZmFsc2UpOwogIH0gZWxzZSBpZiAoZG9jdW1lbnQuYXR0YWNoRXZlbnQpIHsKICAgIGRvY3VtZW50LmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICJjb21wbGV0ZSIpIHsKICAgICAgICBkb2N1bWVudC5kZXRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIiwgYXJndW1lbnRzLmNhbGxlZSk7CiAgICAgICAgbWF5YmVTdGF0aWNSZW5kZXJMYXRlcigpOwogICAgICB9CiAgICB9KTsKICB9CgoKICB3aW5kb3cuSFRNTFdpZGdldHMuZ2V0QXR0YWNobWVudFVybCA9IGZ1bmN0aW9uKGRlcG5hbWUsIGtleSkgewogICAgLy8gSWYgbm8ga2V5LCBkZWZhdWx0IHRvIHRoZSBmaXJzdCBpdGVtCiAgICBpZiAodHlwZW9mKGtleSkgPT09ICJ1bmRlZmluZWQiKQogICAgICBrZXkgPSAxOwoKICAgIHZhciBsaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGVwbmFtZSArICItIiArIGtleSArICItYXR0YWNobWVudCIpOwogICAgaWYgKCFsaW5rKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiQXR0YWNobWVudCAiICsgZGVwbmFtZSArICIvIiArIGtleSArICIgbm90IGZvdW5kIGluIGRvY3VtZW50Iik7CiAgICB9CiAgICByZXR1cm4gbGluay5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKICB9OwoKICB3aW5kb3cuSFRNTFdpZGdldHMuZGF0YWZyYW1lVG9EMyA9IGZ1bmN0aW9uKGRmKSB7CiAgICB2YXIgbmFtZXMgPSBbXTsKICAgIHZhciBsZW5ndGg7CiAgICBmb3IgKHZhciBuYW1lIGluIGRmKSB7CiAgICAgICAgaWYgKGRmLmhhc093blByb3BlcnR5KG5hbWUpKQogICAgICAgICAgICBuYW1lcy5wdXNoKG5hbWUpOwogICAgICAgIGlmICh0eXBlb2YoZGZbbmFtZV0pICE9PSAib2JqZWN0IiB8fCB0eXBlb2YoZGZbbmFtZV0ubGVuZ3RoKSA9PT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJBbGwgZmllbGRzIG11c3QgYmUgYXJyYXlzIik7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YobGVuZ3RoKSAhPT0gInVuZGVmaW5lZCIgJiYgbGVuZ3RoICE9PSBkZltuYW1lXS5sZW5ndGgpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJBbGwgZmllbGRzIG11c3QgYmUgYXJyYXlzIG9mIHRoZSBzYW1lIGxlbmd0aCIpOwogICAgICAgIH0KICAgICAgICBsZW5ndGggPSBkZltuYW1lXS5sZW5ndGg7CiAgICB9CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgdmFyIGl0ZW07CiAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCBsZW5ndGg7IHJvdysrKSB7CiAgICAgICAgaXRlbSA9IHt9OwogICAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IG5hbWVzLmxlbmd0aDsgY29sKyspIHsKICAgICAgICAgICAgaXRlbVtuYW1lc1tjb2xdXSA9IGRmW25hbWVzW2NvbF1dW3Jvd107CiAgICAgICAgfQogICAgICAgIHJlc3VsdHMucHVzaChpdGVtKTsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH07CgogIHdpbmRvdy5IVE1MV2lkZ2V0cy50cmFuc3Bvc2VBcnJheTJEID0gZnVuY3Rpb24oYXJyYXkpIHsKICAgICAgaWYgKGFycmF5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIGFycmF5OwogICAgICB2YXIgbmV3QXJyYXkgPSBhcnJheVswXS5tYXAoZnVuY3Rpb24oY29sLCBpKSB7CiAgICAgICAgICByZXR1cm4gYXJyYXkubWFwKGZ1bmN0aW9uKHJvdykgewogICAgICAgICAgICAgIHJldHVybiByb3dbaV0KICAgICAgICAgIH0pCiAgICAgIH0pOwogICAgICByZXR1cm4gbmV3QXJyYXk7CiAgfTsKICAvLyBTcGxpdCB2YWx1ZSBhdCBzcGxpdENoYXIsIGJ1dCBhbGxvdyBzcGxpdENoYXIgdG8gYmUgZXNjYXBlZAogIC8vIHVzaW5nIGVzY2FwZUNoYXIuIEFueSBvdGhlciBjaGFyYWN0ZXJzIGVzY2FwZWQgYnkgZXNjYXBlQ2hhcgogIC8vIHdpbGwgYmUgaW5jbHVkZWQgYXMgdXN1YWwgKGluY2x1ZGluZyBlc2NhcGVDaGFyIGl0c2VsZikuCiAgZnVuY3Rpb24gc3BsaXRXaXRoRXNjYXBlKHZhbHVlLCBzcGxpdENoYXIsIGVzY2FwZUNoYXIpIHsKICAgIHZhciByZXN1bHRzID0gW107CiAgICB2YXIgZXNjYXBlTW9kZSA9IGZhbHNlOwogICAgdmFyIGN1cnJlbnRSZXN1bHQgPSAiIjsKICAgIGZvciAodmFyIHBvcyA9IDA7IHBvcyA8IHZhbHVlLmxlbmd0aDsgcG9zKyspIHsKICAgICAgaWYgKCFlc2NhcGVNb2RlKSB7CiAgICAgICAgaWYgKHZhbHVlW3Bvc10gPT09IHNwbGl0Q2hhcikgewogICAgICAgICAgcmVzdWx0cy5wdXNoKGN1cnJlbnRSZXN1bHQpOwogICAgICAgICAgY3VycmVudFJlc3VsdCA9ICIiOwogICAgICAgIH0gZWxzZSBpZiAodmFsdWVbcG9zXSA9PT0gZXNjYXBlQ2hhcikgewogICAgICAgICAgZXNjYXBlTW9kZSA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN1cnJlbnRSZXN1bHQgKz0gdmFsdWVbcG9zXTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY3VycmVudFJlc3VsdCArPSB2YWx1ZVtwb3NdOwogICAgICAgIGVzY2FwZU1vZGUgPSBmYWxzZTsKICAgICAgfQogICAgfQogICAgaWYgKGN1cnJlbnRSZXN1bHQgIT09ICIiKSB7CiAgICAgIHJlc3VsdHMucHVzaChjdXJyZW50UmVzdWx0KTsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH0KICAvLyBGdW5jdGlvbiBhdXRob3JlZCBieSBZaWh1aS9KSiBBbGxhaXJlCiAgd2luZG93LkhUTUxXaWRnZXRzLmV2YWx1YXRlU3RyaW5nTWVtYmVyID0gZnVuY3Rpb24obywgbWVtYmVyKSB7CiAgICB2YXIgcGFydHMgPSBzcGxpdFdpdGhFc2NhcGUobWVtYmVyLCAnLicsICdcXCcpOwogICAgZm9yICh2YXIgaSA9IDAsIGwgPSBwYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tpXTsKICAgICAgLy8gcGFydCBtYXkgYmUgYSBjaGFyYWN0ZXIgb3IgJ251bWVyaWMnIG1lbWJlciBuYW1lCiAgICAgIGlmIChvICE9PSBudWxsICYmIHR5cGVvZiBvID09PSAib2JqZWN0IiAmJiBwYXJ0IGluIG8pIHsKICAgICAgICBpZiAoaSA9PSAobCAtIDEpKSB7IC8vIGlmIHdlIGFyZSBhdCB0aGUgZW5kIG9mIHRoZSBsaW5lIHRoZW4gZXZhbHVsYXRlCiAgICAgICAgICBpZiAodHlwZW9mIG9bcGFydF0gPT09ICJzdHJpbmciKQogICAgICAgICAgICBvW3BhcnRdID0gdHJ5RXZhbChvW3BhcnRdKTsKICAgICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2UgY29udGludWUgdG8gbmV4dCBlbWJlZGRlZCBvYmplY3QKICAgICAgICAgIG8gPSBvW3BhcnRdOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8vIFJldHJpZXZlIHRoZSBIVE1MV2lkZ2V0IGluc3RhbmNlIChpLmUuIHRoZSByZXR1cm4gdmFsdWUgb2YgYW4KICAvLyBIVE1MV2lkZ2V0IGJpbmRpbmcncyBpbml0aWFsaXplKCkgb3IgZmFjdG9yeSgpIGZ1bmN0aW9uKQogIC8vIGFzc29jaWF0ZWQgd2l0aCBhbiBlbGVtZW50LCBvciBudWxsIGlmIG5vbmUuCiAgd2luZG93LkhUTUxXaWRnZXRzLmdldEluc3RhbmNlID0gZnVuY3Rpb24oZWwpIHsKICAgIHJldHVybiBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0Iik7CiAgfTsKCiAgLy8gRmluZHMgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNjb3BlIHRoYXQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IsCiAgLy8gYW5kIHJldHVybnMgdGhlIEhUTUxXaWRnZXQgaW5zdGFuY2UgKGkuZS4gdGhlIHJldHVybiB2YWx1ZSBvZgogIC8vIGFuIEhUTUxXaWRnZXQgYmluZGluZydzIGluaXRpYWxpemUoKSBvciBmYWN0b3J5KCkgZnVuY3Rpb24pCiAgLy8gYXNzb2NpYXRlZCB3aXRoIHRoYXQgZWxlbWVudCwgaWYgYW55LiBJZiBubyBlbGVtZW50IG1hdGNoZXMgdGhlCiAgLy8gc2VsZWN0b3IsIG9yIHRoZSBmaXJzdCBtYXRjaGluZyBlbGVtZW50IGhhcyBubyBIVE1MV2lkZ2V0CiAgLy8gaW5zdGFuY2UgYXNzb2NpYXRlZCB3aXRoIGl0LCB0aGVuIG51bGwgaXMgcmV0dXJuZWQuCiAgLy8KICAvLyBUaGUgc2NvcGUgYXJndW1lbnQgaXMgb3B0aW9uYWwsIGFuZCBkZWZhdWx0cyB0byB3aW5kb3cuZG9jdW1lbnQuCiAgd2luZG93LkhUTUxXaWRnZXRzLmZpbmQgPSBmdW5jdGlvbihzY29wZSwgc2VsZWN0b3IpIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgc2VsZWN0b3IgPSBzY29wZTsKICAgICAgc2NvcGUgPSBkb2N1bWVudDsKICAgIH0KCiAgICB2YXIgZWwgPSBzY29wZS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsKICAgIGlmIChlbCA9PT0gbnVsbCkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB3aW5kb3cuSFRNTFdpZGdldHMuZ2V0SW5zdGFuY2UoZWwpOwogICAgfQogIH07CgogIC8vIEZpbmRzIGFsbCBlbGVtZW50cyBpbiB0aGUgc2NvcGUgdGhhdCBtYXRjaCB0aGUgc2VsZWN0b3IsIGFuZAogIC8vIHJldHVybnMgdGhlIEhUTUxXaWRnZXQgaW5zdGFuY2VzIChpLmUuIHRoZSByZXR1cm4gdmFsdWVzIG9mCiAgLy8gYW4gSFRNTFdpZGdldCBiaW5kaW5nJ3MgaW5pdGlhbGl6ZSgpIG9yIGZhY3RvcnkoKSBmdW5jdGlvbikKICAvLyBhc3NvY2lhdGVkIHdpdGggdGhlIGVsZW1lbnRzLCBpbiBhbiBhcnJheS4gSWYgZWxlbWVudHMgdGhhdAogIC8vIG1hdGNoIHRoZSBzZWxlY3RvciBkb24ndCBoYXZlIGFuIGFzc29jaWF0ZWQgSFRNTFdpZGdldAogIC8vIGluc3RhbmNlLCB0aGUgcmV0dXJuZWQgYXJyYXkgd2lsbCBjb250YWluIG51bGxzLgogIC8vCiAgLy8gVGhlIHNjb3BlIGFyZ3VtZW50IGlzIG9wdGlvbmFsLCBhbmQgZGVmYXVsdHMgdG8gd2luZG93LmRvY3VtZW50LgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5maW5kQWxsID0gZnVuY3Rpb24oc2NvcGUsIHNlbGVjdG9yKSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7CiAgICAgIHNlbGVjdG9yID0gc2NvcGU7CiAgICAgIHNjb3BlID0gZG9jdW1lbnQ7CiAgICB9CgogICAgdmFyIG5vZGVzID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykgewogICAgICByZXN1bHRzLnB1c2god2luZG93LkhUTUxXaWRnZXRzLmdldEluc3RhbmNlKG5vZGVzW2ldKSk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9OwoKICB2YXIgcG9zdFJlbmRlckhhbmRsZXJzID0gW107CiAgZnVuY3Rpb24gaW52b2tlUG9zdFJlbmRlckhhbmRsZXJzKCkgewogICAgd2hpbGUgKHBvc3RSZW5kZXJIYW5kbGVycy5sZW5ndGgpIHsKICAgICAgdmFyIGhhbmRsZXIgPSBwb3N0UmVuZGVySGFuZGxlcnMuc2hpZnQoKTsKICAgICAgaWYgKGhhbmRsZXIpIHsKICAgICAgICBoYW5kbGVyKCk7CiAgICAgIH0KICAgIH0KICB9CgogIC8vIFJlZ2lzdGVyIHRoZSBnaXZlbiBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBpbnZva2VkIGFmdGVyIHRoZQogIC8vIG5leHQgdGltZSBzdGF0aWMgd2lkZ2V0cyBhcmUgcmVuZGVyZWQuCiAgd2luZG93LkhUTUxXaWRnZXRzLmFkZFBvc3RSZW5kZXJIYW5kbGVyID0gZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgIHBvc3RSZW5kZXJIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTsKICB9OwoKICAvLyBUYWtlcyBhIG5ldy1zdHlsZSBpbnN0YW5jZS1ib3VuZCBkZWZpbml0aW9uLCBhbmQgcmV0dXJucyBhbgogIC8vIG9sZC1zdHlsZSBjbGFzcy1ib3VuZCBkZWZpbml0aW9uLiBUaGlzIHNhdmVzIHVzIGZyb20gaGF2aW5nCiAgLy8gdG8gcmV3cml0ZSBhbGwgdGhlIGxvZ2ljIGluIHRoaXMgZmlsZSB0byBhY2NvbW9kYXRlIGJvdGgKICAvLyB0eXBlcyBvZiBkZWZpbml0aW9ucy4KICBmdW5jdGlvbiBjcmVhdGVMZWdhY3lEZWZpbml0aW9uQWRhcHRlcihkZWZuKSB7CiAgICB2YXIgcmVzdWx0ID0gewogICAgICBuYW1lOiBkZWZuLm5hbWUsCiAgICAgIHR5cGU6IGRlZm4udHlwZSwKICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQpIHsKICAgICAgICByZXR1cm4gZGVmbi5mYWN0b3J5KGVsLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgfSwKICAgICAgcmVuZGVyVmFsdWU6IGZ1bmN0aW9uKGVsLCB4LCBpbnN0YW5jZSkgewogICAgICAgIHJldHVybiBpbnN0YW5jZS5yZW5kZXJWYWx1ZSh4KTsKICAgICAgfSwKICAgICAgcmVzaXplOiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCwgaW5zdGFuY2UpIHsKICAgICAgICByZXR1cm4gaW5zdGFuY2UucmVzaXplKHdpZHRoLCBoZWlnaHQpOwogICAgICB9CiAgICB9OwoKICAgIGlmIChkZWZuLmZpbmQpCiAgICAgIHJlc3VsdC5maW5kID0gZGVmbi5maW5kOwogICAgaWYgKGRlZm4ucmVuZGVyRXJyb3IpCiAgICAgIHJlc3VsdC5yZW5kZXJFcnJvciA9IGRlZm4ucmVuZGVyRXJyb3I7CiAgICBpZiAoZGVmbi5jbGVhckVycm9yKQogICAgICByZXN1bHQuY2xlYXJFcnJvciA9IGRlZm4uY2xlYXJFcnJvcjsKCiAgICByZXR1cm4gcmVzdWx0OwogIH0KfSkoKTsKCg=="></script>
<script src="data:application/javascript;base64,Ci8qCiogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZQoqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQoqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uCiogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQoqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUKKiAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlCiogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbgoqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQoqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQoqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMKKiB1bmRlciB0aGUgTGljZW5zZS4KKi8KCiFmdW5jdGlvbih0LGUpeyJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGU/ZShleHBvcnRzKToiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImV4cG9ydHMiXSxlKTplKCh0PSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOnR8fHNlbGYpLmVjaGFydHM9e30pfSh0aGlzLChmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uCgogICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55CiAgICBwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuCgogICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEgKICAgIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWQogICAgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULAogICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NCiAgICBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUgogICAgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUgogICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS4KICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovdmFyIGU9ZnVuY3Rpb24odCxuKXtyZXR1cm4oZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSl9KSh0LG4pfTtmdW5jdGlvbiBuKHQsbil7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIG4mJm51bGwhPT1uKXRocm93IG5ldyBUeXBlRXJyb3IoIkNsYXNzIGV4dGVuZHMgdmFsdWUgIitTdHJpbmcobikrIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsIik7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9dH1lKHQsbiksdC5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKTooaS5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IGkpfXZhciBpPWZ1bmN0aW9uKCl7dGhpcy5maXJlZm94PSExLHRoaXMuaWU9ITEsdGhpcy5lZGdlPSExLHRoaXMubmV3RWRnZT0hMSx0aGlzLndlQ2hhdD0hMX0scj1uZXcgZnVuY3Rpb24oKXt0aGlzLmJyb3dzZXI9bmV3IGksdGhpcy5ub2RlPSExLHRoaXMud3hhPSExLHRoaXMud29ya2VyPSExLHRoaXMuc3ZnU3VwcG9ydGVkPSExLHRoaXMudG91Y2hFdmVudHNTdXBwb3J0ZWQ9ITEsdGhpcy5wb2ludGVyRXZlbnRzU3VwcG9ydGVkPSExLHRoaXMuZG9tU3VwcG9ydGVkPSExLHRoaXMudHJhbnNmb3JtU3VwcG9ydGVkPSExLHRoaXMudHJhbnNmb3JtM2RTdXBwb3J0ZWQ9ITEsdGhpcy5oYXNHbG9iYWxXaW5kb3c9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3d9OyJvYmplY3QiPT10eXBlb2Ygd3gmJiJmdW5jdGlvbiI9PXR5cGVvZiB3eC5nZXRTeXN0ZW1JbmZvU3luYz8oci53eGE9ITAsci50b3VjaEV2ZW50c1N1cHBvcnRlZD0hMCk6InVuZGVmaW5lZCI9PXR5cGVvZiBkb2N1bWVudCYmInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3Iud29ya2VyPSEwOiJ1bmRlZmluZWQiPT10eXBlb2YgbmF2aWdhdG9yPyhyLm5vZGU9ITAsci5zdmdTdXBwb3J0ZWQ9ITApOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5icm93c2VyLGk9dC5tYXRjaCgvRmlyZWZveFwvKFtcZC5dKykvKSxyPXQubWF0Y2goL01TSUVccyhbXGQuXSspLyl8fHQubWF0Y2goL1RyaWRlbnRcLy4rP3J2OigoW1xkLl0rKSkvKSxvPXQubWF0Y2goL0VkZ2U/XC8oW1xkLl0rKS8pLGE9L21pY3JvbWVzc2VuZ2VyL2kudGVzdCh0KTtpJiYobi5maXJlZm94PSEwLG4udmVyc2lvbj1pWzFdKTtyJiYobi5pZT0hMCxuLnZlcnNpb249clsxXSk7byYmKG4uZWRnZT0hMCxuLnZlcnNpb249b1sxXSxuLm5ld0VkZ2U9K29bMV0uc3BsaXQoIi4iKVswXT4xOCk7YSYmKG4ud2VDaGF0PSEwKTtlLnN2Z1N1cHBvcnRlZD0idW5kZWZpbmVkIiE9dHlwZW9mIFNWR1JlY3QsZS50b3VjaEV2ZW50c1N1cHBvcnRlZD0ib250b3VjaHN0YXJ0ImluIHdpbmRvdyYmIW4uaWUmJiFuLmVkZ2UsZS5wb2ludGVyRXZlbnRzU3VwcG9ydGVkPSJvbnBvaW50ZXJkb3duImluIHdpbmRvdyYmKG4uZWRnZXx8bi5pZSYmK24udmVyc2lvbj49MTEpLGUuZG9tU3VwcG9ydGVkPSJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQ7dmFyIHM9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlO2UudHJhbnNmb3JtM2RTdXBwb3J0ZWQ9KG4uaWUmJiJ0cmFuc2l0aW9uImluIHN8fG4uZWRnZXx8IldlYktpdENTU01hdHJpeCJpbiB3aW5kb3cmJiJtMTEiaW4gbmV3IFdlYktpdENTU01hdHJpeHx8Ik1velBlcnNwZWN0aXZlImluIHMpJiYhKCJPVHJhbnNpdGlvbiJpbiBzKSxlLnRyYW5zZm9ybVN1cHBvcnRlZD1lLnRyYW5zZm9ybTNkU3VwcG9ydGVkfHxuLmllJiYrbi52ZXJzaW9uPj05fShuYXZpZ2F0b3IudXNlckFnZW50LHIpO3ZhciBvPSJzYW5zLXNlcmlmIixhPSIxMnB4IHNhbnMtc2VyaWYiO3ZhciBzLGwsdT1mdW5jdGlvbih0KXt2YXIgZT17fTtpZigidW5kZWZpbmVkIj09dHlwZW9mIEpTT04pcmV0dXJuIGU7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPVN0cmluZy5mcm9tQ2hhckNvZGUobiszMikscj0odC5jaGFyQ29kZUF0KG4pLTIwKS8xMDA7ZVtpXT1yfXJldHVybiBlfSgiMDA3TExtVyc1NTtOMDUwMExMTExMTExMTEwwME5OTkx6V1dcXFxcV1FiXFwwRldMZ1xcYldiXFxXUVxcV3JXV1EwMDBDTDVMTEZMTDBMTCoqRipnTExMTDVGMExGXFxGRkY1LjVOIiksaD17Y3JlYXRlQ2FudmFzOmZ1bmN0aW9uKCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIil9LG1lYXN1cmVUZXh0OmZ1bmN0aW9uKHQsZSl7aWYoIXMpe3ZhciBuPWguY3JlYXRlQ2FudmFzKCk7cz1uJiZuLmdldENvbnRleHQoIjJkIil9aWYocylyZXR1cm4gbCE9PWUmJihsPXMuZm9udD1lfHxhKSxzLm1lYXN1cmVUZXh0KHQpO3Q9dHx8IiI7dmFyIGk9L14oWzAtOV0qPylweCQvLmV4ZWMoZT1lfHxhKSxyPSsoaSYmaVsxXSl8fDEyLG89MDtpZihlLmluZGV4T2YoIm1vbm8iKT49MClvPXIqdC5sZW5ndGg7ZWxzZSBmb3IodmFyIGM9MDtjPHQubGVuZ3RoO2MrKyl7dmFyIHA9dVt0W2NdXTtvKz1udWxsPT1wP3I6cCpyfXJldHVybnt3aWR0aDpvfX0sbG9hZEltYWdlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uZXcgSW1hZ2U7cmV0dXJuIGkub25sb2FkPWUsaS5vbmVycm9yPW4saS5zcmM9dCxpfX07ZnVuY3Rpb24gYyh0KXtmb3IodmFyIGUgaW4gaCl0W2VdJiYoaFtlXT10W2VdKX12YXIgcD1WKFsiRnVuY3Rpb24iLCJSZWdFeHAiLCJEYXRlIiwiRXJyb3IiLCJDYW52YXNHcmFkaWVudCIsIkNhbnZhc1BhdHRlcm4iLCJJbWFnZSIsIkNhbnZhcyJdLChmdW5jdGlvbih0LGUpe3JldHVybiB0WyJbb2JqZWN0ICIrZSsiXSJdPSEwLHR9KSx7fSksZD1WKFsiSW50OCIsIlVpbnQ4IiwiVWludDhDbGFtcGVkIiwiSW50MTYiLCJVaW50MTYiLCJJbnQzMiIsIlVpbnQzMiIsIkZsb2F0MzIiLCJGbG9hdDY0Il0sKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbIltvYmplY3QgIitlKyJBcnJheV0iXT0hMCx0fSkse30pLGY9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxnPUFycmF5LnByb3RvdHlwZSx5PWcuZm9yRWFjaCx2PWcuZmlsdGVyLG09Zy5zbGljZSx4PWcubWFwLF89ZnVuY3Rpb24oKXt9LmNvbnN0cnVjdG9yLGI9Xz9fLnByb3RvdHlwZTpudWxsLHc9Il9fcHJvdG9fXyIsUz0yMzExO2Z1bmN0aW9uIE0oKXtyZXR1cm4gUysrfWZ1bmN0aW9uIEkoKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07InVuZGVmaW5lZCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLmVycm9yLmFwcGx5KGNvbnNvbGUsdCl9ZnVuY3Rpb24gVCh0KXtpZihudWxsPT10fHwib2JqZWN0IiE9dHlwZW9mIHQpcmV0dXJuIHQ7dmFyIGU9dCxuPWYuY2FsbCh0KTtpZigiW29iamVjdCBBcnJheV0iPT09bil7aWYoIXB0KHQpKXtlPVtdO2Zvcih2YXIgaT0wLHI9dC5sZW5ndGg7aTxyO2krKyllW2ldPVQodFtpXSl9fWVsc2UgaWYoZFtuXSl7aWYoIXB0KHQpKXt2YXIgbz10LmNvbnN0cnVjdG9yO2lmKG8uZnJvbSllPW8uZnJvbSh0KTtlbHNle2U9bmV3IG8odC5sZW5ndGgpO2ZvcihpPTAscj10Lmxlbmd0aDtpPHI7aSsrKWVbaV09dFtpXX19fWVsc2UgaWYoIXBbbl0mJiFwdCh0KSYmIUoodCkpZm9yKHZhciBhIGluIGU9e30sdCl0Lmhhc093blByb3BlcnR5KGEpJiZhIT09dyYmKGVbYV09VCh0W2FdKSk7cmV0dXJuIGV9ZnVuY3Rpb24gQyh0LGUsbil7aWYoIXEoZSl8fCFxKHQpKXJldHVybiBuP1QoZSk6dDtmb3IodmFyIGkgaW4gZSlpZihlLmhhc093blByb3BlcnR5KGkpJiZpIT09dyl7dmFyIHI9dFtpXSxvPWVbaV07IXEobyl8fCFxKHIpfHxZKG8pfHxZKHIpfHxKKG8pfHxKKHIpfHxLKG8pfHxLKHIpfHxwdChvKXx8cHQocik/IW4mJmkgaW4gdHx8KHRbaV09VChlW2ldKSk6QyhyLG8sbil9cmV0dXJuIHR9ZnVuY3Rpb24gRCh0LGUpe2Zvcih2YXIgbj10WzBdLGk9MSxyPXQubGVuZ3RoO2k8cjtpKyspbj1DKG4sdFtpXSxlKTtyZXR1cm4gbn1mdW5jdGlvbiBBKHQsZSl7aWYoT2JqZWN0LmFzc2lnbilPYmplY3QuYXNzaWduKHQsZSk7ZWxzZSBmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiZuIT09dyYmKHRbbl09ZVtuXSk7cmV0dXJuIHR9ZnVuY3Rpb24gayh0LGUsbil7Zm9yKHZhciBpPUcoZSkscj0wO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdOyhuP251bGwhPWVbb106bnVsbD09dFtvXSkmJih0W29dPWVbb10pfXJldHVybiB0fXZhciBMPWguY3JlYXRlQ2FudmFzO2Z1bmN0aW9uIFAodCxlKXtpZih0KXtpZih0LmluZGV4T2YpcmV0dXJuIHQuaW5kZXhPZihlKTtmb3IodmFyIG49MCxpPXQubGVuZ3RoO248aTtuKyspaWYodFtuXT09PWUpcmV0dXJuIG59cmV0dXJuLTF9ZnVuY3Rpb24gTyh0LGUpe3ZhciBuPXQucHJvdG90eXBlO2Z1bmN0aW9uIGkoKXt9Zm9yKHZhciByIGluIGkucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBpLG4pbi5oYXNPd25Qcm9wZXJ0eShyKSYmKHQucHJvdG90eXBlW3JdPW5bcl0pO3QucHJvdG90eXBlLmNvbnN0cnVjdG9yPXQsdC5zdXBlckNsYXNzPWV9ZnVuY3Rpb24gUih0LGUsbil7aWYodD0icHJvdG90eXBlImluIHQ/dC5wcm90b3R5cGU6dCxlPSJwcm90b3R5cGUiaW4gZT9lLnByb3RvdHlwZTplLE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKWZvcih2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKSxyPTA7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl07ImNvbnN0cnVjdG9yIiE9PW8mJihuP251bGwhPWVbb106bnVsbD09dFtvXSkmJih0W29dPWVbb10pfWVsc2Ugayh0LGUsbil9ZnVuY3Rpb24gTih0KXtyZXR1cm4hIXQmJigic3RyaW5nIiE9dHlwZW9mIHQmJiJudW1iZXIiPT10eXBlb2YgdC5sZW5ndGgpfWZ1bmN0aW9uIEUodCxlLG4pe2lmKHQmJmUpaWYodC5mb3JFYWNoJiZ0LmZvckVhY2g9PT15KXQuZm9yRWFjaChlLG4pO2Vsc2UgaWYodC5sZW5ndGg9PT0rdC5sZW5ndGgpZm9yKHZhciBpPTAscj10Lmxlbmd0aDtpPHI7aSsrKWUuY2FsbChuLHRbaV0saSx0KTtlbHNlIGZvcih2YXIgbyBpbiB0KXQuaGFzT3duUHJvcGVydHkobykmJmUuY2FsbChuLHRbb10sbyx0KX1mdW5jdGlvbiB6KHQsZSxuKXtpZighdClyZXR1cm5bXTtpZighZSlyZXR1cm4gYXQodCk7aWYodC5tYXAmJnQubWFwPT09eClyZXR1cm4gdC5tYXAoZSxuKTtmb3IodmFyIGk9W10scj0wLG89dC5sZW5ndGg7cjxvO3IrKylpLnB1c2goZS5jYWxsKG4sdFtyXSxyLHQpKTtyZXR1cm4gaX1mdW5jdGlvbiBWKHQsZSxuLGkpe2lmKHQmJmUpe2Zvcih2YXIgcj0wLG89dC5sZW5ndGg7cjxvO3IrKyluPWUuY2FsbChpLG4sdFtyXSxyLHQpO3JldHVybiBufX1mdW5jdGlvbiBCKHQsZSxuKXtpZighdClyZXR1cm5bXTtpZighZSlyZXR1cm4gYXQodCk7aWYodC5maWx0ZXImJnQuZmlsdGVyPT09dilyZXR1cm4gdC5maWx0ZXIoZSxuKTtmb3IodmFyIGk9W10scj0wLG89dC5sZW5ndGg7cjxvO3IrKyllLmNhbGwobix0W3JdLHIsdCkmJmkucHVzaCh0W3JdKTtyZXR1cm4gaX1mdW5jdGlvbiBGKHQsZSxuKXtpZih0JiZlKWZvcih2YXIgaT0wLHI9dC5sZW5ndGg7aTxyO2krKylpZihlLmNhbGwobix0W2ldLGksdCkpcmV0dXJuIHRbaV19ZnVuY3Rpb24gRyh0KXtpZighdClyZXR1cm5bXTtpZihPYmplY3Qua2V5cylyZXR1cm4gT2JqZWN0LmtleXModCk7dmFyIGU9W107Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmZS5wdXNoKG4pO3JldHVybiBlfXZhciBXPWImJlUoYi5iaW5kKT9iLmNhbGwuYmluZChiLmJpbmQpOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtdLGk9MjtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKW5baS0yXT1hcmd1bWVudHNbaV07cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxuLmNvbmNhdChtLmNhbGwoYXJndW1lbnRzKSkpfX07ZnVuY3Rpb24gSCh0KXtmb3IodmFyIGU9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuLTFdPWFyZ3VtZW50c1tuXTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseSh0aGlzLGUuY29uY2F0KG0uY2FsbChhcmd1bWVudHMpKSl9fWZ1bmN0aW9uIFkodCl7cmV0dXJuIEFycmF5LmlzQXJyYXk/QXJyYXkuaXNBcnJheSh0KToiW29iamVjdCBBcnJheV0iPT09Zi5jYWxsKHQpfWZ1bmN0aW9uIFUodCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHR9ZnVuY3Rpb24gWCh0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHR9ZnVuY3Rpb24gWih0KXtyZXR1cm4iW29iamVjdCBTdHJpbmddIj09PWYuY2FsbCh0KX1mdW5jdGlvbiBqKHQpe3JldHVybiJudW1iZXIiPT10eXBlb2YgdH1mdW5jdGlvbiBxKHQpe3ZhciBlPXR5cGVvZiB0O3JldHVybiJmdW5jdGlvbiI9PT1lfHwhIXQmJiJvYmplY3QiPT09ZX1mdW5jdGlvbiBLKHQpe3JldHVybiEhcFtmLmNhbGwodCldfWZ1bmN0aW9uICQodCl7cmV0dXJuISFkW2YuY2FsbCh0KV19ZnVuY3Rpb24gSih0KXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIHQmJiJudW1iZXIiPT10eXBlb2YgdC5ub2RlVHlwZSYmIm9iamVjdCI9PXR5cGVvZiB0Lm93bmVyRG9jdW1lbnR9ZnVuY3Rpb24gUSh0KXtyZXR1cm4gbnVsbCE9dC5jb2xvclN0b3BzfWZ1bmN0aW9uIHR0KHQpe3JldHVybiBudWxsIT10LmltYWdlfWZ1bmN0aW9uIGV0KHQpe3JldHVybiJbb2JqZWN0IFJlZ0V4cF0iPT09Zi5jYWxsKHQpfWZ1bmN0aW9uIG50KHQpe3JldHVybiB0IT10fWZ1bmN0aW9uIGl0KCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO2Zvcih2YXIgbj0wLGk9dC5sZW5ndGg7bjxpO24rKylpZihudWxsIT10W25dKXJldHVybiB0W25dfWZ1bmN0aW9uIHJ0KHQsZSl7cmV0dXJuIG51bGwhPXQ/dDplfWZ1bmN0aW9uIG90KHQsZSxuKXtyZXR1cm4gbnVsbCE9dD90Om51bGwhPWU/ZTpufWZ1bmN0aW9uIGF0KHQpe2Zvcih2YXIgZT1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllW24tMV09YXJndW1lbnRzW25dO3JldHVybiBtLmFwcGx5KHQsZSl9ZnVuY3Rpb24gc3QodCl7aWYoIm51bWJlciI9PXR5cGVvZiB0KXJldHVyblt0LHQsdCx0XTt2YXIgZT10Lmxlbmd0aDtyZXR1cm4gMj09PWU/W3RbMF0sdFsxXSx0WzBdLHRbMV1dOjM9PT1lP1t0WzBdLHRbMV0sdFsyXSx0WzFdXTp0fWZ1bmN0aW9uIGx0KHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGUpfWZ1bmN0aW9uIHV0KHQpe3JldHVybiBudWxsPT10P251bGw6ImZ1bmN0aW9uIj09dHlwZW9mIHQudHJpbT90LnRyaW0oKTp0LnJlcGxhY2UoL15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nLCIiKX12YXIgaHQ9Il9fZWNfcHJpbWl0aXZlX18iO2Z1bmN0aW9uIGN0KHQpe3RbaHRdPSEwfWZ1bmN0aW9uIHB0KHQpe3JldHVybiB0W2h0XX12YXIgZHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3RoaXMuZGF0YT17fTt2YXIgbj1ZKGUpO3RoaXMuZGF0YT17fTt2YXIgaT10aGlzO2Z1bmN0aW9uIHIodCxlKXtuP2kuc2V0KHQsZSk6aS5zZXQoZSx0KX1lIGluc3RhbmNlb2YgdD9lLmVhY2gocik6ZSYmRShlLHIpfXJldHVybiB0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGF0YS5oYXNPd25Qcm9wZXJ0eSh0KT90aGlzLmRhdGFbdF06bnVsbH0sdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZGF0YVt0XT1lfSx0LnByb3RvdHlwZS5lYWNoPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIHRoaXMuZGF0YSl0aGlzLmRhdGEuaGFzT3duUHJvcGVydHkobikmJnQuY2FsbChlLHRoaXMuZGF0YVtuXSxuKX0sdC5wcm90b3R5cGUua2V5cz1mdW5jdGlvbigpe3JldHVybiBHKHRoaXMuZGF0YSl9LHQucHJvdG90eXBlLnJlbW92ZUtleT1mdW5jdGlvbih0KXtkZWxldGUgdGhpcy5kYXRhW3RdfSx0fSgpO2Z1bmN0aW9uIGZ0KHQpe3JldHVybiBuZXcgZHQodCl9ZnVuY3Rpb24gZ3QodCxlKXtmb3IodmFyIG49bmV3IHQuY29uc3RydWN0b3IodC5sZW5ndGgrZS5sZW5ndGgpLGk9MDtpPHQubGVuZ3RoO2krKyluW2ldPXRbaV07dmFyIHI9dC5sZW5ndGg7Zm9yKGk9MDtpPGUubGVuZ3RoO2krKyluW2krcl09ZVtpXTtyZXR1cm4gbn1mdW5jdGlvbiB5dCh0LGUpe3ZhciBuO2lmKE9iamVjdC5jcmVhdGUpbj1PYmplY3QuY3JlYXRlKHQpO2Vsc2V7dmFyIGk9ZnVuY3Rpb24oKXt9O2kucHJvdG90eXBlPXQsbj1uZXcgaX1yZXR1cm4gZSYmQShuLGUpLG59ZnVuY3Rpb24gdnQodCl7dmFyIGU9dC5zdHlsZTtlLndlYmtpdFVzZXJTZWxlY3Q9Im5vbmUiLGUudXNlclNlbGVjdD0ibm9uZSIsZS53ZWJraXRUYXBIaWdobGlnaHRDb2xvcj0icmdiYSgwLDAsMCwwKSIsZVsiLXdlYmtpdC10b3VjaC1jYWxsb3V0Il09Im5vbmUifWZ1bmN0aW9uIG10KHQsZSl7cmV0dXJuIHQuaGFzT3duUHJvcGVydHkoZSl9ZnVuY3Rpb24geHQoKXt9dmFyIF90PTE4MC9NYXRoLlBJLGJ0PU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGd1aWQ6TSxsb2dFcnJvcjpJLGNsb25lOlQsbWVyZ2U6QyxtZXJnZUFsbDpELGV4dGVuZDpBLGRlZmF1bHRzOmssY3JlYXRlQ2FudmFzOkwsaW5kZXhPZjpQLGluaGVyaXRzOk8sbWl4aW46Uixpc0FycmF5TGlrZTpOLGVhY2g6RSxtYXA6eixyZWR1Y2U6VixmaWx0ZXI6QixmaW5kOkYsa2V5czpHLGJpbmQ6VyxjdXJyeTpILGlzQXJyYXk6WSxpc0Z1bmN0aW9uOlUsaXNTdHJpbmc6WCxpc1N0cmluZ1NhZmU6Wixpc051bWJlcjpqLGlzT2JqZWN0OnEsaXNCdWlsdEluT2JqZWN0OkssaXNUeXBlZEFycmF5OiQsaXNEb206Sixpc0dyYWRpZW50T2JqZWN0OlEsaXNJbWFnZVBhdHRlcm5PYmplY3Q6dHQsaXNSZWdFeHA6ZXQsZXFOYU46bnQscmV0cmlldmU6aXQscmV0cmlldmUyOnJ0LHJldHJpZXZlMzpvdCxzbGljZTphdCxub3JtYWxpemVDc3NBcnJheTpzdCxhc3NlcnQ6bHQsdHJpbTp1dCxzZXRBc1ByaW1pdGl2ZTpjdCxpc1ByaW1pdGl2ZTpwdCxIYXNoTWFwOmR0LGNyZWF0ZUhhc2hNYXA6ZnQsY29uY2F0QXJyYXk6Z3QsY3JlYXRlT2JqZWN0Onl0LGRpc2FibGVVc2VyU2VsZWN0OnZ0LGhhc093bjptdCxub29wOnh0LFJBRElBTl9UT19ERUdSRUU6X3R9KTtmdW5jdGlvbiB3dCh0LGUpe3JldHVybiBudWxsPT10JiYodD0wKSxudWxsPT1lJiYoZT0wKSxbdCxlXX1mdW5jdGlvbiBTdCh0LGUpe3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHR9ZnVuY3Rpb24gTXQodCl7cmV0dXJuW3RbMF0sdFsxXV19ZnVuY3Rpb24gSXQodCxlLG4pe3JldHVybiB0WzBdPWUsdFsxXT1uLHR9ZnVuY3Rpb24gVHQodCxlLG4pe3JldHVybiB0WzBdPWVbMF0rblswXSx0WzFdPWVbMV0rblsxXSx0fWZ1bmN0aW9uIEN0KHQsZSxuLGkpe3JldHVybiB0WzBdPWVbMF0rblswXSppLHRbMV09ZVsxXStuWzFdKmksdH1mdW5jdGlvbiBEdCh0LGUsbil7cmV0dXJuIHRbMF09ZVswXS1uWzBdLHRbMV09ZVsxXS1uWzFdLHR9ZnVuY3Rpb24gQXQodCl7cmV0dXJuIE1hdGguc3FydChMdCh0KSl9dmFyIGt0PUF0O2Z1bmN0aW9uIEx0KHQpe3JldHVybiB0WzBdKnRbMF0rdFsxXSp0WzFdfXZhciBQdD1MdDtmdW5jdGlvbiBPdCh0LGUsbil7cmV0dXJuIHRbMF09ZVswXSpuLHRbMV09ZVsxXSpuLHR9ZnVuY3Rpb24gUnQodCxlKXt2YXIgbj1BdChlKTtyZXR1cm4gMD09PW4/KHRbMF09MCx0WzFdPTApOih0WzBdPWVbMF0vbix0WzFdPWVbMV0vbiksdH1mdW5jdGlvbiBOdCh0LGUpe3JldHVybiBNYXRoLnNxcnQoKHRbMF0tZVswXSkqKHRbMF0tZVswXSkrKHRbMV0tZVsxXSkqKHRbMV0tZVsxXSkpfXZhciBFdD1OdDtmdW5jdGlvbiB6dCh0LGUpe3JldHVybih0WzBdLWVbMF0pKih0WzBdLWVbMF0pKyh0WzFdLWVbMV0pKih0WzFdLWVbMV0pfXZhciBWdD16dDtmdW5jdGlvbiBCdCh0LGUsbixpKXtyZXR1cm4gdFswXT1lWzBdK2kqKG5bMF0tZVswXSksdFsxXT1lWzFdK2kqKG5bMV0tZVsxXSksdH1mdW5jdGlvbiBGdCh0LGUsbil7dmFyIGk9ZVswXSxyPWVbMV07cmV0dXJuIHRbMF09blswXSppK25bMl0qcituWzRdLHRbMV09blsxXSppK25bM10qcituWzVdLHR9ZnVuY3Rpb24gR3QodCxlLG4pe3JldHVybiB0WzBdPU1hdGgubWluKGVbMF0sblswXSksdFsxXT1NYXRoLm1pbihlWzFdLG5bMV0pLHR9ZnVuY3Rpb24gV3QodCxlLG4pe3JldHVybiB0WzBdPU1hdGgubWF4KGVbMF0sblswXSksdFsxXT1NYXRoLm1heChlWzFdLG5bMV0pLHR9dmFyIEh0PU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGNyZWF0ZTp3dCxjb3B5OlN0LGNsb25lOk10LHNldDpJdCxhZGQ6VHQsc2NhbGVBbmRBZGQ6Q3Qsc3ViOkR0LGxlbjpBdCxsZW5ndGg6a3QsbGVuU3F1YXJlOkx0LGxlbmd0aFNxdWFyZTpQdCxtdWw6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0WzBdPWVbMF0qblswXSx0WzFdPWVbMV0qblsxXSx0fSxkaXY6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0WzBdPWVbMF0vblswXSx0WzFdPWVbMV0vblsxXSx0fSxkb3Q6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXSplWzBdK3RbMV0qZVsxXX0sc2NhbGU6T3Qsbm9ybWFsaXplOlJ0LGRpc3RhbmNlOk50LGRpc3Q6RXQsZGlzdGFuY2VTcXVhcmU6enQsZGlzdFNxdWFyZTpWdCxuZWdhdGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXT0tZVswXSx0WzFdPS1lWzFdLHR9LGxlcnA6QnQsYXBwbHlUcmFuc2Zvcm06RnQsbWluOkd0LG1heDpXdH0pLFl0PWZ1bmN0aW9uKHQsZSl7dGhpcy50YXJnZXQ9dCx0aGlzLnRvcFRhcmdldD1lJiZlLnRvcFRhcmdldH0sVXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuaGFuZGxlcj10LHQub24oIm1vdXNlZG93biIsdGhpcy5fZHJhZ1N0YXJ0LHRoaXMpLHQub24oIm1vdXNlbW92ZSIsdGhpcy5fZHJhZyx0aGlzKSx0Lm9uKCJtb3VzZXVwIix0aGlzLl9kcmFnRW5kLHRoaXMpfXJldHVybiB0LnByb3RvdHlwZS5fZHJhZ1N0YXJ0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnRhcmdldDtlJiYhZS5kcmFnZ2FibGU7KWU9ZS5wYXJlbnR8fGUuX19ob3N0VGFyZ2V0O2UmJih0aGlzLl9kcmFnZ2luZ1RhcmdldD1lLGUuZHJhZ2dpbmc9ITAsdGhpcy5feD10Lm9mZnNldFgsdGhpcy5feT10Lm9mZnNldFksdGhpcy5oYW5kbGVyLmRpc3BhdGNoVG9FbGVtZW50KG5ldyBZdChlLHQpLCJkcmFnc3RhcnQiLHQuZXZlbnQpKX0sdC5wcm90b3R5cGUuX2RyYWc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZHJhZ2dpbmdUYXJnZXQ7aWYoZSl7dmFyIG49dC5vZmZzZXRYLGk9dC5vZmZzZXRZLHI9bi10aGlzLl94LG89aS10aGlzLl95O3RoaXMuX3g9bix0aGlzLl95PWksZS5kcmlmdChyLG8sdCksdGhpcy5oYW5kbGVyLmRpc3BhdGNoVG9FbGVtZW50KG5ldyBZdChlLHQpLCJkcmFnIix0LmV2ZW50KTt2YXIgYT10aGlzLmhhbmRsZXIuZmluZEhvdmVyKG4saSxlKS50YXJnZXQscz10aGlzLl9kcm9wVGFyZ2V0O3RoaXMuX2Ryb3BUYXJnZXQ9YSxlIT09YSYmKHMmJmEhPT1zJiZ0aGlzLmhhbmRsZXIuZGlzcGF0Y2hUb0VsZW1lbnQobmV3IFl0KHMsdCksImRyYWdsZWF2ZSIsdC5ldmVudCksYSYmYSE9PXMmJnRoaXMuaGFuZGxlci5kaXNwYXRjaFRvRWxlbWVudChuZXcgWXQoYSx0KSwiZHJhZ2VudGVyIix0LmV2ZW50KSl9fSx0LnByb3RvdHlwZS5fZHJhZ0VuZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9kcmFnZ2luZ1RhcmdldDtlJiYoZS5kcmFnZ2luZz0hMSksdGhpcy5oYW5kbGVyLmRpc3BhdGNoVG9FbGVtZW50KG5ldyBZdChlLHQpLCJkcmFnZW5kIix0LmV2ZW50KSx0aGlzLl9kcm9wVGFyZ2V0JiZ0aGlzLmhhbmRsZXIuZGlzcGF0Y2hUb0VsZW1lbnQobmV3IFl0KHRoaXMuX2Ryb3BUYXJnZXQsdCksImRyb3AiLHQuZXZlbnQpLHRoaXMuX2RyYWdnaW5nVGFyZ2V0PW51bGwsdGhpcy5fZHJvcFRhcmdldD1udWxsfSx0fSgpLFh0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0JiYodGhpcy5fJGV2ZW50UHJvY2Vzc29yPXQpfXJldHVybiB0LnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LGUsbixpKXt0aGlzLl8kaGFuZGxlcnN8fCh0aGlzLl8kaGFuZGxlcnM9e30pO3ZhciByPXRoaXMuXyRoYW5kbGVycztpZigiZnVuY3Rpb24iPT10eXBlb2YgZSYmKGk9bixuPWUsZT1udWxsKSwhbnx8IXQpcmV0dXJuIHRoaXM7dmFyIG89dGhpcy5fJGV2ZW50UHJvY2Vzc29yO251bGwhPWUmJm8mJm8ubm9ybWFsaXplUXVlcnkmJihlPW8ubm9ybWFsaXplUXVlcnkoZSkpLHJbdF18fChyW3RdPVtdKTtmb3IodmFyIGE9MDthPHJbdF0ubGVuZ3RoO2ErKylpZihyW3RdW2FdLmg9PT1uKXJldHVybiB0aGlzO3ZhciBzPXtoOm4scXVlcnk6ZSxjdHg6aXx8dGhpcyxjYWxsQXRMYXN0Om4uenJFdmVudGZ1bENhbGxBdExhc3R9LGw9clt0XS5sZW5ndGgtMSx1PXJbdF1bbF07cmV0dXJuIHUmJnUuY2FsbEF0TGFzdD9yW3RdLnNwbGljZShsLDAscyk6clt0XS5wdXNoKHMpLHRoaXN9LHQucHJvdG90eXBlLmlzU2lsZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuXyRoYW5kbGVycztyZXR1cm4hZXx8IWVbdF18fCFlW3RdLmxlbmd0aH0sdC5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fJGhhbmRsZXJzO2lmKCFuKXJldHVybiB0aGlzO2lmKCF0KXJldHVybiB0aGlzLl8kaGFuZGxlcnM9e30sdGhpcztpZihlKXtpZihuW3RdKXtmb3IodmFyIGk9W10scj0wLG89blt0XS5sZW5ndGg7cjxvO3IrKyluW3RdW3JdLmghPT1lJiZpLnB1c2goblt0XVtyXSk7blt0XT1pfW5bdF0mJjA9PT1uW3RdLmxlbmd0aCYmZGVsZXRlIG5bdF19ZWxzZSBkZWxldGUgblt0XTtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUudHJpZ2dlcj1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuLTFdPWFyZ3VtZW50c1tuXTtpZighdGhpcy5fJGhhbmRsZXJzKXJldHVybiB0aGlzO3ZhciBpPXRoaXMuXyRoYW5kbGVyc1t0XSxyPXRoaXMuXyRldmVudFByb2Nlc3NvcjtpZihpKWZvcih2YXIgbz1lLmxlbmd0aCxhPWkubGVuZ3RoLHM9MDtzPGE7cysrKXt2YXIgbD1pW3NdO2lmKCFyfHwhci5maWx0ZXJ8fG51bGw9PWwucXVlcnl8fHIuZmlsdGVyKHQsbC5xdWVyeSkpc3dpdGNoKG8pe2Nhc2UgMDpsLmguY2FsbChsLmN0eCk7YnJlYWs7Y2FzZSAxOmwuaC5jYWxsKGwuY3R4LGVbMF0pO2JyZWFrO2Nhc2UgMjpsLmguY2FsbChsLmN0eCxlWzBdLGVbMV0pO2JyZWFrO2RlZmF1bHQ6bC5oLmFwcGx5KGwuY3R4LGUpfX1yZXR1cm4gciYmci5hZnRlclRyaWdnZXImJnIuYWZ0ZXJUcmlnZ2VyKHQpLHRoaXN9LHQucHJvdG90eXBlLnRyaWdnZXJXaXRoQ29udGV4dD1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuLTFdPWFyZ3VtZW50c1tuXTtpZighdGhpcy5fJGhhbmRsZXJzKXJldHVybiB0aGlzO3ZhciBpPXRoaXMuXyRoYW5kbGVyc1t0XSxyPXRoaXMuXyRldmVudFByb2Nlc3NvcjtpZihpKWZvcih2YXIgbz1lLmxlbmd0aCxhPWVbby0xXSxzPWkubGVuZ3RoLGw9MDtsPHM7bCsrKXt2YXIgdT1pW2xdO2lmKCFyfHwhci5maWx0ZXJ8fG51bGw9PXUucXVlcnl8fHIuZmlsdGVyKHQsdS5xdWVyeSkpc3dpdGNoKG8pe2Nhc2UgMDp1LmguY2FsbChhKTticmVhaztjYXNlIDE6dS5oLmNhbGwoYSxlWzBdKTticmVhaztjYXNlIDI6dS5oLmNhbGwoYSxlWzBdLGVbMV0pO2JyZWFrO2RlZmF1bHQ6dS5oLmFwcGx5KGEsZS5zbGljZSgxLG8tMSkpfX1yZXR1cm4gciYmci5hZnRlclRyaWdnZXImJnIuYWZ0ZXJUcmlnZ2VyKHQpLHRoaXN9LHR9KCksWnQ9TWF0aC5sb2coMik7ZnVuY3Rpb24ganQodCxlLG4saSxyLG8pe3ZhciBhPWkrIi0iK3Iscz10Lmxlbmd0aDtpZihvLmhhc093blByb3BlcnR5KGEpKXJldHVybiBvW2FdO2lmKDE9PT1lKXt2YXIgbD1NYXRoLnJvdW5kKE1hdGgubG9nKCgxPDxzKS0xJn5yKS9adCk7cmV0dXJuIHRbbl1bbF19Zm9yKHZhciB1PWl8MTw8bixoPW4rMTtpJjE8PGg7KWgrKztmb3IodmFyIGM9MCxwPTAsZD0wO3A8cztwKyspe3ZhciBmPTE8PHA7ZiZyfHwoYys9KGQlMj8tMToxKSp0W25dW3BdKmp0KHQsZS0xLGgsdSxyfGYsbyksZCsrKX1yZXR1cm4gb1thXT1jLGN9ZnVuY3Rpb24gcXQodCxlKXt2YXIgbj1bW3RbMF0sdFsxXSwxLDAsMCwwLC1lWzBdKnRbMF0sLWVbMF0qdFsxXV0sWzAsMCwwLHRbMF0sdFsxXSwxLC1lWzFdKnRbMF0sLWVbMV0qdFsxXV0sW3RbMl0sdFszXSwxLDAsMCwwLC1lWzJdKnRbMl0sLWVbMl0qdFszXV0sWzAsMCwwLHRbMl0sdFszXSwxLC1lWzNdKnRbMl0sLWVbM10qdFszXV0sW3RbNF0sdFs1XSwxLDAsMCwwLC1lWzRdKnRbNF0sLWVbNF0qdFs1XV0sWzAsMCwwLHRbNF0sdFs1XSwxLC1lWzVdKnRbNF0sLWVbNV0qdFs1XV0sW3RbNl0sdFs3XSwxLDAsMCwwLC1lWzZdKnRbNl0sLWVbNl0qdFs3XV0sWzAsMCwwLHRbNl0sdFs3XSwxLC1lWzddKnRbNl0sLWVbN10qdFs3XV1dLGk9e30scj1qdChuLDgsMCwwLDAsaSk7aWYoMCE9PXIpe2Zvcih2YXIgbz1bXSxhPTA7YTw4O2ErKylmb3IodmFyIHM9MDtzPDg7cysrKW51bGw9PW9bc10mJihvW3NdPTApLG9bc10rPSgoYStzKSUyPy0xOjEpKmp0KG4sNywwPT09YT8xOjAsMTw8YSwxPDxzLGkpL3IqZVthXTtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe3ZhciBpPWUqb1s2XStuKm9bN10rMTt0WzBdPShlKm9bMF0rbipvWzFdK29bMl0pL2ksdFsxXT0oZSpvWzNdK24qb1s0XStvWzVdKS9pfX19dmFyIEt0PVtdO2Z1bmN0aW9uICR0KHQsZSxuLGksbyl7aWYoZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QmJnIuZG9tU3VwcG9ydGVkJiYhSnQoZSkpe3ZhciBhPWUuX19fenJFVkVOVFNBVkVEfHwoZS5fX196ckVWRU5UU0FWRUQ9e30pLHM9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT1uPyJpbnZUcmFucyI6InRyYW5zIixyPWVbaV0sbz1lLnNyY0Nvb3JkcyxhPVtdLHM9W10sbD0hMCx1PTA7dTw0O3UrKyl7dmFyIGg9dFt1XS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxjPTIqdSxwPWgubGVmdCxkPWgudG9wO2EucHVzaChwLGQpLGw9bCYmbyYmcD09PW9bY10mJmQ9PT1vW2MrMV0scy5wdXNoKHRbdV0ub2Zmc2V0TGVmdCx0W3VdLm9mZnNldFRvcCl9cmV0dXJuIGwmJnI/cjooZS5zcmNDb29yZHM9YSxlW2ldPW4/cXQocyxhKTpxdChhLHMpKX0oZnVuY3Rpb24odCxlKXt2YXIgbj1lLm1hcmtlcnM7aWYobilyZXR1cm4gbjtuPWUubWFya2Vycz1bXTtmb3IodmFyIGk9WyJsZWZ0IiwicmlnaHQiXSxyPVsidG9wIiwiYm90dG9tIl0sbz0wO288NDtvKyspe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHM9byUyLGw9KG8+PjEpJTI7YS5zdHlsZS5jc3NUZXh0PVsicG9zaXRpb246IGFic29sdXRlIiwidmlzaWJpbGl0eTogaGlkZGVuIiwicGFkZGluZzogMCIsIm1hcmdpbjogMCIsImJvcmRlci13aWR0aDogMCIsInVzZXItc2VsZWN0OiBub25lIiwid2lkdGg6MCIsImhlaWdodDowIixpW3NdKyI6MCIscltsXSsiOjAiLGlbMS1zXSsiOmF1dG8iLHJbMS1sXSsiOmF1dG8iLCIiXS5qb2luKCIhaW1wb3J0YW50OyIpLHQuYXBwZW5kQ2hpbGQoYSksbi5wdXNoKGEpfXJldHVybiBufShlLGEpLGEsbyk7aWYocylyZXR1cm4gcyh0LG4saSksITB9cmV0dXJuITF9ZnVuY3Rpb24gSnQodCl7cmV0dXJuIkNBTlZBUyI9PT10Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCl9dmFyIFF0PS9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyx0ZT1bXSxlZT1yLmJyb3dzZXIuZmlyZWZveCYmK3IuYnJvd3Nlci52ZXJzaW9uLnNwbGl0KCIuIilbMF08Mzk7ZnVuY3Rpb24gbmUodCxlLG4saSl7cmV0dXJuIG49bnx8e30saT9pZSh0LGUsbik6ZWUmJm51bGwhPWUubGF5ZXJYJiZlLmxheWVyWCE9PWUub2Zmc2V0WD8obi56clg9ZS5sYXllclgsbi56clk9ZS5sYXllclkpOm51bGwhPWUub2Zmc2V0WD8obi56clg9ZS5vZmZzZXRYLG4uenJZPWUub2Zmc2V0WSk6aWUodCxlLG4pLG59ZnVuY3Rpb24gaWUodCxlLG4pe2lmKHIuZG9tU3VwcG9ydGVkJiZ0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCl7dmFyIGk9ZS5jbGllbnRYLG89ZS5jbGllbnRZO2lmKEp0KHQpKXt2YXIgYT10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybiBuLnpyWD1pLWEubGVmdCx2b2lkKG4uenJZPW8tYS50b3ApfWlmKCR0KHRlLHQsaSxvKSlyZXR1cm4gbi56clg9dGVbMF0sdm9pZChuLnpyWT10ZVsxXSl9bi56clg9bi56clk9MH1mdW5jdGlvbiByZSh0KXtyZXR1cm4gdHx8d2luZG93LmV2ZW50fWZ1bmN0aW9uIG9lKHQsZSxuKXtpZihudWxsIT0oZT1yZShlKSkuenJYKXJldHVybiBlO3ZhciBpPWUudHlwZTtpZihpJiZpLmluZGV4T2YoInRvdWNoIik+PTApe3ZhciByPSJ0b3VjaGVuZCIhPT1pP2UudGFyZ2V0VG91Y2hlc1swXTplLmNoYW5nZWRUb3VjaGVzWzBdO3ImJm5lKHQscixlLG4pfWVsc2V7bmUodCxlLGUsbik7dmFyIG89ZnVuY3Rpb24odCl7dmFyIGU9dC53aGVlbERlbHRhO2lmKGUpcmV0dXJuIGU7dmFyIG49dC5kZWx0YVgsaT10LmRlbHRhWTtpZihudWxsPT1ufHxudWxsPT1pKXJldHVybiBlO3JldHVybiAzKigwIT09aT9NYXRoLmFicyhpKTpNYXRoLmFicyhuKSkqKGk+MD8tMTppPDA/MTpuPjA/LTE6MSl9KGUpO2UuenJEZWx0YT1vP28vMTIwOi0oZS5kZXRhaWx8fDApLzN9dmFyIGE9ZS5idXR0b247cmV0dXJuIG51bGw9PWUud2hpY2gmJnZvaWQgMCE9PWEmJlF0LnRlc3QoZS50eXBlKSYmKGUud2hpY2g9MSZhPzE6MiZhPzM6NCZhPzI6MCksZX1mdW5jdGlvbiBhZSh0LGUsbixpKXt0LmFkZEV2ZW50TGlzdGVuZXIoZSxuLGkpfXZhciBzZT1mdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSx0LmNhbmNlbEJ1YmJsZT0hMH07ZnVuY3Rpb24gbGUodCl7cmV0dXJuIDI9PT10LndoaWNofHwzPT09dC53aGljaH12YXIgdWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5fdHJhY2s9W119cmV0dXJuIHQucHJvdG90eXBlLnJlY29nbml6ZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuX2RvVHJhY2sodCxlLG4pLHRoaXMuX3JlY29nbml6ZSh0KX0sdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJhY2subGVuZ3RoPTAsdGhpc30sdC5wcm90b3R5cGUuX2RvVHJhY2s9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQudG91Y2hlcztpZihpKXtmb3IodmFyIHI9e3BvaW50czpbXSx0b3VjaGVzOltdLHRhcmdldDplLGV2ZW50OnR9LG89MCxhPWkubGVuZ3RoO288YTtvKyspe3ZhciBzPWlbb10sbD1uZShuLHMse30pO3IucG9pbnRzLnB1c2goW2wuenJYLGwuenJZXSksci50b3VjaGVzLnB1c2gocyl9dGhpcy5fdHJhY2sucHVzaChyKX19LHQucHJvdG90eXBlLl9yZWNvZ25pemU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIGNlKWlmKGNlLmhhc093blByb3BlcnR5KGUpKXt2YXIgbj1jZVtlXSh0aGlzLl90cmFjayx0KTtpZihuKXJldHVybiBufX0sdH0oKTtmdW5jdGlvbiBoZSh0KXt2YXIgZT10WzFdWzBdLXRbMF1bMF0sbj10WzFdWzFdLXRbMF1bMV07cmV0dXJuIE1hdGguc3FydChlKmUrbipuKX12YXIgY2U9e3BpbmNoOmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5sZW5ndGg7aWYobil7dmFyIGkscj0odFtuLTFdfHx7fSkucG9pbnRzLG89KHRbbi0yXXx8e30pLnBvaW50c3x8cjtpZihvJiZvLmxlbmd0aD4xJiZyJiZyLmxlbmd0aD4xKXt2YXIgYT1oZShyKS9oZShvKTshaXNGaW5pdGUoYSkmJihhPTEpLGUucGluY2hTY2FsZT1hO3ZhciBzPVsoKGk9cilbMF1bMF0raVsxXVswXSkvMiwoaVswXVsxXStpWzFdWzFdKS8yXTtyZXR1cm4gZS5waW5jaFg9c1swXSxlLnBpbmNoWT1zWzFdLHt0eXBlOiJwaW5jaCIsdGFyZ2V0OnRbMF0udGFyZ2V0LGV2ZW50OmV9fX19fSxwZT0ic2lsZW50IjtmdW5jdGlvbiBkZSgpe3NlKHRoaXMuZXZlbnQpfXZhciBmZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLmhhbmRsZXI9bnVsbCxlfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuc2V0Q3Vyc29yPWZ1bmN0aW9uKCl7fSxlfShYdCksZ2U9ZnVuY3Rpb24odCxlKXt0aGlzLng9dCx0aGlzLnk9ZX0seWU9WyJjbGljayIsImRibGNsaWNrIiwibW91c2V3aGVlbCIsIm1vdXNlb3V0IiwibW91c2V1cCIsIm1vdXNlZG93biIsIm1vdXNlbW92ZSIsImNvbnRleHRtZW51Il0sdmU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSxyKXt2YXIgbz10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG8uX2hvdmVyZWQ9bmV3IGdlKDAsMCksby5zdG9yYWdlPWUsby5wYWludGVyPW4sby5wYWludGVyUm9vdD1yLGk9aXx8bmV3IGZlLG8ucHJveHk9bnVsbCxvLnNldEhhbmRsZXJQcm94eShpKSxvLl9kcmFnZ2luZ01ncj1uZXcgVXQobyksb31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnNldEhhbmRsZXJQcm94eT1mdW5jdGlvbih0KXt0aGlzLnByb3h5JiZ0aGlzLnByb3h5LmRpc3Bvc2UoKSx0JiYoRSh5ZSwoZnVuY3Rpb24oZSl7dC5vbiYmdC5vbihlLHRoaXNbZV0sdGhpcyl9KSx0aGlzKSx0LmhhbmRsZXI9dGhpcyksdGhpcy5wcm94eT10fSxlLnByb3RvdHlwZS5tb3VzZW1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9dC56clgsbj10LnpyWSxpPXhlKHRoaXMsZSxuKSxyPXRoaXMuX2hvdmVyZWQsbz1yLnRhcmdldDtvJiYhby5fX3pyJiYobz0ocj10aGlzLmZpbmRIb3ZlcihyLngsci55KSkudGFyZ2V0KTt2YXIgYT10aGlzLl9ob3ZlcmVkPWk/bmV3IGdlKGUsbik6dGhpcy5maW5kSG92ZXIoZSxuKSxzPWEudGFyZ2V0LGw9dGhpcy5wcm94eTtsLnNldEN1cnNvciYmbC5zZXRDdXJzb3Iocz9zLmN1cnNvcjoiZGVmYXVsdCIpLG8mJnMhPT1vJiZ0aGlzLmRpc3BhdGNoVG9FbGVtZW50KHIsIm1vdXNlb3V0Iix0KSx0aGlzLmRpc3BhdGNoVG9FbGVtZW50KGEsIm1vdXNlbW92ZSIsdCkscyYmcyE9PW8mJnRoaXMuZGlzcGF0Y2hUb0VsZW1lbnQoYSwibW91c2VvdmVyIix0KX0sZS5wcm90b3R5cGUubW91c2VvdXQ9ZnVuY3Rpb24odCl7dmFyIGU9dC56ckV2ZW50Q29udHJvbDsib25seV9nbG9iYWxvdXQiIT09ZSYmdGhpcy5kaXNwYXRjaFRvRWxlbWVudCh0aGlzLl9ob3ZlcmVkLCJtb3VzZW91dCIsdCksIm5vX2dsb2JhbG91dCIhPT1lJiZ0aGlzLnRyaWdnZXIoImdsb2JhbG91dCIse3R5cGU6Imdsb2JhbG91dCIsZXZlbnQ6dH0pfSxlLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oKXt0aGlzLl9ob3ZlcmVkPW5ldyBnZSgwLDApfSxlLnByb3RvdHlwZS5kaXNwYXRjaD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXNbdF07biYmbi5jYWxsKHRoaXMsZSl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLnByb3h5LmRpc3Bvc2UoKSx0aGlzLnN0b3JhZ2U9bnVsbCx0aGlzLnByb3h5PW51bGwsdGhpcy5wYWludGVyPW51bGx9LGUucHJvdG90eXBlLnNldEN1cnNvclN0eWxlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucHJveHk7ZS5zZXRDdXJzb3ImJmUuc2V0Q3Vyc29yKHQpfSxlLnByb3RvdHlwZS5kaXNwYXRjaFRvRWxlbWVudD1mdW5jdGlvbih0LGUsbil7dmFyIGk9KHQ9dHx8e30pLnRhcmdldDtpZighaXx8IWkuc2lsZW50KXtmb3IodmFyIHI9Im9uIitlLG89ZnVuY3Rpb24odCxlLG4pe3JldHVybnt0eXBlOnQsZXZlbnQ6bix0YXJnZXQ6ZS50YXJnZXQsdG9wVGFyZ2V0OmUudG9wVGFyZ2V0LGNhbmNlbEJ1YmJsZTohMSxvZmZzZXRYOm4uenJYLG9mZnNldFk6bi56clksZ2VzdHVyZUV2ZW50Om4uZ2VzdHVyZUV2ZW50LHBpbmNoWDpuLnBpbmNoWCxwaW5jaFk6bi5waW5jaFkscGluY2hTY2FsZTpuLnBpbmNoU2NhbGUsd2hlZWxEZWx0YTpuLnpyRGVsdGEsenJCeVRvdWNoOm4uenJCeVRvdWNoLHdoaWNoOm4ud2hpY2gsc3RvcDpkZX19KGUsdCxuKTtpJiYoaVtyXSYmKG8uY2FuY2VsQnViYmxlPSEhaVtyXS5jYWxsKGksbykpLGkudHJpZ2dlcihlLG8pLGk9aS5fX2hvc3RUYXJnZXQ/aS5fX2hvc3RUYXJnZXQ6aS5wYXJlbnQsIW8uY2FuY2VsQnViYmxlKTspO28uY2FuY2VsQnViYmxlfHwodGhpcy50cmlnZ2VyKGUsbyksdGhpcy5wYWludGVyJiZ0aGlzLnBhaW50ZXIuZWFjaE90aGVyTGF5ZXImJnRoaXMucGFpbnRlci5lYWNoT3RoZXJMYXllcigoZnVuY3Rpb24odCl7ImZ1bmN0aW9uIj09dHlwZW9mIHRbcl0mJnRbcl0uY2FsbCh0LG8pLHQudHJpZ2dlciYmdC50cmlnZ2VyKGUsbyl9KSkpfX0sZS5wcm90b3R5cGUuZmluZEhvdmVyPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dGhpcy5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCkscj1uZXcgZ2UodCxlKSxvPWkubGVuZ3RoLTE7bz49MDtvLS0pe3ZhciBhPXZvaWQgMDtpZihpW29dIT09biYmIWlbb10uaWdub3JlJiYoYT1tZShpW29dLHQsZSkpJiYoIXIudG9wVGFyZ2V0JiYoci50b3BUYXJnZXQ9aVtvXSksYSE9PXBlKSl7ci50YXJnZXQ9aVtvXTticmVha319cmV0dXJuIHJ9LGUucHJvdG90eXBlLnByb2Nlc3NHZXN0dXJlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fZ2VzdHVyZU1ncnx8KHRoaXMuX2dlc3R1cmVNZ3I9bmV3IHVlKTt2YXIgbj10aGlzLl9nZXN0dXJlTWdyOyJzdGFydCI9PT1lJiZuLmNsZWFyKCk7dmFyIGk9bi5yZWNvZ25pemUodCx0aGlzLmZpbmRIb3Zlcih0LnpyWCx0LnpyWSxudWxsKS50YXJnZXQsdGhpcy5wcm94eS5kb20pO2lmKCJlbmQiPT09ZSYmbi5jbGVhcigpLGkpe3ZhciByPWkudHlwZTt0Lmdlc3R1cmVFdmVudD1yO3ZhciBvPW5ldyBnZTtvLnRhcmdldD1pLnRhcmdldCx0aGlzLmRpc3BhdGNoVG9FbGVtZW50KG8scixpLmV2ZW50KX19LGV9KFh0KTtmdW5jdGlvbiBtZSh0LGUsbil7aWYodFt0LnJlY3RIb3Zlcj8icmVjdENvbnRhaW4iOiJjb250YWluIl0oZSxuKSl7Zm9yKHZhciBpPXQscj12b2lkIDAsbz0hMTtpOyl7aWYoaS5pZ25vcmVDbGlwJiYobz0hMCksIW8pe3ZhciBhPWkuZ2V0Q2xpcFBhdGgoKTtpZihhJiYhYS5jb250YWluKGUsbikpcmV0dXJuITE7aS5zaWxlbnQmJihyPSEwKX12YXIgcz1pLl9faG9zdFRhcmdldDtpPXN8fGkucGFyZW50fXJldHVybiFyfHxwZX1yZXR1cm4hMX1mdW5jdGlvbiB4ZSh0LGUsbil7dmFyIGk9dC5wYWludGVyO3JldHVybiBlPDB8fGU+aS5nZXRXaWR0aCgpfHxuPDB8fG4+aS5nZXRIZWlnaHQoKX1FKFsiY2xpY2siLCJtb3VzZWRvd24iLCJtb3VzZXVwIiwibW91c2V3aGVlbCIsImRibGNsaWNrIiwiY29udGV4dG1lbnUiXSwoZnVuY3Rpb24odCl7dmUucHJvdG90eXBlW3RdPWZ1bmN0aW9uKGUpe3ZhciBuLGkscj1lLnpyWCxvPWUuenJZLGE9eGUodGhpcyxyLG8pO2lmKCJtb3VzZXVwIj09PXQmJmF8fChpPShuPXRoaXMuZmluZEhvdmVyKHIsbykpLnRhcmdldCksIm1vdXNlZG93biI9PT10KXRoaXMuX2Rvd25FbD1pLHRoaXMuX2Rvd25Qb2ludD1bZS56clgsZS56clldLHRoaXMuX3VwRWw9aTtlbHNlIGlmKCJtb3VzZXVwIj09PXQpdGhpcy5fdXBFbD1pO2Vsc2UgaWYoImNsaWNrIj09PXQpe2lmKHRoaXMuX2Rvd25FbCE9PXRoaXMuX3VwRWx8fCF0aGlzLl9kb3duUG9pbnR8fEV0KHRoaXMuX2Rvd25Qb2ludCxbZS56clgsZS56clldKT40KXJldHVybjt0aGlzLl9kb3duUG9pbnQ9bnVsbH10aGlzLmRpc3BhdGNoVG9FbGVtZW50KG4sdCxlKX19KSk7ZnVuY3Rpb24gX2UodCxlLG4saSl7dmFyIHI9ZSsxO2lmKHI9PT1uKXJldHVybiAxO2lmKGkodFtyKytdLHRbZV0pPDApe2Zvcig7cjxuJiZpKHRbcl0sdFtyLTFdKTwwOylyKys7IWZ1bmN0aW9uKHQsZSxuKXtuLS07Zm9yKDtlPG47KXt2YXIgaT10W2VdO3RbZSsrXT10W25dLHRbbi0tXT1pfX0odCxlLHIpfWVsc2UgZm9yKDtyPG4mJmkodFtyXSx0W3ItMV0pPj0wOylyKys7cmV0dXJuIHItZX1mdW5jdGlvbiBiZSh0LGUsbixpLHIpe2ZvcihpPT09ZSYmaSsrO2k8bjtpKyspe2Zvcih2YXIgbyxhPXRbaV0scz1lLGw9aTtzPGw7KXIoYSx0W289cytsPj4+MV0pPDA/bD1vOnM9bysxO3ZhciB1PWktcztzd2l0Y2godSl7Y2FzZSAzOnRbcyszXT10W3MrMl07Y2FzZSAyOnRbcysyXT10W3MrMV07Y2FzZSAxOnRbcysxXT10W3NdO2JyZWFrO2RlZmF1bHQ6Zm9yKDt1PjA7KXRbcyt1XT10W3MrdS0xXSx1LS19dFtzXT1hfX1mdW5jdGlvbiB3ZSh0LGUsbixpLHIsbyl7dmFyIGE9MCxzPTAsbD0xO2lmKG8odCxlW24rcl0pPjApe2ZvcihzPWktcjtsPHMmJm8odCxlW24rcitsXSk+MDspYT1sLChsPTErKGw8PDEpKTw9MCYmKGw9cyk7bD5zJiYobD1zKSxhKz1yLGwrPXJ9ZWxzZXtmb3Iocz1yKzE7bDxzJiZvKHQsZVtuK3ItbF0pPD0wOylhPWwsKGw9MSsobDw8MSkpPD0wJiYobD1zKTtsPnMmJihsPXMpO3ZhciB1PWE7YT1yLWwsbD1yLXV9Zm9yKGErKzthPGw7KXt2YXIgaD1hKyhsLWE+Pj4xKTtvKHQsZVtuK2hdKT4wP2E9aCsxOmw9aH1yZXR1cm4gbH1mdW5jdGlvbiBTZSh0LGUsbixpLHIsbyl7dmFyIGE9MCxzPTAsbD0xO2lmKG8odCxlW24rcl0pPDApe2ZvcihzPXIrMTtsPHMmJm8odCxlW24rci1sXSk8MDspYT1sLChsPTErKGw8PDEpKTw9MCYmKGw9cyk7bD5zJiYobD1zKTt2YXIgdT1hO2E9ci1sLGw9ci11fWVsc2V7Zm9yKHM9aS1yO2w8cyYmbyh0LGVbbityK2xdKT49MDspYT1sLChsPTErKGw8PDEpKTw9MCYmKGw9cyk7bD5zJiYobD1zKSxhKz1yLGwrPXJ9Zm9yKGErKzthPGw7KXt2YXIgaD1hKyhsLWE+Pj4xKTtvKHQsZVtuK2hdKTwwP2w9aDphPWgrMX1yZXR1cm4gbH1mdW5jdGlvbiBNZSh0LGUpe3ZhciBuLGkscj03LG89MDt0Lmxlbmd0aDt2YXIgYT1bXTtmdW5jdGlvbiBzKHMpe3ZhciBsPW5bc10sdT1pW3NdLGg9bltzKzFdLGM9aVtzKzFdO2lbc109dStjLHM9PT1vLTMmJihuW3MrMV09bltzKzJdLGlbcysxXT1pW3MrMl0pLG8tLTt2YXIgcD1TZSh0W2hdLHQsbCx1LDAsZSk7bCs9cCwwIT09KHUtPXApJiYwIT09KGM9d2UodFtsK3UtMV0sdCxoLGMsYy0xLGUpKSYmKHU8PWM/ZnVuY3Rpb24obixpLG8scyl7dmFyIGw9MDtmb3IobD0wO2w8aTtsKyspYVtsXT10W24rbF07dmFyIHU9MCxoPW8sYz1uO2lmKHRbYysrXT10W2grK10sMD09LS1zKXtmb3IobD0wO2w8aTtsKyspdFtjK2xdPWFbdStsXTtyZXR1cm59aWYoMT09PWkpe2ZvcihsPTA7bDxzO2wrKyl0W2MrbF09dFtoK2xdO3JldHVybiB2b2lkKHRbYytzXT1hW3VdKX12YXIgcCxkLGYsZz1yO2Zvcig7Oyl7cD0wLGQ9MCxmPSExO2Rve2lmKGUodFtoXSxhW3VdKTwwKXtpZih0W2MrK109dFtoKytdLGQrKyxwPTAsMD09LS1zKXtmPSEwO2JyZWFrfX1lbHNlIGlmKHRbYysrXT1hW3UrK10scCsrLGQ9MCwxPT0tLWkpe2Y9ITA7YnJlYWt9fXdoaWxlKChwfGQpPGcpO2lmKGYpYnJlYWs7ZG97aWYoMCE9PShwPVNlKHRbaF0sYSx1LGksMCxlKSkpe2ZvcihsPTA7bDxwO2wrKyl0W2MrbF09YVt1K2xdO2lmKGMrPXAsdSs9cCwoaS09cCk8PTEpe2Y9ITA7YnJlYWt9fWlmKHRbYysrXT10W2grK10sMD09LS1zKXtmPSEwO2JyZWFrfWlmKDAhPT0oZD13ZShhW3VdLHQsaCxzLDAsZSkpKXtmb3IobD0wO2w8ZDtsKyspdFtjK2xdPXRbaCtsXTtpZihjKz1kLGgrPWQsMD09PShzLT1kKSl7Zj0hMDticmVha319aWYodFtjKytdPWFbdSsrXSwxPT0tLWkpe2Y9ITA7YnJlYWt9Zy0tfXdoaWxlKHA+PTd8fGQ+PTcpO2lmKGYpYnJlYWs7ZzwwJiYoZz0wKSxnKz0yfWlmKChyPWcpPDEmJihyPTEpLDE9PT1pKXtmb3IobD0wO2w8cztsKyspdFtjK2xdPXRbaCtsXTt0W2Mrc109YVt1XX1lbHNle2lmKDA9PT1pKXRocm93IG5ldyBFcnJvcjtmb3IobD0wO2w8aTtsKyspdFtjK2xdPWFbdStsXX19KGwsdSxoLGMpOmZ1bmN0aW9uKG4saSxvLHMpe3ZhciBsPTA7Zm9yKGw9MDtsPHM7bCsrKWFbbF09dFtvK2xdO3ZhciB1PW4raS0xLGg9cy0xLGM9bytzLTEscD0wLGQ9MDtpZih0W2MtLV09dFt1LS1dLDA9PS0taSl7Zm9yKHA9Yy0ocy0xKSxsPTA7bDxzO2wrKyl0W3ArbF09YVtsXTtyZXR1cm59aWYoMT09PXMpe2ZvcihkPShjLT1pKSsxLHA9KHUtPWkpKzEsbD1pLTE7bD49MDtsLS0pdFtkK2xdPXRbcCtsXTtyZXR1cm4gdm9pZCh0W2NdPWFbaF0pfXZhciBmPXI7Zm9yKDs7KXt2YXIgZz0wLHk9MCx2PSExO2Rve2lmKGUoYVtoXSx0W3VdKTwwKXtpZih0W2MtLV09dFt1LS1dLGcrKyx5PTAsMD09LS1pKXt2PSEwO2JyZWFrfX1lbHNlIGlmKHRbYy0tXT1hW2gtLV0seSsrLGc9MCwxPT0tLXMpe3Y9ITA7YnJlYWt9fXdoaWxlKChnfHkpPGYpO2lmKHYpYnJlYWs7ZG97aWYoMCE9PShnPWktU2UoYVtoXSx0LG4saSxpLTEsZSkpKXtmb3IoaS09ZyxkPShjLT1nKSsxLHA9KHUtPWcpKzEsbD1nLTE7bD49MDtsLS0pdFtkK2xdPXRbcCtsXTtpZigwPT09aSl7dj0hMDticmVha319aWYodFtjLS1dPWFbaC0tXSwxPT0tLXMpe3Y9ITA7YnJlYWt9aWYoMCE9PSh5PXMtd2UodFt1XSxhLDAscyxzLTEsZSkpKXtmb3Iocy09eSxkPShjLT15KSsxLHA9KGgtPXkpKzEsbD0wO2w8eTtsKyspdFtkK2xdPWFbcCtsXTtpZihzPD0xKXt2PSEwO2JyZWFrfX1pZih0W2MtLV09dFt1LS1dLDA9PS0taSl7dj0hMDticmVha31mLS19d2hpbGUoZz49N3x8eT49Nyk7aWYodilicmVhaztmPDAmJihmPTApLGYrPTJ9KHI9Zik8MSYmKHI9MSk7aWYoMT09PXMpe2ZvcihkPShjLT1pKSsxLHA9KHUtPWkpKzEsbD1pLTE7bD49MDtsLS0pdFtkK2xdPXRbcCtsXTt0W2NdPWFbaF19ZWxzZXtpZigwPT09cyl0aHJvdyBuZXcgRXJyb3I7Zm9yKHA9Yy0ocy0xKSxsPTA7bDxzO2wrKyl0W3ArbF09YVtsXX19KGwsdSxoLGMpKX1yZXR1cm4gbj1bXSxpPVtdLHttZXJnZVJ1bnM6ZnVuY3Rpb24oKXtmb3IoO28+MTspe3ZhciB0PW8tMjtpZih0Pj0xJiZpW3QtMV08PWlbdF0raVt0KzFdfHx0Pj0yJiZpW3QtMl08PWlbdF0raVt0LTFdKWlbdC0xXTxpW3QrMV0mJnQtLTtlbHNlIGlmKGlbdF0+aVt0KzFdKWJyZWFrO3ModCl9fSxmb3JjZU1lcmdlUnVuczpmdW5jdGlvbigpe2Zvcig7bz4xOyl7dmFyIHQ9by0yO3Q+MCYmaVt0LTFdPGlbdCsxXSYmdC0tLHModCl9fSxwdXNoUnVuOmZ1bmN0aW9uKHQsZSl7bltvXT10LGlbb109ZSxvKz0xfX19ZnVuY3Rpb24gSWUodCxlLG4saSl7bnx8KG49MCksaXx8KGk9dC5sZW5ndGgpO3ZhciByPWktbjtpZighKHI8Mikpe3ZhciBvPTA7aWYocjwzMiliZSh0LG4saSxuKyhvPV9lKHQsbixpLGUpKSxlKTtlbHNle3ZhciBhPU1lKHQsZSkscz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDt0Pj0zMjspZXw9MSZ0LHQ+Pj0xO3JldHVybiB0K2V9KHIpO2Rve2lmKChvPV9lKHQsbixpLGUpKTxzKXt2YXIgbD1yO2w+cyYmKGw9cyksYmUodCxuLG4rbCxuK28sZSksbz1sfWEucHVzaFJ1bihuLG8pLGEubWVyZ2VSdW5zKCksci09byxuKz1vfXdoaWxlKDAhPT1yKTthLmZvcmNlTWVyZ2VSdW5zKCl9fX12YXIgVGU9ITE7ZnVuY3Rpb24gQ2UoKXtUZXx8KFRlPSEwLGNvbnNvbGUud2FybigieiAvIHoyIC8gemxldmVsIG9mIGRpc3BsYXlhYmxlIGlzIGludmFsaWQsIHdoaWNoIG1heSBjYXVzZSB1bmV4cGVjdGVkIGVycm9ycyIpKX1mdW5jdGlvbiBEZSh0LGUpe3JldHVybiB0LnpsZXZlbD09PWUuemxldmVsP3Quej09PWUuej90LnoyLWUuejI6dC56LWUuejp0LnpsZXZlbC1lLnpsZXZlbH12YXIgQWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5fcm9vdHM9W10sdGhpcy5fZGlzcGxheUxpc3Q9W10sdGhpcy5fZGlzcGxheUxpc3RMZW49MCx0aGlzLmRpc3BsYXlhYmxlU29ydEZ1bmM9RGV9cmV0dXJuIHQucHJvdG90eXBlLnRyYXZlcnNlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjx0aGlzLl9yb290cy5sZW5ndGg7bisrKXRoaXMuX3Jvb3RzW25dLnRyYXZlcnNlKHQsZSl9LHQucHJvdG90eXBlLmdldERpc3BsYXlMaXN0PWZ1bmN0aW9uKHQsZSl7ZT1lfHwhMTt2YXIgbj10aGlzLl9kaXNwbGF5TGlzdDtyZXR1cm4hdCYmbi5sZW5ndGh8fHRoaXMudXBkYXRlRGlzcGxheUxpc3QoZSksbn0sdC5wcm90b3R5cGUudXBkYXRlRGlzcGxheUxpc3Q9ZnVuY3Rpb24odCl7dGhpcy5fZGlzcGxheUxpc3RMZW49MDtmb3IodmFyIGU9dGhpcy5fcm9vdHMsbj10aGlzLl9kaXNwbGF5TGlzdCxpPTAscj1lLmxlbmd0aDtpPHI7aSsrKXRoaXMuX3VwZGF0ZUFuZEFkZERpc3BsYXlhYmxlKGVbaV0sbnVsbCx0KTtuLmxlbmd0aD10aGlzLl9kaXNwbGF5TGlzdExlbixJZShuLERlKX0sdC5wcm90b3R5cGUuX3VwZGF0ZUFuZEFkZERpc3BsYXlhYmxlPWZ1bmN0aW9uKHQsZSxuKXtpZighdC5pZ25vcmV8fG4pe3QuYmVmb3JlVXBkYXRlKCksdC51cGRhdGUoKSx0LmFmdGVyVXBkYXRlKCk7dmFyIGk9dC5nZXRDbGlwUGF0aCgpO2lmKHQuaWdub3JlQ2xpcCllPW51bGw7ZWxzZSBpZihpKXtlPWU/ZS5zbGljZSgpOltdO2Zvcih2YXIgcj1pLG89dDtyOylyLnBhcmVudD1vLHIudXBkYXRlVHJhbnNmb3JtKCksZS5wdXNoKHIpLG89cixyPXIuZ2V0Q2xpcFBhdGgoKX1pZih0LmNoaWxkcmVuUmVmKXtmb3IodmFyIGE9dC5jaGlsZHJlblJlZigpLHM9MDtzPGEubGVuZ3RoO3MrKyl7dmFyIGw9YVtzXTt0Ll9fZGlydHkmJihsLl9fZGlydHl8PTEpLHRoaXMuX3VwZGF0ZUFuZEFkZERpc3BsYXlhYmxlKGwsZSxuKX10Ll9fZGlydHk9MH1lbHNle3ZhciB1PXQ7ZSYmZS5sZW5ndGg/dS5fX2NsaXBQYXRocz1lOnUuX19jbGlwUGF0aHMmJnUuX19jbGlwUGF0aHMubGVuZ3RoPjAmJih1Ll9fY2xpcFBhdGhzPVtdKSxpc05hTih1LnopJiYoQ2UoKSx1Lno9MCksaXNOYU4odS56MikmJihDZSgpLHUuejI9MCksaXNOYU4odS56bGV2ZWwpJiYoQ2UoKSx1LnpsZXZlbD0wKSx0aGlzLl9kaXNwbGF5TGlzdFt0aGlzLl9kaXNwbGF5TGlzdExlbisrXT11fXZhciBoPXQuZ2V0RGVjYWxFbGVtZW50JiZ0LmdldERlY2FsRWxlbWVudCgpO2gmJnRoaXMuX3VwZGF0ZUFuZEFkZERpc3BsYXlhYmxlKGgsZSxuKTt2YXIgYz10LmdldFRleHRHdWlkZUxpbmUoKTtjJiZ0aGlzLl91cGRhdGVBbmRBZGREaXNwbGF5YWJsZShjLGUsbik7dmFyIHA9dC5nZXRUZXh0Q29udGVudCgpO3AmJnRoaXMuX3VwZGF0ZUFuZEFkZERpc3BsYXlhYmxlKHAsZSxuKX19LHQucHJvdG90eXBlLmFkZFJvb3Q9ZnVuY3Rpb24odCl7dC5fX3pyJiZ0Ll9fenIuc3RvcmFnZT09PXRoaXN8fHRoaXMuX3Jvb3RzLnB1c2godCl9LHQucHJvdG90eXBlLmRlbFJvb3Q9ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIEFycmF5KWZvcih2YXIgZT0wLG49dC5sZW5ndGg7ZTxuO2UrKyl0aGlzLmRlbFJvb3QodFtlXSk7ZWxzZXt2YXIgaT1QKHRoaXMuX3Jvb3RzLHQpO2k+PTAmJnRoaXMuX3Jvb3RzLnNwbGljZShpLDEpfX0sdC5wcm90b3R5cGUuZGVsQWxsUm9vdHM9ZnVuY3Rpb24oKXt0aGlzLl9yb290cz1bXSx0aGlzLl9kaXNwbGF5TGlzdD1bXSx0aGlzLl9kaXNwbGF5TGlzdExlbj0wfSx0LnByb3RvdHlwZS5nZXRSb290cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb290c30sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2Rpc3BsYXlMaXN0PW51bGwsdGhpcy5fcm9vdHM9bnVsbH0sdH0oKSxrZT1yLmhhc0dsb2JhbFdpbmRvdyYmKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUmJndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUuYmluZCh3aW5kb3cpfHx3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUmJndpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdyl8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUpfHxmdW5jdGlvbih0KXtyZXR1cm4gc2V0VGltZW91dCh0LDE2KX0sTGU9e2xpbmVhcjpmdW5jdGlvbih0KXtyZXR1cm4gdH0scXVhZHJhdGljSW46ZnVuY3Rpb24odCl7cmV0dXJuIHQqdH0scXVhZHJhdGljT3V0OmZ1bmN0aW9uKHQpe3JldHVybiB0KigyLXQpfSxxdWFkcmF0aWNJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8uNSp0KnQ6LS41KigtLXQqKHQtMiktMSl9LGN1YmljSW46ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCp0fSxjdWJpY091dDpmdW5jdGlvbih0KXtyZXR1cm4tLXQqdCp0KzF9LGN1YmljSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQqPTIpPDE/LjUqdCp0KnQ6LjUqKCh0LT0yKSp0KnQrMil9LHF1YXJ0aWNJbjpmdW5jdGlvbih0KXtyZXR1cm4gdCp0KnQqdH0scXVhcnRpY091dDpmdW5jdGlvbih0KXtyZXR1cm4gMS0gLS10KnQqdCp0fSxxdWFydGljSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQqPTIpPDE/LjUqdCp0KnQqdDotLjUqKCh0LT0yKSp0KnQqdC0yKX0scXVpbnRpY0luOmZ1bmN0aW9uKHQpe3JldHVybiB0KnQqdCp0KnR9LHF1aW50aWNPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuLS10KnQqdCp0KnQrMX0scXVpbnRpY0luT3V0OmZ1bmN0aW9uKHQpe3JldHVybih0Kj0yKTwxPy41KnQqdCp0KnQqdDouNSooKHQtPTIpKnQqdCp0KnQrMil9LHNpbnVzb2lkYWxJbjpmdW5jdGlvbih0KXtyZXR1cm4gMS1NYXRoLmNvcyh0Kk1hdGguUEkvMil9LHNpbnVzb2lkYWxPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguc2luKHQqTWF0aC5QSS8yKX0sc2ludXNvaWRhbEluT3V0OmZ1bmN0aW9uKHQpe3JldHVybi41KigxLU1hdGguY29zKE1hdGguUEkqdCkpfSxleHBvbmVudGlhbEluOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dD8wOk1hdGgucG93KDEwMjQsdC0xKX0sZXhwb25lbnRpYWxPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIDE9PT10PzE6MS1NYXRoLnBvdygyLC0xMCp0KX0sZXhwb25lbnRpYWxJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQ/MDoxPT09dD8xOih0Kj0yKTwxPy41Kk1hdGgucG93KDEwMjQsdC0xKTouNSooMi1NYXRoLnBvdygyLC0xMCoodC0xKSkpfSxjaXJjdWxhckluOmZ1bmN0aW9uKHQpe3JldHVybiAxLU1hdGguc3FydCgxLXQqdCl9LGNpcmN1bGFyT3V0OmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQoMS0gLS10KnQpfSxjaXJjdWxhckluT3V0OmZ1bmN0aW9uKHQpe3JldHVybih0Kj0yKTwxPy0uNSooTWF0aC5zcXJ0KDEtdCp0KS0xKTouNSooTWF0aC5zcXJ0KDEtKHQtPTIpKnQpKzEpfSxlbGFzdGljSW46ZnVuY3Rpb24odCl7dmFyIGUsbj0uMTtyZXR1cm4gMD09PXQ/MDoxPT09dD8xOighbnx8bjwxPyhuPTEsZT0uMSk6ZT0uNCpNYXRoLmFzaW4oMS9uKS8oMipNYXRoLlBJKSwtbipNYXRoLnBvdygyLDEwKih0LT0xKSkqTWF0aC5zaW4oKHQtZSkqKDIqTWF0aC5QSSkvLjQpKX0sZWxhc3RpY091dDpmdW5jdGlvbih0KXt2YXIgZSxuPS4xO3JldHVybiAwPT09dD8wOjE9PT10PzE6KCFufHxuPDE/KG49MSxlPS4xKTplPS40Kk1hdGguYXNpbigxL24pLygyKk1hdGguUEkpLG4qTWF0aC5wb3coMiwtMTAqdCkqTWF0aC5zaW4oKHQtZSkqKDIqTWF0aC5QSSkvLjQpKzEpfSxlbGFzdGljSW5PdXQ6ZnVuY3Rpb24odCl7dmFyIGUsbj0uMSxpPS40O3JldHVybiAwPT09dD8wOjE9PT10PzE6KCFufHxuPDE/KG49MSxlPS4xKTplPWkqTWF0aC5hc2luKDEvbikvKDIqTWF0aC5QSSksKHQqPTIpPDE/bipNYXRoLnBvdygyLDEwKih0LT0xKSkqTWF0aC5zaW4oKHQtZSkqKDIqTWF0aC5QSSkvaSkqLS41Om4qTWF0aC5wb3coMiwtMTAqKHQtPTEpKSpNYXRoLnNpbigodC1lKSooMipNYXRoLlBJKS9pKSouNSsxKX0sYmFja0luOmZ1bmN0aW9uKHQpe3ZhciBlPTEuNzAxNTg7cmV0dXJuIHQqdCooKGUrMSkqdC1lKX0sYmFja091dDpmdW5jdGlvbih0KXt2YXIgZT0xLjcwMTU4O3JldHVybi0tdCp0KigoZSsxKSp0K2UpKzF9LGJhY2tJbk91dDpmdW5jdGlvbih0KXt2YXIgZT0yLjU5NDkwOTU7cmV0dXJuKHQqPTIpPDE/dCp0KigoZSsxKSp0LWUpKi41Oi41KigodC09MikqdCooKGUrMSkqdCtlKSsyKX0sYm91bmNlSW46ZnVuY3Rpb24odCl7cmV0dXJuIDEtTGUuYm91bmNlT3V0KDEtdCl9LGJvdW5jZU91dDpmdW5jdGlvbih0KXtyZXR1cm4gdDwxLzIuNzU/Ny41NjI1KnQqdDp0PDIvMi43NT83LjU2MjUqKHQtPTEuNS8yLjc1KSp0Ky43NTp0PDIuNS8yLjc1PzcuNTYyNSoodC09Mi4yNS8yLjc1KSp0Ky45Mzc1OjcuNTYyNSoodC09Mi42MjUvMi43NSkqdCsuOTg0Mzc1fSxib3VuY2VJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4gdDwuNT8uNSpMZS5ib3VuY2VJbigyKnQpOi41KkxlLmJvdW5jZU91dCgyKnQtMSkrLjV9fSxQZT1NYXRoLnBvdyxPZT1NYXRoLnNxcnQsUmU9MWUtOCxOZT0xZS00LEVlPU9lKDMpLHplPTEvMyxWZT13dCgpLEJlPXd0KCksRmU9d3QoKTtmdW5jdGlvbiBHZSh0KXtyZXR1cm4gdD4tMWUtOCYmdDxSZX1mdW5jdGlvbiBXZSh0KXtyZXR1cm4gdD5SZXx8dDwtMWUtOH1mdW5jdGlvbiBIZSh0LGUsbixpLHIpe3ZhciBvPTEtcjtyZXR1cm4gbypvKihvKnQrMypyKmUpK3IqcioocippKzMqbypuKX1mdW5jdGlvbiBZZSh0LGUsbixpLHIpe3ZhciBvPTEtcjtyZXR1cm4gMyooKChlLXQpKm8rMioobi1lKSpyKSpvKyhpLW4pKnIqcil9ZnVuY3Rpb24gVWUodCxlLG4saSxyLG8pe3ZhciBhPWkrMyooZS1uKS10LHM9Myoobi0yKmUrdCksbD0zKihlLXQpLHU9dC1yLGg9cypzLTMqYSpsLGM9cypsLTkqYSp1LHA9bCpsLTMqcyp1LGQ9MDtpZihHZShoKSYmR2UoYykpe2lmKEdlKHMpKW9bMF09MDtlbHNlKE09LWwvcyk+PTAmJk08PTEmJihvW2QrK109TSl9ZWxzZXt2YXIgZj1jKmMtNCpoKnA7aWYoR2UoZikpe3ZhciBnPWMvaCx5PS1nLzI7KE09LXMvYStnKT49MCYmTTw9MSYmKG9bZCsrXT1NKSx5Pj0wJiZ5PD0xJiYob1tkKytdPXkpfWVsc2UgaWYoZj4wKXt2YXIgdj1PZShmKSxtPWgqcysxLjUqYSooLWMrdikseD1oKnMrMS41KmEqKC1jLXYpOyhNPSgtcy0oKG09bTwwPy1QZSgtbSx6ZSk6UGUobSx6ZSkpKyh4PXg8MD8tUGUoLXgsemUpOlBlKHgsemUpKSkpLygzKmEpKT49MCYmTTw9MSYmKG9bZCsrXT1NKX1lbHNle3ZhciBfPSgyKmgqcy0zKmEqYykvKDIqT2UoaCpoKmgpKSxiPU1hdGguYWNvcyhfKS8zLHc9T2UoaCksUz1NYXRoLmNvcyhiKSxNPSgtcy0yKncqUykvKDMqYSksST0oeT0oLXMrdyooUytFZSpNYXRoLnNpbihiKSkpLygzKmEpLCgtcyt3KihTLUVlKk1hdGguc2luKGIpKSkvKDMqYSkpO00+PTAmJk08PTEmJihvW2QrK109TSkseT49MCYmeTw9MSYmKG9bZCsrXT15KSxJPj0wJiZJPD0xJiYob1tkKytdPUkpfX1yZXR1cm4gZH1mdW5jdGlvbiBYZSh0LGUsbixpLHIpe3ZhciBvPTYqbi0xMiplKzYqdCxhPTkqZSszKmktMyp0LTkqbixzPTMqZS0zKnQsbD0wO2lmKEdlKGEpKXtpZihXZShvKSkoaD0tcy9vKT49MCYmaDw9MSYmKHJbbCsrXT1oKX1lbHNle3ZhciB1PW8qby00KmEqcztpZihHZSh1KSlyWzBdPS1vLygyKmEpO2Vsc2UgaWYodT4wKXt2YXIgaCxjPU9lKHUpLHA9KC1vLWMpLygyKmEpOyhoPSgtbytjKS8oMiphKSk+PTAmJmg8PTEmJihyW2wrK109aCkscD49MCYmcDw9MSYmKHJbbCsrXT1wKX19cmV0dXJuIGx9ZnVuY3Rpb24gWmUodCxlLG4saSxyLG8pe3ZhciBhPShlLXQpKnIrdCxzPShuLWUpKnIrZSxsPShpLW4pKnIrbix1PShzLWEpKnIrYSxoPShsLXMpKnIrcyxjPShoLXUpKnIrdTtvWzBdPXQsb1sxXT1hLG9bMl09dSxvWzNdPWMsb1s0XT1jLG9bNV09aCxvWzZdPWwsb1s3XT1pfWZ1bmN0aW9uIGplKHQsZSxuLGkscixvLGEscyxsLHUsaCl7dmFyIGMscCxkLGYsZyx5PS4wMDUsdj0xLzA7VmVbMF09bCxWZVsxXT11O2Zvcih2YXIgbT0wO208MTttKz0uMDUpQmVbMF09SGUodCxuLHIsYSxtKSxCZVsxXT1IZShlLGksbyxzLG0pLChmPVZ0KFZlLEJlKSk8diYmKGM9bSx2PWYpO3Y9MS8wO2Zvcih2YXIgeD0wO3g8MzImJiEoeTxOZSk7eCsrKXA9Yy15LGQ9Yyt5LEJlWzBdPUhlKHQsbixyLGEscCksQmVbMV09SGUoZSxpLG8scyxwKSxmPVZ0KEJlLFZlKSxwPj0wJiZmPHY/KGM9cCx2PWYpOihGZVswXT1IZSh0LG4scixhLGQpLEZlWzFdPUhlKGUsaSxvLHMsZCksZz1WdChGZSxWZSksZDw9MSYmZzx2PyhjPWQsdj1nKTp5Kj0uNSk7cmV0dXJuIGgmJihoWzBdPUhlKHQsbixyLGEsYyksaFsxXT1IZShlLGksbyxzLGMpKSxPZSh2KX1mdW5jdGlvbiBxZSh0LGUsbixpLHIsbyxhLHMsbCl7Zm9yKHZhciB1PXQsaD1lLGM9MCxwPTEvbCxkPTE7ZDw9bDtkKyspe3ZhciBmPWQqcCxnPUhlKHQsbixyLGEsZikseT1IZShlLGksbyxzLGYpLHY9Zy11LG09eS1oO2MrPU1hdGguc3FydCh2KnYrbSptKSx1PWcsaD15fXJldHVybiBjfWZ1bmN0aW9uIEtlKHQsZSxuLGkpe3ZhciByPTEtaTtyZXR1cm4gcioocip0KzIqaSplKStpKmkqbn1mdW5jdGlvbiAkZSh0LGUsbixpKXtyZXR1cm4gMiooKDEtaSkqKGUtdCkraSoobi1lKSl9ZnVuY3Rpb24gSmUodCxlLG4pe3ZhciBpPXQrbi0yKmU7cmV0dXJuIDA9PT1pPy41Oih0LWUpL2l9ZnVuY3Rpb24gUWUodCxlLG4saSxyKXt2YXIgbz0oZS10KSppK3QsYT0obi1lKSppK2Uscz0oYS1vKSppK287clswXT10LHJbMV09byxyWzJdPXMsclszXT1zLHJbNF09YSxyWzVdPW59ZnVuY3Rpb24gdG4odCxlLG4saSxyLG8sYSxzLGwpe3ZhciB1LGg9LjAwNSxjPTEvMDtWZVswXT1hLFZlWzFdPXM7Zm9yKHZhciBwPTA7cDwxO3ArPS4wNSl7QmVbMF09S2UodCxuLHIscCksQmVbMV09S2UoZSxpLG8scCksKHk9VnQoVmUsQmUpKTxjJiYodT1wLGM9eSl9Yz0xLzA7Zm9yKHZhciBkPTA7ZDwzMiYmIShoPE5lKTtkKyspe3ZhciBmPXUtaCxnPXUraDtCZVswXT1LZSh0LG4scixmKSxCZVsxXT1LZShlLGksbyxmKTt2YXIgeT1WdChCZSxWZSk7aWYoZj49MCYmeTxjKXU9ZixjPXk7ZWxzZXtGZVswXT1LZSh0LG4scixnKSxGZVsxXT1LZShlLGksbyxnKTt2YXIgdj1WdChGZSxWZSk7Zzw9MSYmdjxjPyh1PWcsYz12KTpoKj0uNX19cmV0dXJuIGwmJihsWzBdPUtlKHQsbixyLHUpLGxbMV09S2UoZSxpLG8sdSkpLE9lKGMpfWZ1bmN0aW9uIGVuKHQsZSxuLGkscixvLGEpe2Zvcih2YXIgcz10LGw9ZSx1PTAsaD0xL2EsYz0xO2M8PWE7YysrKXt2YXIgcD1jKmgsZD1LZSh0LG4scixwKSxmPUtlKGUsaSxvLHApLGc9ZC1zLHk9Zi1sO3UrPU1hdGguc3FydChnKmcreSp5KSxzPWQsbD1mfXJldHVybiB1fXZhciBubj0vY3ViaWMtYmV6aWVyXCgoWzAtOSxcLmUgXSspXCkvO2Z1bmN0aW9uIHJuKHQpe3ZhciBlPXQmJm5uLmV4ZWModCk7aWYoZSl7dmFyIG49ZVsxXS5zcGxpdCgiLCIpLGk9K3V0KG5bMF0pLHI9K3V0KG5bMV0pLG89K3V0KG5bMl0pLGE9K3V0KG5bM10pO2lmKGlzTmFOKGkrcitvK2EpKXJldHVybjt2YXIgcz1bXTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQ8PTA/MDp0Pj0xPzE6VWUoMCxpLG8sMSx0LHMpJiZIZSgwLHIsYSwxLHNbMF0pfX19dmFyIG9uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9pbml0ZWQ9ITEsdGhpcy5fc3RhcnRUaW1lPTAsdGhpcy5fcGF1c2VkVGltZT0wLHRoaXMuX3BhdXNlZD0hMSx0aGlzLl9saWZlPXQubGlmZXx8MWUzLHRoaXMuX2RlbGF5PXQuZGVsYXl8fDAsdGhpcy5sb29wPXQubG9vcHx8ITEsdGhpcy5vbmZyYW1lPXQub25mcmFtZXx8eHQsdGhpcy5vbmRlc3Ryb3k9dC5vbmRlc3Ryb3l8fHh0LHRoaXMub25yZXN0YXJ0PXQub25yZXN0YXJ0fHx4dCx0LmVhc2luZyYmdGhpcy5zZXRFYXNpbmcodC5lYXNpbmcpfXJldHVybiB0LnByb3RvdHlwZS5zdGVwPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5faW5pdGVkfHwodGhpcy5fc3RhcnRUaW1lPXQrdGhpcy5fZGVsYXksdGhpcy5faW5pdGVkPSEwKSwhdGhpcy5fcGF1c2VkKXt2YXIgbj10aGlzLl9saWZlLGk9dC10aGlzLl9zdGFydFRpbWUtdGhpcy5fcGF1c2VkVGltZSxyPWkvbjtyPDAmJihyPTApLHI9TWF0aC5taW4ociwxKTt2YXIgbz10aGlzLmVhc2luZ0Z1bmMsYT1vP28ocik6cjtpZih0aGlzLm9uZnJhbWUoYSksMT09PXIpe2lmKCF0aGlzLmxvb3ApcmV0dXJuITA7dmFyIHM9aSVuO3RoaXMuX3N0YXJ0VGltZT10LXMsdGhpcy5fcGF1c2VkVGltZT0wLHRoaXMub25yZXN0YXJ0KCl9cmV0dXJuITF9dGhpcy5fcGF1c2VkVGltZSs9ZX0sdC5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLl9wYXVzZWQ9ITB9LHQucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe3RoaXMuX3BhdXNlZD0hMX0sdC5wcm90b3R5cGUuc2V0RWFzaW5nPWZ1bmN0aW9uKHQpe3RoaXMuZWFzaW5nPXQsdGhpcy5lYXNpbmdGdW5jPVUodCk/dDpMZVt0XXx8cm4odCl9LHR9KCksYW49ZnVuY3Rpb24odCl7dGhpcy52YWx1ZT10fSxzbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9sZW49MH1yZXR1cm4gdC5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBhbih0KTtyZXR1cm4gdGhpcy5pbnNlcnRFbnRyeShlKSxlfSx0LnByb3RvdHlwZS5pbnNlcnRFbnRyeT1mdW5jdGlvbih0KXt0aGlzLmhlYWQ/KHRoaXMudGFpbC5uZXh0PXQsdC5wcmV2PXRoaXMudGFpbCx0Lm5leHQ9bnVsbCx0aGlzLnRhaWw9dCk6dGhpcy5oZWFkPXRoaXMudGFpbD10LHRoaXMuX2xlbisrfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9dC5wcmV2LG49dC5uZXh0O2U/ZS5uZXh0PW46dGhpcy5oZWFkPW4sbj9uLnByZXY9ZTp0aGlzLnRhaWw9ZSx0Lm5leHQ9dC5wcmV2PW51bGwsdGhpcy5fbGVuLS19LHQucHJvdG90eXBlLmxlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sZW59LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5oZWFkPXRoaXMudGFpbD1udWxsLHRoaXMuX2xlbj0wfSx0fSgpLGxuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9saXN0PW5ldyBzbix0aGlzLl9tYXhTaXplPTEwLHRoaXMuX21hcD17fSx0aGlzLl9tYXhTaXplPXR9cmV0dXJuIHQucHJvdG90eXBlLnB1dD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2xpc3QsaT10aGlzLl9tYXAscj1udWxsO2lmKG51bGw9PWlbdF0pe3ZhciBvPW4ubGVuKCksYT10aGlzLl9sYXN0UmVtb3ZlZEVudHJ5O2lmKG8+PXRoaXMuX21heFNpemUmJm8+MCl7dmFyIHM9bi5oZWFkO24ucmVtb3ZlKHMpLGRlbGV0ZSBpW3Mua2V5XSxyPXMudmFsdWUsdGhpcy5fbGFzdFJlbW92ZWRFbnRyeT1zfWE/YS52YWx1ZT1lOmE9bmV3IGFuKGUpLGEua2V5PXQsbi5pbnNlcnRFbnRyeShhKSxpW3RdPWF9cmV0dXJuIHJ9LHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYXBbdF0sbj10aGlzLl9saXN0O2lmKG51bGwhPWUpcmV0dXJuIGUhPT1uLnRhaWwmJihuLnJlbW92ZShlKSxuLmluc2VydEVudHJ5KGUpKSxlLnZhbHVlfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX2xpc3QuY2xlYXIoKSx0aGlzLl9tYXA9e319LHQucHJvdG90eXBlLmxlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9saXN0LmxlbigpfSx0fSgpLHVuPXt0cmFuc3BhcmVudDpbMCwwLDAsMF0sYWxpY2VibHVlOlsyNDAsMjQ4LDI1NSwxXSxhbnRpcXVld2hpdGU6WzI1MCwyMzUsMjE1LDFdLGFxdWE6WzAsMjU1LDI1NSwxXSxhcXVhbWFyaW5lOlsxMjcsMjU1LDIxMiwxXSxhenVyZTpbMjQwLDI1NSwyNTUsMV0sYmVpZ2U6WzI0NSwyNDUsMjIwLDFdLGJpc3F1ZTpbMjU1LDIyOCwxOTYsMV0sYmxhY2s6WzAsMCwwLDFdLGJsYW5jaGVkYWxtb25kOlsyNTUsMjM1LDIwNSwxXSxibHVlOlswLDAsMjU1LDFdLGJsdWV2aW9sZXQ6WzEzOCw0MywyMjYsMV0sYnJvd246WzE2NSw0Miw0MiwxXSxidXJseXdvb2Q6WzIyMiwxODQsMTM1LDFdLGNhZGV0Ymx1ZTpbOTUsMTU4LDE2MCwxXSxjaGFydHJldXNlOlsxMjcsMjU1LDAsMV0sY2hvY29sYXRlOlsyMTAsMTA1LDMwLDFdLGNvcmFsOlsyNTUsMTI3LDgwLDFdLGNvcm5mbG93ZXJibHVlOlsxMDAsMTQ5LDIzNywxXSxjb3Juc2lsazpbMjU1LDI0OCwyMjAsMV0sY3JpbXNvbjpbMjIwLDIwLDYwLDFdLGN5YW46WzAsMjU1LDI1NSwxXSxkYXJrYmx1ZTpbMCwwLDEzOSwxXSxkYXJrY3lhbjpbMCwxMzksMTM5LDFdLGRhcmtnb2xkZW5yb2Q6WzE4NCwxMzQsMTEsMV0sZGFya2dyYXk6WzE2OSwxNjksMTY5LDFdLGRhcmtncmVlbjpbMCwxMDAsMCwxXSxkYXJrZ3JleTpbMTY5LDE2OSwxNjksMV0sZGFya2toYWtpOlsxODksMTgzLDEwNywxXSxkYXJrbWFnZW50YTpbMTM5LDAsMTM5LDFdLGRhcmtvbGl2ZWdyZWVuOls4NSwxMDcsNDcsMV0sZGFya29yYW5nZTpbMjU1LDE0MCwwLDFdLGRhcmtvcmNoaWQ6WzE1Myw1MCwyMDQsMV0sZGFya3JlZDpbMTM5LDAsMCwxXSxkYXJrc2FsbW9uOlsyMzMsMTUwLDEyMiwxXSxkYXJrc2VhZ3JlZW46WzE0MywxODgsMTQzLDFdLGRhcmtzbGF0ZWJsdWU6WzcyLDYxLDEzOSwxXSxkYXJrc2xhdGVncmF5Ols0Nyw3OSw3OSwxXSxkYXJrc2xhdGVncmV5Ols0Nyw3OSw3OSwxXSxkYXJrdHVycXVvaXNlOlswLDIwNiwyMDksMV0sZGFya3Zpb2xldDpbMTQ4LDAsMjExLDFdLGRlZXBwaW5rOlsyNTUsMjAsMTQ3LDFdLGRlZXBza3libHVlOlswLDE5MSwyNTUsMV0sZGltZ3JheTpbMTA1LDEwNSwxMDUsMV0sZGltZ3JleTpbMTA1LDEwNSwxMDUsMV0sZG9kZ2VyYmx1ZTpbMzAsMTQ0LDI1NSwxXSxmaXJlYnJpY2s6WzE3OCwzNCwzNCwxXSxmbG9yYWx3aGl0ZTpbMjU1LDI1MCwyNDAsMV0sZm9yZXN0Z3JlZW46WzM0LDEzOSwzNCwxXSxmdWNoc2lhOlsyNTUsMCwyNTUsMV0sZ2FpbnNib3JvOlsyMjAsMjIwLDIyMCwxXSxnaG9zdHdoaXRlOlsyNDgsMjQ4LDI1NSwxXSxnb2xkOlsyNTUsMjE1LDAsMV0sZ29sZGVucm9kOlsyMTgsMTY1LDMyLDFdLGdyYXk6WzEyOCwxMjgsMTI4LDFdLGdyZWVuOlswLDEyOCwwLDFdLGdyZWVueWVsbG93OlsxNzMsMjU1LDQ3LDFdLGdyZXk6WzEyOCwxMjgsMTI4LDFdLGhvbmV5ZGV3OlsyNDAsMjU1LDI0MCwxXSxob3RwaW5rOlsyNTUsMTA1LDE4MCwxXSxpbmRpYW5yZWQ6WzIwNSw5Miw5MiwxXSxpbmRpZ286Wzc1LDAsMTMwLDFdLGl2b3J5OlsyNTUsMjU1LDI0MCwxXSxraGFraTpbMjQwLDIzMCwxNDAsMV0sbGF2ZW5kZXI6WzIzMCwyMzAsMjUwLDFdLGxhdmVuZGVyYmx1c2g6WzI1NSwyNDAsMjQ1LDFdLGxhd25ncmVlbjpbMTI0LDI1MiwwLDFdLGxlbW9uY2hpZmZvbjpbMjU1LDI1MCwyMDUsMV0sbGlnaHRibHVlOlsxNzMsMjE2LDIzMCwxXSxsaWdodGNvcmFsOlsyNDAsMTI4LDEyOCwxXSxsaWdodGN5YW46WzIyNCwyNTUsMjU1LDFdLGxpZ2h0Z29sZGVucm9keWVsbG93OlsyNTAsMjUwLDIxMCwxXSxsaWdodGdyYXk6WzIxMSwyMTEsMjExLDFdLGxpZ2h0Z3JlZW46WzE0NCwyMzgsMTQ0LDFdLGxpZ2h0Z3JleTpbMjExLDIxMSwyMTEsMV0sbGlnaHRwaW5rOlsyNTUsMTgyLDE5MywxXSxsaWdodHNhbG1vbjpbMjU1LDE2MCwxMjIsMV0sbGlnaHRzZWFncmVlbjpbMzIsMTc4LDE3MCwxXSxsaWdodHNreWJsdWU6WzEzNSwyMDYsMjUwLDFdLGxpZ2h0c2xhdGVncmF5OlsxMTksMTM2LDE1MywxXSxsaWdodHNsYXRlZ3JleTpbMTE5LDEzNiwxNTMsMV0sbGlnaHRzdGVlbGJsdWU6WzE3NiwxOTYsMjIyLDFdLGxpZ2h0eWVsbG93OlsyNTUsMjU1LDIyNCwxXSxsaW1lOlswLDI1NSwwLDFdLGxpbWVncmVlbjpbNTAsMjA1LDUwLDFdLGxpbmVuOlsyNTAsMjQwLDIzMCwxXSxtYWdlbnRhOlsyNTUsMCwyNTUsMV0sbWFyb29uOlsxMjgsMCwwLDFdLG1lZGl1bWFxdWFtYXJpbmU6WzEwMiwyMDUsMTcwLDFdLG1lZGl1bWJsdWU6WzAsMCwyMDUsMV0sbWVkaXVtb3JjaGlkOlsxODYsODUsMjExLDFdLG1lZGl1bXB1cnBsZTpbMTQ3LDExMiwyMTksMV0sbWVkaXVtc2VhZ3JlZW46WzYwLDE3OSwxMTMsMV0sbWVkaXVtc2xhdGVibHVlOlsxMjMsMTA0LDIzOCwxXSxtZWRpdW1zcHJpbmdncmVlbjpbMCwyNTAsMTU0LDFdLG1lZGl1bXR1cnF1b2lzZTpbNzIsMjA5LDIwNCwxXSxtZWRpdW12aW9sZXRyZWQ6WzE5OSwyMSwxMzMsMV0sbWlkbmlnaHRibHVlOlsyNSwyNSwxMTIsMV0sbWludGNyZWFtOlsyNDUsMjU1LDI1MCwxXSxtaXN0eXJvc2U6WzI1NSwyMjgsMjI1LDFdLG1vY2Nhc2luOlsyNTUsMjI4LDE4MSwxXSxuYXZham93aGl0ZTpbMjU1LDIyMiwxNzMsMV0sbmF2eTpbMCwwLDEyOCwxXSxvbGRsYWNlOlsyNTMsMjQ1LDIzMCwxXSxvbGl2ZTpbMTI4LDEyOCwwLDFdLG9saXZlZHJhYjpbMTA3LDE0MiwzNSwxXSxvcmFuZ2U6WzI1NSwxNjUsMCwxXSxvcmFuZ2VyZWQ6WzI1NSw2OSwwLDFdLG9yY2hpZDpbMjE4LDExMiwyMTQsMV0scGFsZWdvbGRlbnJvZDpbMjM4LDIzMiwxNzAsMV0scGFsZWdyZWVuOlsxNTIsMjUxLDE1MiwxXSxwYWxldHVycXVvaXNlOlsxNzUsMjM4LDIzOCwxXSxwYWxldmlvbGV0cmVkOlsyMTksMTEyLDE0NywxXSxwYXBheWF3aGlwOlsyNTUsMjM5LDIxMywxXSxwZWFjaHB1ZmY6WzI1NSwyMTgsMTg1LDFdLHBlcnU6WzIwNSwxMzMsNjMsMV0scGluazpbMjU1LDE5MiwyMDMsMV0scGx1bTpbMjIxLDE2MCwyMjEsMV0scG93ZGVyYmx1ZTpbMTc2LDIyNCwyMzAsMV0scHVycGxlOlsxMjgsMCwxMjgsMV0scmVkOlsyNTUsMCwwLDFdLHJvc3licm93bjpbMTg4LDE0MywxNDMsMV0scm95YWxibHVlOls2NSwxMDUsMjI1LDFdLHNhZGRsZWJyb3duOlsxMzksNjksMTksMV0sc2FsbW9uOlsyNTAsMTI4LDExNCwxXSxzYW5keWJyb3duOlsyNDQsMTY0LDk2LDFdLHNlYWdyZWVuOls0NiwxMzksODcsMV0sc2Vhc2hlbGw6WzI1NSwyNDUsMjM4LDFdLHNpZW5uYTpbMTYwLDgyLDQ1LDFdLHNpbHZlcjpbMTkyLDE5MiwxOTIsMV0sc2t5Ymx1ZTpbMTM1LDIwNiwyMzUsMV0sc2xhdGVibHVlOlsxMDYsOTAsMjA1LDFdLHNsYXRlZ3JheTpbMTEyLDEyOCwxNDQsMV0sc2xhdGVncmV5OlsxMTIsMTI4LDE0NCwxXSxzbm93OlsyNTUsMjUwLDI1MCwxXSxzcHJpbmdncmVlbjpbMCwyNTUsMTI3LDFdLHN0ZWVsYmx1ZTpbNzAsMTMwLDE4MCwxXSx0YW46WzIxMCwxODAsMTQwLDFdLHRlYWw6WzAsMTI4LDEyOCwxXSx0aGlzdGxlOlsyMTYsMTkxLDIxNiwxXSx0b21hdG86WzI1NSw5OSw3MSwxXSx0dXJxdW9pc2U6WzY0LDIyNCwyMDgsMV0sdmlvbGV0OlsyMzgsMTMwLDIzOCwxXSx3aGVhdDpbMjQ1LDIyMiwxNzksMV0sd2hpdGU6WzI1NSwyNTUsMjU1LDFdLHdoaXRlc21va2U6WzI0NSwyNDUsMjQ1LDFdLHllbGxvdzpbMjU1LDI1NSwwLDFdLHllbGxvd2dyZWVuOlsxNTQsMjA1LDUwLDFdfTtmdW5jdGlvbiBobih0KXtyZXR1cm4odD1NYXRoLnJvdW5kKHQpKTwwPzA6dD4yNTU/MjU1OnR9ZnVuY3Rpb24gY24odCl7cmV0dXJuIHQ8MD8wOnQ+MT8xOnR9ZnVuY3Rpb24gcG4odCl7dmFyIGU9dDtyZXR1cm4gZS5sZW5ndGgmJiIlIj09PWUuY2hhckF0KGUubGVuZ3RoLTEpP2huKHBhcnNlRmxvYXQoZSkvMTAwKjI1NSk6aG4ocGFyc2VJbnQoZSwxMCkpfWZ1bmN0aW9uIGRuKHQpe3ZhciBlPXQ7cmV0dXJuIGUubGVuZ3RoJiYiJSI9PT1lLmNoYXJBdChlLmxlbmd0aC0xKT9jbihwYXJzZUZsb2F0KGUpLzEwMCk6Y24ocGFyc2VGbG9hdChlKSl9ZnVuY3Rpb24gZm4odCxlLG4pe3JldHVybiBuPDA/bis9MTpuPjEmJihuLT0xKSw2Km48MT90KyhlLXQpKm4qNjoyKm48MT9lOjMqbjwyP3QrKGUtdCkqKDIvMy1uKSo2OnR9ZnVuY3Rpb24gZ24odCxlLG4pe3JldHVybiB0KyhlLXQpKm59ZnVuY3Rpb24geW4odCxlLG4saSxyKXtyZXR1cm4gdFswXT1lLHRbMV09bix0WzJdPWksdFszXT1yLHR9ZnVuY3Rpb24gdm4odCxlKXtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdFszXT1lWzNdLHR9dmFyIG1uPW5ldyBsbigyMCkseG49bnVsbDtmdW5jdGlvbiBfbih0LGUpe3huJiZ2bih4bixlKSx4bj1tbi5wdXQodCx4bnx8ZS5zbGljZSgpKX1mdW5jdGlvbiBibih0LGUpe2lmKHQpe2U9ZXx8W107dmFyIG49bW4uZ2V0KHQpO2lmKG4pcmV0dXJuIHZuKGUsbik7dmFyIGk9KHQrPSIiKS5yZXBsYWNlKC8gL2csIiIpLnRvTG93ZXJDYXNlKCk7aWYoaSBpbiB1bilyZXR1cm4gdm4oZSx1bltpXSksX24odCxlKSxlO3ZhciByLG89aS5sZW5ndGg7aWYoIiMiPT09aS5jaGFyQXQoMCkpcmV0dXJuIDQ9PT1vfHw1PT09bz8ocj1wYXJzZUludChpLnNsaWNlKDEsNCksMTYpKT49MCYmcjw9NDA5NT8oeW4oZSwoMzg0MCZyKT4+NHwoMzg0MCZyKT4+OCwyNDAmcnwoMjQwJnIpPj40LDE1JnJ8KDE1JnIpPDw0LDU9PT1vP3BhcnNlSW50KGkuc2xpY2UoNCksMTYpLzE1OjEpLF9uKHQsZSksZSk6dm9pZCB5bihlLDAsMCwwLDEpOjc9PT1vfHw5PT09bz8ocj1wYXJzZUludChpLnNsaWNlKDEsNyksMTYpKT49MCYmcjw9MTY3NzcyMTU/KHluKGUsKDE2NzExNjgwJnIpPj4xNiwoNjUyODAmcik+PjgsMjU1JnIsOT09PW8/cGFyc2VJbnQoaS5zbGljZSg3KSwxNikvMjU1OjEpLF9uKHQsZSksZSk6dm9pZCB5bihlLDAsMCwwLDEpOnZvaWQgMDt2YXIgYT1pLmluZGV4T2YoIigiKSxzPWkuaW5kZXhPZigiKSIpO2lmKC0xIT09YSYmcysxPT09byl7dmFyIGw9aS5zdWJzdHIoMCxhKSx1PWkuc3Vic3RyKGErMSxzLShhKzEpKS5zcGxpdCgiLCIpLGg9MTtzd2l0Y2gobCl7Y2FzZSJyZ2JhIjppZig0IT09dS5sZW5ndGgpcmV0dXJuIDM9PT11Lmxlbmd0aD95bihlLCt1WzBdLCt1WzFdLCt1WzJdLDEpOnluKGUsMCwwLDAsMSk7aD1kbih1LnBvcCgpKTtjYXNlInJnYiI6cmV0dXJuIDMhPT11Lmxlbmd0aD92b2lkIHluKGUsMCwwLDAsMSk6KHluKGUscG4odVswXSkscG4odVsxXSkscG4odVsyXSksaCksX24odCxlKSxlKTtjYXNlImhzbGEiOnJldHVybiA0IT09dS5sZW5ndGg/dm9pZCB5bihlLDAsMCwwLDEpOih1WzNdPWRuKHVbM10pLHduKHUsZSksX24odCxlKSxlKTtjYXNlImhzbCI6cmV0dXJuIDMhPT11Lmxlbmd0aD92b2lkIHluKGUsMCwwLDAsMSk6KHduKHUsZSksX24odCxlKSxlKTtkZWZhdWx0OnJldHVybn19eW4oZSwwLDAsMCwxKX19ZnVuY3Rpb24gd24odCxlKXt2YXIgbj0ocGFyc2VGbG9hdCh0WzBdKSUzNjArMzYwKSUzNjAvMzYwLGk9ZG4odFsxXSkscj1kbih0WzJdKSxvPXI8PS41P3IqKGkrMSk6citpLXIqaSxhPTIqci1vO3JldHVybiB5bihlPWV8fFtdLGhuKDI1NSpmbihhLG8sbisxLzMpKSxobigyNTUqZm4oYSxvLG4pKSxobigyNTUqZm4oYSxvLG4tMS8zKSksMSksND09PXQubGVuZ3RoJiYoZVszXT10WzNdKSxlfWZ1bmN0aW9uIFNuKHQsZSl7dmFyIG49Ym4odCk7aWYobil7Zm9yKHZhciBpPTA7aTwzO2krKyluW2ldPWU8MD9uW2ldKigxLWUpfDA6KDI1NS1uW2ldKSplK25baV18MCxuW2ldPjI1NT9uW2ldPTI1NTpuW2ldPDAmJihuW2ldPTApO3JldHVybiBrbihuLDQ9PT1uLmxlbmd0aD8icmdiYSI6InJnYiIpfX1mdW5jdGlvbiBNbih0LGUsbil7aWYoZSYmZS5sZW5ndGgmJnQ+PTAmJnQ8PTEpe249bnx8W107dmFyIGk9dCooZS5sZW5ndGgtMSkscj1NYXRoLmZsb29yKGkpLG89TWF0aC5jZWlsKGkpLGE9ZVtyXSxzPWVbb10sbD1pLXI7cmV0dXJuIG5bMF09aG4oZ24oYVswXSxzWzBdLGwpKSxuWzFdPWhuKGduKGFbMV0sc1sxXSxsKSksblsyXT1obihnbihhWzJdLHNbMl0sbCkpLG5bM109Y24oZ24oYVszXSxzWzNdLGwpKSxufX12YXIgSW49TW47ZnVuY3Rpb24gVG4odCxlLG4pe2lmKGUmJmUubGVuZ3RoJiZ0Pj0wJiZ0PD0xKXt2YXIgaT10KihlLmxlbmd0aC0xKSxyPU1hdGguZmxvb3IoaSksbz1NYXRoLmNlaWwoaSksYT1ibihlW3JdKSxzPWJuKGVbb10pLGw9aS1yLHU9a24oW2huKGduKGFbMF0sc1swXSxsKSksaG4oZ24oYVsxXSxzWzFdLGwpKSxobihnbihhWzJdLHNbMl0sbCkpLGNuKGduKGFbM10sc1szXSxsKSldLCJyZ2JhIik7cmV0dXJuIG4/e2NvbG9yOnUsbGVmdEluZGV4OnIscmlnaHRJbmRleDpvLHZhbHVlOml9OnV9fXZhciBDbj1UbjtmdW5jdGlvbiBEbih0LGUsbixpKXt2YXIgcj1ibih0KTtpZih0KXJldHVybiByPWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlLG4saT10WzBdLzI1NSxyPXRbMV0vMjU1LG89dFsyXS8yNTUsYT1NYXRoLm1pbihpLHIsbykscz1NYXRoLm1heChpLHIsbyksbD1zLWEsdT0ocythKS8yO2lmKDA9PT1sKWU9MCxuPTA7ZWxzZXtuPXU8LjU/bC8ocythKTpsLygyLXMtYSk7dmFyIGg9KChzLWkpLzYrbC8yKS9sLGM9KChzLXIpLzYrbC8yKS9sLHA9KChzLW8pLzYrbC8yKS9sO2k9PT1zP2U9cC1jOnI9PT1zP2U9MS8zK2gtcDpvPT09cyYmKGU9Mi8zK2MtaCksZTwwJiYoZSs9MSksZT4xJiYoZS09MSl9dmFyIGQ9WzM2MCplLG4sdV07cmV0dXJuIG51bGwhPXRbM10mJmQucHVzaCh0WzNdKSxkfX0ociksbnVsbCE9ZSYmKHJbMF09ZnVuY3Rpb24odCl7cmV0dXJuKHQ9TWF0aC5yb3VuZCh0KSk8MD8wOnQ+MzYwPzM2MDp0fShlKSksbnVsbCE9biYmKHJbMV09ZG4obikpLG51bGwhPWkmJihyWzJdPWRuKGkpKSxrbih3bihyKSwicmdiYSIpfWZ1bmN0aW9uIEFuKHQsZSl7dmFyIG49Ym4odCk7aWYobiYmbnVsbCE9ZSlyZXR1cm4gblszXT1jbihlKSxrbihuLCJyZ2JhIil9ZnVuY3Rpb24ga24odCxlKXtpZih0JiZ0Lmxlbmd0aCl7dmFyIG49dFswXSsiLCIrdFsxXSsiLCIrdFsyXTtyZXR1cm4icmdiYSIhPT1lJiYiaHN2YSIhPT1lJiYiaHNsYSIhPT1lfHwobis9IiwiK3RbM10pLGUrIigiK24rIikifX1mdW5jdGlvbiBMbih0LGUpe3ZhciBuPWJuKHQpO3JldHVybiBuPyguMjk5Km5bMF0rLjU4NypuWzFdKy4xMTQqblsyXSkqblszXS8yNTUrKDEtblszXSkqZTowfXZhciBQbj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxwYXJzZTpibixsaWZ0OlNuLHRvSGV4OmZ1bmN0aW9uKHQpe3ZhciBlPWJuKHQpO2lmKGUpcmV0dXJuKCgxPDwyNCkrKGVbMF08PDE2KSsoZVsxXTw8OCkrICtlWzJdKS50b1N0cmluZygxNikuc2xpY2UoMSl9LGZhc3RMZXJwOk1uLGZhc3RNYXBUb0NvbG9yOkluLGxlcnA6VG4sbWFwVG9Db2xvcjpDbixtb2RpZnlIU0w6RG4sbW9kaWZ5QWxwaGE6QW4sc3RyaW5naWZ5OmtuLGx1bTpMbixyYW5kb206ZnVuY3Rpb24oKXtyZXR1cm4ga24oW01hdGgucm91bmQoMjU1Kk1hdGgucmFuZG9tKCkpLE1hdGgucm91bmQoMjU1Kk1hdGgucmFuZG9tKCkpLE1hdGgucm91bmQoMjU1Kk1hdGgucmFuZG9tKCkpXSwicmdiIil9fSksT249TWF0aC5yb3VuZDtmdW5jdGlvbiBSbih0KXt2YXIgZTtpZih0JiYidHJhbnNwYXJlbnQiIT09dCl7aWYoInN0cmluZyI9PXR5cGVvZiB0JiZ0LmluZGV4T2YoInJnYmEiKT4tMSl7dmFyIG49Ym4odCk7biYmKHQ9InJnYigiK25bMF0rIiwiK25bMV0rIiwiK25bMl0rIikiLGU9blszXSl9fWVsc2UgdD0ibm9uZSI7cmV0dXJue2NvbG9yOnQsb3BhY2l0eTpudWxsPT1lPzE6ZX19dmFyIE5uPTFlLTQ7ZnVuY3Rpb24gRW4odCl7cmV0dXJuIHQ8Tm4mJnQ+LTFlLTR9ZnVuY3Rpb24gem4odCl7cmV0dXJuIE9uKDFlMyp0KS8xZTN9ZnVuY3Rpb24gVm4odCl7cmV0dXJuIE9uKDFlNCp0KS8xZTR9dmFyIEJuPXtsZWZ0OiJzdGFydCIscmlnaHQ6ImVuZCIsY2VudGVyOiJtaWRkbGUiLG1pZGRsZToibWlkZGxlIn07ZnVuY3Rpb24gRm4odCl7cmV0dXJuIHQmJiEhdC5pbWFnZX1mdW5jdGlvbiBHbih0KXtyZXR1cm4ibGluZWFyIj09PXQudHlwZX1mdW5jdGlvbiBXbih0KXtyZXR1cm4icmFkaWFsIj09PXQudHlwZX1mdW5jdGlvbiBIbih0KXtyZXR1cm4idXJsKCMiK3QrIikifWZ1bmN0aW9uIFluKHQpe3ZhciBlPXQuZ2V0R2xvYmFsU2NhbGUoKSxuPU1hdGgubWF4KGVbMF0sZVsxXSk7cmV0dXJuIE1hdGgubWF4KE1hdGguY2VpbChNYXRoLmxvZyhuKS9NYXRoLmxvZygxMCkpLDEpfWZ1bmN0aW9uIFVuKHQpe3ZhciBlPXQueHx8MCxuPXQueXx8MCxpPSh0LnJvdGF0aW9ufHwwKSpfdCxyPXJ0KHQuc2NhbGVYLDEpLG89cnQodC5zY2FsZVksMSksYT10LnNrZXdYfHwwLHM9dC5za2V3WXx8MCxsPVtdO3JldHVybihlfHxuKSYmbC5wdXNoKCJ0cmFuc2xhdGUoIitlKyJweCwiK24rInB4KSIpLGkmJmwucHVzaCgicm90YXRlKCIraSsiKSIpLDE9PT1yJiYxPT09b3x8bC5wdXNoKCJzY2FsZSgiK3IrIiwiK28rIikiKSwoYXx8cykmJmwucHVzaCgic2tldygiK09uKGEqX3QpKyJkZWcsICIrT24ocypfdCkrImRlZykiKSxsLmpvaW4oIiAiKX12YXIgWG49ci5oYXNHbG9iYWxXaW5kb3cmJlUod2luZG93LmJ0b2EpP2Z1bmN0aW9uKHQpe3JldHVybiB3aW5kb3cuYnRvYSh1bmVzY2FwZSh0KSl9OiJ1bmRlZmluZWQiIT10eXBlb2YgQnVmZmVyP2Z1bmN0aW9uKHQpe3JldHVybiBCdWZmZXIuZnJvbSh0KS50b1N0cmluZygiYmFzZTY0Iil9OmZ1bmN0aW9uKHQpe3JldHVybiBudWxsfSxabj1BcnJheS5wcm90b3R5cGUuc2xpY2U7ZnVuY3Rpb24gam4odCxlLG4pe3JldHVybihlLXQpKm4rdH1mdW5jdGlvbiBxbih0LGUsbixpKXtmb3IodmFyIHI9ZS5sZW5ndGgsbz0wO288cjtvKyspdFtvXT1qbihlW29dLG5bb10saSk7cmV0dXJuIHR9ZnVuY3Rpb24gS24odCxlLG4saSl7Zm9yKHZhciByPWUubGVuZ3RoLG89MDtvPHI7bysrKXRbb109ZVtvXStuW29dKmk7cmV0dXJuIHR9ZnVuY3Rpb24gJG4odCxlLG4saSl7Zm9yKHZhciByPWUubGVuZ3RoLG89ciYmZVswXS5sZW5ndGgsYT0wO2E8cjthKyspe3RbYV18fCh0W2FdPVtdKTtmb3IodmFyIHM9MDtzPG87cysrKXRbYV1bc109ZVthXVtzXStuW2FdW3NdKml9cmV0dXJuIHR9ZnVuY3Rpb24gSm4odCxlKXtmb3IodmFyIG49dC5sZW5ndGgsaT1lLmxlbmd0aCxyPW4+aT9lOnQsbz1NYXRoLm1pbihuLGkpLGE9cltvLTFdfHx7Y29sb3I6WzAsMCwwLDBdLG9mZnNldDowfSxzPW87czxNYXRoLm1heChuLGkpO3MrKylyLnB1c2goe29mZnNldDphLm9mZnNldCxjb2xvcjphLmNvbG9yLnNsaWNlKCl9KX1mdW5jdGlvbiBRbih0LGUsbil7dmFyIGk9dCxyPWU7aWYoaS5wdXNoJiZyLnB1c2gpe3ZhciBvPWkubGVuZ3RoLGE9ci5sZW5ndGg7aWYobyE9PWEpaWYobz5hKWkubGVuZ3RoPWE7ZWxzZSBmb3IodmFyIHM9bztzPGE7cysrKWkucHVzaCgxPT09bj9yW3NdOlpuLmNhbGwocltzXSkpO3ZhciBsPWlbMF0mJmlbMF0ubGVuZ3RoO2ZvcihzPTA7czxpLmxlbmd0aDtzKyspaWYoMT09PW4paXNOYU4oaVtzXSkmJihpW3NdPXJbc10pO2Vsc2UgZm9yKHZhciB1PTA7dTxsO3UrKylpc05hTihpW3NdW3VdKSYmKGlbc11bdV09cltzXVt1XSl9fWZ1bmN0aW9uIHRpKHQpe2lmKE4odCkpe3ZhciBlPXQubGVuZ3RoO2lmKE4odFswXSkpe2Zvcih2YXIgbj1bXSxpPTA7aTxlO2krKyluLnB1c2goWm4uY2FsbCh0W2ldKSk7cmV0dXJuIG59cmV0dXJuIFpuLmNhbGwodCl9cmV0dXJuIHR9ZnVuY3Rpb24gZWkodCl7cmV0dXJuIHRbMF09TWF0aC5mbG9vcih0WzBdKXx8MCx0WzFdPU1hdGguZmxvb3IodFsxXSl8fDAsdFsyXT1NYXRoLmZsb29yKHRbMl0pfHwwLHRbM109bnVsbD09dFszXT8xOnRbM10sInJnYmEoIit0LmpvaW4oIiwiKSsiKSJ9ZnVuY3Rpb24gbmkodCl7cmV0dXJuIDQ9PT10fHw1PT09dH1mdW5jdGlvbiBpaSh0KXtyZXR1cm4gMT09PXR8fDI9PT10fXZhciByaT1bMCwwLDAsMF0sb2k9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMua2V5ZnJhbWVzPVtdLHRoaXMuZGlzY3JldGU9ITEsdGhpcy5faW52YWxpZD0hMSx0aGlzLl9uZWVkc1NvcnQ9ITEsdGhpcy5fbGFzdEZyPTAsdGhpcy5fbGFzdEZyUD0wLHRoaXMucHJvcE5hbWU9dH1yZXR1cm4gdC5wcm90b3R5cGUuaXNGaW5pc2hlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9maW5pc2hlZH0sdC5wcm90b3R5cGUuc2V0RmluaXNoZWQ9ZnVuY3Rpb24oKXt0aGlzLl9maW5pc2hlZD0hMCx0aGlzLl9hZGRpdGl2ZVRyYWNrJiZ0aGlzLl9hZGRpdGl2ZVRyYWNrLnNldEZpbmlzaGVkKCl9LHQucHJvdG90eXBlLm5lZWRzQW5pbWF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtleWZyYW1lcy5sZW5ndGg+PTF9LHQucHJvdG90eXBlLmdldEFkZGl0aXZlVHJhY2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWRkaXRpdmVUcmFja30sdC5wcm90b3R5cGUuYWRkS2V5ZnJhbWU9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX25lZWRzU29ydD0hMDt2YXIgaT10aGlzLmtleWZyYW1lcyxyPWkubGVuZ3RoLG89ITEsYT02LHM9ZTtpZihOKGUpKXt2YXIgbD1mdW5jdGlvbih0KXtyZXR1cm4gTih0JiZ0WzBdKT8yOjF9KGUpO2E9bCwoMT09PWwmJiFqKGVbMF0pfHwyPT09bCYmIWooZVswXVswXSkpJiYobz0hMCl9ZWxzZSBpZihqKGUpJiYhbnQoZSkpYT0wO2Vsc2UgaWYoWChlKSlpZihpc05hTigrZSkpe3ZhciB1PWJuKGUpO3UmJihzPXUsYT0zKX1lbHNlIGE9MDtlbHNlIGlmKFEoZSkpe3ZhciBoPUEoe30scyk7aC5jb2xvclN0b3BzPXooZS5jb2xvclN0b3BzLChmdW5jdGlvbih0KXtyZXR1cm57b2Zmc2V0OnQub2Zmc2V0LGNvbG9yOmJuKHQuY29sb3IpfX0pKSxHbihlKT9hPTQ6V24oZSkmJihhPTUpLHM9aH0wPT09cj90aGlzLnZhbFR5cGU9YTphPT09dGhpcy52YWxUeXBlJiY2IT09YXx8KG89ITApLHRoaXMuZGlzY3JldGU9dGhpcy5kaXNjcmV0ZXx8bzt2YXIgYz17dGltZTp0LHZhbHVlOnMscmF3VmFsdWU6ZSxwZXJjZW50OjB9O3JldHVybiBuJiYoYy5lYXNpbmc9bixjLmVhc2luZ0Z1bmM9VShuKT9uOkxlW25dfHxybihuKSksaS5wdXNoKGMpLGN9LHQucHJvdG90eXBlLnByZXBhcmU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmtleWZyYW1lczt0aGlzLl9uZWVkc1NvcnQmJm4uc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC50aW1lLWUudGltZX0pKTtmb3IodmFyIGk9dGhpcy52YWxUeXBlLHI9bi5sZW5ndGgsbz1uW3ItMV0sYT10aGlzLmRpc2NyZXRlLHM9aWkoaSksbD1uaShpKSx1PTA7dTxyO3UrKyl7dmFyIGg9blt1XSxjPWgudmFsdWUscD1vLnZhbHVlO2gucGVyY2VudD1oLnRpbWUvdCxhfHwocyYmdSE9PXItMT9RbihjLHAsaSk6bCYmSm4oYy5jb2xvclN0b3BzLHAuY29sb3JTdG9wcykpfWlmKCFhJiY1IT09aSYmZSYmdGhpcy5uZWVkc0FuaW1hdGUoKSYmZS5uZWVkc0FuaW1hdGUoKSYmaT09PWUudmFsVHlwZSYmIWUuX2ZpbmlzaGVkKXt0aGlzLl9hZGRpdGl2ZVRyYWNrPWU7dmFyIGQ9blswXS52YWx1ZTtmb3IodT0wO3U8cjt1KyspMD09PWk/blt1XS5hZGRpdGl2ZVZhbHVlPW5bdV0udmFsdWUtZDozPT09aT9uW3VdLmFkZGl0aXZlVmFsdWU9S24oW10sblt1XS52YWx1ZSxkLC0xKTppaShpKSYmKG5bdV0uYWRkaXRpdmVWYWx1ZT0xPT09aT9LbihbXSxuW3VdLnZhbHVlLGQsLTEpOiRuKFtdLG5bdV0udmFsdWUsZCwtMSkpfX0sdC5wcm90b3R5cGUuc3RlcD1mdW5jdGlvbih0LGUpe2lmKCF0aGlzLl9maW5pc2hlZCl7dGhpcy5fYWRkaXRpdmVUcmFjayYmdGhpcy5fYWRkaXRpdmVUcmFjay5fZmluaXNoZWQmJih0aGlzLl9hZGRpdGl2ZVRyYWNrPW51bGwpO3ZhciBuLGkscixvPW51bGwhPXRoaXMuX2FkZGl0aXZlVHJhY2ssYT1vPyJhZGRpdGl2ZVZhbHVlIjoidmFsdWUiLHM9dGhpcy52YWxUeXBlLGw9dGhpcy5rZXlmcmFtZXMsdT1sLmxlbmd0aCxoPXRoaXMucHJvcE5hbWUsYz0zPT09cyxwPXRoaXMuX2xhc3RGcixkPU1hdGgubWluO2lmKDE9PT11KWk9cj1sWzBdO2Vsc2V7aWYoZTwwKW49MDtlbHNlIGlmKGU8dGhpcy5fbGFzdEZyUCl7Zm9yKG49ZChwKzEsdS0xKTtuPj0wJiYhKGxbbl0ucGVyY2VudDw9ZSk7bi0tKTtuPWQobix1LTIpfWVsc2V7Zm9yKG49cDtuPHUmJiEobFtuXS5wZXJjZW50PmUpO24rKyk7bj1kKG4tMSx1LTIpfXI9bFtuKzFdLGk9bFtuXX1pZihpJiZyKXt0aGlzLl9sYXN0RnI9bix0aGlzLl9sYXN0RnJQPWU7dmFyIGY9ci5wZXJjZW50LWkucGVyY2VudCxnPTA9PT1mPzE6ZCgoZS1pLnBlcmNlbnQpL2YsMSk7ci5lYXNpbmdGdW5jJiYoZz1yLmVhc2luZ0Z1bmMoZykpO3ZhciB5PW8/dGhpcy5fYWRkaXRpdmVWYWx1ZTpjP3JpOnRbaF07aWYoIWlpKHMpJiYhY3x8eXx8KHk9dGhpcy5fYWRkaXRpdmVWYWx1ZT1bXSksdGhpcy5kaXNjcmV0ZSl0W2hdPWc8MT9pLnJhd1ZhbHVlOnIucmF3VmFsdWU7ZWxzZSBpZihpaShzKSkxPT09cz9xbih5LGlbYV0sclthXSxnKTpmdW5jdGlvbih0LGUsbixpKXtmb3IodmFyIHI9ZS5sZW5ndGgsbz1yJiZlWzBdLmxlbmd0aCxhPTA7YTxyO2ErKyl7dFthXXx8KHRbYV09W10pO2Zvcih2YXIgcz0wO3M8bztzKyspdFthXVtzXT1qbihlW2FdW3NdLG5bYV1bc10saSl9fSh5LGlbYV0sclthXSxnKTtlbHNlIGlmKG5pKHMpKXt2YXIgdj1pW2FdLG09clthXSx4PTQ9PT1zO3RbaF09e3R5cGU6eD8ibGluZWFyIjoicmFkaWFsIix4OmpuKHYueCxtLngsZykseTpqbih2LnksbS55LGcpLGNvbG9yU3RvcHM6eih2LmNvbG9yU3RvcHMsKGZ1bmN0aW9uKHQsZSl7dmFyIG49bS5jb2xvclN0b3BzW2VdO3JldHVybntvZmZzZXQ6am4odC5vZmZzZXQsbi5vZmZzZXQsZyksY29sb3I6ZWkocW4oW10sdC5jb2xvcixuLmNvbG9yLGcpKX19KSksZ2xvYmFsOm0uZ2xvYmFsfSx4Pyh0W2hdLngyPWpuKHYueDIsbS54MixnKSx0W2hdLnkyPWpuKHYueTIsbS55MixnKSk6dFtoXS5yPWpuKHYucixtLnIsZyl9ZWxzZSBpZihjKXFuKHksaVthXSxyW2FdLGcpLG98fCh0W2hdPWVpKHkpKTtlbHNle3ZhciBfPWpuKGlbYV0sclthXSxnKTtvP3RoaXMuX2FkZGl0aXZlVmFsdWU9Xzp0W2hdPV99byYmdGhpcy5fYWRkVG9UYXJnZXQodCl9fX0sdC5wcm90b3R5cGUuX2FkZFRvVGFyZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmFsVHlwZSxuPXRoaXMucHJvcE5hbWUsaT10aGlzLl9hZGRpdGl2ZVZhbHVlOzA9PT1lP3Rbbl09dFtuXStpOjM9PT1lPyhibih0W25dLHJpKSxLbihyaSxyaSxpLDEpLHRbbl09ZWkocmkpKToxPT09ZT9Lbih0W25dLHRbbl0saSwxKToyPT09ZSYmJG4odFtuXSx0W25dLGksMSl9LHR9KCksYWk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLGkpe3RoaXMuX3RyYWNrcz17fSx0aGlzLl90cmFja0tleXM9W10sdGhpcy5fbWF4VGltZT0wLHRoaXMuX3N0YXJ0ZWQ9MCx0aGlzLl9jbGlwPW51bGwsdGhpcy5fdGFyZ2V0PXQsdGhpcy5fbG9vcD1lLGUmJmk/SSgiQ2FuJyB1c2UgYWRkaXRpdmUgYW5pbWF0aW9uIG9uIGxvb3BlZCBhbmltYXRpb24uIik6KHRoaXMuX2FkZGl0aXZlQW5pbWF0b3JzPWksdGhpcy5fYWxsb3dEaXNjcmV0ZT1uKX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0TWF4VGltZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXhUaW1lfSx0LnByb3RvdHlwZS5nZXREZWxheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWxheX0sdC5wcm90b3R5cGUuZ2V0TG9vcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb29wfSx0LnByb3RvdHlwZS5nZXRUYXJnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGFyZ2V0fSx0LnByb3RvdHlwZS5jaGFuZ2VUYXJnZXQ9ZnVuY3Rpb24odCl7dGhpcy5fdGFyZ2V0PXR9LHQucHJvdG90eXBlLndoZW49ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLndoZW5XaXRoS2V5cyh0LGUsRyhlKSxuKX0sdC5wcm90b3R5cGUud2hlbldpdGhLZXlzPWZ1bmN0aW9uKHQsZSxuLGkpe2Zvcih2YXIgcj10aGlzLl90cmFja3Msbz0wO288bi5sZW5ndGg7bysrKXt2YXIgYT1uW29dLHM9clthXTtpZighcyl7cz1yW2FdPW5ldyBvaShhKTt2YXIgbD12b2lkIDAsdT10aGlzLl9nZXRBZGRpdGl2ZVRyYWNrKGEpO2lmKHUpe3ZhciBoPXUua2V5ZnJhbWVzLGM9aFtoLmxlbmd0aC0xXTtsPWMmJmMudmFsdWUsMz09PXUudmFsVHlwZSYmbCYmKGw9ZWkobCkpfWVsc2UgbD10aGlzLl90YXJnZXRbYV07aWYobnVsbD09bCljb250aW51ZTt0PjAmJnMuYWRkS2V5ZnJhbWUoMCx0aShsKSxpKSx0aGlzLl90cmFja0tleXMucHVzaChhKX1zLmFkZEtleWZyYW1lKHQsdGkoZVthXSksaSl9cmV0dXJuIHRoaXMuX21heFRpbWU9TWF0aC5tYXgodGhpcy5fbWF4VGltZSx0KSx0aGlzfSx0LnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3RoaXMuX2NsaXAucGF1c2UoKSx0aGlzLl9wYXVzZWQ9ITB9LHQucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe3RoaXMuX2NsaXAucmVzdW1lKCksdGhpcy5fcGF1c2VkPSExfSx0LnByb3RvdHlwZS5pc1BhdXNlZD1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5fcGF1c2VkfSx0LnByb3RvdHlwZS5kdXJhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbWF4VGltZT10LHRoaXMuX2ZvcmNlPSEwLHRoaXN9LHQucHJvdG90eXBlLl9kb25lQ2FsbGJhY2s9ZnVuY3Rpb24oKXt0aGlzLl9zZXRUcmFja3NGaW5pc2hlZCgpLHRoaXMuX2NsaXA9bnVsbDt2YXIgdD10aGlzLl9kb25lQ2JzO2lmKHQpZm9yKHZhciBlPXQubGVuZ3RoLG49MDtuPGU7bisrKXRbbl0uY2FsbCh0aGlzKX0sdC5wcm90b3R5cGUuX2Fib3J0ZWRDYWxsYmFjaz1mdW5jdGlvbigpe3RoaXMuX3NldFRyYWNrc0ZpbmlzaGVkKCk7dmFyIHQ9dGhpcy5hbmltYXRpb24sZT10aGlzLl9hYm9ydGVkQ2JzO2lmKHQmJnQucmVtb3ZlQ2xpcCh0aGlzLl9jbGlwKSx0aGlzLl9jbGlwPW51bGwsZSlmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyllW25dLmNhbGwodGhpcyl9LHQucHJvdG90eXBlLl9zZXRUcmFja3NGaW5pc2hlZD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl90cmFja3MsZT10aGlzLl90cmFja0tleXMsbj0wO248ZS5sZW5ndGg7bisrKXRbZVtuXV0uc2V0RmluaXNoZWQoKX0sdC5wcm90b3R5cGUuX2dldEFkZGl0aXZlVHJhY2s9ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLl9hZGRpdGl2ZUFuaW1hdG9ycztpZihuKWZvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldLmdldFRyYWNrKHQpO3ImJihlPXIpfXJldHVybiBlfSx0LnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbih0KXtpZighKHRoaXMuX3N0YXJ0ZWQ+MCkpe3RoaXMuX3N0YXJ0ZWQ9MTtmb3IodmFyIGU9dGhpcyxuPVtdLGk9dGhpcy5fbWF4VGltZXx8MCxyPTA7cjx0aGlzLl90cmFja0tleXMubGVuZ3RoO3IrKyl7dmFyIG89dGhpcy5fdHJhY2tLZXlzW3JdLGE9dGhpcy5fdHJhY2tzW29dLHM9dGhpcy5fZ2V0QWRkaXRpdmVUcmFjayhvKSxsPWEua2V5ZnJhbWVzLHU9bC5sZW5ndGg7aWYoYS5wcmVwYXJlKGkscyksYS5uZWVkc0FuaW1hdGUoKSlpZighdGhpcy5fYWxsb3dEaXNjcmV0ZSYmYS5kaXNjcmV0ZSl7dmFyIGg9bFt1LTFdO2gmJihlLl90YXJnZXRbYS5wcm9wTmFtZV09aC5yYXdWYWx1ZSksYS5zZXRGaW5pc2hlZCgpfWVsc2Ugbi5wdXNoKGEpfWlmKG4ubGVuZ3RofHx0aGlzLl9mb3JjZSl7dmFyIGM9bmV3IG9uKHtsaWZlOmksbG9vcDp0aGlzLl9sb29wLGRlbGF5OnRoaXMuX2RlbGF5fHwwLG9uZnJhbWU6ZnVuY3Rpb24odCl7ZS5fc3RhcnRlZD0yO3ZhciBpPWUuX2FkZGl0aXZlQW5pbWF0b3JzO2lmKGkpe2Zvcih2YXIgcj0hMSxvPTA7bzxpLmxlbmd0aDtvKyspaWYoaVtvXS5fY2xpcCl7cj0hMDticmVha31yfHwoZS5fYWRkaXRpdmVBbmltYXRvcnM9bnVsbCl9Zm9yKG89MDtvPG4ubGVuZ3RoO28rKyluW29dLnN0ZXAoZS5fdGFyZ2V0LHQpO3ZhciBhPWUuX29uZnJhbWVDYnM7aWYoYSlmb3Iobz0wO288YS5sZW5ndGg7bysrKWFbb10oZS5fdGFyZ2V0LHQpfSxvbmRlc3Ryb3k6ZnVuY3Rpb24oKXtlLl9kb25lQ2FsbGJhY2soKX19KTt0aGlzLl9jbGlwPWMsdGhpcy5hbmltYXRpb24mJnRoaXMuYW5pbWF0aW9uLmFkZENsaXAoYyksdCYmYy5zZXRFYXNpbmcodCl9ZWxzZSB0aGlzLl9kb25lQ2FsbGJhY2soKTtyZXR1cm4gdGhpc319LHQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24odCl7aWYodGhpcy5fY2xpcCl7dmFyIGU9dGhpcy5fY2xpcDt0JiZlLm9uZnJhbWUoMSksdGhpcy5fYWJvcnRlZENhbGxiYWNrKCl9fSx0LnByb3RvdHlwZS5kZWxheT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGVsYXk9dCx0aGlzfSx0LnByb3RvdHlwZS5kdXJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJih0aGlzLl9vbmZyYW1lQ2JzfHwodGhpcy5fb25mcmFtZUNicz1bXSksdGhpcy5fb25mcmFtZUNicy5wdXNoKHQpKSx0aGlzfSx0LnByb3RvdHlwZS5kb25lPWZ1bmN0aW9uKHQpe3JldHVybiB0JiYodGhpcy5fZG9uZUNic3x8KHRoaXMuX2RvbmVDYnM9W10pLHRoaXMuX2RvbmVDYnMucHVzaCh0KSksdGhpc30sdC5wcm90b3R5cGUuYWJvcnRlZD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmKHRoaXMuX2Fib3J0ZWRDYnN8fCh0aGlzLl9hYm9ydGVkQ2JzPVtdKSx0aGlzLl9hYm9ydGVkQ2JzLnB1c2godCkpLHRoaXN9LHQucHJvdG90eXBlLmdldENsaXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2xpcH0sdC5wcm90b3R5cGUuZ2V0VHJhY2s9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3RyYWNrc1t0XX0sdC5wcm90b3R5cGUuZ2V0VHJhY2tzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4geih0aGlzLl90cmFja0tleXMsKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll90cmFja3NbZV19KSl9LHQucHJvdG90eXBlLnN0b3BUcmFja3M9ZnVuY3Rpb24odCxlKXtpZighdC5sZW5ndGh8fCF0aGlzLl9jbGlwKXJldHVybiEwO2Zvcih2YXIgbj10aGlzLl90cmFja3MsaT10aGlzLl90cmFja0tleXMscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz1uW3Rbcl1dO28mJiFvLmlzRmluaXNoZWQoKSYmKGU/by5zdGVwKHRoaXMuX3RhcmdldCwxKToxPT09dGhpcy5fc3RhcnRlZCYmby5zdGVwKHRoaXMuX3RhcmdldCwwKSxvLnNldEZpbmlzaGVkKCkpfXZhciBhPSEwO2ZvcihyPTA7cjxpLmxlbmd0aDtyKyspaWYoIW5baVtyXV0uaXNGaW5pc2hlZCgpKXthPSExO2JyZWFrfXJldHVybiBhJiZ0aGlzLl9hYm9ydGVkQ2FsbGJhY2soKSxhfSx0LnByb3RvdHlwZS5zYXZlVG89ZnVuY3Rpb24odCxlLG4pe2lmKHQpe2U9ZXx8dGhpcy5fdHJhY2tLZXlzO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgcj1lW2ldLG89dGhpcy5fdHJhY2tzW3JdO2lmKG8mJiFvLmlzRmluaXNoZWQoKSl7dmFyIGE9by5rZXlmcmFtZXMscz1hW24/MDphLmxlbmd0aC0xXTtzJiYodFtyXT10aShzLnJhd1ZhbHVlKSl9fX19LHQucHJvdG90eXBlLl9fY2hhbmdlRmluYWxWYWx1ZT1mdW5jdGlvbih0LGUpe2U9ZXx8Ryh0KTtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXSxyPXRoaXMuX3RyYWNrc1tpXTtpZihyKXt2YXIgbz1yLmtleWZyYW1lcztpZihvLmxlbmd0aD4xKXt2YXIgYT1vLnBvcCgpO3IuYWRkS2V5ZnJhbWUoYS50aW1lLHRbaV0pLHIucHJlcGFyZSh0aGlzLl9tYXhUaW1lLHIuZ2V0QWRkaXRpdmVUcmFjaygpKX19fX0sdH0oKTtmdW5jdGlvbiBzaSgpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfXZhciBsaSx1aSxoaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5fcnVubmluZz0hMSxuLl90aW1lPTAsbi5fcGF1c2VkVGltZT0wLG4uX3BhdXNlU3RhcnQ9MCxuLl9wYXVzZWQ9ITEsZT1lfHx7fSxuLnN0YWdlPWUuc3RhZ2V8fHt9LG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5hZGRDbGlwPWZ1bmN0aW9uKHQpe3QuYW5pbWF0aW9uJiZ0aGlzLnJlbW92ZUNsaXAodCksdGhpcy5faGVhZD8odGhpcy5fdGFpbC5uZXh0PXQsdC5wcmV2PXRoaXMuX3RhaWwsdC5uZXh0PW51bGwsdGhpcy5fdGFpbD10KTp0aGlzLl9oZWFkPXRoaXMuX3RhaWw9dCx0LmFuaW1hdGlvbj10aGlzfSxlLnByb3RvdHlwZS5hZGRBbmltYXRvcj1mdW5jdGlvbih0KXt0LmFuaW1hdGlvbj10aGlzO3ZhciBlPXQuZ2V0Q2xpcCgpO2UmJnRoaXMuYWRkQ2xpcChlKX0sZS5wcm90b3R5cGUucmVtb3ZlQ2xpcD1mdW5jdGlvbih0KXtpZih0LmFuaW1hdGlvbil7dmFyIGU9dC5wcmV2LG49dC5uZXh0O2U/ZS5uZXh0PW46dGhpcy5faGVhZD1uLG4/bi5wcmV2PWU6dGhpcy5fdGFpbD1lLHQubmV4dD10LnByZXY9dC5hbmltYXRpb249bnVsbH19LGUucHJvdG90eXBlLnJlbW92ZUFuaW1hdG9yPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0Q2xpcCgpO2UmJnRoaXMucmVtb3ZlQ2xpcChlKSx0LmFuaW1hdGlvbj1udWxsfSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXNpKCktdGhpcy5fcGF1c2VkVGltZSxuPWUtdGhpcy5fdGltZSxpPXRoaXMuX2hlYWQ7aTspe3ZhciByPWkubmV4dDtpLnN0ZXAoZSxuKT8oaS5vbmRlc3Ryb3koKSx0aGlzLnJlbW92ZUNsaXAoaSksaT1yKTppPXJ9dGhpcy5fdGltZT1lLHR8fCh0aGlzLnRyaWdnZXIoImZyYW1lIixuKSx0aGlzLnN0YWdlLnVwZGF0ZSYmdGhpcy5zdGFnZS51cGRhdGUoKSl9LGUucHJvdG90eXBlLl9zdGFydExvb3A9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX3J1bm5pbmc9ITAsa2UoKGZ1bmN0aW9uIGUoKXt0Ll9ydW5uaW5nJiYoa2UoZSksIXQuX3BhdXNlZCYmdC51cGRhdGUoKSl9KSl9LGUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5fcnVubmluZ3x8KHRoaXMuX3RpbWU9c2koKSx0aGlzLl9wYXVzZWRUaW1lPTAsdGhpcy5fc3RhcnRMb29wKCkpfSxlLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5fcnVubmluZz0hMX0sZS5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLl9wYXVzZWR8fCh0aGlzLl9wYXVzZVN0YXJ0PXNpKCksdGhpcy5fcGF1c2VkPSEwKX0sZS5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7dGhpcy5fcGF1c2VkJiYodGhpcy5fcGF1c2VkVGltZSs9c2koKS10aGlzLl9wYXVzZVN0YXJ0LHRoaXMuX3BhdXNlZD0hMSl9LGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX2hlYWQ7dDspe3ZhciBlPXQubmV4dDt0LnByZXY9dC5uZXh0PXQuYW5pbWF0aW9uPW51bGwsdD1lfXRoaXMuX2hlYWQ9dGhpcy5fdGFpbD1udWxsfSxlLnByb3RvdHlwZS5pc0ZpbmlzaGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PXRoaXMuX2hlYWR9LGUucHJvdG90eXBlLmFuaW1hdGU9ZnVuY3Rpb24odCxlKXtlPWV8fHt9LHRoaXMuc3RhcnQoKTt2YXIgbj1uZXcgYWkodCxlLmxvb3ApO3JldHVybiB0aGlzLmFkZEFuaW1hdG9yKG4pLG59LGV9KFh0KSxjaT1yLmRvbVN1cHBvcnRlZCxwaT0odWk9e3BvaW50ZXJkb3duOjEscG9pbnRlcnVwOjEscG9pbnRlcm1vdmU6MSxwb2ludGVyb3V0OjF9LHttb3VzZTpsaT1bImNsaWNrIiwiZGJsY2xpY2siLCJtb3VzZXdoZWVsIiwid2hlZWwiLCJtb3VzZW91dCIsIm1vdXNldXAiLCJtb3VzZWRvd24iLCJtb3VzZW1vdmUiLCJjb250ZXh0bWVudSJdLHRvdWNoOlsidG91Y2hzdGFydCIsInRvdWNoZW5kIiwidG91Y2htb3ZlIl0scG9pbnRlcjp6KGxpLChmdW5jdGlvbih0KXt2YXIgZT10LnJlcGxhY2UoIm1vdXNlIiwicG9pbnRlciIpO3JldHVybiB1aS5oYXNPd25Qcm9wZXJ0eShlKT9lOnR9KSl9KSxkaT1bIm1vdXNlbW92ZSIsIm1vdXNldXAiXSxmaT1bInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIl0sZ2k9ITE7ZnVuY3Rpb24geWkodCl7dmFyIGU9dC5wb2ludGVyVHlwZTtyZXR1cm4icGVuIj09PWV8fCJ0b3VjaCI9PT1lfWZ1bmN0aW9uIHZpKHQpe3QmJih0LnpyQnlUb3VjaD0hMCl9ZnVuY3Rpb24gbWkodCxlKXtmb3IodmFyIG49ZSxpPSExO24mJjkhPT1uLm5vZGVUeXBlJiYhKGk9bi5kb21CZWxvbmdUb1pyfHxuIT09ZSYmbj09PXQucGFpbnRlclJvb3QpOyluPW4ucGFyZW50Tm9kZTtyZXR1cm4gaX12YXIgeGk9ZnVuY3Rpb24odCxlKXt0aGlzLnN0b3BQcm9wYWdhdGlvbj14dCx0aGlzLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbj14dCx0aGlzLnByZXZlbnREZWZhdWx0PXh0LHRoaXMudHlwZT1lLnR5cGUsdGhpcy50YXJnZXQ9dGhpcy5jdXJyZW50VGFyZ2V0PXQuZG9tLHRoaXMucG9pbnRlclR5cGU9ZS5wb2ludGVyVHlwZSx0aGlzLmNsaWVudFg9ZS5jbGllbnRYLHRoaXMuY2xpZW50WT1lLmNsaWVudFl9LF9pPXttb3VzZWRvd246ZnVuY3Rpb24odCl7dD1vZSh0aGlzLmRvbSx0KSx0aGlzLl9fbWF5UG9pbnRlckNhcHR1cmU9W3QuenJYLHQuenJZXSx0aGlzLnRyaWdnZXIoIm1vdXNlZG93biIsdCl9LG1vdXNlbW92ZTpmdW5jdGlvbih0KXt0PW9lKHRoaXMuZG9tLHQpO3ZhciBlPXRoaXMuX19tYXlQb2ludGVyQ2FwdHVyZTshZXx8dC56clg9PT1lWzBdJiZ0LnpyWT09PWVbMV18fHRoaXMuX190b2dnbGVQb2ludGVyQ2FwdHVyZSghMCksdGhpcy50cmlnZ2VyKCJtb3VzZW1vdmUiLHQpfSxtb3VzZXVwOmZ1bmN0aW9uKHQpe3Q9b2UodGhpcy5kb20sdCksdGhpcy5fX3RvZ2dsZVBvaW50ZXJDYXB0dXJlKCExKSx0aGlzLnRyaWdnZXIoIm1vdXNldXAiLHQpfSxtb3VzZW91dDpmdW5jdGlvbih0KXttaSh0aGlzLCh0PW9lKHRoaXMuZG9tLHQpKS50b0VsZW1lbnR8fHQucmVsYXRlZFRhcmdldCl8fCh0aGlzLl9fcG9pbnRlckNhcHR1cmluZyYmKHQuenJFdmVudENvbnRyb2w9Im5vX2dsb2JhbG91dCIpLHRoaXMudHJpZ2dlcigibW91c2VvdXQiLHQpKX0sd2hlZWw6ZnVuY3Rpb24odCl7Z2k9ITAsdD1vZSh0aGlzLmRvbSx0KSx0aGlzLnRyaWdnZXIoIm1vdXNld2hlZWwiLHQpfSxtb3VzZXdoZWVsOmZ1bmN0aW9uKHQpe2dpfHwodD1vZSh0aGlzLmRvbSx0KSx0aGlzLnRyaWdnZXIoIm1vdXNld2hlZWwiLHQpKX0sdG91Y2hzdGFydDpmdW5jdGlvbih0KXt2aSh0PW9lKHRoaXMuZG9tLHQpKSx0aGlzLl9fbGFzdFRvdWNoTW9tZW50PW5ldyBEYXRlLHRoaXMuaGFuZGxlci5wcm9jZXNzR2VzdHVyZSh0LCJzdGFydCIpLF9pLm1vdXNlbW92ZS5jYWxsKHRoaXMsdCksX2kubW91c2Vkb3duLmNhbGwodGhpcyx0KX0sdG91Y2htb3ZlOmZ1bmN0aW9uKHQpe3ZpKHQ9b2UodGhpcy5kb20sdCkpLHRoaXMuaGFuZGxlci5wcm9jZXNzR2VzdHVyZSh0LCJjaGFuZ2UiKSxfaS5tb3VzZW1vdmUuY2FsbCh0aGlzLHQpfSx0b3VjaGVuZDpmdW5jdGlvbih0KXt2aSh0PW9lKHRoaXMuZG9tLHQpKSx0aGlzLmhhbmRsZXIucHJvY2Vzc0dlc3R1cmUodCwiZW5kIiksX2kubW91c2V1cC5jYWxsKHRoaXMsdCksK25ldyBEYXRlLSt0aGlzLl9fbGFzdFRvdWNoTW9tZW50PDMwMCYmX2kuY2xpY2suY2FsbCh0aGlzLHQpfSxwb2ludGVyZG93bjpmdW5jdGlvbih0KXtfaS5tb3VzZWRvd24uY2FsbCh0aGlzLHQpfSxwb2ludGVybW92ZTpmdW5jdGlvbih0KXt5aSh0KXx8X2kubW91c2Vtb3ZlLmNhbGwodGhpcyx0KX0scG9pbnRlcnVwOmZ1bmN0aW9uKHQpe19pLm1vdXNldXAuY2FsbCh0aGlzLHQpfSxwb2ludGVyb3V0OmZ1bmN0aW9uKHQpe3lpKHQpfHxfaS5tb3VzZW91dC5jYWxsKHRoaXMsdCl9fTtFKFsiY2xpY2siLCJkYmxjbGljayIsImNvbnRleHRtZW51Il0sKGZ1bmN0aW9uKHQpe19pW3RdPWZ1bmN0aW9uKGUpe2U9b2UodGhpcy5kb20sZSksdGhpcy50cmlnZ2VyKHQsZSl9fSkpO3ZhciBiaT17cG9pbnRlcm1vdmU6ZnVuY3Rpb24odCl7eWkodCl8fGJpLm1vdXNlbW92ZS5jYWxsKHRoaXMsdCl9LHBvaW50ZXJ1cDpmdW5jdGlvbih0KXtiaS5tb3VzZXVwLmNhbGwodGhpcyx0KX0sbW91c2Vtb3ZlOmZ1bmN0aW9uKHQpe3RoaXMudHJpZ2dlcigibW91c2Vtb3ZlIix0KX0sbW91c2V1cDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9fcG9pbnRlckNhcHR1cmluZzt0aGlzLl9fdG9nZ2xlUG9pbnRlckNhcHR1cmUoITEpLHRoaXMudHJpZ2dlcigibW91c2V1cCIsdCksZSYmKHQuenJFdmVudENvbnRyb2w9Im9ubHlfZ2xvYmFsb3V0Iix0aGlzLnRyaWdnZXIoIm1vdXNlb3V0Iix0KSl9fTtmdW5jdGlvbiB3aSh0LGUpe3ZhciBuPWUuZG9tSGFuZGxlcnM7ci5wb2ludGVyRXZlbnRzU3VwcG9ydGVkP0UocGkucG9pbnRlciwoZnVuY3Rpb24oaSl7TWkoZSxpLChmdW5jdGlvbihlKXtuW2ldLmNhbGwodCxlKX0pKX0pKTooci50b3VjaEV2ZW50c1N1cHBvcnRlZCYmRShwaS50b3VjaCwoZnVuY3Rpb24oaSl7TWkoZSxpLChmdW5jdGlvbihyKXtuW2ldLmNhbGwodCxyKSxmdW5jdGlvbih0KXt0LnRvdWNoaW5nPSEwLG51bGwhPXQudG91Y2hUaW1lciYmKGNsZWFyVGltZW91dCh0LnRvdWNoVGltZXIpLHQudG91Y2hUaW1lcj1udWxsKSx0LnRvdWNoVGltZXI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LnRvdWNoaW5nPSExLHQudG91Y2hUaW1lcj1udWxsfSksNzAwKX0oZSl9KSl9KSksRShwaS5tb3VzZSwoZnVuY3Rpb24oaSl7TWkoZSxpLChmdW5jdGlvbihyKXtyPXJlKHIpLGUudG91Y2hpbmd8fG5baV0uY2FsbCh0LHIpfSkpfSkpKX1mdW5jdGlvbiBTaSh0LGUpe2Z1bmN0aW9uIG4obil7TWkoZSxuLChmdW5jdGlvbihpKXtpPXJlKGkpLG1pKHQsaS50YXJnZXQpfHwoaT1mdW5jdGlvbih0LGUpe3JldHVybiBvZSh0LmRvbSxuZXcgeGkodCxlKSwhMCl9KHQsaSksZS5kb21IYW5kbGVyc1tuXS5jYWxsKHQsaSkpfSkse2NhcHR1cmU6ITB9KX1yLnBvaW50ZXJFdmVudHNTdXBwb3J0ZWQ/RShmaSxuKTpyLnRvdWNoRXZlbnRzU3VwcG9ydGVkfHxFKGRpLG4pfWZ1bmN0aW9uIE1pKHQsZSxuLGkpe3QubW91bnRlZFtlXT1uLHQubGlzdGVuZXJPcHRzW2VdPWksYWUodC5kb21UYXJnZXQsZSxuLGkpfWZ1bmN0aW9uIElpKHQpe3ZhciBlLG4saSxyLG89dC5tb3VudGVkO2Zvcih2YXIgYSBpbiBvKW8uaGFzT3duUHJvcGVydHkoYSkmJihlPXQuZG9tVGFyZ2V0LG49YSxpPW9bYV0scj10Lmxpc3RlbmVyT3B0c1thXSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIobixpLHIpKTt0Lm1vdW50ZWQ9e319dmFyIFRpPWZ1bmN0aW9uKHQsZSl7dGhpcy5tb3VudGVkPXt9LHRoaXMubGlzdGVuZXJPcHRzPXt9LHRoaXMudG91Y2hpbmc9ITEsdGhpcy5kb21UYXJnZXQ9dCx0aGlzLmRvbUhhbmRsZXJzPWV9LENpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGkuX19wb2ludGVyQ2FwdHVyaW5nPSExLGkuZG9tPWUsaS5wYWludGVyUm9vdD1uLGkuX2xvY2FsSGFuZGxlclNjb3BlPW5ldyBUaShlLF9pKSxjaSYmKGkuX2dsb2JhbEhhbmRsZXJTY29wZT1uZXcgVGkoZG9jdW1lbnQsYmkpKSx3aShpLGkuX2xvY2FsSGFuZGxlclNjb3BlKSxpfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe0lpKHRoaXMuX2xvY2FsSGFuZGxlclNjb3BlKSxjaSYmSWkodGhpcy5fZ2xvYmFsSGFuZGxlclNjb3BlKX0sZS5wcm90b3R5cGUuc2V0Q3Vyc29yPWZ1bmN0aW9uKHQpe3RoaXMuZG9tLnN0eWxlJiYodGhpcy5kb20uc3R5bGUuY3Vyc29yPXR8fCJkZWZhdWx0Iil9LGUucHJvdG90eXBlLl9fdG9nZ2xlUG9pbnRlckNhcHR1cmU9ZnVuY3Rpb24odCl7aWYodGhpcy5fX21heVBvaW50ZXJDYXB0dXJlPW51bGwsY2kmJit0aGlzLl9fcG9pbnRlckNhcHR1cmluZ14rdCl7dGhpcy5fX3BvaW50ZXJDYXB0dXJpbmc9dDt2YXIgZT10aGlzLl9nbG9iYWxIYW5kbGVyU2NvcGU7dD9TaSh0aGlzLGUpOklpKGUpfX0sZX0oWHQpLERpPTE7ci5oYXNHbG9iYWxXaW5kb3cmJihEaT1NYXRoLm1heCh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8d2luZG93LnNjcmVlbiYmd2luZG93LnNjcmVlbi5kZXZpY2VYRFBJL3dpbmRvdy5zY3JlZW4ubG9naWNhbFhEUEl8fDEsMSkpO3ZhciBBaT1EaSxraT0iIzMzMyIsTGk9IiNjY2MiO2Z1bmN0aW9uIFBpKCl7cmV0dXJuWzEsMCwwLDEsMCwwXX1mdW5jdGlvbiBPaSh0KXtyZXR1cm4gdFswXT0xLHRbMV09MCx0WzJdPTAsdFszXT0xLHRbNF09MCx0WzVdPTAsdH1mdW5jdGlvbiBSaSh0LGUpe3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdFs0XT1lWzRdLHRbNV09ZVs1XSx0fWZ1bmN0aW9uIE5pKHQsZSxuKXt2YXIgaT1lWzBdKm5bMF0rZVsyXSpuWzFdLHI9ZVsxXSpuWzBdK2VbM10qblsxXSxvPWVbMF0qblsyXStlWzJdKm5bM10sYT1lWzFdKm5bMl0rZVszXSpuWzNdLHM9ZVswXSpuWzRdK2VbMl0qbls1XStlWzRdLGw9ZVsxXSpuWzRdK2VbM10qbls1XStlWzVdO3JldHVybiB0WzBdPWksdFsxXT1yLHRbMl09byx0WzNdPWEsdFs0XT1zLHRbNV09bCx0fWZ1bmN0aW9uIEVpKHQsZSxuKXtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdFszXT1lWzNdLHRbNF09ZVs0XStuWzBdLHRbNV09ZVs1XStuWzFdLHR9ZnVuY3Rpb24gemkodCxlLG4pe3ZhciBpPWVbMF0scj1lWzJdLG89ZVs0XSxhPWVbMV0scz1lWzNdLGw9ZVs1XSx1PU1hdGguc2luKG4pLGg9TWF0aC5jb3Mobik7cmV0dXJuIHRbMF09aSpoK2EqdSx0WzFdPS1pKnUrYSpoLHRbMl09cipoK3MqdSx0WzNdPS1yKnUraCpzLHRbNF09aCpvK3UqbCx0WzVdPWgqbC11Km8sdH1mdW5jdGlvbiBWaSh0LGUsbil7dmFyIGk9blswXSxyPW5bMV07cmV0dXJuIHRbMF09ZVswXSppLHRbMV09ZVsxXSpyLHRbMl09ZVsyXSppLHRbM109ZVszXSpyLHRbNF09ZVs0XSppLHRbNV09ZVs1XSpyLHR9ZnVuY3Rpb24gQmkodCxlKXt2YXIgbj1lWzBdLGk9ZVsyXSxyPWVbNF0sbz1lWzFdLGE9ZVszXSxzPWVbNV0sbD1uKmEtbyppO3JldHVybiBsPyhsPTEvbCx0WzBdPWEqbCx0WzFdPS1vKmwsdFsyXT0taSpsLHRbM109bipsLHRbNF09KGkqcy1hKnIpKmwsdFs1XT0obypyLW4qcykqbCx0KTpudWxsfWZ1bmN0aW9uIEZpKHQpe3ZhciBlPVsxLDAsMCwxLDAsMF07cmV0dXJuIFJpKGUsdCksZX12YXIgR2k9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsY3JlYXRlOlBpLGlkZW50aXR5Ok9pLGNvcHk6UmksbXVsOk5pLHRyYW5zbGF0ZTpFaSxyb3RhdGU6emksc2NhbGU6VmksaW52ZXJ0OkJpLGNsb25lOkZpfSksV2k9T2ksSGk9NWUtNTtmdW5jdGlvbiBZaSh0KXtyZXR1cm4gdD5IaXx8dDwtNWUtNX12YXIgVWk9W10sWGk9W10sWmk9WzEsMCwwLDEsMCwwXSxqaT1NYXRoLmFicyxxaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmdldExvY2FsVHJhbnNmb3JtPWZ1bmN0aW9uKGUpe3JldHVybiB0LmdldExvY2FsVHJhbnNmb3JtKHRoaXMsZSl9LHQucHJvdG90eXBlLnNldFBvc2l0aW9uPWZ1bmN0aW9uKHQpe3RoaXMueD10WzBdLHRoaXMueT10WzFdfSx0LnByb3RvdHlwZS5zZXRTY2FsZT1mdW5jdGlvbih0KXt0aGlzLnNjYWxlWD10WzBdLHRoaXMuc2NhbGVZPXRbMV19LHQucHJvdG90eXBlLnNldFNrZXc9ZnVuY3Rpb24odCl7dGhpcy5za2V3WD10WzBdLHRoaXMuc2tld1k9dFsxXX0sdC5wcm90b3R5cGUuc2V0T3JpZ2luPWZ1bmN0aW9uKHQpe3RoaXMub3JpZ2luWD10WzBdLHRoaXMub3JpZ2luWT10WzFdfSx0LnByb3RvdHlwZS5uZWVkTG9jYWxUcmFuc2Zvcm09ZnVuY3Rpb24oKXtyZXR1cm4gWWkodGhpcy5yb3RhdGlvbil8fFlpKHRoaXMueCl8fFlpKHRoaXMueSl8fFlpKHRoaXMuc2NhbGVYLTEpfHxZaSh0aGlzLnNjYWxlWS0xKXx8WWkodGhpcy5za2V3WCl8fFlpKHRoaXMuc2tld1kpfSx0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQudHJhbnNmb3JtLGU9dGhpcy5uZWVkTG9jYWxUcmFuc2Zvcm0oKSxuPXRoaXMudHJhbnNmb3JtO2V8fHQ/KG49bnx8WzEsMCwwLDEsMCwwXSxlP3RoaXMuZ2V0TG9jYWxUcmFuc2Zvcm0obik6V2kobiksdCYmKGU/Tmkobix0LG4pOlJpKG4sdCkpLHRoaXMudHJhbnNmb3JtPW4sdGhpcy5fcmVzb2x2ZUdsb2JhbFNjYWxlUmF0aW8obikpOm4mJldpKG4pfSx0LnByb3RvdHlwZS5fcmVzb2x2ZUdsb2JhbFNjYWxlUmF0aW89ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nbG9iYWxTY2FsZVJhdGlvO2lmKG51bGwhPWUmJjEhPT1lKXt0aGlzLmdldEdsb2JhbFNjYWxlKFVpKTt2YXIgbj1VaVswXTwwPy0xOjEsaT1VaVsxXTwwPy0xOjEscj0oKFVpWzBdLW4pKmUrbikvVWlbMF18fDAsbz0oKFVpWzFdLWkpKmUraSkvVWlbMV18fDA7dFswXSo9cix0WzFdKj1yLHRbMl0qPW8sdFszXSo9b310aGlzLmludlRyYW5zZm9ybT10aGlzLmludlRyYW5zZm9ybXx8WzEsMCwwLDEsMCwwXSxCaSh0aGlzLmludlRyYW5zZm9ybSx0KX0sdC5wcm90b3R5cGUuZ2V0Q29tcHV0ZWRUcmFuc2Zvcm09ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcyxlPVtdO3Q7KWUucHVzaCh0KSx0PXQucGFyZW50O2Zvcig7dD1lLnBvcCgpOyl0LnVwZGF0ZVRyYW5zZm9ybSgpO3JldHVybiB0aGlzLnRyYW5zZm9ybX0sdC5wcm90b3R5cGUuc2V0TG9jYWxUcmFuc2Zvcm09ZnVuY3Rpb24odCl7aWYodCl7dmFyIGU9dFswXSp0WzBdK3RbMV0qdFsxXSxuPXRbMl0qdFsyXSt0WzNdKnRbM10saT1NYXRoLmF0YW4yKHRbMV0sdFswXSkscj1NYXRoLlBJLzIraS1NYXRoLmF0YW4yKHRbM10sdFsyXSk7bj1NYXRoLnNxcnQobikqTWF0aC5jb3MociksZT1NYXRoLnNxcnQoZSksdGhpcy5za2V3WD1yLHRoaXMuc2tld1k9MCx0aGlzLnJvdGF0aW9uPS1pLHRoaXMueD0rdFs0XSx0aGlzLnk9K3RbNV0sdGhpcy5zY2FsZVg9ZSx0aGlzLnNjYWxlWT1uLHRoaXMub3JpZ2luWD0wLHRoaXMub3JpZ2luWT0wfX0sdC5wcm90b3R5cGUuZGVjb21wb3NlVHJhbnNmb3JtPWZ1bmN0aW9uKCl7aWYodGhpcy50cmFuc2Zvcm0pe3ZhciB0PXRoaXMucGFyZW50LGU9dGhpcy50cmFuc2Zvcm07dCYmdC50cmFuc2Zvcm0mJihOaShYaSx0LmludlRyYW5zZm9ybSxlKSxlPVhpKTt2YXIgbj10aGlzLm9yaWdpblgsaT10aGlzLm9yaWdpblk7KG58fGkpJiYoWmlbNF09bixaaVs1XT1pLE5pKFhpLGUsWmkpLFhpWzRdLT1uLFhpWzVdLT1pLGU9WGkpLHRoaXMuc2V0TG9jYWxUcmFuc2Zvcm0oZSl9fSx0LnByb3RvdHlwZS5nZXRHbG9iYWxTY2FsZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnRyYW5zZm9ybTtyZXR1cm4gdD10fHxbXSxlPyh0WzBdPU1hdGguc3FydChlWzBdKmVbMF0rZVsxXSplWzFdKSx0WzFdPU1hdGguc3FydChlWzJdKmVbMl0rZVszXSplWzNdKSxlWzBdPDAmJih0WzBdPS10WzBdKSxlWzNdPDAmJih0WzFdPS10WzFdKSx0KToodFswXT0xLHRbMV09MSx0KX0sdC5wcm90b3R5cGUudHJhbnNmb3JtQ29vcmRUb0xvY2FsPWZ1bmN0aW9uKHQsZSl7dmFyIG49W3QsZV0saT10aGlzLmludlRyYW5zZm9ybTtyZXR1cm4gaSYmRnQobixuLGkpLG59LHQucHJvdG90eXBlLnRyYW5zZm9ybUNvb3JkVG9HbG9iYWw9ZnVuY3Rpb24odCxlKXt2YXIgbj1bdCxlXSxpPXRoaXMudHJhbnNmb3JtO3JldHVybiBpJiZGdChuLG4saSksbn0sdC5wcm90b3R5cGUuZ2V0TGluZVNjYWxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50cmFuc2Zvcm07cmV0dXJuIHQmJmppKHRbMF0tMSk+MWUtMTAmJmppKHRbM10tMSk+MWUtMTA/TWF0aC5zcXJ0KGppKHRbMF0qdFszXS10WzJdKnRbMV0pKToxfSx0LnByb3RvdHlwZS5jb3B5VHJhbnNmb3JtPWZ1bmN0aW9uKHQpeyRpKHRoaXMsdCl9LHQuZ2V0TG9jYWxUcmFuc2Zvcm09ZnVuY3Rpb24odCxlKXtlPWV8fFtdO3ZhciBuPXQub3JpZ2luWHx8MCxpPXQub3JpZ2luWXx8MCxyPXQuc2NhbGVYLG89dC5zY2FsZVksYT10LmFuY2hvclgscz10LmFuY2hvclksbD10LnJvdGF0aW9ufHwwLHU9dC54LGg9dC55LGM9dC5za2V3WD9NYXRoLnRhbih0LnNrZXdYKTowLHA9dC5za2V3WT9NYXRoLnRhbigtdC5za2V3WSk6MDtpZihufHxpfHxhfHxzKXt2YXIgZD1uK2EsZj1pK3M7ZVs0XT0tZCpyLWMqZipvLGVbNV09LWYqby1wKmQqcn1lbHNlIGVbNF09ZVs1XT0wO3JldHVybiBlWzBdPXIsZVszXT1vLGVbMV09cCpyLGVbMl09YypvLGwmJnppKGUsZSxsKSxlWzRdKz1uK3UsZVs1XSs9aStoLGV9LHQuaW5pdERlZmF1bHRQcm9wcz1mdW5jdGlvbigpe3ZhciBlPXQucHJvdG90eXBlO2Uuc2NhbGVYPWUuc2NhbGVZPWUuZ2xvYmFsU2NhbGVSYXRpbz0xLGUueD1lLnk9ZS5vcmlnaW5YPWUub3JpZ2luWT1lLnNrZXdYPWUuc2tld1k9ZS5yb3RhdGlvbj1lLmFuY2hvclg9ZS5hbmNob3JZPTB9KCksdH0oKSxLaT1bIngiLCJ5Iiwib3JpZ2luWCIsIm9yaWdpblkiLCJhbmNob3JYIiwiYW5jaG9yWSIsInJvdGF0aW9uIiwic2NhbGVYIiwic2NhbGVZIiwic2tld1giLCJza2V3WSJdO2Z1bmN0aW9uICRpKHQsZSl7Zm9yKHZhciBuPTA7bjxLaS5sZW5ndGg7bisrKXt2YXIgaT1LaVtuXTt0W2ldPWVbaV19fXZhciBKaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLng9dHx8MCx0aGlzLnk9ZXx8MH1yZXR1cm4gdC5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54PXQueCx0aGlzLnk9dC55LHRoaXN9LHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHRoaXMueCx0aGlzLnkpfSx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy54PXQsdGhpcy55PWUsdGhpc30sdC5wcm90b3R5cGUuZXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHQueD09PXRoaXMueCYmdC55PT09dGhpcy55fSx0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCs9dC54LHRoaXMueSs9dC55LHRoaXN9LHQucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKHQpe3RoaXMueCo9dCx0aGlzLnkqPXR9LHQucHJvdG90eXBlLnNjYWxlQW5kQWRkPWZ1bmN0aW9uKHQsZSl7dGhpcy54Kz10LngqZSx0aGlzLnkrPXQueSplfSx0LnByb3RvdHlwZS5zdWI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueC09dC54LHRoaXMueS09dC55LHRoaXN9LHQucHJvdG90eXBlLmRvdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54KnQueCt0aGlzLnkqdC55fSx0LnByb3RvdHlwZS5sZW49ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSl9LHQucHJvdG90eXBlLmxlblNxdWFyZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnl9LHQucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMubGVuKCk7cmV0dXJuIHRoaXMueC89dCx0aGlzLnkvPXQsdGhpc30sdC5wcm90b3R5cGUuZGlzdGFuY2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy54LXQueCxuPXRoaXMueS10Lnk7cmV0dXJuIE1hdGguc3FydChlKmUrbipuKX0sdC5wcm90b3R5cGUuZGlzdGFuY2VTcXVhcmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy54LXQueCxuPXRoaXMueS10Lnk7cmV0dXJuIGUqZStuKm59LHQucHJvdG90eXBlLm5lZ2F0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLng9LXRoaXMueCx0aGlzLnk9LXRoaXMueSx0aGlzfSx0LnByb3RvdHlwZS50cmFuc2Zvcm09ZnVuY3Rpb24odCl7aWYodCl7dmFyIGU9dGhpcy54LG49dGhpcy55O3JldHVybiB0aGlzLng9dFswXSplK3RbMl0qbit0WzRdLHRoaXMueT10WzFdKmUrdFszXSpuK3RbNV0sdGhpc319LHQucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24odCl7cmV0dXJuIHRbMF09dGhpcy54LHRbMV09dGhpcy55LHR9LHQucHJvdG90eXBlLmZyb21BcnJheT1mdW5jdGlvbih0KXt0aGlzLng9dFswXSx0aGlzLnk9dFsxXX0sdC5zZXQ9ZnVuY3Rpb24odCxlLG4pe3QueD1lLHQueT1ufSx0LmNvcHk9ZnVuY3Rpb24odCxlKXt0Lng9ZS54LHQueT1lLnl9LHQubGVuPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQodC54KnQueCt0LnkqdC55KX0sdC5sZW5TcXVhcmU9ZnVuY3Rpb24odCl7cmV0dXJuIHQueCp0LngrdC55KnQueX0sdC5kb3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC54KmUueCt0LnkqZS55fSx0LmFkZD1mdW5jdGlvbih0LGUsbil7dC54PWUueCtuLngsdC55PWUueStuLnl9LHQuc3ViPWZ1bmN0aW9uKHQsZSxuKXt0Lng9ZS54LW4ueCx0Lnk9ZS55LW4ueX0sdC5zY2FsZT1mdW5jdGlvbih0LGUsbil7dC54PWUueCpuLHQueT1lLnkqbn0sdC5zY2FsZUFuZEFkZD1mdW5jdGlvbih0LGUsbixpKXt0Lng9ZS54K24ueCppLHQueT1lLnkrbi55Kml9LHQubGVycD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj0xLWk7dC54PXIqZS54K2kqbi54LHQueT1yKmUueStpKm4ueX0sdH0oKSxRaT1NYXRoLm1pbix0cj1NYXRoLm1heCxlcj1uZXcgSmksbnI9bmV3IEppLGlyPW5ldyBKaSxycj1uZXcgSmksb3I9bmV3IEppLGFyPW5ldyBKaSxzcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4saSl7bjwwJiYodCs9bixuPS1uKSxpPDAmJihlKz1pLGk9LWkpLHRoaXMueD10LHRoaXMueT1lLHRoaXMud2lkdGg9bix0aGlzLmhlaWdodD1pfXJldHVybiB0LnByb3RvdHlwZS51bmlvbj1mdW5jdGlvbih0KXt2YXIgZT1RaSh0LngsdGhpcy54KSxuPVFpKHQueSx0aGlzLnkpO2lzRmluaXRlKHRoaXMueCkmJmlzRmluaXRlKHRoaXMud2lkdGgpP3RoaXMud2lkdGg9dHIodC54K3Qud2lkdGgsdGhpcy54K3RoaXMud2lkdGgpLWU6dGhpcy53aWR0aD10LndpZHRoLGlzRmluaXRlKHRoaXMueSkmJmlzRmluaXRlKHRoaXMuaGVpZ2h0KT90aGlzLmhlaWdodD10cih0LnkrdC5oZWlnaHQsdGhpcy55K3RoaXMuaGVpZ2h0KS1uOnRoaXMuaGVpZ2h0PXQuaGVpZ2h0LHRoaXMueD1lLHRoaXMueT1ufSx0LnByb3RvdHlwZS5hcHBseVRyYW5zZm9ybT1mdW5jdGlvbihlKXt0LmFwcGx5VHJhbnNmb3JtKHRoaXMsdGhpcyxlKX0sdC5wcm90b3R5cGUuY2FsY3VsYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LndpZHRoL2Uud2lkdGgsaT10LmhlaWdodC9lLmhlaWdodCxyPVsxLDAsMCwxLDAsMF07cmV0dXJuIEVpKHIscixbLWUueCwtZS55XSksVmkocixyLFtuLGldKSxFaShyLHIsW3QueCx0LnldKSxyfSx0LnByb3RvdHlwZS5pbnRlcnNlY3Q9ZnVuY3Rpb24oZSxuKXtpZighZSlyZXR1cm4hMTtlIGluc3RhbmNlb2YgdHx8KGU9dC5jcmVhdGUoZSkpO3ZhciBpPXRoaXMscj1pLngsbz1pLngraS53aWR0aCxhPWkueSxzPWkueStpLmhlaWdodCxsPWUueCx1PWUueCtlLndpZHRoLGg9ZS55LGM9ZS55K2UuaGVpZ2h0LHA9IShvPGx8fHU8cnx8czxofHxjPGEpO2lmKG4pe3ZhciBkPTEvMCxmPTAsZz1NYXRoLmFicyhvLWwpLHk9TWF0aC5hYnModS1yKSx2PU1hdGguYWJzKHMtaCksbT1NYXRoLmFicyhjLWEpLHg9TWF0aC5taW4oZyx5KSxfPU1hdGgubWluKHYsbSk7bzxsfHx1PHI/eD5mJiYoZj14LGc8eT9KaS5zZXQoYXIsLWcsMCk6Smkuc2V0KGFyLHksMCkpOng8ZCYmKGQ9eCxnPHk/Smkuc2V0KG9yLGcsMCk6Smkuc2V0KG9yLC15LDApKSxzPGh8fGM8YT9fPmYmJihmPV8sdjxtP0ppLnNldChhciwwLC12KTpKaS5zZXQoYXIsMCxtKSk6eDxkJiYoZD14LHY8bT9KaS5zZXQob3IsMCx2KTpKaS5zZXQob3IsMCwtbSkpfXJldHVybiBuJiZKaS5jb3B5KG4scD9vcjphcikscH0sdC5wcm90b3R5cGUuY29udGFpbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHQ+PW4ueCYmdDw9bi54K24ud2lkdGgmJmU+PW4ueSYmZTw9bi55K24uaGVpZ2h0fSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLngsdGhpcy55LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfSx0LnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUpe3QuY29weSh0aGlzLGUpfSx0LnByb3RvdHlwZS5wbGFpbj1mdW5jdGlvbigpe3JldHVybnt4OnRoaXMueCx5OnRoaXMueSx3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH19LHQucHJvdG90eXBlLmlzRmluaXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGlzRmluaXRlKHRoaXMueCkmJmlzRmluaXRlKHRoaXMueSkmJmlzRmluaXRlKHRoaXMud2lkdGgpJiZpc0Zpbml0ZSh0aGlzLmhlaWdodCl9LHQucHJvdG90eXBlLmlzWmVybz1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy53aWR0aHx8MD09PXRoaXMuaGVpZ2h0fSx0LmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHQoZS54LGUueSxlLndpZHRoLGUuaGVpZ2h0KX0sdC5jb3B5PWZ1bmN0aW9uKHQsZSl7dC54PWUueCx0Lnk9ZS55LHQud2lkdGg9ZS53aWR0aCx0LmhlaWdodD1lLmhlaWdodH0sdC5hcHBseVRyYW5zZm9ybT1mdW5jdGlvbihlLG4saSl7aWYoaSl7aWYoaVsxXTwxZS01JiZpWzFdPi0xZS01JiZpWzJdPDFlLTUmJmlbMl0+LTFlLTUpe3ZhciByPWlbMF0sbz1pWzNdLGE9aVs0XSxzPWlbNV07cmV0dXJuIGUueD1uLngqcithLGUueT1uLnkqbytzLGUud2lkdGg9bi53aWR0aCpyLGUuaGVpZ2h0PW4uaGVpZ2h0Km8sZS53aWR0aDwwJiYoZS54Kz1lLndpZHRoLGUud2lkdGg9LWUud2lkdGgpLHZvaWQoZS5oZWlnaHQ8MCYmKGUueSs9ZS5oZWlnaHQsZS5oZWlnaHQ9LWUuaGVpZ2h0KSl9ZXIueD1pci54PW4ueCxlci55PXJyLnk9bi55LG5yLng9cnIueD1uLngrbi53aWR0aCxuci55PWlyLnk9bi55K24uaGVpZ2h0LGVyLnRyYW5zZm9ybShpKSxyci50cmFuc2Zvcm0oaSksbnIudHJhbnNmb3JtKGkpLGlyLnRyYW5zZm9ybShpKSxlLng9UWkoZXIueCxuci54LGlyLngscnIueCksZS55PVFpKGVyLnksbnIueSxpci55LHJyLnkpO3ZhciBsPXRyKGVyLngsbnIueCxpci54LHJyLngpLHU9dHIoZXIueSxuci55LGlyLnkscnIueSk7ZS53aWR0aD1sLWUueCxlLmhlaWdodD11LWUueX1lbHNlIGUhPT1uJiZ0LmNvcHkoZSxuKX0sdH0oKSxscj17fTtmdW5jdGlvbiB1cih0LGUpe3ZhciBuPWxyW2U9ZXx8YV07bnx8KG49bHJbZV09bmV3IGxuKDUwMCkpO3ZhciBpPW4uZ2V0KHQpO3JldHVybiBudWxsPT1pJiYoaT1oLm1lYXN1cmVUZXh0KHQsZSkud2lkdGgsbi5wdXQodCxpKSksaX1mdW5jdGlvbiBocih0LGUsbixpKXt2YXIgcj11cih0LGUpLG89ZnIoZSksYT1wcigwLHIsbikscz1kcigwLG8saSk7cmV0dXJuIG5ldyBzcihhLHMscixvKX1mdW5jdGlvbiBjcih0LGUsbixpKXt2YXIgcj0oKHR8fCIiKSsiIikuc3BsaXQoIlxuIik7aWYoMT09PXIubGVuZ3RoKXJldHVybiBocihyWzBdLGUsbixpKTtmb3IodmFyIG89bmV3IHNyKDAsMCwwLDApLGE9MDthPHIubGVuZ3RoO2ErKyl7dmFyIHM9aHIoclthXSxlLG4saSk7MD09PWE/by5jb3B5KHMpOm8udW5pb24ocyl9cmV0dXJuIG99ZnVuY3Rpb24gcHIodCxlLG4pe3JldHVybiJyaWdodCI9PT1uP3QtPWU6ImNlbnRlciI9PT1uJiYodC09ZS8yKSx0fWZ1bmN0aW9uIGRyKHQsZSxuKXtyZXR1cm4ibWlkZGxlIj09PW4/dC09ZS8yOiJib3R0b20iPT09biYmKHQtPWUpLHR9ZnVuY3Rpb24gZnIodCl7cmV0dXJuIHVyKCLlm70iLHQpfWZ1bmN0aW9uIGdyKHQsZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P3QubGFzdEluZGV4T2YoIiUiKT49MD9wYXJzZUZsb2F0KHQpLzEwMCplOnBhcnNlRmxvYXQodCk6dH1mdW5jdGlvbiB5cih0LGUsbil7dmFyIGk9ZS5wb3NpdGlvbnx8Imluc2lkZSIscj1udWxsIT1lLmRpc3RhbmNlP2UuZGlzdGFuY2U6NSxvPW4uaGVpZ2h0LGE9bi53aWR0aCxzPW8vMixsPW4ueCx1PW4ueSxoPSJsZWZ0IixjPSJ0b3AiO2lmKGkgaW5zdGFuY2VvZiBBcnJheSlsKz1ncihpWzBdLG4ud2lkdGgpLHUrPWdyKGlbMV0sbi5oZWlnaHQpLGg9bnVsbCxjPW51bGw7ZWxzZSBzd2l0Y2goaSl7Y2FzZSJsZWZ0IjpsLT1yLHUrPXMsaD0icmlnaHQiLGM9Im1pZGRsZSI7YnJlYWs7Y2FzZSJyaWdodCI6bCs9cithLHUrPXMsYz0ibWlkZGxlIjticmVhaztjYXNlInRvcCI6bCs9YS8yLHUtPXIsaD0iY2VudGVyIixjPSJib3R0b20iO2JyZWFrO2Nhc2UiYm90dG9tIjpsKz1hLzIsdSs9bytyLGg9ImNlbnRlciI7YnJlYWs7Y2FzZSJpbnNpZGUiOmwrPWEvMix1Kz1zLGg9ImNlbnRlciIsYz0ibWlkZGxlIjticmVhaztjYXNlImluc2lkZUxlZnQiOmwrPXIsdSs9cyxjPSJtaWRkbGUiO2JyZWFrO2Nhc2UiaW5zaWRlUmlnaHQiOmwrPWEtcix1Kz1zLGg9InJpZ2h0IixjPSJtaWRkbGUiO2JyZWFrO2Nhc2UiaW5zaWRlVG9wIjpsKz1hLzIsdSs9cixoPSJjZW50ZXIiO2JyZWFrO2Nhc2UiaW5zaWRlQm90dG9tIjpsKz1hLzIsdSs9by1yLGg9ImNlbnRlciIsYz0iYm90dG9tIjticmVhaztjYXNlImluc2lkZVRvcExlZnQiOmwrPXIsdSs9cjticmVhaztjYXNlImluc2lkZVRvcFJpZ2h0IjpsKz1hLXIsdSs9cixoPSJyaWdodCI7YnJlYWs7Y2FzZSJpbnNpZGVCb3R0b21MZWZ0IjpsKz1yLHUrPW8tcixjPSJib3R0b20iO2JyZWFrO2Nhc2UiaW5zaWRlQm90dG9tUmlnaHQiOmwrPWEtcix1Kz1vLXIsaD0icmlnaHQiLGM9ImJvdHRvbSJ9cmV0dXJuKHQ9dHx8e30pLng9bCx0Lnk9dSx0LmFsaWduPWgsdC52ZXJ0aWNhbEFsaWduPWMsdH12YXIgdnI9Il9fenJfbm9ybWFsX18iLG1yPUtpLmNvbmNhdChbImlnbm9yZSJdKSx4cj1WKEtpLChmdW5jdGlvbih0LGUpe3JldHVybiB0W2VdPSEwLHR9KSx7aWdub3JlOiExfSksX3I9e30sYnI9bmV3IHNyKDAsMCwwLDApLHdyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmlkPU0oKSx0aGlzLmFuaW1hdG9ycz1bXSx0aGlzLmN1cnJlbnRTdGF0ZXM9W10sdGhpcy5zdGF0ZXM9e30sdGhpcy5faW5pdCh0KX1yZXR1cm4gdC5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24odCl7dGhpcy5hdHRyKHQpfSx0LnByb3RvdHlwZS5kcmlmdD1mdW5jdGlvbih0LGUsbil7c3dpdGNoKHRoaXMuZHJhZ2dhYmxlKXtjYXNlImhvcml6b250YWwiOmU9MDticmVhaztjYXNlInZlcnRpY2FsIjp0PTB9dmFyIGk9dGhpcy50cmFuc2Zvcm07aXx8KGk9dGhpcy50cmFuc2Zvcm09WzEsMCwwLDEsMCwwXSksaVs0XSs9dCxpWzVdKz1lLHRoaXMuZGVjb21wb3NlVHJhbnNmb3JtKCksdGhpcy5tYXJrUmVkcmF3KCl9LHQucHJvdG90eXBlLmJlZm9yZVVwZGF0ZT1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuYWZ0ZXJVcGRhdGU9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMudXBkYXRlVHJhbnNmb3JtKCksdGhpcy5fX2RpcnR5JiZ0aGlzLnVwZGF0ZUlubmVyVGV4dCgpfSx0LnByb3RvdHlwZS51cGRhdGVJbm5lclRleHQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdGV4dENvbnRlbnQ7aWYoZSYmKCFlLmlnbm9yZXx8dCkpe3RoaXMudGV4dENvbmZpZ3x8KHRoaXMudGV4dENvbmZpZz17fSk7dmFyIG49dGhpcy50ZXh0Q29uZmlnLGk9bi5sb2NhbCxyPWUuaW5uZXJUcmFuc2Zvcm1hYmxlLG89dm9pZCAwLGE9dm9pZCAwLHM9ITE7ci5wYXJlbnQ9aT90aGlzOm51bGw7dmFyIGw9ITE7aWYoci5jb3B5VHJhbnNmb3JtKGUpLG51bGwhPW4ucG9zaXRpb24pe3ZhciB1PWJyO24ubGF5b3V0UmVjdD91LmNvcHkobi5sYXlvdXRSZWN0KTp1LmNvcHkodGhpcy5nZXRCb3VuZGluZ1JlY3QoKSksaXx8dS5hcHBseVRyYW5zZm9ybSh0aGlzLnRyYW5zZm9ybSksdGhpcy5jYWxjdWxhdGVUZXh0UG9zaXRpb24/dGhpcy5jYWxjdWxhdGVUZXh0UG9zaXRpb24oX3Isbix1KTp5cihfcixuLHUpLHIueD1fci54LHIueT1fci55LG89X3IuYWxpZ24sYT1fci52ZXJ0aWNhbEFsaWduO3ZhciBoPW4ub3JpZ2luO2lmKGgmJm51bGwhPW4ucm90YXRpb24pe3ZhciBjPXZvaWQgMCxwPXZvaWQgMDsiY2VudGVyIj09PWg/KGM9LjUqdS53aWR0aCxwPS41KnUuaGVpZ2h0KTooYz1ncihoWzBdLHUud2lkdGgpLHA9Z3IoaFsxXSx1LmhlaWdodCkpLGw9ITAsci5vcmlnaW5YPS1yLngrYysoaT8wOnUueCksci5vcmlnaW5ZPS1yLnkrcCsoaT8wOnUueSl9fW51bGwhPW4ucm90YXRpb24mJihyLnJvdGF0aW9uPW4ucm90YXRpb24pO3ZhciBkPW4ub2Zmc2V0O2QmJihyLngrPWRbMF0sci55Kz1kWzFdLGx8fChyLm9yaWdpblg9LWRbMF0sci5vcmlnaW5ZPS1kWzFdKSk7dmFyIGY9bnVsbD09bi5pbnNpZGU/InN0cmluZyI9PXR5cGVvZiBuLnBvc2l0aW9uJiZuLnBvc2l0aW9uLmluZGV4T2YoImluc2lkZSIpPj0wOm4uaW5zaWRlLGc9dGhpcy5faW5uZXJUZXh0RGVmYXVsdFN0eWxlfHwodGhpcy5faW5uZXJUZXh0RGVmYXVsdFN0eWxlPXt9KSx5PXZvaWQgMCx2PXZvaWQgMCxtPXZvaWQgMDtmJiZ0aGlzLmNhbkJlSW5zaWRlVGV4dCgpPyh5PW4uaW5zaWRlRmlsbCx2PW4uaW5zaWRlU3Ryb2tlLG51bGwhPXkmJiJhdXRvIiE9PXl8fCh5PXRoaXMuZ2V0SW5zaWRlVGV4dEZpbGwoKSksbnVsbCE9diYmImF1dG8iIT09dnx8KHY9dGhpcy5nZXRJbnNpZGVUZXh0U3Ryb2tlKHkpLG09ITApKTooeT1uLm91dHNpZGVGaWxsLHY9bi5vdXRzaWRlU3Ryb2tlLG51bGwhPXkmJiJhdXRvIiE9PXl8fCh5PXRoaXMuZ2V0T3V0c2lkZUZpbGwoKSksbnVsbCE9diYmImF1dG8iIT09dnx8KHY9dGhpcy5nZXRPdXRzaWRlU3Ryb2tlKHkpLG09ITApKSwoeT15fHwiIzAwMCIpPT09Zy5maWxsJiZ2PT09Zy5zdHJva2UmJm09PT1nLmF1dG9TdHJva2UmJm89PT1nLmFsaWduJiZhPT09Zy52ZXJ0aWNhbEFsaWdufHwocz0hMCxnLmZpbGw9eSxnLnN0cm9rZT12LGcuYXV0b1N0cm9rZT1tLGcuYWxpZ249byxnLnZlcnRpY2FsQWxpZ249YSxlLnNldERlZmF1bHRUZXh0U3R5bGUoZykpLGUuX19kaXJ0eXw9MSxzJiZlLmRpcnR5U3R5bGUoITApfX0sdC5wcm90b3R5cGUuY2FuQmVJbnNpZGVUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuITB9LHQucHJvdG90eXBlLmdldEluc2lkZVRleHRGaWxsPWZ1bmN0aW9uKCl7cmV0dXJuIiNmZmYifSx0LnByb3RvdHlwZS5nZXRJbnNpZGVUZXh0U3Ryb2tlPWZ1bmN0aW9uKHQpe3JldHVybiIjMDAwIn0sdC5wcm90b3R5cGUuZ2V0T3V0c2lkZUZpbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX3pyJiZ0aGlzLl9fenIuaXNEYXJrTW9kZSgpP0xpOmtpfSx0LnByb3RvdHlwZS5nZXRPdXRzaWRlU3Ryb2tlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX196ciYmdGhpcy5fX3pyLmdldEJhY2tncm91bmRDb2xvcigpLG49InN0cmluZyI9PXR5cGVvZiBlJiZibihlKTtufHwobj1bMjU1LDI1NSwyNTUsMV0pO2Zvcih2YXIgaT1uWzNdLHI9dGhpcy5fX3pyLmlzRGFya01vZGUoKSxvPTA7bzwzO28rKyluW29dPW5bb10qaSsocj8wOjI1NSkqKDEtaSk7cmV0dXJuIG5bM109MSxrbihuLCJyZ2JhIil9LHQucHJvdG90eXBlLnRyYXZlcnNlPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS5hdHRyS1Y9ZnVuY3Rpb24odCxlKXsidGV4dENvbmZpZyI9PT10P3RoaXMuc2V0VGV4dENvbmZpZyhlKToidGV4dENvbnRlbnQiPT09dD90aGlzLnNldFRleHRDb250ZW50KGUpOiJjbGlwUGF0aCI9PT10P3RoaXMuc2V0Q2xpcFBhdGgoZSk6ImV4dHJhIj09PXQ/KHRoaXMuZXh0cmE9dGhpcy5leHRyYXx8e30sQSh0aGlzLmV4dHJhLGUpKTp0aGlzW3RdPWV9LHQucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLmlnbm9yZT0hMCx0aGlzLm1hcmtSZWRyYXcoKX0sdC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3RoaXMuaWdub3JlPSExLHRoaXMubWFya1JlZHJhdygpfSx0LnByb3RvdHlwZS5hdHRyPWZ1bmN0aW9uKHQsZSl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXRoaXMuYXR0cktWKHQsZSk7ZWxzZSBpZihxKHQpKWZvcih2YXIgbj1HKHQpLGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXTt0aGlzLmF0dHJLVihyLHRbcl0pfXJldHVybiB0aGlzLm1hcmtSZWRyYXcoKSx0aGlzfSx0LnByb3RvdHlwZS5zYXZlQ3VycmVudFRvTm9ybWFsU3RhdGU9ZnVuY3Rpb24odCl7dGhpcy5faW5uZXJTYXZlVG9Ob3JtYWwodCk7Zm9yKHZhciBlPXRoaXMuX25vcm1hbFN0YXRlLG49MDtuPHRoaXMuYW5pbWF0b3JzLmxlbmd0aDtuKyspe3ZhciBpPXRoaXMuYW5pbWF0b3JzW25dLHI9aS5fX2Zyb21TdGF0ZVRyYW5zaXRpb247aWYoIShpLmdldExvb3AoKXx8ciYmciE9PXZyKSl7dmFyIG89aS50YXJnZXROYW1lLGE9bz9lW29dOmU7aS5zYXZlVG8oYSl9fX0sdC5wcm90b3R5cGUuX2lubmVyU2F2ZVRvTm9ybWFsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX25vcm1hbFN0YXRlO2V8fChlPXRoaXMuX25vcm1hbFN0YXRlPXt9KSx0LnRleHRDb25maWcmJiFlLnRleHRDb25maWcmJihlLnRleHRDb25maWc9dGhpcy50ZXh0Q29uZmlnKSx0aGlzLl9zYXZlUHJpbWFyeVRvTm9ybWFsKHQsZSxtcil9LHQucHJvdG90eXBlLl9zYXZlUHJpbWFyeVRvTm9ybWFsPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXTtudWxsPT10W3JdfHxyIGluIGV8fChlW3JdPXRoaXNbcl0pfX0sdC5wcm90b3R5cGUuaGFzU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50U3RhdGVzLmxlbmd0aD4wfSx0LnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGF0ZXNbdF19LHQucHJvdG90eXBlLmVuc3VyZVN0YXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RhdGVzO3JldHVybiBlW3RdfHwoZVt0XT17fSksZVt0XX0sdC5wcm90b3R5cGUuY2xlYXJTdGF0ZXM9ZnVuY3Rpb24odCl7dGhpcy51c2VTdGF0ZSh2ciwhMSx0KX0sdC5wcm90b3R5cGUudXNlU3RhdGU9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dD09PXZyO2lmKHRoaXMuaGFzU3RhdGUoKXx8IXIpe3ZhciBvPXRoaXMuY3VycmVudFN0YXRlcyxhPXRoaXMuc3RhdGVUcmFuc2l0aW9uO2lmKCEoUChvLHQpPj0wKXx8IWUmJjEhPT1vLmxlbmd0aCl7dmFyIHM7aWYodGhpcy5zdGF0ZVByb3h5JiYhciYmKHM9dGhpcy5zdGF0ZVByb3h5KHQpKSxzfHwocz10aGlzLnN0YXRlcyYmdGhpcy5zdGF0ZXNbdF0pLHN8fHIpe3J8fHRoaXMuc2F2ZUN1cnJlbnRUb05vcm1hbFN0YXRlKHMpO3ZhciBsPSEhKHMmJnMuaG92ZXJMYXllcnx8aSk7bCYmdGhpcy5fdG9nZ2xlSG92ZXJMYXllckZsYWcoITApLHRoaXMuX2FwcGx5U3RhdGVPYmoodCxzLHRoaXMuX25vcm1hbFN0YXRlLGUsIW4mJiF0aGlzLl9faW5Ib3ZlciYmYSYmYS5kdXJhdGlvbj4wLGEpO3ZhciB1PXRoaXMuX3RleHRDb250ZW50LGg9dGhpcy5fdGV4dEd1aWRlO3JldHVybiB1JiZ1LnVzZVN0YXRlKHQsZSxuLGwpLGgmJmgudXNlU3RhdGUodCxlLG4sbCkscj8odGhpcy5jdXJyZW50U3RhdGVzPVtdLHRoaXMuX25vcm1hbFN0YXRlPXt9KTplP3RoaXMuY3VycmVudFN0YXRlcy5wdXNoKHQpOnRoaXMuY3VycmVudFN0YXRlcz1bdF0sdGhpcy5fdXBkYXRlQW5pbWF0aW9uVGFyZ2V0cygpLHRoaXMubWFya1JlZHJhdygpLCFsJiZ0aGlzLl9faW5Ib3ZlciYmKHRoaXMuX3RvZ2dsZUhvdmVyTGF5ZXJGbGFnKCExKSx0aGlzLl9fZGlydHkmPS0yKSxzfUkoIlN0YXRlICIrdCsiIG5vdCBleGlzdHMuIil9fX0sdC5wcm90b3R5cGUudXNlU3RhdGVzPWZ1bmN0aW9uKHQsZSxuKXtpZih0Lmxlbmd0aCl7dmFyIGk9W10scj10aGlzLmN1cnJlbnRTdGF0ZXMsbz10Lmxlbmd0aCxhPW89PT1yLmxlbmd0aDtpZihhKWZvcih2YXIgcz0wO3M8bztzKyspaWYodFtzXSE9PXJbc10pe2E9ITE7YnJlYWt9aWYoYSlyZXR1cm47Zm9yKHM9MDtzPG87cysrKXt2YXIgbD10W3NdLHU9dm9pZCAwO3RoaXMuc3RhdGVQcm94eSYmKHU9dGhpcy5zdGF0ZVByb3h5KGwsdCkpLHV8fCh1PXRoaXMuc3RhdGVzW2xdKSx1JiZpLnB1c2godSl9dmFyIGg9aVtvLTFdLGM9ISEoaCYmaC5ob3ZlckxheWVyfHxuKTtjJiZ0aGlzLl90b2dnbGVIb3ZlckxheWVyRmxhZyghMCk7dmFyIHA9dGhpcy5fbWVyZ2VTdGF0ZXMoaSksZD10aGlzLnN0YXRlVHJhbnNpdGlvbjt0aGlzLnNhdmVDdXJyZW50VG9Ob3JtYWxTdGF0ZShwKSx0aGlzLl9hcHBseVN0YXRlT2JqKHQuam9pbigiLCIpLHAsdGhpcy5fbm9ybWFsU3RhdGUsITEsIWUmJiF0aGlzLl9faW5Ib3ZlciYmZCYmZC5kdXJhdGlvbj4wLGQpO3ZhciBmPXRoaXMuX3RleHRDb250ZW50LGc9dGhpcy5fdGV4dEd1aWRlO2YmJmYudXNlU3RhdGVzKHQsZSxjKSxnJiZnLnVzZVN0YXRlcyh0LGUsYyksdGhpcy5fdXBkYXRlQW5pbWF0aW9uVGFyZ2V0cygpLHRoaXMuY3VycmVudFN0YXRlcz10LnNsaWNlKCksdGhpcy5tYXJrUmVkcmF3KCksIWMmJnRoaXMuX19pbkhvdmVyJiYodGhpcy5fdG9nZ2xlSG92ZXJMYXllckZsYWcoITEpLHRoaXMuX19kaXJ0eSY9LTIpfWVsc2UgdGhpcy5jbGVhclN0YXRlcygpfSx0LnByb3RvdHlwZS5fdXBkYXRlQW5pbWF0aW9uVGFyZ2V0cz1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5hbmltYXRvcnMubGVuZ3RoO3QrKyl7dmFyIGU9dGhpcy5hbmltYXRvcnNbdF07ZS50YXJnZXROYW1lJiZlLmNoYW5nZVRhcmdldCh0aGlzW2UudGFyZ2V0TmFtZV0pfX0sdC5wcm90b3R5cGUucmVtb3ZlU3RhdGU9ZnVuY3Rpb24odCl7dmFyIGU9UCh0aGlzLmN1cnJlbnRTdGF0ZXMsdCk7aWYoZT49MCl7dmFyIG49dGhpcy5jdXJyZW50U3RhdGVzLnNsaWNlKCk7bi5zcGxpY2UoZSwxKSx0aGlzLnVzZVN0YXRlcyhuKX19LHQucHJvdG90eXBlLnJlcGxhY2VTdGF0ZT1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5jdXJyZW50U3RhdGVzLnNsaWNlKCkscj1QKGksdCksbz1QKGksZSk+PTA7cj49MD9vP2kuc3BsaWNlKHIsMSk6aVtyXT1lOm4mJiFvJiZpLnB1c2goZSksdGhpcy51c2VTdGF0ZXMoaSl9LHQucHJvdG90eXBlLnRvZ2dsZVN0YXRlPWZ1bmN0aW9uKHQsZSl7ZT90aGlzLnVzZVN0YXRlKHQsITApOnRoaXMucmVtb3ZlU3RhdGUodCl9LHQucHJvdG90eXBlLl9tZXJnZVN0YXRlcz1mdW5jdGlvbih0KXtmb3IodmFyIGUsbj17fSxpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciByPXRbaV07QShuLHIpLHIudGV4dENvbmZpZyYmQShlPWV8fHt9LHIudGV4dENvbmZpZyl9cmV0dXJuIGUmJihuLnRleHRDb25maWc9ZSksbn0sdC5wcm90b3R5cGUuX2FwcGx5U3RhdGVPYmo9ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhPSEoZSYmaSk7ZSYmZS50ZXh0Q29uZmlnPyh0aGlzLnRleHRDb25maWc9QSh7fSxpP3RoaXMudGV4dENvbmZpZzpuLnRleHRDb25maWcpLEEodGhpcy50ZXh0Q29uZmlnLGUudGV4dENvbmZpZykpOmEmJm4udGV4dENvbmZpZyYmKHRoaXMudGV4dENvbmZpZz1uLnRleHRDb25maWcpO2Zvcih2YXIgcz17fSxsPSExLHU9MDt1PG1yLmxlbmd0aDt1Kyspe3ZhciBoPW1yW3VdLGM9ciYmeHJbaF07ZSYmbnVsbCE9ZVtoXT9jPyhsPSEwLHNbaF09ZVtoXSk6dGhpc1toXT1lW2hdOmEmJm51bGwhPW5baF0mJihjPyhsPSEwLHNbaF09bltoXSk6dGhpc1toXT1uW2hdKX1pZighcilmb3IodT0wO3U8dGhpcy5hbmltYXRvcnMubGVuZ3RoO3UrKyl7dmFyIHA9dGhpcy5hbmltYXRvcnNbdV0sZD1wLnRhcmdldE5hbWU7cC5nZXRMb29wKCl8fHAuX19jaGFuZ2VGaW5hbFZhbHVlKGQ/KGV8fG4pW2RdOmV8fG4pfWwmJnRoaXMuX3RyYW5zaXRpb25TdGF0ZSh0LHMsbyl9LHQucHJvdG90eXBlLl9hdHRhY2hDb21wb25lbnQ9ZnVuY3Rpb24odCl7aWYoKCF0Ll9fenJ8fHQuX19ob3N0VGFyZ2V0KSYmdCE9PXRoaXMpe3ZhciBlPXRoaXMuX196cjtlJiZ0LmFkZFNlbGZUb1pyKGUpLHQuX196cj1lLHQuX19ob3N0VGFyZ2V0PXRoaXN9fSx0LnByb3RvdHlwZS5fZGV0YWNoQ29tcG9uZW50PWZ1bmN0aW9uKHQpe3QuX196ciYmdC5yZW1vdmVTZWxmRnJvbVpyKHQuX196ciksdC5fX3pyPW51bGwsdC5fX2hvc3RUYXJnZXQ9bnVsbH0sdC5wcm90b3R5cGUuZ2V0Q2xpcFBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2xpcFBhdGh9LHQucHJvdG90eXBlLnNldENsaXBQYXRoPWZ1bmN0aW9uKHQpe3RoaXMuX2NsaXBQYXRoJiZ0aGlzLl9jbGlwUGF0aCE9PXQmJnRoaXMucmVtb3ZlQ2xpcFBhdGgoKSx0aGlzLl9hdHRhY2hDb21wb25lbnQodCksdGhpcy5fY2xpcFBhdGg9dCx0aGlzLm1hcmtSZWRyYXcoKX0sdC5wcm90b3R5cGUucmVtb3ZlQ2xpcFBhdGg9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jbGlwUGF0aDt0JiYodGhpcy5fZGV0YWNoQ29tcG9uZW50KHQpLHRoaXMuX2NsaXBQYXRoPW51bGwsdGhpcy5tYXJrUmVkcmF3KCkpfSx0LnByb3RvdHlwZS5nZXRUZXh0Q29udGVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0Q29udGVudH0sdC5wcm90b3R5cGUuc2V0VGV4dENvbnRlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdGV4dENvbnRlbnQ7ZSE9PXQmJihlJiZlIT09dCYmdGhpcy5yZW1vdmVUZXh0Q29udGVudCgpLHQuaW5uZXJUcmFuc2Zvcm1hYmxlPW5ldyBxaSx0aGlzLl9hdHRhY2hDb21wb25lbnQodCksdGhpcy5fdGV4dENvbnRlbnQ9dCx0aGlzLm1hcmtSZWRyYXcoKSl9LHQucHJvdG90eXBlLnNldFRleHRDb25maWc9ZnVuY3Rpb24odCl7dGhpcy50ZXh0Q29uZmlnfHwodGhpcy50ZXh0Q29uZmlnPXt9KSxBKHRoaXMudGV4dENvbmZpZyx0KSx0aGlzLm1hcmtSZWRyYXcoKX0sdC5wcm90b3R5cGUucmVtb3ZlVGV4dENvbmZpZz1mdW5jdGlvbigpe3RoaXMudGV4dENvbmZpZz1udWxsLHRoaXMubWFya1JlZHJhdygpfSx0LnByb3RvdHlwZS5yZW1vdmVUZXh0Q29udGVudD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3RleHRDb250ZW50O3QmJih0LmlubmVyVHJhbnNmb3JtYWJsZT1udWxsLHRoaXMuX2RldGFjaENvbXBvbmVudCh0KSx0aGlzLl90ZXh0Q29udGVudD1udWxsLHRoaXMuX2lubmVyVGV4dERlZmF1bHRTdHlsZT1udWxsLHRoaXMubWFya1JlZHJhdygpKX0sdC5wcm90b3R5cGUuZ2V0VGV4dEd1aWRlTGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0R3VpZGV9LHQucHJvdG90eXBlLnNldFRleHRHdWlkZUxpbmU9ZnVuY3Rpb24odCl7dGhpcy5fdGV4dEd1aWRlJiZ0aGlzLl90ZXh0R3VpZGUhPT10JiZ0aGlzLnJlbW92ZVRleHRHdWlkZUxpbmUoKSx0aGlzLl9hdHRhY2hDb21wb25lbnQodCksdGhpcy5fdGV4dEd1aWRlPXQsdGhpcy5tYXJrUmVkcmF3KCl9LHQucHJvdG90eXBlLnJlbW92ZVRleHRHdWlkZUxpbmU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90ZXh0R3VpZGU7dCYmKHRoaXMuX2RldGFjaENvbXBvbmVudCh0KSx0aGlzLl90ZXh0R3VpZGU9bnVsbCx0aGlzLm1hcmtSZWRyYXcoKSl9LHQucHJvdG90eXBlLm1hcmtSZWRyYXc9ZnVuY3Rpb24oKXt0aGlzLl9fZGlydHl8PTE7dmFyIHQ9dGhpcy5fX3pyO3QmJih0aGlzLl9faW5Ib3Zlcj90LnJlZnJlc2hIb3ZlcigpOnQucmVmcmVzaCgpKSx0aGlzLl9faG9zdFRhcmdldCYmdGhpcy5fX2hvc3RUYXJnZXQubWFya1JlZHJhdygpfSx0LnByb3RvdHlwZS5kaXJ0eT1mdW5jdGlvbigpe3RoaXMubWFya1JlZHJhdygpfSx0LnByb3RvdHlwZS5fdG9nZ2xlSG92ZXJMYXllckZsYWc9ZnVuY3Rpb24odCl7dGhpcy5fX2luSG92ZXI9dDt2YXIgZT10aGlzLl90ZXh0Q29udGVudCxuPXRoaXMuX3RleHRHdWlkZTtlJiYoZS5fX2luSG92ZXI9dCksbiYmKG4uX19pbkhvdmVyPXQpfSx0LnByb3RvdHlwZS5hZGRTZWxmVG9acj1mdW5jdGlvbih0KXtpZih0aGlzLl9fenIhPT10KXt0aGlzLl9fenI9dDt2YXIgZT10aGlzLmFuaW1hdG9ycztpZihlKWZvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXQuYW5pbWF0aW9uLmFkZEFuaW1hdG9yKGVbbl0pO3RoaXMuX2NsaXBQYXRoJiZ0aGlzLl9jbGlwUGF0aC5hZGRTZWxmVG9acih0KSx0aGlzLl90ZXh0Q29udGVudCYmdGhpcy5fdGV4dENvbnRlbnQuYWRkU2VsZlRvWnIodCksdGhpcy5fdGV4dEd1aWRlJiZ0aGlzLl90ZXh0R3VpZGUuYWRkU2VsZlRvWnIodCl9fSx0LnByb3RvdHlwZS5yZW1vdmVTZWxmRnJvbVpyPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX196cil7dGhpcy5fX3pyPW51bGw7dmFyIGU9dGhpcy5hbmltYXRvcnM7aWYoZSlmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0LmFuaW1hdGlvbi5yZW1vdmVBbmltYXRvcihlW25dKTt0aGlzLl9jbGlwUGF0aCYmdGhpcy5fY2xpcFBhdGgucmVtb3ZlU2VsZkZyb21acih0KSx0aGlzLl90ZXh0Q29udGVudCYmdGhpcy5fdGV4dENvbnRlbnQucmVtb3ZlU2VsZkZyb21acih0KSx0aGlzLl90ZXh0R3VpZGUmJnRoaXMuX3RleHRHdWlkZS5yZW1vdmVTZWxmRnJvbVpyKHQpfX0sdC5wcm90b3R5cGUuYW5pbWF0ZT1mdW5jdGlvbih0LGUsbil7dmFyIGk9dD90aGlzW3RdOnRoaXM7dmFyIHI9bmV3IGFpKGksZSxuKTtyZXR1cm4gdCYmKHIudGFyZ2V0TmFtZT10KSx0aGlzLmFkZEFuaW1hdG9yKHIsdCkscn0sdC5wcm90b3R5cGUuYWRkQW5pbWF0b3I9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9fenIsaT10aGlzO3QuZHVyaW5nKChmdW5jdGlvbigpe2kudXBkYXRlRHVyaW5nQW5pbWF0aW9uKGUpfSkpLmRvbmUoKGZ1bmN0aW9uKCl7dmFyIGU9aS5hbmltYXRvcnMsbj1QKGUsdCk7bj49MCYmZS5zcGxpY2UobiwxKX0pKSx0aGlzLmFuaW1hdG9ycy5wdXNoKHQpLG4mJm4uYW5pbWF0aW9uLmFkZEFuaW1hdG9yKHQpLG4mJm4ud2FrZVVwKCl9LHQucHJvdG90eXBlLnVwZGF0ZUR1cmluZ0FuaW1hdGlvbj1mdW5jdGlvbih0KXt0aGlzLm1hcmtSZWRyYXcoKX0sdC5wcm90b3R5cGUuc3RvcEFuaW1hdGlvbj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLmFuaW1hdG9ycyxpPW4ubGVuZ3RoLHI9W10sbz0wO288aTtvKyspe3ZhciBhPW5bb107dCYmdCE9PWEuc2NvcGU/ci5wdXNoKGEpOmEuc3RvcChlKX1yZXR1cm4gdGhpcy5hbmltYXRvcnM9cix0aGlzfSx0LnByb3RvdHlwZS5hbmltYXRlVG89ZnVuY3Rpb24odCxlLG4pe1NyKHRoaXMsdCxlLG4pfSx0LnByb3RvdHlwZS5hbmltYXRlRnJvbT1mdW5jdGlvbih0LGUsbil7U3IodGhpcyx0LGUsbiwhMCl9LHQucHJvdG90eXBlLl90cmFuc2l0aW9uU3RhdGU9ZnVuY3Rpb24odCxlLG4saSl7Zm9yKHZhciByPVNyKHRoaXMsZSxuLGkpLG89MDtvPHIubGVuZ3RoO28rKylyW29dLl9fZnJvbVN0YXRlVHJhbnNpdGlvbj10fSx0LnByb3RvdHlwZS5nZXRCb3VuZGluZ1JlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuZ2V0UGFpbnRSZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHQuaW5pdERlZmF1bHRQcm9wcz1mdW5jdGlvbigpe3ZhciBlPXQucHJvdG90eXBlO2UudHlwZT0iZWxlbWVudCIsZS5uYW1lPSIiLGUuaWdub3JlPWUuc2lsZW50PWUuaXNHcm91cD1lLmRyYWdnYWJsZT1lLmRyYWdnaW5nPWUuaWdub3JlQ2xpcD1lLl9faW5Ib3Zlcj0hMSxlLl9fZGlydHk9MTtmdW5jdGlvbiBuKHQsbixpLHIpe2Z1bmN0aW9uIG8odCxlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwwLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtpXX0sc2V0OmZ1bmN0aW9uKGUpe3RbaV09ZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwxLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtyXX0sc2V0OmZ1bmN0aW9uKGUpe3Rbcl09ZX19KX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtnZXQ6ZnVuY3Rpb24oKXt0aGlzW25dfHxvKHRoaXMsdGhpc1tuXT1bXSk7cmV0dXJuIHRoaXNbbl19LHNldDpmdW5jdGlvbih0KXt0aGlzW2ldPXRbMF0sdGhpc1tyXT10WzFdLHRoaXNbbl09dCxvKHRoaXMsdCl9fSl9T2JqZWN0LmRlZmluZVByb3BlcnR5JiYobigicG9zaXRpb24iLCJfbGVnYWN5UG9zIiwieCIsInkiKSxuKCJzY2FsZSIsIl9sZWdhY3lTY2FsZSIsInNjYWxlWCIsInNjYWxlWSIpLG4oIm9yaWdpbiIsIl9sZWdhY3lPcmlnaW4iLCJvcmlnaW5YIiwib3JpZ2luWSIpKX0oKSx0fSgpO2Z1bmN0aW9uIFNyKHQsZSxuLGkscil7dmFyIG89W107VHIodCwiIix0LGUsbj1ufHx7fSxpLG8scik7dmFyIGE9by5sZW5ndGgscz0hMSxsPW4uZG9uZSx1PW4uYWJvcnRlZCxoPWZ1bmN0aW9uKCl7cz0hMCwtLWE8PTAmJihzP2wmJmwoKTp1JiZ1KCkpfSxjPWZ1bmN0aW9uKCl7LS1hPD0wJiYocz9sJiZsKCk6dSYmdSgpKX07YXx8bCYmbCgpLG8ubGVuZ3RoPjAmJm4uZHVyaW5nJiZvWzBdLmR1cmluZygoZnVuY3Rpb24odCxlKXtuLmR1cmluZyhlKX0pKTtmb3IodmFyIHA9MDtwPG8ubGVuZ3RoO3ArKyl7dmFyIGQ9b1twXTtoJiZkLmRvbmUoaCksYyYmZC5hYm9ydGVkKGMpLG4uZm9yY2UmJmQuZHVyYXRpb24obi5kdXJhdGlvbiksZC5zdGFydChuLmVhc2luZyl9cmV0dXJuIG99ZnVuY3Rpb24gTXIodCxlLG4pe2Zvcih2YXIgaT0wO2k8bjtpKyspdFtpXT1lW2ldfWZ1bmN0aW9uIElyKHQsZSxuKXtpZihOKGVbbl0pKWlmKE4odFtuXSl8fCh0W25dPVtdKSwkKGVbbl0pKXt2YXIgaT1lW25dLmxlbmd0aDt0W25dLmxlbmd0aCE9PWkmJih0W25dPW5ldyBlW25dLmNvbnN0cnVjdG9yKGkpLE1yKHRbbl0sZVtuXSxpKSl9ZWxzZXt2YXIgcj1lW25dLG89dFtuXSxhPXIubGVuZ3RoO2lmKE4oclswXSkpZm9yKHZhciBzPXJbMF0ubGVuZ3RoLGw9MDtsPGE7bCsrKW9bbF0/TXIob1tsXSxyW2xdLHMpOm9bbF09QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwocltsXSk7ZWxzZSBNcihvLHIsYSk7by5sZW5ndGg9ci5sZW5ndGh9ZWxzZSB0W25dPWVbbl19ZnVuY3Rpb24gVHIodCxlLG4saSxyLG8sYSxzKXtmb3IodmFyIGw9RyhpKSx1PXIuZHVyYXRpb24saD1yLmRlbGF5LGM9ci5hZGRpdGl2ZSxwPXIuc2V0VG9GaW5hbCxkPSFxKG8pLGY9dC5hbmltYXRvcnMsZz1bXSx5PTA7eTxsLmxlbmd0aDt5Kyspe3ZhciB2PWxbeV0sbT1pW3ZdO2lmKG51bGwhPW0mJm51bGwhPW5bdl0mJihkfHxvW3ZdKSlpZighcShtKXx8TihtKXx8UShtKSlnLnB1c2godik7ZWxzZXtpZihlKXtzfHwoblt2XT1tLHQudXBkYXRlRHVyaW5nQW5pbWF0aW9uKGUpKTtjb250aW51ZX1Ucih0LHYsblt2XSxtLHIsbyYmb1t2XSxhLHMpfWVsc2Ugc3x8KG5bdl09bSx0LnVwZGF0ZUR1cmluZ0FuaW1hdGlvbihlKSxnLnB1c2godikpfXZhciB4PWcubGVuZ3RoO2lmKCFjJiZ4KWZvcih2YXIgXz0wO188Zi5sZW5ndGg7XysrKXtpZigodz1mW19dKS50YXJnZXROYW1lPT09ZSlpZih3LnN0b3BUcmFja3MoZykpe3ZhciBiPVAoZix3KTtmLnNwbGljZShiLDEpfX1pZihyLmZvcmNlfHwoeD0oZz1CKGcsKGZ1bmN0aW9uKHQpe3JldHVybiBlPWlbdF0scj1uW3RdLCEoZT09PXJ8fE4oZSkmJk4ocikmJmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5sZW5ndGg7aWYobiE9PWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgaT0wO2k8bjtpKyspaWYodFtpXSE9PWVbaV0pcmV0dXJuITE7cmV0dXJuITB9KGUscikpO3ZhciBlLHJ9KSkpLmxlbmd0aCkseD4wfHxyLmZvcmNlJiYhYS5sZW5ndGgpe3ZhciB3LFM9dm9pZCAwLE09dm9pZCAwLEk9dm9pZCAwO2lmKHMpe009e30scCYmKFM9e30pO2ZvcihfPTA7Xzx4O18rKyl7TVt2PWdbX11dPW5bdl0scD9TW3ZdPWlbdl06blt2XT1pW3ZdfX1lbHNlIGlmKHApe0k9e307Zm9yKF89MDtfPHg7XysrKXtJW3Y9Z1tfXV09dGkoblt2XSksSXIobixpLHYpfX0odz1uZXcgYWkobiwhMSwhMSxjP0IoZiwoZnVuY3Rpb24odCl7cmV0dXJuIHQudGFyZ2V0TmFtZT09PWV9KSk6bnVsbCkpLnRhcmdldE5hbWU9ZSxyLnNjb3BlJiYody5zY29wZT1yLnNjb3BlKSxwJiZTJiZ3LndoZW5XaXRoS2V5cygwLFMsZyksSSYmdy53aGVuV2l0aEtleXMoMCxJLGcpLHcud2hlbldpdGhLZXlzKG51bGw9PXU/NTAwOnUscz9NOmksZykuZGVsYXkoaHx8MCksdC5hZGRBbmltYXRvcih3LGUpLGEucHVzaCh3KX19Uih3cixYdCksUih3cixxaSk7dmFyIENyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmlzR3JvdXA9ITAsbi5fY2hpbGRyZW49W10sbi5hdHRyKGUpLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5jaGlsZHJlblJlZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbn0sZS5wcm90b3R5cGUuY2hpbGRyZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4uc2xpY2UoKX0sZS5wcm90b3R5cGUuY2hpbGRBdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5bdF19LGUucHJvdG90eXBlLmNoaWxkT2ZOYW1lPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9jaGlsZHJlbixuPTA7bjxlLmxlbmd0aDtuKyspaWYoZVtuXS5uYW1lPT09dClyZXR1cm4gZVtuXX0sZS5wcm90b3R5cGUuY2hpbGRDb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5sZW5ndGh9LGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdCE9PXRoaXMmJnQucGFyZW50IT09dGhpcyYmKHRoaXMuX2NoaWxkcmVuLnB1c2godCksdGhpcy5fZG9BZGQodCkpLHRoaXN9LGUucHJvdG90eXBlLmFkZEJlZm9yZT1mdW5jdGlvbih0LGUpe2lmKHQmJnQhPT10aGlzJiZ0LnBhcmVudCE9PXRoaXMmJmUmJmUucGFyZW50PT09dGhpcyl7dmFyIG49dGhpcy5fY2hpbGRyZW4saT1uLmluZGV4T2YoZSk7aT49MCYmKG4uc3BsaWNlKGksMCx0KSx0aGlzLl9kb0FkZCh0KSl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24odCxlKXt2YXIgbj1QKHRoaXMuX2NoaWxkcmVuLHQpO3JldHVybiBuPj0wJiZ0aGlzLnJlcGxhY2VBdChlLG4pLHRoaXN9LGUucHJvdG90eXBlLnJlcGxhY2VBdD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2NoaWxkcmVuLGk9bltlXTtpZih0JiZ0IT09dGhpcyYmdC5wYXJlbnQhPT10aGlzJiZ0IT09aSl7bltlXT10LGkucGFyZW50PW51bGw7dmFyIHI9dGhpcy5fX3pyO3ImJmkucmVtb3ZlU2VsZkZyb21acihyKSx0aGlzLl9kb0FkZCh0KX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuX2RvQWRkPWZ1bmN0aW9uKHQpe3QucGFyZW50JiZ0LnBhcmVudC5yZW1vdmUodCksdC5wYXJlbnQ9dGhpczt2YXIgZT10aGlzLl9fenI7ZSYmZSE9PXQuX196ciYmdC5hZGRTZWxmVG9acihlKSxlJiZlLnJlZnJlc2goKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX196cixuPXRoaXMuX2NoaWxkcmVuLGk9UChuLHQpO3JldHVybiBpPDB8fChuLnNwbGljZShpLDEpLHQucGFyZW50PW51bGwsZSYmdC5yZW1vdmVTZWxmRnJvbVpyKGUpLGUmJmUucmVmcmVzaCgpKSx0aGlzfSxlLnByb3RvdHlwZS5yZW1vdmVBbGw9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fY2hpbGRyZW4sZT10aGlzLl9fenIsbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2UmJmkucmVtb3ZlU2VsZkZyb21acihlKSxpLnBhcmVudD1udWxsfXJldHVybiB0Lmxlbmd0aD0wLHRoaXN9LGUucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLl9jaGlsZHJlbixpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07dC5jYWxsKGUscixpKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUudHJhdmVyc2U9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtuKyspe3ZhciBpPXRoaXMuX2NoaWxkcmVuW25dLHI9dC5jYWxsKGUsaSk7aS5pc0dyb3VwJiYhciYmaS50cmF2ZXJzZSh0LGUpfXJldHVybiB0aGlzfSxlLnByb3RvdHlwZS5hZGRTZWxmVG9acj1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5hZGRTZWxmVG9aci5jYWxsKHRoaXMsZSk7Zm9yKHZhciBuPTA7bjx0aGlzLl9jaGlsZHJlbi5sZW5ndGg7bisrKXt0aGlzLl9jaGlsZHJlbltuXS5hZGRTZWxmVG9acihlKX19LGUucHJvdG90eXBlLnJlbW92ZVNlbGZGcm9tWnI9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUucmVtb3ZlU2VsZkZyb21aci5jYWxsKHRoaXMsZSk7Zm9yKHZhciBuPTA7bjx0aGlzLl9jaGlsZHJlbi5sZW5ndGg7bisrKXt0aGlzLl9jaGlsZHJlbltuXS5yZW1vdmVTZWxmRnJvbVpyKGUpfX0sZS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgc3IoMCwwLDAsMCksbj10fHx0aGlzLl9jaGlsZHJlbixpPVtdLHI9bnVsbCxvPTA7bzxuLmxlbmd0aDtvKyspe3ZhciBhPW5bb107aWYoIWEuaWdub3JlJiYhYS5pbnZpc2libGUpe3ZhciBzPWEuZ2V0Qm91bmRpbmdSZWN0KCksbD1hLmdldExvY2FsVHJhbnNmb3JtKGkpO2w/KHNyLmFwcGx5VHJhbnNmb3JtKGUscyxsKSwocj1yfHxlLmNsb25lKCkpLnVuaW9uKGUpKToocj1yfHxzLmNsb25lKCkpLnVuaW9uKHMpfX1yZXR1cm4gcnx8ZX0sZX0od3IpO0NyLnByb3RvdHlwZS50eXBlPSJncm91cCI7Ci8qIQogICAgKiBaUmVuZGVyLCBhIGhpZ2ggcGVyZm9ybWFuY2UgMmQgZHJhd2luZyBsaWJyYXJ5LgogICAgKgogICAgKiBDb3B5cmlnaHQgKGMpIDIwMTMsIEJhaWR1IEluYy4KICAgICogQWxsIHJpZ2h0cyByZXNlcnZlZC4KICAgICoKICAgICogTElDRU5TRQogICAgKiBodHRwczovL2dpdGh1Yi5jb20vZWNvbWZlL3pyZW5kZXIvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQKICAgICovCnZhciBEcj17fSxBcj17fTt2YXIga3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt2YXIgaT10aGlzO3RoaXMuX3NsZWVwQWZ0ZXJTdGlsbD0xMCx0aGlzLl9zdGlsbEZyYW1lQWNjdW09MCx0aGlzLl9uZWVkc1JlZnJlc2g9ITAsdGhpcy5fbmVlZHNSZWZyZXNoSG92ZXI9ITAsdGhpcy5fZGFya01vZGU9ITEsbj1ufHx7fSx0aGlzLmRvbT1lLHRoaXMuaWQ9dDt2YXIgbz1uZXcgQWUsYT1uLnJlbmRlcmVyfHwiY2FudmFzIjtEclthXXx8KGE9RyhEcilbMF0pLG4udXNlRGlydHlSZWN0PW51bGwhPW4udXNlRGlydHlSZWN0JiZuLnVzZURpcnR5UmVjdDt2YXIgcz1uZXcgRHJbYV0oZSxvLG4sdCksbD1uLnNzcnx8cy5zc3JPbmx5O3RoaXMuc3RvcmFnZT1vLHRoaXMucGFpbnRlcj1zO3ZhciB1PXIubm9kZXx8ci53b3JrZXJ8fGw/bnVsbDpuZXcgQ2kocy5nZXRWaWV3cG9ydFJvb3QoKSxzLnJvb3QpO3RoaXMuaGFuZGxlcj1uZXcgdmUobyxzLHUscy5yb290KSx0aGlzLmFuaW1hdGlvbj1uZXcgaGkoe3N0YWdlOnt1cGRhdGU6bD9udWxsOmZ1bmN0aW9uKCl7cmV0dXJuIGkuX2ZsdXNoKCEwKX19fSksbHx8dGhpcy5hbmltYXRpb24uc3RhcnQoKX1yZXR1cm4gdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3QmJih0aGlzLnN0b3JhZ2UuYWRkUm9vdCh0KSx0LmFkZFNlbGZUb1pyKHRoaXMpLHRoaXMucmVmcmVzaCgpKX0sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3QmJih0aGlzLnN0b3JhZ2UuZGVsUm9vdCh0KSx0LnJlbW92ZVNlbGZGcm9tWnIodGhpcyksdGhpcy5yZWZyZXNoKCkpfSx0LnByb3RvdHlwZS5jb25maWdMYXllcj1mdW5jdGlvbih0LGUpe3RoaXMucGFpbnRlci5jb25maWdMYXllciYmdGhpcy5wYWludGVyLmNvbmZpZ0xheWVyKHQsZSksdGhpcy5yZWZyZXNoKCl9LHQucHJvdG90eXBlLnNldEJhY2tncm91bmRDb2xvcj1mdW5jdGlvbih0KXt0aGlzLnBhaW50ZXIuc2V0QmFja2dyb3VuZENvbG9yJiZ0aGlzLnBhaW50ZXIuc2V0QmFja2dyb3VuZENvbG9yKHQpLHRoaXMucmVmcmVzaCgpLHRoaXMuX2JhY2tncm91bmRDb2xvcj10LHRoaXMuX2RhcmtNb2RlPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiExO2lmKCJzdHJpbmciPT10eXBlb2YgdClyZXR1cm4gTG4odCwxKTwuNDtpZih0LmNvbG9yU3RvcHMpe2Zvcih2YXIgZT10LmNvbG9yU3RvcHMsbj0wLGk9ZS5sZW5ndGgscj0wO3I8aTtyKyspbis9TG4oZVtyXS5jb2xvciwxKTtyZXR1cm4obi89aSk8LjR9cmV0dXJuITF9KHQpfSx0LnByb3RvdHlwZS5nZXRCYWNrZ3JvdW5kQ29sb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmFja2dyb3VuZENvbG9yfSx0LnByb3RvdHlwZS5zZXREYXJrTW9kZT1mdW5jdGlvbih0KXt0aGlzLl9kYXJrTW9kZT10fSx0LnByb3RvdHlwZS5pc0RhcmtNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhcmtNb2RlfSx0LnByb3RvdHlwZS5yZWZyZXNoSW1tZWRpYXRlbHk9ZnVuY3Rpb24odCl7dHx8dGhpcy5hbmltYXRpb24udXBkYXRlKCEwKSx0aGlzLl9uZWVkc1JlZnJlc2g9ITEsdGhpcy5wYWludGVyLnJlZnJlc2goKSx0aGlzLl9uZWVkc1JlZnJlc2g9ITF9LHQucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXt0aGlzLl9uZWVkc1JlZnJlc2g9ITAsdGhpcy5hbmltYXRpb24uc3RhcnQoKX0sdC5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXt0aGlzLl9mbHVzaCghMSl9LHQucHJvdG90eXBlLl9mbHVzaD1mdW5jdGlvbih0KXt2YXIgZSxuPXNpKCk7dGhpcy5fbmVlZHNSZWZyZXNoJiYoZT0hMCx0aGlzLnJlZnJlc2hJbW1lZGlhdGVseSh0KSksdGhpcy5fbmVlZHNSZWZyZXNoSG92ZXImJihlPSEwLHRoaXMucmVmcmVzaEhvdmVySW1tZWRpYXRlbHkoKSk7dmFyIGk9c2koKTtlPyh0aGlzLl9zdGlsbEZyYW1lQWNjdW09MCx0aGlzLnRyaWdnZXIoInJlbmRlcmVkIix7ZWxhcHNlZFRpbWU6aS1ufSkpOnRoaXMuX3NsZWVwQWZ0ZXJTdGlsbD4wJiYodGhpcy5fc3RpbGxGcmFtZUFjY3VtKyssdGhpcy5fc3RpbGxGcmFtZUFjY3VtPnRoaXMuX3NsZWVwQWZ0ZXJTdGlsbCYmdGhpcy5hbmltYXRpb24uc3RvcCgpKX0sdC5wcm90b3R5cGUuc2V0U2xlZXBBZnRlclN0aWxsPWZ1bmN0aW9uKHQpe3RoaXMuX3NsZWVwQWZ0ZXJTdGlsbD10fSx0LnByb3RvdHlwZS53YWtlVXA9ZnVuY3Rpb24oKXt0aGlzLmFuaW1hdGlvbi5zdGFydCgpLHRoaXMuX3N0aWxsRnJhbWVBY2N1bT0wfSx0LnByb3RvdHlwZS5yZWZyZXNoSG92ZXI9ZnVuY3Rpb24oKXt0aGlzLl9uZWVkc1JlZnJlc2hIb3Zlcj0hMH0sdC5wcm90b3R5cGUucmVmcmVzaEhvdmVySW1tZWRpYXRlbHk9ZnVuY3Rpb24oKXt0aGlzLl9uZWVkc1JlZnJlc2hIb3Zlcj0hMSx0aGlzLnBhaW50ZXIucmVmcmVzaEhvdmVyJiYiY2FudmFzIj09PXRoaXMucGFpbnRlci5nZXRUeXBlKCkmJnRoaXMucGFpbnRlci5yZWZyZXNoSG92ZXIoKX0sdC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQpe3Q9dHx8e30sdGhpcy5wYWludGVyLnJlc2l6ZSh0LndpZHRoLHQuaGVpZ2h0KSx0aGlzLmhhbmRsZXIucmVzaXplKCl9LHQucHJvdG90eXBlLmNsZWFyQW5pbWF0aW9uPWZ1bmN0aW9uKCl7dGhpcy5hbmltYXRpb24uY2xlYXIoKX0sdC5wcm90b3R5cGUuZ2V0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYWludGVyLmdldFdpZHRoKCl9LHQucHJvdG90eXBlLmdldEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhaW50ZXIuZ2V0SGVpZ2h0KCl9LHQucHJvdG90eXBlLnNldEN1cnNvclN0eWxlPWZ1bmN0aW9uKHQpe3RoaXMuaGFuZGxlci5zZXRDdXJzb3JTdHlsZSh0KX0sdC5wcm90b3R5cGUuZmluZEhvdmVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuaGFuZGxlci5maW5kSG92ZXIodCxlKX0sdC5wcm90b3R5cGUub249ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLmhhbmRsZXIub24odCxlLG4pLHRoaXN9LHQucHJvdG90eXBlLm9mZj1mdW5jdGlvbih0LGUpe3RoaXMuaGFuZGxlci5vZmYodCxlKX0sdC5wcm90b3R5cGUudHJpZ2dlcj1mdW5jdGlvbih0LGUpe3RoaXMuaGFuZGxlci50cmlnZ2VyKHQsZSl9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuc3RvcmFnZS5nZXRSb290cygpLGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdaW5zdGFuY2VvZiBDciYmdFtlXS5yZW1vdmVTZWxmRnJvbVpyKHRoaXMpO3RoaXMuc3RvcmFnZS5kZWxBbGxSb290cygpLHRoaXMucGFpbnRlci5jbGVhcigpfSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5hbmltYXRpb24uc3RvcCgpLHRoaXMuY2xlYXIoKSx0aGlzLnN0b3JhZ2UuZGlzcG9zZSgpLHRoaXMucGFpbnRlci5kaXNwb3NlKCksdGhpcy5oYW5kbGVyLmRpc3Bvc2UoKSx0aGlzLmFuaW1hdGlvbj10aGlzLnN0b3JhZ2U9dGhpcy5wYWludGVyPXRoaXMuaGFuZGxlcj1udWxsLHQ9dGhpcy5pZCxkZWxldGUgQXJbdF19LHR9KCk7ZnVuY3Rpb24gTHIodCxlKXt2YXIgbj1uZXcga3IoTSgpLHQsZSk7cmV0dXJuIEFyW24uaWRdPW4sbn1mdW5jdGlvbiBQcih0LGUpe0RyW3RdPWV9dmFyIE9yPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGluaXQ6THIsZGlzcG9zZTpmdW5jdGlvbih0KXt0LmRpc3Bvc2UoKX0sZGlzcG9zZUFsbDpmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiBBcilBci5oYXNPd25Qcm9wZXJ0eSh0KSYmQXJbdF0uZGlzcG9zZSgpO0FyPXt9fSxnZXRJbnN0YW5jZTpmdW5jdGlvbih0KXtyZXR1cm4gQXJbdF19LHJlZ2lzdGVyUGFpbnRlcjpQcix2ZXJzaW9uOiI1LjMuMCJ9KSxScj0xZS00O2Z1bmN0aW9uIE5yKHQsZSxuLGkpe3ZhciByPWVbMF0sbz1lWzFdLGE9blswXSxzPW5bMV0sbD1vLXIsdT1zLWE7aWYoMD09PWwpcmV0dXJuIDA9PT11P2E6KGErcykvMjtpZihpKWlmKGw+MCl7aWYodDw9cilyZXR1cm4gYTtpZih0Pj1vKXJldHVybiBzfWVsc2V7aWYodD49cilyZXR1cm4gYTtpZih0PD1vKXJldHVybiBzfWVsc2V7aWYodD09PXIpcmV0dXJuIGE7aWYodD09PW8pcmV0dXJuIHN9cmV0dXJuKHQtcikvbCp1K2F9ZnVuY3Rpb24gRXIodCxlKXtzd2l0Y2godCl7Y2FzZSJjZW50ZXIiOmNhc2UibWlkZGxlIjp0PSI1MCUiO2JyZWFrO2Nhc2UibGVmdCI6Y2FzZSJ0b3AiOnQ9IjAlIjticmVhaztjYXNlInJpZ2h0IjpjYXNlImJvdHRvbSI6dD0iMTAwJSJ9cmV0dXJuIFgodCk/KG49dCxuLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKSkubWF0Y2goLyUkLyk/cGFyc2VGbG9hdCh0KS8xMDAqZTpwYXJzZUZsb2F0KHQpOm51bGw9PXQ/TmFOOit0O3ZhciBufWZ1bmN0aW9uIHpyKHQsZSxuKXtyZXR1cm4gbnVsbD09ZSYmKGU9MTApLGU9TWF0aC5taW4oTWF0aC5tYXgoMCxlKSwyMCksdD0oK3QpLnRvRml4ZWQoZSksbj90Oit0fWZ1bmN0aW9uIFZyKHQpe3JldHVybiB0LnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQtZX0pKSx0fWZ1bmN0aW9uIEJyKHQpe2lmKHQ9K3QsaXNOYU4odCkpcmV0dXJuIDA7aWYodD4xZS0xNClmb3IodmFyIGU9MSxuPTA7bjwxNTtuKyssZSo9MTApaWYoTWF0aC5yb3VuZCh0KmUpL2U9PT10KXJldHVybiBuO3JldHVybiBGcih0KX1mdW5jdGlvbiBGcih0KXt2YXIgZT10LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSxuPWUuaW5kZXhPZigiZSIpLGk9bj4wPytlLnNsaWNlKG4rMSk6MCxyPW4+MD9uOmUubGVuZ3RoLG89ZS5pbmRleE9mKCIuIiksYT1vPDA/MDpyLTEtbztyZXR1cm4gTWF0aC5tYXgoMCxhLWkpfWZ1bmN0aW9uIEdyKHQsZSl7dmFyIG49TWF0aC5sb2csaT1NYXRoLkxOMTAscj1NYXRoLmZsb29yKG4odFsxXS10WzBdKS9pKSxvPU1hdGgucm91bmQobihNYXRoLmFicyhlWzFdLWVbMF0pKS9pKSxhPU1hdGgubWluKE1hdGgubWF4KC1yK28sMCksMjApO3JldHVybiBpc0Zpbml0ZShhKT9hOjIwfWZ1bmN0aW9uIFdyKHQsZSxuKXtpZighdFtlXSlyZXR1cm4gMDt2YXIgaT1WKHQsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrKGlzTmFOKGUpPzA6ZSl9KSwwKTtpZigwPT09aSlyZXR1cm4gMDtmb3IodmFyIHI9TWF0aC5wb3coMTAsbiksbz16KHQsKGZ1bmN0aW9uKHQpe3JldHVybihpc05hTih0KT8wOnQpL2kqcioxMDB9KSksYT0xMDAqcixzPXoobywoZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguZmxvb3IodCl9KSksbD1WKHMsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrZX0pLDApLHU9eihvLChmdW5jdGlvbih0LGUpe3JldHVybiB0LXNbZV19KSk7bDxhOyl7Zm9yKHZhciBoPU51bWJlci5ORUdBVElWRV9JTkZJTklUWSxjPW51bGwscD0wLGQ9dS5sZW5ndGg7cDxkOysrcCl1W3BdPmgmJihoPXVbcF0sYz1wKTsrK3NbY10sdVtjXT0wLCsrbH1yZXR1cm4gc1tlXS9yfWZ1bmN0aW9uIEhyKHQsZSl7dmFyIG49TWF0aC5tYXgoQnIodCksQnIoZSkpLGk9dCtlO3JldHVybiBuPjIwP2k6enIoaSxuKX12YXIgWXI9OTAwNzE5OTI1NDc0MDk5MTtmdW5jdGlvbiBVcih0KXt2YXIgZT0yKk1hdGguUEk7cmV0dXJuKHQlZStlKSVlfWZ1bmN0aW9uIFhyKHQpe3JldHVybiB0Pi0xZS00JiZ0PFJyfXZhciBacj0vXig/OihcZHs0fSkoPzpbLVwvXShcZHsxLDJ9KSg/OlstXC9dKFxkezEsMn0pKD86W1QgXShcZHsxLDJ9KSg/OjooXGR7MSwyfSkoPzo6KFxkezEsMn0pKD86Wy4sXShcZCspKT8pPyk/KFp8W1wrXC1dXGRcZDo/XGRcZCk/KT8pPyk/KT8kLztmdW5jdGlvbiBqcih0KXtpZih0IGluc3RhbmNlb2YgRGF0ZSlyZXR1cm4gdDtpZihYKHQpKXt2YXIgZT1aci5leGVjKHQpO2lmKCFlKXJldHVybiBuZXcgRGF0ZShOYU4pO2lmKGVbOF0pe3ZhciBuPStlWzRdfHwwO3JldHVybiJaIiE9PWVbOF0udG9VcHBlckNhc2UoKSYmKG4tPStlWzhdLnNsaWNlKDAsMykpLG5ldyBEYXRlKERhdGUuVVRDKCtlWzFdLCsoZVsyXXx8MSktMSwrZVszXXx8MSxuLCsoZVs1XXx8MCksK2VbNl18fDAsZVs3XT8rZVs3XS5zdWJzdHJpbmcoMCwzKTowKSl9cmV0dXJuIG5ldyBEYXRlKCtlWzFdLCsoZVsyXXx8MSktMSwrZVszXXx8MSwrZVs0XXx8MCwrKGVbNV18fDApLCtlWzZdfHwwLGVbN10/K2VbN10uc3Vic3RyaW5nKDAsMyk6MCl9cmV0dXJuIG51bGw9PXQ/bmV3IERhdGUoTmFOKTpuZXcgRGF0ZShNYXRoLnJvdW5kKHQpKX1mdW5jdGlvbiBxcih0KXtyZXR1cm4gTWF0aC5wb3coMTAsS3IodCkpfWZ1bmN0aW9uIEtyKHQpe2lmKDA9PT10KXJldHVybiAwO3ZhciBlPU1hdGguZmxvb3IoTWF0aC5sb2codCkvTWF0aC5MTjEwKTtyZXR1cm4gdC9NYXRoLnBvdygxMCxlKT49MTAmJmUrKyxlfWZ1bmN0aW9uICRyKHQsZSl7dmFyIG49S3IodCksaT1NYXRoLnBvdygxMCxuKSxyPXQvaTtyZXR1cm4gdD0oZT9yPDEuNT8xOnI8Mi41PzI6cjw0PzM6cjw3PzU6MTA6cjwxPzE6cjwyPzI6cjwzPzM6cjw1PzU6MTApKmksbj49LTIwPyt0LnRvRml4ZWQobjwwPy1uOjApOnR9ZnVuY3Rpb24gSnIodCxlKXt2YXIgbj0odC5sZW5ndGgtMSkqZSsxLGk9TWF0aC5mbG9vcihuKSxyPSt0W2ktMV0sbz1uLWk7cmV0dXJuIG8/citvKih0W2ldLXIpOnJ9ZnVuY3Rpb24gUXIodCl7dC5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBzKHQsZSwwKT8tMToxfSkpO2Zvcih2YXIgZT0tMS8wLG49MSxpPTA7aTx0Lmxlbmd0aDspe2Zvcih2YXIgcj10W2ldLmludGVydmFsLG89dFtpXS5jbG9zZSxhPTA7YTwyO2ErKylyW2FdPD1lJiYoclthXT1lLG9bYV09YT8xOjEtbiksZT1yW2FdLG49b1thXTtyWzBdPT09clsxXSYmb1swXSpvWzFdIT0xP3Quc3BsaWNlKGksMSk6aSsrfXJldHVybiB0O2Z1bmN0aW9uIHModCxlLG4pe3JldHVybiB0LmludGVydmFsW25dPGUuaW50ZXJ2YWxbbl18fHQuaW50ZXJ2YWxbbl09PT1lLmludGVydmFsW25dJiYodC5jbG9zZVtuXS1lLmNsb3NlW25dPT0obj8tMToxKXx8IW4mJnModCxlLDEpKX19ZnVuY3Rpb24gdG8odCl7dmFyIGU9cGFyc2VGbG9hdCh0KTtyZXR1cm4gZT09dCYmKDAhPT1lfHwhWCh0KXx8dC5pbmRleE9mKCJ4Iik8PTApP2U6TmFOfWZ1bmN0aW9uIGVvKHQpe3JldHVybiFpc05hTih0byh0KSl9ZnVuY3Rpb24gbm8oKXtyZXR1cm4gTWF0aC5yb3VuZCg5Kk1hdGgucmFuZG9tKCkpfWZ1bmN0aW9uIGlvKHQsZSl7cmV0dXJuIDA9PT1lP3Q6aW8oZSx0JWUpfWZ1bmN0aW9uIHJvKHQsZSl7cmV0dXJuIG51bGw9PXQ/ZTpudWxsPT1lP3Q6dCplL2lvKHQsZSl9InVuZGVmaW5lZCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUubG9nO2Z1bmN0aW9uIG9vKHQpezB9ZnVuY3Rpb24gYW8odCl7dGhyb3cgbmV3IEVycm9yKHQpfWZ1bmN0aW9uIHNvKHQsZSxuKXtyZXR1cm4oZS10KSpuK3R9dmFyIGxvPSJzZXJpZXNcMCIsdW89IlwwX2VjX1wwIjtmdW5jdGlvbiBobyh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEFycmF5P3Q6bnVsbD09dD9bXTpbdF19ZnVuY3Rpb24gY28odCxlLG4pe2lmKHQpe3RbZV09dFtlXXx8e30sdC5lbXBoYXNpcz10LmVtcGhhc2lzfHx7fSx0LmVtcGhhc2lzW2VdPXQuZW1waGFzaXNbZV18fHt9O2Zvcih2YXIgaT0wLHI9bi5sZW5ndGg7aTxyO2krKyl7dmFyIG89bltpXTshdC5lbXBoYXNpc1tlXS5oYXNPd25Qcm9wZXJ0eShvKSYmdFtlXS5oYXNPd25Qcm9wZXJ0eShvKSYmKHQuZW1waGFzaXNbZV1bb109dFtlXVtvXSl9fX12YXIgcG89WyJmb250U3R5bGUiLCJmb250V2VpZ2h0IiwiZm9udFNpemUiLCJmb250RmFtaWx5IiwicmljaCIsInRhZyIsImNvbG9yIiwidGV4dEJvcmRlckNvbG9yIiwidGV4dEJvcmRlcldpZHRoIiwid2lkdGgiLCJoZWlnaHQiLCJsaW5lSGVpZ2h0IiwiYWxpZ24iLCJ2ZXJ0aWNhbEFsaWduIiwiYmFzZWxpbmUiLCJzaGFkb3dDb2xvciIsInNoYWRvd0JsdXIiLCJzaGFkb3dPZmZzZXRYIiwic2hhZG93T2Zmc2V0WSIsInRleHRTaGFkb3dDb2xvciIsInRleHRTaGFkb3dCbHVyIiwidGV4dFNoYWRvd09mZnNldFgiLCJ0ZXh0U2hhZG93T2Zmc2V0WSIsImJhY2tncm91bmRDb2xvciIsImJvcmRlckNvbG9yIiwiYm9yZGVyV2lkdGgiLCJib3JkZXJSYWRpdXMiLCJwYWRkaW5nIl07ZnVuY3Rpb24gZm8odCl7cmV0dXJuIXEodCl8fFkodCl8fHQgaW5zdGFuY2VvZiBEYXRlP3Q6dC52YWx1ZX1mdW5jdGlvbiBnbyh0KXtyZXR1cm4gcSh0KSYmISh0IGluc3RhbmNlb2YgQXJyYXkpfWZ1bmN0aW9uIHlvKHQsZSxuKXt2YXIgaT0ibm9ybWFsTWVyZ2UiPT09bixyPSJyZXBsYWNlTWVyZ2UiPT09bixvPSJyZXBsYWNlQWxsIj09PW47dD10fHxbXSxlPShlfHxbXSkuc2xpY2UoKTt2YXIgYT1mdCgpO0UoZSwoZnVuY3Rpb24odCxuKXtxKHQpfHwoZVtuXT1udWxsKX0pKTt2YXIgcyxsLHU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPVtdO2lmKCJyZXBsYWNlQWxsIj09PW4pcmV0dXJuIGk7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07byYmbnVsbCE9by5pZCYmZS5zZXQoby5pZCxyKSxpLnB1c2goe2V4aXN0aW5nOiJyZXBsYWNlTWVyZ2UiPT09bnx8Ym8obyk/bnVsbDpvLG5ld09wdGlvbjpudWxsLGtleUluZm86bnVsbCxicmFuZE5ldzpudWxsfSl9cmV0dXJuIGl9KHQsYSxuKTtyZXR1cm4oaXx8cikmJmZ1bmN0aW9uKHQsZSxuLGkpe0UoaSwoZnVuY3Rpb24ocixvKXtpZihyJiZudWxsIT1yLmlkKXt2YXIgYT1tbyhyLmlkKSxzPW4uZ2V0KGEpO2lmKG51bGwhPXMpe3ZhciBsPXRbc107bHQoIWwubmV3T3B0aW9uLCdEdXBsaWNhdGVkIG9wdGlvbiBvbiBpZCAiJythKyciLicpLGwubmV3T3B0aW9uPXIsbC5leGlzdGluZz1lW3NdLGlbb109bnVsbH19fSkpfSh1LHQsYSxlKSxpJiZmdW5jdGlvbih0LGUpe0UoZSwoZnVuY3Rpb24obixpKXtpZihuJiZudWxsIT1uLm5hbWUpZm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl0uZXhpc3Rpbmc7aWYoIXRbcl0ubmV3T3B0aW9uJiZvJiYobnVsbD09by5pZHx8bnVsbD09bi5pZCkmJiFibyhuKSYmIWJvKG8pJiZ2bygibmFtZSIsbyxuKSlyZXR1cm4gdFtyXS5uZXdPcHRpb249bix2b2lkKGVbaV09bnVsbCl9fSkpfSh1LGUpLGl8fHI/ZnVuY3Rpb24odCxlLG4pe0UoZSwoZnVuY3Rpb24oZSl7aWYoZSl7Zm9yKHZhciBpLHI9MDsoaT10W3JdKSYmKGkubmV3T3B0aW9ufHxibyhpLmV4aXN0aW5nKXx8aS5leGlzdGluZyYmbnVsbCE9ZS5pZCYmIXZvKCJpZCIsZSxpLmV4aXN0aW5nKSk7KXIrKztpPyhpLm5ld09wdGlvbj1lLGkuYnJhbmROZXc9bik6dC5wdXNoKHtuZXdPcHRpb246ZSxicmFuZE5ldzpuLGV4aXN0aW5nOm51bGwsa2V5SW5mbzpudWxsfSkscisrfX0pKX0odSxlLHIpOm8mJmZ1bmN0aW9uKHQsZSl7RShlLChmdW5jdGlvbihlKXt0LnB1c2goe25ld09wdGlvbjplLGJyYW5kTmV3OiEwLGV4aXN0aW5nOm51bGwsa2V5SW5mbzpudWxsfSl9KSl9KHUsZSkscz11LGw9ZnQoKSxFKHMsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZXhpc3Rpbmc7ZSYmbC5zZXQoZS5pZCx0KX0pKSxFKHMsKGZ1bmN0aW9uKHQpe3ZhciBlPXQubmV3T3B0aW9uO2x0KCFlfHxudWxsPT1lLmlkfHwhbC5nZXQoZS5pZCl8fGwuZ2V0KGUuaWQpPT09dCwiaWQgZHVwbGljYXRlczogIisoZSYmZS5pZCkpLGUmJm51bGwhPWUuaWQmJmwuc2V0KGUuaWQsdCksIXQua2V5SW5mbyYmKHQua2V5SW5mbz17fSl9KSksRShzLChmdW5jdGlvbih0LGUpe3ZhciBuPXQuZXhpc3RpbmcsaT10Lm5ld09wdGlvbixyPXQua2V5SW5mbztpZihxKGkpKXtpZihyLm5hbWU9bnVsbCE9aS5uYW1lP21vKGkubmFtZSk6bj9uLm5hbWU6bG8rZSxuKXIuaWQ9bW8obi5pZCk7ZWxzZSBpZihudWxsIT1pLmlkKXIuaWQ9bW8oaS5pZCk7ZWxzZXt2YXIgbz0wO2Rve3IuaWQ9IlwwIityLm5hbWUrIlwwIitvKyt9d2hpbGUobC5nZXQoci5pZCkpfWwuc2V0KHIuaWQsdCl9fSkpLHV9ZnVuY3Rpb24gdm8odCxlLG4pe3ZhciBpPXhvKGVbdF0sbnVsbCkscj14byhuW3RdLG51bGwpO3JldHVybiBudWxsIT1pJiZudWxsIT1yJiZpPT09cn1mdW5jdGlvbiBtbyh0KXtyZXR1cm4geG8odCwiIil9ZnVuY3Rpb24geG8odCxlKXtyZXR1cm4gbnVsbD09dD9lOlgodCk/dDpqKHQpfHxaKHQpP3QrIiI6ZX1mdW5jdGlvbiBfbyh0KXt2YXIgZT10Lm5hbWU7cmV0dXJuISghZXx8IWUuaW5kZXhPZihsbykpfWZ1bmN0aW9uIGJvKHQpe3JldHVybiB0JiZudWxsIT10LmlkJiYwPT09bW8odC5pZCkuaW5kZXhPZih1byl9ZnVuY3Rpb24gd28odCxlKXtyZXR1cm4gbnVsbCE9ZS5kYXRhSW5kZXhJbnNpZGU/ZS5kYXRhSW5kZXhJbnNpZGU6bnVsbCE9ZS5kYXRhSW5kZXg/WShlLmRhdGFJbmRleCk/eihlLmRhdGFJbmRleCwoZnVuY3Rpb24oZSl7cmV0dXJuIHQuaW5kZXhPZlJhd0luZGV4KGUpfSkpOnQuaW5kZXhPZlJhd0luZGV4KGUuZGF0YUluZGV4KTpudWxsIT1lLm5hbWU/WShlLm5hbWUpP3ooZS5uYW1lLChmdW5jdGlvbihlKXtyZXR1cm4gdC5pbmRleE9mTmFtZShlKX0pKTp0LmluZGV4T2ZOYW1lKGUubmFtZSk6dm9pZCAwfWZ1bmN0aW9uIFNvKCl7dmFyIHQ9Il9fZWNfaW5uZXJfIitNbysrO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZVt0XXx8KGVbdF09e30pfX12YXIgTW89bm8oKTtmdW5jdGlvbiBJbyh0LGUsbil7dmFyIGk9VG8oZSxuKSxyPWkubWFpblR5cGVTcGVjaWZpZWQsbz1pLnF1ZXJ5T3B0aW9uTWFwLGE9aS5vdGhlcnMscz1uP24uZGVmYXVsdE1haW5UeXBlOm51bGw7cmV0dXJuIXImJnMmJm8uc2V0KHMse30pLG8uZWFjaCgoZnVuY3Rpb24oZSxpKXt2YXIgcj1Bbyh0LGksZSx7dXNlRGVmYXVsdDpzPT09aSxlbmFibGVBbGw6IW58fG51bGw9PW4uZW5hYmxlQWxsfHxuLmVuYWJsZUFsbCxlbmFibGVOb25lOiFufHxudWxsPT1uLmVuYWJsZU5vbmV8fG4uZW5hYmxlTm9uZX0pO2FbaSsiTW9kZWxzIl09ci5tb2RlbHMsYVtpKyJNb2RlbCJdPXIubW9kZWxzWzBdfSkpLGF9ZnVuY3Rpb24gVG8odCxlKXt2YXIgbjtpZihYKHQpKXt2YXIgaT17fTtpW3QrIkluZGV4Il09MCxuPWl9ZWxzZSBuPXQ7dmFyIHI9ZnQoKSxvPXt9LGE9ITE7cmV0dXJuIEUobiwoZnVuY3Rpb24odCxuKXtpZigiZGF0YUluZGV4IiE9PW4mJiJkYXRhSW5kZXhJbnNpZGUiIT09bil7dmFyIGk9bi5tYXRjaCgvXihcdyspKEluZGV4fElkfE5hbWUpJC8pfHxbXSxzPWlbMV0sbD0oaVsyXXx8IiIpLnRvTG93ZXJDYXNlKCk7aWYocyYmbCYmIShlJiZlLmluY2x1ZGVNYWluVHlwZXMmJlAoZS5pbmNsdWRlTWFpblR5cGVzLHMpPDApKWE9YXx8ISFzLChyLmdldChzKXx8ci5zZXQocyx7fSkpW2xdPXR9ZWxzZSBvW25dPXR9KSkse21haW5UeXBlU3BlY2lmaWVkOmEscXVlcnlPcHRpb25NYXA6cixvdGhlcnM6b319dmFyIENvPXt1c2VEZWZhdWx0OiEwLGVuYWJsZUFsbDohMSxlbmFibGVOb25lOiExfSxEbz17dXNlRGVmYXVsdDohMSxlbmFibGVBbGw6ITAsZW5hYmxlTm9uZTohMH07ZnVuY3Rpb24gQW8odCxlLG4saSl7aT1pfHxDbzt2YXIgcj1uLmluZGV4LG89bi5pZCxhPW4ubmFtZSxzPXttb2RlbHM6bnVsbCxzcGVjaWZpZWQ6bnVsbCE9cnx8bnVsbCE9b3x8bnVsbCE9YX07aWYoIXMuc3BlY2lmaWVkKXt2YXIgbD12b2lkIDA7cmV0dXJuIHMubW9kZWxzPWkudXNlRGVmYXVsdCYmKGw9dC5nZXRDb21wb25lbnQoZSkpP1tsXTpbXSxzfXJldHVybiJub25lIj09PXJ8fCExPT09cj8obHQoaS5lbmFibGVOb25lLCdgIm5vbmUiYCBvciBgZmFsc2VgIGlzIG5vdCBhIHZhbGlkIHZhbHVlIG9uIGluZGV4IG9wdGlvbi4nKSxzLm1vZGVscz1bXSxzKTooImFsbCI9PT1yJiYobHQoaS5lbmFibGVBbGwsJ2AiYWxsImAgaXMgbm90IGEgdmFsaWQgdmFsdWUgb24gaW5kZXggb3B0aW9uLicpLHI9bz1hPW51bGwpLHMubW9kZWxzPXQucXVlcnlDb21wb25lbnRzKHttYWluVHlwZTplLGluZGV4OnIsaWQ6byxuYW1lOmF9KSxzKX1mdW5jdGlvbiBrbyh0LGUsbil7dC5zZXRBdHRyaWJ1dGU/dC5zZXRBdHRyaWJ1dGUoZSxuKTp0W2VdPW59ZnVuY3Rpb24gTG8odCxlKXt2YXIgbj1mdCgpLGk9W107cmV0dXJuIEUodCwoZnVuY3Rpb24odCl7dmFyIHI9ZSh0KTsobi5nZXQocil8fChpLnB1c2gociksbi5zZXQocixbXSkpKS5wdXNoKHQpfSkpLHtrZXlzOmksYnVja2V0czpufX1mdW5jdGlvbiBQbyh0LGUsbixpLHIpe3ZhciBvPW51bGw9PWV8fCJhdXRvIj09PWU7aWYobnVsbD09aSlyZXR1cm4gaTtpZihqKGkpKXJldHVybiB6cihmPXNvKG58fDAsaSxyKSxvP01hdGgubWF4KEJyKG58fDApLEJyKGkpKTplKTtpZihYKGkpKXJldHVybiByPDE/bjppO2Zvcih2YXIgYT1bXSxzPW4sbD1pLHU9TWF0aC5tYXgocz9zLmxlbmd0aDowLGwubGVuZ3RoKSxoPTA7aDx1OysraCl7dmFyIGM9dC5nZXREaW1lbnNpb25JbmZvKGgpO2lmKGMmJiJvcmRpbmFsIj09PWMudHlwZSlhW2hdPShyPDEmJnM/czpsKVtoXTtlbHNle3ZhciBwPXMmJnNbaF0/c1toXTowLGQ9bFtoXSxmPXNvKHAsZCxyKTthW2hdPXpyKGYsbz9NYXRoLm1heChCcihwKSxCcihkKSk6ZSl9fXJldHVybiBhfXZhciBPbz0iX19fRUNfX0NPTVBPTkVOVF9fQ09OVEFJTkVSX19fIixSbz0iX19fRUNfX0VYVEVOREVEX0NMQVNTX19fIjtmdW5jdGlvbiBObyh0KXt2YXIgZT17bWFpbjoiIixzdWI6IiJ9O2lmKHQpe3ZhciBuPXQuc3BsaXQoIi4iKTtlLm1haW49blswXXx8IiIsZS5zdWI9blsxXXx8IiJ9cmV0dXJuIGV9ZnVuY3Rpb24gRW8odCxlKXt0LiRjb25zdHJ1Y3Rvcj10LHQuZXh0ZW5kPWZ1bmN0aW9uKHQpe3ZhciBlLGkscj10aGlzO3JldHVybiBVKGk9cikmJi9eY2xhc3Nccy8udGVzdChGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpKSk/ZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZX0ocik6TyhlPWZ1bmN0aW9uKCl7KHQuJGNvbnN0cnVjdG9yfHxyKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHRoaXMpLEEoZS5wcm90b3R5cGUsdCksZVtSb109ITAsZS5leHRlbmQ9dGhpcy5leHRlbmQsZS5zdXBlckNhbGw9Qm8sZS5zdXBlckFwcGx5PUZvLGUuc3VwZXJDbGFzcz1yLGV9fWZ1bmN0aW9uIHpvKHQsZSl7dC5leHRlbmQ9ZS5leHRlbmR9dmFyIFZvPU1hdGgucm91bmQoMTAqTWF0aC5yYW5kb20oKSk7ZnVuY3Rpb24gQm8odCxlKXtmb3IodmFyIG49W10saT0yO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspbltpLTJdPWFyZ3VtZW50c1tpXTtyZXR1cm4gdGhpcy5zdXBlckNsYXNzLnByb3RvdHlwZVtlXS5hcHBseSh0LG4pfWZ1bmN0aW9uIEZvKHQsZSxuKXtyZXR1cm4gdGhpcy5zdXBlckNsYXNzLnByb3RvdHlwZVtlXS5hcHBseSh0LG4pfWZ1bmN0aW9uIEdvKHQpe3ZhciBlPXt9O3QucmVnaXN0ZXJDbGFzcz1mdW5jdGlvbih0KXt2YXIgbixpPXQudHlwZXx8dC5wcm90b3R5cGUudHlwZTtpZihpKXtsdCgvXlthLXpBLVowLTlfXSsoWy5dW2EtekEtWjAtOV9dKyk/JC8udGVzdChuPWkpLCdjb21wb25lbnRUeXBlICInK24rJyIgaWxsZWdhbCcpLHQucHJvdG90eXBlLnR5cGU9aTt2YXIgcj1ObyhpKTtpZihyLnN1Yil7aWYoci5zdWIhPT1Pbyl7KGZ1bmN0aW9uKHQpe3ZhciBuPWVbdC5tYWluXTtuJiZuW09vXXx8KChuPWVbdC5tYWluXT17fSlbT29dPSEwKTtyZXR1cm4gbn0ocikpW3Iuc3ViXT10fX1lbHNlIGVbci5tYWluXT10fXJldHVybiB0fSx0LmdldENsYXNzPWZ1bmN0aW9uKHQsbixpKXt2YXIgcj1lW3RdO2lmKHImJnJbT29dJiYocj1uP3Jbbl06bnVsbCksaSYmIXIpdGhyb3cgbmV3IEVycm9yKG4/IkNvbXBvbmVudCAiK3QrIi4iKyhufHwiIikrIiBpcyB1c2VkIGJ1dCBub3QgaW1wb3J0ZWQuIjp0KyIudHlwZSBzaG91bGQgYmUgc3BlY2lmaWVkLiIpO3JldHVybiByfSx0LmdldENsYXNzZXNCeU1haW5UeXBlPWZ1bmN0aW9uKHQpe3ZhciBuPU5vKHQpLGk9W10scj1lW24ubWFpbl07cmV0dXJuIHImJnJbT29dP0UociwoZnVuY3Rpb24odCxlKXtlIT09T28mJmkucHVzaCh0KX0pKTppLnB1c2gociksaX0sdC5oYXNDbGFzcz1mdW5jdGlvbih0KXt2YXIgbj1Obyh0KTtyZXR1cm4hIWVbbi5tYWluXX0sdC5nZXRBbGxDbGFzc01haW5UeXBlcz1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiBFKGUsKGZ1bmN0aW9uKGUsbil7dC5wdXNoKG4pfSkpLHR9LHQuaGFzU3ViVHlwZXM9ZnVuY3Rpb24odCl7dmFyIG49Tm8odCksaT1lW24ubWFpbl07cmV0dXJuIGkmJmlbT29dfX1mdW5jdGlvbiBXbyh0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXRbbl1bMV18fCh0W25dWzFdPXRbbl1bMF0pO3JldHVybiBlPWV8fCExLGZ1bmN0aW9uKG4saSxyKXtmb3IodmFyIG89e30sYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgcz10W2FdWzFdO2lmKCEoaSYmUChpLHMpPj0wfHxyJiZQKHIscyk8MCkpe3ZhciBsPW4uZ2V0U2hhbGxvdyhzLGUpO251bGwhPWwmJihvW3RbYV1bMF1dPWwpfX1yZXR1cm4gb319dmFyIEhvPVdvKFtbImZpbGwiLCJjb2xvciJdLFsic2hhZG93Qmx1ciJdLFsic2hhZG93T2Zmc2V0WCJdLFsic2hhZG93T2Zmc2V0WSJdLFsib3BhY2l0eSJdLFsic2hhZG93Q29sb3IiXV0pLFlvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0QXJlYVN0eWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEhvKHRoaXMsdCxlKX0sdH0oKSxVbz1uZXcgbG4oNTApO2Z1bmN0aW9uIFhvKHQpe2lmKCJzdHJpbmciPT10eXBlb2YgdCl7dmFyIGU9VW8uZ2V0KHQpO3JldHVybiBlJiZlLmltYWdlfXJldHVybiB0fWZ1bmN0aW9uIFpvKHQsZSxuLGkscil7aWYodCl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXtpZihlJiZlLl9fenJJbWFnZVNyYz09PXR8fCFuKXJldHVybiBlO3ZhciBvPVVvLmdldCh0KSxhPXtob3N0RWw6bixjYjppLGNiUGF5bG9hZDpyfTtpZihvKSFxbyhlPW8uaW1hZ2UpJiZvLnBlbmRpbmcucHVzaChhKTtlbHNle3ZhciBzPWgubG9hZEltYWdlKHQsam8sam8pO3MuX196ckltYWdlU3JjPXQsVW8ucHV0KHQscy5fX2NhY2hlZEltZ09iaj17aW1hZ2U6cyxwZW5kaW5nOlthXX0pfXJldHVybiBlfXJldHVybiB0fXJldHVybiBlfWZ1bmN0aW9uIGpvKCl7dmFyIHQ9dGhpcy5fX2NhY2hlZEltZ09iajt0aGlzLm9ubG9hZD10aGlzLm9uZXJyb3I9dGhpcy5fX2NhY2hlZEltZ09iaj1udWxsO2Zvcih2YXIgZT0wO2U8dC5wZW5kaW5nLmxlbmd0aDtlKyspe3ZhciBuPXQucGVuZGluZ1tlXSxpPW4uY2I7aSYmaSh0aGlzLG4uY2JQYXlsb2FkKSxuLmhvc3RFbC5kaXJ0eSgpfXQucGVuZGluZy5sZW5ndGg9MH1mdW5jdGlvbiBxbyh0KXtyZXR1cm4gdCYmdC53aWR0aCYmdC5oZWlnaHR9dmFyIEtvPS9ceyhbYS16QS1aMC05X10rKVx8KFtefV0qKVx9L2c7ZnVuY3Rpb24gJG8odCxlLG4saSxyKXtpZighZSlyZXR1cm4iIjt2YXIgbz0odCsiIikuc3BsaXQoIlxuIik7cj1KbyhlLG4saSxyKTtmb3IodmFyIGE9MCxzPW8ubGVuZ3RoO2E8czthKyspb1thXT1RbyhvW2FdLHIpO3JldHVybiBvLmpvaW4oIlxuIil9ZnVuY3Rpb24gSm8odCxlLG4saSl7dmFyIHI9QSh7fSxpPWl8fHt9KTtyLmZvbnQ9ZSxuPXJ0KG4sIi4uLiIpLHIubWF4SXRlcmF0aW9ucz1ydChpLm1heEl0ZXJhdGlvbnMsMik7dmFyIG89ci5taW5DaGFyPXJ0KGkubWluQ2hhciwwKTtyLmNuQ2hhcldpZHRoPXVyKCLlm70iLGUpO3ZhciBhPXIuYXNjQ2hhcldpZHRoPXVyKCJhIixlKTtyLnBsYWNlaG9sZGVyPXJ0KGkucGxhY2Vob2xkZXIsIiIpO2Zvcih2YXIgcz10PU1hdGgubWF4KDAsdC0xKSxsPTA7bDxvJiZzPj1hO2wrKylzLT1hO3ZhciB1PXVyKG4sZSk7cmV0dXJuIHU+cyYmKG49IiIsdT0wKSxzPXQtdSxyLmVsbGlwc2lzPW4sci5lbGxpcHNpc1dpZHRoPXUsci5jb250ZW50V2lkdGg9cyxyLmNvbnRhaW5lcldpZHRoPXQscn1mdW5jdGlvbiBRbyh0LGUpe3ZhciBuPWUuY29udGFpbmVyV2lkdGgsaT1lLmZvbnQscj1lLmNvbnRlbnRXaWR0aDtpZighbilyZXR1cm4iIjt2YXIgbz11cih0LGkpO2lmKG88PW4pcmV0dXJuIHQ7Zm9yKHZhciBhPTA7O2ErKyl7aWYobzw9cnx8YT49ZS5tYXhJdGVyYXRpb25zKXt0Kz1lLmVsbGlwc2lzO2JyZWFrfXZhciBzPTA9PT1hP3RhKHQscixlLmFzY0NoYXJXaWR0aCxlLmNuQ2hhcldpZHRoKTpvPjA/TWF0aC5mbG9vcih0Lmxlbmd0aCpyL28pOjA7bz11cih0PXQuc3Vic3RyKDAscyksaSl9cmV0dXJuIiI9PT10JiYodD1lLnBsYWNlaG9sZGVyKSx0fWZ1bmN0aW9uIHRhKHQsZSxuLGkpe2Zvcih2YXIgcj0wLG89MCxhPXQubGVuZ3RoO288YSYmcjxlO28rKyl7dmFyIHM9dC5jaGFyQ29kZUF0KG8pO3IrPTA8PXMmJnM8PTEyNz9uOml9cmV0dXJuIG99dmFyIGVhPWZ1bmN0aW9uKCl7fSxuYT1mdW5jdGlvbih0KXt0aGlzLnRva2Vucz1bXSx0JiYodGhpcy50b2tlbnM9dCl9LGlhPWZ1bmN0aW9uKCl7dGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTAsdGhpcy5jb250ZW50V2lkdGg9MCx0aGlzLmNvbnRlbnRIZWlnaHQ9MCx0aGlzLm91dGVyV2lkdGg9MCx0aGlzLm91dGVySGVpZ2h0PTAsdGhpcy5saW5lcz1bXX07ZnVuY3Rpb24gcmEodCxlLG4saSxyKXt2YXIgbyxhLHM9IiI9PT1lLGw9ciYmbi5yaWNoW3JdfHx7fSx1PXQubGluZXMsaD1sLmZvbnR8fG4uZm9udCxjPSExO2lmKGkpe3ZhciBwPWwucGFkZGluZyxkPXA/cFsxXStwWzNdOjA7aWYobnVsbCE9bC53aWR0aCYmImF1dG8iIT09bC53aWR0aCl7dmFyIGY9Z3IobC53aWR0aCxpLndpZHRoKStkO3UubGVuZ3RoPjAmJmYraS5hY2N1bVdpZHRoPmkud2lkdGgmJihvPWUuc3BsaXQoIlxuIiksYz0hMCksaS5hY2N1bVdpZHRoPWZ9ZWxzZXt2YXIgZz1zYShlLGgsaS53aWR0aCxpLmJyZWFrQWxsLGkuYWNjdW1XaWR0aCk7aS5hY2N1bVdpZHRoPWcuYWNjdW1XaWR0aCtkLGE9Zy5saW5lc1dpZHRocyxvPWcubGluZXN9fWVsc2Ugbz1lLnNwbGl0KCJcbiIpO2Zvcih2YXIgeT0wO3k8by5sZW5ndGg7eSsrKXt2YXIgdj1vW3ldLG09bmV3IGVhO2lmKG0uc3R5bGVOYW1lPXIsbS50ZXh0PXYsbS5pc0xpbmVIb2xkZXI9IXYmJiFzLCJudW1iZXIiPT10eXBlb2YgbC53aWR0aD9tLndpZHRoPWwud2lkdGg6bS53aWR0aD1hP2FbeV06dXIodixoKSx5fHxjKXUucHVzaChuZXcgbmEoW21dKSk7ZWxzZXt2YXIgeD0odVt1Lmxlbmd0aC0xXXx8KHVbMF09bmV3IG5hKSkudG9rZW5zLF89eC5sZW5ndGg7MT09PV8mJnhbMF0uaXNMaW5lSG9sZGVyP3hbMF09bToodnx8IV98fHMpJiZ4LnB1c2gobSl9fX12YXIgb2E9VigiLCY/LztdICIuc3BsaXQoIiIpLChmdW5jdGlvbih0LGUpe3JldHVybiB0W2VdPSEwLHR9KSx7fSk7ZnVuY3Rpb24gYWEodCl7cmV0dXJuIWZ1bmN0aW9uKHQpe3ZhciBlPXQuY2hhckNvZGVBdCgwKTtyZXR1cm4gZT49MzMmJmU8PTM4M30odCl8fCEhb2FbdF19ZnVuY3Rpb24gc2EodCxlLG4saSxyKXtmb3IodmFyIG89W10sYT1bXSxzPSIiLGw9IiIsdT0wLGg9MCxjPTA7Yzx0Lmxlbmd0aDtjKyspe3ZhciBwPXQuY2hhckF0KGMpO2lmKCJcbiIhPT1wKXt2YXIgZD11cihwLGUpLGY9IWkmJiFhYShwKTsoby5sZW5ndGg/aCtkPm46citoK2Q+bik/aD8oc3x8bCkmJihmPyhzfHwocz1sLGw9IiIsaD11PTApLG8ucHVzaChzKSxhLnB1c2goaC11KSxsKz1wLHM9IiIsaD11Kz1kKToobCYmKHMrPWwsbD0iIix1PTApLG8ucHVzaChzKSxhLnB1c2goaCkscz1wLGg9ZCkpOmY/KG8ucHVzaChsKSxhLnB1c2godSksbD1wLHU9ZCk6KG8ucHVzaChwKSxhLnB1c2goZCkpOihoKz1kLGY/KGwrPXAsdSs9ZCk6KGwmJihzKz1sLGw9IiIsdT0wKSxzKz1wKSl9ZWxzZSBsJiYocys9bCxoKz11KSxvLnB1c2gocyksYS5wdXNoKGgpLHM9IiIsbD0iIix1PTAsaD0wfXJldHVybiBvLmxlbmd0aHx8c3x8KHM9dCxsPSIiLHU9MCksbCYmKHMrPWwpLHMmJihvLnB1c2gocyksYS5wdXNoKGgpKSwxPT09by5sZW5ndGgmJihoKz1yKSx7YWNjdW1XaWR0aDpoLGxpbmVzOm8sbGluZXNXaWR0aHM6YX19dmFyIGxhPSJfX3pyX3N0eWxlXyIrTWF0aC5yb3VuZCgxMCpNYXRoLnJhbmRvbSgpKSx1YT17c2hhZG93Qmx1cjowLHNoYWRvd09mZnNldFg6MCxzaGFkb3dPZmZzZXRZOjAsc2hhZG93Q29sb3I6IiMwMDAiLG9wYWNpdHk6MSxibGVuZDoic291cmNlLW92ZXIifSxoYT17c3R5bGU6e3NoYWRvd0JsdXI6ITAsc2hhZG93T2Zmc2V0WDohMCxzaGFkb3dPZmZzZXRZOiEwLHNoYWRvd0NvbG9yOiEwLG9wYWNpdHk6ITB9fTt1YVtsYV09ITA7dmFyIGNhPVsieiIsInoyIiwiaW52aXNpYmxlIl0scGE9WyJpbnZpc2libGUiXSxkYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc312YXIgaTtyZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgbj1HKGUpLGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXTsic3R5bGUiPT09cj90aGlzLnVzZVN0eWxlKGVbcl0pOnQucHJvdG90eXBlLmF0dHJLVi5jYWxsKHRoaXMscixlW3JdKX10aGlzLnN0eWxlfHx0aGlzLnVzZVN0eWxlKHt9KX0sZS5wcm90b3R5cGUuYmVmb3JlQnJ1c2g9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmFmdGVyQnJ1c2g9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmlubmVyQmVmb3JlQnJ1c2g9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmlubmVyQWZ0ZXJCcnVzaD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuc2hvdWxkQmVQYWludGVkPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXMudHJhbnNmb3JtO2lmKHRoaXMuaWdub3JlfHx0aGlzLmludmlzaWJsZXx8MD09PXRoaXMuc3R5bGUub3BhY2l0eXx8dGhpcy5jdWxsaW5nJiZmdW5jdGlvbih0LGUsbil7ZmEuY29weSh0LmdldEJvdW5kaW5nUmVjdCgpKSx0LnRyYW5zZm9ybSYmZmEuYXBwbHlUcmFuc2Zvcm0odC50cmFuc2Zvcm0pO3JldHVybiBnYS53aWR0aD1lLGdhLmhlaWdodD1uLCFmYS5pbnRlcnNlY3QoZ2EpfSh0aGlzLHQsZSl8fHImJiFyWzBdJiYhclszXSlyZXR1cm4hMTtpZihuJiZ0aGlzLl9fY2xpcFBhdGhzKWZvcih2YXIgbz0wO288dGhpcy5fX2NsaXBQYXRocy5sZW5ndGg7KytvKWlmKHRoaXMuX19jbGlwUGF0aHNbb10uaXNaZXJvQXJlYSgpKXJldHVybiExO2lmKGkmJnRoaXMucGFyZW50KWZvcih2YXIgYT10aGlzLnBhcmVudDthOyl7aWYoYS5pZ25vcmUpcmV0dXJuITE7YT1hLnBhcmVudH1yZXR1cm4hMH0sZS5wcm90b3R5cGUuY29udGFpbj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnJlY3RDb250YWluKHQsZSl9LGUucHJvdG90eXBlLnRyYXZlcnNlPWZ1bmN0aW9uKHQsZSl7dC5jYWxsKGUsdGhpcyl9LGUucHJvdG90eXBlLnJlY3RDb250YWluPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy50cmFuc2Zvcm1Db29yZFRvTG9jYWwodCxlKTtyZXR1cm4gdGhpcy5nZXRCb3VuZGluZ1JlY3QoKS5jb250YWluKG5bMF0sblsxXSl9LGUucHJvdG90eXBlLmdldFBhaW50UmVjdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3BhaW50UmVjdDtpZighdGhpcy5fcGFpbnRSZWN0fHx0aGlzLl9fZGlydHkpe3ZhciBlPXRoaXMudHJhbnNmb3JtLG49dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSxpPXRoaXMuc3R5bGUscj1pLnNoYWRvd0JsdXJ8fDAsbz1pLnNoYWRvd09mZnNldFh8fDAsYT1pLnNoYWRvd09mZnNldFl8fDA7dD10aGlzLl9wYWludFJlY3R8fCh0aGlzLl9wYWludFJlY3Q9bmV3IHNyKDAsMCwwLDApKSxlP3NyLmFwcGx5VHJhbnNmb3JtKHQsbixlKTp0LmNvcHkobiksKHJ8fG98fGEpJiYodC53aWR0aCs9MipyK01hdGguYWJzKG8pLHQuaGVpZ2h0Kz0yKnIrTWF0aC5hYnMoYSksdC54PU1hdGgubWluKHQueCx0Lngrby1yKSx0Lnk9TWF0aC5taW4odC55LHQueSthLXIpKTt2YXIgcz10aGlzLmRpcnR5UmVjdFRvbGVyYW5jZTt0LmlzWmVybygpfHwodC54PU1hdGguZmxvb3IodC54LXMpLHQueT1NYXRoLmZsb29yKHQueS1zKSx0LndpZHRoPU1hdGguY2VpbCh0LndpZHRoKzErMipzKSx0LmhlaWdodD1NYXRoLmNlaWwodC5oZWlnaHQrMSsyKnMpKX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuc2V0UHJldlBhaW50UmVjdD1mdW5jdGlvbih0KXt0Pyh0aGlzLl9wcmV2UGFpbnRSZWN0PXRoaXMuX3ByZXZQYWludFJlY3R8fG5ldyBzcigwLDAsMCwwKSx0aGlzLl9wcmV2UGFpbnRSZWN0LmNvcHkodCkpOnRoaXMuX3ByZXZQYWludFJlY3Q9bnVsbH0sZS5wcm90b3R5cGUuZ2V0UHJldlBhaW50UmVjdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcmV2UGFpbnRSZWN0fSxlLnByb3RvdHlwZS5hbmltYXRlU3R5bGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYW5pbWF0ZSgic3R5bGUiLHQpfSxlLnByb3RvdHlwZS51cGRhdGVEdXJpbmdBbmltYXRpb249ZnVuY3Rpb24odCl7InN0eWxlIj09PXQ/dGhpcy5kaXJ0eVN0eWxlKCk6dGhpcy5tYXJrUmVkcmF3KCl9LGUucHJvdG90eXBlLmF0dHJLVj1mdW5jdGlvbihlLG4peyJzdHlsZSIhPT1lP3QucHJvdG90eXBlLmF0dHJLVi5jYWxsKHRoaXMsZSxuKTp0aGlzLnN0eWxlP3RoaXMuc2V0U3R5bGUobik6dGhpcy51c2VTdHlsZShuKX0sZS5wcm90b3R5cGUuc2V0U3R5bGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/dGhpcy5zdHlsZVt0XT1lOkEodGhpcy5zdHlsZSx0KSx0aGlzLmRpcnR5U3R5bGUoKSx0aGlzfSxlLnByb3RvdHlwZS5kaXJ0eVN0eWxlPWZ1bmN0aW9uKHQpe3R8fHRoaXMubWFya1JlZHJhdygpLHRoaXMuX19kaXJ0eXw9Mix0aGlzLl9yZWN0JiYodGhpcy5fcmVjdD1udWxsKX0sZS5wcm90b3R5cGUuZGlydHk9ZnVuY3Rpb24oKXt0aGlzLmRpcnR5U3R5bGUoKX0sZS5wcm90b3R5cGUuc3R5bGVDaGFuZ2VkPWZ1bmN0aW9uKCl7cmV0dXJuISEoMiZ0aGlzLl9fZGlydHkpfSxlLnByb3RvdHlwZS5zdHlsZVVwZGF0ZWQ9ZnVuY3Rpb24oKXt0aGlzLl9fZGlydHkmPS0zfSxlLnByb3RvdHlwZS5jcmVhdGVTdHlsZT1mdW5jdGlvbih0KXtyZXR1cm4geXQodWEsdCl9LGUucHJvdG90eXBlLnVzZVN0eWxlPWZ1bmN0aW9uKHQpe3RbbGFdfHwodD10aGlzLmNyZWF0ZVN0eWxlKHQpKSx0aGlzLl9faW5Ib3Zlcj90aGlzLl9faG92ZXJTdHlsZT10OnRoaXMuc3R5bGU9dCx0aGlzLmRpcnR5U3R5bGUoKX0sZS5wcm90b3R5cGUuaXNTdHlsZU9iamVjdD1mdW5jdGlvbih0KXtyZXR1cm4gdFtsYV19LGUucHJvdG90eXBlLl9pbm5lclNhdmVUb05vcm1hbD1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5faW5uZXJTYXZlVG9Ob3JtYWwuY2FsbCh0aGlzLGUpO3ZhciBuPXRoaXMuX25vcm1hbFN0YXRlO2Uuc3R5bGUmJiFuLnN0eWxlJiYobi5zdHlsZT10aGlzLl9tZXJnZVN0eWxlKHRoaXMuY3JlYXRlU3R5bGUoKSx0aGlzLnN0eWxlKSksdGhpcy5fc2F2ZVByaW1hcnlUb05vcm1hbChlLG4sY2EpfSxlLnByb3RvdHlwZS5fYXBwbHlTdGF0ZU9iaj1mdW5jdGlvbihlLG4saSxyLG8sYSl7dC5wcm90b3R5cGUuX2FwcGx5U3RhdGVPYmouY2FsbCh0aGlzLGUsbixpLHIsbyxhKTt2YXIgcyxsPSEobiYmcik7aWYobiYmbi5zdHlsZT9vP3I/cz1uLnN0eWxlOihzPXRoaXMuX21lcmdlU3R5bGUodGhpcy5jcmVhdGVTdHlsZSgpLGkuc3R5bGUpLHRoaXMuX21lcmdlU3R5bGUocyxuLnN0eWxlKSk6KHM9dGhpcy5fbWVyZ2VTdHlsZSh0aGlzLmNyZWF0ZVN0eWxlKCkscj90aGlzLnN0eWxlOmkuc3R5bGUpLHRoaXMuX21lcmdlU3R5bGUocyxuLnN0eWxlKSk6bCYmKHM9aS5zdHlsZSkscylpZihvKXt2YXIgdT10aGlzLnN0eWxlO2lmKHRoaXMuc3R5bGU9dGhpcy5jcmVhdGVTdHlsZShsP3t9OnUpLGwpZm9yKHZhciBoPUcodSksYz0wO2M8aC5sZW5ndGg7YysrKXsoZD1oW2NdKWluIHMmJihzW2RdPXNbZF0sdGhpcy5zdHlsZVtkXT11W2RdKX12YXIgcD1HKHMpO2ZvcihjPTA7YzxwLmxlbmd0aDtjKyspe3ZhciBkPXBbY107dGhpcy5zdHlsZVtkXT10aGlzLnN0eWxlW2RdfXRoaXMuX3RyYW5zaXRpb25TdGF0ZShlLHtzdHlsZTpzfSxhLHRoaXMuZ2V0QW5pbWF0aW9uU3R5bGVQcm9wcygpKX1lbHNlIHRoaXMudXNlU3R5bGUocyk7dmFyIGY9dGhpcy5fX2luSG92ZXI/cGE6Y2E7Zm9yKGM9MDtjPGYubGVuZ3RoO2MrKyl7ZD1mW2NdO24mJm51bGwhPW5bZF0/dGhpc1tkXT1uW2RdOmwmJm51bGwhPWlbZF0mJih0aGlzW2RdPWlbZF0pfX0sZS5wcm90b3R5cGUuX21lcmdlU3RhdGVzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgbixpPXQucHJvdG90eXBlLl9tZXJnZVN0YXRlcy5jYWxsKHRoaXMsZSkscj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3JdO28uc3R5bGUmJihuPW58fHt9LHRoaXMuX21lcmdlU3R5bGUobixvLnN0eWxlKSl9cmV0dXJuIG4mJihpLnN0eWxlPW4pLGl9LGUucHJvdG90eXBlLl9tZXJnZVN0eWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEEodCxlKSx0fSxlLnByb3RvdHlwZS5nZXRBbmltYXRpb25TdHlsZVByb3BzPWZ1bmN0aW9uKCl7cmV0dXJuIGhhfSxlLmluaXREZWZhdWx0UHJvcHM9KChpPWUucHJvdG90eXBlKS50eXBlPSJkaXNwbGF5YWJsZSIsaS5pbnZpc2libGU9ITEsaS56PTAsaS56Mj0wLGkuemxldmVsPTAsaS5jdWxsaW5nPSExLGkuY3Vyc29yPSJwb2ludGVyIixpLnJlY3RIb3Zlcj0hMSxpLmluY3JlbWVudGFsPSExLGkuX3JlY3Q9bnVsbCxpLmRpcnR5UmVjdFRvbGVyYW5jZT0wLHZvaWQoaS5fX2RpcnR5PTMpKSxlfSh3ciksZmE9bmV3IHNyKDAsMCwwLDApLGdhPW5ldyBzcigwLDAsMCwwKTt2YXIgeWE9TWF0aC5taW4sdmE9TWF0aC5tYXgsbWE9TWF0aC5zaW4seGE9TWF0aC5jb3MsX2E9MipNYXRoLlBJLGJhPXd0KCksd2E9d3QoKSxTYT13dCgpO2Z1bmN0aW9uIE1hKHQsZSxuKXtpZigwIT09dC5sZW5ndGgpe2Zvcih2YXIgaT10WzBdLHI9aVswXSxvPWlbMF0sYT1pWzFdLHM9aVsxXSxsPTE7bDx0Lmxlbmd0aDtsKyspaT10W2xdLHI9eWEocixpWzBdKSxvPXZhKG8saVswXSksYT15YShhLGlbMV0pLHM9dmEocyxpWzFdKTtlWzBdPXIsZVsxXT1hLG5bMF09byxuWzFdPXN9fWZ1bmN0aW9uIElhKHQsZSxuLGkscixvKXtyWzBdPXlhKHQsbiksclsxXT15YShlLGkpLG9bMF09dmEodCxuKSxvWzFdPXZhKGUsaSl9dmFyIFRhPVtdLENhPVtdO2Z1bmN0aW9uIERhKHQsZSxuLGkscixvLGEscyxsLHUpe3ZhciBoPVhlLGM9SGUscD1oKHQsbixyLGEsVGEpO2xbMF09MS8wLGxbMV09MS8wLHVbMF09LTEvMCx1WzFdPS0xLzA7Zm9yKHZhciBkPTA7ZDxwO2QrKyl7dmFyIGY9Yyh0LG4scixhLFRhW2RdKTtsWzBdPXlhKGYsbFswXSksdVswXT12YShmLHVbMF0pfXA9aChlLGksbyxzLENhKTtmb3IoZD0wO2Q8cDtkKyspe3ZhciBnPWMoZSxpLG8scyxDYVtkXSk7bFsxXT15YShnLGxbMV0pLHVbMV09dmEoZyx1WzFdKX1sWzBdPXlhKHQsbFswXSksdVswXT12YSh0LHVbMF0pLGxbMF09eWEoYSxsWzBdKSx1WzBdPXZhKGEsdVswXSksbFsxXT15YShlLGxbMV0pLHVbMV09dmEoZSx1WzFdKSxsWzFdPXlhKHMsbFsxXSksdVsxXT12YShzLHVbMV0pfWZ1bmN0aW9uIEFhKHQsZSxuLGkscixvLGEscyl7dmFyIGw9SmUsdT1LZSxoPXZhKHlhKGwodCxuLHIpLDEpLDApLGM9dmEoeWEobChlLGksbyksMSksMCkscD11KHQsbixyLGgpLGQ9dShlLGksbyxjKTthWzBdPXlhKHQscixwKSxhWzFdPXlhKGUsbyxkKSxzWzBdPXZhKHQscixwKSxzWzFdPXZhKGUsbyxkKX1mdW5jdGlvbiBrYSh0LGUsbixpLHIsbyxhLHMsbCl7dmFyIHU9R3QsaD1XdCxjPU1hdGguYWJzKHItbyk7aWYoYyVfYTwxZS00JiZjPjFlLTQpcmV0dXJuIHNbMF09dC1uLHNbMV09ZS1pLGxbMF09dCtuLHZvaWQobFsxXT1lK2kpO2lmKGJhWzBdPXhhKHIpKm4rdCxiYVsxXT1tYShyKSppK2Usd2FbMF09eGEobykqbit0LHdhWzFdPW1hKG8pKmkrZSx1KHMsYmEsd2EpLGgobCxiYSx3YSksKHIlPV9hKTwwJiYocis9X2EpLChvJT1fYSk8MCYmKG8rPV9hKSxyPm8mJiFhP28rPV9hOnI8byYmYSYmKHIrPV9hKSxhKXt2YXIgcD1vO289cixyPXB9Zm9yKHZhciBkPTA7ZDxvO2QrPU1hdGguUEkvMilkPnImJihTYVswXT14YShkKSpuK3QsU2FbMV09bWEoZCkqaStlLHUocyxTYSxzKSxoKGwsU2EsbCkpfXZhciBMYT17TToxLEw6MixDOjMsUTo0LEE6NSxaOjYsUjo3fSxQYT1bXSxPYT1bXSxSYT1bXSxOYT1bXSxFYT1bXSx6YT1bXSxWYT1NYXRoLm1pbixCYT1NYXRoLm1heCxGYT1NYXRoLmNvcyxHYT1NYXRoLnNpbixXYT1NYXRoLmFicyxIYT1NYXRoLlBJLFlhPTIqSGEsVWE9InVuZGVmaW5lZCIhPXR5cGVvZiBGbG9hdDMyQXJyYXksWGE9W107ZnVuY3Rpb24gWmEodCl7cmV0dXJuIE1hdGgucm91bmQodC9IYSoxZTgpLzFlOCUyKkhhfWZ1bmN0aW9uIGphKHQsZSl7dmFyIG49WmEodFswXSk7bjwwJiYobis9WWEpO3ZhciBpPW4tdFswXSxyPXRbMV07cis9aSwhZSYmci1uPj1ZYT9yPW4rWWE6ZSYmbi1yPj1ZYT9yPW4tWWE6IWUmJm4+cj9yPW4rKFlhLVphKG4tcikpOmUmJm48ciYmKHI9bi0oWWEtWmEoci1uKSkpLHRbMF09bix0WzFdPXJ9dmFyIHFhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmRwcj0xLHRoaXMuX3hpPTAsdGhpcy5feWk9MCx0aGlzLl94MD0wLHRoaXMuX3kwPTAsdGhpcy5fbGVuPTAsdCYmKHRoaXMuX3NhdmVEYXRhPSExKSx0aGlzLl9zYXZlRGF0YSYmKHRoaXMuZGF0YT1bXSl9cmV0dXJuIHQucHJvdG90eXBlLmluY3JlYXNlVmVyc2lvbj1mdW5jdGlvbigpe3RoaXMuX3ZlcnNpb24rK30sdC5wcm90b3R5cGUuZ2V0VmVyc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl92ZXJzaW9ufSx0LnByb3RvdHlwZS5zZXRTY2FsZT1mdW5jdGlvbih0LGUsbil7KG49bnx8MCk+MCYmKHRoaXMuX3V4PVdhKG4vQWkvdCl8fDAsdGhpcy5fdXk9V2Eobi9BaS9lKXx8MCl9LHQucHJvdG90eXBlLnNldERQUj1mdW5jdGlvbih0KXt0aGlzLmRwcj10fSx0LnByb3RvdHlwZS5zZXRDb250ZXh0PWZ1bmN0aW9uKHQpe3RoaXMuX2N0eD10fSx0LnByb3RvdHlwZS5nZXRDb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N0eH0sdC5wcm90b3R5cGUuYmVnaW5QYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N0eCYmdGhpcy5fY3R4LmJlZ2luUGF0aCgpLHRoaXMucmVzZXQoKSx0aGlzfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX3NhdmVEYXRhJiYodGhpcy5fbGVuPTApLHRoaXMuX3BhdGhTZWdMZW4mJih0aGlzLl9wYXRoU2VnTGVuPW51bGwsdGhpcy5fcGF0aExlbj0wKSx0aGlzLl92ZXJzaW9uKyt9LHQucHJvdG90eXBlLm1vdmVUbz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9kcmF3UGVuZGluZ1B0KCksdGhpcy5hZGREYXRhKExhLk0sdCxlKSx0aGlzLl9jdHgmJnRoaXMuX2N0eC5tb3ZlVG8odCxlKSx0aGlzLl94MD10LHRoaXMuX3kwPWUsdGhpcy5feGk9dCx0aGlzLl95aT1lLHRoaXN9LHQucHJvdG90eXBlLmxpbmVUbz1mdW5jdGlvbih0LGUpe3ZhciBuPVdhKHQtdGhpcy5feGkpLGk9V2EoZS10aGlzLl95aSkscj1uPnRoaXMuX3V4fHxpPnRoaXMuX3V5O2lmKHRoaXMuYWRkRGF0YShMYS5MLHQsZSksdGhpcy5fY3R4JiZyJiZ0aGlzLl9jdHgubGluZVRvKHQsZSkscil0aGlzLl94aT10LHRoaXMuX3lpPWUsdGhpcy5fcGVuZGluZ1B0RGlzdD0wO2Vsc2V7dmFyIG89bipuK2kqaTtvPnRoaXMuX3BlbmRpbmdQdERpc3QmJih0aGlzLl9wZW5kaW5nUHRYPXQsdGhpcy5fcGVuZGluZ1B0WT1lLHRoaXMuX3BlbmRpbmdQdERpc3Q9byl9cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLmJlemllckN1cnZlVG89ZnVuY3Rpb24odCxlLG4saSxyLG8pe3JldHVybiB0aGlzLl9kcmF3UGVuZGluZ1B0KCksdGhpcy5hZGREYXRhKExhLkMsdCxlLG4saSxyLG8pLHRoaXMuX2N0eCYmdGhpcy5fY3R4LmJlemllckN1cnZlVG8odCxlLG4saSxyLG8pLHRoaXMuX3hpPXIsdGhpcy5feWk9byx0aGlzfSx0LnByb3RvdHlwZS5xdWFkcmF0aWNDdXJ2ZVRvPWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB0aGlzLl9kcmF3UGVuZGluZ1B0KCksdGhpcy5hZGREYXRhKExhLlEsdCxlLG4saSksdGhpcy5fY3R4JiZ0aGlzLl9jdHgucXVhZHJhdGljQ3VydmVUbyh0LGUsbixpKSx0aGlzLl94aT1uLHRoaXMuX3lpPWksdGhpc30sdC5wcm90b3R5cGUuYXJjPWZ1bmN0aW9uKHQsZSxuLGkscixvKXt0aGlzLl9kcmF3UGVuZGluZ1B0KCksWGFbMF09aSxYYVsxXT1yLGphKFhhLG8pLGk9WGFbMF07dmFyIGE9KHI9WGFbMV0pLWk7cmV0dXJuIHRoaXMuYWRkRGF0YShMYS5BLHQsZSxuLG4saSxhLDAsbz8wOjEpLHRoaXMuX2N0eCYmdGhpcy5fY3R4LmFyYyh0LGUsbixpLHIsbyksdGhpcy5feGk9RmEocikqbit0LHRoaXMuX3lpPUdhKHIpKm4rZSx0aGlzfSx0LnByb3RvdHlwZS5hcmNUbz1mdW5jdGlvbih0LGUsbixpLHIpe3JldHVybiB0aGlzLl9kcmF3UGVuZGluZ1B0KCksdGhpcy5fY3R4JiZ0aGlzLl9jdHguYXJjVG8odCxlLG4saSxyKSx0aGlzfSx0LnByb3RvdHlwZS5yZWN0PWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB0aGlzLl9kcmF3UGVuZGluZ1B0KCksdGhpcy5fY3R4JiZ0aGlzLl9jdHgucmVjdCh0LGUsbixpKSx0aGlzLmFkZERhdGEoTGEuUix0LGUsbixpKSx0aGlzfSx0LnByb3RvdHlwZS5jbG9zZVBhdGg9ZnVuY3Rpb24oKXt0aGlzLl9kcmF3UGVuZGluZ1B0KCksdGhpcy5hZGREYXRhKExhLlopO3ZhciB0PXRoaXMuX2N0eCxlPXRoaXMuX3gwLG49dGhpcy5feTA7cmV0dXJuIHQmJnQuY2xvc2VQYXRoKCksdGhpcy5feGk9ZSx0aGlzLl95aT1uLHRoaXN9LHQucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24odCl7dCYmdC5maWxsKCksdGhpcy50b1N0YXRpYygpfSx0LnByb3RvdHlwZS5zdHJva2U9ZnVuY3Rpb24odCl7dCYmdC5zdHJva2UoKSx0aGlzLnRvU3RhdGljKCl9LHQucHJvdG90eXBlLmxlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sZW59LHQucHJvdG90eXBlLnNldERhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGg7dGhpcy5kYXRhJiZ0aGlzLmRhdGEubGVuZ3RoPT09ZXx8IVVhfHwodGhpcy5kYXRhPW5ldyBGbG9hdDMyQXJyYXkoZSkpO2Zvcih2YXIgbj0wO248ZTtuKyspdGhpcy5kYXRhW25dPXRbbl07dGhpcy5fbGVuPWV9LHQucHJvdG90eXBlLmFwcGVuZFBhdGg9ZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIEFycmF5fHwodD1bdF0pO2Zvcih2YXIgZT10Lmxlbmd0aCxuPTAsaT10aGlzLl9sZW4scj0wO3I8ZTtyKyspbis9dFtyXS5sZW4oKTtVYSYmdGhpcy5kYXRhIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5JiYodGhpcy5kYXRhPW5ldyBGbG9hdDMyQXJyYXkoaStuKSk7Zm9yKHI9MDtyPGU7cisrKWZvcih2YXIgbz10W3JdLmRhdGEsYT0wO2E8by5sZW5ndGg7YSsrKXRoaXMuZGF0YVtpKytdPW9bYV07dGhpcy5fbGVuPWl9LHQucHJvdG90eXBlLmFkZERhdGE9ZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzLGwpe2lmKHRoaXMuX3NhdmVEYXRhKXt2YXIgdT10aGlzLmRhdGE7dGhpcy5fbGVuK2FyZ3VtZW50cy5sZW5ndGg+dS5sZW5ndGgmJih0aGlzLl9leHBhbmREYXRhKCksdT10aGlzLmRhdGEpO2Zvcih2YXIgaD0wO2g8YXJndW1lbnRzLmxlbmd0aDtoKyspdVt0aGlzLl9sZW4rK109YXJndW1lbnRzW2hdfX0sdC5wcm90b3R5cGUuX2RyYXdQZW5kaW5nUHQ9ZnVuY3Rpb24oKXt0aGlzLl9wZW5kaW5nUHREaXN0PjAmJih0aGlzLl9jdHgmJnRoaXMuX2N0eC5saW5lVG8odGhpcy5fcGVuZGluZ1B0WCx0aGlzLl9wZW5kaW5nUHRZKSx0aGlzLl9wZW5kaW5nUHREaXN0PTApfSx0LnByb3RvdHlwZS5fZXhwYW5kRGF0YT1mdW5jdGlvbigpe2lmKCEodGhpcy5kYXRhIGluc3RhbmNlb2YgQXJyYXkpKXtmb3IodmFyIHQ9W10sZT0wO2U8dGhpcy5fbGVuO2UrKyl0W2VdPXRoaXMuZGF0YVtlXTt0aGlzLmRhdGE9dH19LHQucHJvdG90eXBlLnRvU3RhdGljPWZ1bmN0aW9uKCl7aWYodGhpcy5fc2F2ZURhdGEpe3RoaXMuX2RyYXdQZW5kaW5nUHQoKTt2YXIgdD10aGlzLmRhdGE7dCBpbnN0YW5jZW9mIEFycmF5JiYodC5sZW5ndGg9dGhpcy5fbGVuLFVhJiZ0aGlzLl9sZW4+MTEmJih0aGlzLmRhdGE9bmV3IEZsb2F0MzJBcnJheSh0KSkpfX0sdC5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKCl7UmFbMF09UmFbMV09RWFbMF09RWFbMV09TnVtYmVyLk1BWF9WQUxVRSxOYVswXT1OYVsxXT16YVswXT16YVsxXT0tTnVtYmVyLk1BWF9WQUxVRTt2YXIgdCxlPXRoaXMuZGF0YSxuPTAsaT0wLHI9MCxvPTA7Zm9yKHQ9MDt0PHRoaXMuX2xlbjspe3ZhciBhPWVbdCsrXSxzPTE9PT10O3N3aXRjaChzJiYocj1uPWVbdF0sbz1pPWVbdCsxXSksYSl7Y2FzZSBMYS5NOm49cj1lW3QrK10saT1vPWVbdCsrXSxFYVswXT1yLEVhWzFdPW8semFbMF09cix6YVsxXT1vO2JyZWFrO2Nhc2UgTGEuTDpJYShuLGksZVt0XSxlW3QrMV0sRWEsemEpLG49ZVt0KytdLGk9ZVt0KytdO2JyZWFrO2Nhc2UgTGEuQzpEYShuLGksZVt0KytdLGVbdCsrXSxlW3QrK10sZVt0KytdLGVbdF0sZVt0KzFdLEVhLHphKSxuPWVbdCsrXSxpPWVbdCsrXTticmVhaztjYXNlIExhLlE6QWEobixpLGVbdCsrXSxlW3QrK10sZVt0XSxlW3QrMV0sRWEsemEpLG49ZVt0KytdLGk9ZVt0KytdO2JyZWFrO2Nhc2UgTGEuQTp2YXIgbD1lW3QrK10sdT1lW3QrK10saD1lW3QrK10sYz1lW3QrK10scD1lW3QrK10sZD1lW3QrK10rcDt0Kz0xO3ZhciBmPSFlW3QrK107cyYmKHI9RmEocCkqaCtsLG89R2EocCkqYyt1KSxrYShsLHUsaCxjLHAsZCxmLEVhLHphKSxuPUZhKGQpKmgrbCxpPUdhKGQpKmMrdTticmVhaztjYXNlIExhLlI6SWEocj1uPWVbdCsrXSxvPWk9ZVt0KytdLHIrZVt0KytdLG8rZVt0KytdLEVhLHphKTticmVhaztjYXNlIExhLlo6bj1yLGk9b31HdChSYSxSYSxFYSksV3QoTmEsTmEsemEpfXJldHVybiAwPT09dCYmKFJhWzBdPVJhWzFdPU5hWzBdPU5hWzFdPTApLG5ldyBzcihSYVswXSxSYVsxXSxOYVswXS1SYVswXSxOYVsxXS1SYVsxXSl9LHQucHJvdG90eXBlLl9jYWxjdWxhdGVMZW5ndGg9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRhdGEsZT10aGlzLl9sZW4sbj10aGlzLl91eCxpPXRoaXMuX3V5LHI9MCxvPTAsYT0wLHM9MDt0aGlzLl9wYXRoU2VnTGVufHwodGhpcy5fcGF0aFNlZ0xlbj1bXSk7Zm9yKHZhciBsPXRoaXMuX3BhdGhTZWdMZW4sdT0wLGg9MCxjPTA7YzxlOyl7dmFyIHA9dFtjKytdLGQ9MT09PWM7ZCYmKGE9cj10W2NdLHM9bz10W2MrMV0pO3ZhciBmPS0xO3N3aXRjaChwKXtjYXNlIExhLk06cj1hPXRbYysrXSxvPXM9dFtjKytdO2JyZWFrO2Nhc2UgTGEuTDp2YXIgZz10W2MrK10seT0oeD10W2MrK10pLW87KFdhKEE9Zy1yKT5ufHxXYSh5KT5pfHxjPT09ZS0xKSYmKGY9TWF0aC5zcXJ0KEEqQSt5KnkpLHI9ZyxvPXgpO2JyZWFrO2Nhc2UgTGEuQzp2YXIgdj10W2MrK10sbT10W2MrK10seD0oZz10W2MrK10sdFtjKytdKSxfPXRbYysrXSxiPXRbYysrXTtmPXFlKHIsbyx2LG0sZyx4LF8sYiwxMCkscj1fLG89YjticmVhaztjYXNlIExhLlE6Zj1lbihyLG8sdj10W2MrK10sbT10W2MrK10sZz10W2MrK10seD10W2MrK10sMTApLHI9ZyxvPXg7YnJlYWs7Y2FzZSBMYS5BOnZhciB3PXRbYysrXSxTPXRbYysrXSxNPXRbYysrXSxJPXRbYysrXSxUPXRbYysrXSxDPXRbYysrXSxEPUMrVDtjKz0xO3RbYysrXTtkJiYoYT1GYShUKSpNK3cscz1HYShUKSpJK1MpLGY9QmEoTSxJKSpWYShZYSxNYXRoLmFicyhDKSkscj1GYShEKSpNK3csbz1HYShEKSpJK1M7YnJlYWs7Y2FzZSBMYS5SOmE9cj10W2MrK10scz1vPXRbYysrXSxmPTIqdFtjKytdKzIqdFtjKytdO2JyZWFrO2Nhc2UgTGEuWjp2YXIgQT1hLXI7eT1zLW87Zj1NYXRoLnNxcnQoQSpBK3kqeSkscj1hLG89c31mPj0wJiYobFtoKytdPWYsdSs9Zil9cmV0dXJuIHRoaXMuX3BhdGhMZW49dSx1fSx0LnByb3RvdHlwZS5yZWJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuLGkscixvLGEscyxsLHUsaCxjLHA9dGhpcy5kYXRhLGQ9dGhpcy5fdXgsZj10aGlzLl91eSxnPXRoaXMuX2xlbix5PWU8MSx2PTAsbT0wLHg9MDtpZigheXx8KHRoaXMuX3BhdGhTZWdMZW58fHRoaXMuX2NhbGN1bGF0ZUxlbmd0aCgpLGw9dGhpcy5fcGF0aFNlZ0xlbix1PWUqdGhpcy5fcGF0aExlbikpdDpmb3IodmFyIF89MDtfPGc7KXt2YXIgYj1wW18rK10sdz0xPT09Xztzd2l0Y2godyYmKG49cj1wW19dLGk9bz1wW18rMV0pLGIhPT1MYS5MJiZ4PjAmJih0LmxpbmVUbyhoLGMpLHg9MCksYil7Y2FzZSBMYS5NOm49cj1wW18rK10saT1vPXBbXysrXSx0Lm1vdmVUbyhyLG8pO2JyZWFrO2Nhc2UgTGEuTDphPXBbXysrXSxzPXBbXysrXTt2YXIgUz1XYShhLXIpLE09V2Eocy1vKTtpZihTPmR8fE0+Zil7aWYoeSl7aWYodisoaj1sW20rK10pPnUpe3ZhciBJPSh1LXYpL2o7dC5saW5lVG8ociooMS1JKSthKkksbyooMS1JKStzKkkpO2JyZWFrIHR9dis9an10LmxpbmVUbyhhLHMpLHI9YSxvPXMseD0wfWVsc2V7dmFyIFQ9UypTK00qTTtUPngmJihoPWEsYz1zLHg9VCl9YnJlYWs7Y2FzZSBMYS5DOnZhciBDPXBbXysrXSxEPXBbXysrXSxBPXBbXysrXSxrPXBbXysrXSxMPXBbXysrXSxQPXBbXysrXTtpZih5KXtpZih2KyhqPWxbbSsrXSk+dSl7WmUocixDLEEsTCxJPSh1LXYpL2osUGEpLFplKG8sRCxrLFAsSSxPYSksdC5iZXppZXJDdXJ2ZVRvKFBhWzFdLE9hWzFdLFBhWzJdLE9hWzJdLFBhWzNdLE9hWzNdKTticmVhayB0fXYrPWp9dC5iZXppZXJDdXJ2ZVRvKEMsRCxBLGssTCxQKSxyPUwsbz1QO2JyZWFrO2Nhc2UgTGEuUTpDPXBbXysrXSxEPXBbXysrXSxBPXBbXysrXSxrPXBbXysrXTtpZih5KXtpZih2KyhqPWxbbSsrXSk+dSl7UWUocixDLEEsST0odS12KS9qLFBhKSxRZShvLEQsayxJLE9hKSx0LnF1YWRyYXRpY0N1cnZlVG8oUGFbMV0sT2FbMV0sUGFbMl0sT2FbMl0pO2JyZWFrIHR9dis9an10LnF1YWRyYXRpY0N1cnZlVG8oQyxELEEsaykscj1BLG89azticmVhaztjYXNlIExhLkE6dmFyIE89cFtfKytdLFI9cFtfKytdLE49cFtfKytdLEU9cFtfKytdLHo9cFtfKytdLFY9cFtfKytdLEI9cFtfKytdLEY9IXBbXysrXSxHPU4+RT9OOkUsVz1XYShOLUUpPi4wMDEsSD16K1YsWT0hMTtpZih5KXYrKGo9bFttKytdKT51JiYoSD16K1YqKHUtdikvaixZPSEwKSx2Kz1qO2lmKFcmJnQuZWxsaXBzZT90LmVsbGlwc2UoTyxSLE4sRSxCLHosSCxGKTp0LmFyYyhPLFIsRyx6LEgsRiksWSlicmVhayB0O3cmJihuPUZhKHopKk4rTyxpPUdhKHopKkUrUikscj1GYShIKSpOK08sbz1HYShIKSpFK1I7YnJlYWs7Y2FzZSBMYS5SOm49cj1wW19dLGk9bz1wW18rMV0sYT1wW18rK10scz1wW18rK107dmFyIFU9cFtfKytdLFg9cFtfKytdO2lmKHkpe2lmKHYrKGo9bFttKytdKT51KXt2YXIgWj11LXY7dC5tb3ZlVG8oYSxzKSx0LmxpbmVUbyhhK1ZhKFosVSkscyksKFotPVUpPjAmJnQubGluZVRvKGErVSxzK1ZhKFosWCkpLChaLT1YKT4wJiZ0LmxpbmVUbyhhK0JhKFUtWiwwKSxzK1gpLChaLT1VKT4wJiZ0LmxpbmVUbyhhLHMrQmEoWC1aLDApKTticmVhayB0fXYrPWp9dC5yZWN0KGEscyxVLFgpO2JyZWFrO2Nhc2UgTGEuWjppZih5KXt2YXIgajtpZih2KyhqPWxbbSsrXSk+dSl7ST0odS12KS9qO3QubGluZVRvKHIqKDEtSSkrbipJLG8qKDEtSSkraSpJKTticmVhayB0fXYrPWp9dC5jbG9zZVBhdGgoKSxyPW4sbz1pfX19LHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IHQsbj10aGlzLmRhdGE7cmV0dXJuIGUuZGF0YT1uLnNsaWNlP24uc2xpY2UoKTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChuKSxlLl9sZW49dGhpcy5fbGVuLGV9LHQuQ01EPUxhLHQuaW5pdERlZmF1bHRQcm9wcz1mdW5jdGlvbigpe3ZhciBlPXQucHJvdG90eXBlO2UuX3NhdmVEYXRhPSEwLGUuX3V4PTAsZS5fdXk9MCxlLl9wZW5kaW5nUHREaXN0PTAsZS5fdmVyc2lvbj0wfSgpLHR9KCk7ZnVuY3Rpb24gS2EodCxlLG4saSxyLG8sYSl7aWYoMD09PXIpcmV0dXJuITE7dmFyIHM9cixsPTA7aWYoYT5lK3MmJmE+aStzfHxhPGUtcyYmYTxpLXN8fG8+dCtzJiZvPm4rc3x8bzx0LXMmJm88bi1zKXJldHVybiExO2lmKHQ9PT1uKXJldHVybiBNYXRoLmFicyhvLXQpPD1zLzI7dmFyIHU9KGw9KGUtaSkvKHQtbikpKm8tYSsodCppLW4qZSkvKHQtbik7cmV0dXJuIHUqdS8obCpsKzEpPD1zLzIqcy8yfWZ1bmN0aW9uICRhKHQsZSxuLGkscixvLGEscyxsLHUsaCl7aWYoMD09PWwpcmV0dXJuITE7dmFyIGM9bDtyZXR1cm4hKGg+ZStjJiZoPmkrYyYmaD5vK2MmJmg+cytjfHxoPGUtYyYmaDxpLWMmJmg8by1jJiZoPHMtY3x8dT50K2MmJnU+bitjJiZ1PnIrYyYmdT5hK2N8fHU8dC1jJiZ1PG4tYyYmdTxyLWMmJnU8YS1jKSYmamUodCxlLG4saSxyLG8sYSxzLHUsaCxudWxsKTw9Yy8yfWZ1bmN0aW9uIEphKHQsZSxuLGkscixvLGEscyxsKXtpZigwPT09YSlyZXR1cm4hMTt2YXIgdT1hO3JldHVybiEobD5lK3UmJmw+aSt1JiZsPm8rdXx8bDxlLXUmJmw8aS11JiZsPG8tdXx8cz50K3UmJnM+bit1JiZzPnIrdXx8czx0LXUmJnM8bi11JiZzPHItdSkmJnRuKHQsZSxuLGkscixvLHMsbCxudWxsKTw9dS8yfXZhciBRYT0yKk1hdGguUEk7ZnVuY3Rpb24gdHModCl7cmV0dXJuKHQlPVFhKTwwJiYodCs9UWEpLHR9dmFyIGVzPTIqTWF0aC5QSTtmdW5jdGlvbiBucyh0LGUsbixpLHIsbyxhLHMsbCl7aWYoMD09PWEpcmV0dXJuITE7dmFyIHU9YTtzLT10LGwtPWU7dmFyIGg9TWF0aC5zcXJ0KHMqcytsKmwpO2lmKGgtdT5ufHxoK3U8bilyZXR1cm4hMTtpZihNYXRoLmFicyhpLXIpJWVzPDFlLTQpcmV0dXJuITA7aWYobyl7dmFyIGM9aTtpPXRzKHIpLHI9dHMoYyl9ZWxzZSBpPXRzKGkpLHI9dHMocik7aT5yJiYocis9ZXMpO3ZhciBwPU1hdGguYXRhbjIobCxzKTtyZXR1cm4gcDwwJiYocCs9ZXMpLHA+PWkmJnA8PXJ8fHArZXM+PWkmJnArZXM8PXJ9ZnVuY3Rpb24gaXModCxlLG4saSxyLG8pe2lmKG8+ZSYmbz5pfHxvPGUmJm88aSlyZXR1cm4gMDtpZihpPT09ZSlyZXR1cm4gMDt2YXIgYT0oby1lKS8oaS1lKSxzPWk8ZT8xOi0xOzEhPT1hJiYwIT09YXx8KHM9aTxlPy41Oi0uNSk7dmFyIGw9YSoobi10KSt0O3JldHVybiBsPT09cj8xLzA6bD5yP3M6MH12YXIgcnM9cWEuQ01ELG9zPTIqTWF0aC5QSTt2YXIgYXM9Wy0xLC0xLC0xXSxzcz1bLTEsLTFdO2Z1bmN0aW9uIGxzKHQsZSxuLGkscixvLGEscyxsLHUpe2lmKHU+ZSYmdT5pJiZ1Pm8mJnU+c3x8dTxlJiZ1PGkmJnU8byYmdTxzKXJldHVybiAwO3ZhciBoLGM9VWUoZSxpLG8scyx1LGFzKTtpZigwPT09YylyZXR1cm4gMDtmb3IodmFyIHA9MCxkPS0xLGY9dm9pZCAwLGc9dm9pZCAwLHk9MDt5PGM7eSsrKXt2YXIgdj1hc1t5XSxtPTA9PT12fHwxPT09dj8uNToxO0hlKHQsbixyLGEsdik8bHx8KGQ8MCYmKGQ9WGUoZSxpLG8scyxzcyksc3NbMV08c3NbMF0mJmQ+MSYmKGg9dm9pZCAwLGg9c3NbMF0sc3NbMF09c3NbMV0sc3NbMV09aCksZj1IZShlLGksbyxzLHNzWzBdKSxkPjEmJihnPUhlKGUsaSxvLHMsc3NbMV0pKSksMj09PWQ/djxzc1swXT9wKz1mPGU/bTotbTp2PHNzWzFdP3ArPWc8Zj9tOi1tOnArPXM8Zz9tOi1tOnY8c3NbMF0/cCs9ZjxlP206LW06cCs9czxmP206LW0pfXJldHVybiBwfWZ1bmN0aW9uIHVzKHQsZSxuLGkscixvLGEscyl7aWYocz5lJiZzPmkmJnM+b3x8czxlJiZzPGkmJnM8bylyZXR1cm4gMDt2YXIgbD1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPXQtMiplK24sYT0yKihlLXQpLHM9dC1pLGw9MDtpZihHZShvKSlXZShhKSYmKGg9LXMvYSk+PTAmJmg8PTEmJihyW2wrK109aCk7ZWxzZXt2YXIgdT1hKmEtNCpvKnM7aWYoR2UodSkpKGg9LWEvKDIqbykpPj0wJiZoPD0xJiYocltsKytdPWgpO2Vsc2UgaWYodT4wKXt2YXIgaCxjPU9lKHUpLHA9KC1hLWMpLygyKm8pOyhoPSgtYStjKS8oMipvKSk+PTAmJmg8PTEmJihyW2wrK109aCkscD49MCYmcDw9MSYmKHJbbCsrXT1wKX19cmV0dXJuIGx9KGUsaSxvLHMsYXMpO2lmKDA9PT1sKXJldHVybiAwO3ZhciB1PUplKGUsaSxvKTtpZih1Pj0wJiZ1PD0xKXtmb3IodmFyIGg9MCxjPUtlKGUsaSxvLHUpLHA9MDtwPGw7cCsrKXt2YXIgZD0wPT09YXNbcF18fDE9PT1hc1twXT8uNToxO0tlKHQsbixyLGFzW3BdKTxhfHwoYXNbcF08dT9oKz1jPGU/ZDotZDpoKz1vPGM/ZDotZCl9cmV0dXJuIGh9ZD0wPT09YXNbMF18fDE9PT1hc1swXT8uNToxO3JldHVybiBLZSh0LG4scixhc1swXSk8YT8wOm88ZT9kOi1kfWZ1bmN0aW9uIGhzKHQsZSxuLGkscixvLGEscyl7aWYoKHMtPWUpPm58fHM8LW4pcmV0dXJuIDA7dmFyIGw9TWF0aC5zcXJ0KG4qbi1zKnMpO2FzWzBdPS1sLGFzWzFdPWw7dmFyIHU9TWF0aC5hYnMoaS1yKTtpZih1PDFlLTQpcmV0dXJuIDA7aWYodT49b3MtMWUtNCl7aT0wLHI9b3M7dmFyIGg9bz8xOi0xO3JldHVybiBhPj1hc1swXSt0JiZhPD1hc1sxXSt0P2g6MH1pZihpPnIpe3ZhciBjPWk7aT1yLHI9Y31pPDAmJihpKz1vcyxyKz1vcyk7Zm9yKHZhciBwPTAsZD0wO2Q8MjtkKyspe3ZhciBmPWFzW2RdO2lmKGYrdD5hKXt2YXIgZz1NYXRoLmF0YW4yKHMsZik7aD1vPzE6LTE7ZzwwJiYoZz1vcytnKSwoZz49aSYmZzw9cnx8Zytvcz49aSYmZytvczw9cikmJihnPk1hdGguUEkvMiYmZzwxLjUqTWF0aC5QSSYmKGg9LWgpLHArPWgpfX1yZXR1cm4gcH1mdW5jdGlvbiBjcyh0LGUsbixpLHIpe2Zvcih2YXIgbyxhLHMsbCx1PXQuZGF0YSxoPXQubGVuKCksYz0wLHA9MCxkPTAsZj0wLGc9MCx5PTA7eTxoOyl7dmFyIHY9dVt5KytdLG09MT09PXk7c3dpdGNoKHY9PT1ycy5NJiZ5PjEmJihufHwoYys9aXMocCxkLGYsZyxpLHIpKSksbSYmKGY9cD11W3ldLGc9ZD11W3krMV0pLHYpe2Nhc2UgcnMuTTpwPWY9dVt5KytdLGQ9Zz11W3krK107YnJlYWs7Y2FzZSBycy5MOmlmKG4pe2lmKEthKHAsZCx1W3ldLHVbeSsxXSxlLGkscikpcmV0dXJuITB9ZWxzZSBjKz1pcyhwLGQsdVt5XSx1W3krMV0saSxyKXx8MDtwPXVbeSsrXSxkPXVbeSsrXTticmVhaztjYXNlIHJzLkM6aWYobil7aWYoJGEocCxkLHVbeSsrXSx1W3krK10sdVt5KytdLHVbeSsrXSx1W3ldLHVbeSsxXSxlLGkscikpcmV0dXJuITB9ZWxzZSBjKz1scyhwLGQsdVt5KytdLHVbeSsrXSx1W3krK10sdVt5KytdLHVbeV0sdVt5KzFdLGkscil8fDA7cD11W3krK10sZD11W3krK107YnJlYWs7Y2FzZSBycy5ROmlmKG4pe2lmKEphKHAsZCx1W3krK10sdVt5KytdLHVbeV0sdVt5KzFdLGUsaSxyKSlyZXR1cm4hMH1lbHNlIGMrPXVzKHAsZCx1W3krK10sdVt5KytdLHVbeV0sdVt5KzFdLGkscil8fDA7cD11W3krK10sZD11W3krK107YnJlYWs7Y2FzZSBycy5BOnZhciB4PXVbeSsrXSxfPXVbeSsrXSxiPXVbeSsrXSx3PXVbeSsrXSxTPXVbeSsrXSxNPXVbeSsrXTt5Kz0xO3ZhciBJPSEhKDEtdVt5KytdKTtvPU1hdGguY29zKFMpKmIreCxhPU1hdGguc2luKFMpKncrXyxtPyhmPW8sZz1hKTpjKz1pcyhwLGQsbyxhLGkscik7dmFyIFQ9KGkteCkqdy9iK3g7aWYobil7aWYobnMoeCxfLHcsUyxTK00sSSxlLFQscikpcmV0dXJuITB9ZWxzZSBjKz1ocyh4LF8sdyxTLFMrTSxJLFQscik7cD1NYXRoLmNvcyhTK00pKmIreCxkPU1hdGguc2luKFMrTSkqdytfO2JyZWFrO2Nhc2UgcnMuUjppZihmPXA9dVt5KytdLGc9ZD11W3krK10sbz1mK3VbeSsrXSxhPWcrdVt5KytdLG4pe2lmKEthKGYsZyxvLGcsZSxpLHIpfHxLYShvLGcsbyxhLGUsaSxyKXx8S2EobyxhLGYsYSxlLGkscil8fEthKGYsYSxmLGcsZSxpLHIpKXJldHVybiEwfWVsc2UgYys9aXMobyxnLG8sYSxpLHIpLGMrPWlzKGYsYSxmLGcsaSxyKTticmVhaztjYXNlIHJzLlo6aWYobil7aWYoS2EocCxkLGYsZyxlLGkscikpcmV0dXJuITB9ZWxzZSBjKz1pcyhwLGQsZixnLGkscik7cD1mLGQ9Z319cmV0dXJuIG58fChzPWQsbD1nLE1hdGguYWJzKHMtbCk8MWUtNCl8fChjKz1pcyhwLGQsZixnLGkscil8fDApLDAhPT1jfXZhciBwcz1rKHtmaWxsOiIjMDAwIixzdHJva2U6bnVsbCxzdHJva2VQZXJjZW50OjEsZmlsbE9wYWNpdHk6MSxzdHJva2VPcGFjaXR5OjEsbGluZURhc2hPZmZzZXQ6MCxsaW5lV2lkdGg6MSxsaW5lQ2FwOiJidXR0IixtaXRlckxpbWl0OjEwLHN0cm9rZU5vU2NhbGU6ITEsc3Ryb2tlRmlyc3Q6ITF9LHVhKSxkcz17c3R5bGU6ayh7ZmlsbDohMCxzdHJva2U6ITAsc3Ryb2tlUGVyY2VudDohMCxmaWxsT3BhY2l0eTohMCxzdHJva2VPcGFjaXR5OiEwLGxpbmVEYXNoT2Zmc2V0OiEwLGxpbmVXaWR0aDohMCxtaXRlckxpbWl0OiEwfSxoYS5zdHlsZSl9LGZzPUtpLmNvbmNhdChbImludmlzaWJsZSIsImN1bGxpbmciLCJ6IiwiejIiLCJ6bGV2ZWwiLCJwYXJlbnQiXSksZ3M9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSl8fHRoaXN9dmFyIGk7cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3QucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMpO3ZhciBpPXRoaXMuc3R5bGU7aWYoaS5kZWNhbCl7dmFyIHI9dGhpcy5fZGVjYWxFbD10aGlzLl9kZWNhbEVsfHxuZXcgZTtyLmJ1aWxkUGF0aD09PWUucHJvdG90eXBlLmJ1aWxkUGF0aCYmKHIuYnVpbGRQYXRoPWZ1bmN0aW9uKHQpe24uYnVpbGRQYXRoKHQsbi5zaGFwZSl9KSxyLnNpbGVudD0hMDt2YXIgbz1yLnN0eWxlO2Zvcih2YXIgYSBpbiBpKW9bYV0hPT1pW2FdJiYob1thXT1pW2FdKTtvLmZpbGw9aS5maWxsP2kuZGVjYWw6bnVsbCxvLmRlY2FsPW51bGwsby5zaGFkb3dDb2xvcj1udWxsLGkuc3Ryb2tlRmlyc3QmJihvLnN0cm9rZT1udWxsKTtmb3IodmFyIHM9MDtzPGZzLmxlbmd0aDsrK3Mpcltmc1tzXV09dGhpc1tmc1tzXV07ci5fX2RpcnR5fD0xfWVsc2UgdGhpcy5fZGVjYWxFbCYmKHRoaXMuX2RlY2FsRWw9bnVsbCl9LGUucHJvdG90eXBlLmdldERlY2FsRWxlbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWNhbEVsfSxlLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbihlKXt2YXIgbj1HKGUpO3RoaXMuc2hhcGU9dGhpcy5nZXREZWZhdWx0U2hhcGUoKTt2YXIgaT10aGlzLmdldERlZmF1bHRTdHlsZSgpO2kmJnRoaXMudXNlU3R5bGUoaSk7Zm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPW5bcl0sYT1lW29dOyJzdHlsZSI9PT1vP3RoaXMuc3R5bGU/QSh0aGlzLnN0eWxlLGEpOnRoaXMudXNlU3R5bGUoYSk6InNoYXBlIj09PW8/QSh0aGlzLnNoYXBlLGEpOnQucHJvdG90eXBlLmF0dHJLVi5jYWxsKHRoaXMsbyxhKX10aGlzLnN0eWxlfHx0aGlzLnVzZVN0eWxlKHt9KX0sZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFN0eWxlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybnt9fSxlLnByb3RvdHlwZS5jYW5CZUluc2lkZVRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYXNGaWxsKCl9LGUucHJvdG90eXBlLmdldEluc2lkZVRleHRGaWxsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHlsZS5maWxsO2lmKCJub25lIiE9PXQpe2lmKFgodCkpe3ZhciBlPUxuKHQsMCk7cmV0dXJuIGU+LjU/a2k6ZT4uMj8iI2VlZSI6TGl9aWYodClyZXR1cm4gTGl9cmV0dXJuIGtpfSxlLnByb3RvdHlwZS5nZXRJbnNpZGVUZXh0U3Ryb2tlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3R5bGUuZmlsbDtpZihYKGUpKXt2YXIgbj10aGlzLl9fenI7aWYoISghbnx8IW4uaXNEYXJrTW9kZSgpKT09PUxuKHQsMCk8LjQpcmV0dXJuIGV9fSxlLnByb3RvdHlwZS5idWlsZFBhdGg9ZnVuY3Rpb24odCxlLG4pe30sZS5wcm90b3R5cGUucGF0aFVwZGF0ZWQ9ZnVuY3Rpb24oKXt0aGlzLl9fZGlydHkmPS01fSxlLnByb3RvdHlwZS5nZXRVcGRhdGVkUGF0aFByb3h5PWZ1bmN0aW9uKHQpe3JldHVybiF0aGlzLnBhdGgmJnRoaXMuY3JlYXRlUGF0aFByb3h5KCksdGhpcy5wYXRoLmJlZ2luUGF0aCgpLHRoaXMuYnVpbGRQYXRoKHRoaXMucGF0aCx0aGlzLnNoYXBlLHQpLHRoaXMucGF0aH0sZS5wcm90b3R5cGUuY3JlYXRlUGF0aFByb3h5PWZ1bmN0aW9uKCl7dGhpcy5wYXRoPW5ldyBxYSghMSl9LGUucHJvdG90eXBlLmhhc1N0cm9rZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuc3R5bGUsZT10LnN0cm9rZTtyZXR1cm4hKG51bGw9PWV8fCJub25lIj09PWV8fCEodC5saW5lV2lkdGg+MCkpfSxlLnByb3RvdHlwZS5oYXNGaWxsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHlsZS5maWxsO3JldHVybiBudWxsIT10JiYibm9uZSIhPT10fSxlLnByb3RvdHlwZS5nZXRCb3VuZGluZ1JlY3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yZWN0LGU9dGhpcy5zdHlsZSxuPSF0O2lmKG4pe3ZhciBpPSExO3RoaXMucGF0aHx8KGk9ITAsdGhpcy5jcmVhdGVQYXRoUHJveHkoKSk7dmFyIHI9dGhpcy5wYXRoOyhpfHw0JnRoaXMuX19kaXJ0eSkmJihyLmJlZ2luUGF0aCgpLHRoaXMuYnVpbGRQYXRoKHIsdGhpcy5zaGFwZSwhMSksdGhpcy5wYXRoVXBkYXRlZCgpKSx0PXIuZ2V0Qm91bmRpbmdSZWN0KCl9aWYodGhpcy5fcmVjdD10LHRoaXMuaGFzU3Ryb2tlKCkmJnRoaXMucGF0aCYmdGhpcy5wYXRoLmxlbigpPjApe3ZhciBvPXRoaXMuX3JlY3RTdHJva2V8fCh0aGlzLl9yZWN0U3Ryb2tlPXQuY2xvbmUoKSk7aWYodGhpcy5fX2RpcnR5fHxuKXtvLmNvcHkodCk7dmFyIGE9ZS5zdHJva2VOb1NjYWxlP3RoaXMuZ2V0TGluZVNjYWxlKCk6MSxzPWUubGluZVdpZHRoO2lmKCF0aGlzLmhhc0ZpbGwoKSl7dmFyIGw9dGhpcy5zdHJva2VDb250YWluVGhyZXNob2xkO3M9TWF0aC5tYXgocyxudWxsPT1sPzQ6bCl9YT4xZS0xMCYmKG8ud2lkdGgrPXMvYSxvLmhlaWdodCs9cy9hLG8ueC09cy9hLzIsby55LT1zL2EvMil9cmV0dXJuIG99cmV0dXJuIHR9LGUucHJvdG90eXBlLmNvbnRhaW49ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnRyYW5zZm9ybUNvb3JkVG9Mb2NhbCh0LGUpLGk9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSxyPXRoaXMuc3R5bGU7aWYodD1uWzBdLGU9blsxXSxpLmNvbnRhaW4odCxlKSl7dmFyIG89dGhpcy5wYXRoO2lmKHRoaXMuaGFzU3Ryb2tlKCkpe3ZhciBhPXIubGluZVdpZHRoLHM9ci5zdHJva2VOb1NjYWxlP3RoaXMuZ2V0TGluZVNjYWxlKCk6MTtpZihzPjFlLTEwJiYodGhpcy5oYXNGaWxsKCl8fChhPU1hdGgubWF4KGEsdGhpcy5zdHJva2VDb250YWluVGhyZXNob2xkKSksZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuIGNzKHQsZSwhMCxuLGkpfShvLGEvcyx0LGUpKSlyZXR1cm4hMH1pZih0aGlzLmhhc0ZpbGwoKSlyZXR1cm4gZnVuY3Rpb24odCxlLG4pe3JldHVybiBjcyh0LDAsITEsZSxuKX0obyx0LGUpfXJldHVybiExfSxlLnByb3RvdHlwZS5kaXJ0eVNoYXBlPWZ1bmN0aW9uKCl7dGhpcy5fX2RpcnR5fD00LHRoaXMuX3JlY3QmJih0aGlzLl9yZWN0PW51bGwpLHRoaXMuX2RlY2FsRWwmJnRoaXMuX2RlY2FsRWwuZGlydHlTaGFwZSgpLHRoaXMubWFya1JlZHJhdygpfSxlLnByb3RvdHlwZS5kaXJ0eT1mdW5jdGlvbigpe3RoaXMuZGlydHlTdHlsZSgpLHRoaXMuZGlydHlTaGFwZSgpfSxlLnByb3RvdHlwZS5hbmltYXRlU2hhcGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYW5pbWF0ZSgic2hhcGUiLHQpfSxlLnByb3RvdHlwZS51cGRhdGVEdXJpbmdBbmltYXRpb249ZnVuY3Rpb24odCl7InN0eWxlIj09PXQ/dGhpcy5kaXJ0eVN0eWxlKCk6InNoYXBlIj09PXQ/dGhpcy5kaXJ0eVNoYXBlKCk6dGhpcy5tYXJrUmVkcmF3KCl9LGUucHJvdG90eXBlLmF0dHJLVj1mdW5jdGlvbihlLG4peyJzaGFwZSI9PT1lP3RoaXMuc2V0U2hhcGUobik6dC5wcm90b3R5cGUuYXR0cktWLmNhbGwodGhpcyxlLG4pfSxlLnByb3RvdHlwZS5zZXRTaGFwZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuc2hhcGU7cmV0dXJuIG58fChuPXRoaXMuc2hhcGU9e30pLCJzdHJpbmciPT10eXBlb2YgdD9uW3RdPWU6QShuLHQpLHRoaXMuZGlydHlTaGFwZSgpLHRoaXN9LGUucHJvdG90eXBlLnNoYXBlQ2hhbmdlZD1mdW5jdGlvbigpe3JldHVybiEhKDQmdGhpcy5fX2RpcnR5KX0sZS5wcm90b3R5cGUuY3JlYXRlU3R5bGU9ZnVuY3Rpb24odCl7cmV0dXJuIHl0KHBzLHQpfSxlLnByb3RvdHlwZS5faW5uZXJTYXZlVG9Ob3JtYWw9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuX2lubmVyU2F2ZVRvTm9ybWFsLmNhbGwodGhpcyxlKTt2YXIgbj10aGlzLl9ub3JtYWxTdGF0ZTtlLnNoYXBlJiYhbi5zaGFwZSYmKG4uc2hhcGU9QSh7fSx0aGlzLnNoYXBlKSl9LGUucHJvdG90eXBlLl9hcHBseVN0YXRlT2JqPWZ1bmN0aW9uKGUsbixpLHIsbyxhKXt0LnByb3RvdHlwZS5fYXBwbHlTdGF0ZU9iai5jYWxsKHRoaXMsZSxuLGkscixvLGEpO3ZhciBzLGw9IShuJiZyKTtpZihuJiZuLnNoYXBlP28/cj9zPW4uc2hhcGU6KHM9QSh7fSxpLnNoYXBlKSxBKHMsbi5zaGFwZSkpOihzPUEoe30scj90aGlzLnNoYXBlOmkuc2hhcGUpLEEocyxuLnNoYXBlKSk6bCYmKHM9aS5zaGFwZSkscylpZihvKXt0aGlzLnNoYXBlPUEoe30sdGhpcy5zaGFwZSk7Zm9yKHZhciB1PXt9LGg9RyhzKSxjPTA7YzxoLmxlbmd0aDtjKyspe3ZhciBwPWhbY107Im9iamVjdCI9PXR5cGVvZiBzW3BdP3RoaXMuc2hhcGVbcF09c1twXTp1W3BdPXNbcF19dGhpcy5fdHJhbnNpdGlvblN0YXRlKGUse3NoYXBlOnV9LGEpfWVsc2UgdGhpcy5zaGFwZT1zLHRoaXMuZGlydHlTaGFwZSgpfSxlLnByb3RvdHlwZS5fbWVyZ2VTdGF0ZXM9ZnVuY3Rpb24oZSl7Zm9yKHZhciBuLGk9dC5wcm90b3R5cGUuX21lcmdlU3RhdGVzLmNhbGwodGhpcyxlKSxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBvPWVbcl07by5zaGFwZSYmKG49bnx8e30sdGhpcy5fbWVyZ2VTdHlsZShuLG8uc2hhcGUpKX1yZXR1cm4gbiYmKGkuc2hhcGU9biksaX0sZS5wcm90b3R5cGUuZ2V0QW5pbWF0aW9uU3R5bGVQcm9wcz1mdW5jdGlvbigpe3JldHVybiBkc30sZS5wcm90b3R5cGUuaXNaZXJvQXJlYT1mdW5jdGlvbigpe3JldHVybiExfSxlLmV4dGVuZD1mdW5jdGlvbih0KXt2YXIgaT1mdW5jdGlvbihlKXtmdW5jdGlvbiBpKG4pe3ZhciBpPWUuY2FsbCh0aGlzLG4pfHx0aGlzO3JldHVybiB0LmluaXQmJnQuaW5pdC5jYWxsKGksbiksaX1yZXR1cm4gbihpLGUpLGkucHJvdG90eXBlLmdldERlZmF1bHRTdHlsZT1mdW5jdGlvbigpe3JldHVybiBUKHQuc3R5bGUpfSxpLnByb3RvdHlwZS5nZXREZWZhdWx0U2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gVCh0LnNoYXBlKX0saX0oZSk7Zm9yKHZhciByIGluIHQpImZ1bmN0aW9uIj09dHlwZW9mIHRbcl0mJihpLnByb3RvdHlwZVtyXT10W3JdKTtyZXR1cm4gaX0sZS5pbml0RGVmYXVsdFByb3BzPSgoaT1lLnByb3RvdHlwZSkudHlwZT0icGF0aCIsaS5zdHJva2VDb250YWluVGhyZXNob2xkPTUsaS5zZWdtZW50SWdub3JlVGhyZXNob2xkPTAsaS5zdWJQaXhlbE9wdGltaXplPSExLGkuYXV0b0JhdGNoPSExLHZvaWQoaS5fX2RpcnR5PTcpKSxlfShkYSkseXM9ayh7c3Ryb2tlRmlyc3Q6ITAsZm9udDphLHg6MCx5OjAsdGV4dEFsaWduOiJsZWZ0Iix0ZXh0QmFzZWxpbmU6InRvcCIsbWl0ZXJMaW1pdDoyfSxwcyksdnM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5oYXNTdHJva2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0eWxlLGU9dC5zdHJva2U7cmV0dXJuIG51bGwhPWUmJiJub25lIiE9PWUmJnQubGluZVdpZHRoPjB9LGUucHJvdG90eXBlLmhhc0ZpbGw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0eWxlLmZpbGw7cmV0dXJuIG51bGwhPXQmJiJub25lIiE9PXR9LGUucHJvdG90eXBlLmNyZWF0ZVN0eWxlPWZ1bmN0aW9uKHQpe3JldHVybiB5dCh5cyx0KX0sZS5wcm90b3R5cGUuc2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKHQpe3RoaXMuX3JlY3Q9dH0sZS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHlsZTtpZighdGhpcy5fcmVjdCl7dmFyIGU9dC50ZXh0O251bGwhPWU/ZSs9IiI6ZT0iIjt2YXIgbj1jcihlLHQuZm9udCx0LnRleHRBbGlnbix0LnRleHRCYXNlbGluZSk7aWYobi54Kz10Lnh8fDAsbi55Kz10Lnl8fDAsdGhpcy5oYXNTdHJva2UoKSl7dmFyIGk9dC5saW5lV2lkdGg7bi54LT1pLzIsbi55LT1pLzIsbi53aWR0aCs9aSxuLmhlaWdodCs9aX10aGlzLl9yZWN0PW59cmV0dXJuIHRoaXMuX3JlY3R9LGUuaW5pdERlZmF1bHRQcm9wcz12b2lkKGUucHJvdG90eXBlLmRpcnR5UmVjdFRvbGVyYW5jZT0xMCksZX0oZGEpO3ZzLnByb3RvdHlwZS50eXBlPSJ0c3BhbiI7dmFyIG1zPWsoe3g6MCx5OjB9LHVhKSx4cz17c3R5bGU6ayh7eDohMCx5OiEwLHdpZHRoOiEwLGhlaWdodDohMCxzeDohMCxzeTohMCxzV2lkdGg6ITAsc0hlaWdodDohMH0saGEuc3R5bGUpfTt2YXIgX3M9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5jcmVhdGVTdHlsZT1mdW5jdGlvbih0KXtyZXR1cm4geXQobXMsdCl9LGUucHJvdG90eXBlLl9nZXRTaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3R5bGUsbj1lW3RdO2lmKG51bGwhPW4pcmV0dXJuIG47dmFyIGkscj0oaT1lLmltYWdlKSYmInN0cmluZyIhPXR5cGVvZiBpJiZpLndpZHRoJiZpLmhlaWdodD9lLmltYWdlOnRoaXMuX19pbWFnZTtpZighcilyZXR1cm4gMDt2YXIgbz0id2lkdGgiPT09dD8iaGVpZ2h0Ijoid2lkdGgiLGE9ZVtvXTtyZXR1cm4gbnVsbD09YT9yW3RdOnJbdF0vcltvXSphfSxlLnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRTaXplKCJ3aWR0aCIpfSxlLnByb3RvdHlwZS5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0U2l6ZSgiaGVpZ2h0Iil9LGUucHJvdG90eXBlLmdldEFuaW1hdGlvblN0eWxlUHJvcHM9ZnVuY3Rpb24oKXtyZXR1cm4geHN9LGUucHJvdG90eXBlLmdldEJvdW5kaW5nUmVjdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuc3R5bGU7cmV0dXJuIHRoaXMuX3JlY3R8fCh0aGlzLl9yZWN0PW5ldyBzcih0Lnh8fDAsdC55fHwwLHRoaXMuZ2V0V2lkdGgoKSx0aGlzLmdldEhlaWdodCgpKSksdGhpcy5fcmVjdH0sZX0oZGEpO19zLnByb3RvdHlwZS50eXBlPSJpbWFnZSI7dmFyIGJzPU1hdGgucm91bmQ7ZnVuY3Rpb24gd3ModCxlLG4pe2lmKGUpe3ZhciBpPWUueDEscj1lLngyLG89ZS55MSxhPWUueTI7dC54MT1pLHQueDI9cix0LnkxPW8sdC55Mj1hO3ZhciBzPW4mJm4ubGluZVdpZHRoO3JldHVybiBzPyhicygyKmkpPT09YnMoMipyKSYmKHQueDE9dC54Mj1NcyhpLHMsITApKSxicygyKm8pPT09YnMoMiphKSYmKHQueTE9dC55Mj1NcyhvLHMsITApKSx0KTp0fX1mdW5jdGlvbiBTcyh0LGUsbil7aWYoZSl7dmFyIGk9ZS54LHI9ZS55LG89ZS53aWR0aCxhPWUuaGVpZ2h0O3QueD1pLHQueT1yLHQud2lkdGg9byx0LmhlaWdodD1hO3ZhciBzPW4mJm4ubGluZVdpZHRoO3JldHVybiBzPyh0Lng9TXMoaSxzLCEwKSx0Lnk9TXMocixzLCEwKSx0LndpZHRoPU1hdGgubWF4KE1zKGkrbyxzLCExKS10LngsMD09PW8/MDoxKSx0LmhlaWdodD1NYXRoLm1heChNcyhyK2EscywhMSktdC55LDA9PT1hPzA6MSksdCk6dH19ZnVuY3Rpb24gTXModCxlLG4pe2lmKCFlKXJldHVybiB0O3ZhciBpPWJzKDIqdCk7cmV0dXJuKGkrYnMoZSkpJTI9PTA/aS8yOihpKyhuPzE6LTEpKS8yfXZhciBJcz1mdW5jdGlvbigpe3RoaXMueD0wLHRoaXMueT0wLHRoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wfSxUcz17fSxDcz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgSXN9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuLGkscixvO2lmKHRoaXMuc3ViUGl4ZWxPcHRpbWl6ZSl7dmFyIGE9U3MoVHMsZSx0aGlzLnN0eWxlKTtuPWEueCxpPWEueSxyPWEud2lkdGgsbz1hLmhlaWdodCxhLnI9ZS5yLGU9YX1lbHNlIG49ZS54LGk9ZS55LHI9ZS53aWR0aCxvPWUuaGVpZ2h0O2Uucj9mdW5jdGlvbih0LGUpe3ZhciBuLGkscixvLGEscz1lLngsbD1lLnksdT1lLndpZHRoLGg9ZS5oZWlnaHQsYz1lLnI7dTwwJiYocys9dSx1PS11KSxoPDAmJihsKz1oLGg9LWgpLCJudW1iZXIiPT10eXBlb2YgYz9uPWk9cj1vPWM6YyBpbnN0YW5jZW9mIEFycmF5PzE9PT1jLmxlbmd0aD9uPWk9cj1vPWNbMF06Mj09PWMubGVuZ3RoPyhuPXI9Y1swXSxpPW89Y1sxXSk6Mz09PWMubGVuZ3RoPyhuPWNbMF0saT1vPWNbMV0scj1jWzJdKToobj1jWzBdLGk9Y1sxXSxyPWNbMl0sbz1jWzNdKTpuPWk9cj1vPTAsbitpPnUmJihuKj11LyhhPW4raSksaSo9dS9hKSxyK28+dSYmKHIqPXUvKGE9citvKSxvKj11L2EpLGkrcj5oJiYoaSo9aC8oYT1pK3IpLHIqPWgvYSksbitvPmgmJihuKj1oLyhhPW4rbyksbyo9aC9hKSx0Lm1vdmVUbyhzK24sbCksdC5saW5lVG8ocyt1LWksbCksMCE9PWkmJnQuYXJjKHMrdS1pLGwraSxpLC1NYXRoLlBJLzIsMCksdC5saW5lVG8ocyt1LGwraC1yKSwwIT09ciYmdC5hcmMocyt1LXIsbCtoLXIsciwwLE1hdGguUEkvMiksdC5saW5lVG8ocytvLGwraCksMCE9PW8mJnQuYXJjKHMrbyxsK2gtbyxvLE1hdGguUEkvMixNYXRoLlBJKSx0LmxpbmVUbyhzLGwrbiksMCE9PW4mJnQuYXJjKHMrbixsK24sbixNYXRoLlBJLDEuNSpNYXRoLlBJKX0odCxlKTp0LnJlY3QobixpLHIsbyl9LGUucHJvdG90eXBlLmlzWmVyb0FyZWE9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5zaGFwZS53aWR0aHx8IXRoaXMuc2hhcGUuaGVpZ2h0fSxlfShncyk7Q3MucHJvdG90eXBlLnR5cGU9InJlY3QiO3ZhciBEcz17ZmlsbDoiIzAwMCJ9LEFzPXtzdHlsZTprKHtmaWxsOiEwLHN0cm9rZTohMCxmaWxsT3BhY2l0eTohMCxzdHJva2VPcGFjaXR5OiEwLGxpbmVXaWR0aDohMCxmb250U2l6ZTohMCxsaW5lSGVpZ2h0OiEwLHdpZHRoOiEwLGhlaWdodDohMCx0ZXh0U2hhZG93Q29sb3I6ITAsdGV4dFNoYWRvd0JsdXI6ITAsdGV4dFNoYWRvd09mZnNldFg6ITAsdGV4dFNoYWRvd09mZnNldFk6ITAsYmFja2dyb3VuZENvbG9yOiEwLHBhZGRpbmc6ITAsYm9yZGVyQ29sb3I6ITAsYm9yZGVyV2lkdGg6ITAsYm9yZGVyUmFkaXVzOiEwfSxoYS5zdHlsZSl9LGtzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnR5cGU9InRleHQiLG4uX2NoaWxkcmVuPVtdLG4uX2RlZmF1bHRTdHlsZT1EcyxuLmF0dHIoZSksbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmNoaWxkcmVuUmVmPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVufSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzKSx0aGlzLnN0eWxlQ2hhbmdlZCgpJiZ0aGlzLl91cGRhdGVTdWJUZXh0cygpO2Zvcih2YXIgZT0wO2U8dGhpcy5fY2hpbGRyZW4ubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5fY2hpbGRyZW5bZV07bi56bGV2ZWw9dGhpcy56bGV2ZWwsbi56PXRoaXMueixuLnoyPXRoaXMuejIsbi5jdWxsaW5nPXRoaXMuY3VsbGluZyxuLmN1cnNvcj10aGlzLmN1cnNvcixuLmludmlzaWJsZT10aGlzLmludmlzaWJsZX19LGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaW5uZXJUcmFuc2Zvcm1hYmxlO2U/KGUudXBkYXRlVHJhbnNmb3JtKCksZS50cmFuc2Zvcm0mJih0aGlzLnRyYW5zZm9ybT1lLnRyYW5zZm9ybSkpOnQucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybS5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5nZXRMb2NhbFRyYW5zZm9ybT1mdW5jdGlvbihlKXt2YXIgbj10aGlzLmlubmVyVHJhbnNmb3JtYWJsZTtyZXR1cm4gbj9uLmdldExvY2FsVHJhbnNmb3JtKGUpOnQucHJvdG90eXBlLmdldExvY2FsVHJhbnNmb3JtLmNhbGwodGhpcyxlKX0sZS5wcm90b3R5cGUuZ2V0Q29tcHV0ZWRUcmFuc2Zvcm09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX2hvc3RUYXJnZXQmJih0aGlzLl9faG9zdFRhcmdldC5nZXRDb21wdXRlZFRyYW5zZm9ybSgpLHRoaXMuX19ob3N0VGFyZ2V0LnVwZGF0ZUlubmVyVGV4dCghMCkpLHQucHJvdG90eXBlLmdldENvbXB1dGVkVHJhbnNmb3JtLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLl91cGRhdGVTdWJUZXh0cz1mdW5jdGlvbigpe3ZhciB0O3RoaXMuX2NoaWxkQ3Vyc29yPTAsenModD10aGlzLnN0eWxlKSxFKHQucmljaCx6cyksdGhpcy5zdHlsZS5yaWNoP3RoaXMuX3VwZGF0ZVJpY2hUZXh0cygpOnRoaXMuX3VwZGF0ZVBsYWluVGV4dHMoKSx0aGlzLl9jaGlsZHJlbi5sZW5ndGg9dGhpcy5fY2hpbGRDdXJzb3IsdGhpcy5zdHlsZVVwZGF0ZWQoKX0sZS5wcm90b3R5cGUuYWRkU2VsZlRvWnI9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuYWRkU2VsZlRvWnIuY2FsbCh0aGlzLGUpO2Zvcih2YXIgbj0wO248dGhpcy5fY2hpbGRyZW4ubGVuZ3RoO24rKyl0aGlzLl9jaGlsZHJlbltuXS5fX3pyPWV9LGUucHJvdG90eXBlLnJlbW92ZVNlbGZGcm9tWnI9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUucmVtb3ZlU2VsZkZyb21aci5jYWxsKHRoaXMsZSk7Zm9yKHZhciBuPTA7bjx0aGlzLl9jaGlsZHJlbi5sZW5ndGg7bisrKXRoaXMuX2NoaWxkcmVuW25dLl9fenI9bnVsbH0sZS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKCl7aWYodGhpcy5zdHlsZUNoYW5nZWQoKSYmdGhpcy5fdXBkYXRlU3ViVGV4dHMoKSwhdGhpcy5fcmVjdCl7Zm9yKHZhciB0PW5ldyBzcigwLDAsMCwwKSxlPXRoaXMuX2NoaWxkcmVuLG49W10saT1udWxsLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG89ZVtyXSxhPW8uZ2V0Qm91bmRpbmdSZWN0KCkscz1vLmdldExvY2FsVHJhbnNmb3JtKG4pO3M/KHQuY29weShhKSx0LmFwcGx5VHJhbnNmb3JtKHMpLChpPWl8fHQuY2xvbmUoKSkudW5pb24odCkpOihpPWl8fGEuY2xvbmUoKSkudW5pb24oYSl9dGhpcy5fcmVjdD1pfHx0fXJldHVybiB0aGlzLl9yZWN0fSxlLnByb3RvdHlwZS5zZXREZWZhdWx0VGV4dFN0eWxlPWZ1bmN0aW9uKHQpe3RoaXMuX2RlZmF1bHRTdHlsZT10fHxEc30sZS5wcm90b3R5cGUuc2V0VGV4dENvbnRlbnQ9ZnVuY3Rpb24odCl7MH0sZS5wcm90b3R5cGUuX21lcmdlU3R5bGU9ZnVuY3Rpb24odCxlKXtpZighZSlyZXR1cm4gdDt2YXIgbj1lLnJpY2gsaT10LnJpY2h8fG4mJnt9O3JldHVybiBBKHQsZSksbiYmaT8odGhpcy5fbWVyZ2VSaWNoKGksbiksdC5yaWNoPWkpOmkmJih0LnJpY2g9aSksdH0sZS5wcm90b3R5cGUuX21lcmdlUmljaD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1HKGUpLGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXTt0W3JdPXRbcl18fHt9LEEodFtyXSxlW3JdKX19LGUucHJvdG90eXBlLmdldEFuaW1hdGlvblN0eWxlUHJvcHM9ZnVuY3Rpb24oKXtyZXR1cm4gQXN9LGUucHJvdG90eXBlLl9nZXRPckNyZWF0ZUNoaWxkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2NoaWxkcmVuW3RoaXMuX2NoaWxkQ3Vyc29yXTtyZXR1cm4gZSYmZSBpbnN0YW5jZW9mIHR8fChlPW5ldyB0KSx0aGlzLl9jaGlsZHJlblt0aGlzLl9jaGlsZEN1cnNvcisrXT1lLGUuX196cj10aGlzLl9fenIsZS5wYXJlbnQ9dGhpcyxlfSxlLnByb3RvdHlwZS5fdXBkYXRlUGxhaW5UZXh0cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuc3R5bGUsZT10LmZvbnR8fGEsbj10LnBhZGRpbmcsaT1mdW5jdGlvbih0LGUpe251bGwhPXQmJih0Kz0iIik7dmFyIG4saT1lLm92ZXJmbG93LHI9ZS5wYWRkaW5nLG89ZS5mb250LGE9InRydW5jYXRlIj09PWkscz1mcihvKSxsPXJ0KGUubGluZUhlaWdodCxzKSx1PSEhZS5iYWNrZ3JvdW5kQ29sb3IsaD0idHJ1bmNhdGUiPT09ZS5saW5lT3ZlcmZsb3csYz1lLndpZHRoLHA9KG49bnVsbD09Y3x8ImJyZWFrIiE9PWkmJiJicmVha0FsbCIhPT1pP3Q/dC5zcGxpdCgiXG4iKTpbXTp0P3NhKHQsZS5mb250LGMsImJyZWFrQWxsIj09PWksMCkubGluZXM6W10pLmxlbmd0aCpsLGQ9cnQoZS5oZWlnaHQscCk7aWYocD5kJiZoKXt2YXIgZj1NYXRoLmZsb29yKGQvbCk7bj1uLnNsaWNlKDAsZil9aWYodCYmYSYmbnVsbCE9Yylmb3IodmFyIGc9Sm8oYyxvLGUuZWxsaXBzaXMse21pbkNoYXI6ZS50cnVuY2F0ZU1pbkNoYXIscGxhY2Vob2xkZXI6ZS5wbGFjZWhvbGRlcn0pLHk9MDt5PG4ubGVuZ3RoO3krKyluW3ldPVFvKG5beV0sZyk7dmFyIHY9ZCxtPTA7Zm9yKHk9MDt5PG4ubGVuZ3RoO3krKyltPU1hdGgubWF4KHVyKG5beV0sbyksbSk7bnVsbD09YyYmKGM9bSk7dmFyIHg9bTtyZXR1cm4gciYmKHYrPXJbMF0rclsyXSx4Kz1yWzFdK3JbM10sYys9clsxXStyWzNdKSx1JiYoeD1jKSx7bGluZXM6bixoZWlnaHQ6ZCxvdXRlcldpZHRoOngsb3V0ZXJIZWlnaHQ6dixsaW5lSGVpZ2h0OmwsY2FsY3VsYXRlZExpbmVIZWlnaHQ6cyxjb250ZW50V2lkdGg6bSxjb250ZW50SGVpZ2h0OnAsd2lkdGg6Y319KEdzKHQpLHQpLHI9V3ModCksbz0hIXQuYmFja2dyb3VuZENvbG9yLHM9aS5vdXRlckhlaWdodCxsPWkub3V0ZXJXaWR0aCx1PWkuY29udGVudFdpZHRoLGg9aS5saW5lcyxjPWkubGluZUhlaWdodCxwPXRoaXMuX2RlZmF1bHRTdHlsZSxkPXQueHx8MCxmPXQueXx8MCxnPXQuYWxpZ258fHAuYWxpZ258fCJsZWZ0Iix5PXQudmVydGljYWxBbGlnbnx8cC52ZXJ0aWNhbEFsaWdufHwidG9wIix2PWQsbT1kcihmLGkuY29udGVudEhlaWdodCx5KTtpZihyfHxuKXt2YXIgeD1wcihkLGwsZyksXz1kcihmLHMseSk7ciYmdGhpcy5fcmVuZGVyQmFja2dyb3VuZCh0LHQseCxfLGwscyl9bSs9Yy8yLG4mJih2PUZzKGQsZyxuKSwidG9wIj09PXk/bSs9blswXToiYm90dG9tIj09PXkmJihtLT1uWzJdKSk7Zm9yKHZhciBiPTAsdz0hMSxTPShCcygiZmlsbCJpbiB0P3QuZmlsbDoodz0hMCxwLmZpbGwpKSksTT0oVnMoInN0cm9rZSJpbiB0P3Quc3Ryb2tlOm98fHAuYXV0b1N0cm9rZSYmIXc/bnVsbDooYj0yLHAuc3Ryb2tlKSkpLEk9dC50ZXh0U2hhZG93Qmx1cj4wLFQ9bnVsbCE9dC53aWR0aCYmKCJ0cnVuY2F0ZSI9PT10Lm92ZXJmbG93fHwiYnJlYWsiPT09dC5vdmVyZmxvd3x8ImJyZWFrQWxsIj09PXQub3ZlcmZsb3cpLEM9aS5jYWxjdWxhdGVkTGluZUhlaWdodCxEPTA7RDxoLmxlbmd0aDtEKyspe3ZhciBBPXRoaXMuX2dldE9yQ3JlYXRlQ2hpbGQodnMpLGs9QS5jcmVhdGVTdHlsZSgpO0EudXNlU3R5bGUoayksay50ZXh0PWhbRF0say54PXYsay55PW0sZyYmKGsudGV4dEFsaWduPWcpLGsudGV4dEJhc2VsaW5lPSJtaWRkbGUiLGsub3BhY2l0eT10Lm9wYWNpdHksay5zdHJva2VGaXJzdD0hMCxJJiYoay5zaGFkb3dCbHVyPXQudGV4dFNoYWRvd0JsdXJ8fDAsay5zaGFkb3dDb2xvcj10LnRleHRTaGFkb3dDb2xvcnx8InRyYW5zcGFyZW50IixrLnNoYWRvd09mZnNldFg9dC50ZXh0U2hhZG93T2Zmc2V0WHx8MCxrLnNoYWRvd09mZnNldFk9dC50ZXh0U2hhZG93T2Zmc2V0WXx8MCksay5zdHJva2U9TSxrLmZpbGw9UyxNJiYoay5saW5lV2lkdGg9dC5saW5lV2lkdGh8fGIsay5saW5lRGFzaD10LmxpbmVEYXNoLGsubGluZURhc2hPZmZzZXQ9dC5saW5lRGFzaE9mZnNldHx8MCksay5mb250PWUsTnMoayx0KSxtKz1jLFQmJkEuc2V0Qm91bmRpbmdSZWN0KG5ldyBzcihwcihrLngsdC53aWR0aCxrLnRleHRBbGlnbiksZHIoay55LEMsay50ZXh0QmFzZWxpbmUpLHUsQykpfX0sZS5wcm90b3R5cGUuX3VwZGF0ZVJpY2hUZXh0cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuc3R5bGUsZT1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBpYTtpZihudWxsIT10JiYodCs9IiIpLCF0KXJldHVybiBuO2Zvcih2YXIgaSxyPWUud2lkdGgsbz1lLmhlaWdodCxhPWUub3ZlcmZsb3cscz0iYnJlYWsiIT09YSYmImJyZWFrQWxsIiE9PWF8fG51bGw9PXI/bnVsbDp7d2lkdGg6cixhY2N1bVdpZHRoOjAsYnJlYWtBbGw6ImJyZWFrQWxsIj09PWF9LGw9S28ubGFzdEluZGV4PTA7bnVsbCE9KGk9S28uZXhlYyh0KSk7KXt2YXIgdT1pLmluZGV4O3U+bCYmcmEobix0LnN1YnN0cmluZyhsLHUpLGUscykscmEobixpWzJdLGUscyxpWzFdKSxsPUtvLmxhc3RJbmRleH1sPHQubGVuZ3RoJiZyYShuLHQuc3Vic3RyaW5nKGwsdC5sZW5ndGgpLGUscyk7dmFyIGg9W10sYz0wLHA9MCxkPWUucGFkZGluZyxmPSJ0cnVuY2F0ZSI9PT1hLGc9InRydW5jYXRlIj09PWUubGluZU92ZXJmbG93O2Z1bmN0aW9uIHkodCxlLG4pe3Qud2lkdGg9ZSx0LmxpbmVIZWlnaHQ9bixjKz1uLHA9TWF0aC5tYXgocCxlKX10OmZvcih2YXIgdj0wO3Y8bi5saW5lcy5sZW5ndGg7disrKXtmb3IodmFyIG09bi5saW5lc1t2XSx4PTAsXz0wLGI9MDtiPG0udG9rZW5zLmxlbmd0aDtiKyspe3ZhciB3PShQPW0udG9rZW5zW2JdKS5zdHlsZU5hbWUmJmUucmljaFtQLnN0eWxlTmFtZV18fHt9LFM9UC50ZXh0UGFkZGluZz13LnBhZGRpbmcsTT1TP1NbMV0rU1szXTowLEk9UC5mb250PXcuZm9udHx8ZS5mb250O1AuY29udGVudEhlaWdodD1mcihJKTt2YXIgVD1ydCh3LmhlaWdodCxQLmNvbnRlbnRIZWlnaHQpO2lmKFAuaW5uZXJIZWlnaHQ9VCxTJiYoVCs9U1swXStTWzJdKSxQLmhlaWdodD1ULFAubGluZUhlaWdodD1vdCh3LmxpbmVIZWlnaHQsZS5saW5lSGVpZ2h0LFQpLFAuYWxpZ249dyYmdy5hbGlnbnx8ZS5hbGlnbixQLnZlcnRpY2FsQWxpZ249dyYmdy52ZXJ0aWNhbEFsaWdufHwibWlkZGxlIixnJiZudWxsIT1vJiZjK1AubGluZUhlaWdodD5vKXtiPjA/KG0udG9rZW5zPW0udG9rZW5zLnNsaWNlKDAsYikseShtLF8seCksbi5saW5lcz1uLmxpbmVzLnNsaWNlKDAsdisxKSk6bi5saW5lcz1uLmxpbmVzLnNsaWNlKDAsdik7YnJlYWsgdH12YXIgQz13LndpZHRoLEQ9bnVsbD09Q3x8ImF1dG8iPT09QztpZigic3RyaW5nIj09dHlwZW9mIEMmJiIlIj09PUMuY2hhckF0KEMubGVuZ3RoLTEpKVAucGVyY2VudFdpZHRoPUMsaC5wdXNoKFApLFAuY29udGVudFdpZHRoPXVyKFAudGV4dCxJKTtlbHNle2lmKEQpe3ZhciBBPXcuYmFja2dyb3VuZENvbG9yLGs9QSYmQS5pbWFnZTtrJiZxbyhrPVhvKGspKSYmKFAud2lkdGg9TWF0aC5tYXgoUC53aWR0aCxrLndpZHRoKlQvay5oZWlnaHQpKX12YXIgTD1mJiZudWxsIT1yP3ItXzpudWxsO251bGwhPUwmJkw8UC53aWR0aD8hRHx8TDxNPyhQLnRleHQ9IiIsUC53aWR0aD1QLmNvbnRlbnRXaWR0aD0wKTooUC50ZXh0PSRvKFAudGV4dCxMLU0sSSxlLmVsbGlwc2lzLHttaW5DaGFyOmUudHJ1bmNhdGVNaW5DaGFyfSksUC53aWR0aD1QLmNvbnRlbnRXaWR0aD11cihQLnRleHQsSSkpOlAuY29udGVudFdpZHRoPXVyKFAudGV4dCxJKX1QLndpZHRoKz1NLF8rPVAud2lkdGgsdyYmKHg9TWF0aC5tYXgoeCxQLmxpbmVIZWlnaHQpKX15KG0sXyx4KX1mb3Iobi5vdXRlcldpZHRoPW4ud2lkdGg9cnQocixwKSxuLm91dGVySGVpZ2h0PW4uaGVpZ2h0PXJ0KG8sYyksbi5jb250ZW50SGVpZ2h0PWMsbi5jb250ZW50V2lkdGg9cCxkJiYobi5vdXRlcldpZHRoKz1kWzFdK2RbM10sbi5vdXRlckhlaWdodCs9ZFswXStkWzJdKSx2PTA7djxoLmxlbmd0aDt2Kyspe3ZhciBQLE89KFA9aFt2XSkucGVyY2VudFdpZHRoO1Aud2lkdGg9cGFyc2VJbnQoTywxMCkvMTAwKm4ud2lkdGh9cmV0dXJuIG59KEdzKHQpLHQpLG49ZS53aWR0aCxpPWUub3V0ZXJXaWR0aCxyPWUub3V0ZXJIZWlnaHQsbz10LnBhZGRpbmcsYT10Lnh8fDAscz10Lnl8fDAsbD10aGlzLl9kZWZhdWx0U3R5bGUsdT10LmFsaWdufHxsLmFsaWduLGg9dC52ZXJ0aWNhbEFsaWdufHxsLnZlcnRpY2FsQWxpZ24sYz1wcihhLGksdSkscD1kcihzLHIsaCksZD1jLGY9cDtvJiYoZCs9b1szXSxmKz1vWzBdKTt2YXIgZz1kK247V3ModCkmJnRoaXMuX3JlbmRlckJhY2tncm91bmQodCx0LGMscCxpLHIpO2Zvcih2YXIgeT0hIXQuYmFja2dyb3VuZENvbG9yLHY9MDt2PGUubGluZXMubGVuZ3RoO3YrKyl7Zm9yKHZhciBtPWUubGluZXNbdl0seD1tLnRva2VucyxfPXgubGVuZ3RoLGI9bS5saW5lSGVpZ2h0LHc9bS53aWR0aCxTPTAsTT1kLEk9ZyxUPV8tMSxDPXZvaWQgMDtTPF8mJighKEM9eFtTXSkuYWxpZ258fCJsZWZ0Ij09PUMuYWxpZ24pOyl0aGlzLl9wbGFjZVRva2VuKEMsdCxiLGYsTSwibGVmdCIseSksdy09Qy53aWR0aCxNKz1DLndpZHRoLFMrKztmb3IoO1Q+PTAmJiJyaWdodCI9PT0oQz14W1RdKS5hbGlnbjspdGhpcy5fcGxhY2VUb2tlbihDLHQsYixmLEksInJpZ2h0Iix5KSx3LT1DLndpZHRoLEktPUMud2lkdGgsVC0tO2ZvcihNKz0obi0oTS1kKS0oZy1JKS13KS8yO1M8PVQ7KUM9eFtTXSx0aGlzLl9wbGFjZVRva2VuKEMsdCxiLGYsTStDLndpZHRoLzIsImNlbnRlciIseSksTSs9Qy53aWR0aCxTKys7Zis9Yn19LGUucHJvdG90eXBlLl9wbGFjZVRva2VuPWZ1bmN0aW9uKHQsZSxuLGkscixvLHMpe3ZhciBsPWUucmljaFt0LnN0eWxlTmFtZV18fHt9O2wudGV4dD10LnRleHQ7dmFyIHU9dC52ZXJ0aWNhbEFsaWduLGg9aStuLzI7InRvcCI9PT11P2g9aSt0LmhlaWdodC8yOiJib3R0b20iPT09dSYmKGg9aStuLXQuaGVpZ2h0LzIpLCF0LmlzTGluZUhvbGRlciYmV3MobCkmJnRoaXMuX3JlbmRlckJhY2tncm91bmQobCxlLCJyaWdodCI9PT1vP3ItdC53aWR0aDoiY2VudGVyIj09PW8/ci10LndpZHRoLzI6cixoLXQuaGVpZ2h0LzIsdC53aWR0aCx0LmhlaWdodCk7dmFyIGM9ISFsLmJhY2tncm91bmRDb2xvcixwPXQudGV4dFBhZGRpbmc7cCYmKHI9RnMocixvLHApLGgtPXQuaGVpZ2h0LzItcFswXS10LmlubmVySGVpZ2h0LzIpO3ZhciBkPXRoaXMuX2dldE9yQ3JlYXRlQ2hpbGQodnMpLGY9ZC5jcmVhdGVTdHlsZSgpO2QudXNlU3R5bGUoZik7dmFyIGc9dGhpcy5fZGVmYXVsdFN0eWxlLHk9ITEsdj0wLG09QnMoImZpbGwiaW4gbD9sLmZpbGw6ImZpbGwiaW4gZT9lLmZpbGw6KHk9ITAsZy5maWxsKSkseD1Wcygic3Ryb2tlImluIGw/bC5zdHJva2U6InN0cm9rZSJpbiBlP2Uuc3Ryb2tlOmN8fHN8fGcuYXV0b1N0cm9rZSYmIXk/bnVsbDoodj0yLGcuc3Ryb2tlKSksXz1sLnRleHRTaGFkb3dCbHVyPjB8fGUudGV4dFNoYWRvd0JsdXI+MDtmLnRleHQ9dC50ZXh0LGYueD1yLGYueT1oLF8mJihmLnNoYWRvd0JsdXI9bC50ZXh0U2hhZG93Qmx1cnx8ZS50ZXh0U2hhZG93Qmx1cnx8MCxmLnNoYWRvd0NvbG9yPWwudGV4dFNoYWRvd0NvbG9yfHxlLnRleHRTaGFkb3dDb2xvcnx8InRyYW5zcGFyZW50IixmLnNoYWRvd09mZnNldFg9bC50ZXh0U2hhZG93T2Zmc2V0WHx8ZS50ZXh0U2hhZG93T2Zmc2V0WHx8MCxmLnNoYWRvd09mZnNldFk9bC50ZXh0U2hhZG93T2Zmc2V0WXx8ZS50ZXh0U2hhZG93T2Zmc2V0WXx8MCksZi50ZXh0QWxpZ249byxmLnRleHRCYXNlbGluZT0ibWlkZGxlIixmLmZvbnQ9dC5mb250fHxhLGYub3BhY2l0eT1vdChsLm9wYWNpdHksZS5vcGFjaXR5LDEpLE5zKGYsbCkseCYmKGYubGluZVdpZHRoPW90KGwubGluZVdpZHRoLGUubGluZVdpZHRoLHYpLGYubGluZURhc2g9cnQobC5saW5lRGFzaCxlLmxpbmVEYXNoKSxmLmxpbmVEYXNoT2Zmc2V0PWUubGluZURhc2hPZmZzZXR8fDAsZi5zdHJva2U9eCksbSYmKGYuZmlsbD1tKTt2YXIgYj10LmNvbnRlbnRXaWR0aCx3PXQuY29udGVudEhlaWdodDtkLnNldEJvdW5kaW5nUmVjdChuZXcgc3IocHIoZi54LGIsZi50ZXh0QWxpZ24pLGRyKGYueSx3LGYudGV4dEJhc2VsaW5lKSxiLHcpKX0sZS5wcm90b3R5cGUuX3JlbmRlckJhY2tncm91bmQ9ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhLHMsbCx1PXQuYmFja2dyb3VuZENvbG9yLGg9dC5ib3JkZXJXaWR0aCxjPXQuYm9yZGVyQ29sb3IscD11JiZ1LmltYWdlLGQ9dSYmIXAsZj10LmJvcmRlclJhZGl1cyxnPXRoaXM7aWYoZHx8dC5saW5lSGVpZ2h0fHxoJiZjKXsoYT10aGlzLl9nZXRPckNyZWF0ZUNoaWxkKENzKSkudXNlU3R5bGUoYS5jcmVhdGVTdHlsZSgpKSxhLnN0eWxlLmZpbGw9bnVsbDt2YXIgeT1hLnNoYXBlO3kueD1uLHkueT1pLHkud2lkdGg9cix5LmhlaWdodD1vLHkucj1mLGEuZGlydHlTaGFwZSgpfWlmKGQpKGw9YS5zdHlsZSkuZmlsbD11fHxudWxsLGwuZmlsbE9wYWNpdHk9cnQodC5maWxsT3BhY2l0eSwxKTtlbHNlIGlmKHApeyhzPXRoaXMuX2dldE9yQ3JlYXRlQ2hpbGQoX3MpKS5vbmxvYWQ9ZnVuY3Rpb24oKXtnLmRpcnR5U3R5bGUoKX07dmFyIHY9cy5zdHlsZTt2LmltYWdlPXUuaW1hZ2Usdi54PW4sdi55PWksdi53aWR0aD1yLHYuaGVpZ2h0PW99aCYmYyYmKChsPWEuc3R5bGUpLmxpbmVXaWR0aD1oLGwuc3Ryb2tlPWMsbC5zdHJva2VPcGFjaXR5PXJ0KHQuc3Ryb2tlT3BhY2l0eSwxKSxsLmxpbmVEYXNoPXQuYm9yZGVyRGFzaCxsLmxpbmVEYXNoT2Zmc2V0PXQuYm9yZGVyRGFzaE9mZnNldHx8MCxhLnN0cm9rZUNvbnRhaW5UaHJlc2hvbGQ9MCxhLmhhc0ZpbGwoKSYmYS5oYXNTdHJva2UoKSYmKGwuc3Ryb2tlRmlyc3Q9ITAsbC5saW5lV2lkdGgqPTIpKTt2YXIgbT0oYXx8cykuc3R5bGU7bS5zaGFkb3dCbHVyPXQuc2hhZG93Qmx1cnx8MCxtLnNoYWRvd0NvbG9yPXQuc2hhZG93Q29sb3J8fCJ0cmFuc3BhcmVudCIsbS5zaGFkb3dPZmZzZXRYPXQuc2hhZG93T2Zmc2V0WHx8MCxtLnNoYWRvd09mZnNldFk9dC5zaGFkb3dPZmZzZXRZfHwwLG0ub3BhY2l0eT1vdCh0Lm9wYWNpdHksZS5vcGFjaXR5LDEpfSxlLm1ha2VGb250PWZ1bmN0aW9uKHQpe3ZhciBlPSIiO3JldHVybiBFcyh0KSYmKGU9W3QuZm9udFN0eWxlLHQuZm9udFdlaWdodCxScyh0LmZvbnRTaXplKSx0LmZvbnRGYW1pbHl8fCJzYW5zLXNlcmlmIl0uam9pbigiICIpKSxlJiZ1dChlKXx8dC50ZXh0Rm9udHx8dC5mb250fSxlfShkYSksTHM9e2xlZnQ6ITAscmlnaHQ6MSxjZW50ZXI6MX0sUHM9e3RvcDoxLGJvdHRvbToxLG1pZGRsZToxfSxPcz1bImZvbnRTdHlsZSIsImZvbnRXZWlnaHQiLCJmb250U2l6ZSIsImZvbnRGYW1pbHkiXTtmdW5jdGlvbiBScyh0KXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHR8fC0xPT09dC5pbmRleE9mKCJweCIpJiYtMT09PXQuaW5kZXhPZigicmVtIikmJi0xPT09dC5pbmRleE9mKCJlbSIpP2lzTmFOKCt0KT8iMTJweCI6dCsicHgiOnR9ZnVuY3Rpb24gTnModCxlKXtmb3IodmFyIG49MDtuPE9zLmxlbmd0aDtuKyspe3ZhciBpPU9zW25dLHI9ZVtpXTtudWxsIT1yJiYodFtpXT1yKX19ZnVuY3Rpb24gRXModCl7cmV0dXJuIG51bGwhPXQuZm9udFNpemV8fHQuZm9udEZhbWlseXx8dC5mb250V2VpZ2h0fWZ1bmN0aW9uIHpzKHQpe2lmKHQpe3QuZm9udD1rcy5tYWtlRm9udCh0KTt2YXIgZT10LmFsaWduOyJtaWRkbGUiPT09ZSYmKGU9ImNlbnRlciIpLHQuYWxpZ249bnVsbD09ZXx8THNbZV0/ZToibGVmdCI7dmFyIG49dC52ZXJ0aWNhbEFsaWduOyJjZW50ZXIiPT09biYmKG49Im1pZGRsZSIpLHQudmVydGljYWxBbGlnbj1udWxsPT1ufHxQc1tuXT9uOiJ0b3AiLHQucGFkZGluZyYmKHQucGFkZGluZz1zdCh0LnBhZGRpbmcpKX19ZnVuY3Rpb24gVnModCxlKXtyZXR1cm4gbnVsbD09dHx8ZTw9MHx8InRyYW5zcGFyZW50Ij09PXR8fCJub25lIj09PXQ/bnVsbDp0LmltYWdlfHx0LmNvbG9yU3RvcHM/IiMwMDAiOnR9ZnVuY3Rpb24gQnModCl7cmV0dXJuIG51bGw9PXR8fCJub25lIj09PXQ/bnVsbDp0LmltYWdlfHx0LmNvbG9yU3RvcHM/IiMwMDAiOnR9ZnVuY3Rpb24gRnModCxlLG4pe3JldHVybiJyaWdodCI9PT1lP3QtblsxXToiY2VudGVyIj09PWU/dCtuWzNdLzItblsxXS8yOnQrblszXX1mdW5jdGlvbiBHcyh0KXt2YXIgZT10LnRleHQ7cmV0dXJuIG51bGwhPWUmJihlKz0iIiksZX1mdW5jdGlvbiBXcyh0KXtyZXR1cm4hISh0LmJhY2tncm91bmRDb2xvcnx8dC5saW5lSGVpZ2h0fHx0LmJvcmRlcldpZHRoJiZ0LmJvcmRlckNvbG9yKX12YXIgSHM9U28oKSxZcz1mdW5jdGlvbih0LGUsbixpKXtpZihpKXt2YXIgcj1IcyhpKTtyLmRhdGFJbmRleD1uLHIuZGF0YVR5cGU9ZSxyLnNlcmllc0luZGV4PXQsImdyb3VwIj09PWkudHlwZSYmaS50cmF2ZXJzZSgoZnVuY3Rpb24oaSl7dmFyIHI9SHMoaSk7ci5zZXJpZXNJbmRleD10LHIuZGF0YUluZGV4PW4sci5kYXRhVHlwZT1lfSkpfX0sVXM9MSxYcz17fSxacz1TbygpLGpzPVNvKCkscXM9WyJlbXBoYXNpcyIsImJsdXIiLCJzZWxlY3QiXSxLcz1bIm5vcm1hbCIsImVtcGhhc2lzIiwiYmx1ciIsInNlbGVjdCJdLCRzPTEwLEpzPSJoaWdobGlnaHQiLFFzPSJkb3ducGxheSIsdGw9InNlbGVjdCIsZWw9InVuc2VsZWN0IixubD0idG9nZ2xlU2VsZWN0IjtmdW5jdGlvbiBpbCh0KXtyZXR1cm4gbnVsbCE9dCYmIm5vbmUiIT09dH12YXIgcmw9bmV3IGxuKDEwMCk7ZnVuY3Rpb24gb2wodCl7aWYoWCh0KSl7dmFyIGU9cmwuZ2V0KHQpO3JldHVybiBlfHwoZT1Tbih0LC0uMSkscmwucHV0KHQsZSkpLGV9aWYoUSh0KSl7dmFyIG49QSh7fSx0KTtyZXR1cm4gbi5jb2xvclN0b3BzPXoodC5jb2xvclN0b3BzLChmdW5jdGlvbih0KXtyZXR1cm57b2Zmc2V0OnQub2Zmc2V0LGNvbG9yOlNuKHQuY29sb3IsLS4xKX19KSksbn1yZXR1cm4gdH1mdW5jdGlvbiBhbCh0LGUsbil7dC5vbkhvdmVyU3RhdGVDaGFuZ2UmJih0LmhvdmVyU3RhdGV8fDApIT09biYmdC5vbkhvdmVyU3RhdGVDaGFuZ2UoZSksdC5ob3ZlclN0YXRlPW59ZnVuY3Rpb24gc2wodCl7YWwodCwiZW1waGFzaXMiLDIpfWZ1bmN0aW9uIGxsKHQpezI9PT10LmhvdmVyU3RhdGUmJmFsKHQsIm5vcm1hbCIsMCl9ZnVuY3Rpb24gdWwodCl7YWwodCwiYmx1ciIsMSl9ZnVuY3Rpb24gaGwodCl7MT09PXQuaG92ZXJTdGF0ZSYmYWwodCwibm9ybWFsIiwwKX1mdW5jdGlvbiBjbCh0KXt0LnNlbGVjdGVkPSEwfWZ1bmN0aW9uIHBsKHQpe3Quc2VsZWN0ZWQ9ITF9ZnVuY3Rpb24gZGwodCxlLG4pe2UodCxuKX1mdW5jdGlvbiBmbCh0LGUsbil7ZGwodCxlLG4pLHQuaXNHcm91cCYmdC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7ZGwodCxlLG4pfSkpfWZ1bmN0aW9uIGdsKHQsZSl7c3dpdGNoKGUpe2Nhc2UiZW1waGFzaXMiOnQuaG92ZXJTdGF0ZT0yO2JyZWFrO2Nhc2Uibm9ybWFsIjp0LmhvdmVyU3RhdGU9MDticmVhaztjYXNlImJsdXIiOnQuaG92ZXJTdGF0ZT0xO2JyZWFrO2Nhc2Uic2VsZWN0Ijp0LnNlbGVjdGVkPSEwfX1mdW5jdGlvbiB5bCh0LGUpe3ZhciBuPXRoaXMuc3RhdGVzW3RdO2lmKHRoaXMuc3R5bGUpe2lmKCJlbXBoYXNpcyI9PT10KXJldHVybiBmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uJiZQKG4sInNlbGVjdCIpPj0wLG89ITE7aWYodCBpbnN0YW5jZW9mIGdzKXt2YXIgYT1acyh0KSxzPXImJmEuc2VsZWN0RmlsbHx8YS5ub3JtYWxGaWxsLGw9ciYmYS5zZWxlY3RTdHJva2V8fGEubm9ybWFsU3Ryb2tlO2lmKGlsKHMpfHxpbChsKSl7dmFyIHU9KGk9aXx8e30pLnN0eWxlfHx7fTsiaW5oZXJpdCI9PT11LmZpbGw/KG89ITAsaT1BKHt9LGkpLCh1PUEoe30sdSkpLmZpbGw9cyk6IWlsKHUuZmlsbCkmJmlsKHMpPyhvPSEwLGk9QSh7fSxpKSwodT1BKHt9LHUpKS5maWxsPW9sKHMpKTohaWwodS5zdHJva2UpJiZpbChsKSYmKG98fChpPUEoe30saSksdT1BKHt9LHUpKSx1LnN0cm9rZT1vbChsKSksaS5zdHlsZT11fX1pZihpJiZudWxsPT1pLnoyKXtvfHwoaT1BKHt9LGkpKTt2YXIgaD10LnoyRW1waGFzaXNMaWZ0O2kuejI9dC56MisobnVsbCE9aD9oOiRzKX1yZXR1cm4gaX0odGhpcywwLGUsbik7aWYoImJsdXIiPT09dClyZXR1cm4gZnVuY3Rpb24odCxlLG4pe3ZhciBpPVAodC5jdXJyZW50U3RhdGVzLGUpPj0wLHI9dC5zdHlsZS5vcGFjaXR5LG89aT9udWxsOmZ1bmN0aW9uKHQsZSxuLGkpe2Zvcih2YXIgcj10LnN0eWxlLG89e30sYT0wO2E8ZS5sZW5ndGg7YSsrKXt2YXIgcz1lW2FdLGw9cltzXTtvW3NdPW51bGw9PWw/aSYmaVtzXTpsfWZvcihhPTA7YTx0LmFuaW1hdG9ycy5sZW5ndGg7YSsrKXt2YXIgdT10LmFuaW1hdG9yc1thXTt1Ll9fZnJvbVN0YXRlVHJhbnNpdGlvbiYmdS5fX2Zyb21TdGF0ZVRyYW5zaXRpb24uaW5kZXhPZihuKTwwJiYic3R5bGUiPT09dS50YXJnZXROYW1lJiZ1LnNhdmVUbyhvLGUpfXJldHVybiBvfSh0LFsib3BhY2l0eSJdLGUse29wYWNpdHk6MX0pLGE9KG49bnx8e30pLnN0eWxlfHx7fTtyZXR1cm4gbnVsbD09YS5vcGFjaXR5JiYobj1BKHt9LG4pLGE9QSh7b3BhY2l0eTppP3I6LjEqby5vcGFjaXR5fSxhKSxuLnN0eWxlPWEpLG59KHRoaXMsdCxuKTtpZigic2VsZWN0Ij09PXQpcmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtpZihuJiZudWxsPT1uLnoyKXtuPUEoe30sbik7dmFyIGk9dC56MlNlbGVjdExpZnQ7bi56Mj10LnoyKyhudWxsIT1pP2k6OSl9cmV0dXJuIG59KHRoaXMsMCxuKX1yZXR1cm4gbn1mdW5jdGlvbiB2bCh0KXt0LnN0YXRlUHJveHk9eWw7dmFyIGU9dC5nZXRUZXh0Q29udGVudCgpLG49dC5nZXRUZXh0R3VpZGVMaW5lKCk7ZSYmKGUuc3RhdGVQcm94eT15bCksbiYmKG4uc3RhdGVQcm94eT15bCl9ZnVuY3Rpb24gbWwodCxlKXshVGwodCxlKSYmIXQuX19oaWdoQnlPdXRlciYmZmwodCxzbCl9ZnVuY3Rpb24geGwodCxlKXshVGwodCxlKSYmIXQuX19oaWdoQnlPdXRlciYmZmwodCxsbCl9ZnVuY3Rpb24gX2wodCxlKXt0Ll9faGlnaEJ5T3V0ZXJ8PTE8PChlfHwwKSxmbCh0LHNsKX1mdW5jdGlvbiBibCh0LGUpeyEodC5fX2hpZ2hCeU91dGVyJj1+KDE8PChlfHwwKSkpJiZmbCh0LGxsKX1mdW5jdGlvbiB3bCh0KXtmbCh0LHVsKX1mdW5jdGlvbiBTbCh0KXtmbCh0LGhsKX1mdW5jdGlvbiBNbCh0KXtmbCh0LGNsKX1mdW5jdGlvbiBJbCh0KXtmbCh0LHBsKX1mdW5jdGlvbiBUbCh0LGUpe3JldHVybiB0Ll9faGlnaERvd25TaWxlbnRPblRvdWNoJiZlLnpyQnlUb3VjaH1mdW5jdGlvbiBDbCh0KXt2YXIgZT10LmdldE1vZGVsKCksbj1bXSxpPVtdO2UuZWFjaENvbXBvbmVudCgoZnVuY3Rpb24oZSxyKXt2YXIgbz1qcyhyKSxhPSJzZXJpZXMiPT09ZSxzPWE/dC5nZXRWaWV3T2ZTZXJpZXNNb2RlbChyKTp0LmdldFZpZXdPZkNvbXBvbmVudE1vZGVsKHIpOyFhJiZpLnB1c2gocyksby5pc0JsdXJlZCYmKHMuZ3JvdXAudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe2hsKHQpfSkpLGEmJm4ucHVzaChyKSksby5pc0JsdXJlZD0hMX0pKSxFKGksKGZ1bmN0aW9uKHQpe3QmJnQudG9nZ2xlQmx1clNlcmllcyYmdC50b2dnbGVCbHVyU2VyaWVzKG4sITEsZSl9KSl9ZnVuY3Rpb24gRGwodCxlLG4saSl7dmFyIHI9aS5nZXRNb2RlbCgpO2Z1bmN0aW9uIG8odCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9dC5nZXRJdGVtR3JhcGhpY0VsKGVbbl0pO2kmJlNsKGkpfX1pZihuPW58fCJjb29yZGluYXRlU3lzdGVtIixudWxsIT10JiZlJiYibm9uZSIhPT1lKXt2YXIgYT1yLmdldFNlcmllc0J5SW5kZXgodCkscz1hLmNvb3JkaW5hdGVTeXN0ZW07cyYmcy5tYXN0ZXImJihzPXMubWFzdGVyKTt2YXIgbD1bXTtyLmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe3ZhciByPWE9PT10LHU9dC5jb29yZGluYXRlU3lzdGVtO2lmKHUmJnUubWFzdGVyJiYodT11Lm1hc3RlciksISgic2VyaWVzIj09PW4mJiFyfHwiY29vcmRpbmF0ZVN5c3RlbSI9PT1uJiYhKHUmJnM/dT09PXM6cil8fCJzZXJpZXMiPT09ZSYmcikpe2lmKGkuZ2V0Vmlld09mU2VyaWVzTW9kZWwodCkuZ3JvdXAudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe3VsKHQpfSkpLE4oZSkpbyh0LmdldERhdGEoKSxlKTtlbHNlIGlmKHEoZSkpZm9yKHZhciBoPUcoZSksYz0wO2M8aC5sZW5ndGg7YysrKW8odC5nZXREYXRhKGhbY10pLGVbaFtjXV0pO2wucHVzaCh0KSxqcyh0KS5pc0JsdXJlZD0hMH19KSksci5lYWNoQ29tcG9uZW50KChmdW5jdGlvbih0LGUpe2lmKCJzZXJpZXMiIT09dCl7dmFyIG49aS5nZXRWaWV3T2ZDb21wb25lbnRNb2RlbChlKTtuJiZuLnRvZ2dsZUJsdXJTZXJpZXMmJm4udG9nZ2xlQmx1clNlcmllcyhsLCEwLHIpfX0pKX19ZnVuY3Rpb24gQWwodCxlLG4pe2lmKG51bGwhPXQmJm51bGwhPWUpe3ZhciBpPW4uZ2V0TW9kZWwoKS5nZXRDb21wb25lbnQodCxlKTtpZihpKXtqcyhpKS5pc0JsdXJlZD0hMDt2YXIgcj1uLmdldFZpZXdPZkNvbXBvbmVudE1vZGVsKGkpO3ImJnIuZm9jdXNCbHVyRW5hYmxlZCYmci5ncm91cC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7dWwodCl9KSl9fX1mdW5jdGlvbiBrbCh0LGUsbixpKXt2YXIgcj17Zm9jdXNTZWxmOiExLGRpc3BhdGNoZXJzOm51bGx9O2lmKG51bGw9PXR8fCJzZXJpZXMiPT09dHx8bnVsbD09ZXx8bnVsbD09bilyZXR1cm4gcjt2YXIgbz1pLmdldE1vZGVsKCkuZ2V0Q29tcG9uZW50KHQsZSk7aWYoIW8pcmV0dXJuIHI7dmFyIGE9aS5nZXRWaWV3T2ZDb21wb25lbnRNb2RlbChvKTtpZighYXx8IWEuZmluZEhpZ2hEb3duRGlzcGF0Y2hlcnMpcmV0dXJuIHI7Zm9yKHZhciBzLGw9YS5maW5kSGlnaERvd25EaXNwYXRjaGVycyhuKSx1PTA7dTxsLmxlbmd0aDt1KyspaWYoInNlbGYiPT09SHMobFt1XSkuZm9jdXMpe3M9ITA7YnJlYWt9cmV0dXJue2ZvY3VzU2VsZjpzLGRpc3BhdGNoZXJzOmx9fWZ1bmN0aW9uIExsKHQpe0UodC5nZXRBbGxEYXRhKCksKGZ1bmN0aW9uKGUpe3ZhciBuPWUuZGF0YSxpPWUudHlwZTtuLmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbihlLG4pe3QuaXNTZWxlY3RlZChuLGkpP01sKGUpOklsKGUpfSkpfSkpfWZ1bmN0aW9uIFBsKHQpe3ZhciBlPVtdO3JldHVybiB0LmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe0UodC5nZXRBbGxEYXRhKCksKGZ1bmN0aW9uKG4pe24uZGF0YTt2YXIgaT1uLnR5cGUscj10LmdldFNlbGVjdGVkRGF0YUluZGljZXMoKTtpZihyLmxlbmd0aD4wKXt2YXIgbz17ZGF0YUluZGV4OnIsc2VyaWVzSW5kZXg6dC5zZXJpZXNJbmRleH07bnVsbCE9aSYmKG8uZGF0YVR5cGU9aSksZS5wdXNoKG8pfX0pKX0pKSxlfWZ1bmN0aW9uIE9sKHQsZSxuKXtCbCh0LCEwKSxmbCh0LHZsKSxObCh0LGUsbil9ZnVuY3Rpb24gUmwodCxlLG4saSl7aT9mdW5jdGlvbih0KXtCbCh0LCExKX0odCk6T2wodCxlLG4pfWZ1bmN0aW9uIE5sKHQsZSxuKXt2YXIgaT1Icyh0KTtudWxsIT1lPyhpLmZvY3VzPWUsaS5ibHVyU2NvcGU9bik6aS5mb2N1cyYmKGkuZm9jdXM9bnVsbCl9dmFyIEVsPVsiZW1waGFzaXMiLCJibHVyIiwic2VsZWN0Il0semw9e2l0ZW1TdHlsZToiZ2V0SXRlbVN0eWxlIixsaW5lU3R5bGU6ImdldExpbmVTdHlsZSIsYXJlYVN0eWxlOiJnZXRBcmVhU3R5bGUifTtmdW5jdGlvbiBWbCh0LGUsbixpKXtuPW58fCJpdGVtU3R5bGUiO2Zvcih2YXIgcj0wO3I8RWwubGVuZ3RoO3IrKyl7dmFyIG89RWxbcl0sYT1lLmdldE1vZGVsKFtvLG5dKTt0LmVuc3VyZVN0YXRlKG8pLnN0eWxlPWk/aShhKTphW3psW25dXSgpfX1mdW5jdGlvbiBCbCh0LGUpe3ZhciBuPSExPT09ZSxpPXQ7dC5oaWdoRG93blNpbGVudE9uVG91Y2gmJihpLl9faGlnaERvd25TaWxlbnRPblRvdWNoPXQuaGlnaERvd25TaWxlbnRPblRvdWNoKSxuJiYhaS5fX2hpZ2hEb3duRGlzcGF0Y2hlcnx8KGkuX19oaWdoQnlPdXRlcj1pLl9faGlnaEJ5T3V0ZXJ8fDAsaS5fX2hpZ2hEb3duRGlzcGF0Y2hlcj0hbil9ZnVuY3Rpb24gRmwodCl7cmV0dXJuISghdHx8IXQuX19oaWdoRG93bkRpc3BhdGNoZXIpfWZ1bmN0aW9uIEdsKHQpe3ZhciBlPXQudHlwZTtyZXR1cm4gZT09PXRsfHxlPT09ZWx8fGU9PT1ubH1mdW5jdGlvbiBXbCh0KXt2YXIgZT10LnR5cGU7cmV0dXJuIGU9PT1Kc3x8ZT09PVFzfXZhciBIbD1xYS5DTUQsWWw9W1tdLFtdLFtdXSxVbD1NYXRoLnNxcnQsWGw9TWF0aC5hdGFuMjtmdW5jdGlvbiBabCh0LGUpe2lmKGUpe3ZhciBuLGkscixvLGEscyxsPXQuZGF0YSx1PXQubGVuKCksaD1IbC5NLGM9SGwuQyxwPUhsLkwsZD1IbC5SLGY9SGwuQSxnPUhsLlE7Zm9yKHI9MCxvPTA7cjx1Oyl7c3dpdGNoKG49bFtyKytdLG89cixpPTAsbil7Y2FzZSBoOmNhc2UgcDppPTE7YnJlYWs7Y2FzZSBjOmk9MzticmVhaztjYXNlIGc6aT0yO2JyZWFrO2Nhc2UgZjp2YXIgeT1lWzRdLHY9ZVs1XSxtPVVsKGVbMF0qZVswXStlWzFdKmVbMV0pLHg9VWwoZVsyXSplWzJdK2VbM10qZVszXSksXz1YbCgtZVsxXS94LGVbMF0vbSk7bFtyXSo9bSxsW3IrK10rPXksbFtyXSo9eCxsW3IrK10rPXYsbFtyKytdKj1tLGxbcisrXSo9eCxsW3IrK10rPV8sbFtyKytdKz1fLG89cis9MjticmVhaztjYXNlIGQ6c1swXT1sW3IrK10sc1sxXT1sW3IrK10sRnQocyxzLGUpLGxbbysrXT1zWzBdLGxbbysrXT1zWzFdLHNbMF0rPWxbcisrXSxzWzFdKz1sW3IrK10sRnQocyxzLGUpLGxbbysrXT1zWzBdLGxbbysrXT1zWzFdfWZvcihhPTA7YTxpO2ErKyl7dmFyIGI9WWxbYV07YlswXT1sW3IrK10sYlsxXT1sW3IrK10sRnQoYixiLGUpLGxbbysrXT1iWzBdLGxbbysrXT1iWzFdfX10LmluY3JlYXNlVmVyc2lvbigpfX12YXIgamw9TWF0aC5zcXJ0LHFsPU1hdGguc2luLEtsPU1hdGguY29zLCRsPU1hdGguUEk7ZnVuY3Rpb24gSmwodCl7cmV0dXJuIE1hdGguc3FydCh0WzBdKnRbMF0rdFsxXSp0WzFdKX1mdW5jdGlvbiBRbCh0LGUpe3JldHVybih0WzBdKmVbMF0rdFsxXSplWzFdKS8oSmwodCkqSmwoZSkpfWZ1bmN0aW9uIHR1KHQsZSl7cmV0dXJuKHRbMF0qZVsxXTx0WzFdKmVbMF0/LTE6MSkqTWF0aC5hY29zKFFsKHQsZSkpfWZ1bmN0aW9uIGV1KHQsZSxuLGkscixvLGEscyxsLHUsaCl7dmFyIGM9bCooJGwvMTgwKSxwPUtsKGMpKih0LW4pLzIrcWwoYykqKGUtaSkvMixkPS0xKnFsKGMpKih0LW4pLzIrS2woYykqKGUtaSkvMixmPXAqcC8oYSphKStkKmQvKHMqcyk7Zj4xJiYoYSo9amwoZikscyo9amwoZikpO3ZhciBnPShyPT09bz8tMToxKSpqbCgoYSphKihzKnMpLWEqYSooZCpkKS1zKnMqKHAqcCkpLyhhKmEqKGQqZCkrcypzKihwKnApKSl8fDAseT1nKmEqZC9zLHY9ZyotcypwL2EsbT0odCtuKS8yK0tsKGMpKnktcWwoYykqdix4PShlK2kpLzIrcWwoYykqeStLbChjKSp2LF89dHUoWzEsMF0sWyhwLXkpL2EsKGQtdikvc10pLGI9WyhwLXkpL2EsKGQtdikvc10sdz1bKC0xKnAteSkvYSwoLTEqZC12KS9zXSxTPXR1KGIsdyk7aWYoUWwoYix3KTw9LTEmJihTPSRsKSxRbChiLHcpPj0xJiYoUz0wKSxTPDApe3ZhciBNPU1hdGgucm91bmQoUy8kbCoxZTYpLzFlNjtTPTIqJGwrTSUyKiRsfWguYWRkRGF0YSh1LG0seCxhLHMsXyxTLGMsbyl9dmFyIG51PS8oW21sdmh6Y3F0c2FdKShbXm1sdmh6Y3F0c2FdKikvZ2ksaXU9Ly0/KFswLTldKlwuKT9bMC05XSsoW2VFXS0/WzAtOV0rKT8vZzt2YXIgcnU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5hcHBseVRyYW5zZm9ybT1mdW5jdGlvbih0KXt9LGV9KGdzKTtmdW5jdGlvbiBvdSh0KXtyZXR1cm4gbnVsbCE9dC5zZXREYXRhfWZ1bmN0aW9uIGF1KHQsZSl7dmFyIG49ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHFhO2lmKCF0KXJldHVybiBlO3ZhciBuLGk9MCxyPTAsbz1pLGE9cixzPXFhLkNNRCxsPXQubWF0Y2gobnUpO2lmKCFsKXJldHVybiBlO2Zvcih2YXIgdT0wO3U8bC5sZW5ndGg7dSsrKXtmb3IodmFyIGg9bFt1XSxjPWguY2hhckF0KDApLHA9dm9pZCAwLGQ9aC5tYXRjaChpdSl8fFtdLGY9ZC5sZW5ndGgsZz0wO2c8ZjtnKyspZFtnXT1wYXJzZUZsb2F0KGRbZ10pO2Zvcih2YXIgeT0wO3k8Zjspe3ZhciB2PXZvaWQgMCxtPXZvaWQgMCx4PXZvaWQgMCxfPXZvaWQgMCxiPXZvaWQgMCx3PXZvaWQgMCxTPXZvaWQgMCxNPWksST1yLFQ9dm9pZCAwLEM9dm9pZCAwO3N3aXRjaChjKXtjYXNlImwiOmkrPWRbeSsrXSxyKz1kW3krK10scD1zLkwsZS5hZGREYXRhKHAsaSxyKTticmVhaztjYXNlIkwiOmk9ZFt5KytdLHI9ZFt5KytdLHA9cy5MLGUuYWRkRGF0YShwLGkscik7YnJlYWs7Y2FzZSJtIjppKz1kW3krK10scis9ZFt5KytdLHA9cy5NLGUuYWRkRGF0YShwLGksciksbz1pLGE9cixjPSJsIjticmVhaztjYXNlIk0iOmk9ZFt5KytdLHI9ZFt5KytdLHA9cy5NLGUuYWRkRGF0YShwLGksciksbz1pLGE9cixjPSJMIjticmVhaztjYXNlImgiOmkrPWRbeSsrXSxwPXMuTCxlLmFkZERhdGEocCxpLHIpO2JyZWFrO2Nhc2UiSCI6aT1kW3krK10scD1zLkwsZS5hZGREYXRhKHAsaSxyKTticmVhaztjYXNlInYiOnIrPWRbeSsrXSxwPXMuTCxlLmFkZERhdGEocCxpLHIpO2JyZWFrO2Nhc2UiViI6cj1kW3krK10scD1zLkwsZS5hZGREYXRhKHAsaSxyKTticmVhaztjYXNlIkMiOnA9cy5DLGUuYWRkRGF0YShwLGRbeSsrXSxkW3krK10sZFt5KytdLGRbeSsrXSxkW3krK10sZFt5KytdKSxpPWRbeS0yXSxyPWRbeS0xXTticmVhaztjYXNlImMiOnA9cy5DLGUuYWRkRGF0YShwLGRbeSsrXStpLGRbeSsrXStyLGRbeSsrXStpLGRbeSsrXStyLGRbeSsrXStpLGRbeSsrXStyKSxpKz1kW3ktMl0scis9ZFt5LTFdO2JyZWFrO2Nhc2UiUyI6dj1pLG09cixUPWUubGVuKCksQz1lLmRhdGEsbj09PXMuQyYmKHYrPWktQ1tULTRdLG0rPXItQ1tULTNdKSxwPXMuQyxNPWRbeSsrXSxJPWRbeSsrXSxpPWRbeSsrXSxyPWRbeSsrXSxlLmFkZERhdGEocCx2LG0sTSxJLGkscik7YnJlYWs7Y2FzZSJzIjp2PWksbT1yLFQ9ZS5sZW4oKSxDPWUuZGF0YSxuPT09cy5DJiYodis9aS1DW1QtNF0sbSs9ci1DW1QtM10pLHA9cy5DLE09aStkW3krK10sST1yK2RbeSsrXSxpKz1kW3krK10scis9ZFt5KytdLGUuYWRkRGF0YShwLHYsbSxNLEksaSxyKTticmVhaztjYXNlIlEiOk09ZFt5KytdLEk9ZFt5KytdLGk9ZFt5KytdLHI9ZFt5KytdLHA9cy5RLGUuYWRkRGF0YShwLE0sSSxpLHIpO2JyZWFrO2Nhc2UicSI6TT1kW3krK10raSxJPWRbeSsrXStyLGkrPWRbeSsrXSxyKz1kW3krK10scD1zLlEsZS5hZGREYXRhKHAsTSxJLGkscik7YnJlYWs7Y2FzZSJUIjp2PWksbT1yLFQ9ZS5sZW4oKSxDPWUuZGF0YSxuPT09cy5RJiYodis9aS1DW1QtNF0sbSs9ci1DW1QtM10pLGk9ZFt5KytdLHI9ZFt5KytdLHA9cy5RLGUuYWRkRGF0YShwLHYsbSxpLHIpO2JyZWFrO2Nhc2UidCI6dj1pLG09cixUPWUubGVuKCksQz1lLmRhdGEsbj09PXMuUSYmKHYrPWktQ1tULTRdLG0rPXItQ1tULTNdKSxpKz1kW3krK10scis9ZFt5KytdLHA9cy5RLGUuYWRkRGF0YShwLHYsbSxpLHIpO2JyZWFrO2Nhc2UiQSI6eD1kW3krK10sXz1kW3krK10sYj1kW3krK10sdz1kW3krK10sUz1kW3krK10sZXUoTT1pLEk9cixpPWRbeSsrXSxyPWRbeSsrXSx3LFMseCxfLGIscD1zLkEsZSk7YnJlYWs7Y2FzZSJhIjp4PWRbeSsrXSxfPWRbeSsrXSxiPWRbeSsrXSx3PWRbeSsrXSxTPWRbeSsrXSxldShNPWksST1yLGkrPWRbeSsrXSxyKz1kW3krK10sdyxTLHgsXyxiLHA9cy5BLGUpfX0ieiIhPT1jJiYiWiIhPT1jfHwocD1zLlosZS5hZGREYXRhKHApLGk9byxyPWEpLG49cH1yZXR1cm4gZS50b1N0YXRpYygpLGV9KHQpLGk9QSh7fSxlKTtyZXR1cm4gaS5idWlsZFBhdGg9ZnVuY3Rpb24odCl7aWYob3UodCkpe3Quc2V0RGF0YShuLmRhdGEpLChlPXQuZ2V0Q29udGV4dCgpKSYmdC5yZWJ1aWxkUGF0aChlLDEpfWVsc2V7dmFyIGU9dDtuLnJlYnVpbGRQYXRoKGUsMSl9fSxpLmFwcGx5VHJhbnNmb3JtPWZ1bmN0aW9uKHQpe1psKG4sdCksdGhpcy5kaXJ0eVNoYXBlKCl9LGl9ZnVuY3Rpb24gc3UodCxlKXtyZXR1cm4gbmV3IHJ1KGF1KHQsZSkpfWZ1bmN0aW9uIGx1KHQsZSl7ZT1lfHx7fTt2YXIgbj1uZXcgZ3M7cmV0dXJuIHQuc2hhcGUmJm4uc2V0U2hhcGUodC5zaGFwZSksbi5zZXRTdHlsZSh0LnN0eWxlKSxlLmJha2VUcmFuc2Zvcm0/Wmwobi5wYXRoLHQuZ2V0Q29tcHV0ZWRUcmFuc2Zvcm0oKSk6ZS50b0xvY2FsP24uc2V0TG9jYWxUcmFuc2Zvcm0odC5nZXRDb21wdXRlZFRyYW5zZm9ybSgpKTpuLmNvcHlUcmFuc2Zvcm0odCksbi5idWlsZFBhdGg9dC5idWlsZFBhdGgsbi5hcHBseVRyYW5zZm9ybT1uLmFwcGx5VHJhbnNmb3JtLG4uej10Lnosbi56Mj10LnoyLG4uemxldmVsPXQuemxldmVsLG59dmFyIHV1PWZ1bmN0aW9uKCl7dGhpcy5jeD0wLHRoaXMuY3k9MCx0aGlzLnI9MH0saHU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHV1fSxlLnByb3RvdHlwZS5idWlsZFBhdGg9ZnVuY3Rpb24odCxlKXt0Lm1vdmVUbyhlLmN4K2UucixlLmN5KSx0LmFyYyhlLmN4LGUuY3ksZS5yLDAsMipNYXRoLlBJKX0sZX0oZ3MpO2h1LnByb3RvdHlwZS50eXBlPSJjaXJjbGUiO3ZhciBjdT1mdW5jdGlvbigpe3RoaXMuY3g9MCx0aGlzLmN5PTAsdGhpcy5yeD0wLHRoaXMucnk9MH0scHU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGN1fSxlLnByb3RvdHlwZS5idWlsZFBhdGg9ZnVuY3Rpb24odCxlKXt2YXIgbj0uNTUyMjg0OCxpPWUuY3gscj1lLmN5LG89ZS5yeCxhPWUucnkscz1vKm4sbD1hKm47dC5tb3ZlVG8oaS1vLHIpLHQuYmV6aWVyQ3VydmVUbyhpLW8sci1sLGktcyxyLWEsaSxyLWEpLHQuYmV6aWVyQ3VydmVUbyhpK3Msci1hLGkrbyxyLWwsaStvLHIpLHQuYmV6aWVyQ3VydmVUbyhpK28scitsLGkrcyxyK2EsaSxyK2EpLHQuYmV6aWVyQ3VydmVUbyhpLXMscithLGktbyxyK2wsaS1vLHIpLHQuY2xvc2VQYXRoKCl9LGV9KGdzKTtwdS5wcm90b3R5cGUudHlwZT0iZWxsaXBzZSI7dmFyIGR1PU1hdGguUEksZnU9MipkdSxndT1NYXRoLnNpbix5dT1NYXRoLmNvcyx2dT1NYXRoLmFjb3MsbXU9TWF0aC5hdGFuMix4dT1NYXRoLmFicyxfdT1NYXRoLnNxcnQsYnU9TWF0aC5tYXgsd3U9TWF0aC5taW4sU3U9MWUtNDtmdW5jdGlvbiBNdSh0LGUsbixpLHIsbyxhKXt2YXIgcz10LW4sbD1lLWksdT0oYT9vOi1vKS9fdShzKnMrbCpsKSxoPXUqbCxjPS11KnMscD10K2gsZD1lK2MsZj1uK2gsZz1pK2MseT0ocCtmKS8yLHY9KGQrZykvMixtPWYtcCx4PWctZCxfPW0qbSt4KngsYj1yLW8sdz1wKmctZipkLFM9KHg8MD8tMToxKSpfdShidSgwLGIqYipfLXcqdykpLE09KHcqeC1tKlMpL18sST0oLXcqbS14KlMpL18sVD0odyp4K20qUykvXyxDPSgtdyptK3gqUykvXyxEPU0teSxBPUktdixrPVQteSxMPUMtdjtyZXR1cm4gRCpEK0EqQT5rKmsrTCpMJiYoTT1ULEk9Qykse2N4Ok0sY3k6SSx4MDotaCx5MDotYyx4MTpNKihyL2ItMSkseTE6SSooci9iLTEpfX1mdW5jdGlvbiBJdSh0LGUpe3ZhciBuLGk9YnUoZS5yLDApLHI9YnUoZS5yMHx8MCwwKSxvPWk+MDtpZihvfHxyPjApe2lmKG98fChpPXIscj0wKSxyPmkpe3ZhciBhPWk7aT1yLHI9YX12YXIgcz1lLnN0YXJ0QW5nbGUsbD1lLmVuZEFuZ2xlO2lmKCFpc05hTihzKSYmIWlzTmFOKGwpKXt2YXIgdT1lLmN4LGg9ZS5jeSxjPSEhZS5jbG9ja3dpc2UscD14dShsLXMpLGQ9cD5mdSYmcCVmdTtpZihkPlN1JiYocD1kKSxpPlN1KWlmKHA+ZnUtU3UpdC5tb3ZlVG8odStpKnl1KHMpLGgraSpndShzKSksdC5hcmModSxoLGkscyxsLCFjKSxyPlN1JiYodC5tb3ZlVG8odStyKnl1KGwpLGgrcipndShsKSksdC5hcmModSxoLHIsbCxzLGMpKTtlbHNle3ZhciBmPXZvaWQgMCxnPXZvaWQgMCx5PXZvaWQgMCx2PXZvaWQgMCxtPXZvaWQgMCx4PXZvaWQgMCxfPXZvaWQgMCxiPXZvaWQgMCx3PXZvaWQgMCxTPXZvaWQgMCxNPXZvaWQgMCxJPXZvaWQgMCxUPXZvaWQgMCxDPXZvaWQgMCxEPXZvaWQgMCxBPXZvaWQgMCxrPWkqeXUocyksTD1pKmd1KHMpLFA9cip5dShsKSxPPXIqZ3UobCksUj1wPlN1O2lmKFIpe3ZhciBOPWUuY29ybmVyUmFkaXVzO04mJihmPShuPWZ1bmN0aW9uKHQpe3ZhciBlO2lmKFkodCkpe3ZhciBuPXQubGVuZ3RoO2lmKCFuKXJldHVybiB0O2U9MT09PW4/W3RbMF0sdFswXSwwLDBdOjI9PT1uP1t0WzBdLHRbMF0sdFsxXSx0WzFdXTozPT09bj90LmNvbmNhdCh0WzJdKTp0fWVsc2UgZT1bdCx0LHQsdF07cmV0dXJuIGV9KE4pKVswXSxnPW5bMV0seT1uWzJdLHY9blszXSk7dmFyIEU9eHUoaS1yKS8yO2lmKG09d3UoRSx5KSx4PXd1KEUsdiksXz13dShFLGYpLGI9d3UoRSxnKSxNPXc9YnUobSx4KSxJPVM9YnUoXyxiKSwodz5TdXx8Uz5TdSkmJihUPWkqeXUobCksQz1pKmd1KGwpLEQ9cip5dShzKSxBPXIqZ3UocykscDxkdSkpe3ZhciB6PWZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyl7dmFyIGw9bi10LHU9aS1lLGg9YS1yLGM9cy1vLHA9YypsLWgqdTtpZighKHAqcDxTdSkpcmV0dXJuW3QrKHA9KGgqKGUtbyktYyoodC1yKSkvcCkqbCxlK3AqdV19KGssTCxELEEsVCxDLFAsTyk7aWYoeil7dmFyIFY9ay16WzBdLEI9TC16WzFdLEY9VC16WzBdLEc9Qy16WzFdLFc9MS9ndSh2dSgoVipGK0IqRykvKF91KFYqVitCKkIpKl91KEYqRitHKkcpKSkvMiksSD1fdSh6WzBdKnpbMF0relsxXSp6WzFdKTtNPXd1KHcsKGktSCkvKFcrMSkpLEk9d3UoUywoci1IKS8oVy0xKSl9fX1pZihSKWlmKE0+U3Upe3ZhciBVPXd1KHksTSksWD13dSh2LE0pLFo9TXUoRCxBLGssTCxpLFUsYyksaj1NdShULEMsUCxPLGksWCxjKTt0Lm1vdmVUbyh1K1ouY3grWi54MCxoK1ouY3krWi55MCksTTx3JiZVPT09WD90LmFyYyh1K1ouY3gsaCtaLmN5LE0sbXUoWi55MCxaLngwKSxtdShqLnkwLGoueDApLCFjKTooVT4wJiZ0LmFyYyh1K1ouY3gsaCtaLmN5LFUsbXUoWi55MCxaLngwKSxtdShaLnkxLFoueDEpLCFjKSx0LmFyYyh1LGgsaSxtdShaLmN5K1oueTEsWi5jeCtaLngxKSxtdShqLmN5K2oueTEsai5jeCtqLngxKSwhYyksWD4wJiZ0LmFyYyh1K2ouY3gsaCtqLmN5LFgsbXUoai55MSxqLngxKSxtdShqLnkwLGoueDApLCFjKSl9ZWxzZSB0Lm1vdmVUbyh1K2ssaCtMKSx0LmFyYyh1LGgsaSxzLGwsIWMpO2Vsc2UgdC5tb3ZlVG8odStrLGgrTCk7aWYocj5TdSYmUilpZihJPlN1KXtVPXd1KGYsSSksWj1NdShQLE8sVCxDLHIsLShYPXd1KGcsSSkpLGMpLGo9TXUoayxMLEQsQSxyLC1VLGMpO3QubGluZVRvKHUrWi5jeCtaLngwLGgrWi5jeStaLnkwKSxJPFMmJlU9PT1YP3QuYXJjKHUrWi5jeCxoK1ouY3ksSSxtdShaLnkwLFoueDApLG11KGoueTAsai54MCksIWMpOihYPjAmJnQuYXJjKHUrWi5jeCxoK1ouY3ksWCxtdShaLnkwLFoueDApLG11KFoueTEsWi54MSksIWMpLHQuYXJjKHUsaCxyLG11KFouY3krWi55MSxaLmN4K1oueDEpLG11KGouY3krai55MSxqLmN4K2oueDEpLGMpLFU+MCYmdC5hcmModStqLmN4LGgrai5jeSxVLG11KGoueTEsai54MSksbXUoai55MCxqLngwKSwhYykpfWVsc2UgdC5saW5lVG8odStQLGgrTyksdC5hcmModSxoLHIsbCxzLGMpO2Vsc2UgdC5saW5lVG8odStQLGgrTyl9ZWxzZSB0Lm1vdmVUbyh1LGgpO3QuY2xvc2VQYXRoKCl9fX12YXIgVHU9ZnVuY3Rpb24oKXt0aGlzLmN4PTAsdGhpcy5jeT0wLHRoaXMucjA9MCx0aGlzLnI9MCx0aGlzLnN0YXJ0QW5nbGU9MCx0aGlzLmVuZEFuZ2xlPTIqTWF0aC5QSSx0aGlzLmNsb2Nrd2lzZT0hMCx0aGlzLmNvcm5lclJhZGl1cz0wfSxDdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgVHV9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe0l1KHQsZSl9LGUucHJvdG90eXBlLmlzWmVyb0FyZWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaGFwZS5zdGFydEFuZ2xlPT09dGhpcy5zaGFwZS5lbmRBbmdsZXx8dGhpcy5zaGFwZS5yPT09dGhpcy5zaGFwZS5yMH0sZX0oZ3MpO0N1LnByb3RvdHlwZS50eXBlPSJzZWN0b3IiO3ZhciBEdT1mdW5jdGlvbigpe3RoaXMuY3g9MCx0aGlzLmN5PTAsdGhpcy5yPTAsdGhpcy5yMD0wfSxBdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgRHV9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuPWUuY3gsaT1lLmN5LHI9MipNYXRoLlBJO3QubW92ZVRvKG4rZS5yLGkpLHQuYXJjKG4saSxlLnIsMCxyLCExKSx0Lm1vdmVUbyhuK2UucjAsaSksdC5hcmMobixpLGUucjAsMCxyLCEwKX0sZX0oZ3MpO2Z1bmN0aW9uIGt1KHQsZSxuKXt2YXIgaT1lLnNtb290aCxyPWUucG9pbnRzO2lmKHImJnIubGVuZ3RoPj0yKXtpZihpKXt2YXIgbz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcixvLGEscyxsPVtdLHU9W10saD1bXSxjPVtdO2lmKGkpe2E9WzEvMCwxLzBdLHM9Wy0xLzAsLTEvMF07Zm9yKHZhciBwPTAsZD10Lmxlbmd0aDtwPGQ7cCsrKUd0KGEsYSx0W3BdKSxXdChzLHMsdFtwXSk7R3QoYSxhLGlbMF0pLFd0KHMscyxpWzFdKX1mb3IocD0wLGQ9dC5sZW5ndGg7cDxkO3ArKyl7dmFyIGY9dFtwXTtpZihuKXI9dFtwP3AtMTpkLTFdLG89dFsocCsxKSVkXTtlbHNle2lmKDA9PT1wfHxwPT09ZC0xKXtsLnB1c2goTXQodFtwXSkpO2NvbnRpbnVlfXI9dFtwLTFdLG89dFtwKzFdfUR0KHUsbyxyKSxPdCh1LHUsZSk7dmFyIGc9TnQoZixyKSx5PU50KGYsbyksdj1nK3k7MCE9PXYmJihnLz12LHkvPXYpLE90KGgsdSwtZyksT3QoYyx1LHkpO3ZhciBtPVR0KFtdLGYsaCkseD1UdChbXSxmLGMpO2kmJihXdChtLG0sYSksR3QobSxtLHMpLFd0KHgseCxhKSxHdCh4LHgscykpLGwucHVzaChtKSxsLnB1c2goeCl9cmV0dXJuIG4mJmwucHVzaChsLnNoaWZ0KCkpLGx9KHIsaSxuLGUuc21vb3RoQ29uc3RyYWludCk7dC5tb3ZlVG8oclswXVswXSxyWzBdWzFdKTtmb3IodmFyIGE9ci5sZW5ndGgscz0wO3M8KG4/YTphLTEpO3MrKyl7dmFyIGw9b1syKnNdLHU9b1syKnMrMV0saD1yWyhzKzEpJWFdO3QuYmV6aWVyQ3VydmVUbyhsWzBdLGxbMV0sdVswXSx1WzFdLGhbMF0saFsxXSl9fWVsc2V7dC5tb3ZlVG8oclswXVswXSxyWzBdWzFdKTtzPTE7Zm9yKHZhciBjPXIubGVuZ3RoO3M8YztzKyspdC5saW5lVG8ocltzXVswXSxyW3NdWzFdKX1uJiZ0LmNsb3NlUGF0aCgpfX1BdS5wcm90b3R5cGUudHlwZT0icmluZyI7dmFyIEx1PWZ1bmN0aW9uKCl7dGhpcy5wb2ludHM9bnVsbCx0aGlzLnNtb290aD0wLHRoaXMuc21vb3RoQ29uc3RyYWludD1udWxsfSxQdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgTHV9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe2t1KHQsZSwhMCl9LGV9KGdzKTtQdS5wcm90b3R5cGUudHlwZT0icG9seWdvbiI7dmFyIE91PWZ1bmN0aW9uKCl7dGhpcy5wb2ludHM9bnVsbCx0aGlzLnBlcmNlbnQ9MSx0aGlzLnNtb290aD0wLHRoaXMuc21vb3RoQ29uc3RyYWludD1udWxsfSxSdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTdHlsZT1mdW5jdGlvbigpe3JldHVybntzdHJva2U6IiMwMDAiLGZpbGw6bnVsbH19LGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgT3V9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe2t1KHQsZSwhMSl9LGV9KGdzKTtSdS5wcm90b3R5cGUudHlwZT0icG9seWxpbmUiO3ZhciBOdT17fSxFdT1mdW5jdGlvbigpe3RoaXMueDE9MCx0aGlzLnkxPTAsdGhpcy54Mj0wLHRoaXMueTI9MCx0aGlzLnBlcmNlbnQ9MX0senU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm57c3Ryb2tlOiIjMDAwIixmaWxsOm51bGx9fSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEV1fSxlLnByb3RvdHlwZS5idWlsZFBhdGg9ZnVuY3Rpb24odCxlKXt2YXIgbixpLHIsbztpZih0aGlzLnN1YlBpeGVsT3B0aW1pemUpe3ZhciBhPXdzKE51LGUsdGhpcy5zdHlsZSk7bj1hLngxLGk9YS55MSxyPWEueDIsbz1hLnkyfWVsc2Ugbj1lLngxLGk9ZS55MSxyPWUueDIsbz1lLnkyO3ZhciBzPWUucGVyY2VudDswIT09cyYmKHQubW92ZVRvKG4saSksczwxJiYocj1uKigxLXMpK3IqcyxvPWkqKDEtcykrbypzKSx0LmxpbmVUbyhyLG8pKX0sZS5wcm90b3R5cGUucG9pbnRBdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnNoYXBlO3JldHVybltlLngxKigxLXQpK2UueDIqdCxlLnkxKigxLXQpK2UueTIqdF19LGV9KGdzKTt6dS5wcm90b3R5cGUudHlwZT0ibGluZSI7dmFyIFZ1PVtdLEJ1PWZ1bmN0aW9uKCl7dGhpcy54MT0wLHRoaXMueTE9MCx0aGlzLngyPTAsdGhpcy55Mj0wLHRoaXMuY3B4MT0wLHRoaXMuY3B5MT0wLHRoaXMucGVyY2VudD0xfTtmdW5jdGlvbiBGdSh0LGUsbil7dmFyIGk9dC5jcHgyLHI9dC5jcHkyO3JldHVybiBudWxsIT1pfHxudWxsIT1yP1sobj9ZZTpIZSkodC54MSx0LmNweDEsdC5jcHgyLHQueDIsZSksKG4/WWU6SGUpKHQueTEsdC5jcHkxLHQuY3B5Mix0LnkyLGUpXTpbKG4/JGU6S2UpKHQueDEsdC5jcHgxLHQueDIsZSksKG4/JGU6S2UpKHQueTEsdC5jcHkxLHQueTIsZSldfXZhciBHdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTdHlsZT1mdW5jdGlvbigpe3JldHVybntzdHJva2U6IiMwMDAiLGZpbGw6bnVsbH19LGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgQnV9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuPWUueDEsaT1lLnkxLHI9ZS54MixvPWUueTIsYT1lLmNweDEscz1lLmNweTEsbD1lLmNweDIsdT1lLmNweTIsaD1lLnBlcmNlbnQ7MCE9PWgmJih0Lm1vdmVUbyhuLGkpLG51bGw9PWx8fG51bGw9PXU/KGg8MSYmKFFlKG4sYSxyLGgsVnUpLGE9VnVbMV0scj1WdVsyXSxRZShpLHMsbyxoLFZ1KSxzPVZ1WzFdLG89VnVbMl0pLHQucXVhZHJhdGljQ3VydmVUbyhhLHMscixvKSk6KGg8MSYmKFplKG4sYSxsLHIsaCxWdSksYT1WdVsxXSxsPVZ1WzJdLHI9VnVbM10sWmUoaSxzLHUsbyxoLFZ1KSxzPVZ1WzFdLHU9VnVbMl0sbz1WdVszXSksdC5iZXppZXJDdXJ2ZVRvKGEscyxsLHUscixvKSkpfSxlLnByb3RvdHlwZS5wb2ludEF0PWZ1bmN0aW9uKHQpe3JldHVybiBGdSh0aGlzLnNoYXBlLHQsITEpfSxlLnByb3RvdHlwZS50YW5nZW50QXQ9ZnVuY3Rpb24odCl7dmFyIGU9RnUodGhpcy5zaGFwZSx0LCEwKTtyZXR1cm4gUnQoZSxlKX0sZX0oZ3MpO0d1LnByb3RvdHlwZS50eXBlPSJiZXppZXItY3VydmUiO3ZhciBXdT1mdW5jdGlvbigpe3RoaXMuY3g9MCx0aGlzLmN5PTAsdGhpcy5yPTAsdGhpcy5zdGFydEFuZ2xlPTAsdGhpcy5lbmRBbmdsZT0yKk1hdGguUEksdGhpcy5jbG9ja3dpc2U9ITB9LEh1PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIHQuY2FsbCh0aGlzLGUpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFN0eWxlPWZ1bmN0aW9uKCl7cmV0dXJue3N0cm9rZToiIzAwMCIsZmlsbDpudWxsfX0sZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBXdX0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5jeCxpPWUuY3kscj1NYXRoLm1heChlLnIsMCksbz1lLnN0YXJ0QW5nbGUsYT1lLmVuZEFuZ2xlLHM9ZS5jbG9ja3dpc2UsbD1NYXRoLmNvcyhvKSx1PU1hdGguc2luKG8pO3QubW92ZVRvKGwqcituLHUqcitpKSx0LmFyYyhuLGkscixvLGEsIXMpfSxlfShncyk7SHUucHJvdG90eXBlLnR5cGU9ImFyYyI7dmFyIFl1PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUudHlwZT0iY29tcG91bmQiLGV9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5fdXBkYXRlUGF0aERpcnR5PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuc2hhcGUucGF0aHMsZT10aGlzLnNoYXBlQ2hhbmdlZCgpLG49MDtuPHQubGVuZ3RoO24rKyllPWV8fHRbbl0uc2hhcGVDaGFuZ2VkKCk7ZSYmdGhpcy5kaXJ0eVNoYXBlKCl9LGUucHJvdG90eXBlLmJlZm9yZUJydXNoPWZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlUGF0aERpcnR5KCk7Zm9yKHZhciB0PXRoaXMuc2hhcGUucGF0aHN8fFtdLGU9dGhpcy5nZXRHbG9iYWxTY2FsZSgpLG49MDtuPHQubGVuZ3RoO24rKyl0W25dLnBhdGh8fHRbbl0uY3JlYXRlUGF0aFByb3h5KCksdFtuXS5wYXRoLnNldFNjYWxlKGVbMF0sZVsxXSx0W25dLnNlZ21lbnRJZ25vcmVUaHJlc2hvbGQpfSxlLnByb3RvdHlwZS5idWlsZFBhdGg9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ZS5wYXRoc3x8W10saT0wO2k8bi5sZW5ndGg7aSsrKW5baV0uYnVpbGRQYXRoKHQsbltpXS5zaGFwZSwhMCl9LGUucHJvdG90eXBlLmFmdGVyQnJ1c2g9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5zaGFwZS5wYXRoc3x8W10sZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV0ucGF0aFVwZGF0ZWQoKX0sZS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VwZGF0ZVBhdGhEaXJ0eS5jYWxsKHRoaXMpLGdzLnByb3RvdHlwZS5nZXRCb3VuZGluZ1JlY3QuY2FsbCh0aGlzKX0sZX0oZ3MpLFV1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmNvbG9yU3RvcHM9dHx8W119cmV0dXJuIHQucHJvdG90eXBlLmFkZENvbG9yU3RvcD1mdW5jdGlvbih0LGUpe3RoaXMuY29sb3JTdG9wcy5wdXNoKHtvZmZzZXQ6dCxjb2xvcjplfSl9LHR9KCksWHU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSxyLG8sYSl7dmFyIHM9dC5jYWxsKHRoaXMsbyl8fHRoaXM7cmV0dXJuIHMueD1udWxsPT1lPzA6ZSxzLnk9bnVsbD09bj8wOm4scy54Mj1udWxsPT1pPzE6aSxzLnkyPW51bGw9PXI/MDpyLHMudHlwZT0ibGluZWFyIixzLmdsb2JhbD1hfHwhMSxzfXJldHVybiBuKGUsdCksZX0oVXUpLFp1PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscixvKXt2YXIgYT10LmNhbGwodGhpcyxyKXx8dGhpcztyZXR1cm4gYS54PW51bGw9PWU/LjU6ZSxhLnk9bnVsbD09bj8uNTpuLGEucj1udWxsPT1pPy41OmksYS50eXBlPSJyYWRpYWwiLGEuZ2xvYmFsPW98fCExLGF9cmV0dXJuIG4oZSx0KSxlfShVdSksanU9WzAsMF0scXU9WzAsMF0sS3U9bmV3IEppLCR1PW5ldyBKaSxKdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9jb3JuZXJzPVtdLHRoaXMuX2F4ZXM9W10sdGhpcy5fb3JpZ2luPVswLDBdO2Zvcih2YXIgbj0wO248NDtuKyspdGhpcy5fY29ybmVyc1tuXT1uZXcgSmk7Zm9yKG49MDtuPDI7bisrKXRoaXMuX2F4ZXNbbl09bmV3IEppO3QmJnRoaXMuZnJvbUJvdW5kaW5nUmVjdCh0LGUpfXJldHVybiB0LnByb3RvdHlwZS5mcm9tQm91bmRpbmdSZWN0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fY29ybmVycyxpPXRoaXMuX2F4ZXMscj10Lngsbz10LnksYT1yK3Qud2lkdGgscz1vK3QuaGVpZ2h0O2lmKG5bMF0uc2V0KHIsbyksblsxXS5zZXQoYSxvKSxuWzJdLnNldChhLHMpLG5bM10uc2V0KHIscyksZSlmb3IodmFyIGw9MDtsPDQ7bCsrKW5bbF0udHJhbnNmb3JtKGUpO0ppLnN1YihpWzBdLG5bMV0sblswXSksSmkuc3ViKGlbMV0sblszXSxuWzBdKSxpWzBdLm5vcm1hbGl6ZSgpLGlbMV0ubm9ybWFsaXplKCk7Zm9yKGw9MDtsPDI7bCsrKXRoaXMuX29yaWdpbltsXT1pW2xdLmRvdChuWzBdKX0sdC5wcm90b3R5cGUuaW50ZXJzZWN0PWZ1bmN0aW9uKHQsZSl7dmFyIG49ITAsaT0hZTtyZXR1cm4gS3Uuc2V0KDEvMCwxLzApLCR1LnNldCgwLDApLCF0aGlzLl9pbnRlcnNlY3RDaGVja09uZVNpZGUodGhpcyx0LEt1LCR1LGksMSkmJihuPSExLGkpfHwhdGhpcy5faW50ZXJzZWN0Q2hlY2tPbmVTaWRlKHQsdGhpcyxLdSwkdSxpLC0xKSYmKG49ITEsaSl8fGl8fEppLmNvcHkoZSxuP0t1OiR1KSxufSx0LnByb3RvdHlwZS5faW50ZXJzZWN0Q2hlY2tPbmVTaWRlPWZ1bmN0aW9uKHQsZSxuLGkscixvKXtmb3IodmFyIGE9ITAscz0wO3M8MjtzKyspe3ZhciBsPXRoaXMuX2F4ZXNbc107aWYodGhpcy5fZ2V0UHJvak1pbk1heE9uQXhpcyhzLHQuX2Nvcm5lcnMsanUpLHRoaXMuX2dldFByb2pNaW5NYXhPbkF4aXMocyxlLl9jb3JuZXJzLHF1KSxqdVsxXTxxdVswXXx8anVbMF0+cXVbMV0pe2lmKGE9ITEscilyZXR1cm4gYTt2YXIgdT1NYXRoLmFicyhxdVswXS1qdVsxXSksaD1NYXRoLmFicyhqdVswXS1xdVsxXSk7TWF0aC5taW4odSxoKT5pLmxlbigpJiYodTxoP0ppLnNjYWxlKGksbCwtdSpvKTpKaS5zY2FsZShpLGwsaCpvKSl9ZWxzZSBpZihuKXt1PU1hdGguYWJzKHF1WzBdLWp1WzFdKSxoPU1hdGguYWJzKGp1WzBdLXF1WzFdKTtNYXRoLm1pbih1LGgpPG4ubGVuKCkmJih1PGg/Smkuc2NhbGUobixsLHUqbyk6Smkuc2NhbGUobixsLC1oKm8pKX19cmV0dXJuIGF9LHQucHJvdG90eXBlLl9nZXRQcm9qTWluTWF4T25BeGlzPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dGhpcy5fYXhlc1t0XSxyPXRoaXMuX29yaWdpbixvPWVbMF0uZG90KGkpK3JbdF0sYT1vLHM9byxsPTE7bDxlLmxlbmd0aDtsKyspe3ZhciB1PWVbbF0uZG90KGkpK3JbdF07YT1NYXRoLm1pbih1LGEpLHM9TWF0aC5tYXgodSxzKX1uWzBdPWEsblsxXT1zfSx0fSgpLFF1PVtdLHRoPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUubm90Q2xlYXI9ITAsZS5pbmNyZW1lbnRhbD0hMCxlLl9kaXNwbGF5YWJsZXM9W10sZS5fdGVtcG9yYXJ5RGlzcGxheWFibGVzPVtdLGUuX2N1cnNvcj0wLGV9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS50cmF2ZXJzZT1mdW5jdGlvbih0LGUpe3QuY2FsbChlLHRoaXMpfSxlLnByb3RvdHlwZS51c2VTdHlsZT1mdW5jdGlvbigpe3RoaXMuc3R5bGU9e319LGUucHJvdG90eXBlLmdldEN1cnNvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJzb3J9LGUucHJvdG90eXBlLmlubmVyQWZ0ZXJCcnVzaD1mdW5jdGlvbigpe3RoaXMuX2N1cnNvcj10aGlzLl9kaXNwbGF5YWJsZXMubGVuZ3RofSxlLnByb3RvdHlwZS5jbGVhckRpc3BsYXlibGVzPWZ1bmN0aW9uKCl7dGhpcy5fZGlzcGxheWFibGVzPVtdLHRoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlcz1bXSx0aGlzLl9jdXJzb3I9MCx0aGlzLm1hcmtSZWRyYXcoKSx0aGlzLm5vdENsZWFyPSExfSxlLnByb3RvdHlwZS5jbGVhclRlbXBvcmFsRGlzcGxheWFibGVzPWZ1bmN0aW9uKCl7dGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzPVtdfSxlLnByb3RvdHlwZS5hZGREaXNwbGF5YWJsZT1mdW5jdGlvbih0LGUpe2U/dGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzLnB1c2godCk6dGhpcy5fZGlzcGxheWFibGVzLnB1c2godCksdGhpcy5tYXJrUmVkcmF3KCl9LGUucHJvdG90eXBlLmFkZERpc3BsYXlhYmxlcz1mdW5jdGlvbih0LGUpe2U9ZXx8ITE7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspdGhpcy5hZGREaXNwbGF5YWJsZSh0W25dLGUpfSxlLnByb3RvdHlwZS5nZXREaXNwbGF5YWJsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlzcGxheWFibGVzfSxlLnByb3RvdHlwZS5nZXRUZW1wb3JhbERpc3BsYXlhYmxlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXN9LGUucHJvdG90eXBlLmVhY2hQZW5kaW5nRGlzcGxheWFibGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2N1cnNvcjtlPHRoaXMuX2Rpc3BsYXlhYmxlcy5sZW5ndGg7ZSsrKXQmJnQodGhpcy5fZGlzcGxheWFibGVzW2VdKTtmb3IoZT0wO2U8dGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzLmxlbmd0aDtlKyspdCYmdCh0aGlzLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXNbZV0pfSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO2Zvcih2YXIgdD10aGlzLl9jdXJzb3I7dDx0aGlzLl9kaXNwbGF5YWJsZXMubGVuZ3RoO3QrKyl7KGU9dGhpcy5fZGlzcGxheWFibGVzW3RdKS5wYXJlbnQ9dGhpcyxlLnVwZGF0ZSgpLGUucGFyZW50PW51bGx9Zm9yKHQ9MDt0PHRoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlcy5sZW5ndGg7dCsrKXt2YXIgZTsoZT10aGlzLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXNbdF0pLnBhcmVudD10aGlzLGUudXBkYXRlKCksZS5wYXJlbnQ9bnVsbH19LGUucHJvdG90eXBlLmdldEJvdW5kaW5nUmVjdD1mdW5jdGlvbigpe2lmKCF0aGlzLl9yZWN0KXtmb3IodmFyIHQ9bmV3IHNyKDEvMCwxLzAsLTEvMCwtMS8wKSxlPTA7ZTx0aGlzLl9kaXNwbGF5YWJsZXMubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5fZGlzcGxheWFibGVzW2VdLGk9bi5nZXRCb3VuZGluZ1JlY3QoKS5jbG9uZSgpO24ubmVlZExvY2FsVHJhbnNmb3JtKCkmJmkuYXBwbHlUcmFuc2Zvcm0obi5nZXRMb2NhbFRyYW5zZm9ybShRdSkpLHQudW5pb24oaSl9dGhpcy5fcmVjdD10fXJldHVybiB0aGlzLl9yZWN0fSxlLnByb3RvdHlwZS5jb250YWluPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy50cmFuc2Zvcm1Db29yZFRvTG9jYWwodCxlKTtpZih0aGlzLmdldEJvdW5kaW5nUmVjdCgpLmNvbnRhaW4oblswXSxuWzFdKSlmb3IodmFyIGk9MDtpPHRoaXMuX2Rpc3BsYXlhYmxlcy5sZW5ndGg7aSsrKXtpZih0aGlzLl9kaXNwbGF5YWJsZXNbaV0uY29udGFpbih0LGUpKXJldHVybiEwfXJldHVybiExfSxlfShkYSksZWg9U28oKTtmdW5jdGlvbiBuaCh0LGUsbixpLHIpe3ZhciBvO2lmKGUmJmUuZWNNb2RlbCl7dmFyIGE9ZS5lY01vZGVsLmdldFVwZGF0ZVBheWxvYWQoKTtvPWEmJmEuYW5pbWF0aW9ufXZhciBzPSJ1cGRhdGUiPT09dDtpZihlJiZlLmlzQW5pbWF0aW9uRW5hYmxlZCgpKXt2YXIgbD12b2lkIDAsdT12b2lkIDAsaD12b2lkIDA7cmV0dXJuIGk/KGw9cnQoaS5kdXJhdGlvbiwyMDApLHU9cnQoaS5lYXNpbmcsImN1YmljT3V0IiksaD0wKToobD1lLmdldFNoYWxsb3cocz8iYW5pbWF0aW9uRHVyYXRpb25VcGRhdGUiOiJhbmltYXRpb25EdXJhdGlvbiIpLHU9ZS5nZXRTaGFsbG93KHM/ImFuaW1hdGlvbkVhc2luZ1VwZGF0ZSI6ImFuaW1hdGlvbkVhc2luZyIpLGg9ZS5nZXRTaGFsbG93KHM/ImFuaW1hdGlvbkRlbGF5VXBkYXRlIjoiYW5pbWF0aW9uRGVsYXkiKSksbyYmKG51bGwhPW8uZHVyYXRpb24mJihsPW8uZHVyYXRpb24pLG51bGwhPW8uZWFzaW5nJiYodT1vLmVhc2luZyksbnVsbCE9by5kZWxheSYmKGg9by5kZWxheSkpLFUoaCkmJihoPWgobixyKSksVShsKSYmKGw9bChuKSkse2R1cmF0aW9uOmx8fDAsZGVsYXk6aCxlYXNpbmc6dX19cmV0dXJuIG51bGx9ZnVuY3Rpb24gaWgodCxlLG4saSxyLG8sYSl7dmFyIHMsbD0hMTtVKHIpPyhhPW8sbz1yLHI9bnVsbCk6cShyKSYmKG89ci5jYixhPXIuZHVyaW5nLGw9ci5pc0Zyb20scz1yLnJlbW92ZU9wdCxyPXIuZGF0YUluZGV4KTt2YXIgdT0ibGVhdmUiPT09dDt1fHxlLnN0b3BBbmltYXRpb24oImxlYXZlIik7dmFyIGg9bmgodCxpLHIsdT9zfHx7fTpudWxsLGkmJmkuZ2V0QW5pbWF0aW9uRGVsYXlQYXJhbXM/aS5nZXRBbmltYXRpb25EZWxheVBhcmFtcyhlLHIpOm51bGwpO2lmKGgmJmguZHVyYXRpb24+MCl7dmFyIGM9e2R1cmF0aW9uOmguZHVyYXRpb24sZGVsYXk6aC5kZWxheXx8MCxlYXNpbmc6aC5lYXNpbmcsZG9uZTpvLGZvcmNlOiEhb3x8ISFhLHNldFRvRmluYWw6IXUsc2NvcGU6dCxkdXJpbmc6YX07bD9lLmFuaW1hdGVGcm9tKG4sYyk6ZS5hbmltYXRlVG8obixjKX1lbHNlIGUuc3RvcEFuaW1hdGlvbigpLCFsJiZlLmF0dHIobiksYSYmYSgxKSxvJiZvKCl9ZnVuY3Rpb24gcmgodCxlLG4saSxyLG8pe2loKCJ1cGRhdGUiLHQsZSxuLGkscixvKX1mdW5jdGlvbiBvaCh0LGUsbixpLHIsbyl7aWgoImVudGVyIix0LGUsbixpLHIsbyl9ZnVuY3Rpb24gYWgodCl7aWYoIXQuX196cilyZXR1cm4hMDtmb3IodmFyIGU9MDtlPHQuYW5pbWF0b3JzLmxlbmd0aDtlKyspe2lmKCJsZWF2ZSI9PT10LmFuaW1hdG9yc1tlXS5zY29wZSlyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBzaCh0LGUsbixpLHIsbyl7YWgodCl8fGloKCJsZWF2ZSIsdCxlLG4saSxyLG8pfWZ1bmN0aW9uIGxoKHQsZSxuLGkpe3QucmVtb3ZlVGV4dENvbnRlbnQoKSx0LnJlbW92ZVRleHRHdWlkZUxpbmUoKSxzaCh0LHtzdHlsZTp7b3BhY2l0eTowfX0sZSxuLGkpfWZ1bmN0aW9uIHVoKHQsZSxuKXtmdW5jdGlvbiBpKCl7dC5wYXJlbnQmJnQucGFyZW50LnJlbW92ZSh0KX10LmlzR3JvdXA/dC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7dC5pc0dyb3VwfHxsaCh0LGUsbixpKX0pKTpsaCh0LGUsbixpKX1mdW5jdGlvbiBoaCh0KXtlaCh0KS5vbGRTdHlsZT10LnN0eWxlfXZhciBjaD1NYXRoLm1heCxwaD1NYXRoLm1pbixkaD17fTtmdW5jdGlvbiBmaCh0KXtyZXR1cm4gZ3MuZXh0ZW5kKHQpfXZhciBnaD1mdW5jdGlvbih0LGUpe3ZhciBpPWF1KHQsZSk7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIG4uYXBwbHlUcmFuc2Zvcm09aS5hcHBseVRyYW5zZm9ybSxuLmJ1aWxkUGF0aD1pLmJ1aWxkUGF0aCxufXJldHVybiBuKGUsdCksZX0ocnUpfTtmdW5jdGlvbiB5aCh0LGUpe3JldHVybiBnaCh0LGUpfWZ1bmN0aW9uIHZoKHQsZSl7ZGhbdF09ZX1mdW5jdGlvbiBtaCh0KXtpZihkaC5oYXNPd25Qcm9wZXJ0eSh0KSlyZXR1cm4gZGhbdF19ZnVuY3Rpb24geGgodCxlLG4saSl7dmFyIHI9c3UodCxlKTtyZXR1cm4gbiYmKCJjZW50ZXIiPT09aSYmKG49YmgobixyLmdldEJvdW5kaW5nUmVjdCgpKSksU2gocixuKSkscn1mdW5jdGlvbiBfaCh0LGUsbil7dmFyIGk9bmV3IF9zKHtzdHlsZTp7aW1hZ2U6dCx4OmUueCx5OmUueSx3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodH0sb25sb2FkOmZ1bmN0aW9uKHQpe2lmKCJjZW50ZXIiPT09bil7dmFyIHI9e3dpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0fTtpLnNldFN0eWxlKGJoKGUscikpfX19KTtyZXR1cm4gaX1mdW5jdGlvbiBiaCh0LGUpe3ZhciBuLGk9ZS53aWR0aC9lLmhlaWdodCxyPXQuaGVpZ2h0Kmk7cmV0dXJuIG49cjw9dC53aWR0aD90LmhlaWdodDoocj10LndpZHRoKS9pLHt4OnQueCt0LndpZHRoLzItci8yLHk6dC55K3QuaGVpZ2h0LzItbi8yLHdpZHRoOnIsaGVpZ2h0Om59fXZhciB3aD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1bXSxpPXQubGVuZ3RoLHI9MDtyPGk7cisrKXt2YXIgbz10W3JdO24ucHVzaChvLmdldFVwZGF0ZWRQYXRoUHJveHkoITApKX12YXIgYT1uZXcgZ3MoZSk7cmV0dXJuIGEuY3JlYXRlUGF0aFByb3h5KCksYS5idWlsZFBhdGg9ZnVuY3Rpb24odCl7aWYob3UodCkpe3QuYXBwZW5kUGF0aChuKTt2YXIgZT10LmdldENvbnRleHQoKTtlJiZ0LnJlYnVpbGRQYXRoKGUsMSl9fSxhfTtmdW5jdGlvbiBTaCh0LGUpe2lmKHQuYXBwbHlUcmFuc2Zvcm0pe3ZhciBuPXQuZ2V0Qm91bmRpbmdSZWN0KCkuY2FsY3VsYXRlVHJhbnNmb3JtKGUpO3QuYXBwbHlUcmFuc2Zvcm0obil9fXZhciBNaD1NcztmdW5jdGlvbiBJaCh0LGUpe2Zvcih2YXIgbj1PaShbXSk7dCYmdCE9PWU7KU5pKG4sdC5nZXRMb2NhbFRyYW5zZm9ybSgpLG4pLHQ9dC5wYXJlbnQ7cmV0dXJuIG59ZnVuY3Rpb24gVGgodCxlLG4pe3JldHVybiBlJiYhTihlKSYmKGU9cWkuZ2V0TG9jYWxUcmFuc2Zvcm0oZSkpLG4mJihlPUJpKFtdLGUpKSxGdChbXSx0LGUpfWZ1bmN0aW9uIENoKHQsZSxuKXt2YXIgaT0wPT09ZVs0XXx8MD09PWVbNV18fDA9PT1lWzBdPzE6TWF0aC5hYnMoMiplWzRdL2VbMF0pLHI9MD09PWVbNF18fDA9PT1lWzVdfHwwPT09ZVsyXT8xOk1hdGguYWJzKDIqZVs0XS9lWzJdKSxvPVsibGVmdCI9PT10Py1pOiJyaWdodCI9PT10P2k6MCwidG9wIj09PXQ/LXI6ImJvdHRvbSI9PT10P3I6MF07cmV0dXJuIG89VGgobyxlLG4pLE1hdGguYWJzKG9bMF0pPk1hdGguYWJzKG9bMV0pP29bMF0+MD8icmlnaHQiOiJsZWZ0IjpvWzFdPjA/ImJvdHRvbSI6InRvcCJ9ZnVuY3Rpb24gRGgodCl7cmV0dXJuIXQuaXNHcm91cH1mdW5jdGlvbiBBaCh0LGUsbil7aWYodCYmZSl7dmFyIGkscj0oaT17fSx0LnRyYXZlcnNlKChmdW5jdGlvbih0KXtEaCh0KSYmdC5hbmlkJiYoaVt0LmFuaWRdPXQpfSkpLGkpO2UudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe2lmKERoKHQpJiZ0LmFuaWQpe3ZhciBlPXJbdC5hbmlkXTtpZihlKXt2YXIgaT1vKHQpO3QuYXR0cihvKGUpKSxyaCh0LGksbixIcyh0KS5kYXRhSW5kZXgpfX19KSl9ZnVuY3Rpb24gbyh0KXt2YXIgZT17eDp0LngseTp0Lnkscm90YXRpb246dC5yb3RhdGlvbn07cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10LnNoYXBlfSh0KSYmKGUuc2hhcGU9QSh7fSx0LnNoYXBlKSksZX19ZnVuY3Rpb24ga2godCxlKXtyZXR1cm4geih0LChmdW5jdGlvbih0KXt2YXIgbj10WzBdO249Y2gobixlLngpLG49cGgobixlLngrZS53aWR0aCk7dmFyIGk9dFsxXTtyZXR1cm4gaT1jaChpLGUueSksW24saT1waChpLGUueStlLmhlaWdodCldfSkpfWZ1bmN0aW9uIExoKHQsZSl7dmFyIG49Y2godC54LGUueCksaT1waCh0LngrdC53aWR0aCxlLngrZS53aWR0aCkscj1jaCh0LnksZS55KSxvPXBoKHQueSt0LmhlaWdodCxlLnkrZS5oZWlnaHQpO2lmKGk+PW4mJm8+PXIpcmV0dXJue3g6bix5OnIsd2lkdGg6aS1uLGhlaWdodDpvLXJ9fWZ1bmN0aW9uIFBoKHQsZSxuKXt2YXIgaT1BKHtyZWN0SG92ZXI6ITB9LGUpLHI9aS5zdHlsZT17c3Ryb2tlTm9TY2FsZTohMH07aWYobj1ufHx7eDotMSx5Oi0xLHdpZHRoOjIsaGVpZ2h0OjJ9LHQpcmV0dXJuIDA9PT10LmluZGV4T2YoImltYWdlOi8vIik/KHIuaW1hZ2U9dC5zbGljZSg4KSxrKHIsbiksbmV3IF9zKGkpKTp4aCh0LnJlcGxhY2UoInBhdGg6Ly8iLCIiKSxpLG4sImNlbnRlciIpfWZ1bmN0aW9uIE9oKHQsZSxuLGkscil7Zm9yKHZhciBvPTAsYT1yW3IubGVuZ3RoLTFdO288ci5sZW5ndGg7bysrKXt2YXIgcz1yW29dO2lmKFJoKHQsZSxuLGksc1swXSxzWzFdLGFbMF0sYVsxXSkpcmV0dXJuITA7YT1zfX1mdW5jdGlvbiBSaCh0LGUsbixpLHIsbyxhLHMpe3ZhciBsLHU9bi10LGg9aS1lLGM9YS1yLHA9cy1vLGQ9TmgoYyxwLHUsaCk7aWYoKGw9ZCk8PTFlLTYmJmw+PS0xZS02KXJldHVybiExO3ZhciBmPXQtcixnPWUtbyx5PU5oKGYsZyx1LGgpL2Q7aWYoeTwwfHx5PjEpcmV0dXJuITE7dmFyIHY9TmgoZixnLGMscCkvZDtyZXR1cm4hKHY8MHx8dj4xKX1mdW5jdGlvbiBOaCh0LGUsbixpKXtyZXR1cm4gdCppLW4qZX1mdW5jdGlvbiBFaCh0KXt2YXIgZT10Lml0ZW1Ub29sdGlwT3B0aW9uLG49dC5jb21wb25lbnRNb2RlbCxpPXQuaXRlbU5hbWUscj1YKGUpP3tmb3JtYXR0ZXI6ZX06ZSxvPW4ubWFpblR5cGUsYT1uLmNvbXBvbmVudEluZGV4LHM9e2NvbXBvbmVudFR5cGU6byxuYW1lOmksJHZhcnM6WyJuYW1lIl19O3NbbysiSW5kZXgiXT1hO3ZhciBsPXQuZm9ybWF0dGVyUGFyYW1zRXh0cmE7bCYmRShHKGwpLChmdW5jdGlvbih0KXttdChzLHQpfHwoc1t0XT1sW3RdLHMuJHZhcnMucHVzaCh0KSl9KSk7dmFyIHU9SHModC5lbCk7dS5jb21wb25lbnRNYWluVHlwZT1vLHUuY29tcG9uZW50SW5kZXg9YSx1LnRvb2x0aXBDb25maWc9e25hbWU6aSxvcHRpb246ayh7Y29udGVudDppLGZvcm1hdHRlclBhcmFtczpzfSxyKX19ZnVuY3Rpb24gemgodCxlKXt2YXIgbjt0LmlzR3JvdXAmJihuPWUodCkpLG58fHQudHJhdmVyc2UoZSl9ZnVuY3Rpb24gVmgodCxlKXtpZih0KWlmKFkodCkpZm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspemgodFtuXSxlKTtlbHNlIHpoKHQsZSl9dmgoImNpcmNsZSIsaHUpLHZoKCJlbGxpcHNlIixwdSksdmgoInNlY3RvciIsQ3UpLHZoKCJyaW5nIixBdSksdmgoInBvbHlnb24iLFB1KSx2aCgicG9seWxpbmUiLFJ1KSx2aCgicmVjdCIsQ3MpLHZoKCJsaW5lIix6dSksdmgoImJlemllckN1cnZlIixHdSksdmgoImFyYyIsSHUpO3ZhciBCaD1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCx1cGRhdGVQcm9wczpyaCxpbml0UHJvcHM6b2gscmVtb3ZlRWxlbWVudDpzaCxyZW1vdmVFbGVtZW50V2l0aEZhZGVPdXQ6dWgsaXNFbGVtZW50UmVtb3ZlZDphaCxleHRlbmRTaGFwZTpmaCxleHRlbmRQYXRoOnloLHJlZ2lzdGVyU2hhcGU6dmgsZ2V0U2hhcGVDbGFzczptaCxtYWtlUGF0aDp4aCxtYWtlSW1hZ2U6X2gsbWVyZ2VQYXRoOndoLHJlc2l6ZVBhdGg6U2gsc3ViUGl4ZWxPcHRpbWl6ZUxpbmU6ZnVuY3Rpb24odCl7cmV0dXJuIHdzKHQuc2hhcGUsdC5zaGFwZSx0LnN0eWxlKSx0fSxzdWJQaXhlbE9wdGltaXplUmVjdDpmdW5jdGlvbih0KXtyZXR1cm4gU3ModC5zaGFwZSx0LnNoYXBlLHQuc3R5bGUpLHR9LHN1YlBpeGVsT3B0aW1pemU6TWgsZ2V0VHJhbnNmb3JtOkloLGFwcGx5VHJhbnNmb3JtOlRoLHRyYW5zZm9ybURpcmVjdGlvbjpDaCxncm91cFRyYW5zaXRpb246QWgsY2xpcFBvaW50c0J5UmVjdDpraCxjbGlwUmVjdEJ5UmVjdDpMaCxjcmVhdGVJY29uOlBoLGxpbmVQb2x5Z29uSW50ZXJzZWN0Ok9oLGxpbmVMaW5lSW50ZXJzZWN0OlJoLHNldFRvb2x0aXBDb25maWc6RWgsdHJhdmVyc2VFbGVtZW50czpWaCxHcm91cDpDcixJbWFnZTpfcyxUZXh0OmtzLENpcmNsZTpodSxFbGxpcHNlOnB1LFNlY3RvcjpDdSxSaW5nOkF1LFBvbHlnb246UHUsUG9seWxpbmU6UnUsUmVjdDpDcyxMaW5lOnp1LEJlemllckN1cnZlOkd1LEFyYzpIdSxJbmNyZW1lbnRhbERpc3BsYXlhYmxlOnRoLENvbXBvdW5kUGF0aDpZdSxMaW5lYXJHcmFkaWVudDpYdSxSYWRpYWxHcmFkaWVudDpadSxCb3VuZGluZ1JlY3Q6c3IsT3JpZW50ZWRCb3VuZGluZ1JlY3Q6SnUsUG9pbnQ6SmksUGF0aDpnc30pLEZoPXt9O2Z1bmN0aW9uIEdoKHQsZSl7Zm9yKHZhciBuPTA7bjxxcy5sZW5ndGg7bisrKXt2YXIgaT1xc1tuXSxyPWVbaV0sbz10LmVuc3VyZVN0YXRlKGkpO28uc3R5bGU9by5zdHlsZXx8e30sby5zdHlsZS50ZXh0PXJ9dmFyIGE9dC5jdXJyZW50U3RhdGVzLnNsaWNlKCk7dC5jbGVhclN0YXRlcyghMCksdC5zZXRTdHlsZSh7dGV4dDplLm5vcm1hbH0pLHQudXNlU3RhdGVzKGEsITApfWZ1bmN0aW9uIFdoKHQsZSxuKXt2YXIgaSxyPXQubGFiZWxGZXRjaGVyLG89dC5sYWJlbERhdGFJbmRleCxhPXQubGFiZWxEaW1JbmRleCxzPWUubm9ybWFsO3ImJihpPXIuZ2V0Rm9ybWF0dGVkTGFiZWwobywibm9ybWFsIixudWxsLGEscyYmcy5nZXQoImZvcm1hdHRlciIpLG51bGwhPW4/e2ludGVycG9sYXRlZFZhbHVlOm59Om51bGwpKSxudWxsPT1pJiYoaT1VKHQuZGVmYXVsdFRleHQpP3QuZGVmYXVsdFRleHQobyx0LG4pOnQuZGVmYXVsdFRleHQpO2Zvcih2YXIgbD17bm9ybWFsOml9LHU9MDt1PHFzLmxlbmd0aDt1Kyspe3ZhciBoPXFzW3VdLGM9ZVtoXTtsW2hdPXJ0KHI/ci5nZXRGb3JtYXR0ZWRMYWJlbChvLGgsbnVsbCxhLGMmJmMuZ2V0KCJmb3JtYXR0ZXIiKSk6bnVsbCxpKX1yZXR1cm4gbH1mdW5jdGlvbiBIaCh0LGUsbixpKXtuPW58fEZoO2Zvcih2YXIgcj10IGluc3RhbmNlb2Yga3Msbz0hMSxhPTA7YTxLcy5sZW5ndGg7YSsrKXtpZigocD1lW0tzW2FdXSkmJnAuZ2V0U2hhbGxvdygic2hvdyIpKXtvPSEwO2JyZWFrfX12YXIgcz1yP3Q6dC5nZXRUZXh0Q29udGVudCgpO2lmKG8pe3J8fChzfHwocz1uZXcga3MsdC5zZXRUZXh0Q29udGVudChzKSksdC5zdGF0ZVByb3h5JiYocy5zdGF0ZVByb3h5PXQuc3RhdGVQcm94eSkpO3ZhciBsPVdoKG4sZSksdT1lLm5vcm1hbCxoPSEhdS5nZXRTaGFsbG93KCJzaG93IiksYz1VaCh1LGkmJmkubm9ybWFsLG4sITEsIXIpO2MudGV4dD1sLm5vcm1hbCxyfHx0LnNldFRleHRDb25maWcoWGgodSxuLCExKSk7Zm9yKGE9MDthPHFzLmxlbmd0aDthKyspe3ZhciBwLGQ9cXNbYV07aWYocD1lW2RdKXt2YXIgZj1zLmVuc3VyZVN0YXRlKGQpLGc9ISFydChwLmdldFNoYWxsb3coInNob3ciKSxoKTtpZihnIT09aCYmKGYuaWdub3JlPSFnKSxmLnN0eWxlPVVoKHAsaSYmaVtkXSxuLCEwLCFyKSxmLnN0eWxlLnRleHQ9bFtkXSwhcil0LmVuc3VyZVN0YXRlKGQpLnRleHRDb25maWc9WGgocCxuLCEwKX19cy5zaWxlbnQ9ISF1LmdldFNoYWxsb3coInNpbGVudCIpLG51bGwhPXMuc3R5bGUueCYmKGMueD1zLnN0eWxlLngpLG51bGwhPXMuc3R5bGUueSYmKGMueT1zLnN0eWxlLnkpLHMuaWdub3JlPSFoLHMudXNlU3R5bGUoYykscy5kaXJ0eSgpLG4uZW5hYmxlVGV4dFNldHRlciYmKEpoKHMpLnNldExhYmVsVGV4dD1mdW5jdGlvbih0KXt2YXIgaT1XaChuLGUsdCk7R2gocyxpKX0pfWVsc2UgcyYmKHMuaWdub3JlPSEwKTt0LmRpcnR5KCl9ZnVuY3Rpb24gWWgodCxlKXtlPWV8fCJsYWJlbCI7Zm9yKHZhciBuPXtub3JtYWw6dC5nZXRNb2RlbChlKX0saT0wO2k8cXMubGVuZ3RoO2krKyl7dmFyIHI9cXNbaV07bltyXT10LmdldE1vZGVsKFtyLGVdKX1yZXR1cm4gbn1mdW5jdGlvbiBVaCh0LGUsbixpLHIpe3ZhciBvPXt9O3JldHVybiBmdW5jdGlvbih0LGUsbixpLHIpe249bnx8Rmg7dmFyIG8sYT1lLmVjTW9kZWwscz1hJiZhLm9wdGlvbi50ZXh0U3R5bGUsbD1mdW5jdGlvbih0KXt2YXIgZTtmb3IoO3QmJnQhPT10LmVjTW9kZWw7KXt2YXIgbj0odC5vcHRpb258fEZoKS5yaWNoO2lmKG4pe2U9ZXx8e307Zm9yKHZhciBpPUcobikscj0wO3I8aS5sZW5ndGg7cisrKXtlW2lbcl1dPTF9fXQ9dC5wYXJlbnRNb2RlbH1yZXR1cm4gZX0oZSk7aWYobClmb3IodmFyIHUgaW4gbz17fSxsKWlmKGwuaGFzT3duUHJvcGVydHkodSkpe3ZhciBoPWUuZ2V0TW9kZWwoWyJyaWNoIix1XSk7S2gob1t1XT17fSxoLHMsbixpLHIsITEsITApfW8mJih0LnJpY2g9byk7dmFyIGM9ZS5nZXQoIm92ZXJmbG93Iik7YyYmKHQub3ZlcmZsb3c9Yyk7dmFyIHA9ZS5nZXQoIm1pbk1hcmdpbiIpO251bGwhPXAmJih0Lm1hcmdpbj1wKTtLaCh0LGUscyxuLGksciwhMCwhMSl9KG8sdCxuLGksciksZSYmQShvLGUpLG99ZnVuY3Rpb24gWGgodCxlLG4pe2U9ZXx8e307dmFyIGkscj17fSxvPXQuZ2V0U2hhbGxvdygicm90YXRlIiksYT1ydCh0LmdldFNoYWxsb3coImRpc3RhbmNlIiksbj9udWxsOjUpLHM9dC5nZXRTaGFsbG93KCJvZmZzZXQiKTtyZXR1cm4ib3V0c2lkZSI9PT0oaT10LmdldFNoYWxsb3coInBvc2l0aW9uIil8fChuP251bGw6Imluc2lkZSIpKSYmKGk9ZS5kZWZhdWx0T3V0c2lkZVBvc2l0aW9ufHwidG9wIiksbnVsbCE9aSYmKHIucG9zaXRpb249aSksbnVsbCE9cyYmKHIub2Zmc2V0PXMpLG51bGwhPW8mJihvKj1NYXRoLlBJLzE4MCxyLnJvdGF0aW9uPW8pLG51bGwhPWEmJihyLmRpc3RhbmNlPWEpLHIub3V0c2lkZUZpbGw9ImluaGVyaXQiPT09dC5nZXQoImNvbG9yIik/ZS5pbmhlcml0Q29sb3J8fG51bGw6ImF1dG8iLHJ9dmFyIFpoPVsiZm9udFN0eWxlIiwiZm9udFdlaWdodCIsImZvbnRTaXplIiwiZm9udEZhbWlseSIsInRleHRTaGFkb3dDb2xvciIsInRleHRTaGFkb3dCbHVyIiwidGV4dFNoYWRvd09mZnNldFgiLCJ0ZXh0U2hhZG93T2Zmc2V0WSJdLGpoPVsiYWxpZ24iLCJsaW5lSGVpZ2h0Iiwid2lkdGgiLCJoZWlnaHQiLCJ0YWciLCJ2ZXJ0aWNhbEFsaWduIl0scWg9WyJwYWRkaW5nIiwiYm9yZGVyV2lkdGgiLCJib3JkZXJSYWRpdXMiLCJib3JkZXJEYXNoT2Zmc2V0IiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyQ29sb3IiLCJzaGFkb3dDb2xvciIsInNoYWRvd0JsdXIiLCJzaGFkb3dPZmZzZXRYIiwic2hhZG93T2Zmc2V0WSJdO2Z1bmN0aW9uIEtoKHQsZSxuLGkscixvLGEscyl7bj0hciYmbnx8Rmg7dmFyIGw9aSYmaS5pbmhlcml0Q29sb3IsdT1lLmdldFNoYWxsb3coImNvbG9yIiksaD1lLmdldFNoYWxsb3coInRleHRCb3JkZXJDb2xvciIpLGM9cnQoZS5nZXRTaGFsbG93KCJvcGFjaXR5Iiksbi5vcGFjaXR5KTsiaW5oZXJpdCIhPT11JiYiYXV0byIhPT11fHwodT1sfHxudWxsKSwiaW5oZXJpdCIhPT1oJiYiYXV0byIhPT1ofHwoaD1sfHxudWxsKSxvfHwodT11fHxuLmNvbG9yLGg9aHx8bi50ZXh0Qm9yZGVyQ29sb3IpLG51bGwhPXUmJih0LmZpbGw9dSksbnVsbCE9aCYmKHQuc3Ryb2tlPWgpO3ZhciBwPXJ0KGUuZ2V0U2hhbGxvdygidGV4dEJvcmRlcldpZHRoIiksbi50ZXh0Qm9yZGVyV2lkdGgpO251bGwhPXAmJih0LmxpbmVXaWR0aD1wKTt2YXIgZD1ydChlLmdldFNoYWxsb3coInRleHRCb3JkZXJUeXBlIiksbi50ZXh0Qm9yZGVyVHlwZSk7bnVsbCE9ZCYmKHQubGluZURhc2g9ZCk7dmFyIGY9cnQoZS5nZXRTaGFsbG93KCJ0ZXh0Qm9yZGVyRGFzaE9mZnNldCIpLG4udGV4dEJvcmRlckRhc2hPZmZzZXQpO251bGwhPWYmJih0LmxpbmVEYXNoT2Zmc2V0PWYpLHJ8fG51bGwhPWN8fHN8fChjPWkmJmkuZGVmYXVsdE9wYWNpdHkpLG51bGwhPWMmJih0Lm9wYWNpdHk9Yykscnx8b3x8bnVsbD09dC5maWxsJiZpLmluaGVyaXRDb2xvciYmKHQuZmlsbD1pLmluaGVyaXRDb2xvcik7Zm9yKHZhciBnPTA7ZzxaaC5sZW5ndGg7ZysrKXt2YXIgeT1aaFtnXTtudWxsIT0obT1ydChlLmdldFNoYWxsb3coeSksblt5XSkpJiYodFt5XT1tKX1mb3IoZz0wO2c8amgubGVuZ3RoO2crKyl7eT1qaFtnXTtudWxsIT0obT1lLmdldFNoYWxsb3coeSkpJiYodFt5XT1tKX1pZihudWxsPT10LnZlcnRpY2FsQWxpZ24pe3ZhciB2PWUuZ2V0U2hhbGxvdygiYmFzZWxpbmUiKTtudWxsIT12JiYodC52ZXJ0aWNhbEFsaWduPXYpfWlmKCFhfHwhaS5kaXNhYmxlQm94KXtmb3IoZz0wO2c8cWgubGVuZ3RoO2crKyl7dmFyIG07eT1xaFtnXTtudWxsIT0obT1lLmdldFNoYWxsb3coeSkpJiYodFt5XT1tKX12YXIgeD1lLmdldFNoYWxsb3coImJvcmRlclR5cGUiKTtudWxsIT14JiYodC5ib3JkZXJEYXNoPXgpLCJhdXRvIiE9PXQuYmFja2dyb3VuZENvbG9yJiYiaW5oZXJpdCIhPT10LmJhY2tncm91bmRDb2xvcnx8IWx8fCh0LmJhY2tncm91bmRDb2xvcj1sKSwiYXV0byIhPT10LmJvcmRlckNvbG9yJiYiaW5oZXJpdCIhPT10LmJvcmRlckNvbG9yfHwhbHx8KHQuYm9yZGVyQ29sb3I9bCl9fWZ1bmN0aW9uICRoKHQsZSl7dmFyIG49ZSYmZS5nZXRNb2RlbCgidGV4dFN0eWxlIik7cmV0dXJuIHV0KFt0LmZvbnRTdHlsZXx8biYmbi5nZXRTaGFsbG93KCJmb250U3R5bGUiKXx8IiIsdC5mb250V2VpZ2h0fHxuJiZuLmdldFNoYWxsb3coImZvbnRXZWlnaHQiKXx8IiIsKHQuZm9udFNpemV8fG4mJm4uZ2V0U2hhbGxvdygiZm9udFNpemUiKXx8MTIpKyJweCIsdC5mb250RmFtaWx5fHxuJiZuLmdldFNoYWxsb3coImZvbnRGYW1pbHkiKXx8InNhbnMtc2VyaWYiXS5qb2luKCIgIikpfXZhciBKaD1TbygpO2Z1bmN0aW9uIFFoKHQsZSxuLGkpe2lmKHQpe3ZhciByPUpoKHQpO3IucHJldlZhbHVlPXIudmFsdWUsci52YWx1ZT1uO3ZhciBvPWUubm9ybWFsO3IudmFsdWVBbmltYXRpb249by5nZXQoInZhbHVlQW5pbWF0aW9uIiksci52YWx1ZUFuaW1hdGlvbiYmKHIucHJlY2lzaW9uPW8uZ2V0KCJwcmVjaXNpb24iKSxyLmRlZmF1bHRJbnRlcnBvbGF0ZWRUZXh0PWksci5zdGF0ZXNNb2RlbHM9ZSl9fWZ1bmN0aW9uIHRjKHQsZSxuLGkscil7dmFyIG89SmgodCk7aWYoby52YWx1ZUFuaW1hdGlvbiYmby5wcmV2VmFsdWUhPT1vLnZhbHVlKXt2YXIgYT1vLmRlZmF1bHRJbnRlcnBvbGF0ZWRUZXh0LHM9cnQoby5pbnRlcnBvbGF0ZWRWYWx1ZSxvLnByZXZWYWx1ZSksbD1vLnZhbHVlO3QucGVyY2VudD0wLChudWxsPT1vLnByZXZWYWx1ZT9vaDpyaCkodCx7cGVyY2VudDoxfSxpLGUsbnVsbCwoZnVuY3Rpb24oaSl7dmFyIHU9UG8obixvLnByZWNpc2lvbixzLGwsaSk7by5pbnRlcnBvbGF0ZWRWYWx1ZT0xPT09aT9udWxsOnU7dmFyIGg9V2goe2xhYmVsRGF0YUluZGV4OmUsbGFiZWxGZXRjaGVyOnIsZGVmYXVsdFRleHQ6YT9hKHUpOnUrIiJ9LG8uc3RhdGVzTW9kZWxzLHUpO0doKHQsaCl9KSl9fXZhciBlYyxuYyxpYz1bInRleHRTdHlsZSIsImNvbG9yIl0scmM9WyJmb250U3R5bGUiLCJmb250V2VpZ2h0IiwiZm9udFNpemUiLCJmb250RmFtaWx5IiwicGFkZGluZyIsImxpbmVIZWlnaHQiLCJyaWNoIiwid2lkdGgiLCJoZWlnaHQiLCJvdmVyZmxvdyJdLG9jPW5ldyBrcyxhYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmdldFRleHRDb2xvcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmVjTW9kZWw7cmV0dXJuIHRoaXMuZ2V0U2hhbGxvdygiY29sb3IiKXx8KCF0JiZlP2UuZ2V0KGljKTpudWxsKX0sdC5wcm90b3R5cGUuZ2V0Rm9udD1mdW5jdGlvbigpe3JldHVybiAkaCh7Zm9udFN0eWxlOnRoaXMuZ2V0U2hhbGxvdygiZm9udFN0eWxlIiksZm9udFdlaWdodDp0aGlzLmdldFNoYWxsb3coImZvbnRXZWlnaHQiKSxmb250U2l6ZTp0aGlzLmdldFNoYWxsb3coImZvbnRTaXplIiksZm9udEZhbWlseTp0aGlzLmdldFNoYWxsb3coImZvbnRGYW1pbHkiKX0sdGhpcy5lY01vZGVsKX0sdC5wcm90b3R5cGUuZ2V0VGV4dFJlY3Q9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXt0ZXh0OnQsdmVydGljYWxBbGlnbjp0aGlzLmdldFNoYWxsb3coInZlcnRpY2FsQWxpZ24iKXx8dGhpcy5nZXRTaGFsbG93KCJiYXNlbGluZSIpfSxuPTA7bjxyYy5sZW5ndGg7bisrKWVbcmNbbl1dPXRoaXMuZ2V0U2hhbGxvdyhyY1tuXSk7cmV0dXJuIG9jLnVzZVN0eWxlKGUpLG9jLnVwZGF0ZSgpLG9jLmdldEJvdW5kaW5nUmVjdCgpfSx0fSgpLHNjPVtbImxpbmVXaWR0aCIsIndpZHRoIl0sWyJzdHJva2UiLCJjb2xvciJdLFsib3BhY2l0eSJdLFsic2hhZG93Qmx1ciJdLFsic2hhZG93T2Zmc2V0WCJdLFsic2hhZG93T2Zmc2V0WSJdLFsic2hhZG93Q29sb3IiXSxbImxpbmVEYXNoIiwidHlwZSJdLFsibGluZURhc2hPZmZzZXQiLCJkYXNoT2Zmc2V0Il0sWyJsaW5lQ2FwIiwiY2FwIl0sWyJsaW5lSm9pbiIsImpvaW4iXSxbIm1pdGVyTGltaXQiXV0sbGM9V28oc2MpLHVjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0TGluZVN0eWxlPWZ1bmN0aW9uKHQpe3JldHVybiBsYyh0aGlzLHQpfSx0fSgpLGhjPVtbImZpbGwiLCJjb2xvciJdLFsic3Ryb2tlIiwiYm9yZGVyQ29sb3IiXSxbImxpbmVXaWR0aCIsImJvcmRlcldpZHRoIl0sWyJvcGFjaXR5Il0sWyJzaGFkb3dCbHVyIl0sWyJzaGFkb3dPZmZzZXRYIl0sWyJzaGFkb3dPZmZzZXRZIl0sWyJzaGFkb3dDb2xvciJdLFsibGluZURhc2giLCJib3JkZXJUeXBlIl0sWyJsaW5lRGFzaE9mZnNldCIsImJvcmRlckRhc2hPZmZzZXQiXSxbImxpbmVDYXAiLCJib3JkZXJDYXAiXSxbImxpbmVKb2luIiwiYm9yZGVySm9pbiJdLFsibWl0ZXJMaW1pdCIsImJvcmRlck1pdGVyTGltaXQiXV0sY2M9V28oaGMpLHBjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0SXRlbVN0eWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGNjKHRoaXMsdCxlKX0sdH0oKSxkYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMucGFyZW50TW9kZWw9ZSx0aGlzLmVjTW9kZWw9bix0aGlzLm9wdGlvbj10fXJldHVybiB0LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9W10scj0zO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspaVtyLTNdPWFyZ3VtZW50c1tyXX0sdC5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24odCxlKXtDKHRoaXMub3B0aW9uLHQsITApfSx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbD09dD90aGlzLm9wdGlvbjp0aGlzLl9kb0dldCh0aGlzLnBhcnNlUGF0aCh0KSwhZSYmdGhpcy5wYXJlbnRNb2RlbCl9LHQucHJvdG90eXBlLmdldFNoYWxsb3c9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm9wdGlvbixpPW51bGw9PW4/bjpuW3RdO2lmKG51bGw9PWkmJiFlKXt2YXIgcj10aGlzLnBhcmVudE1vZGVsO3ImJihpPXIuZ2V0U2hhbGxvdyh0KSl9cmV0dXJuIGl9LHQucHJvdG90eXBlLmdldE1vZGVsPWZ1bmN0aW9uKGUsbil7dmFyIGk9bnVsbCE9ZSxyPWk/dGhpcy5wYXJzZVBhdGgoZSk6bnVsbDtyZXR1cm4gbmV3IHQoaT90aGlzLl9kb0dldChyKTp0aGlzLm9wdGlvbixuPW58fHRoaXMucGFyZW50TW9kZWwmJnRoaXMucGFyZW50TW9kZWwuZ2V0TW9kZWwodGhpcy5yZXNvbHZlUGFyZW50UGF0aChyKSksdGhpcy5lY01vZGVsKX0sdC5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiBudWxsPT10aGlzLm9wdGlvbn0sdC5wcm90b3R5cGUucmVzdG9yZURhdGE9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldygwLHRoaXMuY29uc3RydWN0b3IpKFQodGhpcy5vcHRpb24pKX0sdC5wcm90b3R5cGUucGFyc2VQYXRoPWZ1bmN0aW9uKHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD90LnNwbGl0KCIuIik6dH0sdC5wcm90b3R5cGUucmVzb2x2ZVBhcmVudFBhdGg9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LHQucHJvdG90eXBlLmlzQW5pbWF0aW9uRW5hYmxlZD1mdW5jdGlvbigpe2lmKCFyLm5vZGUmJnRoaXMub3B0aW9uKXtpZihudWxsIT10aGlzLm9wdGlvbi5hbmltYXRpb24pcmV0dXJuISF0aGlzLm9wdGlvbi5hbmltYXRpb247aWYodGhpcy5wYXJlbnRNb2RlbClyZXR1cm4gdGhpcy5wYXJlbnRNb2RlbC5pc0FuaW1hdGlvbkVuYWJsZWQoKX19LHQucHJvdG90eXBlLl9kb0dldD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMub3B0aW9uO2lmKCF0KXJldHVybiBuO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGgmJighdFtpXXx8bnVsbCE9KG49biYmIm9iamVjdCI9PXR5cGVvZiBuP25bdFtpXV06bnVsbCkpO2krKyk7cmV0dXJuIG51bGw9PW4mJmUmJihuPWUuX2RvR2V0KHRoaXMucmVzb2x2ZVBhcmVudFBhdGgodCksZS5wYXJlbnRNb2RlbCkpLG59LHR9KCk7RW8oZGMpLGVjPWRjLG5jPVsiX19cMGlzX2NseiIsVm8rK10uam9pbigiXyIpLGVjLnByb3RvdHlwZVtuY109ITAsZWMuaXNJbnN0YW5jZT1mdW5jdGlvbih0KXtyZXR1cm4hKCF0fHwhdFtuY10pfSxSKGRjLHVjKSxSKGRjLHBjKSxSKGRjLFlvKSxSKGRjLGFjKTt2YXIgZmM9TWF0aC5yb3VuZCgxMCpNYXRoLnJhbmRvbSgpKTtmdW5jdGlvbiBnYyh0KXtyZXR1cm5bdHx8IiIsZmMrK10uam9pbigiXyIpfWZ1bmN0aW9uIHljKHQsZSl7cmV0dXJuIEMoQyh7fSx0LCEwKSxlLCEwKX12YXIgdmM9IlpIIixtYz0iRU4iLHhjPW1jLF9jPXt9LGJjPXt9LHdjPXIuZG9tU3VwcG9ydGVkJiYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lmxhbmd8fG5hdmlnYXRvci5sYW5ndWFnZXx8bmF2aWdhdG9yLmJyb3dzZXJMYW5ndWFnZSkudG9VcHBlckNhc2UoKS5pbmRleE9mKHZjKT4tMT92Yzp4YztmdW5jdGlvbiBTYyh0LGUpe3Q9dC50b1VwcGVyQ2FzZSgpLGJjW3RdPW5ldyBkYyhlKSxfY1t0XT1lfWZ1bmN0aW9uIE1jKHQpe3JldHVybiBiY1t0XX1TYyhtYyx7dGltZTp7bW9udGg6WyJKYW51YXJ5IiwiRmVicnVhcnkiLCJNYXJjaCIsIkFwcmlsIiwiTWF5IiwiSnVuZSIsIkp1bHkiLCJBdWd1c3QiLCJTZXB0ZW1iZXIiLCJPY3RvYmVyIiwiTm92ZW1iZXIiLCJEZWNlbWJlciJdLG1vbnRoQWJicjpbIkphbiIsIkZlYiIsIk1hciIsIkFwciIsIk1heSIsIkp1biIsIkp1bCIsIkF1ZyIsIlNlcCIsIk9jdCIsIk5vdiIsIkRlYyJdLGRheU9mV2VlazpbIlN1bmRheSIsIk1vbmRheSIsIlR1ZXNkYXkiLCJXZWRuZXNkYXkiLCJUaHVyc2RheSIsIkZyaWRheSIsIlNhdHVyZGF5Il0sZGF5T2ZXZWVrQWJicjpbIlN1biIsIk1vbiIsIlR1ZSIsIldlZCIsIlRodSIsIkZyaSIsIlNhdCJdfSxsZWdlbmQ6e3NlbGVjdG9yOnthbGw6IkFsbCIsaW52ZXJzZToiSW52In19LHRvb2xib3g6e2JydXNoOnt0aXRsZTp7cmVjdDoiQm94IFNlbGVjdCIscG9seWdvbjoiTGFzc28gU2VsZWN0IixsaW5lWDoiSG9yaXpvbnRhbGx5IFNlbGVjdCIsbGluZVk6IlZlcnRpY2FsbHkgU2VsZWN0IixrZWVwOiJLZWVwIFNlbGVjdGlvbnMiLGNsZWFyOiJDbGVhciBTZWxlY3Rpb25zIn19LGRhdGFWaWV3Ont0aXRsZToiRGF0YSBWaWV3IixsYW5nOlsiRGF0YSBWaWV3IiwiQ2xvc2UiLCJSZWZyZXNoIl19LGRhdGFab29tOnt0aXRsZTp7em9vbToiWm9vbSIsYmFjazoiWm9vbSBSZXNldCJ9fSxtYWdpY1R5cGU6e3RpdGxlOntsaW5lOiJTd2l0Y2ggdG8gTGluZSBDaGFydCIsYmFyOiJTd2l0Y2ggdG8gQmFyIENoYXJ0IixzdGFjazoiU3RhY2siLHRpbGVkOiJUaWxlIn19LHJlc3RvcmU6e3RpdGxlOiJSZXN0b3JlIn0sc2F2ZUFzSW1hZ2U6e3RpdGxlOiJTYXZlIGFzIEltYWdlIixsYW5nOlsiUmlnaHQgQ2xpY2sgdG8gU2F2ZSBJbWFnZSJdfX0sc2VyaWVzOnt0eXBlTmFtZXM6e3BpZToiUGllIGNoYXJ0IixiYXI6IkJhciBjaGFydCIsbGluZToiTGluZSBjaGFydCIsc2NhdHRlcjoiU2NhdHRlciBwbG90IixlZmZlY3RTY2F0dGVyOiJSaXBwbGUgc2NhdHRlciBwbG90IixyYWRhcjoiUmFkYXIgY2hhcnQiLHRyZWU6IlRyZWUiLHRyZWVtYXA6IlRyZWVtYXAiLGJveHBsb3Q6IkJveHBsb3QiLGNhbmRsZXN0aWNrOiJDYW5kbGVzdGljayIsazoiSyBsaW5lIGNoYXJ0IixoZWF0bWFwOiJIZWF0IG1hcCIsbWFwOiJNYXAiLHBhcmFsbGVsOiJQYXJhbGxlbCBjb29yZGluYXRlIG1hcCIsbGluZXM6IkxpbmUgZ3JhcGgiLGdyYXBoOiJSZWxhdGlvbnNoaXAgZ3JhcGgiLHNhbmtleToiU2Fua2V5IGRpYWdyYW0iLGZ1bm5lbDoiRnVubmVsIGNoYXJ0IixnYXVnZToiR2F1Z2UiLHBpY3RvcmlhbEJhcjoiUGljdG9yaWFsIGJhciIsdGhlbWVSaXZlcjoiVGhlbWUgUml2ZXIgTWFwIixzdW5idXJzdDoiU3VuYnVyc3QifX0sYXJpYTp7Z2VuZXJhbDp7d2l0aFRpdGxlOidUaGlzIGlzIGEgY2hhcnQgYWJvdXQgInt0aXRsZX0iJyx3aXRob3V0VGl0bGU6IlRoaXMgaXMgYSBjaGFydCJ9LHNlcmllczp7c2luZ2xlOntwcmVmaXg6IiIsd2l0aE5hbWU6IiB3aXRoIHR5cGUge3Nlcmllc1R5cGV9IG5hbWVkIHtzZXJpZXNOYW1lfS4iLHdpdGhvdXROYW1lOiIgd2l0aCB0eXBlIHtzZXJpZXNUeXBlfS4ifSxtdWx0aXBsZTp7cHJlZml4OiIuIEl0IGNvbnNpc3RzIG9mIHtzZXJpZXNDb3VudH0gc2VyaWVzIGNvdW50LiIsd2l0aE5hbWU6IiBUaGUge3Nlcmllc0lkfSBzZXJpZXMgaXMgYSB7c2VyaWVzVHlwZX0gcmVwcmVzZW50aW5nIHtzZXJpZXNOYW1lfS4iLHdpdGhvdXROYW1lOiIgVGhlIHtzZXJpZXNJZH0gc2VyaWVzIGlzIGEge3Nlcmllc1R5cGV9LiIsc2VwYXJhdG9yOnttaWRkbGU6IiIsZW5kOiIifX19LGRhdGE6e2FsbERhdGE6IlRoZSBkYXRhIGlzIGFzIGZvbGxvd3M6ICIscGFydGlhbERhdGE6IlRoZSBmaXJzdCB7ZGlzcGxheUNudH0gaXRlbXMgYXJlOiAiLHdpdGhOYW1lOiJ0aGUgZGF0YSBmb3Ige25hbWV9IGlzIHt2YWx1ZX0iLHdpdGhvdXROYW1lOiJ7dmFsdWV9IixzZXBhcmF0b3I6e21pZGRsZToiLCAiLGVuZDoiLiAifX19fSksU2ModmMse3RpbWU6e21vbnRoOlsi5LiA5pyIIiwi5LqM5pyIIiwi5LiJ5pyIIiwi5Zub5pyIIiwi5LqU5pyIIiwi5YWt5pyIIiwi5LiD5pyIIiwi5YWr5pyIIiwi5Lmd5pyIIiwi5Y2B5pyIIiwi5Y2B5LiA5pyIIiwi5Y2B5LqM5pyIIl0sbW9udGhBYmJyOlsiMeaciCIsIjLmnIgiLCIz5pyIIiwiNOaciCIsIjXmnIgiLCI25pyIIiwiN+aciCIsIjjmnIgiLCI55pyIIiwiMTDmnIgiLCIxMeaciCIsIjEy5pyIIl0sZGF5T2ZXZWVrOlsi5pif5pyf5pelIiwi5pif5pyf5LiAIiwi5pif5pyf5LqMIiwi5pif5pyf5LiJIiwi5pif5pyf5ZubIiwi5pif5pyf5LqUIiwi5pif5pyf5YWtIl0sZGF5T2ZXZWVrQWJicjpbIuaXpSIsIuS4gCIsIuS6jCIsIuS4iSIsIuWbmyIsIuS6lCIsIuWFrSJdfSxsZWdlbmQ6e3NlbGVjdG9yOnthbGw6IuWFqOmAiSIsaW52ZXJzZToi5Y+N6YCJIn19LHRvb2xib3g6e2JydXNoOnt0aXRsZTp7cmVjdDoi55+p5b2i6YCJ5oupIixwb2x5Z29uOiLlnIjpgIkiLGxpbmVYOiLmqKrlkJHpgInmi6kiLGxpbmVZOiLnurXlkJHpgInmi6kiLGtlZXA6IuS/neaMgemAieaLqSIsY2xlYXI6Iua4hemZpOmAieaLqSJ9fSxkYXRhVmlldzp7dGl0bGU6IuaVsOaNruinhuWbviIsbGFuZzpbIuaVsOaNruinhuWbviIsIuWFs+mXrSIsIuWIt+aWsCJdfSxkYXRhWm9vbTp7dGl0bGU6e3pvb206IuWMuuWfn+e8qeaUviIsYmFjazoi5Yy65Z+f57yp5pS+6L+Y5Y6fIn19LG1hZ2ljVHlwZTp7dGl0bGU6e2xpbmU6IuWIh+aNouS4uuaKmOe6v+WbviIsYmFyOiLliIfmjaLkuLrmn7Hnirblm74iLHN0YWNrOiLliIfmjaLkuLrloIblj6AiLHRpbGVkOiLliIfmjaLkuLrlubPpk7oifX0scmVzdG9yZTp7dGl0bGU6Iui/mOWOnyJ9LHNhdmVBc0ltYWdlOnt0aXRsZToi5L+d5a2Y5Li65Zu+54mHIixsYW5nOlsi5Y+z6ZSu5Y+m5a2Y5Li65Zu+54mHIl19fSxzZXJpZXM6e3R5cGVOYW1lczp7cGllOiLppbzlm74iLGJhcjoi5p+x54q25Zu+IixsaW5lOiLmipjnur/lm74iLHNjYXR0ZXI6IuaVo+eCueWbviIsZWZmZWN0U2NhdHRlcjoi5raf5ryq5pWj54K55Zu+IixyYWRhcjoi6Zu36L6+5Zu+Iix0cmVlOiLmoJHlm74iLHRyZWVtYXA6IuefqeW9ouagkeWbviIsYm94cGxvdDoi566x5Z6L5Zu+IixjYW5kbGVzdGljazoiS+e6v+WbviIsazoiS+e6v+WbviIsaGVhdG1hcDoi54Ot5Yqb5Zu+IixtYXA6IuWcsOWbviIscGFyYWxsZWw6IuW5s+ihjOWdkOagh+WbviIsbGluZXM6Iue6v+WbviIsZ3JhcGg6IuWFs+ezu+WbviIsc2Fua2V5OiLmoZHln7rlm74iLGZ1bm5lbDoi5ryP5paX5Zu+IixnYXVnZToi5Luq6KGo55uY5Zu+IixwaWN0b3JpYWxCYXI6IuixoeW9ouafseWbviIsdGhlbWVSaXZlcjoi5Li76aKY5rKz5rWB5Zu+IixzdW5idXJzdDoi5pet5pel5Zu+In19LGFyaWE6e2dlbmVyYWw6e3dpdGhUaXRsZToi6L+Z5piv5LiA5Liq5YWz5LqO4oCce3RpdGxlfeKAneeahOWbvuihqOOAgiIsd2l0aG91dFRpdGxlOiLov5nmmK/kuIDkuKrlm77ooajvvIwifSxzZXJpZXM6e3NpbmdsZTp7cHJlZml4OiIiLHdpdGhOYW1lOiLlm77ooajnsbvlnovmmK97c2VyaWVzVHlwZX3vvIzooajnpLp7c2VyaWVzTmFtZX3jgIIiLHdpdGhvdXROYW1lOiLlm77ooajnsbvlnovmmK97c2VyaWVzVHlwZX3jgIIifSxtdWx0aXBsZTp7cHJlZml4OiLlroPnlLF7c2VyaWVzQ291bnR95Liq5Zu+6KGo57O75YiX57uE5oiQ44CCIix3aXRoTmFtZToi56yse3Nlcmllc0lkfeS4quezu+WIl+aYr+S4gOS4quihqOekuntzZXJpZXNOYW1lfeeahHtzZXJpZXNUeXBlfe+8jCIsd2l0aG91dE5hbWU6IuesrHtzZXJpZXNJZH3kuKrns7vliJfmmK/kuIDkuKp7c2VyaWVzVHlwZX3vvIwiLHNlcGFyYXRvcjp7bWlkZGxlOiLvvJsiLGVuZDoi44CCIn19fSxkYXRhOnthbGxEYXRhOiLlhbbmlbDmja7mmK/igJTigJQiLHBhcnRpYWxEYXRhOiLlhbbkuK3vvIzliY17ZGlzcGxheUNudH3pobnmmK/igJTigJQiLHdpdGhOYW1lOiJ7bmFtZX3nmoTmlbDmja7mmK97dmFsdWV9Iix3aXRob3V0TmFtZToie3ZhbHVlfSIsc2VwYXJhdG9yOnttaWRkbGU6Iu+8jCIsZW5kOiIifX19fSk7dmFyIEljPTFlMyxUYz02ZTQsQ2M9MzZlNSxEYz04NjRlNSxBYz0zMTUzNmU2LGtjPXt5ZWFyOiJ7eXl5eX0iLG1vbnRoOiJ7TU1NfSIsZGF5OiJ7ZH0iLGhvdXI6IntISH06e21tfSIsbWludXRlOiJ7SEh9OnttbX0iLHNlY29uZDoie0hIfTp7bW19Ontzc30iLG1pbGxpc2Vjb25kOiJ7SEh9OnttbX06e3NzfSB7U1NTfSIsbm9uZToie3l5eXl9LXtNTX0te2RkfSB7SEh9OnttbX06e3NzfSB7U1NTfSJ9LExjPSJ7eXl5eX0te01NfS17ZGR9IixQYz17eWVhcjoie3l5eXl9Iixtb250aDoie3l5eXl9LXtNTX0iLGRheTpMYyxob3VyOiJ7eXl5eX0te01NfS17ZGR9ICIra2MuaG91cixtaW51dGU6Int5eXl5fS17TU19LXtkZH0gIitrYy5taW51dGUsc2Vjb25kOiJ7eXl5eX0te01NfS17ZGR9ICIra2Muc2Vjb25kLG1pbGxpc2Vjb25kOmtjLm5vbmV9LE9jPVsieWVhciIsIm1vbnRoIiwiZGF5IiwiaG91ciIsIm1pbnV0ZSIsInNlY29uZCIsIm1pbGxpc2Vjb25kIl0sUmM9WyJ5ZWFyIiwiaGFsZi15ZWFyIiwicXVhcnRlciIsIm1vbnRoIiwid2VlayIsImhhbGYtd2VlayIsImRheSIsImhhbGYtZGF5IiwicXVhcnRlci1kYXkiLCJob3VyIiwibWludXRlIiwic2Vjb25kIiwibWlsbGlzZWNvbmQiXTtmdW5jdGlvbiBOYyh0LGUpe3JldHVybiIwMDAwIi5zdWJzdHIoMCxlLSh0Kz0iIikubGVuZ3RoKSt0fWZ1bmN0aW9uIEVjKHQpe3N3aXRjaCh0KXtjYXNlImhhbGYteWVhciI6Y2FzZSJxdWFydGVyIjpyZXR1cm4ibW9udGgiO2Nhc2Uid2VlayI6Y2FzZSJoYWxmLXdlZWsiOnJldHVybiJkYXkiO2Nhc2UiaGFsZi1kYXkiOmNhc2UicXVhcnRlci1kYXkiOnJldHVybiJob3VyIjtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiB6Yyh0KXtyZXR1cm4gdD09PUVjKHQpfWZ1bmN0aW9uIFZjKHQsZSxuLGkpe3ZhciByPWpyKHQpLG89cltHYyhuKV0oKSxhPXJbV2MobildKCkrMSxzPU1hdGguZmxvb3IoKGEtMSkvNCkrMSxsPXJbSGMobildKCksdT1yWyJnZXQiKyhuPyJVVEMiOiIiKSsiRGF5Il0oKSxoPXJbWWMobildKCksYz0oaC0xKSUxMisxLHA9cltVYyhuKV0oKSxkPXJbWGMobildKCksZj1yW1pjKG4pXSgpLGc9KGkgaW5zdGFuY2VvZiBkYz9pOk1jKGl8fHdjKXx8YmMuRU4pLmdldE1vZGVsKCJ0aW1lIikseT1nLmdldCgibW9udGgiKSx2PWcuZ2V0KCJtb250aEFiYnIiKSxtPWcuZ2V0KCJkYXlPZldlZWsiKSx4PWcuZ2V0KCJkYXlPZldlZWtBYmJyIik7cmV0dXJuKGV8fCIiKS5yZXBsYWNlKC97eXl5eX0vZyxvKyIiKS5yZXBsYWNlKC97eXl9L2csbyUxMDArIiIpLnJlcGxhY2UoL3tRfS9nLHMrIiIpLnJlcGxhY2UoL3tNTU1NfS9nLHlbYS0xXSkucmVwbGFjZSgve01NTX0vZyx2W2EtMV0pLnJlcGxhY2UoL3tNTX0vZyxOYyhhLDIpKS5yZXBsYWNlKC97TX0vZyxhKyIiKS5yZXBsYWNlKC97ZGR9L2csTmMobCwyKSkucmVwbGFjZSgve2R9L2csbCsiIikucmVwbGFjZSgve2VlZWV9L2csbVt1XSkucmVwbGFjZSgve2VlfS9nLHhbdV0pLnJlcGxhY2UoL3tlfS9nLHUrIiIpLnJlcGxhY2UoL3tISH0vZyxOYyhoLDIpKS5yZXBsYWNlKC97SH0vZyxoKyIiKS5yZXBsYWNlKC97aGh9L2csTmMoYysiIiwyKSkucmVwbGFjZSgve2h9L2csYysiIikucmVwbGFjZSgve21tfS9nLE5jKHAsMikpLnJlcGxhY2UoL3ttfS9nLHArIiIpLnJlcGxhY2UoL3tzc30vZyxOYyhkLDIpKS5yZXBsYWNlKC97c30vZyxkKyIiKS5yZXBsYWNlKC97U1NTfS9nLE5jKGYsMykpLnJlcGxhY2UoL3tTfS9nLGYrIiIpfWZ1bmN0aW9uIEJjKHQsZSl7dmFyIG49anIodCksaT1uW1djKGUpXSgpKzEscj1uW0hjKGUpXSgpLG89bltZYyhlKV0oKSxhPW5bVWMoZSldKCkscz1uW1hjKGUpXSgpLGw9MD09PW5bWmMoZSldKCksdT1sJiYwPT09cyxoPXUmJjA9PT1hLGM9aCYmMD09PW8scD1jJiYxPT09cjtyZXR1cm4gcCYmMT09PWk/InllYXIiOnA/Im1vbnRoIjpjPyJkYXkiOmg/ImhvdXIiOnU/Im1pbnV0ZSI6bD8ic2Vjb25kIjoibWlsbGlzZWNvbmQifWZ1bmN0aW9uIEZjKHQsZSxuKXt2YXIgaT1qKHQpP2pyKHQpOnQ7c3dpdGNoKGU9ZXx8QmModCxuKSl7Y2FzZSJ5ZWFyIjpyZXR1cm4gaVtHYyhuKV0oKTtjYXNlImhhbGYteWVhciI6cmV0dXJuIGlbV2MobildKCk+PTY/MTowO2Nhc2UicXVhcnRlciI6cmV0dXJuIE1hdGguZmxvb3IoKGlbV2MobildKCkrMSkvNCk7Y2FzZSJtb250aCI6cmV0dXJuIGlbV2MobildKCk7Y2FzZSJkYXkiOnJldHVybiBpW0hjKG4pXSgpO2Nhc2UiaGFsZi1kYXkiOnJldHVybiBpW1ljKG4pXSgpLzI0O2Nhc2UiaG91ciI6cmV0dXJuIGlbWWMobildKCk7Y2FzZSJtaW51dGUiOnJldHVybiBpW1VjKG4pXSgpO2Nhc2Uic2Vjb25kIjpyZXR1cm4gaVtYYyhuKV0oKTtjYXNlIm1pbGxpc2Vjb25kIjpyZXR1cm4gaVtaYyhuKV0oKX19ZnVuY3Rpb24gR2ModCl7cmV0dXJuIHQ/ImdldFVUQ0Z1bGxZZWFyIjoiZ2V0RnVsbFllYXIifWZ1bmN0aW9uIFdjKHQpe3JldHVybiB0PyJnZXRVVENNb250aCI6ImdldE1vbnRoIn1mdW5jdGlvbiBIYyh0KXtyZXR1cm4gdD8iZ2V0VVRDRGF0ZSI6ImdldERhdGUifWZ1bmN0aW9uIFljKHQpe3JldHVybiB0PyJnZXRVVENIb3VycyI6ImdldEhvdXJzIn1mdW5jdGlvbiBVYyh0KXtyZXR1cm4gdD8iZ2V0VVRDTWludXRlcyI6ImdldE1pbnV0ZXMifWZ1bmN0aW9uIFhjKHQpe3JldHVybiB0PyJnZXRVVENTZWNvbmRzIjoiZ2V0U2Vjb25kcyJ9ZnVuY3Rpb24gWmModCl7cmV0dXJuIHQ/ImdldFVUQ01pbGxpc2Vjb25kcyI6ImdldE1pbGxpc2Vjb25kcyJ9ZnVuY3Rpb24gamModCl7cmV0dXJuIHQ/InNldFVUQ0Z1bGxZZWFyIjoic2V0RnVsbFllYXIifWZ1bmN0aW9uIHFjKHQpe3JldHVybiB0PyJzZXRVVENNb250aCI6InNldE1vbnRoIn1mdW5jdGlvbiBLYyh0KXtyZXR1cm4gdD8ic2V0VVRDRGF0ZSI6InNldERhdGUifWZ1bmN0aW9uICRjKHQpe3JldHVybiB0PyJzZXRVVENIb3VycyI6InNldEhvdXJzIn1mdW5jdGlvbiBKYyh0KXtyZXR1cm4gdD8ic2V0VVRDTWludXRlcyI6InNldE1pbnV0ZXMifWZ1bmN0aW9uIFFjKHQpe3JldHVybiB0PyJzZXRVVENTZWNvbmRzIjoic2V0U2Vjb25kcyJ9ZnVuY3Rpb24gdHAodCl7cmV0dXJuIHQ/InNldFVUQ01pbGxpc2Vjb25kcyI6InNldE1pbGxpc2Vjb25kcyJ9ZnVuY3Rpb24gZXAodCl7aWYoIWVvKHQpKXJldHVybiBYKHQpP3Q6Ii0iO3ZhciBlPSh0KyIiKS5zcGxpdCgiLiIpO3JldHVybiBlWzBdLnJlcGxhY2UoLyhcZHsxLDN9KSg/PSg/OlxkezN9KSsoPyFcZCkpL2csIiQxLCIpKyhlLmxlbmd0aD4xPyIuIitlWzFdOiIiKX1mdW5jdGlvbiBucCh0LGUpe3JldHVybiB0PSh0fHwiIikudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8tKC4pL2csKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUudG9VcHBlckNhc2UoKX0pKSxlJiZ0JiYodD10LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSkpLHR9dmFyIGlwPXN0LHJwPS8oWyY8PiInXSkvZyxvcD17IiYiOiImYW1wOyIsIjwiOiImbHQ7IiwiPiI6IiZndDsiLCciJzoiJnF1b3Q7IiwiJyI6IiYjMzk7In07ZnVuY3Rpb24gYXAodCl7cmV0dXJuIG51bGw9PXQ/IiI6KHQrIiIpLnJlcGxhY2UocnAsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG9wW2VdfSkpfWZ1bmN0aW9uIHNwKHQsZSxuKXtmdW5jdGlvbiBpKHQpe3JldHVybiB0JiZ1dCh0KT90OiItIn1mdW5jdGlvbiByKHQpe3JldHVybiEobnVsbD09dHx8aXNOYU4odCl8fCFpc0Zpbml0ZSh0KSl9dmFyIG89InRpbWUiPT09ZSxhPXQgaW5zdGFuY2VvZiBEYXRlO2lmKG98fGEpe3ZhciBzPW8/anIodCk6dDtpZighaXNOYU4oK3MpKXJldHVybiBWYyhzLCJ7eXl5eX0te01NfS17ZGR9IHtISH06e21tfTp7c3N9IixuKTtpZihhKXJldHVybiItIn1pZigib3JkaW5hbCI9PT1lKXJldHVybiBaKHQpP2kodCk6aih0KSYmcih0KT90KyIiOiItIjt2YXIgbD10byh0KTtyZXR1cm4gcihsKT9lcChsKTpaKHQpP2kodCk6ImJvb2xlYW4iPT10eXBlb2YgdD90KyIiOiItIn12YXIgbHA9WyJhIiwiYiIsImMiLCJkIiwiZSIsImYiLCJnIl0sdXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4ieyIrdCsobnVsbD09ZT8iIjplKSsifSJ9O2Z1bmN0aW9uIGhwKHQsZSxuKXtZKGUpfHwoZT1bZV0pO3ZhciBpPWUubGVuZ3RoO2lmKCFpKXJldHVybiIiO2Zvcih2YXIgcj1lWzBdLiR2YXJzfHxbXSxvPTA7bzxyLmxlbmd0aDtvKyspe3ZhciBhPWxwW29dO3Q9dC5yZXBsYWNlKHVwKGEpLHVwKGEsMCkpfWZvcih2YXIgcz0wO3M8aTtzKyspZm9yKHZhciBsPTA7bDxyLmxlbmd0aDtsKyspe3ZhciB1PWVbc11bcltsXV07dD10LnJlcGxhY2UodXAobHBbbF0scyksbj9hcCh1KTp1KX1yZXR1cm4gdH1mdW5jdGlvbiBjcCh0LGUpe3ZhciBuPVgodCk/e2NvbG9yOnQsZXh0cmFDc3NUZXh0OmV9OnR8fHt9LGk9bi5jb2xvcixyPW4udHlwZTtlPW4uZXh0cmFDc3NUZXh0O3ZhciBvPW4ucmVuZGVyTW9kZXx8Imh0bWwiO3JldHVybiBpPyJodG1sIj09PW8/InN1Ykl0ZW0iPT09cj8nPHNwYW4gc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTttYXJnaW4tcmlnaHQ6OHB4O21hcmdpbi1sZWZ0OjNweDtib3JkZXItcmFkaXVzOjRweDt3aWR0aDo0cHg7aGVpZ2h0OjRweDtiYWNrZ3JvdW5kLWNvbG9yOicrYXAoaSkrIjsiKyhlfHwiIikrJyI+PC9zcGFuPic6JzxzcGFuIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazttYXJnaW4tcmlnaHQ6NHB4O2JvcmRlci1yYWRpdXM6MTBweDt3aWR0aDoxMHB4O2hlaWdodDoxMHB4O2JhY2tncm91bmQtY29sb3I6JythcChpKSsiOyIrKGV8fCIiKSsnIj48L3NwYW4+Jzp7cmVuZGVyTW9kZTpvLGNvbnRlbnQ6InsiKyhuLm1hcmtlcklkfHwibWFya2VyWCIpKyJ8fSAgIixzdHlsZToic3ViSXRlbSI9PT1yP3t3aWR0aDo0LGhlaWdodDo0LGJvcmRlclJhZGl1czoyLGJhY2tncm91bmRDb2xvcjppfTp7d2lkdGg6MTAsaGVpZ2h0OjEwLGJvcmRlclJhZGl1czo1LGJhY2tncm91bmRDb2xvcjppfX06IiJ9ZnVuY3Rpb24gcHAodCxlKXtyZXR1cm4gZT1lfHwidHJhbnNwYXJlbnQiLFgodCk/dDpxKHQpJiZ0LmNvbG9yU3RvcHMmJih0LmNvbG9yU3RvcHNbMF18fHt9KS5jb2xvcnx8ZX1mdW5jdGlvbiBkcCh0LGUpe2lmKCJfYmxhbmsiPT09ZXx8ImJsYW5rIj09PWUpe3ZhciBuPXdpbmRvdy5vcGVuKCk7bi5vcGVuZXI9bnVsbCxuLmxvY2F0aW9uLmhyZWY9dH1lbHNlIHdpbmRvdy5vcGVuKHQsZSl9dmFyIGZwPUUsZ3A9WyJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJ3aWR0aCIsImhlaWdodCJdLHlwPVtbIndpZHRoIiwibGVmdCIsInJpZ2h0Il0sWyJoZWlnaHQiLCJ0b3AiLCJib3R0b20iXV07ZnVuY3Rpb24gdnAodCxlLG4saSxyKXt2YXIgbz0wLGE9MDtudWxsPT1pJiYoaT0xLzApLG51bGw9PXImJihyPTEvMCk7dmFyIHM9MDtlLmVhY2hDaGlsZCgoZnVuY3Rpb24obCx1KXt2YXIgaCxjLHA9bC5nZXRCb3VuZGluZ1JlY3QoKSxkPWUuY2hpbGRBdCh1KzEpLGY9ZCYmZC5nZXRCb3VuZGluZ1JlY3QoKTtpZigiaG9yaXpvbnRhbCI9PT10KXt2YXIgZz1wLndpZHRoKyhmPy1mLngrcC54OjApOyhoPW8rZyk+aXx8bC5uZXdsaW5lPyhvPTAsaD1nLGErPXMrbixzPXAuaGVpZ2h0KTpzPU1hdGgubWF4KHMscC5oZWlnaHQpfWVsc2V7dmFyIHk9cC5oZWlnaHQrKGY/LWYueStwLnk6MCk7KGM9YSt5KT5yfHxsLm5ld2xpbmU/KG8rPXMrbixhPTAsYz15LHM9cC53aWR0aCk6cz1NYXRoLm1heChzLHAud2lkdGgpfWwubmV3bGluZXx8KGwueD1vLGwueT1hLGwubWFya1JlZHJhdygpLCJob3Jpem9udGFsIj09PXQ/bz1oK246YT1jK24pfSkpfXZhciBtcD12cDtIKHZwLCJ2ZXJ0aWNhbCIpLEgodnAsImhvcml6b250YWwiKTtmdW5jdGlvbiB4cCh0LGUsbil7bj1pcChufHwwKTt2YXIgaT1lLndpZHRoLHI9ZS5oZWlnaHQsbz1Fcih0LmxlZnQsaSksYT1Fcih0LnRvcCxyKSxzPUVyKHQucmlnaHQsaSksbD1Fcih0LmJvdHRvbSxyKSx1PUVyKHQud2lkdGgsaSksaD1Fcih0LmhlaWdodCxyKSxjPW5bMl0rblswXSxwPW5bMV0rblszXSxkPXQuYXNwZWN0O3N3aXRjaChpc05hTih1KSYmKHU9aS1zLXAtbyksaXNOYU4oaCkmJihoPXItbC1jLWEpLG51bGwhPWQmJihpc05hTih1KSYmaXNOYU4oaCkmJihkPmkvcj91PS44Kmk6aD0uOCpyKSxpc05hTih1KSYmKHU9ZCpoKSxpc05hTihoKSYmKGg9dS9kKSksaXNOYU4obykmJihvPWktcy11LXApLGlzTmFOKGEpJiYoYT1yLWwtaC1jKSx0LmxlZnR8fHQucmlnaHQpe2Nhc2UiY2VudGVyIjpvPWkvMi11LzItblszXTticmVhaztjYXNlInJpZ2h0IjpvPWktdS1wfXN3aXRjaCh0LnRvcHx8dC5ib3R0b20pe2Nhc2UibWlkZGxlIjpjYXNlImNlbnRlciI6YT1yLzItaC8yLW5bMF07YnJlYWs7Y2FzZSJib3R0b20iOmE9ci1oLWN9bz1vfHwwLGE9YXx8MCxpc05hTih1KSYmKHU9aS1wLW8tKHN8fDApKSxpc05hTihoKSYmKGg9ci1jLWEtKGx8fDApKTt2YXIgZj1uZXcgc3IobytuWzNdLGErblswXSx1LGgpO3JldHVybiBmLm1hcmdpbj1uLGZ9ZnVuY3Rpb24gX3AodCxlLG4saSxyLG8pe3ZhciBhLHM9IXJ8fCFyLmh2fHxyLmh2WzBdLGw9IXJ8fCFyLmh2fHxyLmh2WzFdLHU9ciYmci5ib3VuZGluZ01vZGV8fCJhbGwiO2lmKChvPW98fHQpLng9dC54LG8ueT10LnksIXMmJiFsKXJldHVybiExO2lmKCJyYXciPT09dSlhPSJncm91cCI9PT10LnR5cGU/bmV3IHNyKDAsMCwrZS53aWR0aHx8MCwrZS5oZWlnaHR8fDApOnQuZ2V0Qm91bmRpbmdSZWN0KCk7ZWxzZSBpZihhPXQuZ2V0Qm91bmRpbmdSZWN0KCksdC5uZWVkTG9jYWxUcmFuc2Zvcm0oKSl7dmFyIGg9dC5nZXRMb2NhbFRyYW5zZm9ybSgpOyhhPWEuY2xvbmUoKSkuYXBwbHlUcmFuc2Zvcm0oaCl9dmFyIGM9eHAoayh7d2lkdGg6YS53aWR0aCxoZWlnaHQ6YS5oZWlnaHR9LGUpLG4saSkscD1zP2MueC1hLng6MCxkPWw/Yy55LWEueTowO3JldHVybiJyYXciPT09dT8oby54PXAsby55PWQpOihvLngrPXAsby55Kz1kKSxvPT09dCYmdC5tYXJrUmVkcmF3KCksITB9ZnVuY3Rpb24gYnAodCl7dmFyIGU9dC5sYXlvdXRNb2RlfHx0LmNvbnN0cnVjdG9yLmxheW91dE1vZGU7cmV0dXJuIHEoZSk/ZTplP3t0eXBlOmV9Om51bGx9ZnVuY3Rpb24gd3AodCxlLG4pe3ZhciBpPW4mJm4uaWdub3JlU2l6ZTshWShpKSYmKGk9W2ksaV0pO3ZhciByPWEoeXBbMF0sMCksbz1hKHlwWzFdLDEpO2Z1bmN0aW9uIGEobixyKXt2YXIgbz17fSxhPTAsdT17fSxoPTA7aWYoZnAobiwoZnVuY3Rpb24oZSl7dVtlXT10W2VdfSkpLGZwKG4sKGZ1bmN0aW9uKHQpe3MoZSx0KSYmKG9bdF09dVt0XT1lW3RdKSxsKG8sdCkmJmErKyxsKHUsdCkmJmgrK30pKSxpW3JdKXJldHVybiBsKGUsblsxXSk/dVtuWzJdXT1udWxsOmwoZSxuWzJdKSYmKHVbblsxXV09bnVsbCksdTtpZigyIT09aCYmYSl7aWYoYT49MilyZXR1cm4gbztmb3IodmFyIGM9MDtjPG4ubGVuZ3RoO2MrKyl7dmFyIHA9bltjXTtpZighcyhvLHApJiZzKHQscCkpe29bcF09dFtwXTticmVha319cmV0dXJuIG99cmV0dXJuIHV9ZnVuY3Rpb24gcyh0LGUpe3JldHVybiB0Lmhhc093blByb3BlcnR5KGUpfWZ1bmN0aW9uIGwodCxlKXtyZXR1cm4gbnVsbCE9dFtlXSYmImF1dG8iIT09dFtlXX1mdW5jdGlvbiB1KHQsZSxuKXtmcCh0LChmdW5jdGlvbih0KXtlW3RdPW5bdF19KSl9dSh5cFswXSx0LHIpLHUoeXBbMV0sdCxvKX1mdW5jdGlvbiBTcCh0KXtyZXR1cm4gTXAoe30sdCl9ZnVuY3Rpb24gTXAodCxlKXtyZXR1cm4gZSYmdCYmZnAoZ3AsKGZ1bmN0aW9uKG4pe2UuaGFzT3duUHJvcGVydHkobikmJih0W25dPWVbbl0pfSkpLHR9dmFyIElwPVNvKCksVHA9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSl7dmFyIHI9dC5jYWxsKHRoaXMsZSxuLGkpfHx0aGlzO3JldHVybiByLnVpZD1nYygiZWNfY3B0X21vZGVsIikscn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlLG4pe3RoaXMubWVyZ2VEZWZhdWx0QW5kVGhlbWUodCxuKX0sZS5wcm90b3R5cGUubWVyZ2VEZWZhdWx0QW5kVGhlbWU9ZnVuY3Rpb24odCxlKXt2YXIgbj1icCh0aGlzKSxpPW4/U3AodCk6e307Qyh0LGUuZ2V0VGhlbWUoKS5nZXQodGhpcy5tYWluVHlwZSkpLEModCx0aGlzLmdldERlZmF1bHRPcHRpb24oKSksbiYmd3AodCxpLG4pfSxlLnByb3RvdHlwZS5tZXJnZU9wdGlvbj1mdW5jdGlvbih0LGUpe0ModGhpcy5vcHRpb24sdCwhMCk7dmFyIG49YnAodGhpcyk7biYmd3AodGhpcy5vcHRpb24sdCxuKX0sZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbih0LGUpe30sZS5wcm90b3R5cGUuZ2V0RGVmYXVsdE9wdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY29uc3RydWN0b3I7aWYoIWZ1bmN0aW9uKHQpe3JldHVybiEoIXR8fCF0W1JvXSl9KHQpKXJldHVybiB0LmRlZmF1bHRPcHRpb247dmFyIGU9SXAodGhpcyk7aWYoIWUuZGVmYXVsdE9wdGlvbil7Zm9yKHZhciBuPVtdLGk9dDtpOyl7dmFyIHI9aS5wcm90b3R5cGUuZGVmYXVsdE9wdGlvbjtyJiZuLnB1c2gociksaT1pLnN1cGVyQ2xhc3N9Zm9yKHZhciBvPXt9LGE9bi5sZW5ndGgtMTthPj0wO2EtLSlvPUMobyxuW2FdLCEwKTtlLmRlZmF1bHRPcHRpb249b31yZXR1cm4gZS5kZWZhdWx0T3B0aW9ufSxlLnByb3RvdHlwZS5nZXRSZWZlcnJpbmdDb21wb25lbnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dCsiSW5kZXgiLGk9dCsiSWQiO3JldHVybiBBbyh0aGlzLmVjTW9kZWwsdCx7aW5kZXg6dGhpcy5nZXQobiwhMCksaWQ6dGhpcy5nZXQoaSwhMCl9LGUpfSxlLnByb3RvdHlwZS5nZXRCb3hMYXlvdXRQYXJhbXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybntsZWZ0OnQuZ2V0KCJsZWZ0IiksdG9wOnQuZ2V0KCJ0b3AiKSxyaWdodDp0LmdldCgicmlnaHQiKSxib3R0b206dC5nZXQoImJvdHRvbSIpLHdpZHRoOnQuZ2V0KCJ3aWR0aCIpLGhlaWdodDp0LmdldCgiaGVpZ2h0Iil9fSxlLnByb3RvdHlwZS5nZXRaTGV2ZWxLZXk9ZnVuY3Rpb24oKXtyZXR1cm4iIn0sZS5wcm90b3R5cGUuc2V0WkxldmVsPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLnpsZXZlbD10fSxlLnByb3RvSW5pdGlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PWUucHJvdG90eXBlO3QudHlwZT0iY29tcG9uZW50Iix0LmlkPSIiLHQubmFtZT0iIix0Lm1haW5UeXBlPSIiLHQuc3ViVHlwZT0iIix0LmNvbXBvbmVudEluZGV4PTB9KCksZX0oZGMpO3pvKFRwLGRjKSxHbyhUcCksZnVuY3Rpb24odCl7dmFyIGU9e307dC5yZWdpc3RlclN1YlR5cGVEZWZhdWx0ZXI9ZnVuY3Rpb24odCxuKXt2YXIgaT1Obyh0KTtlW2kubWFpbl09bn0sdC5kZXRlcm1pbmVTdWJUeXBlPWZ1bmN0aW9uKG4saSl7dmFyIHI9aS50eXBlO2lmKCFyKXt2YXIgbz1ObyhuKS5tYWluO3QuaGFzU3ViVHlwZXMobikmJmVbb10mJihyPWVbb10oaSkpfXJldHVybiByfX0oVHApLGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0LGUpe3JldHVybiB0W2VdfHwodFtlXT17cHJlZGVjZXNzb3I6W10sc3VjY2Vzc29yOltdfSksdFtlXX10LnRvcG9sb2dpY2FsVHJhdmVsPWZ1bmN0aW9uKHQsaSxyLG8pe2lmKHQubGVuZ3RoKXt2YXIgYT1mdW5jdGlvbih0KXt2YXIgaT17fSxyPVtdO3JldHVybiBFKHQsKGZ1bmN0aW9uKG8pe3ZhciBhPW4oaSxvKSxzPWZ1bmN0aW9uKHQsZSl7dmFyIG49W107cmV0dXJuIEUodCwoZnVuY3Rpb24odCl7UChlLHQpPj0wJiZuLnB1c2godCl9KSksbn0oYS5vcmlnaW5hbERlcHM9ZShvKSx0KTthLmVudHJ5Q291bnQ9cy5sZW5ndGgsMD09PWEuZW50cnlDb3VudCYmci5wdXNoKG8pLEUocywoZnVuY3Rpb24odCl7UChhLnByZWRlY2Vzc29yLHQpPDAmJmEucHJlZGVjZXNzb3IucHVzaCh0KTt2YXIgZT1uKGksdCk7UChlLnN1Y2Nlc3Nvcix0KTwwJiZlLnN1Y2Nlc3Nvci5wdXNoKG8pfSkpfSkpLHtncmFwaDppLG5vRW50cnlMaXN0OnJ9fShpKSxzPWEuZ3JhcGgsbD1hLm5vRW50cnlMaXN0LHU9e307Zm9yKEUodCwoZnVuY3Rpb24odCl7dVt0XT0hMH0pKTtsLmxlbmd0aDspe3ZhciBoPWwucG9wKCksYz1zW2hdLHA9ISF1W2hdO3AmJihyLmNhbGwobyxoLGMub3JpZ2luYWxEZXBzLnNsaWNlKCkpLGRlbGV0ZSB1W2hdKSxFKGMuc3VjY2Vzc29yLHA/ZjpkKX1FKHUsKGZ1bmN0aW9uKCl7dmFyIHQ9IiI7dGhyb3cgbmV3IEVycm9yKHQpfSkpfWZ1bmN0aW9uIGQodCl7c1t0XS5lbnRyeUNvdW50LS0sMD09PXNbdF0uZW50cnlDb3VudCYmbC5wdXNoKHQpfWZ1bmN0aW9uIGYodCl7dVt0XT0hMCxkKHQpfX19KFRwLChmdW5jdGlvbih0KXt2YXIgZT1bXTtFKFRwLmdldENsYXNzZXNCeU1haW5UeXBlKHQpLChmdW5jdGlvbih0KXtlPWUuY29uY2F0KHQuZGVwZW5kZW5jaWVzfHx0LnByb3RvdHlwZS5kZXBlbmRlbmNpZXN8fFtdKX0pKSxlPXooZSwoZnVuY3Rpb24odCl7cmV0dXJuIE5vKHQpLm1haW59KSksImRhdGFzZXQiIT09dCYmUChlLCJkYXRhc2V0Iik8PTAmJmUudW5zaGlmdCgiZGF0YXNldCIpO3JldHVybiBlfSkpO3ZhciBDcD0iIjsidW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvciYmKENwPW5hdmlnYXRvci5wbGF0Zm9ybXx8IiIpO3ZhciBEcD0icmdiYSgwLCAwLCAwLCAwLjIpIixBcD17ZGFya01vZGU6ImF1dG8iLGNvbG9yQnk6InNlcmllcyIsY29sb3I6WyIjNTQ3MGM2IiwiIzkxY2M3NSIsIiNmYWM4NTgiLCIjZWU2NjY2IiwiIzczYzBkZSIsIiMzYmEyNzIiLCIjZmM4NDUyIiwiIzlhNjBiNCIsIiNlYTdjY2MiXSxncmFkaWVudENvbG9yOlsiI2Y2ZWZhNiIsIiNkODgyNzMiLCIjYmY0NDRjIl0sYXJpYTp7ZGVjYWw6e2RlY2Fsczpbe2NvbG9yOkRwLGRhc2hBcnJheVg6WzEsMF0sZGFzaEFycmF5WTpbMiw1XSxzeW1ib2xTaXplOjEscm90YXRpb246TWF0aC5QSS82fSx7Y29sb3I6RHAsc3ltYm9sOiJjaXJjbGUiLGRhc2hBcnJheVg6W1s4LDhdLFswLDgsOCwwXV0sZGFzaEFycmF5WTpbNiwwXSxzeW1ib2xTaXplOi44fSx7Y29sb3I6RHAsZGFzaEFycmF5WDpbMSwwXSxkYXNoQXJyYXlZOls0LDNdLHJvdGF0aW9uOi1NYXRoLlBJLzR9LHtjb2xvcjpEcCxkYXNoQXJyYXlYOltbNiw2XSxbMCw2LDYsMF1dLGRhc2hBcnJheVk6WzYsMF19LHtjb2xvcjpEcCxkYXNoQXJyYXlYOltbMSwwXSxbMSw2XV0sZGFzaEFycmF5WTpbMSwwLDYsMF0scm90YXRpb246TWF0aC5QSS80fSx7Y29sb3I6RHAsc3ltYm9sOiJ0cmlhbmdsZSIsZGFzaEFycmF5WDpbWzksOV0sWzAsOSw5LDBdXSxkYXNoQXJyYXlZOls3LDJdLHN5bWJvbFNpemU6Ljc1fV19fSx0ZXh0U3R5bGU6e2ZvbnRGYW1pbHk6Q3AubWF0Y2goL15XaW4vKT8iTWljcm9zb2Z0IFlhSGVpIjoic2Fucy1zZXJpZiIsZm9udFNpemU6MTIsZm9udFN0eWxlOiJub3JtYWwiLGZvbnRXZWlnaHQ6Im5vcm1hbCJ9LGJsZW5kTW9kZTpudWxsLHN0YXRlQW5pbWF0aW9uOntkdXJhdGlvbjozMDAsZWFzaW5nOiJjdWJpY091dCJ9LGFuaW1hdGlvbjoiYXV0byIsYW5pbWF0aW9uRHVyYXRpb246MWUzLGFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlOjUwMCxhbmltYXRpb25FYXNpbmc6ImN1YmljSW5PdXQiLGFuaW1hdGlvbkVhc2luZ1VwZGF0ZToiY3ViaWNJbk91dCIsYW5pbWF0aW9uVGhyZXNob2xkOjJlMyxwcm9ncmVzc2l2ZVRocmVzaG9sZDozZTMscHJvZ3Jlc3NpdmU6NDAwLGhvdmVyTGF5ZXJUaHJlc2hvbGQ6M2UzLHVzZVVUQzohMX0sa3A9ZnQoWyJ0b29sdGlwIiwibGFiZWwiLCJpdGVtTmFtZSIsIml0ZW1JZCIsIml0ZW1Hcm91cElkIiwic2VyaWVzTmFtZSJdKSxMcD0ib3JpZ2luYWwiLFBwPSJhcnJheVJvd3MiLE9wPSJvYmplY3RSb3dzIixScD0ia2V5ZWRDb2x1bW5zIixOcD0idHlwZWRBcnJheSIsRXA9InVua25vd24iLHpwPSJjb2x1bW4iLFZwPSJyb3ciLEJwPTEsRnA9MixHcD0zLFdwPVNvKCk7ZnVuY3Rpb24gSHAodCxlLG4pe3ZhciBpPXt9LHI9VXAoZSk7aWYoIXJ8fCF0KXJldHVybiBpO3ZhciBvLGEscz1bXSxsPVtdLHU9ZS5lY01vZGVsLGg9V3AodSkuZGF0YXNldE1hcCxjPXIudWlkKyJfIituLnNlcmllc0xheW91dEJ5O0UodD10LnNsaWNlKCksKGZ1bmN0aW9uKGUsbil7dmFyIHI9cShlKT9lOnRbbl09e25hbWU6ZX07Im9yZGluYWwiPT09ci50eXBlJiZudWxsPT1vJiYobz1uLGE9ZihyKSksaVtyLm5hbWVdPVtdfSkpO3ZhciBwPWguZ2V0KGMpfHxoLnNldChjLHtjYXRlZ29yeVdheURpbTphLHZhbHVlV2F5RGltOjB9KTtmdW5jdGlvbiBkKHQsZSxuKXtmb3IodmFyIGk9MDtpPG47aSsrKXQucHVzaChlK2kpfWZ1bmN0aW9uIGYodCl7dmFyIGU9dC5kaW1zRGVmO3JldHVybiBlP2UubGVuZ3RoOjF9cmV0dXJuIEUodCwoZnVuY3Rpb24odCxlKXt2YXIgbj10Lm5hbWUscj1mKHQpO2lmKG51bGw9PW8pe3ZhciBhPXAudmFsdWVXYXlEaW07ZChpW25dLGEsciksZChsLGEscikscC52YWx1ZVdheURpbSs9cn1lbHNlIGlmKG89PT1lKWQoaVtuXSwwLHIpLGQocywwLHIpO2Vsc2V7YT1wLmNhdGVnb3J5V2F5RGltO2QoaVtuXSxhLHIpLGQobCxhLHIpLHAuY2F0ZWdvcnlXYXlEaW0rPXJ9fSkpLHMubGVuZ3RoJiYoaS5pdGVtTmFtZT1zKSxsLmxlbmd0aCYmKGkuc2VyaWVzTmFtZT1sKSxpfWZ1bmN0aW9uIFlwKHQsZSxuKXt2YXIgaT17fTtpZighVXAodCkpcmV0dXJuIGk7dmFyIHIsbz1lLnNvdXJjZUZvcm1hdCxhPWUuZGltZW5zaW9uc0RlZmluZTtvIT09T3AmJm8hPT1ScHx8RShhLChmdW5jdGlvbih0LGUpeyJuYW1lIj09PShxKHQpP3QubmFtZTp0KSYmKHI9ZSl9KSk7dmFyIHM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9e30saT17fSxzPVtdLGw9MCx1PU1hdGgubWluKDUsbik7bDx1O2wrKyl7dmFyIGg9WnAoZS5kYXRhLG8sZS5zZXJpZXNMYXlvdXRCeSxhLGUuc3RhcnRJbmRleCxsKTtzLnB1c2goaCk7dmFyIGM9aD09PUdwO2lmKGMmJm51bGw9PXQudiYmbCE9PXImJih0LnY9bCksKG51bGw9PXQubnx8dC5uPT09dC52fHwhYyYmc1t0Lm5dPT09R3ApJiYodC5uPWwpLHAodCkmJnNbdC5uXSE9PUdwKXJldHVybiB0O2N8fChoPT09RnAmJm51bGw9PWkudiYmbCE9PXImJihpLnY9bCksbnVsbCE9aS5uJiZpLm4hPT1pLnZ8fChpLm49bCkpfWZ1bmN0aW9uIHAodCl7cmV0dXJuIG51bGwhPXQudiYmbnVsbCE9dC5ufXJldHVybiBwKHQpP3Q6cChpKT9pOm51bGx9KCk7aWYocyl7aS52YWx1ZT1bcy52XTt2YXIgbD1udWxsIT1yP3I6cy5uO2kuaXRlbU5hbWU9W2xdLGkuc2VyaWVzTmFtZT1bbF19cmV0dXJuIGl9ZnVuY3Rpb24gVXAodCl7aWYoIXQuZ2V0KCJkYXRhIiwhMCkpcmV0dXJuIEFvKHQuZWNNb2RlbCwiZGF0YXNldCIse2luZGV4OnQuZ2V0KCJkYXRhc2V0SW5kZXgiLCEwKSxpZDp0LmdldCgiZGF0YXNldElkIiwhMCl9LENvKS5tb2RlbHNbMF19ZnVuY3Rpb24gWHAodCxlKXtyZXR1cm4gWnAodC5kYXRhLHQuc291cmNlRm9ybWF0LHQuc2VyaWVzTGF5b3V0QnksdC5kaW1lbnNpb25zRGVmaW5lLHQuc3RhcnRJbmRleCxlKX1mdW5jdGlvbiBacCh0LGUsbixpLHIsbyl7dmFyIGEscyxsO2lmKCQodCkpcmV0dXJuIEdwO2lmKGkpe3ZhciB1PWlbb107cSh1KT8ocz11Lm5hbWUsbD11LnR5cGUpOlgodSkmJihzPXUpfWlmKG51bGwhPWwpcmV0dXJuIm9yZGluYWwiPT09bD9CcDpHcDtpZihlPT09UHApe3ZhciBoPXQ7aWYobj09PVZwKXtmb3IodmFyIGM9aFtvXSxwPTA7cDwoY3x8W10pLmxlbmd0aCYmcDw1O3ArKylpZihudWxsIT0oYT1tKGNbcitwXSkpKXJldHVybiBhfWVsc2UgZm9yKHA9MDtwPGgubGVuZ3RoJiZwPDU7cCsrKXt2YXIgZD1oW3IrcF07aWYoZCYmbnVsbCE9KGE9bShkW29dKSkpcmV0dXJuIGF9fWVsc2UgaWYoZT09PU9wKXt2YXIgZj10O2lmKCFzKXJldHVybiBHcDtmb3IocD0wO3A8Zi5sZW5ndGgmJnA8NTtwKyspe2lmKCh5PWZbcF0pJiZudWxsIT0oYT1tKHlbc10pKSlyZXR1cm4gYX19ZWxzZSBpZihlPT09UnApe2lmKCFzKXJldHVybiBHcDtpZighKGM9dFtzXSl8fCQoYykpcmV0dXJuIEdwO2ZvcihwPTA7cDxjLmxlbmd0aCYmcDw1O3ArKylpZihudWxsIT0oYT1tKGNbcF0pKSlyZXR1cm4gYX1lbHNlIGlmKGU9PT1McCl7dmFyIGc9dDtmb3IocD0wO3A8Zy5sZW5ndGgmJnA8NTtwKyspe3ZhciB5LHY9Zm8oeT1nW3BdKTtpZighWSh2KSlyZXR1cm4gR3A7aWYobnVsbCE9KGE9bSh2W29dKSkpcmV0dXJuIGF9fWZ1bmN0aW9uIG0odCl7dmFyIGU9WCh0KTtyZXR1cm4gbnVsbCE9dCYmaXNGaW5pdGUodCkmJiIiIT09dD9lP0ZwOkdwOmUmJiItIiE9PXQ/QnA6dm9pZCAwfXJldHVybiBHcH12YXIganA9ZnQoKTt2YXIgcXAsS3AsJHAsSnA9U28oKSxRcD1TbygpLHRkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0Q29sb3JGcm9tUGFsZXR0ZT1mdW5jdGlvbih0LGUsbil7dmFyIGk9aG8odGhpcy5nZXQoImNvbG9yIiwhMCkpLHI9dGhpcy5nZXQoImNvbG9yTGF5ZXIiLCEwKTtyZXR1cm4gbmQodGhpcyxKcCxpLHIsdCxlLG4pfSx0LnByb3RvdHlwZS5jbGVhckNvbG9yUGFsZXR0ZT1mdW5jdGlvbigpeyFmdW5jdGlvbih0LGUpe2UodCkucGFsZXR0ZUlkeD0wLGUodCkucGFsZXR0ZU5hbWVNYXA9e319KHRoaXMsSnApfSx0fSgpO2Z1bmN0aW9uIGVkKHQsZSxuLGkpe3ZhciByPWhvKHQuZ2V0KFsiYXJpYSIsImRlY2FsIiwiZGVjYWxzIl0pKTtyZXR1cm4gbmQodCxRcCxyLG51bGwsZSxuLGkpfWZ1bmN0aW9uIG5kKHQsZSxuLGkscixvLGEpe3ZhciBzPWUobz1vfHx0KSxsPXMucGFsZXR0ZUlkeHx8MCx1PXMucGFsZXR0ZU5hbWVNYXA9cy5wYWxldHRlTmFtZU1hcHx8e307aWYodS5oYXNPd25Qcm9wZXJ0eShyKSlyZXR1cm4gdVtyXTt2YXIgaD1udWxsIT1hJiZpP2Z1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoLGk9MDtpPG47aSsrKWlmKHRbaV0ubGVuZ3RoPmUpcmV0dXJuIHRbaV07cmV0dXJuIHRbbi0xXX0oaSxhKTpuO2lmKChoPWh8fG4pJiZoLmxlbmd0aCl7dmFyIGM9aFtsXTtyZXR1cm4gciYmKHVbcl09Yykscy5wYWxldHRlSWR4PShsKzEpJWgubGVuZ3RoLGN9fXZhciBpZD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlLG4saSxyLG8pe2k9aXx8e30sdGhpcy5vcHRpb249bnVsbCx0aGlzLl90aGVtZT1uZXcgZGMoaSksdGhpcy5fbG9jYWxlPW5ldyBkYyhyKSx0aGlzLl9vcHRpb25NYW5hZ2VyPW99LGUucHJvdG90eXBlLnNldE9wdGlvbj1mdW5jdGlvbih0LGUsbil7dmFyIGk9YWQoZSk7dGhpcy5fb3B0aW9uTWFuYWdlci5zZXRPcHRpb24odCxuLGkpLHRoaXMuX3Jlc2V0T3B0aW9uKG51bGwsaSl9LGUucHJvdG90eXBlLnJlc2V0T3B0aW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3Jlc2V0T3B0aW9uKHQsYWQoZSkpfSxlLnByb3RvdHlwZS5fcmVzZXRPcHRpb249ZnVuY3Rpb24odCxlKXt2YXIgbj0hMSxpPXRoaXMuX29wdGlvbk1hbmFnZXI7aWYoIXR8fCJyZWNyZWF0ZSI9PT10KXt2YXIgcj1pLm1vdW50T3B0aW9uKCJyZWNyZWF0ZSI9PT10KTswLHRoaXMub3B0aW9uJiYicmVjcmVhdGUiIT09dD8odGhpcy5yZXN0b3JlRGF0YSgpLHRoaXMuX21lcmdlT3B0aW9uKHIsZSkpOiRwKHRoaXMsciksbj0hMH1pZigidGltZWxpbmUiIT09dCYmIm1lZGlhIiE9PXR8fHRoaXMucmVzdG9yZURhdGEoKSwhdHx8InJlY3JlYXRlIj09PXR8fCJ0aW1lbGluZSI9PT10KXt2YXIgbz1pLmdldFRpbWVsaW5lT3B0aW9uKHRoaXMpO28mJihuPSEwLHRoaXMuX21lcmdlT3B0aW9uKG8sZSkpfWlmKCF0fHwicmVjcmVhdGUiPT09dHx8Im1lZGlhIj09PXQpe3ZhciBhPWkuZ2V0TWVkaWFPcHRpb24odGhpcyk7YS5sZW5ndGgmJkUoYSwoZnVuY3Rpb24odCl7bj0hMCx0aGlzLl9tZXJnZU9wdGlvbih0LGUpfSksdGhpcyl9cmV0dXJuIG59LGUucHJvdG90eXBlLm1lcmdlT3B0aW9uPWZ1bmN0aW9uKHQpe3RoaXMuX21lcmdlT3B0aW9uKHQsbnVsbCl9LGUucHJvdG90eXBlLl9tZXJnZU9wdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMub3B0aW9uLGk9dGhpcy5fY29tcG9uZW50c01hcCxyPXRoaXMuX2NvbXBvbmVudHNDb3VudCxvPVtdLGE9ZnQoKSxzPWUmJmUucmVwbGFjZU1lcmdlTWFpblR5cGVNYXA7V3AodGhpcykuZGF0YXNldE1hcD1mdCgpLEUodCwoZnVuY3Rpb24odCxlKXtudWxsIT10JiYoVHAuaGFzQ2xhc3MoZSk/ZSYmKG8ucHVzaChlKSxhLnNldChlLCEwKSk6bltlXT1udWxsPT1uW2VdP1QodCk6QyhuW2VdLHQsITApKX0pKSxzJiZzLmVhY2goKGZ1bmN0aW9uKHQsZSl7VHAuaGFzQ2xhc3MoZSkmJiFhLmdldChlKSYmKG8ucHVzaChlKSxhLnNldChlLCEwKSl9KSksVHAudG9wb2xvZ2ljYWxUcmF2ZWwobyxUcC5nZXRBbGxDbGFzc01haW5UeXBlcygpLChmdW5jdGlvbihlKXt2YXIgbz1mdW5jdGlvbih0LGUsbil7dmFyIGk9anAuZ2V0KGUpO2lmKCFpKXJldHVybiBuO3ZhciByPWkodCk7cmV0dXJuIHI/bi5jb25jYXQocik6bn0odGhpcyxlLGhvKHRbZV0pKSxhPWkuZ2V0KGUpLGw9YT9zJiZzLmdldChlKT8icmVwbGFjZU1lcmdlIjoibm9ybWFsTWVyZ2UiOiJyZXBsYWNlQWxsIix1PXlvKGEsbyxsKTsoZnVuY3Rpb24odCxlLG4pe0UodCwoZnVuY3Rpb24odCl7dmFyIGk9dC5uZXdPcHRpb247cShpKSYmKHQua2V5SW5mby5tYWluVHlwZT1lLHQua2V5SW5mby5zdWJUeXBlPWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiBlLnR5cGU/ZS50eXBlOm4/bi5zdWJUeXBlOmkuZGV0ZXJtaW5lU3ViVHlwZSh0LGUpfShlLGksdC5leGlzdGluZyxuKSl9KSl9KSh1LGUsVHApLG5bZV09bnVsbCxpLnNldChlLG51bGwpLHIuc2V0KGUsMCk7dmFyIGgsYz1bXSxwPVtdLGQ9MDtFKHUsKGZ1bmN0aW9uKHQsbil7dmFyIGk9dC5leGlzdGluZyxyPXQubmV3T3B0aW9uO2lmKHIpe3ZhciBvPSJzZXJpZXMiPT09ZSxhPVRwLmdldENsYXNzKGUsdC5rZXlJbmZvLnN1YlR5cGUsIW8pO2lmKCFhKXJldHVybjtpZigidG9vbHRpcCI9PT1lKXtpZihoKXJldHVybiB2b2lkIDA7aD0hMH1pZihpJiZpLmNvbnN0cnVjdG9yPT09YSlpLm5hbWU9dC5rZXlJbmZvLm5hbWUsaS5tZXJnZU9wdGlvbihyLHRoaXMpLGkub3B0aW9uVXBkYXRlZChyLCExKTtlbHNle3ZhciBzPUEoe2NvbXBvbmVudEluZGV4Om59LHQua2V5SW5mbyk7QShpPW5ldyBhKHIsdGhpcyx0aGlzLHMpLHMpLHQuYnJhbmROZXcmJihpLl9fcmVxdWlyZU5ld1ZpZXc9ITApLGkuaW5pdChyLHRoaXMsdGhpcyksaS5vcHRpb25VcGRhdGVkKG51bGwsITApfX1lbHNlIGkmJihpLm1lcmdlT3B0aW9uKHt9LHRoaXMpLGkub3B0aW9uVXBkYXRlZCh7fSwhMSkpO2k/KGMucHVzaChpLm9wdGlvbikscC5wdXNoKGkpLGQrKyk6KGMucHVzaCh2b2lkIDApLHAucHVzaCh2b2lkIDApKX0pLHRoaXMpLG5bZV09YyxpLnNldChlLHApLHIuc2V0KGUsZCksInNlcmllcyI9PT1lJiZxcCh0aGlzKX0pLHRoaXMpLHRoaXMuX3Nlcmllc0luZGljZXN8fHFwKHRoaXMpfSxlLnByb3RvdHlwZS5nZXRPcHRpb249ZnVuY3Rpb24oKXt2YXIgdD1UKHRoaXMub3B0aW9uKTtyZXR1cm4gRSh0LChmdW5jdGlvbihlLG4pe2lmKFRwLmhhc0NsYXNzKG4pKXtmb3IodmFyIGk9aG8oZSkscj1pLmxlbmd0aCxvPSExLGE9ci0xO2E+PTA7YS0tKWlbYV0mJiFibyhpW2FdKT9vPSEwOihpW2FdPW51bGwsIW8mJnItLSk7aS5sZW5ndGg9cix0W25dPWl9fSkpLGRlbGV0ZSB0WyJcMF9lY19pbm5lciJdLHR9LGUucHJvdG90eXBlLmdldFRoZW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RoZW1lfSxlLnByb3RvdHlwZS5nZXRMb2NhbGVNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2NhbGV9LGUucHJvdG90eXBlLnNldFVwZGF0ZVBheWxvYWQ9ZnVuY3Rpb24odCl7dGhpcy5fcGF5bG9hZD10fSxlLnByb3RvdHlwZS5nZXRVcGRhdGVQYXlsb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BheWxvYWR9LGUucHJvdG90eXBlLmdldENvbXBvbmVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2NvbXBvbmVudHNNYXAuZ2V0KHQpO2lmKG4pe3ZhciBpPW5bZXx8MF07aWYoaSlyZXR1cm4gaTtpZihudWxsPT1lKWZvcih2YXIgcj0wO3I8bi5sZW5ndGg7cisrKWlmKG5bcl0pcmV0dXJuIG5bcl19fSxlLnByb3RvdHlwZS5xdWVyeUNvbXBvbmVudHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5tYWluVHlwZTtpZighZSlyZXR1cm5bXTt2YXIgbixpPXQuaW5kZXgscj10LmlkLG89dC5uYW1lLGE9dGhpcy5fY29tcG9uZW50c01hcC5nZXQoZSk7cmV0dXJuIGEmJmEubGVuZ3RoPyhudWxsIT1pPyhuPVtdLEUoaG8oaSksKGZ1bmN0aW9uKHQpe2FbdF0mJm4ucHVzaChhW3RdKX0pKSk6bj1udWxsIT1yP3JkKCJpZCIscixhKTpudWxsIT1vP3JkKCJuYW1lIixvLGEpOkIoYSwoZnVuY3Rpb24odCl7cmV0dXJuISF0fSkpLG9kKG4sdCkpOltdfSxlLnByb3RvdHlwZS5maW5kQ29tcG9uZW50cz1mdW5jdGlvbih0KXt2YXIgZSxuLGkscixvLGE9dC5xdWVyeSxzPXQubWFpblR5cGUsbD0obj1zKyJJbmRleCIsaT1zKyJJZCIscj1zKyJOYW1lIiwhKGU9YSl8fG51bGw9PWVbbl0mJm51bGw9PWVbaV0mJm51bGw9PWVbcl0/bnVsbDp7bWFpblR5cGU6cyxpbmRleDplW25dLGlkOmVbaV0sbmFtZTplW3JdfSksdT1sP3RoaXMucXVlcnlDb21wb25lbnRzKGwpOkIodGhpcy5fY29tcG9uZW50c01hcC5nZXQocyksKGZ1bmN0aW9uKHQpe3JldHVybiEhdH0pKTtyZXR1cm4gbz1vZCh1LHQpLHQuZmlsdGVyP0Iobyx0LmZpbHRlcik6b30sZS5wcm90b3R5cGUuZWFjaENvbXBvbmVudD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5fY29tcG9uZW50c01hcDtpZihVKHQpKXt2YXIgcj1lLG89dDtpLmVhY2goKGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7dCYmbjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aSYmby5jYWxsKHIsZSxpLGkuY29tcG9uZW50SW5kZXgpfX0pKX1lbHNlIGZvcih2YXIgYT1YKHQpP2kuZ2V0KHQpOnEodCk/dGhpcy5maW5kQ29tcG9uZW50cyh0KTpudWxsLHM9MDthJiZzPGEubGVuZ3RoO3MrKyl7dmFyIGw9YVtzXTtsJiZlLmNhbGwobixsLGwuY29tcG9uZW50SW5kZXgpfX0sZS5wcm90b3R5cGUuZ2V0U2VyaWVzQnlOYW1lPWZ1bmN0aW9uKHQpe3ZhciBlPXhvKHQsbnVsbCk7cmV0dXJuIEIodGhpcy5fY29tcG9uZW50c01hcC5nZXQoInNlcmllcyIpLChmdW5jdGlvbih0KXtyZXR1cm4hIXQmJm51bGwhPWUmJnQubmFtZT09PWV9KSl9LGUucHJvdG90eXBlLmdldFNlcmllc0J5SW5kZXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NvbXBvbmVudHNNYXAuZ2V0KCJzZXJpZXMiKVt0XX0sZS5wcm90b3R5cGUuZ2V0U2VyaWVzQnlUeXBlPWZ1bmN0aW9uKHQpe3JldHVybiBCKHRoaXMuX2NvbXBvbmVudHNNYXAuZ2V0KCJzZXJpZXMiKSwoZnVuY3Rpb24oZSl7cmV0dXJuISFlJiZlLnN1YlR5cGU9PT10fSkpfSxlLnByb3RvdHlwZS5nZXRTZXJpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gQih0aGlzLl9jb21wb25lbnRzTWFwLmdldCgic2VyaWVzIiksKGZ1bmN0aW9uKHQpe3JldHVybiEhdH0pKX0sZS5wcm90b3R5cGUuZ2V0U2VyaWVzQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29tcG9uZW50c0NvdW50LmdldCgic2VyaWVzIil9LGUucHJvdG90eXBlLmVhY2hTZXJpZXM9ZnVuY3Rpb24odCxlKXtLcCh0aGlzKSxFKHRoaXMuX3Nlcmllc0luZGljZXMsKGZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMuX2NvbXBvbmVudHNNYXAuZ2V0KCJzZXJpZXMiKVtuXTt0LmNhbGwoZSxpLG4pfSksdGhpcyl9LGUucHJvdG90eXBlLmVhY2hSYXdTZXJpZXM9ZnVuY3Rpb24odCxlKXtFKHRoaXMuX2NvbXBvbmVudHNNYXAuZ2V0KCJzZXJpZXMiKSwoZnVuY3Rpb24obil7biYmdC5jYWxsKGUsbixuLmNvbXBvbmVudEluZGV4KX0pKX0sZS5wcm90b3R5cGUuZWFjaFNlcmllc0J5VHlwZT1mdW5jdGlvbih0LGUsbil7S3AodGhpcyksRSh0aGlzLl9zZXJpZXNJbmRpY2VzLChmdW5jdGlvbihpKXt2YXIgcj10aGlzLl9jb21wb25lbnRzTWFwLmdldCgic2VyaWVzIilbaV07ci5zdWJUeXBlPT09dCYmZS5jYWxsKG4scixpKX0pLHRoaXMpfSxlLnByb3RvdHlwZS5lYWNoUmF3U2VyaWVzQnlUeXBlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gRSh0aGlzLmdldFNlcmllc0J5VHlwZSh0KSxlLG4pfSxlLnByb3RvdHlwZS5pc1Nlcmllc0ZpbHRlcmVkPWZ1bmN0aW9uKHQpe3JldHVybiBLcCh0aGlzKSxudWxsPT10aGlzLl9zZXJpZXNJbmRpY2VzTWFwLmdldCh0LmNvbXBvbmVudEluZGV4KX0sZS5wcm90b3R5cGUuZ2V0Q3VycmVudFNlcmllc0luZGljZXM9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5fc2VyaWVzSW5kaWNlc3x8W10pLnNsaWNlKCl9LGUucHJvdG90eXBlLmZpbHRlclNlcmllcz1mdW5jdGlvbih0LGUpe0twKHRoaXMpO3ZhciBuPVtdO0UodGhpcy5fc2VyaWVzSW5kaWNlcywoZnVuY3Rpb24oaSl7dmFyIHI9dGhpcy5fY29tcG9uZW50c01hcC5nZXQoInNlcmllcyIpW2ldO3QuY2FsbChlLHIsaSkmJm4ucHVzaChpKX0pLHRoaXMpLHRoaXMuX3Nlcmllc0luZGljZXM9bix0aGlzLl9zZXJpZXNJbmRpY2VzTWFwPWZ0KG4pfSxlLnByb3RvdHlwZS5yZXN0b3JlRGF0YT1mdW5jdGlvbih0KXtxcCh0aGlzKTt2YXIgZT10aGlzLl9jb21wb25lbnRzTWFwLG49W107ZS5lYWNoKChmdW5jdGlvbih0LGUpe1RwLmhhc0NsYXNzKGUpJiZuLnB1c2goZSl9KSksVHAudG9wb2xvZ2ljYWxUcmF2ZWwobixUcC5nZXRBbGxDbGFzc01haW5UeXBlcygpLChmdW5jdGlvbihuKXtFKGUuZ2V0KG4pLChmdW5jdGlvbihlKXshZXx8InNlcmllcyI9PT1uJiZmdW5jdGlvbih0LGUpe2lmKGUpe3ZhciBuPWUuc2VyaWVzSW5kZXgsaT1lLnNlcmllc0lkLHI9ZS5zZXJpZXNOYW1lO3JldHVybiBudWxsIT1uJiZ0LmNvbXBvbmVudEluZGV4IT09bnx8bnVsbCE9aSYmdC5pZCE9PWl8fG51bGwhPXImJnQubmFtZSE9PXJ9fShlLHQpfHxlLnJlc3RvcmVEYXRhKCl9KSl9KSl9LGUuaW50ZXJuYWxGaWVsZD0ocXA9ZnVuY3Rpb24odCl7dmFyIGU9dC5fc2VyaWVzSW5kaWNlcz1bXTtFKHQuX2NvbXBvbmVudHNNYXAuZ2V0KCJzZXJpZXMiKSwoZnVuY3Rpb24odCl7dCYmZS5wdXNoKHQuY29tcG9uZW50SW5kZXgpfSkpLHQuX3Nlcmllc0luZGljZXNNYXA9ZnQoZSl9LEtwPWZ1bmN0aW9uKHQpe30sdm9pZCgkcD1mdW5jdGlvbih0LGUpe3Qub3B0aW9uPXt9LHQub3B0aW9uWyJcMF9lY19pbm5lciJdPTEsdC5fY29tcG9uZW50c01hcD1mdCh7c2VyaWVzOltdfSksdC5fY29tcG9uZW50c0NvdW50PWZ0KCk7dmFyIG49ZS5hcmlhO3EobikmJm51bGw9PW4uZW5hYmxlZCYmKG4uZW5hYmxlZD0hMCksZnVuY3Rpb24odCxlKXt2YXIgbj10LmNvbG9yJiYhdC5jb2xvckxheWVyO0UoZSwoZnVuY3Rpb24oZSxpKXsiY29sb3JMYXllciI9PT1pJiZufHxUcC5oYXNDbGFzcyhpKXx8KCJvYmplY3QiPT10eXBlb2YgZT90W2ldPXRbaV0/Qyh0W2ldLGUsITEpOlQoZSk6bnVsbD09dFtpXSYmKHRbaV09ZSkpfSkpfShlLHQuX3RoZW1lLm9wdGlvbiksQyhlLEFwLCExKSx0Ll9tZXJnZU9wdGlvbihlLG51bGwpfSkpLGV9KGRjKTtmdW5jdGlvbiByZCh0LGUsbil7aWYoWShlKSl7dmFyIGk9ZnQoKTtyZXR1cm4gRShlLChmdW5jdGlvbih0KXtudWxsIT10JiYobnVsbCE9eG8odCxudWxsKSYmaS5zZXQodCwhMCkpfSkpLEIobiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmkuZ2V0KGVbdF0pfSkpfXZhciByPXhvKGUsbnVsbCk7cmV0dXJuIEIobiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJm51bGwhPXImJmVbdF09PT1yfSkpfWZ1bmN0aW9uIG9kKHQsZSl7cmV0dXJuIGUuaGFzT3duUHJvcGVydHkoInN1YlR5cGUiKT9CKHQsKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0LnN1YlR5cGU9PT1lLnN1YlR5cGV9KSk6dH1mdW5jdGlvbiBhZCh0KXt2YXIgZT1mdCgpO3JldHVybiB0JiZFKGhvKHQucmVwbGFjZU1lcmdlKSwoZnVuY3Rpb24odCl7ZS5zZXQodCwhMCl9KSkse3JlcGxhY2VNZXJnZU1haW5UeXBlTWFwOmV9fVIoaWQsdGQpO3ZhciBzZD1bImdldERvbSIsImdldFpyIiwiZ2V0V2lkdGgiLCJnZXRIZWlnaHQiLCJnZXREZXZpY2VQaXhlbFJhdGlvIiwiZGlzcGF0Y2hBY3Rpb24iLCJpc1NTUiIsImlzRGlzcG9zZWQiLCJvbiIsIm9mZiIsImdldERhdGFVUkwiLCJnZXRDb25uZWN0ZWREYXRhVVJMIiwiZ2V0T3B0aW9uIiwiZ2V0SWQiLCJ1cGRhdGVMYWJlbExheW91dCJdLGxkPWZ1bmN0aW9uKHQpe0Uoc2QsKGZ1bmN0aW9uKGUpe3RoaXNbZV09Vyh0W2VdLHQpfSksdGhpcyl9LHVkPXt9LGhkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuX2Nvb3JkaW5hdGVTeXN0ZW1zPVtdfXJldHVybiB0LnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtFKHVkLChmdW5jdGlvbihpLHIpe3ZhciBvPWkuY3JlYXRlKHQsZSk7bj1uLmNvbmNhdChvfHxbXSl9KSksdGhpcy5fY29vcmRpbmF0ZVN5c3RlbXM9bn0sdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7RSh0aGlzLl9jb29yZGluYXRlU3lzdGVtcywoZnVuY3Rpb24obil7bi51cGRhdGUmJm4udXBkYXRlKHQsZSl9KSl9LHQucHJvdG90eXBlLmdldENvb3JkaW5hdGVTeXN0ZW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nvb3JkaW5hdGVTeXN0ZW1zLnNsaWNlKCl9LHQucmVnaXN0ZXI9ZnVuY3Rpb24odCxlKXt1ZFt0XT1lfSx0LmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdWRbdF19LHR9KCksY2Q9L14obWlufG1heCk/KC4rKSQvLHBkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl90aW1lbGluZU9wdGlvbnM9W10sdGhpcy5fbWVkaWFMaXN0PVtdLHRoaXMuX2N1cnJlbnRNZWRpYUluZGljZXM9W10sdGhpcy5fYXBpPXR9cmV0dXJuIHQucHJvdG90eXBlLnNldE9wdGlvbj1mdW5jdGlvbih0LGUsbil7dCYmKEUoaG8odC5zZXJpZXMpLChmdW5jdGlvbih0KXt0JiZ0LmRhdGEmJiQodC5kYXRhKSYmY3QodC5kYXRhKX0pKSxFKGhvKHQuZGF0YXNldCksKGZ1bmN0aW9uKHQpe3QmJnQuc291cmNlJiYkKHQuc291cmNlKSYmY3QodC5zb3VyY2UpfSkpKSx0PVQodCk7dmFyIGk9dGhpcy5fb3B0aW9uQmFja3VwLHI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHIsbz1bXSxhPXQuYmFzZU9wdGlvbixzPXQudGltZWxpbmUsbD10Lm9wdGlvbnMsdT10Lm1lZGlhLGg9ISF0Lm1lZGlhLGM9ISEobHx8c3x8YSYmYS50aW1lbGluZSk7YT8ocj1hKS50aW1lbGluZXx8KHIudGltZWxpbmU9cyk6KChjfHxoKSYmKHQub3B0aW9ucz10Lm1lZGlhPW51bGwpLHI9dCk7aCYmWSh1KSYmRSh1LChmdW5jdGlvbih0KXt0JiZ0Lm9wdGlvbiYmKHQucXVlcnk/by5wdXNoKHQpOml8fChpPXQpKX0pKTtmdW5jdGlvbiBwKHQpe0UoZSwoZnVuY3Rpb24oZSl7ZSh0LG4pfSkpfXJldHVybiBwKHIpLEUobCwoZnVuY3Rpb24odCl7cmV0dXJuIHAodCl9KSksRShvLChmdW5jdGlvbih0KXtyZXR1cm4gcCh0Lm9wdGlvbil9KSkse2Jhc2VPcHRpb246cix0aW1lbGluZU9wdGlvbnM6bHx8W10sbWVkaWFEZWZhdWx0OmksbWVkaWFMaXN0Om99fSh0LGUsIWkpO3RoaXMuX25ld0Jhc2VPcHRpb249ci5iYXNlT3B0aW9uLGk/KHIudGltZWxpbmVPcHRpb25zLmxlbmd0aCYmKGkudGltZWxpbmVPcHRpb25zPXIudGltZWxpbmVPcHRpb25zKSxyLm1lZGlhTGlzdC5sZW5ndGgmJihpLm1lZGlhTGlzdD1yLm1lZGlhTGlzdCksci5tZWRpYURlZmF1bHQmJihpLm1lZGlhRGVmYXVsdD1yLm1lZGlhRGVmYXVsdCkpOnRoaXMuX29wdGlvbkJhY2t1cD1yfSx0LnByb3RvdHlwZS5tb3VudE9wdGlvbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9vcHRpb25CYWNrdXA7cmV0dXJuIHRoaXMuX3RpbWVsaW5lT3B0aW9ucz1lLnRpbWVsaW5lT3B0aW9ucyx0aGlzLl9tZWRpYUxpc3Q9ZS5tZWRpYUxpc3QsdGhpcy5fbWVkaWFEZWZhdWx0PWUubWVkaWFEZWZhdWx0LHRoaXMuX2N1cnJlbnRNZWRpYUluZGljZXM9W10sVCh0P2UuYmFzZU9wdGlvbjp0aGlzLl9uZXdCYXNlT3B0aW9uKX0sdC5wcm90b3R5cGUuZ2V0VGltZWxpbmVPcHRpb249ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLl90aW1lbGluZU9wdGlvbnM7aWYobi5sZW5ndGgpe3ZhciBpPXQuZ2V0Q29tcG9uZW50KCJ0aW1lbGluZSIpO2kmJihlPVQobltpLmdldEN1cnJlbnRJbmRleCgpXSkpfXJldHVybiBlfSx0LnByb3RvdHlwZS5nZXRNZWRpYU9wdGlvbj1mdW5jdGlvbih0KXt2YXIgZSxuLGk9dGhpcy5fYXBpLmdldFdpZHRoKCkscj10aGlzLl9hcGkuZ2V0SGVpZ2h0KCksbz10aGlzLl9tZWRpYUxpc3QsYT10aGlzLl9tZWRpYURlZmF1bHQscz1bXSxsPVtdO2lmKCFvLmxlbmd0aCYmIWEpcmV0dXJuIGw7Zm9yKHZhciB1PTAsaD1vLmxlbmd0aDt1PGg7dSsrKWRkKG9bdV0ucXVlcnksaSxyKSYmcy5wdXNoKHUpO3JldHVybiFzLmxlbmd0aCYmYSYmKHM9Wy0xXSkscy5sZW5ndGgmJihlPXMsbj10aGlzLl9jdXJyZW50TWVkaWFJbmRpY2VzLGUuam9pbigiLCIpIT09bi5qb2luKCIsIikpJiYobD16KHMsKGZ1bmN0aW9uKHQpe3JldHVybiBUKC0xPT09dD9hLm9wdGlvbjpvW3RdLm9wdGlvbil9KSkpLHRoaXMuX2N1cnJlbnRNZWRpYUluZGljZXM9cyxsfSx0fSgpO2Z1bmN0aW9uIGRkKHQsZSxuKXt2YXIgaT17d2lkdGg6ZSxoZWlnaHQ6bixhc3BlY3RyYXRpbzplL259LHI9ITA7cmV0dXJuIEUodCwoZnVuY3Rpb24odCxlKXt2YXIgbj1lLm1hdGNoKGNkKTtpZihuJiZuWzFdJiZuWzJdKXt2YXIgbz1uWzFdLGE9blsyXS50b0xvd2VyQ2FzZSgpOyhmdW5jdGlvbih0LGUsbil7cmV0dXJuIm1pbiI9PT1uP3Q+PWU6Im1heCI9PT1uP3Q8PWU6dD09PWV9KShpW2FdLHQsbyl8fChyPSExKX19KSkscn12YXIgZmQ9RSxnZD1xLHlkPVsiYXJlYVN0eWxlIiwibGluZVN0eWxlIiwibm9kZVN0eWxlIiwibGlua1N0eWxlIiwiY2hvcmRTdHlsZSIsImxhYmVsIiwibGFiZWxMaW5lIl07ZnVuY3Rpb24gdmQodCl7dmFyIGU9dCYmdC5pdGVtU3R5bGU7aWYoZSlmb3IodmFyIG49MCxpPXlkLmxlbmd0aDtuPGk7bisrKXt2YXIgcj15ZFtuXSxvPWUubm9ybWFsLGE9ZS5lbXBoYXNpcztvJiZvW3JdJiYodFtyXT10W3JdfHx7fSx0W3JdLm5vcm1hbD9DKHRbcl0ubm9ybWFsLG9bcl0pOnRbcl0ubm9ybWFsPW9bcl0sb1tyXT1udWxsKSxhJiZhW3JdJiYodFtyXT10W3JdfHx7fSx0W3JdLmVtcGhhc2lzP0ModFtyXS5lbXBoYXNpcyxhW3JdKTp0W3JdLmVtcGhhc2lzPWFbcl0sYVtyXT1udWxsKX19ZnVuY3Rpb24gbWQodCxlLG4pe2lmKHQmJnRbZV0mJih0W2VdLm5vcm1hbHx8dFtlXS5lbXBoYXNpcykpe3ZhciBpPXRbZV0ubm9ybWFsLHI9dFtlXS5lbXBoYXNpcztpJiYobj8odFtlXS5ub3JtYWw9dFtlXS5lbXBoYXNpcz1udWxsLGsodFtlXSxpKSk6dFtlXT1pKSxyJiYodC5lbXBoYXNpcz10LmVtcGhhc2lzfHx7fSx0LmVtcGhhc2lzW2VdPXIsci5mb2N1cyYmKHQuZW1waGFzaXMuZm9jdXM9ci5mb2N1cyksci5ibHVyU2NvcGUmJih0LmVtcGhhc2lzLmJsdXJTY29wZT1yLmJsdXJTY29wZSkpfX1mdW5jdGlvbiB4ZCh0KXttZCh0LCJpdGVtU3R5bGUiKSxtZCh0LCJsaW5lU3R5bGUiKSxtZCh0LCJhcmVhU3R5bGUiKSxtZCh0LCJsYWJlbCIpLG1kKHQsImxhYmVsTGluZSIpLG1kKHQsInVwcGVyTGFiZWwiKSxtZCh0LCJlZGdlTGFiZWwiKX1mdW5jdGlvbiBfZCh0LGUpe3ZhciBuPWdkKHQpJiZ0W2VdLGk9Z2QobikmJm4udGV4dFN0eWxlO2lmKGkpezA7Zm9yKHZhciByPTAsbz1wby5sZW5ndGg7cjxvO3IrKyl7dmFyIGE9cG9bcl07aS5oYXNPd25Qcm9wZXJ0eShhKSYmKG5bYV09aVthXSl9fX1mdW5jdGlvbiBiZCh0KXt0JiYoeGQodCksX2QodCwibGFiZWwiKSx0LmVtcGhhc2lzJiZfZCh0LmVtcGhhc2lzLCJsYWJlbCIpKX1mdW5jdGlvbiB3ZCh0KXtyZXR1cm4gWSh0KT90OnQ/W3RdOltdfWZ1bmN0aW9uIFNkKHQpe3JldHVybihZKHQpP3RbMF06dCl8fHt9fWZ1bmN0aW9uIE1kKHQsZSl7ZmQod2QodC5zZXJpZXMpLChmdW5jdGlvbih0KXtnZCh0KSYmZnVuY3Rpb24odCl7aWYoZ2QodCkpe3ZkKHQpLHhkKHQpLF9kKHQsImxhYmVsIiksX2QodCwidXBwZXJMYWJlbCIpLF9kKHQsImVkZ2VMYWJlbCIpLHQuZW1waGFzaXMmJihfZCh0LmVtcGhhc2lzLCJsYWJlbCIpLF9kKHQuZW1waGFzaXMsInVwcGVyTGFiZWwiKSxfZCh0LmVtcGhhc2lzLCJlZGdlTGFiZWwiKSk7dmFyIGU9dC5tYXJrUG9pbnQ7ZSYmKHZkKGUpLGJkKGUpKTt2YXIgbj10Lm1hcmtMaW5lO24mJih2ZChuKSxiZChuKSk7dmFyIGk9dC5tYXJrQXJlYTtpJiZiZChpKTt2YXIgcj10LmRhdGE7aWYoImdyYXBoIj09PXQudHlwZSl7cj1yfHx0Lm5vZGVzO3ZhciBvPXQubGlua3N8fHQuZWRnZXM7aWYobyYmISQobykpZm9yKHZhciBhPTA7YTxvLmxlbmd0aDthKyspYmQob1thXSk7RSh0LmNhdGVnb3JpZXMsKGZ1bmN0aW9uKHQpe3hkKHQpfSkpfWlmKHImJiEkKHIpKWZvcihhPTA7YTxyLmxlbmd0aDthKyspYmQoclthXSk7aWYoKGU9dC5tYXJrUG9pbnQpJiZlLmRhdGEpe3ZhciBzPWUuZGF0YTtmb3IoYT0wO2E8cy5sZW5ndGg7YSsrKWJkKHNbYV0pfWlmKChuPXQubWFya0xpbmUpJiZuLmRhdGEpe3ZhciBsPW4uZGF0YTtmb3IoYT0wO2E8bC5sZW5ndGg7YSsrKVkobFthXSk/KGJkKGxbYV1bMF0pLGJkKGxbYV1bMV0pKTpiZChsW2FdKX0iZ2F1Z2UiPT09dC50eXBlPyhfZCh0LCJheGlzTGFiZWwiKSxfZCh0LCJ0aXRsZSIpLF9kKHQsImRldGFpbCIpKToidHJlZW1hcCI9PT10LnR5cGU/KG1kKHQuYnJlYWRjcnVtYiwiaXRlbVN0eWxlIiksRSh0LmxldmVscywoZnVuY3Rpb24odCl7eGQodCl9KSkpOiJ0cmVlIj09PXQudHlwZSYmeGQodC5sZWF2ZXMpfX0odCl9KSk7dmFyIG49WyJ4QXhpcyIsInlBeGlzIiwicmFkaXVzQXhpcyIsImFuZ2xlQXhpcyIsInNpbmdsZUF4aXMiLCJwYXJhbGxlbEF4aXMiLCJyYWRhciJdO2UmJm4ucHVzaCgidmFsdWVBeGlzIiwiY2F0ZWdvcnlBeGlzIiwibG9nQXhpcyIsInRpbWVBeGlzIiksZmQobiwoZnVuY3Rpb24oZSl7ZmQod2QodFtlXSksKGZ1bmN0aW9uKHQpe3QmJihfZCh0LCJheGlzTGFiZWwiKSxfZCh0LmF4aXNQb2ludGVyLCJsYWJlbCIpKX0pKX0pKSxmZCh3ZCh0LnBhcmFsbGVsKSwoZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5wYXJhbGxlbEF4aXNEZWZhdWx0O19kKGUsImF4aXNMYWJlbCIpLF9kKGUmJmUuYXhpc1BvaW50ZXIsImxhYmVsIil9KSksZmQod2QodC5jYWxlbmRhciksKGZ1bmN0aW9uKHQpe21kKHQsIml0ZW1TdHlsZSIpLF9kKHQsImRheUxhYmVsIiksX2QodCwibW9udGhMYWJlbCIpLF9kKHQsInllYXJMYWJlbCIpfSkpLGZkKHdkKHQucmFkYXIpLChmdW5jdGlvbih0KXtfZCh0LCJuYW1lIiksdC5uYW1lJiZudWxsPT10LmF4aXNOYW1lJiYodC5heGlzTmFtZT10Lm5hbWUsZGVsZXRlIHQubmFtZSksbnVsbCE9dC5uYW1lR2FwJiZudWxsPT10LmF4aXNOYW1lR2FwJiYodC5heGlzTmFtZUdhcD10Lm5hbWVHYXAsZGVsZXRlIHQubmFtZUdhcCl9KSksZmQod2QodC5nZW8pLChmdW5jdGlvbih0KXtnZCh0KSYmKGJkKHQpLGZkKHdkKHQucmVnaW9ucyksKGZ1bmN0aW9uKHQpe2JkKHQpfSkpKX0pKSxmZCh3ZCh0LnRpbWVsaW5lKSwoZnVuY3Rpb24odCl7YmQodCksbWQodCwibGFiZWwiKSxtZCh0LCJpdGVtU3R5bGUiKSxtZCh0LCJjb250cm9sU3R5bGUiLCEwKTt2YXIgZT10LmRhdGE7WShlKSYmRShlLChmdW5jdGlvbih0KXtxKHQpJiYobWQodCwibGFiZWwiKSxtZCh0LCJpdGVtU3R5bGUiKSl9KSl9KSksZmQod2QodC50b29sYm94KSwoZnVuY3Rpb24odCl7bWQodCwiaWNvblN0eWxlIiksZmQodC5mZWF0dXJlLChmdW5jdGlvbih0KXttZCh0LCJpY29uU3R5bGUiKX0pKX0pKSxfZChTZCh0LmF4aXNQb2ludGVyKSwibGFiZWwiKSxfZChTZCh0LnRvb2x0aXApLmF4aXNQb2ludGVyLCJsYWJlbCIpfWZ1bmN0aW9uIElkKHQpe3QmJkUoVGQsKGZ1bmN0aW9uKGUpe2VbMF1pbiB0JiYhKGVbMV1pbiB0KSYmKHRbZVsxXV09dFtlWzBdXSl9KSl9dmFyIFRkPVtbIngiLCJsZWZ0Il0sWyJ5IiwidG9wIl0sWyJ4MiIsInJpZ2h0Il0sWyJ5MiIsImJvdHRvbSJdXSxDZD1bImdyaWQiLCJnZW8iLCJwYXJhbGxlbCIsImxlZ2VuZCIsInRvb2xib3giLCJ0aXRsZSIsInZpc3VhbE1hcCIsImRhdGFab29tIiwidGltZWxpbmUiXSxEZD1bWyJib3JkZXJSYWRpdXMiLCJiYXJCb3JkZXJSYWRpdXMiXSxbImJvcmRlckNvbG9yIiwiYmFyQm9yZGVyQ29sb3IiXSxbImJvcmRlcldpZHRoIiwiYmFyQm9yZGVyV2lkdGgiXV07ZnVuY3Rpb24gQWQodCl7dmFyIGU9dCYmdC5pdGVtU3R5bGU7aWYoZSlmb3IodmFyIG49MDtuPERkLmxlbmd0aDtuKyspe3ZhciBpPURkW25dWzFdLHI9RGRbbl1bMF07bnVsbCE9ZVtpXSYmKGVbcl09ZVtpXSl9fWZ1bmN0aW9uIGtkKHQpe3QmJiJlZGdlIj09PXQuYWxpZ25UbyYmbnVsbCE9dC5tYXJnaW4mJm51bGw9PXQuZWRnZURpc3RhbmNlJiYodC5lZGdlRGlzdGFuY2U9dC5tYXJnaW4pfWZ1bmN0aW9uIExkKHQpe3QmJnQuZG93bnBsYXkmJiF0LmJsdXImJih0LmJsdXI9dC5kb3ducGxheSl9ZnVuY3Rpb24gUGQodCxlKXtpZih0KWZvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWUodFtuXSksdFtuXSYmUGQodFtuXS5jaGlsZHJlbixlKX1mdW5jdGlvbiBPZCh0LGUpe01kKHQsZSksdC5zZXJpZXM9aG8odC5zZXJpZXMpLEUodC5zZXJpZXMsKGZ1bmN0aW9uKHQpe2lmKHEodCkpe3ZhciBlPXQudHlwZTtpZigibGluZSI9PT1lKW51bGwhPXQuY2xpcE92ZXJmbG93JiYodC5jbGlwPXQuY2xpcE92ZXJmbG93KTtlbHNlIGlmKCJwaWUiPT09ZXx8ImdhdWdlIj09PWUpe2lmKG51bGwhPXQuY2xvY2tXaXNlJiYodC5jbG9ja3dpc2U9dC5jbG9ja1dpc2UpLGtkKHQubGFiZWwpLChyPXQuZGF0YSkmJiEkKHIpKWZvcih2YXIgbj0wO248ci5sZW5ndGg7bisrKWtkKHJbbl0pO251bGwhPXQuaG92ZXJPZmZzZXQmJih0LmVtcGhhc2lzPXQuZW1waGFzaXN8fHt9LCh0LmVtcGhhc2lzLnNjYWxlU2l6ZT1udWxsKSYmKHQuZW1waGFzaXMuc2NhbGVTaXplPXQuaG92ZXJPZmZzZXQpKX1lbHNlIGlmKCJnYXVnZSI9PT1lKXt2YXIgaT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lLnNwbGl0KCIsIiksaT10LHI9MDtyPG4ubGVuZ3RoJiZudWxsIT0oaT1pJiZpW25bcl1dKTtyKyspO3JldHVybiBpfSh0LCJwb2ludGVyLmNvbG9yIik7bnVsbCE9aSYmZnVuY3Rpb24odCxlLG4saSl7Zm9yKHZhciByLG89ZS5zcGxpdCgiLCIpLGE9dCxzPTA7czxvLmxlbmd0aC0xO3MrKyludWxsPT1hW3I9b1tzXV0mJihhW3JdPXt9KSxhPWFbcl07KGl8fG51bGw9PWFbb1tzXV0pJiYoYVtvW3NdXT1uKX0odCwiaXRlbVN0eWxlLmNvbG9yIixpKX1lbHNlIGlmKCJiYXIiPT09ZSl7dmFyIHI7aWYoQWQodCksQWQodC5iYWNrZ3JvdW5kU3R5bGUpLEFkKHQuZW1waGFzaXMpLChyPXQuZGF0YSkmJiEkKHIpKWZvcihuPTA7bjxyLmxlbmd0aDtuKyspIm9iamVjdCI9PXR5cGVvZiByW25dJiYoQWQocltuXSksQWQocltuXSYmcltuXS5lbXBoYXNpcykpfWVsc2UgaWYoInN1bmJ1cnN0Ij09PWUpe3ZhciBvPXQuaGlnaGxpZ2h0UG9saWN5O28mJih0LmVtcGhhc2lzPXQuZW1waGFzaXN8fHt9LHQuZW1waGFzaXMuZm9jdXN8fCh0LmVtcGhhc2lzLmZvY3VzPW8pKSxMZCh0KSxQZCh0LmRhdGEsTGQpfWVsc2UiZ3JhcGgiPT09ZXx8InNhbmtleSI9PT1lP2Z1bmN0aW9uKHQpe3QmJm51bGwhPXQuZm9jdXNOb2RlQWRqYWNlbmN5JiYodC5lbXBoYXNpcz10LmVtcGhhc2lzfHx7fSxudWxsPT10LmVtcGhhc2lzLmZvY3VzJiYodC5lbXBoYXNpcy5mb2N1cz0iYWRqYWNlbmN5IikpfSh0KToibWFwIj09PWUmJih0Lm1hcFR5cGUmJiF0Lm1hcCYmKHQubWFwPXQubWFwVHlwZSksdC5tYXBMb2NhdGlvbiYmayh0LHQubWFwTG9jYXRpb24pKTtudWxsIT10LmhvdmVyQW5pbWF0aW9uJiYodC5lbXBoYXNpcz10LmVtcGhhc2lzfHx7fSx0LmVtcGhhc2lzJiZudWxsPT10LmVtcGhhc2lzLnNjYWxlJiYodC5lbXBoYXNpcy5zY2FsZT10LmhvdmVyQW5pbWF0aW9uKSksSWQodCl9fSkpLHQuZGF0YVJhbmdlJiYodC52aXN1YWxNYXA9dC5kYXRhUmFuZ2UpLEUoQ2QsKGZ1bmN0aW9uKGUpe3ZhciBuPXRbZV07biYmKFkobil8fChuPVtuXSksRShuLChmdW5jdGlvbih0KXtJZCh0KX0pKSl9KSl9ZnVuY3Rpb24gUmQodCl7RSh0LChmdW5jdGlvbihlLG4pe3ZhciBpPVtdLHI9W05hTixOYU5dLG89W2Uuc3RhY2tSZXN1bHREaW1lbnNpb24sZS5zdGFja2VkT3ZlckRpbWVuc2lvbl0sYT1lLmRhdGEscz1lLmlzU3RhY2tlZEJ5SW5kZXg7YS5tb2RpZnkobywoZnVuY3Rpb24obyxsLHUpe3ZhciBoLGMscD1hLmdldChlLnN0YWNrZWREaW1lbnNpb24sdSk7aWYoaXNOYU4ocCkpcmV0dXJuIHI7cz9jPWEuZ2V0UmF3SW5kZXgodSk6aD1hLmdldChlLnN0YWNrZWRCeURpbWVuc2lvbix1KTtmb3IodmFyIGQ9TmFOLGY9bi0xO2Y+PTA7Zi0tKXt2YXIgZz10W2ZdO2lmKHN8fChjPWcuZGF0YS5yYXdJbmRleE9mKGcuc3RhY2tlZEJ5RGltZW5zaW9uLGgpKSxjPj0wKXt2YXIgeT1nLmRhdGEuZ2V0QnlSYXdJbmRleChnLnN0YWNrUmVzdWx0RGltZW5zaW9uLGMpO2lmKHA+PTAmJnk+MHx8cDw9MCYmeTwwKXtwPUhyKHAseSksZD15O2JyZWFrfX19cmV0dXJuIGlbMF09cCxpWzFdPWQsaX0pKX0pKX12YXIgTmQsRWQsemQsVmQsQmQsRmQ9ZnVuY3Rpb24odCl7dGhpcy5kYXRhPXQuZGF0YXx8KHQuc291cmNlRm9ybWF0PT09UnA/e306W10pLHRoaXMuc291cmNlRm9ybWF0PXQuc291cmNlRm9ybWF0fHxFcCx0aGlzLnNlcmllc0xheW91dEJ5PXQuc2VyaWVzTGF5b3V0Qnl8fHpwLHRoaXMuc3RhcnRJbmRleD10LnN0YXJ0SW5kZXh8fDAsdGhpcy5kaW1lbnNpb25zRGV0ZWN0ZWRDb3VudD10LmRpbWVuc2lvbnNEZXRlY3RlZENvdW50LHRoaXMubWV0YVJhd09wdGlvbj10Lm1ldGFSYXdPcHRpb247dmFyIGU9dGhpcy5kaW1lbnNpb25zRGVmaW5lPXQuZGltZW5zaW9uc0RlZmluZTtpZihlKWZvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dO251bGw9PWkudHlwZSYmWHAodGhpcyxuKT09PUJwJiYoaS50eXBlPSJvcmRpbmFsIil9fTtmdW5jdGlvbiBHZCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEZkfWZ1bmN0aW9uIFdkKHQsZSxuKXtuPW58fFlkKHQpO3ZhciBpPWUuc2VyaWVzTGF5b3V0Qnkscj1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvLGE7aWYoIXQpcmV0dXJue2RpbWVuc2lvbnNEZWZpbmU6VWQociksc3RhcnRJbmRleDphLGRpbWVuc2lvbnNEZXRlY3RlZENvdW50Om99O2lmKGU9PT1QcCl7dmFyIHM9dDsiYXV0byI9PT1pfHxudWxsPT1pP1hkKChmdW5jdGlvbih0KXtudWxsIT10JiYiLSIhPT10JiYoWCh0KT9udWxsPT1hJiYoYT0xKTphPTApfSksbixzLDEwKTphPWooaSk/aTppPzE6MCxyfHwxIT09YXx8KHI9W10sWGQoKGZ1bmN0aW9uKHQsZSl7cltlXT1udWxsIT10P3QrIiI6IiJ9KSxuLHMsMS8wKSksbz1yP3IubGVuZ3RoOm49PT1WcD9zLmxlbmd0aDpzWzBdP3NbMF0ubGVuZ3RoOm51bGx9ZWxzZSBpZihlPT09T3Apcnx8KHI9ZnVuY3Rpb24odCl7dmFyIGUsbj0wO2Zvcig7bjx0Lmxlbmd0aCYmIShlPXRbbisrXSk7KTtpZihlKXt2YXIgaT1bXTtyZXR1cm4gRShlLChmdW5jdGlvbih0LGUpe2kucHVzaChlKX0pKSxpfX0odCkpO2Vsc2UgaWYoZT09PVJwKXJ8fChyPVtdLEUodCwoZnVuY3Rpb24odCxlKXtyLnB1c2goZSl9KSkpO2Vsc2UgaWYoZT09PUxwKXt2YXIgbD1mbyh0WzBdKTtvPVkobCkmJmwubGVuZ3RofHwxfXJldHVybntzdGFydEluZGV4OmEsZGltZW5zaW9uc0RlZmluZTpVZChyKSxkaW1lbnNpb25zRGV0ZWN0ZWRDb3VudDpvfX0odCxuLGksZS5zb3VyY2VIZWFkZXIsZS5kaW1lbnNpb25zKTtyZXR1cm4gbmV3IEZkKHtkYXRhOnQsc291cmNlRm9ybWF0Om4sc2VyaWVzTGF5b3V0Qnk6aSxkaW1lbnNpb25zRGVmaW5lOnIuZGltZW5zaW9uc0RlZmluZSxzdGFydEluZGV4OnIuc3RhcnRJbmRleCxkaW1lbnNpb25zRGV0ZWN0ZWRDb3VudDpyLmRpbWVuc2lvbnNEZXRlY3RlZENvdW50LG1ldGFSYXdPcHRpb246VChlKX0pfWZ1bmN0aW9uIEhkKHQpe3JldHVybiBuZXcgRmQoe2RhdGE6dCxzb3VyY2VGb3JtYXQ6JCh0KT9OcDpMcH0pfWZ1bmN0aW9uIFlkKHQpe3ZhciBlPUVwO2lmKCQodCkpZT1OcDtlbHNlIGlmKFkodCkpezA9PT10Lmxlbmd0aCYmKGU9UHApO2Zvcih2YXIgbj0wLGk9dC5sZW5ndGg7bjxpO24rKyl7dmFyIHI9dFtuXTtpZihudWxsIT1yKXtpZihZKHIpKXtlPVBwO2JyZWFrfWlmKHEocikpe2U9T3A7YnJlYWt9fX19ZWxzZSBpZihxKHQpKWZvcih2YXIgbyBpbiB0KWlmKG10KHQsbykmJk4odFtvXSkpe2U9UnA7YnJlYWt9cmV0dXJuIGV9ZnVuY3Rpb24gVWQodCl7aWYodCl7dmFyIGU9ZnQoKTtyZXR1cm4geih0LChmdW5jdGlvbih0LG4pe3ZhciBpPXtuYW1lOih0PXEodCk/dDp7bmFtZTp0fSkubmFtZSxkaXNwbGF5TmFtZTp0LmRpc3BsYXlOYW1lLHR5cGU6dC50eXBlfTtpZihudWxsPT1pLm5hbWUpcmV0dXJuIGk7aS5uYW1lKz0iIixudWxsPT1pLmRpc3BsYXlOYW1lJiYoaS5kaXNwbGF5TmFtZT1pLm5hbWUpO3ZhciByPWUuZ2V0KGkubmFtZSk7cmV0dXJuIHI/aS5uYW1lKz0iLSIrci5jb3VudCsrOmUuc2V0KGkubmFtZSx7Y291bnQ6MX0pLGl9KSl9fWZ1bmN0aW9uIFhkKHQsZSxuLGkpe2lmKGU9PT1WcClmb3IodmFyIHI9MDtyPG4ubGVuZ3RoJiZyPGk7cisrKXQobltyXT9uW3JdWzBdOm51bGwscik7ZWxzZXt2YXIgbz1uWzBdfHxbXTtmb3Iocj0wO3I8by5sZW5ndGgmJnI8aTtyKyspdChvW3JdLHIpfX1mdW5jdGlvbiBaZCh0KXt2YXIgZT10LnNvdXJjZUZvcm1hdDtyZXR1cm4gZT09PU9wfHxlPT09UnB9dmFyIGpkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciBuPUdkKHQpP3Q6SGQodCk7dGhpcy5fc291cmNlPW47dmFyIGk9dGhpcy5fZGF0YT1uLmRhdGE7bi5zb3VyY2VGb3JtYXQ9PT1OcCYmKHRoaXMuX29mZnNldD0wLHRoaXMuX2RpbVNpemU9ZSx0aGlzLl9kYXRhPWkpLEJkKHRoaXMsaSxuKX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0U291cmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZX0sdC5wcm90b3R5cGUuY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sdC5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUuYXBwZW5kRGF0YT1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmNsZWFuPWZ1bmN0aW9uKCl7fSx0LnByb3RvSW5pdGlhbGl6ZT1mdW5jdGlvbigpe3ZhciBlPXQucHJvdG90eXBlO2UucHVyZT0hMSxlLnBlcnNpc3RlbnQ9ITB9KCksdC5pbnRlcm5hbEZpZWxkPWZ1bmN0aW9uKCl7dmFyIHQ7QmQ9ZnVuY3Rpb24odCxyLG8pe3ZhciBhPW8uc291cmNlRm9ybWF0LHM9by5zZXJpZXNMYXlvdXRCeSxsPW8uc3RhcnRJbmRleCx1PW8uZGltZW5zaW9uc0RlZmluZSxoPVZkW29mKGEscyldO2lmKEEodCxoKSxhPT09TnApdC5nZXRJdGVtPWUsdC5jb3VudD1pLHQuZmlsbFN0b3JhZ2U9bjtlbHNle3ZhciBjPSRkKGEscyk7dC5nZXRJdGVtPVcoYyxudWxsLHIsbCx1KTt2YXIgcD10ZihhLHMpO3QuY291bnQ9VyhwLG51bGwscixsLHUpfX07dmFyIGU9ZnVuY3Rpb24odCxlKXt0LT10aGlzLl9vZmZzZXQsZT1lfHxbXTtmb3IodmFyIG49dGhpcy5fZGF0YSxpPXRoaXMuX2RpbVNpemUscj1pKnQsbz0wO288aTtvKyspZVtvXT1uW3Irb107cmV0dXJuIGV9LG49ZnVuY3Rpb24odCxlLG4saSl7Zm9yKHZhciByPXRoaXMuX2RhdGEsbz10aGlzLl9kaW1TaXplLGE9MDthPG87YSsrKXtmb3IodmFyIHM9aVthXSxsPW51bGw9PXNbMF0/MS8wOnNbMF0sdT1udWxsPT1zWzFdPy0xLzA6c1sxXSxoPWUtdCxjPW5bYV0scD0wO3A8aDtwKyspe3ZhciBkPXJbcCpvK2FdO2NbdCtwXT1kLGQ8bCYmKGw9ZCksZD51JiYodT1kKX1zWzBdPWwsc1sxXT11fX0saT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhP3RoaXMuX2RhdGEubGVuZ3RoL3RoaXMuX2RpbVNpemU6MH07ZnVuY3Rpb24gcih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl0aGlzLl9kYXRhLnB1c2godFtlXSl9KHQ9e30pLmFycmF5Um93c19jb2x1bW49e3B1cmU6ITAsYXBwZW5kRGF0YTpyfSx0LmFycmF5Um93c19yb3c9e3B1cmU6ITAsYXBwZW5kRGF0YTpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcignRG8gbm90IHN1cHBvcnQgYXBwZW5kRGF0YSB3aGVuIHNldCBzZXJpZXNMYXlvdXRCeTogInJvdyIuJyl9fSx0Lm9iamVjdFJvd3M9e3B1cmU6ITAsYXBwZW5kRGF0YTpyfSx0LmtleWVkQ29sdW1ucz17cHVyZTohMCxhcHBlbmREYXRhOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2RhdGE7RSh0LChmdW5jdGlvbih0LG4pe2Zvcih2YXIgaT1lW25dfHwoZVtuXT1bXSkscj0wO3I8KHR8fFtdKS5sZW5ndGg7cisrKWkucHVzaCh0W3JdKX0pKX19LHQub3JpZ2luYWw9e2FwcGVuZERhdGE6cn0sdC50eXBlZEFycmF5PXtwZXJzaXN0ZW50OiExLHB1cmU6ITAsYXBwZW5kRGF0YTpmdW5jdGlvbih0KXt0aGlzLl9kYXRhPXR9LGNsZWFuOmZ1bmN0aW9uKCl7dGhpcy5fb2Zmc2V0Kz10aGlzLmNvdW50KCksdGhpcy5fZGF0YT1udWxsfX0sVmQ9dH0oKSx0fSgpLHFkPWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB0W2ldfSxLZD0oKE5kPXt9KS5hcnJheVJvd3NfY29sdW1uPWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB0W2krZV19LE5kLmFycmF5Um93c19yb3c9ZnVuY3Rpb24odCxlLG4saSxyKXtpKz1lO2Zvcih2YXIgbz1yfHxbXSxhPXQscz0wO3M8YS5sZW5ndGg7cysrKXt2YXIgbD1hW3NdO29bc109bD9sW2ldOm51bGx9cmV0dXJuIG99LE5kLm9iamVjdFJvd3M9cWQsTmQua2V5ZWRDb2x1bW5zPWZ1bmN0aW9uKHQsZSxuLGkscil7Zm9yKHZhciBvPXJ8fFtdLGE9MDthPG4ubGVuZ3RoO2ErKyl7dmFyIHM9blthXS5uYW1lOzA7dmFyIGw9dFtzXTtvW2FdPWw/bFtpXTpudWxsfXJldHVybiBvfSxOZC5vcmlnaW5hbD1xZCxOZCk7ZnVuY3Rpb24gJGQodCxlKXt2YXIgbj1LZFtvZih0LGUpXTtyZXR1cm4gbn12YXIgSmQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0Lmxlbmd0aH0sUWQ9KChFZD17fSkuYXJyYXlSb3dzX2NvbHVtbj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIE1hdGgubWF4KDAsdC5sZW5ndGgtZSl9LEVkLmFycmF5Um93c19yb3c9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRbMF07cmV0dXJuIGk/TWF0aC5tYXgoMCxpLmxlbmd0aC1lKTowfSxFZC5vYmplY3RSb3dzPUpkLEVkLmtleWVkQ29sdW1ucz1mdW5jdGlvbih0LGUsbil7dmFyIGk9blswXS5uYW1lO3ZhciByPXRbaV07cmV0dXJuIHI/ci5sZW5ndGg6MH0sRWQub3JpZ2luYWw9SmQsRWQpO2Z1bmN0aW9uIHRmKHQsZSl7dmFyIG49UWRbb2YodCxlKV07cmV0dXJuIG59dmFyIGVmPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdFtlXX0sbmY9KCh6ZD17fSkuYXJyYXlSb3dzPWVmLHpkLm9iamVjdFJvd3M9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W25dfSx6ZC5rZXllZENvbHVtbnM9ZWYsemQub3JpZ2luYWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPWZvKHQpO3JldHVybiBpIGluc3RhbmNlb2YgQXJyYXk/aVtlXTppfSx6ZC50eXBlZEFycmF5PWVmLHpkKTtmdW5jdGlvbiByZih0KXt2YXIgZT1uZlt0XTtyZXR1cm4gZX1mdW5jdGlvbiBvZih0LGUpe3JldHVybiB0PT09UHA/dCsiXyIrZTp0fWZ1bmN0aW9uIGFmKHQsZSxuKXtpZih0KXt2YXIgaT10LmdldFJhd0RhdGFJdGVtKGUpO2lmKG51bGwhPWkpe3ZhciByPXQuZ2V0U3RvcmUoKSxvPXIuZ2V0U291cmNlKCkuc291cmNlRm9ybWF0O2lmKG51bGwhPW4pe3ZhciBhPXQuZ2V0RGltZW5zaW9uSW5kZXgobikscz1yLmdldERpbWVuc2lvblByb3BlcnR5KGEpO3JldHVybiByZihvKShpLGEscyl9dmFyIGw9aTtyZXR1cm4gbz09PUxwJiYobD1mbyhpKSksbH19fXZhciBzZj0vXHtAKC4rPylcfS9nLGxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZ2V0RGF0YShlKSxpPXRoaXMuZ2V0UmF3VmFsdWUodCxlKSxyPW4uZ2V0UmF3SW5kZXgodCksbz1uLmdldE5hbWUodCksYT1uLmdldFJhd0RhdGFJdGVtKHQpLHM9bi5nZXRJdGVtVmlzdWFsKHQsInN0eWxlIiksbD1zJiZzW24uZ2V0SXRlbVZpc3VhbCh0LCJkcmF3VHlwZSIpfHwiZmlsbCJdLHU9cyYmcy5zdHJva2UsaD10aGlzLm1haW5UeXBlLGM9InNlcmllcyI9PT1oLHA9bi51c2VyT3V0cHV0JiZuLnVzZXJPdXRwdXQuZ2V0KCk7cmV0dXJue2NvbXBvbmVudFR5cGU6aCxjb21wb25lbnRTdWJUeXBlOnRoaXMuc3ViVHlwZSxjb21wb25lbnRJbmRleDp0aGlzLmNvbXBvbmVudEluZGV4LHNlcmllc1R5cGU6Yz90aGlzLnN1YlR5cGU6bnVsbCxzZXJpZXNJbmRleDp0aGlzLnNlcmllc0luZGV4LHNlcmllc0lkOmM/dGhpcy5pZDpudWxsLHNlcmllc05hbWU6Yz90aGlzLm5hbWU6bnVsbCxuYW1lOm8sZGF0YUluZGV4OnIsZGF0YTphLGRhdGFUeXBlOmUsdmFsdWU6aSxjb2xvcjpsLGJvcmRlckNvbG9yOnUsZGltZW5zaW9uTmFtZXM6cD9wLmZ1bGxEaW1lbnNpb25zOm51bGwsZW5jb2RlOnA/cC5lbmNvZGU6bnVsbCwkdmFyczpbInNlcmllc05hbWUiLCJuYW1lIiwidmFsdWUiXX19LHQucHJvdG90eXBlLmdldEZvcm1hdHRlZExhYmVsPWZ1bmN0aW9uKHQsZSxuLGkscixvKXtlPWV8fCJub3JtYWwiO3ZhciBhPXRoaXMuZ2V0RGF0YShuKSxzPXRoaXMuZ2V0RGF0YVBhcmFtcyh0LG4pOyhvJiYocy52YWx1ZT1vLmludGVycG9sYXRlZFZhbHVlKSxudWxsIT1pJiZZKHMudmFsdWUpJiYocy52YWx1ZT1zLnZhbHVlW2ldKSxyKXx8KHI9YS5nZXRJdGVtTW9kZWwodCkuZ2V0KCJub3JtYWwiPT09ZT9bImxhYmVsIiwiZm9ybWF0dGVyIl06W2UsImxhYmVsIiwiZm9ybWF0dGVyIl0pKTtyZXR1cm4gVShyKT8ocy5zdGF0dXM9ZSxzLmRpbWVuc2lvbkluZGV4PWkscihzKSk6WChyKT9ocChyLHMpLnJlcGxhY2Uoc2YsKGZ1bmN0aW9uKGUsbil7dmFyIGk9bi5sZW5ndGgscj1uOyJbIj09PXIuY2hhckF0KDApJiYiXSI9PT1yLmNoYXJBdChpLTEpJiYocj0rci5zbGljZSgxLGktMSkpO3ZhciBzPWFmKGEsdCxyKTtpZihvJiZZKG8uaW50ZXJwb2xhdGVkVmFsdWUpKXt2YXIgbD1hLmdldERpbWVuc2lvbkluZGV4KHIpO2w+PTAmJihzPW8uaW50ZXJwb2xhdGVkVmFsdWVbbF0pfXJldHVybiBudWxsIT1zP3MrIiI6IiJ9KSk6dm9pZCAwfSx0LnByb3RvdHlwZS5nZXRSYXdWYWx1ZT1mdW5jdGlvbih0LGUpe3JldHVybiBhZih0aGlzLmdldERhdGEoZSksdCl9LHQucHJvdG90eXBlLmZvcm1hdFRvb2x0aXA9ZnVuY3Rpb24odCxlLG4pe30sdH0oKTtmdW5jdGlvbiB1Zih0KXt2YXIgZSxuO3JldHVybiBxKHQpP3QudHlwZSYmKG49dCk6ZT10LHt0ZXh0OmUsZnJhZzpufX1mdW5jdGlvbiBoZih0KXtyZXR1cm4gbmV3IGNmKHQpfXZhciBjZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dD10fHx7fSx0aGlzLl9yZXNldD10LnJlc2V0LHRoaXMuX3BsYW49dC5wbGFuLHRoaXMuX2NvdW50PXQuY291bnQsdGhpcy5fb25EaXJ0eT10Lm9uRGlydHksdGhpcy5fZGlydHk9ITB9cmV0dXJuIHQucHJvdG90eXBlLnBlcmZvcm09ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLl91cHN0cmVhbSxpPXQmJnQuc2tpcDtpZih0aGlzLl9kaXJ0eSYmbil7dmFyIHI9dGhpcy5jb250ZXh0O3IuZGF0YT1yLm91dHB1dERhdGE9bi5jb250ZXh0Lm91dHB1dERhdGF9dGhpcy5fX3BpcGVsaW5lJiYodGhpcy5fX3BpcGVsaW5lLmN1cnJlbnRUYXNrPXRoaXMpLHRoaXMuX3BsYW4mJiFpJiYoZT10aGlzLl9wbGFuKHRoaXMuY29udGV4dCkpO3ZhciBvLGE9aCh0aGlzLl9tb2RCeSkscz10aGlzLl9tb2REYXRhQ291bnR8fDAsbD1oKHQmJnQubW9kQnkpLHU9dCYmdC5tb2REYXRhQ291bnR8fDA7ZnVuY3Rpb24gaCh0KXtyZXR1cm4hKHQ+PTEpJiYodD0xKSx0fWE9PT1sJiZzPT09dXx8KGU9InJlc2V0IiksKHRoaXMuX2RpcnR5fHwicmVzZXQiPT09ZSkmJih0aGlzLl9kaXJ0eT0hMSxvPXRoaXMuX2RvUmVzZXQoaSkpLHRoaXMuX21vZEJ5PWwsdGhpcy5fbW9kRGF0YUNvdW50PXU7dmFyIGM9dCYmdC5zdGVwO2lmKHRoaXMuX2R1ZUVuZD1uP24uX291dHB1dER1ZUVuZDp0aGlzLl9jb3VudD90aGlzLl9jb3VudCh0aGlzLmNvbnRleHQpOjEvMCx0aGlzLl9wcm9ncmVzcyl7dmFyIHA9dGhpcy5fZHVlSW5kZXgsZD1NYXRoLm1pbihudWxsIT1jP3RoaXMuX2R1ZUluZGV4K2M6MS8wLHRoaXMuX2R1ZUVuZCk7aWYoIWkmJihvfHxwPGQpKXt2YXIgZj10aGlzLl9wcm9ncmVzcztpZihZKGYpKWZvcih2YXIgZz0wO2c8Zi5sZW5ndGg7ZysrKXRoaXMuX2RvUHJvZ3Jlc3MoZltnXSxwLGQsbCx1KTtlbHNlIHRoaXMuX2RvUHJvZ3Jlc3MoZixwLGQsbCx1KX10aGlzLl9kdWVJbmRleD1kO3ZhciB5PW51bGwhPXRoaXMuX3NldHRlZE91dHB1dEVuZD90aGlzLl9zZXR0ZWRPdXRwdXRFbmQ6ZDswLHRoaXMuX291dHB1dER1ZUVuZD15fWVsc2UgdGhpcy5fZHVlSW5kZXg9dGhpcy5fb3V0cHV0RHVlRW5kPW51bGwhPXRoaXMuX3NldHRlZE91dHB1dEVuZD90aGlzLl9zZXR0ZWRPdXRwdXRFbmQ6dGhpcy5fZHVlRW5kO3JldHVybiB0aGlzLnVuZmluaXNoZWQoKX0sdC5wcm90b3R5cGUuZGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9kaXJ0eT0hMCx0aGlzLl9vbkRpcnR5JiZ0aGlzLl9vbkRpcnR5KHRoaXMuY29udGV4dCl9LHQucHJvdG90eXBlLl9kb1Byb2dyZXNzPWZ1bmN0aW9uKHQsZSxuLGkscil7cGYucmVzZXQoZSxuLGksciksdGhpcy5fY2FsbGluZ1Byb2dyZXNzPXQsdGhpcy5fY2FsbGluZ1Byb2dyZXNzKHtzdGFydDplLGVuZDpuLGNvdW50Om4tZSxuZXh0OnBmLm5leHR9LHRoaXMuY29udGV4dCl9LHQucHJvdG90eXBlLl9kb1Jlc2V0PWZ1bmN0aW9uKHQpe3ZhciBlLG47dGhpcy5fZHVlSW5kZXg9dGhpcy5fb3V0cHV0RHVlRW5kPXRoaXMuX2R1ZUVuZD0wLHRoaXMuX3NldHRlZE91dHB1dEVuZD1udWxsLCF0JiZ0aGlzLl9yZXNldCYmKChlPXRoaXMuX3Jlc2V0KHRoaXMuY29udGV4dCkpJiZlLnByb2dyZXNzJiYobj1lLmZvcmNlRmlyc3RQcm9ncmVzcyxlPWUucHJvZ3Jlc3MpLFkoZSkmJiFlLmxlbmd0aCYmKGU9bnVsbCkpLHRoaXMuX3Byb2dyZXNzPWUsdGhpcy5fbW9kQnk9dGhpcy5fbW9kRGF0YUNvdW50PW51bGw7dmFyIGk9dGhpcy5fZG93bnN0cmVhbTtyZXR1cm4gaSYmaS5kaXJ0eSgpLG59LHQucHJvdG90eXBlLnVuZmluaXNoZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvZ3Jlc3MmJnRoaXMuX2R1ZUluZGV4PHRoaXMuX2R1ZUVuZH0sdC5wcm90b3R5cGUucGlwZT1mdW5jdGlvbih0KXsodGhpcy5fZG93bnN0cmVhbSE9PXR8fHRoaXMuX2RpcnR5KSYmKHRoaXMuX2Rvd25zdHJlYW09dCx0Ll91cHN0cmVhbT10aGlzLHQuZGlydHkoKSl9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9kaXNwb3NlZHx8KHRoaXMuX3Vwc3RyZWFtJiYodGhpcy5fdXBzdHJlYW0uX2Rvd25zdHJlYW09bnVsbCksdGhpcy5fZG93bnN0cmVhbSYmKHRoaXMuX2Rvd25zdHJlYW0uX3Vwc3RyZWFtPW51bGwpLHRoaXMuX2RpcnR5PSExLHRoaXMuX2Rpc3Bvc2VkPSEwKX0sdC5wcm90b3R5cGUuZ2V0VXBzdHJlYW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXBzdHJlYW19LHQucHJvdG90eXBlLmdldERvd25zdHJlYW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZG93bnN0cmVhbX0sdC5wcm90b3R5cGUuc2V0T3V0cHV0RW5kPWZ1bmN0aW9uKHQpe3RoaXMuX291dHB1dER1ZUVuZD10aGlzLl9zZXR0ZWRPdXRwdXRFbmQ9dH0sdH0oKSxwZj1mdW5jdGlvbigpe3ZhciB0LGUsbixpLHIsbz17cmVzZXQ6ZnVuY3Rpb24obCx1LGgsYyl7ZT1sLHQ9dSxuPWgsaT1jLHI9TWF0aC5jZWlsKGkvbiksby5uZXh0PW4+MSYmaT4wP3M6YX19O3JldHVybiBvO2Z1bmN0aW9uIGEoKXtyZXR1cm4gZTx0P2UrKzpudWxsfWZ1bmN0aW9uIHMoKXt2YXIgbz1lJXIqbitNYXRoLmNlaWwoZS9yKSxhPWU+PXQ/bnVsbDpvPGk/bzplO3JldHVybiBlKyssYX19KCk7ZnVuY3Rpb24gZGYodCxlKXt2YXIgbj1lJiZlLnR5cGU7cmV0dXJuIm9yZGluYWwiPT09bj90OigidGltZSIhPT1ufHxqKHQpfHxudWxsPT10fHwiLSI9PT10fHwodD0ranIodCkpLG51bGw9PXR8fCIiPT09dD9OYU46K3QpfXZhciBmZj1mdCh7bnVtYmVyOmZ1bmN0aW9uKHQpe3JldHVybiBwYXJzZUZsb2F0KHQpfSx0aW1lOmZ1bmN0aW9uKHQpe3JldHVybitqcih0KX0sdHJpbTpmdW5jdGlvbih0KXtyZXR1cm4gWCh0KT91dCh0KTp0fX0pO2Z1bmN0aW9uIGdmKHQpe3JldHVybiBmZi5nZXQodCl9dmFyIHlmPXtsdDpmdW5jdGlvbih0LGUpe3JldHVybiB0PGV9LGx0ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0PD1lfSxndDpmdW5jdGlvbih0LGUpe3JldHVybiB0PmV9LGd0ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0Pj1lfX0sdmY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7aWYoIWooZSkpe3ZhciBuPSIiOzAsYW8obil9dGhpcy5fb3BGbj15Zlt0XSx0aGlzLl9ydmFsRmxvYXQ9dG8oZSl9cmV0dXJuIHQucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe3JldHVybiBqKHQpP3RoaXMuX29wRm4odCx0aGlzLl9ydmFsRmxvYXQpOnRoaXMuX29wRm4odG8odCksdGhpcy5fcnZhbEZsb2F0KX0sdH0oKSxtZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2YXIgbj0iZGVzYyI9PT10O3RoaXMuX3Jlc3VsdExUPW4/MTotMSxudWxsPT1lJiYoZT1uPyJtaW4iOiJtYXgiKSx0aGlzLl9pbmNvbXBhcmFibGU9Im1pbiI9PT1lPy0xLzA6MS8wfXJldHVybiB0LnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPWoodCk/dDp0byh0KSxpPWooZSk/ZTp0byhlKSxyPWlzTmFOKG4pLG89aXNOYU4oaSk7aWYociYmKG49dGhpcy5faW5jb21wYXJhYmxlKSxvJiYoaT10aGlzLl9pbmNvbXBhcmFibGUpLHImJm8pe3ZhciBhPVgodCkscz1YKGUpO2EmJihuPXM/dDowKSxzJiYoaT1hP2U6MCl9cmV0dXJuIG48aT90aGlzLl9yZXN1bHRMVDpuPmk/LXRoaXMuX3Jlc3VsdExUOjB9LHR9KCkseGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fcnZhbD1lLHRoaXMuX2lzRVE9dCx0aGlzLl9ydmFsVHlwZW9mPXR5cGVvZiBlLHRoaXMuX3J2YWxGbG9hdD10byhlKX1yZXR1cm4gdC5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dD09PXRoaXMuX3J2YWw7aWYoIWUpe3ZhciBuPXR5cGVvZiB0O249PT10aGlzLl9ydmFsVHlwZW9mfHwibnVtYmVyIiE9PW4mJiJudW1iZXIiIT09dGhpcy5fcnZhbFR5cGVvZnx8KGU9dG8odCk9PT10aGlzLl9ydmFsRmxvYXQpfXJldHVybiB0aGlzLl9pc0VRP2U6IWV9LHR9KCk7ZnVuY3Rpb24gX2YodCxlKXtyZXR1cm4iZXEiPT09dHx8Im5lIj09PXQ/bmV3IHhmKCJlcSI9PT10LGUpOm10KHlmLHQpP25ldyB2Zih0LGUpOm51bGx9dmFyIGJmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0UmF3RGF0YT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigibm90IHN1cHBvcnRlZCIpfSx0LnByb3RvdHlwZS5nZXRSYXdEYXRhSXRlbT1mdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoIm5vdCBzdXBwb3J0ZWQiKX0sdC5wcm90b3R5cGUuY2xvbmVSYXdEYXRhPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5nZXREaW1lbnNpb25JbmZvPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuY2xvbmVBbGxEaW1lbnNpb25JbmZvPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5jb3VudD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUucmV0cmlldmVWYWx1ZT1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUucmV0cmlldmVWYWx1ZUZyb21JdGVtPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS5jb252ZXJ0VmFsdWU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZGYodCxlKX0sdH0oKTtmdW5jdGlvbiB3Zih0KXt2YXIgZT10LnNvdXJjZUZvcm1hdDtpZighRGYoZSkpe3ZhciBuPSIiOzAsYW8obil9cmV0dXJuIHQuZGF0YX1mdW5jdGlvbiBTZih0KXt2YXIgZT10LnNvdXJjZUZvcm1hdCxuPXQuZGF0YTtpZighRGYoZSkpe3ZhciBpPSIiOzAsYW8oaSl9aWYoZT09PVBwKXtmb3IodmFyIHI9W10sbz0wLGE9bi5sZW5ndGg7bzxhO28rKylyLnB1c2gobltvXS5zbGljZSgpKTtyZXR1cm4gcn1pZihlPT09T3Ape2ZvcihyPVtdLG89MCxhPW4ubGVuZ3RoO288YTtvKyspci5wdXNoKEEoe30sbltvXSkpO3JldHVybiByfX1mdW5jdGlvbiBNZih0LGUsbil7aWYobnVsbCE9bilyZXR1cm4gaihuKXx8IWlzTmFOKG4pJiYhbXQoZSxuKT90W25dOm10KGUsbik/ZVtuXTp2b2lkIDB9ZnVuY3Rpb24gSWYodCl7cmV0dXJuIFQodCl9dmFyIFRmPWZ0KCk7ZnVuY3Rpb24gQ2YodCxlLG4saSl7dmFyIHI9IiI7ZS5sZW5ndGh8fGFvKHIpLHEodCl8fGFvKHIpO3ZhciBvPXQudHlwZSxhPVRmLmdldChvKTthfHxhbyhyKTt2YXIgcz16KGUsKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBiZixpPXQuZGF0YSxyPW4uc291cmNlRm9ybWF0PXQuc291cmNlRm9ybWF0LG89dC5zdGFydEluZGV4LGE9IiI7dC5zZXJpZXNMYXlvdXRCeSE9PXpwJiZhbyhhKTt2YXIgcz1bXSxsPXt9LHU9dC5kaW1lbnNpb25zRGVmaW5lO2lmKHUpRSh1LChmdW5jdGlvbih0LGUpe3ZhciBuPXQubmFtZSxpPXtpbmRleDplLG5hbWU6bixkaXNwbGF5TmFtZTp0LmRpc3BsYXlOYW1lfTtpZihzLnB1c2goaSksbnVsbCE9bil7dmFyIHI9IiI7bXQobCxuKSYmYW8ociksbFtuXT1pfX0pKTtlbHNlIGZvcih2YXIgaD0wO2g8dC5kaW1lbnNpb25zRGV0ZWN0ZWRDb3VudDtoKyspcy5wdXNoKHtpbmRleDpofSk7dmFyIGM9JGQocix6cCk7ZS5fX2lzQnVpbHRJbiYmKG4uZ2V0UmF3RGF0YUl0ZW09ZnVuY3Rpb24odCl7cmV0dXJuIGMoaSxvLHMsdCl9LG4uZ2V0UmF3RGF0YT1XKHdmLG51bGwsdCkpLG4uY2xvbmVSYXdEYXRhPVcoU2YsbnVsbCx0KTt2YXIgcD10ZihyLHpwKTtuLmNvdW50PVcocCxudWxsLGksbyxzKTt2YXIgZD1yZihyKTtuLnJldHJpZXZlVmFsdWU9ZnVuY3Rpb24odCxlKXt2YXIgbj1jKGksbyxzLHQpO3JldHVybiBmKG4sZSl9O3ZhciBmPW4ucmV0cmlldmVWYWx1ZUZyb21JdGVtPWZ1bmN0aW9uKHQsZSl7aWYobnVsbCE9dCl7dmFyIG49c1tlXTtyZXR1cm4gbj9kKHQsZSxuLm5hbWUpOnZvaWQgMH19O3JldHVybiBuLmdldERpbWVuc2lvbkluZm89VyhNZixudWxsLHMsbCksbi5jbG9uZUFsbERpbWVuc2lvbkluZm89VyhJZixudWxsLHMpLG59KHQsYSl9KSksbD1obyhhLnRyYW5zZm9ybSh7dXBzdHJlYW06c1swXSx1cHN0cmVhbUxpc3Q6cyxjb25maWc6VCh0LmNvbmZpZyl9KSk7cmV0dXJuIHoobCwoZnVuY3Rpb24odCxuKXt2YXIgaSxyPSIiO3EodCl8fGFvKHIpLHQuZGF0YXx8YW8ociksRGYoWWQodC5kYXRhKSl8fGFvKHIpO3ZhciBvPWVbMF07aWYobyYmMD09PW4mJiF0LmRpbWVuc2lvbnMpe3ZhciBhPW8uc3RhcnRJbmRleDthJiYodC5kYXRhPW8uZGF0YS5zbGljZSgwLGEpLmNvbmNhdCh0LmRhdGEpKSxpPXtzZXJpZXNMYXlvdXRCeTp6cCxzb3VyY2VIZWFkZXI6YSxkaW1lbnNpb25zOm8ubWV0YVJhd09wdGlvbi5kaW1lbnNpb25zfX1lbHNlIGk9e3Nlcmllc0xheW91dEJ5OnpwLHNvdXJjZUhlYWRlcjowLGRpbWVuc2lvbnM6dC5kaW1lbnNpb25zfTtyZXR1cm4gV2QodC5kYXRhLGksbnVsbCl9KSl9ZnVuY3Rpb24gRGYodCl7cmV0dXJuIHQ9PT1QcHx8dD09PU9wfXZhciBBZixrZj0idW5kZWZpbmVkIixMZj10eXBlb2YgVWludDMyQXJyYXk9PT1rZj9BcnJheTpVaW50MzJBcnJheSxQZj10eXBlb2YgVWludDE2QXJyYXk9PT1rZj9BcnJheTpVaW50MTZBcnJheSxPZj10eXBlb2YgSW50MzJBcnJheT09PWtmP0FycmF5OkludDMyQXJyYXksUmY9dHlwZW9mIEZsb2F0NjRBcnJheT09PWtmP0FycmF5OkZsb2F0NjRBcnJheSxOZj17ZmxvYXQ6UmYsaW50Ok9mLG9yZGluYWw6QXJyYXksbnVtYmVyOkFycmF5LHRpbWU6UmZ9O2Z1bmN0aW9uIEVmKHQpe3JldHVybiB0PjY1NTM1P0xmOlBmfWZ1bmN0aW9uIHpmKHQsZSxuLGkscil7dmFyIG89TmZbbnx8ImZsb2F0Il07aWYocil7dmFyIGE9dFtlXSxzPWEmJmEubGVuZ3RoO2lmKHMhPT1pKXtmb3IodmFyIGw9bmV3IG8oaSksdT0wO3U8czt1KyspbFt1XT1hW3VdO3RbZV09bH19ZWxzZSB0W2VdPW5ldyBvKGkpfXZhciBWZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9jaHVua3M9W10sdGhpcy5fcmF3RXh0ZW50PVtdLHRoaXMuX2V4dGVudD1bXSx0aGlzLl9jb3VudD0wLHRoaXMuX3Jhd0NvdW50PTAsdGhpcy5fY2FsY0RpbU5hbWVUb0lkeD1mdCgpfXJldHVybiB0LnByb3RvdHlwZS5pbml0RGF0YT1mdW5jdGlvbih0LGUsbil7dGhpcy5fcHJvdmlkZXI9dCx0aGlzLl9jaHVua3M9W10sdGhpcy5faW5kaWNlcz1udWxsLHRoaXMuZ2V0UmF3SW5kZXg9dGhpcy5fZ2V0UmF3SWR4SWRlbnRpdHk7dmFyIGk9dC5nZXRTb3VyY2UoKSxyPXRoaXMuZGVmYXVsdERpbVZhbHVlR2V0dGVyPUFmW2kuc291cmNlRm9ybWF0XTt0aGlzLl9kaW1WYWx1ZUdldHRlcj1ufHxyLHRoaXMuX3Jhd0V4dGVudD1bXTtaZChpKTt0aGlzLl9kaW1lbnNpb25zPXooZSwoZnVuY3Rpb24odCl7cmV0dXJue3R5cGU6dC50eXBlLHByb3BlcnR5OnQucHJvcGVydHl9fSkpLHRoaXMuX2luaXREYXRhRnJvbVByb3ZpZGVyKDAsdC5jb3VudCgpKX0sdC5wcm90b3R5cGUuZ2V0UHJvdmlkZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvdmlkZXJ9LHQucHJvdG90eXBlLmdldFNvdXJjZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm92aWRlci5nZXRTb3VyY2UoKX0sdC5wcm90b3R5cGUuZW5zdXJlQ2FsY3VsYXRpb25EaW1lbnNpb249ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9jYWxjRGltTmFtZVRvSWR4LGk9dGhpcy5fZGltZW5zaW9ucyxyPW4uZ2V0KHQpO2lmKG51bGwhPXIpe2lmKGlbcl0udHlwZT09PWUpcmV0dXJuIHJ9ZWxzZSByPWkubGVuZ3RoO3JldHVybiBpW3JdPXt0eXBlOmV9LG4uc2V0KHQsciksdGhpcy5fY2h1bmtzW3JdPW5ldyBOZltlfHwiZmxvYXQiXSh0aGlzLl9yYXdDb3VudCksdGhpcy5fcmF3RXh0ZW50W3JdPVsxLzAsLTEvMF0scn0sdC5wcm90b3R5cGUuY29sbGVjdE9yZGluYWxNZXRhPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fY2h1bmtzW3RdLGk9dGhpcy5fZGltZW5zaW9uc1t0XSxyPXRoaXMuX3Jhd0V4dGVudCxvPWkub3JkaW5hbE9mZnNldHx8MCxhPW4ubGVuZ3RoOzA9PT1vJiYoclt0XT1bMS8wLC0xLzBdKTtmb3IodmFyIHM9clt0XSxsPW87bDxhO2wrKyl7dmFyIHU9bltsXT1lLnBhcnNlQW5kQ29sbGVjdChuW2xdKTtpc05hTih1KXx8KHNbMF09TWF0aC5taW4odSxzWzBdKSxzWzFdPU1hdGgubWF4KHUsc1sxXSkpfWkub3JkaW5hbE1ldGE9ZSxpLm9yZGluYWxPZmZzZXQ9YSxpLnR5cGU9Im9yZGluYWwifSx0LnByb3RvdHlwZS5nZXRPcmRpbmFsTWV0YT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGltZW5zaW9uc1t0XS5vcmRpbmFsTWV0YX0sdC5wcm90b3R5cGUuZ2V0RGltZW5zaW9uUHJvcGVydHk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZGltZW5zaW9uc1t0XTtyZXR1cm4gZSYmZS5wcm9wZXJ0eX0sdC5wcm90b3R5cGUuYXBwZW5kRGF0YT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wcm92aWRlcixuPXRoaXMuY291bnQoKTtlLmFwcGVuZERhdGEodCk7dmFyIGk9ZS5jb3VudCgpO3JldHVybiBlLnBlcnNpc3RlbnR8fChpKz1uKSxuPGkmJnRoaXMuX2luaXREYXRhRnJvbVByb3ZpZGVyKG4saSwhMCksW24saV19LHQucHJvdG90eXBlLmFwcGVuZFZhbHVlcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLl9jaHVua3MsaT10aGlzLl9kaW1lbnNpb25zLHI9aS5sZW5ndGgsbz10aGlzLl9yYXdFeHRlbnQsYT10aGlzLmNvdW50KCkscz1hK01hdGgubWF4KHQubGVuZ3RoLGV8fDApLGw9MDtsPHI7bCsrKXt6ZihuLGwsKGQ9aVtsXSkudHlwZSxzLCEwKX1mb3IodmFyIHU9W10saD1hO2g8cztoKyspZm9yKHZhciBjPWgtYSxwPTA7cDxyO3ArKyl7dmFyIGQ9aVtwXSxmPUFmLmFycmF5Um93cy5jYWxsKHRoaXMsdFtjXXx8dSxkLnByb3BlcnR5LGMscCk7bltwXVtoXT1mO3ZhciBnPW9bcF07ZjxnWzBdJiYoZ1swXT1mKSxmPmdbMV0mJihnWzFdPWYpfXJldHVybiB0aGlzLl9yYXdDb3VudD10aGlzLl9jb3VudD1zLHtzdGFydDphLGVuZDpzfX0sdC5wcm90b3R5cGUuX2luaXREYXRhRnJvbVByb3ZpZGVyPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dGhpcy5fcHJvdmlkZXIscj10aGlzLl9jaHVua3Msbz10aGlzLl9kaW1lbnNpb25zLGE9by5sZW5ndGgscz10aGlzLl9yYXdFeHRlbnQsbD16KG8sKGZ1bmN0aW9uKHQpe3JldHVybiB0LnByb3BlcnR5fSkpLHU9MDt1PGE7dSsrKXt2YXIgaD1vW3VdO3NbdV18fChzW3VdPVsxLzAsLTEvMF0pLHpmKHIsdSxoLnR5cGUsZSxuKX1pZihpLmZpbGxTdG9yYWdlKWkuZmlsbFN0b3JhZ2UodCxlLHIscyk7ZWxzZSBmb3IodmFyIGM9W10scD10O3A8ZTtwKyspe2M9aS5nZXRJdGVtKHAsYyk7Zm9yKHZhciBkPTA7ZDxhO2QrKyl7dmFyIGY9cltkXSxnPXRoaXMuX2RpbVZhbHVlR2V0dGVyKGMsbFtkXSxwLGQpO2ZbcF09Zzt2YXIgeT1zW2RdO2c8eVswXSYmKHlbMF09ZyksZz55WzFdJiYoeVsxXT1nKX19IWkucGVyc2lzdGVudCYmaS5jbGVhbiYmaS5jbGVhbigpLHRoaXMuX3Jhd0NvdW50PXRoaXMuX2NvdW50PWUsdGhpcy5fZXh0ZW50PVtdfSx0LnByb3RvdHlwZS5jb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3VudH0sdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7aWYoIShlPj0wJiZlPHRoaXMuX2NvdW50KSlyZXR1cm4gTmFOO3ZhciBuPXRoaXMuX2NodW5rc1t0XTtyZXR1cm4gbj9uW3RoaXMuZ2V0UmF3SW5kZXgoZSldOk5hTn0sdC5wcm90b3R5cGUuZ2V0VmFsdWVzPWZ1bmN0aW9uKHQsZSl7dmFyIG49W10saT1bXTtpZihudWxsPT1lKXtlPXQsdD1bXTtmb3IodmFyIHI9MDtyPHRoaXMuX2RpbWVuc2lvbnMubGVuZ3RoO3IrKylpLnB1c2gocil9ZWxzZSBpPXQ7cj0wO2Zvcih2YXIgbz1pLmxlbmd0aDtyPG87cisrKW4ucHVzaCh0aGlzLmdldChpW3JdLGUpKTtyZXR1cm4gbn0sdC5wcm90b3R5cGUuZ2V0QnlSYXdJbmRleD1mdW5jdGlvbih0LGUpe2lmKCEoZT49MCYmZTx0aGlzLl9yYXdDb3VudCkpcmV0dXJuIE5hTjt2YXIgbj10aGlzLl9jaHVua3NbdF07cmV0dXJuIG4/bltlXTpOYU59LHQucHJvdG90eXBlLmdldFN1bT1mdW5jdGlvbih0KXt2YXIgZT0wO2lmKHRoaXMuX2NodW5rc1t0XSlmb3IodmFyIG49MCxpPXRoaXMuY291bnQoKTtuPGk7bisrKXt2YXIgcj10aGlzLmdldCh0LG4pO2lzTmFOKHIpfHwoZSs9cil9cmV0dXJuIGV9LHQucHJvdG90eXBlLmdldE1lZGlhbj1mdW5jdGlvbih0KXt2YXIgZT1bXTt0aGlzLmVhY2goW3RdLChmdW5jdGlvbih0KXtpc05hTih0KXx8ZS5wdXNoKHQpfSkpO3ZhciBuPWUuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1lfSkpLGk9dGhpcy5jb3VudCgpO3JldHVybiAwPT09aT8wOmklMj09MT9uWyhpLTEpLzJdOihuW2kvMl0rbltpLzItMV0pLzJ9LHQucHJvdG90eXBlLmluZGV4T2ZSYXdJbmRleD1mdW5jdGlvbih0KXtpZih0Pj10aGlzLl9yYXdDb3VudHx8dDwwKXJldHVybi0xO2lmKCF0aGlzLl9pbmRpY2VzKXJldHVybiB0O3ZhciBlPXRoaXMuX2luZGljZXMsbj1lW3RdO2lmKG51bGwhPW4mJm48dGhpcy5fY291bnQmJm49PT10KXJldHVybiB0O2Zvcih2YXIgaT0wLHI9dGhpcy5fY291bnQtMTtpPD1yOyl7dmFyIG89KGkrcikvMnwwO2lmKGVbb108dClpPW8rMTtlbHNle2lmKCEoZVtvXT50KSlyZXR1cm4gbztyPW8tMX19cmV0dXJuLTF9LHQucHJvdG90eXBlLmluZGljZXNPZk5lYXJlc3Q9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuX2NodW5rc1t0XSxyPVtdO2lmKCFpKXJldHVybiByO251bGw9PW4mJihuPTEvMCk7Zm9yKHZhciBvPTEvMCxhPS0xLHM9MCxsPTAsdT10aGlzLmNvdW50KCk7bDx1O2wrKyl7dmFyIGg9ZS1pW3RoaXMuZ2V0UmF3SW5kZXgobCldLGM9TWF0aC5hYnMoaCk7Yzw9biYmKChjPG98fGM9PT1vJiZoPj0wJiZhPDApJiYobz1jLGE9aCxzPTApLGg9PT1hJiYocltzKytdPWwpKX1yZXR1cm4gci5sZW5ndGg9cyxyfSx0LnByb3RvdHlwZS5nZXRJbmRpY2VzPWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLl9pbmRpY2VzO2lmKGUpe3ZhciBuPWUuY29uc3RydWN0b3IsaT10aGlzLl9jb3VudDtpZihuPT09QXJyYXkpe3Q9bmV3IG4oaSk7Zm9yKHZhciByPTA7cjxpO3IrKyl0W3JdPWVbcl19ZWxzZSB0PW5ldyBuKGUuYnVmZmVyLDAsaSl9ZWxzZXt0PW5ldyhuPUVmKHRoaXMuX3Jhd0NvdW50KSkodGhpcy5jb3VudCgpKTtmb3Iocj0wO3I8dC5sZW5ndGg7cisrKXRbcl09cn1yZXR1cm4gdH0sdC5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuX2NvdW50KXJldHVybiB0aGlzO2Zvcih2YXIgbj10aGlzLmNsb25lKCksaT1uLmNvdW50KCkscj1uZXcoRWYobi5fcmF3Q291bnQpKShpKSxvPVtdLGE9dC5sZW5ndGgscz0wLGw9dFswXSx1PW4uX2NodW5rcyxoPTA7aDxpO2grKyl7dmFyIGM9dm9pZCAwLHA9bi5nZXRSYXdJbmRleChoKTtpZigwPT09YSljPWUoaCk7ZWxzZSBpZigxPT09YSl7Yz1lKHVbbF1bcF0saCl9ZWxzZXtmb3IodmFyIGQ9MDtkPGE7ZCsrKW9bZF09dVt0W2RdXVtwXTtvW2RdPWgsYz1lLmFwcGx5KG51bGwsbyl9YyYmKHJbcysrXT1wKX1yZXR1cm4gczxpJiYobi5faW5kaWNlcz1yKSxuLl9jb3VudD1zLG4uX2V4dGVudD1bXSxuLl91cGRhdGVHZXRSYXdJZHgoKSxufSx0LnByb3RvdHlwZS5zZWxlY3RSYW5nZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNsb25lKCksbj1lLl9jb3VudDtpZighbilyZXR1cm4gdGhpczt2YXIgaT1HKHQpLHI9aS5sZW5ndGg7aWYoIXIpcmV0dXJuIHRoaXM7dmFyIG89ZS5jb3VudCgpLGE9bmV3KEVmKGUuX3Jhd0NvdW50KSkobykscz0wLGw9aVswXSx1PXRbbF1bMF0saD10W2xdWzFdLGM9ZS5fY2h1bmtzLHA9ITE7aWYoIWUuX2luZGljZXMpe3ZhciBkPTA7aWYoMT09PXIpe2Zvcih2YXIgZj1jW2lbMF1dLGc9MDtnPG47ZysrKXsoKHg9ZltnXSk+PXUmJng8PWh8fGlzTmFOKHgpKSYmKGFbcysrXT1kKSxkKyt9cD0hMH1lbHNlIGlmKDI9PT1yKXtmPWNbaVswXV07dmFyIHk9Y1tpWzFdXSx2PXRbaVsxXV1bMF0sbT10W2lbMV1dWzFdO2ZvcihnPTA7ZzxuO2crKyl7dmFyIHg9ZltnXSxfPXlbZ107KHg+PXUmJng8PWh8fGlzTmFOKHgpKSYmKF8+PXYmJl88PW18fGlzTmFOKF8pKSYmKGFbcysrXT1kKSxkKyt9cD0hMH19aWYoIXApaWYoMT09PXIpZm9yKGc9MDtnPG87ZysrKXt2YXIgYj1lLmdldFJhd0luZGV4KGcpOygoeD1jW2lbMF1dW2JdKT49dSYmeDw9aHx8aXNOYU4oeCkpJiYoYVtzKytdPWIpfWVsc2UgZm9yKGc9MDtnPG87ZysrKXtmb3IodmFyIHc9ITAsUz0oYj1lLmdldFJhd0luZGV4KGcpLDApO1M8cjtTKyspe3ZhciBNPWlbU107KCh4PWNbTV1bYl0pPHRbTV1bMF18fHg+dFtNXVsxXSkmJih3PSExKX13JiYoYVtzKytdPWUuZ2V0UmF3SW5kZXgoZykpfXJldHVybiBzPG8mJihlLl9pbmRpY2VzPWEpLGUuX2NvdW50PXMsZS5fZXh0ZW50PVtdLGUuX3VwZGF0ZUdldFJhd0lkeCgpLGV9LHQucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuY2xvbmUodCk7cmV0dXJuIHRoaXMuX3VwZGF0ZURpbXMobix0LGUpLG59LHQucHJvdG90eXBlLm1vZGlmeT1mdW5jdGlvbih0LGUpe3RoaXMuX3VwZGF0ZURpbXModGhpcyx0LGUpfSx0LnByb3RvdHlwZS5fdXBkYXRlRGltcz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPXQuX2NodW5rcyxyPVtdLG89ZS5sZW5ndGgsYT10LmNvdW50KCkscz1bXSxsPXQuX3Jhd0V4dGVudCx1PTA7dTxlLmxlbmd0aDt1KyspbFtlW3VdXT1bMS8wLC0xLzBdO2Zvcih2YXIgaD0wO2g8YTtoKyspe2Zvcih2YXIgYz10LmdldFJhd0luZGV4KGgpLHA9MDtwPG87cCsrKXNbcF09aVtlW3BdXVtjXTtzW29dPWg7dmFyIGQ9biYmbi5hcHBseShudWxsLHMpO2lmKG51bGwhPWQpeyJvYmplY3QiIT10eXBlb2YgZCYmKHJbMF09ZCxkPXIpO2Zvcih1PTA7dTxkLmxlbmd0aDt1Kyspe3ZhciBmPWVbdV0sZz1kW3VdLHk9bFtmXSx2PWlbZl07diYmKHZbY109ZyksZzx5WzBdJiYoeVswXT1nKSxnPnlbMV0mJih5WzFdPWcpfX19fSx0LnByb3RvdHlwZS5sdHRiRG93blNhbXBsZT1mdW5jdGlvbih0LGUpe3ZhciBuLGkscixvPXRoaXMuY2xvbmUoW3RdLCEwKSxhPW8uX2NodW5rc1t0XSxzPXRoaXMuY291bnQoKSxsPTAsdT1NYXRoLmZsb29yKDEvZSksaD10aGlzLmdldFJhd0luZGV4KDApLGM9bmV3KEVmKHRoaXMuX3Jhd0NvdW50KSkoTWF0aC5taW4oMiooTWF0aC5jZWlsKHMvdSkrMikscykpO2NbbCsrXT1oO2Zvcih2YXIgcD0xO3A8cy0xO3ArPXUpe2Zvcih2YXIgZD1NYXRoLm1pbihwK3Uscy0xKSxmPU1hdGgubWluKHArMip1LHMpLGc9KGYrZCkvMix5PTAsdj1kO3Y8Zjt2Kyspe3ZhciBtPWFbST10aGlzLmdldFJhd0luZGV4KHYpXTtpc05hTihtKXx8KHkrPW0pfXkvPWYtZDt2YXIgeD1wLF89TWF0aC5taW4ocCt1LHMpLGI9cC0xLHc9YVtoXTtuPS0xLHI9eDt2YXIgUz0tMSxNPTA7Zm9yKHY9eDt2PF87disrKXt2YXIgSTttPWFbST10aGlzLmdldFJhd0luZGV4KHYpXTtpc05hTihtKT8oTSsrLFM8MCYmKFM9SSkpOihpPU1hdGguYWJzKChiLWcpKihtLXcpLShiLXYpKih5LXcpKSk+biYmKG49aSxyPUkpfU0+MCYmTTxfLXgmJihjW2wrK109TWF0aC5taW4oUyxyKSxyPU1hdGgubWF4KFMscikpLGNbbCsrXT1yLGg9cn1yZXR1cm4gY1tsKytdPXRoaXMuZ2V0UmF3SW5kZXgocy0xKSxvLl9jb3VudD1sLG8uX2luZGljZXM9YyxvLmdldFJhd0luZGV4PXRoaXMuX2dldFJhd0lkeCxvfSx0LnByb3RvdHlwZS5kb3duU2FtcGxlPWZ1bmN0aW9uKHQsZSxuLGkpe2Zvcih2YXIgcj10aGlzLmNsb25lKFt0XSwhMCksbz1yLl9jaHVua3MsYT1bXSxzPU1hdGguZmxvb3IoMS9lKSxsPW9bdF0sdT10aGlzLmNvdW50KCksaD1yLl9yYXdFeHRlbnRbdF09WzEvMCwtMS8wXSxjPW5ldyhFZih0aGlzLl9yYXdDb3VudCkpKE1hdGguY2VpbCh1L3MpKSxwPTAsZD0wO2Q8dTtkKz1zKXtzPnUtZCYmKHM9dS1kLGEubGVuZ3RoPXMpO2Zvcih2YXIgZj0wO2Y8cztmKyspe3ZhciBnPXRoaXMuZ2V0UmF3SW5kZXgoZCtmKTthW2ZdPWxbZ119dmFyIHk9bihhKSx2PXRoaXMuZ2V0UmF3SW5kZXgoTWF0aC5taW4oZCtpKGEseSl8fDAsdS0xKSk7bFt2XT15LHk8aFswXSYmKGhbMF09eSkseT5oWzFdJiYoaFsxXT15KSxjW3ArK109dn1yZXR1cm4gci5fY291bnQ9cCxyLl9pbmRpY2VzPWMsci5fdXBkYXRlR2V0UmF3SWR4KCkscn0sdC5wcm90b3R5cGUuZWFjaD1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX2NvdW50KWZvcih2YXIgbj10Lmxlbmd0aCxpPXRoaXMuX2NodW5rcyxyPTAsbz10aGlzLmNvdW50KCk7cjxvO3IrKyl7dmFyIGE9dGhpcy5nZXRSYXdJbmRleChyKTtzd2l0Y2gobil7Y2FzZSAwOmUocik7YnJlYWs7Y2FzZSAxOmUoaVt0WzBdXVthXSxyKTticmVhaztjYXNlIDI6ZShpW3RbMF1dW2FdLGlbdFsxXV1bYV0scik7YnJlYWs7ZGVmYXVsdDpmb3IodmFyIHM9MCxsPVtdO3M8bjtzKyspbFtzXT1pW3Rbc11dW2FdO2xbc109cixlLmFwcGx5KG51bGwsbCl9fX0sdC5wcm90b3R5cGUuZ2V0RGF0YUV4dGVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jaHVua3NbdF0sbj1bMS8wLC0xLzBdO2lmKCFlKXJldHVybiBuO3ZhciBpLHI9dGhpcy5jb3VudCgpO2lmKCF0aGlzLl9pbmRpY2VzKXJldHVybiB0aGlzLl9yYXdFeHRlbnRbdF0uc2xpY2UoKTtpZihpPXRoaXMuX2V4dGVudFt0XSlyZXR1cm4gaS5zbGljZSgpO2Zvcih2YXIgbz0oaT1uKVswXSxhPWlbMV0scz0wO3M8cjtzKyspe3ZhciBsPWVbdGhpcy5nZXRSYXdJbmRleChzKV07bDxvJiYobz1sKSxsPmEmJihhPWwpfXJldHVybiBpPVtvLGFdLHRoaXMuX2V4dGVudFt0XT1pLGl9LHQucHJvdG90eXBlLmdldFJhd0RhdGFJdGVtPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0UmF3SW5kZXgodCk7aWYodGhpcy5fcHJvdmlkZXIucGVyc2lzdGVudClyZXR1cm4gdGhpcy5fcHJvdmlkZXIuZ2V0SXRlbShlKTtmb3IodmFyIG49W10saT10aGlzLl9jaHVua3Mscj0wO3I8aS5sZW5ndGg7cisrKW4ucHVzaChpW3JdW2VdKTtyZXR1cm4gbn0sdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oZSxuKXt2YXIgaSxyLG89bmV3IHQsYT10aGlzLl9jaHVua3Mscz1lJiZWKGUsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbZV09ITAsdH0pLHt9KTtpZihzKWZvcih2YXIgbD0wO2w8YS5sZW5ndGg7bCsrKW8uX2NodW5rc1tsXT1zW2xdPyhpPWFbbF0scj12b2lkIDAsKHI9aS5jb25zdHJ1Y3Rvcik9PT1BcnJheT9pLnNsaWNlKCk6bmV3IHIoaSkpOmFbbF07ZWxzZSBvLl9jaHVua3M9YTtyZXR1cm4gdGhpcy5fY29weUNvbW1vblByb3BzKG8pLG58fChvLl9pbmRpY2VzPXRoaXMuX2Nsb25lSW5kaWNlcygpKSxvLl91cGRhdGVHZXRSYXdJZHgoKSxvfSx0LnByb3RvdHlwZS5fY29weUNvbW1vblByb3BzPWZ1bmN0aW9uKHQpe3QuX2NvdW50PXRoaXMuX2NvdW50LHQuX3Jhd0NvdW50PXRoaXMuX3Jhd0NvdW50LHQuX3Byb3ZpZGVyPXRoaXMuX3Byb3ZpZGVyLHQuX2RpbWVuc2lvbnM9dGhpcy5fZGltZW5zaW9ucyx0Ll9leHRlbnQ9VCh0aGlzLl9leHRlbnQpLHQuX3Jhd0V4dGVudD1UKHRoaXMuX3Jhd0V4dGVudCl9LHQucHJvdG90eXBlLl9jbG9uZUluZGljZXM9ZnVuY3Rpb24oKXtpZih0aGlzLl9pbmRpY2VzKXt2YXIgdD10aGlzLl9pbmRpY2VzLmNvbnN0cnVjdG9yLGU9dm9pZCAwO2lmKHQ9PT1BcnJheSl7dmFyIG49dGhpcy5faW5kaWNlcy5sZW5ndGg7ZT1uZXcgdChuKTtmb3IodmFyIGk9MDtpPG47aSsrKWVbaV09dGhpcy5faW5kaWNlc1tpXX1lbHNlIGU9bmV3IHQodGhpcy5faW5kaWNlcyk7cmV0dXJuIGV9cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLl9nZXRSYXdJZHhJZGVudGl0eT1mdW5jdGlvbih0KXtyZXR1cm4gdH0sdC5wcm90b3R5cGUuX2dldFJhd0lkeD1mdW5jdGlvbih0KXtyZXR1cm4gdDx0aGlzLl9jb3VudCYmdD49MD90aGlzLl9pbmRpY2VzW3RdOi0xfSx0LnByb3RvdHlwZS5fdXBkYXRlR2V0UmF3SWR4PWZ1bmN0aW9uKCl7dGhpcy5nZXRSYXdJbmRleD10aGlzLl9pbmRpY2VzP3RoaXMuX2dldFJhd0lkeDp0aGlzLl9nZXRSYXdJZHhJZGVudGl0eX0sdC5pbnRlcm5hbEZpZWxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixpKXtyZXR1cm4gZGYodFtpXSx0aGlzLl9kaW1lbnNpb25zW2ldKX1BZj17YXJyYXlSb3dzOnQsb2JqZWN0Um93czpmdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gZGYodFtlXSx0aGlzLl9kaW1lbnNpb25zW2ldKX0sa2V5ZWRDb2x1bW5zOnQsb3JpZ2luYWw6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dCYmKG51bGw9PXQudmFsdWU/dDp0LnZhbHVlKTtyZXR1cm4gZGYociBpbnN0YW5jZW9mIEFycmF5P3JbaV06cix0aGlzLl9kaW1lbnNpb25zW2ldKX0sdHlwZWRBcnJheTpmdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gdFtpXX19fSgpLHR9KCksQmY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3NvdXJjZUxpc3Q9W10sdGhpcy5fc3RvcmVMaXN0PVtdLHRoaXMuX3Vwc3RyZWFtU2lnbkxpc3Q9W10sdGhpcy5fdmVyc2lvblNpZ25CYXNlPTAsdGhpcy5fZGlydHk9ITAsdGhpcy5fc291cmNlSG9zdD10fXJldHVybiB0LnByb3RvdHlwZS5kaXJ0eT1mdW5jdGlvbigpe3RoaXMuX3NldExvY2FsU291cmNlKFtdLFtdKSx0aGlzLl9zdG9yZUxpc3Q9W10sdGhpcy5fZGlydHk9ITB9LHQucHJvdG90eXBlLl9zZXRMb2NhbFNvdXJjZT1mdW5jdGlvbih0LGUpe3RoaXMuX3NvdXJjZUxpc3Q9dCx0aGlzLl91cHN0cmVhbVNpZ25MaXN0PWUsdGhpcy5fdmVyc2lvblNpZ25CYXNlKyssdGhpcy5fdmVyc2lvblNpZ25CYXNlPjllMTAmJih0aGlzLl92ZXJzaW9uU2lnbkJhc2U9MCl9LHQucHJvdG90eXBlLl9nZXRWZXJzaW9uU2lnbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VIb3N0LnVpZCsiXyIrdGhpcy5fdmVyc2lvblNpZ25CYXNlfSx0LnByb3RvdHlwZS5wcmVwYXJlU291cmNlPWZ1bmN0aW9uKCl7dGhpcy5faXNEaXJ0eSgpJiYodGhpcy5fY3JlYXRlU291cmNlKCksdGhpcy5fZGlydHk9ITEpfSx0LnByb3RvdHlwZS5fY3JlYXRlU291cmNlPWZ1bmN0aW9uKCl7dGhpcy5fc2V0TG9jYWxTb3VyY2UoW10sW10pO3ZhciB0LGUsbj10aGlzLl9zb3VyY2VIb3N0LGk9dGhpcy5fZ2V0VXBzdHJlYW1Tb3VyY2VNYW5hZ2VycygpLHI9ISFpLmxlbmd0aDtpZihHZihuKSl7dmFyIG89bixhPXZvaWQgMCxzPXZvaWQgMCxsPXZvaWQgMDtpZihyKXt2YXIgdT1pWzBdO3UucHJlcGFyZVNvdXJjZSgpLGE9KGw9dS5nZXRTb3VyY2UoKSkuZGF0YSxzPWwuc291cmNlRm9ybWF0LGU9W3UuX2dldFZlcnNpb25TaWduKCldfWVsc2Ugcz0kKGE9by5nZXQoImRhdGEiLCEwKSk/TnA6THAsZT1bXTt2YXIgaD10aGlzLl9nZXRTb3VyY2VNZXRhUmF3T3B0aW9uKCl8fHt9LGM9bCYmbC5tZXRhUmF3T3B0aW9ufHx7fSxwPXJ0KGguc2VyaWVzTGF5b3V0QnksYy5zZXJpZXNMYXlvdXRCeSl8fG51bGwsZD1ydChoLnNvdXJjZUhlYWRlcixjLnNvdXJjZUhlYWRlciksZj1ydChoLmRpbWVuc2lvbnMsYy5kaW1lbnNpb25zKTt0PXAhPT1jLnNlcmllc0xheW91dEJ5fHwhIWQhPSEhYy5zb3VyY2VIZWFkZXJ8fGY/W1dkKGEse3Nlcmllc0xheW91dEJ5OnAsc291cmNlSGVhZGVyOmQsZGltZW5zaW9uczpmfSxzKV06W119ZWxzZXt2YXIgZz1uO2lmKHIpe3ZhciB5PXRoaXMuX2FwcGx5VHJhbnNmb3JtKGkpO3Q9eS5zb3VyY2VMaXN0LGU9eS51cHN0cmVhbVNpZ25MaXN0fWVsc2V7dD1bV2QoZy5nZXQoInNvdXJjZSIsITApLHRoaXMuX2dldFNvdXJjZU1ldGFSYXdPcHRpb24oKSxudWxsKV0sZT1bXX19dGhpcy5fc2V0TG9jYWxTb3VyY2UodCxlKX0sdC5wcm90b3R5cGUuX2FwcGx5VHJhbnNmb3JtPWZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcy5fc291cmNlSG9zdCxpPW4uZ2V0KCJ0cmFuc2Zvcm0iLCEwKSxyPW4uZ2V0KCJmcm9tVHJhbnNmb3JtUmVzdWx0IiwhMCk7aWYobnVsbCE9cil7dmFyIG89IiI7MSE9PXQubGVuZ3RoJiZXZihvKX12YXIgYSxzPVtdLGw9W107cmV0dXJuIEUodCwoZnVuY3Rpb24odCl7dC5wcmVwYXJlU291cmNlKCk7dmFyIGU9dC5nZXRTb3VyY2Uocnx8MCksbj0iIjtudWxsPT1yfHxlfHxXZihuKSxzLnB1c2goZSksbC5wdXNoKHQuX2dldFZlcnNpb25TaWduKCkpfSkpLGk/ZT1mdW5jdGlvbih0LGUsbil7dmFyIGk9aG8odCkscj1pLmxlbmd0aCxvPSIiO3J8fGFvKG8pO2Zvcih2YXIgYT0wLHM9cjthPHM7YSsrKWU9Q2YoaVthXSxlKSxhIT09cy0xJiYoZS5sZW5ndGg9TWF0aC5tYXgoZS5sZW5ndGgsMSkpO3JldHVybiBlfShpLHMsbi5jb21wb25lbnRJbmRleCk6bnVsbCE9ciYmKGU9WyhhPXNbMF0sbmV3IEZkKHtkYXRhOmEuZGF0YSxzb3VyY2VGb3JtYXQ6YS5zb3VyY2VGb3JtYXQsc2VyaWVzTGF5b3V0Qnk6YS5zZXJpZXNMYXlvdXRCeSxkaW1lbnNpb25zRGVmaW5lOlQoYS5kaW1lbnNpb25zRGVmaW5lKSxzdGFydEluZGV4OmEuc3RhcnRJbmRleCxkaW1lbnNpb25zRGV0ZWN0ZWRDb3VudDphLmRpbWVuc2lvbnNEZXRlY3RlZENvdW50fSkpXSkse3NvdXJjZUxpc3Q6ZSx1cHN0cmVhbVNpZ25MaXN0Omx9fSx0LnByb3RvdHlwZS5faXNEaXJ0eT1mdW5jdGlvbigpe2lmKHRoaXMuX2RpcnR5KXJldHVybiEwO2Zvcih2YXIgdD10aGlzLl9nZXRVcHN0cmVhbVNvdXJjZU1hbmFnZXJzKCksZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgbj10W2VdO2lmKG4uX2lzRGlydHkoKXx8dGhpcy5fdXBzdHJlYW1TaWduTGlzdFtlXSE9PW4uX2dldFZlcnNpb25TaWduKCkpcmV0dXJuITB9fSx0LnByb3RvdHlwZS5nZXRTb3VyY2U9ZnVuY3Rpb24odCl7dD10fHwwO3ZhciBlPXRoaXMuX3NvdXJjZUxpc3RbdF07aWYoIWUpe3ZhciBuPXRoaXMuX2dldFVwc3RyZWFtU291cmNlTWFuYWdlcnMoKTtyZXR1cm4gblswXSYmblswXS5nZXRTb3VyY2UodCl9cmV0dXJuIGV9LHQucHJvdG90eXBlLmdldFNoYXJlZERhdGFTdG9yZT1mdW5jdGlvbih0KXt2YXIgZT10Lm1ha2VTdG9yZVNjaGVtYSgpO3JldHVybiB0aGlzLl9pbm5lckdldERhdGFTdG9yZShlLmRpbWVuc2lvbnMsdC5zb3VyY2UsZS5oYXNoKX0sdC5wcm90b3R5cGUuX2lubmVyR2V0RGF0YVN0b3JlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLl9zdG9yZUxpc3Qscj1pWzBdO3J8fChyPWlbMF09e30pO3ZhciBvPXJbbl07aWYoIW8pe3ZhciBhPXRoaXMuX2dldFVwc3RyZWFtU291cmNlTWFuYWdlcnMoKVswXTtHZih0aGlzLl9zb3VyY2VIb3N0KSYmYT9vPWEuX2lubmVyR2V0RGF0YVN0b3JlKHQsZSxuKToobz1uZXcgVmYpLmluaXREYXRhKG5ldyBqZChlLHQubGVuZ3RoKSx0KSxyW25dPW99cmV0dXJuIG99LHQucHJvdG90eXBlLl9nZXRVcHN0cmVhbVNvdXJjZU1hbmFnZXJzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc291cmNlSG9zdDtpZihHZih0KSl7dmFyIGU9VXAodCk7cmV0dXJuIGU/W2UuZ2V0U291cmNlTWFuYWdlcigpXTpbXX1yZXR1cm4geihmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXQoInRyYW5zZm9ybSIsITApfHx0LmdldCgiZnJvbVRyYW5zZm9ybVJlc3VsdCIsITApP0FvKHQuZWNNb2RlbCwiZGF0YXNldCIse2luZGV4OnQuZ2V0KCJmcm9tRGF0YXNldEluZGV4IiwhMCksaWQ6dC5nZXQoImZyb21EYXRhc2V0SWQiLCEwKX0sQ28pLm1vZGVsczpbXX0odCksKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldFNvdXJjZU1hbmFnZXIoKX0pKX0sdC5wcm90b3R5cGUuX2dldFNvdXJjZU1ldGFSYXdPcHRpb249ZnVuY3Rpb24oKXt2YXIgdCxlLG4saT10aGlzLl9zb3VyY2VIb3N0O2lmKEdmKGkpKXQ9aS5nZXQoInNlcmllc0xheW91dEJ5IiwhMCksZT1pLmdldCgic291cmNlSGVhZGVyIiwhMCksbj1pLmdldCgiZGltZW5zaW9ucyIsITApO2Vsc2UgaWYoIXRoaXMuX2dldFVwc3RyZWFtU291cmNlTWFuYWdlcnMoKS5sZW5ndGgpe3ZhciByPWk7dD1yLmdldCgic2VyaWVzTGF5b3V0QnkiLCEwKSxlPXIuZ2V0KCJzb3VyY2VIZWFkZXIiLCEwKSxuPXIuZ2V0KCJkaW1lbnNpb25zIiwhMCl9cmV0dXJue3Nlcmllc0xheW91dEJ5OnQsc291cmNlSGVhZGVyOmUsZGltZW5zaW9uczpufX0sdH0oKTtmdW5jdGlvbiBGZih0KXt0Lm9wdGlvbi50cmFuc2Zvcm0mJmN0KHQub3B0aW9uLnRyYW5zZm9ybSl9ZnVuY3Rpb24gR2YodCl7cmV0dXJuInNlcmllcyI9PT10Lm1haW5UeXBlfWZ1bmN0aW9uIFdmKHQpe3Rocm93IG5ldyBFcnJvcih0KX1mdW5jdGlvbiBIZih0LGUpe3ZhciBuPXQuY29sb3J8fCIjNmU3MDc5IixpPXQuZm9udFNpemV8fDEyLHI9dC5mb250V2VpZ2h0fHwiNDAwIixvPXQuY29sb3J8fCIjNDY0NjQ2IixhPXQuZm9udFNpemV8fDE0LHM9dC5mb250V2VpZ2h0fHwiOTAwIjtyZXR1cm4iaHRtbCI9PT1lP3tuYW1lU3R5bGU6ImZvbnQtc2l6ZToiK2FwKGkrIiIpKyJweDtjb2xvcjoiK2FwKG4pKyI7Zm9udC13ZWlnaHQ6IithcChyKyIiKSx2YWx1ZVN0eWxlOiJmb250LXNpemU6IithcChhKyIiKSsicHg7Y29sb3I6IithcChvKSsiO2ZvbnQtd2VpZ2h0OiIrYXAocysiIil9OntuYW1lU3R5bGU6e2ZvbnRTaXplOmksZmlsbDpuLGZvbnRXZWlnaHQ6cn0sdmFsdWVTdHlsZTp7Zm9udFNpemU6YSxmaWxsOm8sZm9udFdlaWdodDpzfX19dmFyIFlmPVswLDEwLDIwLDMwXSxVZj1bIiIsIlxuIiwiXG5cbiIsIlxuXG5cbiJdO2Z1bmN0aW9uIFhmKHQsZSl7cmV0dXJuIGUudHlwZT10LGV9ZnVuY3Rpb24gWmYodCl7cmV0dXJuInNlY3Rpb24iPT09dC50eXBlfWZ1bmN0aW9uIGpmKHQpe3JldHVybiBaZih0KT9LZjokZn1mdW5jdGlvbiBxZih0KXtpZihaZih0KSl7dmFyIGU9MCxuPXQuYmxvY2tzLmxlbmd0aCxpPW4+MXx8bj4wJiYhdC5ub0hlYWRlcjtyZXR1cm4gRSh0LmJsb2NrcywoZnVuY3Rpb24odCl7dmFyIG49cWYodCk7bj49ZSYmKGU9bisgKyhpJiYoIW58fFpmKHQpJiYhdC5ub0hlYWRlcikpKX0pKSxlfXJldHVybiAwfWZ1bmN0aW9uIEtmKHQsZSxuLGkpe3ZhciByLG89ZS5ub0hlYWRlcixhPShyPXFmKGUpLHtodG1sOllmW3JdLHJpY2hUZXh0OlVmW3JdfSkscz1bXSxsPWUuYmxvY2tzfHxbXTtsdCghbHx8WShsKSksbD1sfHxbXTt2YXIgdT10Lm9yZGVyTW9kZTtpZihlLnNvcnRCbG9ja3MmJnUpe2w9bC5zbGljZSgpO3ZhciBoPXt2YWx1ZUFzYzoiYXNjIix2YWx1ZURlc2M6ImRlc2MifTtpZihtdChoLHUpKXt2YXIgYz1uZXcgbWYoaFt1XSxudWxsKTtsLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGMuZXZhbHVhdGUodC5zb3J0UGFyYW0sZS5zb3J0UGFyYW0pfSkpfWVsc2Uic2VyaWVzRGVzYyI9PT11JiZsLnJldmVyc2UoKX1FKGwsKGZ1bmN0aW9uKG4scil7dmFyIG89ZS52YWx1ZUZvcm1hdHRlcixsPWpmKG4pKG8/QShBKHt9LHQpLHt2YWx1ZUZvcm1hdHRlcjpvfSk6dCxuLHI+MD9hLmh0bWw6MCxpKTtudWxsIT1sJiZzLnB1c2gobCl9KSk7dmFyIHA9InJpY2hUZXh0Ij09PXQucmVuZGVyTW9kZT9zLmpvaW4oYS5yaWNoVGV4dCk6UWYocy5qb2luKCIiKSxvP246YS5odG1sKTtpZihvKXJldHVybiBwO3ZhciBkPXNwKGUuaGVhZGVyLCJvcmRpbmFsIix0LnVzZVVUQyksZj1IZihpLHQucmVuZGVyTW9kZSkubmFtZVN0eWxlO3JldHVybiJyaWNoVGV4dCI9PT10LnJlbmRlck1vZGU/dGcodCxkLGYpK2EucmljaFRleHQrcDpRZignPGRpdiBzdHlsZT0iJytmKyI7IisnbGluZS1oZWlnaHQ6MTsiPicrYXAoZCkrIjwvZGl2PiIrcCxuKX1mdW5jdGlvbiAkZih0LGUsbixpKXt2YXIgcj10LnJlbmRlck1vZGUsbz1lLm5vTmFtZSxhPWUubm9WYWx1ZSxzPSFlLm1hcmtlclR5cGUsbD1lLm5hbWUsdT10LnVzZVVUQyxoPWUudmFsdWVGb3JtYXR0ZXJ8fHQudmFsdWVGb3JtYXR0ZXJ8fGZ1bmN0aW9uKHQpe3JldHVybiB6KHQ9WSh0KT90Olt0XSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gc3AodCxZKGQpP2RbZV06ZCx1KX0pKX07aWYoIW98fCFhKXt2YXIgYz1zPyIiOnQubWFya3VwU3R5bGVDcmVhdG9yLm1ha2VUb29sdGlwTWFya2VyKGUubWFya2VyVHlwZSxlLm1hcmtlckNvbG9yfHwiIzMzMyIscikscD1vPyIiOnNwKGwsIm9yZGluYWwiLHUpLGQ9ZS52YWx1ZVR5cGUsZj1hP1tdOmgoZS52YWx1ZSksZz0hc3x8IW8seT0hcyYmbyx2PUhmKGksciksbT12Lm5hbWVTdHlsZSx4PXYudmFsdWVTdHlsZTtyZXR1cm4icmljaFRleHQiPT09cj8ocz8iIjpjKSsobz8iIjp0Zyh0LHAsbSkpKyhhPyIiOmZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89W3JdLGE9aT8xMDoyMDtyZXR1cm4gbiYmby5wdXNoKHtwYWRkaW5nOlswLDAsMCxhXSxhbGlnbjoicmlnaHQifSksdC5tYXJrdXBTdHlsZUNyZWF0b3Iud3JhcFJpY2hUZXh0U3R5bGUoWShlKT9lLmpvaW4oIiAgIik6ZSxvKX0odCxmLGcseSx4KSk6UWYoKHM/IiI6YykrKG8/IiI6ZnVuY3Rpb24odCxlLG4pe3JldHVybic8c3BhbiBzdHlsZT0iJytuKyI7IisoZT8ibWFyZ2luLWxlZnQ6MnB4IjoiIikrJyI+JythcCh0KSsiPC9zcGFuPiJ9KHAsIXMsbSkpKyhhPyIiOmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPW4/IjEwcHgiOiIyMHB4IixvPWU/ImZsb2F0OnJpZ2h0O21hcmdpbi1sZWZ0OiIrcjoiIjtyZXR1cm4gdD1ZKHQpP3Q6W3RdLCc8c3BhbiBzdHlsZT0iJytvKyI7IitpKyciPicreih0LChmdW5jdGlvbih0KXtyZXR1cm4gYXAodCl9KSkuam9pbigiJm5ic3A7Jm5ic3A7IikrIjwvc3Bhbj4ifShmLGcseSx4KSksbil9fWZ1bmN0aW9uIEpmKHQsZSxuLGkscixvKXtpZih0KXJldHVybiBqZih0KSh7dXNlVVRDOnIscmVuZGVyTW9kZTpuLG9yZGVyTW9kZTppLG1hcmt1cFN0eWxlQ3JlYXRvcjplLHZhbHVlRm9ybWF0dGVyOnQudmFsdWVGb3JtYXR0ZXJ9LHQsMCxvKX1mdW5jdGlvbiBRZih0LGUpe3JldHVybic8ZGl2IHN0eWxlPSInKygibWFyZ2luOiAiK2UrInB4IDAgMCIpKyI7IisnbGluZS1oZWlnaHQ6MTsiPicrdCsnPGRpdiBzdHlsZT0iY2xlYXI6Ym90aCI+PC9kaXY+PC9kaXY+J31mdW5jdGlvbiB0Zyh0LGUsbil7cmV0dXJuIHQubWFya3VwU3R5bGVDcmVhdG9yLndyYXBSaWNoVGV4dFN0eWxlKGUsbil9ZnVuY3Rpb24gZWcodCxlKXtyZXR1cm4gcHAodC5nZXREYXRhKCkuZ2V0SXRlbVZpc3VhbChlLCJzdHlsZSIpW3QudmlzdWFsRHJhd1R5cGVdKX1mdW5jdGlvbiBuZyh0LGUpe3ZhciBuPXQuZ2V0KCJwYWRkaW5nIik7cmV0dXJuIG51bGwhPW4/bjoicmljaFRleHQiPT09ZT9bOCwxMF06MTB9dmFyIGlnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMucmljaFRleHRTdHlsZXM9e30sdGhpcy5fbmV4dFN0eWxlTmFtZUlkPW5vKCl9cmV0dXJuIHQucHJvdG90eXBlLl9nZW5lcmF0ZVN0eWxlTmFtZT1mdW5jdGlvbigpe3JldHVybiJfX0VDX2FVVG9fIit0aGlzLl9uZXh0U3R5bGVOYW1lSWQrK30sdC5wcm90b3R5cGUubWFrZVRvb2x0aXBNYXJrZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPSJyaWNoVGV4dCI9PT1uP3RoaXMuX2dlbmVyYXRlU3R5bGVOYW1lKCk6bnVsbCxyPWNwKHtjb2xvcjplLHR5cGU6dCxyZW5kZXJNb2RlOm4sbWFya2VySWQ6aX0pO3JldHVybiBYKHIpP3I6KHRoaXMucmljaFRleHRTdHlsZXNbaV09ci5zdHlsZSxyLmNvbnRlbnQpfSx0LnByb3RvdHlwZS53cmFwUmljaFRleHRTdHlsZT1mdW5jdGlvbih0LGUpe3ZhciBuPXt9O1koZSk/RShlLChmdW5jdGlvbih0KXtyZXR1cm4gQShuLHQpfSkpOkEobixlKTt2YXIgaT10aGlzLl9nZW5lcmF0ZVN0eWxlTmFtZSgpO3JldHVybiB0aGlzLnJpY2hUZXh0U3R5bGVzW2ldPW4sInsiK2krInwiK3QrIn0ifSx0fSgpO2Z1bmN0aW9uIHJnKHQpe3ZhciBlLG4saSxyLG89dC5zZXJpZXMsYT10LmRhdGFJbmRleCxzPXQubXVsdGlwbGVTZXJpZXMsbD1vLmdldERhdGEoKSx1PWwubWFwRGltZW5zaW9uc0FsbCgiZGVmYXVsdGVkVG9vbHRpcCIpLGg9dS5sZW5ndGgsYz1vLmdldFJhd1ZhbHVlKGEpLHA9WShjKSxkPWVnKG8sYSk7aWYoaD4xfHxwJiYhaCl7dmFyIGY9ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1lLmdldERhdGEoKSxhPVYodCwoZnVuY3Rpb24odCxlLG4pe3ZhciBpPW8uZ2V0RGltZW5zaW9uSW5mbyhuKTtyZXR1cm4gdHx8aSYmITEhPT1pLnRvb2x0aXAmJm51bGwhPWkuZGlzcGxheU5hbWV9KSwhMSkscz1bXSxsPVtdLHU9W107ZnVuY3Rpb24gaCh0LGUpe3ZhciBuPW8uZ2V0RGltZW5zaW9uSW5mbyhlKTtuJiYhMSE9PW4ub3RoZXJEaW1zLnRvb2x0aXAmJihhP3UucHVzaChYZigibmFtZVZhbHVlIix7bWFya2VyVHlwZToic3ViSXRlbSIsbWFya2VyQ29sb3I6cixuYW1lOm4uZGlzcGxheU5hbWUsdmFsdWU6dCx2YWx1ZVR5cGU6bi50eXBlfSkpOihzLnB1c2godCksbC5wdXNoKG4udHlwZSkpKX1yZXR1cm4gaS5sZW5ndGg/RShpLChmdW5jdGlvbih0KXtoKGFmKG8sbix0KSx0KX0pKTpFKHQsaCkse2lubGluZVZhbHVlczpzLGlubGluZVZhbHVlVHlwZXM6bCxibG9ja3M6dX19KGMsbyxhLHUsZCk7ZT1mLmlubGluZVZhbHVlcyxuPWYuaW5saW5lVmFsdWVUeXBlcyxpPWYuYmxvY2tzLHI9Zi5pbmxpbmVWYWx1ZXNbMF19ZWxzZSBpZihoKXt2YXIgZz1sLmdldERpbWVuc2lvbkluZm8odVswXSk7cj1lPWFmKGwsYSx1WzBdKSxuPWcudHlwZX1lbHNlIHI9ZT1wP2NbMF06Yzt2YXIgeT1fbyhvKSx2PXkmJm8ubmFtZXx8IiIsbT1sLmdldE5hbWUoYSkseD1zP3Y6bTtyZXR1cm4gWGYoInNlY3Rpb24iLHtoZWFkZXI6dixub0hlYWRlcjpzfHwheSxzb3J0UGFyYW06cixibG9ja3M6W1hmKCJuYW1lVmFsdWUiLHttYXJrZXJUeXBlOiJpdGVtIixtYXJrZXJDb2xvcjpkLG5hbWU6eCxub05hbWU6IXV0KHgpLHZhbHVlOmUsdmFsdWVUeXBlOm59KV0uY29uY2F0KGl8fFtdKX0pfXZhciBvZz1TbygpO2Z1bmN0aW9uIGFnKHQsZSl7cmV0dXJuIHQuZ2V0TmFtZShlKXx8dC5nZXRJZChlKX12YXIgc2c9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS5fc2VsZWN0ZWREYXRhSW5kaWNlc01hcD17fSxlfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUsbil7dGhpcy5zZXJpZXNJbmRleD10aGlzLmNvbXBvbmVudEluZGV4LHRoaXMuZGF0YVRhc2s9aGYoe2NvdW50OnVnLHJlc2V0OmhnfSksdGhpcy5kYXRhVGFzay5jb250ZXh0PXttb2RlbDp0aGlzfSx0aGlzLm1lcmdlRGVmYXVsdEFuZFRoZW1lKHQsbiksKG9nKHRoaXMpLnNvdXJjZU1hbmFnZXI9bmV3IEJmKHRoaXMpKS5wcmVwYXJlU291cmNlKCk7dmFyIGk9dGhpcy5nZXRJbml0aWFsRGF0YSh0LG4pO3BnKGksdGhpcyksdGhpcy5kYXRhVGFzay5jb250ZXh0LmRhdGE9aSxvZyh0aGlzKS5kYXRhQmVmb3JlUHJvY2Vzc2VkPWksbGcodGhpcyksdGhpcy5faW5pdFNlbGVjdGVkTWFwRnJvbURhdGEoaSl9LGUucHJvdG90eXBlLm1lcmdlRGVmYXVsdEFuZFRoZW1lPWZ1bmN0aW9uKHQsZSl7dmFyIG49YnAodGhpcyksaT1uP1NwKHQpOnt9LHI9dGhpcy5zdWJUeXBlO1RwLmhhc0NsYXNzKHIpJiYocis9IlNlcmllcyIpLEModCxlLmdldFRoZW1lKCkuZ2V0KHRoaXMuc3ViVHlwZSkpLEModCx0aGlzLmdldERlZmF1bHRPcHRpb24oKSksY28odCwibGFiZWwiLFsic2hvdyJdKSx0aGlzLmZpbGxEYXRhVGV4dFN0eWxlKHQuZGF0YSksbiYmd3AodCxpLG4pfSxlLnByb3RvdHlwZS5tZXJnZU9wdGlvbj1mdW5jdGlvbih0LGUpe3Q9Qyh0aGlzLm9wdGlvbix0LCEwKSx0aGlzLmZpbGxEYXRhVGV4dFN0eWxlKHQuZGF0YSk7dmFyIG49YnAodGhpcyk7biYmd3AodGhpcy5vcHRpb24sdCxuKTt2YXIgaT1vZyh0aGlzKS5zb3VyY2VNYW5hZ2VyO2kuZGlydHkoKSxpLnByZXBhcmVTb3VyY2UoKTt2YXIgcj10aGlzLmdldEluaXRpYWxEYXRhKHQsZSk7cGcocix0aGlzKSx0aGlzLmRhdGFUYXNrLmRpcnR5KCksdGhpcy5kYXRhVGFzay5jb250ZXh0LmRhdGE9cixvZyh0aGlzKS5kYXRhQmVmb3JlUHJvY2Vzc2VkPXIsbGcodGhpcyksdGhpcy5faW5pdFNlbGVjdGVkTWFwRnJvbURhdGEocil9LGUucHJvdG90eXBlLmZpbGxEYXRhVGV4dFN0eWxlPWZ1bmN0aW9uKHQpe2lmKHQmJiEkKHQpKWZvcih2YXIgZT1bInNob3ciXSxuPTA7bjx0Lmxlbmd0aDtuKyspdFtuXSYmdFtuXS5sYWJlbCYmY28odFtuXSwibGFiZWwiLGUpfSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe30sZS5wcm90b3R5cGUuYXBwZW5kRGF0YT1mdW5jdGlvbih0KXt0aGlzLmdldFJhd0RhdGEoKS5hcHBlbmREYXRhKHQuZGF0YSl9LGUucHJvdG90eXBlLmdldERhdGE9ZnVuY3Rpb24odCl7dmFyIGU9ZmcodGhpcyk7aWYoZSl7dmFyIG49ZS5jb250ZXh0LmRhdGE7cmV0dXJuIG51bGw9PXQ/bjpuLmdldExpbmtlZERhdGEodCl9cmV0dXJuIG9nKHRoaXMpLmRhdGF9LGUucHJvdG90eXBlLmdldEFsbERhdGE9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldERhdGEoKTtyZXR1cm4gdCYmdC5nZXRMaW5rZWREYXRhQWxsP3QuZ2V0TGlua2VkRGF0YUFsbCgpOlt7ZGF0YTp0fV19LGUucHJvdG90eXBlLnNldERhdGE9ZnVuY3Rpb24odCl7dmFyIGU9ZmcodGhpcyk7aWYoZSl7dmFyIG49ZS5jb250ZXh0O24ub3V0cHV0RGF0YT10LGUhPT10aGlzLmRhdGFUYXNrJiYobi5kYXRhPXQpfW9nKHRoaXMpLmRhdGE9dH0sZS5wcm90b3R5cGUuZ2V0RW5jb2RlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXQoImVuY29kZSIsITApO2lmKHQpcmV0dXJuIGZ0KHQpfSxlLnByb3RvdHlwZS5nZXRTb3VyY2VNYW5hZ2VyPWZ1bmN0aW9uKCl7cmV0dXJuIG9nKHRoaXMpLnNvdXJjZU1hbmFnZXJ9LGUucHJvdG90eXBlLmdldFNvdXJjZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFNvdXJjZU1hbmFnZXIoKS5nZXRTb3VyY2UoKX0sZS5wcm90b3R5cGUuZ2V0UmF3RGF0YT1mdW5jdGlvbigpe3JldHVybiBvZyh0aGlzKS5kYXRhQmVmb3JlUHJvY2Vzc2VkfSxlLnByb3RvdHlwZS5nZXRDb2xvckJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJjb2xvckJ5Iil8fCJzZXJpZXMifSxlLnByb3RvdHlwZS5pc0NvbG9yQnlTZXJpZXM9ZnVuY3Rpb24oKXtyZXR1cm4ic2VyaWVzIj09PXRoaXMuZ2V0Q29sb3JCeSgpfSxlLnByb3RvdHlwZS5nZXRCYXNlQXhpcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY29vcmRpbmF0ZVN5c3RlbTtyZXR1cm4gdCYmdC5nZXRCYXNlQXhpcyYmdC5nZXRCYXNlQXhpcygpfSxlLnByb3RvdHlwZS5mb3JtYXRUb29sdGlwPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gcmcoe3Nlcmllczp0aGlzLGRhdGFJbmRleDp0LG11bHRpcGxlU2VyaWVzOmV9KX0sZS5wcm90b3R5cGUuaXNBbmltYXRpb25FbmFibGVkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lY01vZGVsO2lmKHIubm9kZSYmKCF0fHwhdC5zc3IpKXJldHVybiExO3ZhciBlPXRoaXMuZ2V0U2hhbGxvdygiYW5pbWF0aW9uIik7cmV0dXJuIGUmJnRoaXMuZ2V0RGF0YSgpLmNvdW50KCk+dGhpcy5nZXRTaGFsbG93KCJhbmltYXRpb25UaHJlc2hvbGQiKSYmKGU9ITEpLCEhZX0sZS5wcm90b3R5cGUucmVzdG9yZURhdGE9ZnVuY3Rpb24oKXt0aGlzLmRhdGFUYXNrLmRpcnR5KCl9LGUucHJvdG90eXBlLmdldENvbG9yRnJvbVBhbGV0dGU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuZWNNb2RlbCxyPXRkLnByb3RvdHlwZS5nZXRDb2xvckZyb21QYWxldHRlLmNhbGwodGhpcyx0LGUsbik7cmV0dXJuIHJ8fChyPWkuZ2V0Q29sb3JGcm9tUGFsZXR0ZSh0LGUsbikpLHJ9LGUucHJvdG90eXBlLmNvb3JkRGltVG9EYXRhRGltPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldFJhd0RhdGEoKS5tYXBEaW1lbnNpb25zQWxsKHQpfSxlLnByb3RvdHlwZS5nZXRQcm9ncmVzc2l2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgicHJvZ3Jlc3NpdmUiKX0sZS5wcm90b3R5cGUuZ2V0UHJvZ3Jlc3NpdmVUaHJlc2hvbGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoInByb2dyZXNzaXZlVGhyZXNob2xkIil9LGUucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbih0LGUpe3RoaXMuX2lubmVyU2VsZWN0KHRoaXMuZ2V0RGF0YShlKSx0KX0sZS5wcm90b3R5cGUudW5zZWxlY3Q9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm9wdGlvbi5zZWxlY3RlZE1hcDtpZihuKXt2YXIgaT10aGlzLm9wdGlvbi5zZWxlY3RlZE1vZGUscj10aGlzLmdldERhdGEoZSk7aWYoInNlcmllcyI9PT1pfHwiYWxsIj09PW4pcmV0dXJuIHRoaXMub3B0aW9uLnNlbGVjdGVkTWFwPXt9LHZvaWQodGhpcy5fc2VsZWN0ZWREYXRhSW5kaWNlc01hcD17fSk7Zm9yKHZhciBvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBhPWFnKHIsdFtvXSk7blthXT0hMSx0aGlzLl9zZWxlY3RlZERhdGFJbmRpY2VzTWFwW2FdPS0xfX19LGUucHJvdG90eXBlLnRvZ2dsZVNlbGVjdD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1bXSxpPTA7aTx0Lmxlbmd0aDtpKyspblswXT10W2ldLHRoaXMuaXNTZWxlY3RlZCh0W2ldLGUpP3RoaXMudW5zZWxlY3QobixlKTp0aGlzLnNlbGVjdChuLGUpfSxlLnByb3RvdHlwZS5nZXRTZWxlY3RlZERhdGFJbmRpY2VzPWZ1bmN0aW9uKCl7aWYoImFsbCI9PT10aGlzLm9wdGlvbi5zZWxlY3RlZE1hcClyZXR1cm5bXS5zbGljZS5jYWxsKHRoaXMuZ2V0RGF0YSgpLmdldEluZGljZXMoKSk7Zm9yKHZhciB0PXRoaXMuX3NlbGVjdGVkRGF0YUluZGljZXNNYXAsZT1HKHQpLG49W10saT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgcj10W2VbaV1dO3I+PTAmJm4ucHVzaChyKX1yZXR1cm4gbn0sZS5wcm90b3R5cGUuaXNTZWxlY3RlZD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMub3B0aW9uLnNlbGVjdGVkTWFwO2lmKCFuKXJldHVybiExO3ZhciBpPXRoaXMuZ2V0RGF0YShlKTtyZXR1cm4oImFsbCI9PT1ufHxuW2FnKGksdCldKSYmIWkuZ2V0SXRlbU1vZGVsKHQpLmdldChbInNlbGVjdCIsImRpc2FibGVkIl0pfSxlLnByb3RvdHlwZS5pc1VuaXZlcnNhbFRyYW5zaXRpb25FbmFibGVkPWZ1bmN0aW9uKCl7aWYodGhpcy5fX3VuaXZlcnNhbFRyYW5zaXRpb25FbmFibGVkKXJldHVybiEwO3ZhciB0PXRoaXMub3B0aW9uLnVuaXZlcnNhbFRyYW5zaXRpb247cmV0dXJuISF0JiYoITA9PT10fHx0JiZ0LmVuYWJsZWQpfSxlLnByb3RvdHlwZS5faW5uZXJTZWxlY3Q9ZnVuY3Rpb24odCxlKXt2YXIgbixpLHI9dGhpcy5vcHRpb24sbz1yLnNlbGVjdGVkTW9kZSxhPWUubGVuZ3RoO2lmKG8mJmEpaWYoInNlcmllcyI9PT1vKXIuc2VsZWN0ZWRNYXA9ImFsbCI7ZWxzZSBpZigibXVsdGlwbGUiPT09byl7cShyLnNlbGVjdGVkTWFwKXx8KHIuc2VsZWN0ZWRNYXA9e30pO2Zvcih2YXIgcz1yLnNlbGVjdGVkTWFwLGw9MDtsPGE7bCsrKXt2YXIgdT1lW2xdO3NbYz1hZyh0LHUpXT0hMCx0aGlzLl9zZWxlY3RlZERhdGFJbmRpY2VzTWFwW2NdPXQuZ2V0UmF3SW5kZXgodSl9fWVsc2UgaWYoInNpbmdsZSI9PT1vfHwhMD09PW8pe3ZhciBoPWVbYS0xXSxjPWFnKHQsaCk7ci5zZWxlY3RlZE1hcD0oKG49e30pW2NdPSEwLG4pLHRoaXMuX3NlbGVjdGVkRGF0YUluZGljZXNNYXA9KChpPXt9KVtjXT10LmdldFJhd0luZGV4KGgpLGkpfX0sZS5wcm90b3R5cGUuX2luaXRTZWxlY3RlZE1hcEZyb21EYXRhPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLm9wdGlvbi5zZWxlY3RlZE1hcCl7dmFyIGU9W107dC5oYXNJdGVtT3B0aW9uJiZ0LmVhY2goKGZ1bmN0aW9uKG4pe3ZhciBpPXQuZ2V0UmF3RGF0YUl0ZW0obik7aSYmaS5zZWxlY3RlZCYmZS5wdXNoKG4pfSkpLGUubGVuZ3RoPjAmJnRoaXMuX2lubmVyU2VsZWN0KHQsZSl9fSxlLnJlZ2lzdGVyQ2xhc3M9ZnVuY3Rpb24odCl7cmV0dXJuIFRwLnJlZ2lzdGVyQ2xhc3ModCl9LGUucHJvdG9Jbml0aWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9ZS5wcm90b3R5cGU7dC50eXBlPSJzZXJpZXMuX19iYXNlX18iLHQuc2VyaWVzSW5kZXg9MCx0Lmlnbm9yZVN0eWxlT25EYXRhPSExLHQuaGFzU3ltYm9sVmlzdWFsPSExLHQuZGVmYXVsdFN5bWJvbD0iY2lyY2xlIix0LnZpc3VhbFN0eWxlQWNjZXNzUGF0aD0iaXRlbVN0eWxlIix0LnZpc3VhbERyYXdUeXBlPSJmaWxsIn0oKSxlfShUcCk7ZnVuY3Rpb24gbGcodCl7dmFyIGU9dC5uYW1lO19vKHQpfHwodC5uYW1lPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0UmF3RGF0YSgpLG49ZS5tYXBEaW1lbnNpb25zQWxsKCJzZXJpZXNOYW1lIiksaT1bXTtyZXR1cm4gRShuLChmdW5jdGlvbih0KXt2YXIgbj1lLmdldERpbWVuc2lvbkluZm8odCk7bi5kaXNwbGF5TmFtZSYmaS5wdXNoKG4uZGlzcGxheU5hbWUpfSkpLGkuam9pbigiICIpfSh0KXx8ZSl9ZnVuY3Rpb24gdWcodCl7cmV0dXJuIHQubW9kZWwuZ2V0UmF3RGF0YSgpLmNvdW50KCl9ZnVuY3Rpb24gaGcodCl7dmFyIGU9dC5tb2RlbDtyZXR1cm4gZS5zZXREYXRhKGUuZ2V0UmF3RGF0YSgpLmNsb25lU2hhbGxvdygpKSxjZ31mdW5jdGlvbiBjZyh0LGUpe2Uub3V0cHV0RGF0YSYmdC5lbmQ+ZS5vdXRwdXREYXRhLmNvdW50KCkmJmUubW9kZWwuZ2V0UmF3RGF0YSgpLmNsb25lU2hhbGxvdyhlLm91dHB1dERhdGEpfWZ1bmN0aW9uIHBnKHQsZSl7RShndCh0LkNIQU5HQUJMRV9NRVRIT0RTLHQuRE9XTlNBTVBMRV9NRVRIT0RTKSwoZnVuY3Rpb24obil7dC53cmFwTWV0aG9kKG4sSChkZyxlKSl9KSl9ZnVuY3Rpb24gZGcodCxlKXt2YXIgbj1mZyh0KTtyZXR1cm4gbiYmbi5zZXRPdXRwdXRFbmQoKGV8fHRoaXMpLmNvdW50KCkpLGV9ZnVuY3Rpb24gZmcodCl7dmFyIGU9KHQuZWNNb2RlbHx8e30pLnNjaGVkdWxlcixuPWUmJmUuZ2V0UGlwZWxpbmUodC51aWQpO2lmKG4pe3ZhciBpPW4uY3VycmVudFRhc2s7aWYoaSl7dmFyIHI9aS5hZ2VudFN0dWJNYXA7ciYmKGk9ci5nZXQodC51aWQpKX1yZXR1cm4gaX19UihzZyxsZiksUihzZyx0ZCksem8oc2csVHApO3ZhciBnZz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmdyb3VwPW5ldyBDcix0aGlzLnVpZD1nYygidmlld0NvbXBvbmVudCIpfXJldHVybiB0LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7fSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS51cGRhdGVWaWV3PWZ1bmN0aW9uKHQsZSxuLGkpe30sdC5wcm90b3R5cGUudXBkYXRlTGF5b3V0PWZ1bmN0aW9uKHQsZSxuLGkpe30sdC5wcm90b3R5cGUudXBkYXRlVmlzdWFsPWZ1bmN0aW9uKHQsZSxuLGkpe30sdC5wcm90b3R5cGUudG9nZ2xlQmx1clNlcmllcz1mdW5jdGlvbih0LGUsbil7fSx0LnByb3RvdHlwZS5lYWNoUmVuZGVyZWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ncm91cDtlJiZlLnRyYXZlcnNlKHQpfSx0fSgpO2Z1bmN0aW9uIHlnKCl7dmFyIHQ9U28oKTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49dChlKSxpPWUucGlwZWxpbmVDb250ZXh0LHI9ISFuLmxhcmdlLG89ISFuLnByb2dyZXNzaXZlUmVuZGVyLGE9bi5sYXJnZT0hKCFpfHwhaS5sYXJnZSkscz1uLnByb2dyZXNzaXZlUmVuZGVyPSEoIWl8fCFpLnByb2dyZXNzaXZlUmVuZGVyKTtyZXR1cm4hKHI9PT1hJiZvPT09cykmJiJyZXNldCJ9fUVvKGdnKSxHbyhnZyk7dmFyIHZnPVNvKCksbWc9eWcoKSx4Zz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmdyb3VwPW5ldyBDcix0aGlzLnVpZD1nYygidmlld0NoYXJ0IiksdGhpcy5yZW5kZXJUYXNrPWhmKHtwbGFuOndnLHJlc2V0OlNnfSksdGhpcy5yZW5kZXJUYXNrLmNvbnRleHQ9e3ZpZXc6dGhpc319cmV0dXJuIHQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbixpKXswfSx0LnByb3RvdHlwZS5oaWdobGlnaHQ9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dC5nZXREYXRhKGkmJmkuZGF0YVR5cGUpO3ImJmJnKHIsaSwiZW1waGFzaXMiKX0sdC5wcm90b3R5cGUuZG93bnBsYXk9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dC5nZXREYXRhKGkmJmkuZGF0YVR5cGUpO3ImJmJnKHIsaSwibm9ybWFsIil9LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnVwZGF0ZVZpZXc9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5yZW5kZXIodCxlLG4saSl9LHQucHJvdG90eXBlLnVwZGF0ZUxheW91dD1mdW5jdGlvbih0LGUsbixpKXt0aGlzLnJlbmRlcih0LGUsbixpKX0sdC5wcm90b3R5cGUudXBkYXRlVmlzdWFsPWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMucmVuZGVyKHQsZSxuLGkpfSx0LnByb3RvdHlwZS5lYWNoUmVuZGVyZWQ9ZnVuY3Rpb24odCl7VmgodGhpcy5ncm91cCx0KX0sdC5tYXJrVXBkYXRlTWV0aG9kPWZ1bmN0aW9uKHQsZSl7dmcodCkudXBkYXRlTWV0aG9kPWV9LHQucHJvdG9Jbml0aWFsaXplPXZvaWQodC5wcm90b3R5cGUudHlwZT0iY2hhcnQiKSx0fSgpO2Z1bmN0aW9uIF9nKHQsZSxuKXt0JiZGbCh0KSYmKCJlbXBoYXNpcyI9PT1lP19sOmJsKSh0LG4pfWZ1bmN0aW9uIGJnKHQsZSxuKXt2YXIgaT13byh0LGUpLHI9ZSYmbnVsbCE9ZS5oaWdobGlnaHRLZXk/ZnVuY3Rpb24odCl7dmFyIGU9WHNbdF07cmV0dXJuIG51bGw9PWUmJlVzPD0zMiYmKGU9WHNbdF09VXMrKyksZX0oZS5oaWdobGlnaHRLZXkpOm51bGw7bnVsbCE9aT9FKGhvKGkpLChmdW5jdGlvbihlKXtfZyh0LmdldEl0ZW1HcmFwaGljRWwoZSksbixyKX0pKTp0LmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbih0KXtfZyh0LG4scil9KSl9ZnVuY3Rpb24gd2codCl7cmV0dXJuIG1nKHQubW9kZWwpfWZ1bmN0aW9uIFNnKHQpe3ZhciBlPXQubW9kZWwsbj10LmVjTW9kZWwsaT10LmFwaSxyPXQucGF5bG9hZCxvPWUucGlwZWxpbmVDb250ZXh0LnByb2dyZXNzaXZlUmVuZGVyLGE9dC52aWV3LHM9ciYmdmcocikudXBkYXRlTWV0aG9kLGw9bz8iaW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyIjpzJiZhW3NdP3M6InJlbmRlciI7cmV0dXJuInJlbmRlciIhPT1sJiZhW2xdKGUsbixpLHIpLE1nW2xdfUVvKHhnKSxHbyh4Zyk7dmFyIE1nPXtpbmNyZW1lbnRhbFByZXBhcmVSZW5kZXI6e3Byb2dyZXNzOmZ1bmN0aW9uKHQsZSl7ZS52aWV3LmluY3JlbWVudGFsUmVuZGVyKHQsZS5tb2RlbCxlLmVjTW9kZWwsZS5hcGksZS5wYXlsb2FkKX19LHJlbmRlcjp7Zm9yY2VGaXJzdFByb2dyZXNzOiEwLHByb2dyZXNzOmZ1bmN0aW9uKHQsZSl7ZS52aWV3LnJlbmRlcihlLm1vZGVsLGUuZWNNb2RlbCxlLmFwaSxlLnBheWxvYWQpfX19LElnPSJcMF9fdGhyb3R0bGVPcmlnaW5NZXRob2QiLFRnPSJcMF9fdGhyb3R0bGVSYXRlIixDZz0iXDBfX3Rocm90dGxlVHlwZSI7ZnVuY3Rpb24gRGcodCxlLG4pe3ZhciBpLHIsbyxhLHMsbD0wLHU9MCxoPW51bGw7ZnVuY3Rpb24gYygpe3U9KG5ldyBEYXRlKS5nZXRUaW1lKCksaD1udWxsLHQuYXBwbHkobyxhfHxbXSl9ZT1lfHwwO3ZhciBwPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLHA9MDtwPGFyZ3VtZW50cy5sZW5ndGg7cCsrKXRbcF09YXJndW1lbnRzW3BdO2k9KG5ldyBEYXRlKS5nZXRUaW1lKCksbz10aGlzLGE9dDt2YXIgZD1zfHxlLGY9c3x8bjtzPW51bGwscj1pLShmP2w6dSktZCxjbGVhclRpbWVvdXQoaCksZj9oPXNldFRpbWVvdXQoYyxkKTpyPj0wP2MoKTpoPXNldFRpbWVvdXQoYywtciksbD1pfTtyZXR1cm4gcC5jbGVhcj1mdW5jdGlvbigpe2gmJihjbGVhclRpbWVvdXQoaCksaD1udWxsKX0scC5kZWJvdW5jZU5leHRDYWxsPWZ1bmN0aW9uKHQpe3M9dH0scH1mdW5jdGlvbiBBZyh0LGUsbixpKXt2YXIgcj10W2VdO2lmKHIpe3ZhciBvPXJbSWddfHxyLGE9cltDZ107aWYocltUZ10hPT1ufHxhIT09aSl7aWYobnVsbD09bnx8IWkpcmV0dXJuIHRbZV09bzsocj10W2VdPURnKG8sbiwiZGVib3VuY2UiPT09aSkpW0lnXT1vLHJbQ2ddPWkscltUZ109bn1yZXR1cm4gcn19ZnVuY3Rpb24ga2codCxlKXt2YXIgbj10W2VdO24mJm5bSWddJiYobi5jbGVhciYmbi5jbGVhcigpLHRbZV09bltJZ10pfXZhciBMZz1TbygpLFBnPXtpdGVtU3R5bGU6V28oaGMsITApLGxpbmVTdHlsZTpXbyhzYywhMCl9LE9nPXtsaW5lU3R5bGU6InN0cm9rZSIsaXRlbVN0eWxlOiJmaWxsIn07ZnVuY3Rpb24gUmcodCxlKXt2YXIgbj10LnZpc3VhbFN0eWxlTWFwcGVyfHxQZ1tlXTtyZXR1cm4gbnx8KGNvbnNvbGUud2FybigiVW5rb3duIHN0eWxlIHR5cGUgJyIrZSsiJy4iKSxQZy5pdGVtU3R5bGUpfWZ1bmN0aW9uIE5nKHQsZSl7dmFyIG49dC52aXN1YWxEcmF3VHlwZXx8T2dbZV07cmV0dXJuIG58fChjb25zb2xlLndhcm4oIlVua293biBzdHlsZSB0eXBlICciK2UrIicuIiksImZpbGwiKX12YXIgRWc9e2NyZWF0ZU9uQWxsU2VyaWVzOiEwLHBlcmZvcm1SYXdTZXJpZXM6ITAscmVzZXQ6ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldERhdGEoKSxpPXQudmlzdWFsU3R5bGVBY2Nlc3NQYXRofHwiaXRlbVN0eWxlIixyPXQuZ2V0TW9kZWwoaSksbz1SZyh0LGkpKHIpLGE9ci5nZXRTaGFsbG93KCJkZWNhbCIpO2EmJihuLnNldFZpc3VhbCgiZGVjYWwiLGEpLGEuZGlydHk9ITApO3ZhciBzPU5nKHQsaSksbD1vW3NdLHU9VShsKT9sOm51bGwsaD0iYXV0byI9PT1vLmZpbGx8fCJhdXRvIj09PW8uc3Ryb2tlO2lmKCFvW3NdfHx1fHxoKXt2YXIgYz10LmdldENvbG9yRnJvbVBhbGV0dGUodC5uYW1lLG51bGwsZS5nZXRTZXJpZXNDb3VudCgpKTtvW3NdfHwob1tzXT1jLG4uc2V0VmlzdWFsKCJjb2xvckZyb21QYWxldHRlIiwhMCkpLG8uZmlsbD0iYXV0byI9PT1vLmZpbGx8fFUoby5maWxsKT9jOm8uZmlsbCxvLnN0cm9rZT0iYXV0byI9PT1vLnN0cm9rZXx8VShvLnN0cm9rZSk/YzpvLnN0cm9rZX1pZihuLnNldFZpc3VhbCgic3R5bGUiLG8pLG4uc2V0VmlzdWFsKCJkcmF3VHlwZSIscyksIWUuaXNTZXJpZXNGaWx0ZXJlZCh0KSYmdSlyZXR1cm4gbi5zZXRWaXN1YWwoImNvbG9yRnJvbVBhbGV0dGUiLCExKSx7ZGF0YUVhY2g6ZnVuY3Rpb24oZSxuKXt2YXIgaT10LmdldERhdGFQYXJhbXMobikscj1BKHt9LG8pO3Jbc109dShpKSxlLnNldEl0ZW1WaXN1YWwobiwic3R5bGUiLHIpfX19fSx6Zz1uZXcgZGMsVmc9e2NyZWF0ZU9uQWxsU2VyaWVzOiEwLHBlcmZvcm1SYXdTZXJpZXM6ITAscmVzZXQ6ZnVuY3Rpb24odCxlKXtpZighdC5pZ25vcmVTdHlsZU9uRGF0YSYmIWUuaXNTZXJpZXNGaWx0ZXJlZCh0KSl7dmFyIG49dC5nZXREYXRhKCksaT10LnZpc3VhbFN0eWxlQWNjZXNzUGF0aHx8Iml0ZW1TdHlsZSIscj1SZyh0LGkpLG89bi5nZXRWaXN1YWwoImRyYXdUeXBlIik7cmV0dXJue2RhdGFFYWNoOm4uaGFzSXRlbU9wdGlvbj9mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0UmF3RGF0YUl0ZW0oZSk7aWYobiYmbltpXSl7emcub3B0aW9uPW5baV07dmFyIGE9cih6Zyk7QSh0LmVuc3VyZVVuaXF1ZUl0ZW1WaXN1YWwoZSwic3R5bGUiKSxhKSx6Zy5vcHRpb24uZGVjYWwmJih0LnNldEl0ZW1WaXN1YWwoZSwiZGVjYWwiLHpnLm9wdGlvbi5kZWNhbCksemcub3B0aW9uLmRlY2FsLmRpcnR5PSEwKSxvIGluIGEmJnQuc2V0SXRlbVZpc3VhbChlLCJjb2xvckZyb21QYWxldHRlIiwhMSl9fTpudWxsfX19fSxCZz17cGVyZm9ybVJhd1NlcmllczohMCxvdmVyYWxsUmVzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9ZnQoKTt0LmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe3ZhciBuPXQuZ2V0Q29sb3JCeSgpO2lmKCF0LmlzQ29sb3JCeVNlcmllcygpKXt2YXIgaT10LnR5cGUrIi0iK24scj1lLmdldChpKTtyfHwocj17fSxlLnNldChpLHIpKSxMZyh0KS5zY29wZT1yfX0pKSx0LmVhY2hTZXJpZXMoKGZ1bmN0aW9uKGUpe2lmKCFlLmlzQ29sb3JCeVNlcmllcygpJiYhdC5pc1Nlcmllc0ZpbHRlcmVkKGUpKXt2YXIgbj1lLmdldFJhd0RhdGEoKSxpPXt9LHI9ZS5nZXREYXRhKCksbz1MZyhlKS5zY29wZSxhPWUudmlzdWFsU3R5bGVBY2Nlc3NQYXRofHwiaXRlbVN0eWxlIixzPU5nKGUsYSk7ci5lYWNoKChmdW5jdGlvbih0KXt2YXIgZT1yLmdldFJhd0luZGV4KHQpO2lbZV09dH0pKSxuLmVhY2goKGZ1bmN0aW9uKHQpe3ZhciBhPWlbdF07aWYoci5nZXRJdGVtVmlzdWFsKGEsImNvbG9yRnJvbVBhbGV0dGUiKSl7dmFyIGw9ci5lbnN1cmVVbmlxdWVJdGVtVmlzdWFsKGEsInN0eWxlIiksdT1uLmdldE5hbWUodCl8fHQrIiIsaD1uLmNvdW50KCk7bFtzXT1lLmdldENvbG9yRnJvbVBhbGV0dGUodSxvLGgpfX0pKX19KSl9fSxGZz1NYXRoLlBJO3ZhciBHZz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4saSl7dGhpcy5fc3RhZ2VUYXNrTWFwPWZ0KCksdGhpcy5lY0luc3RhbmNlPXQsdGhpcy5hcGk9ZSxuPXRoaXMuX2RhdGFQcm9jZXNzb3JIYW5kbGVycz1uLnNsaWNlKCksaT10aGlzLl92aXN1YWxIYW5kbGVycz1pLnNsaWNlKCksdGhpcy5fYWxsSGFuZGxlcnM9bi5jb25jYXQoaSl9cmV0dXJuIHQucHJvdG90eXBlLnJlc3RvcmVEYXRhPWZ1bmN0aW9uKHQsZSl7dC5yZXN0b3JlRGF0YShlKSx0aGlzLl9zdGFnZVRhc2tNYXAuZWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9dC5vdmVyYWxsVGFzaztlJiZlLmRpcnR5KCl9KSl9LHQucHJvdG90eXBlLmdldFBlcmZvcm1BcmdzPWZ1bmN0aW9uKHQsZSl7aWYodC5fX3BpcGVsaW5lKXt2YXIgbj10aGlzLl9waXBlbGluZU1hcC5nZXQodC5fX3BpcGVsaW5lLmlkKSxpPW4uY29udGV4dCxyPSFlJiZuLnByb2dyZXNzaXZlRW5hYmxlZCYmKCFpfHxpLnByb2dyZXNzaXZlUmVuZGVyKSYmdC5fX2lkeEluUGlwZWxpbmU+bi5ibG9ja0luZGV4P24uc3RlcDpudWxsLG89aSYmaS5tb2REYXRhQ291bnQ7cmV0dXJue3N0ZXA6cixtb2RCeTpudWxsIT1vP01hdGguY2VpbChvL3IpOm51bGwsbW9kRGF0YUNvdW50Om99fX0sdC5wcm90b3R5cGUuZ2V0UGlwZWxpbmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lTWFwLmdldCh0KX0sdC5wcm90b3R5cGUudXBkYXRlU3RyZWFtTW9kZXM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9waXBlbGluZU1hcC5nZXQodC51aWQpLGk9dC5nZXREYXRhKCkuY291bnQoKSxyPW4ucHJvZ3Jlc3NpdmVFbmFibGVkJiZlLmluY3JlbWVudGFsUHJlcGFyZVJlbmRlciYmaT49bi50aHJlc2hvbGQsbz10LmdldCgibGFyZ2UiKSYmaT49dC5nZXQoImxhcmdlVGhyZXNob2xkIiksYT0ibW9kIj09PXQuZ2V0KCJwcm9ncmVzc2l2ZUNodW5rTW9kZSIpP2k6bnVsbDt0LnBpcGVsaW5lQ29udGV4dD1uLmNvbnRleHQ9e3Byb2dyZXNzaXZlUmVuZGVyOnIsbW9kRGF0YUNvdW50OmEsbGFyZ2U6b319LHQucHJvdG90eXBlLnJlc3RvcmVQaXBlbGluZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPWUuX3BpcGVsaW5lTWFwPWZ0KCk7dC5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXt2YXIgaT10LmdldFByb2dyZXNzaXZlKCkscj10LnVpZDtuLnNldChyLHtpZDpyLGhlYWQ6bnVsbCx0YWlsOm51bGwsdGhyZXNob2xkOnQuZ2V0UHJvZ3Jlc3NpdmVUaHJlc2hvbGQoKSxwcm9ncmVzc2l2ZUVuYWJsZWQ6aSYmISh0LnByZXZlbnRJbmNyZW1lbnRhbCYmdC5wcmV2ZW50SW5jcmVtZW50YWwoKSksYmxvY2tJbmRleDotMSxzdGVwOk1hdGgucm91bmQoaXx8NzAwKSxjb3VudDowfSksZS5fcGlwZSh0LHQuZGF0YVRhc2spfSkpfSx0LnByb3RvdHlwZS5wcmVwYXJlU3RhZ2VUYXNrcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N0YWdlVGFza01hcCxlPXRoaXMuYXBpLmdldE1vZGVsKCksbj10aGlzLmFwaTtFKHRoaXMuX2FsbEhhbmRsZXJzLChmdW5jdGlvbihpKXt2YXIgcj10LmdldChpLnVpZCl8fHQuc2V0KGkudWlkLHt9KSxvPSIiO2x0KCEoaS5yZXNldCYmaS5vdmVyYWxsUmVzZXQpLG8pLGkucmVzZXQmJnRoaXMuX2NyZWF0ZVNlcmllc1N0YWdlVGFzayhpLHIsZSxuKSxpLm92ZXJhbGxSZXNldCYmdGhpcy5fY3JlYXRlT3ZlcmFsbFN0YWdlVGFzayhpLHIsZSxuKX0pLHRoaXMpfSx0LnByb3RvdHlwZS5wcmVwYXJlVmlldz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LnJlbmRlclRhc2ssbz1yLmNvbnRleHQ7by5tb2RlbD1lLG8uZWNNb2RlbD1uLG8uYXBpPWksci5fX2Jsb2NrPSF0LmluY3JlbWVudGFsUHJlcGFyZVJlbmRlcix0aGlzLl9waXBlKGUscil9LHQucHJvdG90eXBlLnBlcmZvcm1EYXRhUHJvY2Vzc29yVGFza3M9ZnVuY3Rpb24odCxlKXt0aGlzLl9wZXJmb3JtU3RhZ2VUYXNrcyh0aGlzLl9kYXRhUHJvY2Vzc29ySGFuZGxlcnMsdCxlLHtibG9jazohMH0pfSx0LnByb3RvdHlwZS5wZXJmb3JtVmlzdWFsVGFza3M9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX3BlcmZvcm1TdGFnZVRhc2tzKHRoaXMuX3Zpc3VhbEhhbmRsZXJzLHQsZSxuKX0sdC5wcm90b3R5cGUuX3BlcmZvcm1TdGFnZVRhc2tzPWZ1bmN0aW9uKHQsZSxuLGkpe2k9aXx8e307dmFyIHI9ITEsbz10aGlzO2Z1bmN0aW9uIGEodCxlKXtyZXR1cm4gdC5zZXREaXJ0eSYmKCF0LmRpcnR5TWFwfHx0LmRpcnR5TWFwLmdldChlLl9fcGlwZWxpbmUuaWQpKX1FKHQsKGZ1bmN0aW9uKHQscyl7aWYoIWkudmlzdWFsVHlwZXx8aS52aXN1YWxUeXBlPT09dC52aXN1YWxUeXBlKXt2YXIgbD1vLl9zdGFnZVRhc2tNYXAuZ2V0KHQudWlkKSx1PWwuc2VyaWVzVGFza01hcCxoPWwub3ZlcmFsbFRhc2s7aWYoaCl7dmFyIGMscD1oLmFnZW50U3R1Yk1hcDtwLmVhY2goKGZ1bmN0aW9uKHQpe2EoaSx0KSYmKHQuZGlydHkoKSxjPSEwKX0pKSxjJiZoLmRpcnR5KCksby51cGRhdGVQYXlsb2FkKGgsbik7dmFyIGQ9by5nZXRQZXJmb3JtQXJncyhoLGkuYmxvY2spO3AuZWFjaCgoZnVuY3Rpb24odCl7dC5wZXJmb3JtKGQpfSkpLGgucGVyZm9ybShkKSYmKHI9ITApfWVsc2UgdSYmdS5lYWNoKChmdW5jdGlvbihzLGwpe2EoaSxzKSYmcy5kaXJ0eSgpO3ZhciB1PW8uZ2V0UGVyZm9ybUFyZ3MocyxpLmJsb2NrKTt1LnNraXA9IXQucGVyZm9ybVJhd1NlcmllcyYmZS5pc1Nlcmllc0ZpbHRlcmVkKHMuY29udGV4dC5tb2RlbCksby51cGRhdGVQYXlsb2FkKHMsbikscy5wZXJmb3JtKHUpJiYocj0hMCl9KSl9fSkpLHRoaXMudW5maW5pc2hlZD1yfHx0aGlzLnVuZmluaXNoZWR9LHQucHJvdG90eXBlLnBlcmZvcm1TZXJpZXNUYXNrcz1mdW5jdGlvbih0KXt2YXIgZTt0LmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe2U9dC5kYXRhVGFzay5wZXJmb3JtKCl8fGV9KSksdGhpcy51bmZpbmlzaGVkPWV8fHRoaXMudW5maW5pc2hlZH0sdC5wcm90b3R5cGUucGxhbj1mdW5jdGlvbigpe3RoaXMuX3BpcGVsaW5lTWFwLmVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPXQudGFpbDtkb3tpZihlLl9fYmxvY2spe3QuYmxvY2tJbmRleD1lLl9faWR4SW5QaXBlbGluZTticmVha31lPWUuZ2V0VXBzdHJlYW0oKX13aGlsZShlKX0pKX0sdC5wcm90b3R5cGUudXBkYXRlUGF5bG9hZD1mdW5jdGlvbih0LGUpeyJyZW1haW4iIT09ZSYmKHQuY29udGV4dC5wYXlsb2FkPWUpfSx0LnByb3RvdHlwZS5fY3JlYXRlU2VyaWVzU3RhZ2VUYXNrPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXMsbz1lLnNlcmllc1Rhc2tNYXAsYT1lLnNlcmllc1Rhc2tNYXA9ZnQoKSxzPXQuc2VyaWVzVHlwZSxsPXQuZ2V0VGFyZ2V0U2VyaWVzO2Z1bmN0aW9uIHUoZSl7dmFyIHM9ZS51aWQsbD1hLnNldChzLG8mJm8uZ2V0KHMpfHxoZih7cGxhbjpYZyxyZXNldDpaZyxjb3VudDpLZ30pKTtsLmNvbnRleHQ9e21vZGVsOmUsZWNNb2RlbDpuLGFwaTppLHVzZUNsZWFyVmlzdWFsOnQuaXNWaXN1YWwmJiF0LmlzTGF5b3V0LHBsYW46dC5wbGFuLHJlc2V0OnQucmVzZXQsc2NoZWR1bGVyOnJ9LHIuX3BpcGUoZSxsKX10LmNyZWF0ZU9uQWxsU2VyaWVzP24uZWFjaFJhd1Nlcmllcyh1KTpzP24uZWFjaFJhd1Nlcmllc0J5VHlwZShzLHUpOmwmJmwobixpKS5lYWNoKHUpfSx0LnByb3RvdHlwZS5fY3JlYXRlT3ZlcmFsbFN0YWdlVGFzaz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLG89ZS5vdmVyYWxsVGFzaz1lLm92ZXJhbGxUYXNrfHxoZih7cmVzZXQ6V2d9KTtvLmNvbnRleHQ9e2VjTW9kZWw6bixhcGk6aSxvdmVyYWxsUmVzZXQ6dC5vdmVyYWxsUmVzZXQsc2NoZWR1bGVyOnJ9O3ZhciBhPW8uYWdlbnRTdHViTWFwLHM9by5hZ2VudFN0dWJNYXA9ZnQoKSxsPXQuc2VyaWVzVHlwZSx1PXQuZ2V0VGFyZ2V0U2VyaWVzLGg9ITAsYz0hMSxwPSIiO2Z1bmN0aW9uIGQodCl7dmFyIGU9dC51aWQsbj1zLnNldChlLGEmJmEuZ2V0KGUpfHwoYz0hMCxoZih7cmVzZXQ6SGcsb25EaXJ0eTpVZ30pKSk7bi5jb250ZXh0PXttb2RlbDp0LG92ZXJhbGxQcm9ncmVzczpofSxuLmFnZW50PW8sbi5fX2Jsb2NrPWgsci5fcGlwZSh0LG4pfWx0KCF0LmNyZWF0ZU9uQWxsU2VyaWVzLHApLGw/bi5lYWNoUmF3U2VyaWVzQnlUeXBlKGwsZCk6dT91KG4saSkuZWFjaChkKTooaD0hMSxFKG4uZ2V0U2VyaWVzKCksZCkpLGMmJm8uZGlydHkoKX0sdC5wcm90b3R5cGUuX3BpcGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10LnVpZCxpPXRoaXMuX3BpcGVsaW5lTWFwLmdldChuKTshaS5oZWFkJiYoaS5oZWFkPWUpLGkudGFpbCYmaS50YWlsLnBpcGUoZSksaS50YWlsPWUsZS5fX2lkeEluUGlwZWxpbmU9aS5jb3VudCsrLGUuX19waXBlbGluZT1pfSx0LndyYXBTdGFnZUhhbmRsZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gVSh0KSYmKHQ9e292ZXJhbGxSZXNldDp0LHNlcmllc1R5cGU6JGcodCl9KSx0LnVpZD1nYygic3RhZ2VIYW5kbGVyIiksZSYmKHQudmlzdWFsVHlwZT1lKSx0fSx0fSgpO2Z1bmN0aW9uIFdnKHQpe3Qub3ZlcmFsbFJlc2V0KHQuZWNNb2RlbCx0LmFwaSx0LnBheWxvYWQpfWZ1bmN0aW9uIEhnKHQpe3JldHVybiB0Lm92ZXJhbGxQcm9ncmVzcyYmWWd9ZnVuY3Rpb24gWWcoKXt0aGlzLmFnZW50LmRpcnR5KCksdGhpcy5nZXREb3duc3RyZWFtKCkuZGlydHkoKX1mdW5jdGlvbiBVZygpe3RoaXMuYWdlbnQmJnRoaXMuYWdlbnQuZGlydHkoKX1mdW5jdGlvbiBYZyh0KXtyZXR1cm4gdC5wbGFuP3QucGxhbih0Lm1vZGVsLHQuZWNNb2RlbCx0LmFwaSx0LnBheWxvYWQpOm51bGx9ZnVuY3Rpb24gWmcodCl7dC51c2VDbGVhclZpc3VhbCYmdC5kYXRhLmNsZWFyQWxsVmlzdWFsKCk7dmFyIGU9dC5yZXNldERlZmluZXM9aG8odC5yZXNldCh0Lm1vZGVsLHQuZWNNb2RlbCx0LmFwaSx0LnBheWxvYWQpKTtyZXR1cm4gZS5sZW5ndGg+MT96KGUsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHFnKGUpfSkpOmpnfXZhciBqZz1xZygwKTtmdW5jdGlvbiBxZyh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgaT1uLmRhdGEscj1uLnJlc2V0RGVmaW5lc1t0XTtpZihyJiZyLmRhdGFFYWNoKWZvcih2YXIgbz1lLnN0YXJ0O288ZS5lbmQ7bysrKXIuZGF0YUVhY2goaSxvKTtlbHNlIHImJnIucHJvZ3Jlc3MmJnIucHJvZ3Jlc3MoZSxpKX19ZnVuY3Rpb24gS2codCl7cmV0dXJuIHQuZGF0YS5jb3VudCgpfWZ1bmN0aW9uICRnKHQpe0pnPW51bGw7dHJ5e3QoUWcsdHkpfWNhdGNoKHQpe31yZXR1cm4gSmd9dmFyIEpnLFFnPXt9LHR5PXt9O2Z1bmN0aW9uIGV5KHQsZSl7Zm9yKHZhciBuIGluIGUucHJvdG90eXBlKXRbbl09eHR9ZXkoUWcsaWQpLGV5KHR5LGxkKSxRZy5lYWNoU2VyaWVzQnlUeXBlPVFnLmVhY2hSYXdTZXJpZXNCeVR5cGU9ZnVuY3Rpb24odCl7Smc9dH0sUWcuZWFjaENvbXBvbmVudD1mdW5jdGlvbih0KXsic2VyaWVzIj09PXQubWFpblR5cGUmJnQuc3ViVHlwZSYmKEpnPXQuc3ViVHlwZSl9O3ZhciBueT1bIiMzN0EyREEiLCIjMzJDNUU5IiwiIzY3RTBFMyIsIiM5RkU2QjgiLCIjRkZEQjVDIiwiI2ZmOWY3ZiIsIiNmYjcyOTMiLCIjRTA2MkFFIiwiI0U2OTBEMSIsIiNlN2JjZjMiLCIjOWQ5NmY1IiwiIzgzNzhFQSIsIiM5NkJGRkYiXSxpeT17Y29sb3I6bnksY29sb3JMYXllcjpbWyIjMzdBMkRBIiwiI2ZmZDg1YyIsIiNmZDdiNWYiXSxbIiMzN0EyREEiLCIjNjdFMEUzIiwiI0ZGREI1QyIsIiNmZjlmN2YiLCIjRTA2MkFFIiwiIzlkOTZmNSJdLFsiIzM3QTJEQSIsIiMzMkM1RTkiLCIjOUZFNkI4IiwiI0ZGREI1QyIsIiNmZjlmN2YiLCIjZmI3MjkzIiwiI2U3YmNmMyIsIiM4Mzc4RUEiLCIjOTZCRkZGIl0sbnldfSxyeT0iI0I5QjhDRSIsb3k9IiMxMDBDMkEiLGF5PWZ1bmN0aW9uKCl7cmV0dXJue2F4aXNMaW5lOntsaW5lU3R5bGU6e2NvbG9yOnJ5fX0sc3BsaXRMaW5lOntsaW5lU3R5bGU6e2NvbG9yOiIjNDg0NzUzIn19LHNwbGl0QXJlYTp7YXJlYVN0eWxlOntjb2xvcjpbInJnYmEoMjU1LDI1NSwyNTUsMC4wMikiLCJyZ2JhKDI1NSwyNTUsMjU1LDAuMDUpIl19fSxtaW5vclNwbGl0TGluZTp7bGluZVN0eWxlOntjb2xvcjoiIzIwMjAzQiJ9fX19LHN5PVsiIzQ5OTJmZiIsIiM3Y2ZmYjIiLCIjZmRkZDYwIiwiI2ZmNmU3NiIsIiM1OGQ5ZjkiLCIjMDVjMDkxIiwiI2ZmOGE0NSIsIiM4ZDQ4ZTMiLCIjZGQ3OWZmIl0sbHk9e2RhcmtNb2RlOiEwLGNvbG9yOnN5LGJhY2tncm91bmRDb2xvcjpveSxheGlzUG9pbnRlcjp7bGluZVN0eWxlOntjb2xvcjoiIzgxN2Y5MSJ9LGNyb3NzU3R5bGU6e2NvbG9yOiIjODE3ZjkxIn0sbGFiZWw6e2NvbG9yOiIjZmZmIn19LGxlZ2VuZDp7dGV4dFN0eWxlOntjb2xvcjpyeX19LHRleHRTdHlsZTp7Y29sb3I6cnl9LHRpdGxlOnt0ZXh0U3R5bGU6e2NvbG9yOiIjRUVGMUZBIn0sc3VidGV4dFN0eWxlOntjb2xvcjoiI0I5QjhDRSJ9fSx0b29sYm94OntpY29uU3R5bGU6e2JvcmRlckNvbG9yOnJ5fX0sZGF0YVpvb206e2JvcmRlckNvbG9yOiIjNzE3MDhBIix0ZXh0U3R5bGU6e2NvbG9yOnJ5fSxicnVzaFN0eWxlOntjb2xvcjoicmdiYSgxMzUsMTYzLDIwNiwwLjMpIn0saGFuZGxlU3R5bGU6e2NvbG9yOiIjMzUzNDUwIixib3JkZXJDb2xvcjoiI0M1Q0JFMyJ9LG1vdmVIYW5kbGVTdHlsZTp7Y29sb3I6IiNCMEI2QzMiLG9wYWNpdHk6LjN9LGZpbGxlckNvbG9yOiJyZ2JhKDEzNSwxNjMsMjA2LDAuMikiLGVtcGhhc2lzOntoYW5kbGVTdHlsZTp7Ym9yZGVyQ29sb3I6IiM5MUI3RjIiLGNvbG9yOiIjNEQ1ODdEIn0sbW92ZUhhbmRsZVN0eWxlOntjb2xvcjoiIzYzNkQ5QSIsb3BhY2l0eTouN319LGRhdGFCYWNrZ3JvdW5kOntsaW5lU3R5bGU6e2NvbG9yOiIjNzE3MDhBIix3aWR0aDoxfSxhcmVhU3R5bGU6e2NvbG9yOiIjNzE3MDhBIn19LHNlbGVjdGVkRGF0YUJhY2tncm91bmQ6e2xpbmVTdHlsZTp7Y29sb3I6IiM4N0EzQ0UifSxhcmVhU3R5bGU6e2NvbG9yOiIjODdBM0NFIn19fSx2aXN1YWxNYXA6e3RleHRTdHlsZTp7Y29sb3I6cnl9fSx0aW1lbGluZTp7bGluZVN0eWxlOntjb2xvcjpyeX0sbGFiZWw6e2NvbG9yOnJ5fSxjb250cm9sU3R5bGU6e2NvbG9yOnJ5LGJvcmRlckNvbG9yOnJ5fX0sY2FsZW5kYXI6e2l0ZW1TdHlsZTp7Y29sb3I6b3l9LGRheUxhYmVsOntjb2xvcjpyeX0sbW9udGhMYWJlbDp7Y29sb3I6cnl9LHllYXJMYWJlbDp7Y29sb3I6cnl9fSx0aW1lQXhpczpheSgpLGxvZ0F4aXM6YXkoKSx2YWx1ZUF4aXM6YXkoKSxjYXRlZ29yeUF4aXM6YXkoKSxsaW5lOntzeW1ib2w6ImNpcmNsZSJ9LGdyYXBoOntjb2xvcjpzeX0sZ2F1Z2U6e3RpdGxlOntjb2xvcjpyeX0sYXhpc0xpbmU6e2xpbmVTdHlsZTp7Y29sb3I6W1sxLCJyZ2JhKDIwNywyMTIsMjE5LDAuMikiXV19fSxheGlzTGFiZWw6e2NvbG9yOnJ5fSxkZXRhaWw6e2NvbG9yOiIjRUVGMUZBIn19LGNhbmRsZXN0aWNrOntpdGVtU3R5bGU6e2NvbG9yOiIjZjY0ZTU2Iixjb2xvcjA6IiM1NGVhOTIiLGJvcmRlckNvbG9yOiIjZjY0ZTU2Iixib3JkZXJDb2xvcjA6IiM1NGVhOTIifX19O2x5LmNhdGVnb3J5QXhpcy5zcGxpdExpbmUuc2hvdz0hMTt2YXIgdXk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5ub3JtYWxpemVRdWVyeT1mdW5jdGlvbih0KXt2YXIgZT17fSxuPXt9LGk9e307aWYoWCh0KSl7dmFyIHI9Tm8odCk7ZS5tYWluVHlwZT1yLm1haW58fG51bGwsZS5zdWJUeXBlPXIuc3VifHxudWxsfWVsc2V7dmFyIG89WyJJbmRleCIsIk5hbWUiLCJJZCJdLGE9e25hbWU6MSxkYXRhSW5kZXg6MSxkYXRhVHlwZToxfTtFKHQsKGZ1bmN0aW9uKHQscil7Zm9yKHZhciBzPSExLGw9MDtsPG8ubGVuZ3RoO2wrKyl7dmFyIHU9b1tsXSxoPXIubGFzdEluZGV4T2YodSk7aWYoaD4wJiZoPT09ci5sZW5ndGgtdS5sZW5ndGgpe3ZhciBjPXIuc2xpY2UoMCxoKTsiZGF0YSIhPT1jJiYoZS5tYWluVHlwZT1jLGVbdS50b0xvd2VyQ2FzZSgpXT10LHM9ITApfX1hLmhhc093blByb3BlcnR5KHIpJiYobltyXT10LHM9ITApLHN8fChpW3JdPXQpfSkpfXJldHVybntjcHRRdWVyeTplLGRhdGFRdWVyeTpuLG90aGVyUXVlcnk6aX19LHQucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZXZlbnRJbmZvO2lmKCFuKXJldHVybiEwO3ZhciBpPW4udGFyZ2V0RWwscj1uLnBhY2tlZEV2ZW50LG89bi5tb2RlbCxhPW4udmlldztpZighb3x8IWEpcmV0dXJuITA7dmFyIHM9ZS5jcHRRdWVyeSxsPWUuZGF0YVF1ZXJ5O3JldHVybiB1KHMsbywibWFpblR5cGUiKSYmdShzLG8sInN1YlR5cGUiKSYmdShzLG8sImluZGV4IiwiY29tcG9uZW50SW5kZXgiKSYmdShzLG8sIm5hbWUiKSYmdShzLG8sImlkIikmJnUobCxyLCJuYW1lIikmJnUobCxyLCJkYXRhSW5kZXgiKSYmdShsLHIsImRhdGFUeXBlIikmJighYS5maWx0ZXJGb3JFeHBvc2VkRXZlbnR8fGEuZmlsdGVyRm9yRXhwb3NlZEV2ZW50KHQsZS5vdGhlclF1ZXJ5LGkscikpO2Z1bmN0aW9uIHUodCxlLG4saSl7cmV0dXJuIG51bGw9PXRbbl18fGVbaXx8bl09PT10W25dfX0sdC5wcm90b3R5cGUuYWZ0ZXJUcmlnZ2VyPWZ1bmN0aW9uKCl7dGhpcy5ldmVudEluZm89bnVsbH0sdH0oKSxoeT1bInN5bWJvbCIsInN5bWJvbFNpemUiLCJzeW1ib2xSb3RhdGUiLCJzeW1ib2xPZmZzZXQiXSxjeT1oeS5jb25jYXQoWyJzeW1ib2xLZWVwQXNwZWN0Il0pLHB5PXtjcmVhdGVPbkFsbFNlcmllczohMCxwZXJmb3JtUmF3U2VyaWVzOiEwLHJlc2V0OmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXREYXRhKCk7aWYodC5sZWdlbmRJY29uJiZuLnNldFZpc3VhbCgibGVnZW5kSWNvbiIsdC5sZWdlbmRJY29uKSx0Lmhhc1N5bWJvbFZpc3VhbCl7Zm9yKHZhciBpPXt9LHI9e30sbz0hMSxhPTA7YTxoeS5sZW5ndGg7YSsrKXt2YXIgcz1oeVthXSxsPXQuZ2V0KHMpO1UobCk/KG89ITAscltzXT1sKTppW3NdPWx9aWYoaS5zeW1ib2w9aS5zeW1ib2x8fHQuZGVmYXVsdFN5bWJvbCxuLnNldFZpc3VhbChBKHtsZWdlbmRJY29uOnQubGVnZW5kSWNvbnx8aS5zeW1ib2wsc3ltYm9sS2VlcEFzcGVjdDp0LmdldCgic3ltYm9sS2VlcEFzcGVjdCIpfSxpKSksIWUuaXNTZXJpZXNGaWx0ZXJlZCh0KSl7dmFyIHU9RyhyKTtyZXR1cm57ZGF0YUVhY2g6bz9mdW5jdGlvbihlLG4pe2Zvcih2YXIgaT10LmdldFJhd1ZhbHVlKG4pLG89dC5nZXREYXRhUGFyYW1zKG4pLGE9MDthPHUubGVuZ3RoO2ErKyl7dmFyIHM9dVthXTtlLnNldEl0ZW1WaXN1YWwobixzLHJbc10oaSxvKSl9fTpudWxsfX19fX0sZHk9e2NyZWF0ZU9uQWxsU2VyaWVzOiEwLHBlcmZvcm1SYXdTZXJpZXM6ITAscmVzZXQ6ZnVuY3Rpb24odCxlKXtpZih0Lmhhc1N5bWJvbFZpc3VhbCYmIWUuaXNTZXJpZXNGaWx0ZXJlZCh0KSlyZXR1cm57ZGF0YUVhY2g6dC5nZXREYXRhKCkuaGFzSXRlbU9wdGlvbj9mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10LmdldEl0ZW1Nb2RlbChlKSxpPTA7aTxjeS5sZW5ndGg7aSsrKXt2YXIgcj1jeVtpXSxvPW4uZ2V0U2hhbGxvdyhyLCEwKTtudWxsIT1vJiZ0LnNldEl0ZW1WaXN1YWwoZSxyLG8pfX06bnVsbH19fTtmdW5jdGlvbiBmeSh0LGUsbil7c3dpdGNoKG4pe2Nhc2UiY29sb3IiOnJldHVybiB0LmdldEl0ZW1WaXN1YWwoZSwic3R5bGUiKVt0LmdldFZpc3VhbCgiZHJhd1R5cGUiKV07Y2FzZSJvcGFjaXR5IjpyZXR1cm4gdC5nZXRJdGVtVmlzdWFsKGUsInN0eWxlIikub3BhY2l0eTtjYXNlInN5bWJvbCI6Y2FzZSJzeW1ib2xTaXplIjpjYXNlImxpZnRaIjpyZXR1cm4gdC5nZXRJdGVtVmlzdWFsKGUsbik7ZGVmYXVsdDowfX1mdW5jdGlvbiBneSh0LGUpe3N3aXRjaChlKXtjYXNlImNvbG9yIjpyZXR1cm4gdC5nZXRWaXN1YWwoInN0eWxlIilbdC5nZXRWaXN1YWwoImRyYXdUeXBlIildO2Nhc2Uib3BhY2l0eSI6cmV0dXJuIHQuZ2V0VmlzdWFsKCJzdHlsZSIpLm9wYWNpdHk7Y2FzZSJzeW1ib2wiOmNhc2Uic3ltYm9sU2l6ZSI6Y2FzZSJsaWZ0WiI6cmV0dXJuIHQuZ2V0VmlzdWFsKGUpO2RlZmF1bHQ6MH19ZnVuY3Rpb24geXkodCxlLG4saSl7c3dpdGNoKG4pe2Nhc2UiY29sb3IiOnQuZW5zdXJlVW5pcXVlSXRlbVZpc3VhbChlLCJzdHlsZSIpW3QuZ2V0VmlzdWFsKCJkcmF3VHlwZSIpXT1pLHQuc2V0SXRlbVZpc3VhbChlLCJjb2xvckZyb21QYWxldHRlIiwhMSk7YnJlYWs7Y2FzZSJvcGFjaXR5Ijp0LmVuc3VyZVVuaXF1ZUl0ZW1WaXN1YWwoZSwic3R5bGUiKS5vcGFjaXR5PWk7YnJlYWs7Y2FzZSJzeW1ib2wiOmNhc2Uic3ltYm9sU2l6ZSI6Y2FzZSJsaWZ0WiI6dC5zZXRJdGVtVmlzdWFsKGUsbixpKTticmVhaztkZWZhdWx0OjB9fWZ1bmN0aW9uIHZ5KHQsZSl7ZnVuY3Rpb24gbihlLG4pe3ZhciBpPVtdO3JldHVybiBlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJzZXJpZXMiLHN1YlR5cGU6dCxxdWVyeTpufSwoZnVuY3Rpb24odCl7aS5wdXNoKHQuc2VyaWVzSW5kZXgpfSkpLGl9RShbW3QrIlRvZ2dsZVNlbGVjdCIsInRvZ2dsZVNlbGVjdCJdLFt0KyJTZWxlY3QiLCJzZWxlY3QiXSxbdCsiVW5TZWxlY3QiLCJ1bnNlbGVjdCJdXSwoZnVuY3Rpb24odCl7ZSh0WzBdLChmdW5jdGlvbihlLGkscil7ZT1BKHt9LGUpLHIuZGlzcGF0Y2hBY3Rpb24oQShlLHt0eXBlOnRbMV0sc2VyaWVzSW5kZXg6bihpLGUpfSkpfSkpfSkpfWZ1bmN0aW9uIG15KHQsZSxuLGkscil7dmFyIG89dCtlO24uaXNTaWxlbnQobyl8fGkuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InNlcmllcyIsc3ViVHlwZToicGllIn0sKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnNlcmllc0luZGV4LGk9dC5vcHRpb24uc2VsZWN0ZWRNYXAsYT1yLnNlbGVjdGVkLHM9MDtzPGEubGVuZ3RoO3MrKylpZihhW3NdLnNlcmllc0luZGV4PT09ZSl7dmFyIGw9dC5nZXREYXRhKCksdT13byhsLHIuZnJvbUFjdGlvblBheWxvYWQpO24udHJpZ2dlcihvLHt0eXBlOm8sc2VyaWVzSWQ6dC5pZCxuYW1lOlkodSk/bC5nZXROYW1lKHVbMF0pOmwuZ2V0TmFtZSh1KSxzZWxlY3RlZDpYKGkpP2k6QSh7fSxpKX0pfX0pKX1mdW5jdGlvbiB4eSh0LGUsbil7Zm9yKHZhciBpO3QmJighZSh0KXx8KGk9dCwhbikpOyl0PXQuX19ob3N0VGFyZ2V0fHx0LnBhcmVudDtyZXR1cm4gaX12YXIgX3k9TWF0aC5yb3VuZCg5Kk1hdGgucmFuZG9tKCkpLGJ5PSJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydHksd3k9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5faWQ9Il9fZWNfaW5uZXJfIitfeSsrfXJldHVybiB0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2d1YXJkKHQpW3RoaXMuX2lkXX0sdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZ3VhcmQodCk7cmV0dXJuIGJ5P09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLHRoaXMuX2lkLHt2YWx1ZTplLGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk6blt0aGlzLl9pZF09ZSx0aGlzfSx0LnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLmhhcyh0KSYmKGRlbGV0ZSB0aGlzLl9ndWFyZCh0KVt0aGlzLl9pZF0sITApfSx0LnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLl9ndWFyZCh0KVt0aGlzLl9pZF19LHQucHJvdG90eXBlLl9ndWFyZD1mdW5jdGlvbih0KXtpZih0IT09T2JqZWN0KHQpKXRocm93IFR5cGVFcnJvcigiVmFsdWUgb2YgV2Vha01hcCBpcyBub3QgYSBub24tbnVsbCBvYmplY3QuIik7cmV0dXJuIHR9LHR9KCksU3k9Z3MuZXh0ZW5kKHt0eXBlOiJ0cmlhbmdsZSIsc2hhcGU6e2N4OjAsY3k6MCx3aWR0aDowLGhlaWdodDowfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmN4LGk9ZS5jeSxyPWUud2lkdGgvMixvPWUuaGVpZ2h0LzI7dC5tb3ZlVG8obixpLW8pLHQubGluZVRvKG4rcixpK28pLHQubGluZVRvKG4tcixpK28pLHQuY2xvc2VQYXRoKCl9fSksTXk9Z3MuZXh0ZW5kKHt0eXBlOiJkaWFtb25kIixzaGFwZTp7Y3g6MCxjeTowLHdpZHRoOjAsaGVpZ2h0OjB9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBuPWUuY3gsaT1lLmN5LHI9ZS53aWR0aC8yLG89ZS5oZWlnaHQvMjt0Lm1vdmVUbyhuLGktbyksdC5saW5lVG8obityLGkpLHQubGluZVRvKG4saStvKSx0LmxpbmVUbyhuLXIsaSksdC5jbG9zZVBhdGgoKX19KSxJeT1ncy5leHRlbmQoe3R5cGU6InBpbiIsc2hhcGU6e3g6MCx5OjAsd2lkdGg6MCxoZWlnaHQ6MH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS54LGk9ZS55LHI9ZS53aWR0aC81KjMsbz1NYXRoLm1heChyLGUuaGVpZ2h0KSxhPXIvMixzPWEqYS8oby1hKSxsPWktbythK3MsdT1NYXRoLmFzaW4ocy9hKSxoPU1hdGguY29zKHUpKmEsYz1NYXRoLnNpbih1KSxwPU1hdGguY29zKHUpLGQ9LjYqYSxmPS43KmE7dC5tb3ZlVG8obi1oLGwrcyksdC5hcmMobixsLGEsTWF0aC5QSS11LDIqTWF0aC5QSSt1KSx0LmJlemllckN1cnZlVG8obitoLWMqZCxsK3MrcCpkLG4saS1mLG4saSksdC5iZXppZXJDdXJ2ZVRvKG4saS1mLG4taCtjKmQsbCtzK3AqZCxuLWgsbCtzKSx0LmNsb3NlUGF0aCgpfX0pLFR5PWdzLmV4dGVuZCh7dHlwZToiYXJyb3ciLHNoYXBlOnt4OjAseTowLHdpZHRoOjAsaGVpZ2h0OjB9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBuPWUuaGVpZ2h0LGk9ZS53aWR0aCxyPWUueCxvPWUueSxhPWkvMyoyO3QubW92ZVRvKHIsbyksdC5saW5lVG8ocithLG8rbiksdC5saW5lVG8ocixvK24vNCozKSx0LmxpbmVUbyhyLWEsbytuKSx0LmxpbmVUbyhyLG8pLHQuY2xvc2VQYXRoKCl9fSksQ3k9e2xpbmU6ZnVuY3Rpb24odCxlLG4saSxyKXtyLngxPXQsci55MT1lK2kvMixyLngyPXQrbixyLnkyPWUraS8yfSxyZWN0OmZ1bmN0aW9uKHQsZSxuLGkscil7ci54PXQsci55PWUsci53aWR0aD1uLHIuaGVpZ2h0PWl9LHJvdW5kUmVjdDpmdW5jdGlvbih0LGUsbixpLHIpe3IueD10LHIueT1lLHIud2lkdGg9bixyLmhlaWdodD1pLHIucj1NYXRoLm1pbihuLGkpLzR9LHNxdWFyZTpmdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPU1hdGgubWluKG4saSk7ci54PXQsci55PWUsci53aWR0aD1vLHIuaGVpZ2h0PW99LGNpcmNsZTpmdW5jdGlvbih0LGUsbixpLHIpe3IuY3g9dCtuLzIsci5jeT1lK2kvMixyLnI9TWF0aC5taW4obixpKS8yfSxkaWFtb25kOmZ1bmN0aW9uKHQsZSxuLGkscil7ci5jeD10K24vMixyLmN5PWUraS8yLHIud2lkdGg9bixyLmhlaWdodD1pfSxwaW46ZnVuY3Rpb24odCxlLG4saSxyKXtyLng9dCtuLzIsci55PWUraS8yLHIud2lkdGg9bixyLmhlaWdodD1pfSxhcnJvdzpmdW5jdGlvbih0LGUsbixpLHIpe3IueD10K24vMixyLnk9ZStpLzIsci53aWR0aD1uLHIuaGVpZ2h0PWl9LHRyaWFuZ2xlOmZ1bmN0aW9uKHQsZSxuLGkscil7ci5jeD10K24vMixyLmN5PWUraS8yLHIud2lkdGg9bixyLmhlaWdodD1pfX0sRHk9e307RSh7bGluZTp6dSxyZWN0OkNzLHJvdW5kUmVjdDpDcyxzcXVhcmU6Q3MsY2lyY2xlOmh1LGRpYW1vbmQ6TXkscGluOkl5LGFycm93OlR5LHRyaWFuZ2xlOlN5fSwoZnVuY3Rpb24odCxlKXtEeVtlXT1uZXcgdH0pKTt2YXIgQXk9Z3MuZXh0ZW5kKHt0eXBlOiJzeW1ib2wiLHNoYXBlOntzeW1ib2xUeXBlOiIiLHg6MCx5OjAsd2lkdGg6MCxoZWlnaHQ6MH0sY2FsY3VsYXRlVGV4dFBvc2l0aW9uOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT15cih0LGUsbikscj10aGlzLnNoYXBlO3JldHVybiByJiYicGluIj09PXIuc3ltYm9sVHlwZSYmImluc2lkZSI9PT1lLnBvc2l0aW9uJiYoaS55PW4ueSsuNCpuLmhlaWdodCksaX0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lLnN5bWJvbFR5cGU7aWYoIm5vbmUiIT09aSl7dmFyIHI9RHlbaV07cnx8KHI9RHlbaT0icmVjdCJdKSxDeVtpXShlLngsZS55LGUud2lkdGgsZS5oZWlnaHQsci5zaGFwZSksci5idWlsZFBhdGgodCxyLnNoYXBlLG4pfX19KTtmdW5jdGlvbiBreSh0LGUpe2lmKCJpbWFnZSIhPT10aGlzLnR5cGUpe3ZhciBuPXRoaXMuc3R5bGU7dGhpcy5fX2lzRW1wdHlCcnVzaD8obi5zdHJva2U9dCxuLmZpbGw9ZXx8IiNmZmYiLG4ubGluZVdpZHRoPTIpOiJsaW5lIj09PXRoaXMuc2hhcGUuc3ltYm9sVHlwZT9uLnN0cm9rZT10Om4uZmlsbD10LHRoaXMubWFya1JlZHJhdygpfX1mdW5jdGlvbiBMeSh0LGUsbixpLHIsbyxhKXt2YXIgcyxsPTA9PT10LmluZGV4T2YoImVtcHR5Iik7cmV0dXJuIGwmJih0PXQuc3Vic3RyKDUsMSkudG9Mb3dlckNhc2UoKSt0LnN1YnN0cig2KSksKHM9MD09PXQuaW5kZXhPZigiaW1hZ2U6Ly8iKT9faCh0LnNsaWNlKDgpLG5ldyBzcihlLG4saSxyKSxhPyJjZW50ZXIiOiJjb3ZlciIpOjA9PT10LmluZGV4T2YoInBhdGg6Ly8iKT94aCh0LnNsaWNlKDcpLHt9LG5ldyBzcihlLG4saSxyKSxhPyJjZW50ZXIiOiJjb3ZlciIpOm5ldyBBeSh7c2hhcGU6e3N5bWJvbFR5cGU6dCx4OmUseTpuLHdpZHRoOmksaGVpZ2h0OnJ9fSkpLl9faXNFbXB0eUJydXNoPWwscy5zZXRDb2xvcj1reSxvJiZzLnNldENvbG9yKG8pLHN9ZnVuY3Rpb24gUHkodCl7cmV0dXJuIFkodCl8fCh0PVsrdCwrdF0pLFt0WzBdfHwwLHRbMV18fDBdfWZ1bmN0aW9uIE95KHQsZSl7aWYobnVsbCE9dClyZXR1cm4gWSh0KXx8KHQ9W3QsdF0pLFtFcih0WzBdLGVbMF0pfHwwLEVyKHJ0KHRbMV0sdFswXSksZVsxXSl8fDBdfWZ1bmN0aW9uIFJ5KHQsZSxuKXtmb3IodmFyIGk9InJhZGlhbCI9PT1lLnR5cGU/ZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4ud2lkdGgscj1uLmhlaWdodCxvPU1hdGgubWluKGksciksYT1udWxsPT1lLng/LjU6ZS54LHM9bnVsbD09ZS55Py41OmUueSxsPW51bGw9PWUucj8uNTplLnI7cmV0dXJuIGUuZ2xvYmFsfHwoYT1hKmkrbi54LHM9cypyK24ueSxsKj1vKSx0LmNyZWF0ZVJhZGlhbEdyYWRpZW50KGEscywwLGEscyxsKX0odCxlLG4pOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1udWxsPT1lLng/MDplLngscj1udWxsPT1lLngyPzE6ZS54MixvPW51bGw9PWUueT8wOmUueSxhPW51bGw9PWUueTI/MDplLnkyO3JldHVybiBlLmdsb2JhbHx8KGk9aSpuLndpZHRoK24ueCxyPXIqbi53aWR0aCtuLngsbz1vKm4uaGVpZ2h0K24ueSxhPWEqbi5oZWlnaHQrbi55KSxpPWlzTmFOKGkpPzA6aSxyPWlzTmFOKHIpPzE6cixvPWlzTmFOKG8pPzA6byxhPWlzTmFOKGEpPzA6YSx0LmNyZWF0ZUxpbmVhckdyYWRpZW50KGksbyxyLGEpfSh0LGUsbikscj1lLmNvbG9yU3RvcHMsbz0wO288ci5sZW5ndGg7bysrKWkuYWRkQ29sb3JTdG9wKHJbb10ub2Zmc2V0LHJbb10uY29sb3IpO3JldHVybiBpfWZ1bmN0aW9uIE55KHQpe3JldHVybiBwYXJzZUludCh0LDEwKX1mdW5jdGlvbiBFeSh0LGUsbil7dmFyIGk9WyJ3aWR0aCIsImhlaWdodCJdW2VdLHI9WyJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCJdW2VdLG89WyJwYWRkaW5nTGVmdCIsInBhZGRpbmdUb3AiXVtlXSxhPVsicGFkZGluZ1JpZ2h0IiwicGFkZGluZ0JvdHRvbSJdW2VdO2lmKG51bGwhPW5baV0mJiJhdXRvIiE9PW5baV0pcmV0dXJuIHBhcnNlRmxvYXQobltpXSk7dmFyIHM9ZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0KTtyZXR1cm4odFtyXXx8Tnkoc1tpXSl8fE55KHQuc3R5bGVbaV0pKS0oTnkoc1tvXSl8fDApLShOeShzW2FdKXx8MCl8MH1mdW5jdGlvbiB6eSh0KXt2YXIgZSxuLGk9dC5zdHlsZSxyPWkubGluZURhc2gmJmkubGluZVdpZHRoPjAmJihlPWkubGluZURhc2gsbj1pLmxpbmVXaWR0aCxlJiYic29saWQiIT09ZSYmbj4wPyJkYXNoZWQiPT09ZT9bNCpuLDIqbl06ImRvdHRlZCI9PT1lP1tuXTpqKGUpP1tlXTpZKGUpP2U6bnVsbDpudWxsKSxvPWkubGluZURhc2hPZmZzZXQ7aWYocil7dmFyIGE9aS5zdHJva2VOb1NjYWxlJiZ0LmdldExpbmVTY2FsZT90LmdldExpbmVTY2FsZSgpOjE7YSYmMSE9PWEmJihyPXoociwoZnVuY3Rpb24odCl7cmV0dXJuIHQvYX0pKSxvLz1hKX1yZXR1cm5bcixvXX12YXIgVnk9bmV3IHFhKCEwKTtmdW5jdGlvbiBCeSh0KXt2YXIgZT10LnN0cm9rZTtyZXR1cm4hKG51bGw9PWV8fCJub25lIj09PWV8fCEodC5saW5lV2lkdGg+MCkpfWZ1bmN0aW9uIEZ5KHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdCYmIm5vbmUiIT09dH1mdW5jdGlvbiBHeSh0KXt2YXIgZT10LmZpbGw7cmV0dXJuIG51bGwhPWUmJiJub25lIiE9PWV9ZnVuY3Rpb24gV3kodCxlKXtpZihudWxsIT1lLmZpbGxPcGFjaXR5JiYxIT09ZS5maWxsT3BhY2l0eSl7dmFyIG49dC5nbG9iYWxBbHBoYTt0Lmdsb2JhbEFscGhhPWUuZmlsbE9wYWNpdHkqZS5vcGFjaXR5LHQuZmlsbCgpLHQuZ2xvYmFsQWxwaGE9bn1lbHNlIHQuZmlsbCgpfWZ1bmN0aW9uIEh5KHQsZSl7aWYobnVsbCE9ZS5zdHJva2VPcGFjaXR5JiYxIT09ZS5zdHJva2VPcGFjaXR5KXt2YXIgbj10Lmdsb2JhbEFscGhhO3QuZ2xvYmFsQWxwaGE9ZS5zdHJva2VPcGFjaXR5KmUub3BhY2l0eSx0LnN0cm9rZSgpLHQuZ2xvYmFsQWxwaGE9bn1lbHNlIHQuc3Ryb2tlKCl9ZnVuY3Rpb24gWXkodCxlLG4pe3ZhciBpPVpvKGUuaW1hZ2UsZS5fX2ltYWdlLG4pO2lmKHFvKGkpKXt2YXIgcj10LmNyZWF0ZVBhdHRlcm4oaSxlLnJlcGVhdHx8InJlcGVhdCIpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBET01NYXRyaXgmJnImJnIuc2V0VHJhbnNmb3JtKXt2YXIgbz1uZXcgRE9NTWF0cml4O28udHJhbnNsYXRlU2VsZihlLnh8fDAsZS55fHwwKSxvLnJvdGF0ZVNlbGYoMCwwLChlLnJvdGF0aW9ufHwwKSpfdCksby5zY2FsZVNlbGYoZS5zY2FsZVh8fDEsZS5zY2FsZVl8fDEpLHIuc2V0VHJhbnNmb3JtKG8pfXJldHVybiByfX12YXIgVXk9WyJzaGFkb3dCbHVyIiwic2hhZG93T2Zmc2V0WCIsInNoYWRvd09mZnNldFkiXSxYeT1bWyJsaW5lQ2FwIiwiYnV0dCJdLFsibGluZUpvaW4iLCJtaXRlciJdLFsibWl0ZXJMaW1pdCIsMTBdXTtmdW5jdGlvbiBaeSh0LGUsbixpLHIpe3ZhciBvPSExO2lmKCFpJiZlPT09KG49bnx8e30pKXJldHVybiExO2lmKGl8fGUub3BhY2l0eSE9PW4ub3BhY2l0eSl7S3kodCxyKSxvPSEwO3ZhciBhPU1hdGgubWF4KE1hdGgubWluKGUub3BhY2l0eSwxKSwwKTt0Lmdsb2JhbEFscGhhPWlzTmFOKGEpP3VhLm9wYWNpdHk6YX0oaXx8ZS5ibGVuZCE9PW4uYmxlbmQpJiYob3x8KEt5KHQsciksbz0hMCksdC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249ZS5ibGVuZHx8dWEuYmxlbmQpO2Zvcih2YXIgcz0wO3M8VXkubGVuZ3RoO3MrKyl7dmFyIGw9VXlbc107KGl8fGVbbF0hPT1uW2xdKSYmKG98fChLeSh0LHIpLG89ITApLHRbbF09dC5kcHIqKGVbbF18fDApKX1yZXR1cm4oaXx8ZS5zaGFkb3dDb2xvciE9PW4uc2hhZG93Q29sb3IpJiYob3x8KEt5KHQsciksbz0hMCksdC5zaGFkb3dDb2xvcj1lLnNoYWRvd0NvbG9yfHx1YS5zaGFkb3dDb2xvciksb31mdW5jdGlvbiBqeSh0LGUsbixpLHIpe3ZhciBvPSR5KGUsci5pbkhvdmVyKSxhPWk/bnVsbDpuJiYkeShuLHIuaW5Ib3Zlcil8fHt9O2lmKG89PT1hKXJldHVybiExO3ZhciBzPVp5KHQsbyxhLGkscik7aWYoKGl8fG8uZmlsbCE9PWEuZmlsbCkmJihzfHwoS3kodCxyKSxzPSEwKSxGeShvLmZpbGwpJiYodC5maWxsU3R5bGU9by5maWxsKSksKGl8fG8uc3Ryb2tlIT09YS5zdHJva2UpJiYoc3x8KEt5KHQscikscz0hMCksRnkoby5zdHJva2UpJiYodC5zdHJva2VTdHlsZT1vLnN0cm9rZSkpLChpfHxvLm9wYWNpdHkhPT1hLm9wYWNpdHkpJiYoc3x8KEt5KHQscikscz0hMCksdC5nbG9iYWxBbHBoYT1udWxsPT1vLm9wYWNpdHk/MTpvLm9wYWNpdHkpLGUuaGFzU3Ryb2tlKCkpe3ZhciBsPW8ubGluZVdpZHRoLyhvLnN0cm9rZU5vU2NhbGUmJmUuZ2V0TGluZVNjYWxlP2UuZ2V0TGluZVNjYWxlKCk6MSk7dC5saW5lV2lkdGghPT1sJiYoc3x8KEt5KHQscikscz0hMCksdC5saW5lV2lkdGg9bCl9Zm9yKHZhciB1PTA7dTxYeS5sZW5ndGg7dSsrKXt2YXIgaD1YeVt1XSxjPWhbMF07KGl8fG9bY10hPT1hW2NdKSYmKHN8fChLeSh0LHIpLHM9ITApLHRbY109b1tjXXx8aFsxXSl9cmV0dXJuIHN9ZnVuY3Rpb24gcXkodCxlKXt2YXIgbj1lLnRyYW5zZm9ybSxpPXQuZHByfHwxO24/dC5zZXRUcmFuc2Zvcm0oaSpuWzBdLGkqblsxXSxpKm5bMl0saSpuWzNdLGkqbls0XSxpKm5bNV0pOnQuc2V0VHJhbnNmb3JtKGksMCwwLGksMCwwKX1mdW5jdGlvbiBLeSh0LGUpe2UuYmF0Y2hGaWxsJiZ0LmZpbGwoKSxlLmJhdGNoU3Ryb2tlJiZ0LnN0cm9rZSgpLGUuYmF0Y2hGaWxsPSIiLGUuYmF0Y2hTdHJva2U9IiJ9ZnVuY3Rpb24gJHkodCxlKXtyZXR1cm4gZSYmdC5fX2hvdmVyU3R5bGV8fHQuc3R5bGV9ZnVuY3Rpb24gSnkodCxlKXtReSh0LGUse2luSG92ZXI6ITEsdmlld1dpZHRoOjAsdmlld0hlaWdodDowfSwhMCl9ZnVuY3Rpb24gUXkodCxlLG4saSl7dmFyIHI9ZS50cmFuc2Zvcm07aWYoIWUuc2hvdWxkQmVQYWludGVkKG4udmlld1dpZHRoLG4udmlld0hlaWdodCwhMSwhMSkpcmV0dXJuIGUuX19kaXJ0eSY9LTIsdm9pZChlLl9faXNSZW5kZXJlZD0hMSk7dmFyIG89ZS5fX2NsaXBQYXRocyxzPW4ucHJldkVsQ2xpcFBhdGhzLGw9ITEsdT0hMTtpZihzJiYhZnVuY3Rpb24odCxlKXtpZih0PT09ZXx8IXQmJiFlKXJldHVybiExO2lmKCF0fHwhZXx8dC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMDtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylpZih0W25dIT09ZVtuXSlyZXR1cm4hMDtyZXR1cm4hMX0obyxzKXx8KHMmJnMubGVuZ3RoJiYoS3kodCxuKSx0LnJlc3RvcmUoKSx1PWw9ITAsbi5wcmV2RWxDbGlwUGF0aHM9bnVsbCxuLmFsbENsaXBwZWQ9ITEsbi5wcmV2RWw9bnVsbCksbyYmby5sZW5ndGgmJihLeSh0LG4pLHQuc2F2ZSgpLGZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9ITEscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO2k9aXx8by5pc1plcm9BcmVhKCkscXkoZSxvKSxlLmJlZ2luUGF0aCgpLG8uYnVpbGRQYXRoKGUsby5zaGFwZSksZS5jbGlwKCl9bi5hbGxDbGlwcGVkPWl9KG8sdCxuKSxsPSEwKSxuLnByZXZFbENsaXBQYXRocz1vKSxuLmFsbENsaXBwZWQpZS5fX2lzUmVuZGVyZWQ9ITE7ZWxzZXtlLmJlZm9yZUJydXNoJiZlLmJlZm9yZUJydXNoKCksZS5pbm5lckJlZm9yZUJydXNoKCk7dmFyIGg9bi5wcmV2RWw7aHx8KHU9bD0hMCk7dmFyIGMscCxkPWUgaW5zdGFuY2VvZiBncyYmZS5hdXRvQmF0Y2gmJmZ1bmN0aW9uKHQpe3ZhciBlPUd5KHQpLG49QnkodCk7cmV0dXJuISh0LmxpbmVEYXNofHwhKCtlXituKXx8ZSYmInN0cmluZyIhPXR5cGVvZiB0LmZpbGx8fG4mJiJzdHJpbmciIT10eXBlb2YgdC5zdHJva2V8fHQuc3Ryb2tlUGVyY2VudDwxfHx0LnN0cm9rZU9wYWNpdHk8MXx8dC5maWxsT3BhY2l0eTwxKX0oZS5zdHlsZSk7bHx8KGM9cixwPWgudHJhbnNmb3JtLGMmJnA/Y1swXSE9PXBbMF18fGNbMV0hPT1wWzFdfHxjWzJdIT09cFsyXXx8Y1szXSE9PXBbM118fGNbNF0hPT1wWzRdfHxjWzVdIT09cFs1XTpjfHxwKT8oS3kodCxuKSxxeSh0LGUpKTpkfHxLeSh0LG4pO3ZhciBmPSR5KGUsbi5pbkhvdmVyKTtlIGluc3RhbmNlb2YgZ3M/KDEhPT1uLmxhc3REcmF3VHlwZSYmKHU9ITAsbi5sYXN0RHJhd1R5cGU9MSksankodCxlLGgsdSxuKSxkJiYobi5iYXRjaEZpbGx8fG4uYmF0Y2hTdHJva2UpfHx0LmJlZ2luUGF0aCgpLGZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByLG89QnkobiksYT1HeShuKSxzPW4uc3Ryb2tlUGVyY2VudCxsPXM8MSx1PSFlLnBhdGg7ZS5zaWxlbnQmJiFsfHwhdXx8ZS5jcmVhdGVQYXRoUHJveHkoKTt2YXIgaD1lLnBhdGh8fFZ5LGM9ZS5fX2RpcnR5O2lmKCFpKXt2YXIgcD1uLmZpbGwsZD1uLnN0cm9rZSxmPWEmJiEhcC5jb2xvclN0b3BzLGc9byYmISFkLmNvbG9yU3RvcHMseT1hJiYhIXAuaW1hZ2Usdj1vJiYhIWQuaW1hZ2UsbT12b2lkIDAseD12b2lkIDAsXz12b2lkIDAsYj12b2lkIDAsdz12b2lkIDA7KGZ8fGcpJiYodz1lLmdldEJvdW5kaW5nUmVjdCgpKSxmJiYobT1jP1J5KHQscCx3KTplLl9fY2FudmFzRmlsbEdyYWRpZW50LGUuX19jYW52YXNGaWxsR3JhZGllbnQ9bSksZyYmKHg9Yz9SeSh0LGQsdyk6ZS5fX2NhbnZhc1N0cm9rZUdyYWRpZW50LGUuX19jYW52YXNTdHJva2VHcmFkaWVudD14KSx5JiYoXz1jfHwhZS5fX2NhbnZhc0ZpbGxQYXR0ZXJuP1l5KHQscCxlKTplLl9fY2FudmFzRmlsbFBhdHRlcm4sZS5fX2NhbnZhc0ZpbGxQYXR0ZXJuPV8pLHYmJihiPWN8fCFlLl9fY2FudmFzU3Ryb2tlUGF0dGVybj9ZeSh0LGQsZSk6ZS5fX2NhbnZhc1N0cm9rZVBhdHRlcm4sZS5fX2NhbnZhc1N0cm9rZVBhdHRlcm49XyksZj90LmZpbGxTdHlsZT1tOnkmJihfP3QuZmlsbFN0eWxlPV86YT0hMSksZz90LnN0cm9rZVN0eWxlPXg6diYmKGI/dC5zdHJva2VTdHlsZT1iOm89ITEpfXZhciBTLE0sST1lLmdldEdsb2JhbFNjYWxlKCk7aC5zZXRTY2FsZShJWzBdLElbMV0sZS5zZWdtZW50SWdub3JlVGhyZXNob2xkKSx0LnNldExpbmVEYXNoJiZuLmxpbmVEYXNoJiYoUz0ocj16eShlKSlbMF0sTT1yWzFdKTt2YXIgVD0hMDsodXx8NCZjKSYmKGguc2V0RFBSKHQuZHByKSxsP2guc2V0Q29udGV4dChudWxsKTooaC5zZXRDb250ZXh0KHQpLFQ9ITEpLGgucmVzZXQoKSxlLmJ1aWxkUGF0aChoLGUuc2hhcGUsaSksaC50b1N0YXRpYygpLGUucGF0aFVwZGF0ZWQoKSksVCYmaC5yZWJ1aWxkUGF0aCh0LGw/czoxKSxTJiYodC5zZXRMaW5lRGFzaChTKSx0LmxpbmVEYXNoT2Zmc2V0PU0pLGl8fChuLnN0cm9rZUZpcnN0PyhvJiZIeSh0LG4pLGEmJld5KHQsbikpOihhJiZXeSh0LG4pLG8mJkh5KHQsbikpKSxTJiZ0LnNldExpbmVEYXNoKFtdKX0odCxlLGYsZCksZCYmKG4uYmF0Y2hGaWxsPWYuZmlsbHx8IiIsbi5iYXRjaFN0cm9rZT1mLnN0cm9rZXx8IiIpKTplIGluc3RhbmNlb2YgdnM/KDMhPT1uLmxhc3REcmF3VHlwZSYmKHU9ITAsbi5sYXN0RHJhd1R5cGU9MyksankodCxlLGgsdSxuKSxmdW5jdGlvbih0LGUsbil7dmFyIGkscj1uLnRleHQ7aWYobnVsbCE9ciYmKHIrPSIiKSxyKXt0LmZvbnQ9bi5mb250fHxhLHQudGV4dEFsaWduPW4udGV4dEFsaWduLHQudGV4dEJhc2VsaW5lPW4udGV4dEJhc2VsaW5lO3ZhciBvPXZvaWQgMCxzPXZvaWQgMDt0LnNldExpbmVEYXNoJiZuLmxpbmVEYXNoJiYobz0oaT16eShlKSlbMF0scz1pWzFdKSxvJiYodC5zZXRMaW5lRGFzaChvKSx0LmxpbmVEYXNoT2Zmc2V0PXMpLG4uc3Ryb2tlRmlyc3Q/KEJ5KG4pJiZ0LnN0cm9rZVRleHQocixuLngsbi55KSxHeShuKSYmdC5maWxsVGV4dChyLG4ueCxuLnkpKTooR3kobikmJnQuZmlsbFRleHQocixuLngsbi55KSxCeShuKSYmdC5zdHJva2VUZXh0KHIsbi54LG4ueSkpLG8mJnQuc2V0TGluZURhc2goW10pfX0odCxlLGYpKTplIGluc3RhbmNlb2YgX3M/KDIhPT1uLmxhc3REcmF3VHlwZSYmKHU9ITAsbi5sYXN0RHJhd1R5cGU9MiksZnVuY3Rpb24odCxlLG4saSxyKXtaeSh0LCR5KGUsci5pbkhvdmVyKSxuJiYkeShuLHIuaW5Ib3ZlciksaSxyKX0odCxlLGgsdSxuKSxmdW5jdGlvbih0LGUsbil7dmFyIGk9ZS5fX2ltYWdlPVpvKG4uaW1hZ2UsZS5fX2ltYWdlLGUsZS5vbmxvYWQpO2lmKGkmJnFvKGkpKXt2YXIgcj1uLnh8fDAsbz1uLnl8fDAsYT1lLmdldFdpZHRoKCkscz1lLmdldEhlaWdodCgpLGw9aS53aWR0aC9pLmhlaWdodDtpZihudWxsPT1hJiZudWxsIT1zP2E9cypsOm51bGw9PXMmJm51bGwhPWE/cz1hL2w6bnVsbD09YSYmbnVsbD09cyYmKGE9aS53aWR0aCxzPWkuaGVpZ2h0KSxuLnNXaWR0aCYmbi5zSGVpZ2h0KXt2YXIgdT1uLnN4fHwwLGg9bi5zeXx8MDt0LmRyYXdJbWFnZShpLHUsaCxuLnNXaWR0aCxuLnNIZWlnaHQscixvLGEscyl9ZWxzZSBpZihuLnN4JiZuLnN5KXt2YXIgYz1hLSh1PW4uc3gpLHA9cy0oaD1uLnN5KTt0LmRyYXdJbWFnZShpLHUsaCxjLHAscixvLGEscyl9ZWxzZSB0LmRyYXdJbWFnZShpLHIsbyxhLHMpfX0odCxlLGYpKTplLmdldFRlbXBvcmFsRGlzcGxheWFibGVzJiYoNCE9PW4ubGFzdERyYXdUeXBlJiYodT0hMCxuLmxhc3REcmF3VHlwZT00KSxmdW5jdGlvbih0LGUsbil7dmFyIGk9ZS5nZXREaXNwbGF5YWJsZXMoKSxyPWUuZ2V0VGVtcG9yYWxEaXNwbGF5YWJsZXMoKTt0LnNhdmUoKTt2YXIgbyxhLHM9e3ByZXZFbENsaXBQYXRoczpudWxsLHByZXZFbDpudWxsLGFsbENsaXBwZWQ6ITEsdmlld1dpZHRoOm4udmlld1dpZHRoLHZpZXdIZWlnaHQ6bi52aWV3SGVpZ2h0LGluSG92ZXI6bi5pbkhvdmVyfTtmb3Iobz1lLmdldEN1cnNvcigpLGE9aS5sZW5ndGg7bzxhO28rKyl7KGg9aVtvXSkuYmVmb3JlQnJ1c2gmJmguYmVmb3JlQnJ1c2goKSxoLmlubmVyQmVmb3JlQnJ1c2goKSxReSh0LGgscyxvPT09YS0xKSxoLmlubmVyQWZ0ZXJCcnVzaCgpLGguYWZ0ZXJCcnVzaCYmaC5hZnRlckJydXNoKCkscy5wcmV2RWw9aH1mb3IodmFyIGw9MCx1PXIubGVuZ3RoO2w8dTtsKyspe3ZhciBoOyhoPXJbbF0pLmJlZm9yZUJydXNoJiZoLmJlZm9yZUJydXNoKCksaC5pbm5lckJlZm9yZUJydXNoKCksUXkodCxoLHMsbD09PXUtMSksaC5pbm5lckFmdGVyQnJ1c2goKSxoLmFmdGVyQnJ1c2gmJmguYWZ0ZXJCcnVzaCgpLHMucHJldkVsPWh9ZS5jbGVhclRlbXBvcmFsRGlzcGxheWFibGVzKCksZS5ub3RDbGVhcj0hMCx0LnJlc3RvcmUoKX0odCxlLG4pKSxkJiZpJiZLeSh0LG4pLGUuaW5uZXJBZnRlckJydXNoKCksZS5hZnRlckJydXNoJiZlLmFmdGVyQnJ1c2goKSxuLnByZXZFbD1lLGUuX19kaXJ0eT0wLGUuX19pc1JlbmRlcmVkPSEwfX12YXIgdHY9bmV3IHd5LGV2PW5ldyBsbigxMDApLG52PVsic3ltYm9sIiwic3ltYm9sU2l6ZSIsInN5bWJvbEtlZXBBc3BlY3QiLCJjb2xvciIsImJhY2tncm91bmRDb2xvciIsImRhc2hBcnJheVgiLCJkYXNoQXJyYXlZIiwibWF4VGlsZVdpZHRoIiwibWF4VGlsZUhlaWdodCJdO2Z1bmN0aW9uIGl2KHQsZSl7aWYoIm5vbmUiPT09dClyZXR1cm4gbnVsbDt2YXIgbj1lLmdldERldmljZVBpeGVsUmF0aW8oKSxpPWUuZ2V0WnIoKSxyPSJzdmciPT09aS5wYWludGVyLnR5cGU7dC5kaXJ0eSYmdHYuZGVsZXRlKHQpO3ZhciBvPXR2LmdldCh0KTtpZihvKXJldHVybiBvO3ZhciBhPWsodCx7c3ltYm9sOiJyZWN0IixzeW1ib2xTaXplOjEsc3ltYm9sS2VlcEFzcGVjdDohMCxjb2xvcjoicmdiYSgwLCAwLCAwLCAwLjIpIixiYWNrZ3JvdW5kQ29sb3I6bnVsbCxkYXNoQXJyYXlYOjUsZGFzaEFycmF5WTo1LHJvdGF0aW9uOjAsbWF4VGlsZVdpZHRoOjUxMixtYXhUaWxlSGVpZ2h0OjUxMn0pOyJub25lIj09PWEuYmFja2dyb3VuZENvbG9yJiYoYS5iYWNrZ3JvdW5kQ29sb3I9bnVsbCk7dmFyIHM9e3JlcGVhdDoicmVwZWF0In07cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxvPVtuXSxzPSEwLGw9MDtsPG52Lmxlbmd0aDsrK2wpe3ZhciB1PWFbbnZbbF1dO2lmKG51bGwhPXUmJiFZKHUpJiYhWCh1KSYmIWoodSkmJiJib29sZWFuIiE9dHlwZW9mIHUpe3M9ITE7YnJlYWt9by5wdXNoKHUpfWlmKHMpe2U9by5qb2luKCIsIikrKHI/Ii1zdmciOiIiKTt2YXIgYz1ldi5nZXQoZSk7YyYmKHI/dC5zdmdFbGVtZW50PWM6dC5pbWFnZT1jKX12YXIgcCxkPW92KGEuZGFzaEFycmF5WCksZj1mdW5jdGlvbih0KXtpZighdHx8Im9iamVjdCI9PXR5cGVvZiB0JiYwPT09dC5sZW5ndGgpcmV0dXJuWzAsMF07aWYoaih0KSl7dmFyIGU9TWF0aC5jZWlsKHQpO3JldHVybltlLGVdfXZhciBuPXoodCwoZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguY2VpbCh0KX0pKTtyZXR1cm4gdC5sZW5ndGglMj9uLmNvbmNhdChuKTpufShhLmRhc2hBcnJheVkpLGc9cnYoYS5zeW1ib2wpLHk9KGI9ZCx6KGIsKGZ1bmN0aW9uKHQpe3JldHVybiBhdih0KX0pKSksdj1hdihmKSxtPSFyJiZoLmNyZWF0ZUNhbnZhcygpLHg9ciYme3RhZzoiZyIsYXR0cnM6e30sa2V5OiJkY2wiLGNoaWxkcmVuOltdfSxfPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTEsZT0wLG49eS5sZW5ndGg7ZTxuOysrZSl0PXJvKHQseVtlXSk7dmFyIGk9MTtmb3IoZT0wLG49Zy5sZW5ndGg7ZTxuOysrZSlpPXJvKGksZ1tlXS5sZW5ndGgpO3QqPWk7dmFyIHI9dip5Lmxlbmd0aCpnLmxlbmd0aDtyZXR1cm57d2lkdGg6TWF0aC5tYXgoMSxNYXRoLm1pbih0LGEubWF4VGlsZVdpZHRoKSksaGVpZ2h0Ok1hdGgubWF4KDEsTWF0aC5taW4ocixhLm1heFRpbGVIZWlnaHQpKX19KCk7dmFyIGI7bSYmKG0ud2lkdGg9Xy53aWR0aCpuLG0uaGVpZ2h0PV8uaGVpZ2h0Km4scD1tLmdldENvbnRleHQoIjJkIikpOyhmdW5jdGlvbigpe3AmJihwLmNsZWFyUmVjdCgwLDAsbS53aWR0aCxtLmhlaWdodCksYS5iYWNrZ3JvdW5kQ29sb3ImJihwLmZpbGxTdHlsZT1hLmJhY2tncm91bmRDb2xvcixwLmZpbGxSZWN0KDAsMCxtLndpZHRoLG0uaGVpZ2h0KSkpO2Zvcih2YXIgdD0wLGU9MDtlPGYubGVuZ3RoOysrZSl0Kz1mW2VdO2lmKHQ8PTApcmV0dXJuO3ZhciBvPS12LHM9MCxsPTAsdT0wO2Zvcig7bzxfLmhlaWdodDspe2lmKHMlMj09MCl7Zm9yKHZhciBoPWwvMiVnLmxlbmd0aCxjPTAseT0wLGI9MDtjPDIqXy53aWR0aDspe3ZhciB3PTA7Zm9yKGU9MDtlPGRbdV0ubGVuZ3RoOysrZSl3Kz1kW3VdW2VdO2lmKHc8PTApYnJlYWs7aWYoeSUyPT0wKXt2YXIgUz0uNSooMS1hLnN5bWJvbFNpemUpLE09YytkW3VdW3ldKlMsST1vK2Zbc10qUyxUPWRbdV1beV0qYS5zeW1ib2xTaXplLEM9ZltzXSphLnN5bWJvbFNpemUsRD1iLzIlZ1toXS5sZW5ndGg7QShNLEksVCxDLGdbaF1bRF0pfWMrPWRbdV1beV0sKytiLCsreT09PWRbdV0ubGVuZ3RoJiYoeT0wKX0rK3U9PT1kLmxlbmd0aCYmKHU9MCl9bys9ZltzXSwrK2wsKytzPT09Zi5sZW5ndGgmJihzPTApfWZ1bmN0aW9uIEEodCxlLG8scyxsKXt2YXIgdT1yPzE6bixoPUx5KGwsdCp1LGUqdSxvKnUscyp1LGEuY29sb3IsYS5zeW1ib2xLZWVwQXNwZWN0KTtpZihyKXt2YXIgYz1pLnBhaW50ZXIucmVuZGVyT25lVG9WTm9kZShoKTtjJiZ4LmNoaWxkcmVuLnB1c2goYyl9ZWxzZSBKeShwLGgpfX0pKCkscyYmZXYucHV0KGUsbXx8eCk7dC5pbWFnZT1tLHQuc3ZnRWxlbWVudD14LHQuc3ZnV2lkdGg9Xy53aWR0aCx0LnN2Z0hlaWdodD1fLmhlaWdodH0ocykscy5yb3RhdGlvbj1hLnJvdGF0aW9uLHMuc2NhbGVYPXMuc2NhbGVZPXI/MToxL24sdHYuc2V0KHQscyksdC5kaXJ0eT0hMSxzfWZ1bmN0aW9uIHJ2KHQpe2lmKCF0fHwwPT09dC5sZW5ndGgpcmV0dXJuW1sicmVjdCJdXTtpZihYKHQpKXJldHVybltbdF1dO2Zvcih2YXIgZT0hMCxuPTA7bjx0Lmxlbmd0aDsrK24paWYoIVgodFtuXSkpe2U9ITE7YnJlYWt9aWYoZSlyZXR1cm4gcnYoW3RdKTt2YXIgaT1bXTtmb3Iobj0wO248dC5sZW5ndGg7KytuKVgodFtuXSk/aS5wdXNoKFt0W25dXSk6aS5wdXNoKHRbbl0pO3JldHVybiBpfWZ1bmN0aW9uIG92KHQpe2lmKCF0fHwwPT09dC5sZW5ndGgpcmV0dXJuW1swLDBdXTtpZihqKHQpKXJldHVybltbcj1NYXRoLmNlaWwodCkscl1dO2Zvcih2YXIgZT0hMCxuPTA7bjx0Lmxlbmd0aDsrK24paWYoIWoodFtuXSkpe2U9ITE7YnJlYWt9aWYoZSlyZXR1cm4gb3YoW3RdKTt2YXIgaT1bXTtmb3Iobj0wO248dC5sZW5ndGg7KytuKWlmKGoodFtuXSkpe3ZhciByPU1hdGguY2VpbCh0W25dKTtpLnB1c2goW3Iscl0pfWVsc2V7KHI9eih0W25dLChmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5jZWlsKHQpfSkpKS5sZW5ndGglMj09MT9pLnB1c2goci5jb25jYXQocikpOmkucHVzaChyKX1yZXR1cm4gaX1mdW5jdGlvbiBhdih0KXtmb3IodmFyIGU9MCxuPTA7bjx0Lmxlbmd0aDsrK24pZSs9dFtuXTtyZXR1cm4gdC5sZW5ndGglMj09MT8yKmU6ZX12YXIgc3Y9bmV3IFh0LGx2PXt9O2Z1bmN0aW9uIHV2KHQpe3JldHVybiBsdlt0XX12YXIgaHY9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3csY3Y9MmUzLHB2PTQ1MDAsZHY9e1BST0NFU1NPUjp7RklMVEVSOjFlMyxTRVJJRVNfRklMVEVSOjgwMCxTVEFUSVNUSUM6NWUzfSxWSVNVQUw6e0xBWU9VVDoxZTMsUFJPR1JFU1NJVkVfTEFZT1VUOjExMDAsR0xPQkFMOmN2LENIQVJUOjNlMyxQT1NUX0NIQVJUX0xBWU9VVDo0NjAwLENPTVBPTkVOVDo0ZTMsQlJVU0g6NWUzLENIQVJUX0lURU06cHYsQVJJQTo2ZTMsREVDQUw6N2UzfX0sZnY9L15bYS16QS1aMC05X10rJC8sZ3Y9Il9fY29ubmVjdFVwZGF0ZVN0YXR1cyI7ZnVuY3Rpb24geXYodCl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbl09YXJndW1lbnRzW25dO2lmKCF0aGlzLmlzRGlzcG9zZWQoKSlyZXR1cm4gbXYodGhpcyx0LGUpO1d2KHRoaXMuaWQpfX1mdW5jdGlvbiB2dih0KXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuXT1hcmd1bWVudHNbbl07cmV0dXJuIG12KHRoaXMsdCxlKX19ZnVuY3Rpb24gbXYodCxlLG4pe3JldHVybiBuWzBdPW5bMF0mJm5bMF0udG9Mb3dlckNhc2UoKSxYdC5wcm90b3R5cGVbZV0uYXBwbHkodCxuKX12YXIgeHYsX3YsYnYsd3YsU3YsTXYsSXYsVHYsQ3YsRHYsQXYsa3YsTHYsUHYsT3YsUnYsTnYsRXYsenY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlfShYdCksVnY9enYucHJvdG90eXBlO1Z2Lm9uPXZ2KCJvbiIpLFZ2Lm9mZj12digib2ZmIik7dmFyIEJ2PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZhciByPXQuY2FsbCh0aGlzLG5ldyB1eSl8fHRoaXM7ci5fY2hhcnRzVmlld3M9W10sci5fY2hhcnRzTWFwPXt9LHIuX2NvbXBvbmVudHNWaWV3cz1bXSxyLl9jb21wb25lbnRzTWFwPXt9LHIuX3BlbmRpbmdBY3Rpb25zPVtdLGk9aXx8e30sWChuKSYmKG49anZbbl0pLHIuX2RvbT1lO3ZhciBvPSJjYW52YXMiLGE9ITEscz1yLl96cj1McihlLHtyZW5kZXJlcjppLnJlbmRlcmVyfHxvLGRldmljZVBpeGVsUmF0aW86aS5kZXZpY2VQaXhlbFJhdGlvLHdpZHRoOmkud2lkdGgsaGVpZ2h0OmkuaGVpZ2h0LHNzcjppLnNzcix1c2VEaXJ0eVJlY3Q6bnVsbD09aS51c2VEaXJ0eVJlY3Q/YTppLnVzZURpcnR5UmVjdH0pO3IuX3Nzcj1pLnNzcixyLl90aHJvdHRsZWRackZsdXNoPURnKFcocy5mbHVzaCxzKSwxNyksKG49VChuKSkmJk9kKG4sITApLHIuX3RoZW1lPW4sci5fbG9jYWxlPWZ1bmN0aW9uKHQpe2lmKFgodCkpe3ZhciBlPV9jW3QudG9VcHBlckNhc2UoKV18fHt9O3JldHVybiB0PT09dmN8fHQ9PT1tYz9UKGUpOkMoVChlKSxUKF9jLkVOKSwhMSl9cmV0dXJuIEMoVCh0KSxUKF9jLkVOKSwhMSl9KGkubG9jYWxlfHx3Yyksci5fY29vcmRTeXNNZ3I9bmV3IGhkO3ZhciBsPXIuX2FwaT1PdihyKTtmdW5jdGlvbiB1KHQsZSl7cmV0dXJuIHQuX19wcmlvLWUuX19wcmlvfXJldHVybiBJZShadix1KSxJZShVdix1KSxyLl9zY2hlZHVsZXI9bmV3IEdnKHIsbCxVdixadiksci5fbWVzc2FnZUNlbnRlcj1uZXcgenYsci5faW5pdEV2ZW50cygpLHIucmVzaXplPVcoci5yZXNpemUscikscy5hbmltYXRpb24ub24oImZyYW1lIixyLl9vbmZyYW1lLHIpLER2KHMsciksQXYocyxyKSxjdChyKSxyfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuX29uZnJhbWU9ZnVuY3Rpb24oKXtpZighdGhpcy5fZGlzcG9zZWQpe0V2KHRoaXMpO3ZhciB0PXRoaXMuX3NjaGVkdWxlcjtpZih0aGlzLl9fcGVuZGluZ1VwZGF0ZSl7dmFyIGU9dGhpcy5fX3BlbmRpbmdVcGRhdGUuc2lsZW50O3RoaXMuX19mbGFnSW5NYWluUHJvY2Vzcz0hMDt0cnl7eHYodGhpcyksd3YudXBkYXRlLmNhbGwodGhpcyxudWxsLHRoaXMuX19wZW5kaW5nVXBkYXRlLnVwZGF0ZVBhcmFtcyl9Y2F0Y2godCl7dGhyb3cgdGhpcy5fX2ZsYWdJbk1haW5Qcm9jZXNzPSExLHRoaXMuX19wZW5kaW5nVXBkYXRlPW51bGwsdH10aGlzLl96ci5mbHVzaCgpLHRoaXMuX19mbGFnSW5NYWluUHJvY2Vzcz0hMSx0aGlzLl9fcGVuZGluZ1VwZGF0ZT1udWxsLFR2LmNhbGwodGhpcyxlKSxDdi5jYWxsKHRoaXMsZSl9ZWxzZSBpZih0LnVuZmluaXNoZWQpe3ZhciBuPTEsaT10aGlzLl9tb2RlbCxyPXRoaXMuX2FwaTt0LnVuZmluaXNoZWQ9ITE7ZG97dmFyIG89K25ldyBEYXRlO3QucGVyZm9ybVNlcmllc1Rhc2tzKGkpLHQucGVyZm9ybURhdGFQcm9jZXNzb3JUYXNrcyhpKSxNdih0aGlzLGkpLHQucGVyZm9ybVZpc3VhbFRhc2tzKGkpLFB2KHRoaXMsdGhpcy5fbW9kZWwsciwicmVtYWluIix7fSksbi09K25ldyBEYXRlLW99d2hpbGUobj4wJiZ0LnVuZmluaXNoZWQpO3QudW5maW5pc2hlZHx8dGhpcy5fenIuZmx1c2goKX19fSxlLnByb3RvdHlwZS5nZXREb209ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZG9tfSxlLnByb3RvdHlwZS5nZXRJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlkfSxlLnByb3RvdHlwZS5nZXRacj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl96cn0sZS5wcm90b3R5cGUuaXNTU1I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3NyfSxlLnByb3RvdHlwZS5zZXRPcHRpb249ZnVuY3Rpb24odCxlLG4pe2lmKCF0aGlzLl9fZmxhZ0luTWFpblByb2Nlc3MpaWYodGhpcy5fZGlzcG9zZWQpV3YodGhpcy5pZCk7ZWxzZXt2YXIgaSxyLG87aWYocShlKSYmKG49ZS5sYXp5VXBkYXRlLGk9ZS5zaWxlbnQscj1lLnJlcGxhY2VNZXJnZSxvPWUudHJhbnNpdGlvbixlPWUubm90TWVyZ2UpLHRoaXMuX19mbGFnSW5NYWluUHJvY2Vzcz0hMCwhdGhpcy5fbW9kZWx8fGUpe3ZhciBhPW5ldyBwZCh0aGlzLl9hcGkpLHM9dGhpcy5fdGhlbWUsbD10aGlzLl9tb2RlbD1uZXcgaWQ7bC5zY2hlZHVsZXI9dGhpcy5fc2NoZWR1bGVyLGwuc3NyPXRoaXMuX3NzcixsLmluaXQobnVsbCxudWxsLG51bGwscyx0aGlzLl9sb2NhbGUsYSl9dGhpcy5fbW9kZWwuc2V0T3B0aW9uKHQse3JlcGxhY2VNZXJnZTpyfSxYdik7dmFyIHU9e3Nlcmllc1RyYW5zaXRpb246byxvcHRpb25DaGFuZ2VkOiEwfTtpZihuKXRoaXMuX19wZW5kaW5nVXBkYXRlPXtzaWxlbnQ6aSx1cGRhdGVQYXJhbXM6dX0sdGhpcy5fX2ZsYWdJbk1haW5Qcm9jZXNzPSExLHRoaXMuZ2V0WnIoKS53YWtlVXAoKTtlbHNle3RyeXt4dih0aGlzKSx3di51cGRhdGUuY2FsbCh0aGlzLG51bGwsdSl9Y2F0Y2godCl7dGhyb3cgdGhpcy5fX3BlbmRpbmdVcGRhdGU9bnVsbCx0aGlzLl9fZmxhZ0luTWFpblByb2Nlc3M9ITEsdH10aGlzLl9zc3J8fHRoaXMuX3pyLmZsdXNoKCksdGhpcy5fX3BlbmRpbmdVcGRhdGU9bnVsbCx0aGlzLl9fZmxhZ0luTWFpblByb2Nlc3M9ITEsVHYuY2FsbCh0aGlzLGkpLEN2LmNhbGwodGhpcyxpKX19fSxlLnByb3RvdHlwZS5zZXRUaGVtZT1mdW5jdGlvbigpe29vKCl9LGUucHJvdG90eXBlLmdldE1vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vZGVsfSxlLnByb3RvdHlwZS5nZXRPcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9kZWwmJnRoaXMuX21vZGVsLmdldE9wdGlvbigpfSxlLnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl96ci5nZXRXaWR0aCgpfSxlLnByb3RvdHlwZS5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fenIuZ2V0SGVpZ2h0KCl9LGUucHJvdG90eXBlLmdldERldmljZVBpeGVsUmF0aW89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fenIucGFpbnRlci5kcHJ8fGh2JiZ3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MX0sZS5wcm90b3R5cGUuZ2V0UmVuZGVyZWRDYW52YXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmVuZGVyVG9DYW52YXModCl9LGUucHJvdG90eXBlLnJlbmRlclRvQ2FudmFzPWZ1bmN0aW9uKHQpe3Q9dHx8e307dmFyIGU9dGhpcy5fenIucGFpbnRlcjtyZXR1cm4gZS5nZXRSZW5kZXJlZENhbnZhcyh7YmFja2dyb3VuZENvbG9yOnQuYmFja2dyb3VuZENvbG9yfHx0aGlzLl9tb2RlbC5nZXQoImJhY2tncm91bmRDb2xvciIpLHBpeGVsUmF0aW86dC5waXhlbFJhdGlvfHx0aGlzLmdldERldmljZVBpeGVsUmF0aW8oKX0pfSxlLnByb3RvdHlwZS5yZW5kZXJUb1NWR1N0cmluZz1mdW5jdGlvbih0KXt0PXR8fHt9O3ZhciBlPXRoaXMuX3pyLnBhaW50ZXI7cmV0dXJuIGUucmVuZGVyVG9TdHJpbmcoe3VzZVZpZXdCb3g6dC51c2VWaWV3Qm94fSl9LGUucHJvdG90eXBlLmdldFN2Z0RhdGFVUkw9ZnVuY3Rpb24oKXtpZihyLnN2Z1N1cHBvcnRlZCl7dmFyIHQ9dGhpcy5fenI7cmV0dXJuIEUodC5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCksKGZ1bmN0aW9uKHQpe3Quc3RvcEFuaW1hdGlvbihudWxsLCEwKX0pKSx0LnBhaW50ZXIudG9EYXRhVVJMKCl9fSxlLnByb3RvdHlwZS5nZXREYXRhVVJMPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9kaXNwb3NlZCl7dmFyIGU9KHQ9dHx8e30pLmV4Y2x1ZGVDb21wb25lbnRzLG49dGhpcy5fbW9kZWwsaT1bXSxyPXRoaXM7RShlLChmdW5jdGlvbih0KXtuLmVhY2hDb21wb25lbnQoe21haW5UeXBlOnR9LChmdW5jdGlvbih0KXt2YXIgZT1yLl9jb21wb25lbnRzTWFwW3QuX192aWV3SWRdO2UuZ3JvdXAuaWdub3JlfHwoaS5wdXNoKGUpLGUuZ3JvdXAuaWdub3JlPSEwKX0pKX0pKTt2YXIgbz0ic3ZnIj09PXRoaXMuX3pyLnBhaW50ZXIuZ2V0VHlwZSgpP3RoaXMuZ2V0U3ZnRGF0YVVSTCgpOnRoaXMucmVuZGVyVG9DYW52YXModCkudG9EYXRhVVJMKCJpbWFnZS8iKyh0JiZ0LnR5cGV8fCJwbmciKSk7cmV0dXJuIEUoaSwoZnVuY3Rpb24odCl7dC5ncm91cC5pZ25vcmU9ITF9KSksb31Xdih0aGlzLmlkKX0sZS5wcm90b3R5cGUuZ2V0Q29ubmVjdGVkRGF0YVVSTD1mdW5jdGlvbih0KXtpZighdGhpcy5fZGlzcG9zZWQpe3ZhciBlPSJzdmciPT09dC50eXBlLG49dGhpcy5ncm91cCxpPU1hdGgubWluLHI9TWF0aC5tYXgsbz0xLzA7aWYoJHZbbl0pe3ZhciBhPW8scz1vLGw9LTEvMCx1PS0xLzAsYz1bXSxwPXQmJnQucGl4ZWxSYXRpb3x8dGhpcy5nZXREZXZpY2VQaXhlbFJhdGlvKCk7RShLdiwoZnVuY3Rpb24obyxoKXtpZihvLmdyb3VwPT09bil7dmFyIHA9ZT9vLmdldFpyKCkucGFpbnRlci5nZXRTdmdEb20oKS5pbm5lckhUTUw6by5yZW5kZXJUb0NhbnZhcyhUKHQpKSxkPW8uZ2V0RG9tKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7YT1pKGQubGVmdCxhKSxzPWkoZC50b3AscyksbD1yKGQucmlnaHQsbCksdT1yKGQuYm90dG9tLHUpLGMucHVzaCh7ZG9tOnAsbGVmdDpkLmxlZnQsdG9wOmQudG9wfSl9fSkpO3ZhciBkPShsKj1wKS0oYSo9cCksZj0odSo9cCktKHMqPXApLGc9aC5jcmVhdGVDYW52YXMoKSx5PUxyKGcse3JlbmRlcmVyOmU/InN2ZyI6ImNhbnZhcyJ9KTtpZih5LnJlc2l6ZSh7d2lkdGg6ZCxoZWlnaHQ6Zn0pLGUpe3ZhciB2PSIiO3JldHVybiBFKGMsKGZ1bmN0aW9uKHQpe3ZhciBlPXQubGVmdC1hLG49dC50b3Atczt2Kz0nPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoJytlKyIsIituKycpIj4nK3QuZG9tKyI8L2c+In0pKSx5LnBhaW50ZXIuZ2V0U3ZnUm9vdCgpLmlubmVySFRNTD12LHQuY29ubmVjdGVkQmFja2dyb3VuZENvbG9yJiZ5LnBhaW50ZXIuc2V0QmFja2dyb3VuZENvbG9yKHQuY29ubmVjdGVkQmFja2dyb3VuZENvbG9yKSx5LnJlZnJlc2hJbW1lZGlhdGVseSgpLHkucGFpbnRlci50b0RhdGFVUkwoKX1yZXR1cm4gdC5jb25uZWN0ZWRCYWNrZ3JvdW5kQ29sb3ImJnkuYWRkKG5ldyBDcyh7c2hhcGU6e3g6MCx5OjAsd2lkdGg6ZCxoZWlnaHQ6Zn0sc3R5bGU6e2ZpbGw6dC5jb25uZWN0ZWRCYWNrZ3JvdW5kQ29sb3J9fSkpLEUoYywoZnVuY3Rpb24odCl7dmFyIGU9bmV3IF9zKHtzdHlsZTp7eDp0LmxlZnQqcC1hLHk6dC50b3AqcC1zLGltYWdlOnQuZG9tfX0pO3kuYWRkKGUpfSkpLHkucmVmcmVzaEltbWVkaWF0ZWx5KCksZy50b0RhdGFVUkwoImltYWdlLyIrKHQmJnQudHlwZXx8InBuZyIpKX1yZXR1cm4gdGhpcy5nZXREYXRhVVJMKHQpfVd2KHRoaXMuaWQpfSxlLnByb3RvdHlwZS5jb252ZXJ0VG9QaXhlbD1mdW5jdGlvbih0LGUpe3JldHVybiBTdih0aGlzLCJjb252ZXJ0VG9QaXhlbCIsdCxlKX0sZS5wcm90b3R5cGUuY29udmVydEZyb21QaXhlbD1mdW5jdGlvbih0LGUpe3JldHVybiBTdih0aGlzLCJjb252ZXJ0RnJvbVBpeGVsIix0LGUpfSxlLnByb3RvdHlwZS5jb250YWluUGl4ZWw9ZnVuY3Rpb24odCxlKXt2YXIgbjtpZighdGhpcy5fZGlzcG9zZWQpcmV0dXJuIEUoSW8odGhpcy5fbW9kZWwsdCksKGZ1bmN0aW9uKHQsaSl7aS5pbmRleE9mKCJNb2RlbHMiKT49MCYmRSh0LChmdW5jdGlvbih0KXt2YXIgcj10LmNvb3JkaW5hdGVTeXN0ZW07aWYociYmci5jb250YWluUG9pbnQpbj1ufHwhIXIuY29udGFpblBvaW50KGUpO2Vsc2UgaWYoInNlcmllc01vZGVscyI9PT1pKXt2YXIgbz10aGlzLl9jaGFydHNNYXBbdC5fX3ZpZXdJZF07byYmby5jb250YWluUG9pbnQmJihuPW58fG8uY29udGFpblBvaW50KGUsdCkpfWVsc2UgMH0pLHRoaXMpfSksdGhpcyksISFuO1d2KHRoaXMuaWQpfSxlLnByb3RvdHlwZS5nZXRWaXN1YWw9ZnVuY3Rpb24odCxlKXt2YXIgbj1Jbyh0aGlzLl9tb2RlbCx0LHtkZWZhdWx0TWFpblR5cGU6InNlcmllcyJ9KSxpPW4uc2VyaWVzTW9kZWw7dmFyIHI9aS5nZXREYXRhKCksbz1uLmhhc093blByb3BlcnR5KCJkYXRhSW5kZXhJbnNpZGUiKT9uLmRhdGFJbmRleEluc2lkZTpuLmhhc093blByb3BlcnR5KCJkYXRhSW5kZXgiKT9yLmluZGV4T2ZSYXdJbmRleChuLmRhdGFJbmRleCk6bnVsbDtyZXR1cm4gbnVsbCE9bz9meShyLG8sZSk6Z3kocixlKX0sZS5wcm90b3R5cGUuZ2V0Vmlld09mQ29tcG9uZW50TW9kZWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NvbXBvbmVudHNNYXBbdC5fX3ZpZXdJZF19LGUucHJvdG90eXBlLmdldFZpZXdPZlNlcmllc01vZGVsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jaGFydHNNYXBbdC5fX3ZpZXdJZF19LGUucHJvdG90eXBlLl9pbml0RXZlbnRzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLGk9dGhpcztFKEd2LChmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbihlKXt2YXIgbixyPWkuZ2V0TW9kZWwoKSxvPWUudGFyZ2V0LGE9Imdsb2JhbG91dCI9PT10O2lmKGE/bj17fTpvJiZ4eShvLChmdW5jdGlvbih0KXt2YXIgZT1Icyh0KTtpZihlJiZudWxsIT1lLmRhdGFJbmRleCl7dmFyIGk9ZS5kYXRhTW9kZWx8fHIuZ2V0U2VyaWVzQnlJbmRleChlLnNlcmllc0luZGV4KTtyZXR1cm4gbj1pJiZpLmdldERhdGFQYXJhbXMoZS5kYXRhSW5kZXgsZS5kYXRhVHlwZSl8fHt9LCEwfWlmKGUuZXZlbnREYXRhKXJldHVybiBuPUEoe30sZS5ldmVudERhdGEpLCEwfSksITApLG4pe3ZhciBzPW4uY29tcG9uZW50VHlwZSxsPW4uY29tcG9uZW50SW5kZXg7Im1hcmtMaW5lIiE9PXMmJiJtYXJrUG9pbnQiIT09cyYmIm1hcmtBcmVhIiE9PXN8fChzPSJzZXJpZXMiLGw9bi5zZXJpZXNJbmRleCk7dmFyIHU9cyYmbnVsbCE9bCYmci5nZXRDb21wb25lbnQocyxsKSxoPXUmJmlbInNlcmllcyI9PT11Lm1haW5UeXBlPyJfY2hhcnRzTWFwIjoiX2NvbXBvbmVudHNNYXAiXVt1Ll9fdmlld0lkXTswLG4uZXZlbnQ9ZSxuLnR5cGU9dCxpLl8kZXZlbnRQcm9jZXNzb3IuZXZlbnRJbmZvPXt0YXJnZXRFbDpvLHBhY2tlZEV2ZW50Om4sbW9kZWw6dSx2aWV3Omh9LGkudHJpZ2dlcih0LG4pfX07ZS56ckV2ZW50ZnVsQ2FsbEF0TGFzdD0hMCxpLl96ci5vbih0LGUsaSl9KSksRShZdiwoZnVuY3Rpb24odCxlKXtpLl9tZXNzYWdlQ2VudGVyLm9uKGUsKGZ1bmN0aW9uKHQpe3RoaXMudHJpZ2dlcihlLHQpfSksaSl9KSksRShbInNlbGVjdGNoYW5nZWQiXSwoZnVuY3Rpb24odCl7aS5fbWVzc2FnZUNlbnRlci5vbih0LChmdW5jdGlvbihlKXt0aGlzLnRyaWdnZXIodCxlKX0pLGkpfSkpLHQ9dGhpcy5fbWVzc2FnZUNlbnRlcixlPXRoaXMsbj10aGlzLl9hcGksdC5vbigic2VsZWN0Y2hhbmdlZCIsKGZ1bmN0aW9uKHQpe3ZhciBpPW4uZ2V0TW9kZWwoKTt0LmlzRnJvbUNsaWNrPyhteSgibWFwIiwic2VsZWN0Y2hhbmdlZCIsZSxpLHQpLG15KCJwaWUiLCJzZWxlY3RjaGFuZ2VkIixlLGksdCkpOiJzZWxlY3QiPT09dC5mcm9tQWN0aW9uPyhteSgibWFwIiwic2VsZWN0ZWQiLGUsaSx0KSxteSgicGllIiwic2VsZWN0ZWQiLGUsaSx0KSk6InVuc2VsZWN0Ij09PXQuZnJvbUFjdGlvbiYmKG15KCJtYXAiLCJ1bnNlbGVjdGVkIixlLGksdCksbXkoInBpZSIsInVuc2VsZWN0ZWQiLGUsaSx0KSl9KSl9LGUucHJvdG90eXBlLmlzRGlzcG9zZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlzcG9zZWR9LGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fZGlzcG9zZWQ/V3YodGhpcy5pZCk6dGhpcy5zZXRPcHRpb24oe3NlcmllczpbXX0sITApfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7aWYodGhpcy5fZGlzcG9zZWQpV3YodGhpcy5pZCk7ZWxzZXt0aGlzLl9kaXNwb3NlZD0hMCx0aGlzLmdldERvbSgpJiZrbyh0aGlzLmdldERvbSgpLHRtLCIiKTt2YXIgdD10aGlzLGU9dC5fYXBpLG49dC5fbW9kZWw7RSh0Ll9jb21wb25lbnRzVmlld3MsKGZ1bmN0aW9uKHQpe3QuZGlzcG9zZShuLGUpfSkpLEUodC5fY2hhcnRzVmlld3MsKGZ1bmN0aW9uKHQpe3QuZGlzcG9zZShuLGUpfSkpLHQuX3pyLmRpc3Bvc2UoKSx0Ll9kb209dC5fbW9kZWw9dC5fY2hhcnRzTWFwPXQuX2NvbXBvbmVudHNNYXA9dC5fY2hhcnRzVmlld3M9dC5fY29tcG9uZW50c1ZpZXdzPXQuX3NjaGVkdWxlcj10Ll9hcGk9dC5fenI9dC5fdGhyb3R0bGVkWnJGbHVzaD10Ll90aGVtZT10Ll9jb29yZFN5c01ncj10Ll9tZXNzYWdlQ2VudGVyPW51bGwsZGVsZXRlIEt2W3QuaWRdfX0sZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9fZmxhZ0luTWFpblByb2Nlc3MpaWYodGhpcy5fZGlzcG9zZWQpV3YodGhpcy5pZCk7ZWxzZXt0aGlzLl96ci5yZXNpemUodCk7dmFyIGU9dGhpcy5fbW9kZWw7aWYodGhpcy5fbG9hZGluZ0ZYJiZ0aGlzLl9sb2FkaW5nRlgucmVzaXplKCksZSl7dmFyIG49ZS5yZXNldE9wdGlvbigibWVkaWEiKSxpPXQmJnQuc2lsZW50O3RoaXMuX19wZW5kaW5nVXBkYXRlJiYobnVsbD09aSYmKGk9dGhpcy5fX3BlbmRpbmdVcGRhdGUuc2lsZW50KSxuPSEwLHRoaXMuX19wZW5kaW5nVXBkYXRlPW51bGwpLHRoaXMuX19mbGFnSW5NYWluUHJvY2Vzcz0hMDt0cnl7biYmeHYodGhpcyksd3YudXBkYXRlLmNhbGwodGhpcyx7dHlwZToicmVzaXplIixhbmltYXRpb246QSh7ZHVyYXRpb246MH0sdCYmdC5hbmltYXRpb24pfSl9Y2F0Y2godCl7dGhyb3cgdGhpcy5fX2ZsYWdJbk1haW5Qcm9jZXNzPSExLHR9dGhpcy5fX2ZsYWdJbk1haW5Qcm9jZXNzPSExLFR2LmNhbGwodGhpcyxpKSxDdi5jYWxsKHRoaXMsaSl9fX0sZS5wcm90b3R5cGUuc2hvd0xvYWRpbmc9ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9kaXNwb3NlZClXdih0aGlzLmlkKTtlbHNlIGlmKHEodCkmJihlPXQsdD0iIiksdD10fHwiZGVmYXVsdCIsdGhpcy5oaWRlTG9hZGluZygpLHF2W3RdKXt2YXIgbj1xdlt0XSh0aGlzLl9hcGksZSksaT10aGlzLl96cjt0aGlzLl9sb2FkaW5nRlg9bixpLmFkZChuKX19LGUucHJvdG90eXBlLmhpZGVMb2FkaW5nPWZ1bmN0aW9uKCl7dGhpcy5fZGlzcG9zZWQ/V3YodGhpcy5pZCk6KHRoaXMuX2xvYWRpbmdGWCYmdGhpcy5fenIucmVtb3ZlKHRoaXMuX2xvYWRpbmdGWCksdGhpcy5fbG9hZGluZ0ZYPW51bGwpfSxlLnByb3RvdHlwZS5tYWtlQWN0aW9uRnJvbUV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPUEoe30sdCk7cmV0dXJuIGUudHlwZT1Zdlt0LnR5cGVdLGV9LGUucHJvdG90eXBlLmRpc3BhdGNoQWN0aW9uPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fZGlzcG9zZWQpV3YodGhpcy5pZCk7ZWxzZSBpZihxKGUpfHwoZT17c2lsZW50OiEhZX0pLEh2W3QudHlwZV0mJnRoaXMuX21vZGVsKWlmKHRoaXMuX19mbGFnSW5NYWluUHJvY2Vzcyl0aGlzLl9wZW5kaW5nQWN0aW9ucy5wdXNoKHQpO2Vsc2V7dmFyIG49ZS5zaWxlbnQ7SXYuY2FsbCh0aGlzLHQsbik7dmFyIGk9ZS5mbHVzaDtpP3RoaXMuX3pyLmZsdXNoKCk6ITEhPT1pJiZyLmJyb3dzZXIud2VDaGF0JiZ0aGlzLl90aHJvdHRsZWRackZsdXNoKCksVHYuY2FsbCh0aGlzLG4pLEN2LmNhbGwodGhpcyxuKX19LGUucHJvdG90eXBlLnVwZGF0ZUxhYmVsTGF5b3V0PWZ1bmN0aW9uKCl7c3YudHJpZ2dlcigic2VyaWVzOmxheW91dGxhYmVscyIsdGhpcy5fbW9kZWwsdGhpcy5fYXBpLHt1cGRhdGVkU2VyaWVzOltdfSl9LGUucHJvdG90eXBlLmFwcGVuZERhdGE9ZnVuY3Rpb24odCl7aWYodGhpcy5fZGlzcG9zZWQpV3YodGhpcy5pZCk7ZWxzZXt2YXIgZT10LnNlcmllc0luZGV4LG49dGhpcy5nZXRNb2RlbCgpLmdldFNlcmllc0J5SW5kZXgoZSk7MCxuLmFwcGVuZERhdGEodCksdGhpcy5fc2NoZWR1bGVyLnVuZmluaXNoZWQ9ITAsdGhpcy5nZXRacigpLndha2VVcCgpfX0sZS5pbnRlcm5hbEZpZWxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0LmNsZWFyQ29sb3JQYWxldHRlKCksdC5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXt0LmNsZWFyQ29sb3JQYWxldHRlKCl9KSl9ZnVuY3Rpb24gZSh0KXtmb3IodmFyIGU9W10sbj10LmN1cnJlbnRTdGF0ZXMsaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldOyJlbXBoYXNpcyIhPT1yJiYiYmx1ciIhPT1yJiYic2VsZWN0IiE9PXImJmUucHVzaChyKX10LnNlbGVjdGVkJiZ0LnN0YXRlcy5zZWxlY3QmJmUucHVzaCgic2VsZWN0IiksMj09PXQuaG92ZXJTdGF0ZSYmdC5zdGF0ZXMuZW1waGFzaXM/ZS5wdXNoKCJlbXBoYXNpcyIpOjE9PT10LmhvdmVyU3RhdGUmJnQuc3RhdGVzLmJsdXImJmUucHVzaCgiYmx1ciIpLHQudXNlU3RhdGVzKGUpfWZ1bmN0aW9uIGkodCxlKXtpZighdC5wcmV2ZW50QXV0b1ope3ZhciBuPXQuZ2V0KCJ6Iil8fDAsaT10LmdldCgiemxldmVsIil8fDA7ZS5lYWNoUmVuZGVyZWQoKGZ1bmN0aW9uKHQpe3JldHVybiBvKHQsbixpLC0xLzApLCEwfSkpfX1mdW5jdGlvbiBvKHQsZSxuLGkpe3ZhciByPXQuZ2V0VGV4dENvbnRlbnQoKSxhPXQuZ2V0VGV4dEd1aWRlTGluZSgpO2lmKHQuaXNHcm91cClmb3IodmFyIHM9dC5jaGlsZHJlblJlZigpLGw9MDtsPHMubGVuZ3RoO2wrKylpPU1hdGgubWF4KG8oc1tsXSxlLG4saSksaSk7ZWxzZSB0Lno9ZSx0LnpsZXZlbD1uLGk9TWF0aC5tYXgodC56MixpKTtpZihyJiYoci56PWUsci56bGV2ZWw9bixpc0Zpbml0ZShpKSYmKHIuejI9aSsyKSksYSl7dmFyIHU9dC50ZXh0R3VpZGVMaW5lQ29uZmlnO2Euej1lLGEuemxldmVsPW4saXNGaW5pdGUoaSkmJihhLnoyPWkrKHUmJnUuc2hvd0Fib3ZlPzE6LTEpKX1yZXR1cm4gaX1mdW5jdGlvbiBhKHQsZSl7ZS5lYWNoUmVuZGVyZWQoKGZ1bmN0aW9uKHQpe2lmKCFhaCh0KSl7dmFyIGU9dC5nZXRUZXh0Q29udGVudCgpLG49dC5nZXRUZXh0R3VpZGVMaW5lKCk7dC5zdGF0ZVRyYW5zaXRpb24mJih0LnN0YXRlVHJhbnNpdGlvbj1udWxsKSxlJiZlLnN0YXRlVHJhbnNpdGlvbiYmKGUuc3RhdGVUcmFuc2l0aW9uPW51bGwpLG4mJm4uc3RhdGVUcmFuc2l0aW9uJiYobi5zdGF0ZVRyYW5zaXRpb249bnVsbCksdC5oYXNTdGF0ZSgpPyh0LnByZXZTdGF0ZXM9dC5jdXJyZW50U3RhdGVzLHQuY2xlYXJTdGF0ZXMoKSk6dC5wcmV2U3RhdGVzJiYodC5wcmV2U3RhdGVzPW51bGwpfX0pKX1mdW5jdGlvbiBzKHQsbil7dmFyIGk9dC5nZXRNb2RlbCgic3RhdGVBbmltYXRpb24iKSxyPXQuaXNBbmltYXRpb25FbmFibGVkKCksbz1pLmdldCgiZHVyYXRpb24iKSxhPW8+MD97ZHVyYXRpb246byxkZWxheTppLmdldCgiZGVsYXkiKSxlYXNpbmc6aS5nZXQoImVhc2luZyIpfTpudWxsO24uZWFjaFJlbmRlcmVkKChmdW5jdGlvbih0KXtpZih0LnN0YXRlcyYmdC5zdGF0ZXMuZW1waGFzaXMpe2lmKGFoKHQpKXJldHVybjtpZih0IGluc3RhbmNlb2YgZ3MmJmZ1bmN0aW9uKHQpe3ZhciBlPVpzKHQpO2Uubm9ybWFsRmlsbD10LnN0eWxlLmZpbGwsZS5ub3JtYWxTdHJva2U9dC5zdHlsZS5zdHJva2U7dmFyIG49dC5zdGF0ZXMuc2VsZWN0fHx7fTtlLnNlbGVjdEZpbGw9bi5zdHlsZSYmbi5zdHlsZS5maWxsfHxudWxsLGUuc2VsZWN0U3Ryb2tlPW4uc3R5bGUmJm4uc3R5bGUuc3Ryb2tlfHxudWxsfSh0KSx0Ll9fZGlydHkpe3ZhciBuPXQucHJldlN0YXRlcztuJiZ0LnVzZVN0YXRlcyhuKX1pZihyKXt0LnN0YXRlVHJhbnNpdGlvbj1hO3ZhciBpPXQuZ2V0VGV4dENvbnRlbnQoKSxvPXQuZ2V0VGV4dEd1aWRlTGluZSgpO2kmJihpLnN0YXRlVHJhbnNpdGlvbj1hKSxvJiYoby5zdGF0ZVRyYW5zaXRpb249YSl9dC5fX2RpcnR5JiZlKHQpfX0pKX14dj1mdW5jdGlvbih0KXt2YXIgZT10Ll9zY2hlZHVsZXI7ZS5yZXN0b3JlUGlwZWxpbmVzKHQuX21vZGVsKSxlLnByZXBhcmVTdGFnZVRhc2tzKCksX3YodCwhMCksX3YodCwhMSksZS5wbGFuKCl9LF92PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQuX21vZGVsLGk9dC5fc2NoZWR1bGVyLHI9ZT90Ll9jb21wb25lbnRzVmlld3M6dC5fY2hhcnRzVmlld3Msbz1lP3QuX2NvbXBvbmVudHNNYXA6dC5fY2hhcnRzTWFwLGE9dC5fenIscz10Ll9hcGksbD0wO2w8ci5sZW5ndGg7bCsrKXJbbF0uX19hbGl2ZT0hMTtmdW5jdGlvbiB1KHQpe3ZhciBsPXQuX19yZXF1aXJlTmV3Vmlldzt0Ll9fcmVxdWlyZU5ld1ZpZXc9ITE7dmFyIHU9Il9lY18iK3QuaWQrIl8iK3QudHlwZSxoPSFsJiZvW3VdO2lmKCFoKXt2YXIgYz1Obyh0LnR5cGUpLHA9ZT9nZy5nZXRDbGFzcyhjLm1haW4sYy5zdWIpOnhnLmdldENsYXNzKGMuc3ViKTswLChoPW5ldyBwKS5pbml0KG4scyksb1t1XT1oLHIucHVzaChoKSxhLmFkZChoLmdyb3VwKX10Ll9fdmlld0lkPWguX19pZD11LGguX19hbGl2ZT0hMCxoLl9fbW9kZWw9dCxoLmdyb3VwLl9fZWNDb21wb25lbnRJbmZvPXttYWluVHlwZTp0Lm1haW5UeXBlLGluZGV4OnQuY29tcG9uZW50SW5kZXh9LCFlJiZpLnByZXBhcmVWaWV3KGgsdCxuLHMpfWU/bi5lYWNoQ29tcG9uZW50KChmdW5jdGlvbih0LGUpeyJzZXJpZXMiIT09dCYmdShlKX0pKTpuLmVhY2hTZXJpZXModSk7Zm9yKGw9MDtsPHIubGVuZ3RoOyl7dmFyIGg9cltsXTtoLl9fYWxpdmU/bCsrOighZSYmaC5yZW5kZXJUYXNrLmRpc3Bvc2UoKSxhLnJlbW92ZShoLmdyb3VwKSxoLmRpc3Bvc2UobixzKSxyLnNwbGljZShsLDEpLG9baC5fX2lkXT09PWgmJmRlbGV0ZSBvW2guX19pZF0saC5fX2lkPWguZ3JvdXAuX19lY0NvbXBvbmVudEluZm89bnVsbCl9fSxidj1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPXQuX21vZGVsO2lmKG8uc2V0VXBkYXRlUGF5bG9hZChuKSxpKXt2YXIgYT17fTthW2krIklkIl09bltpKyJJZCJdLGFbaSsiSW5kZXgiXT1uW2krIkluZGV4Il0sYVtpKyJOYW1lIl09bltpKyJOYW1lIl07dmFyIHM9e21haW5UeXBlOmkscXVlcnk6YX07ciYmKHMuc3ViVHlwZT1yKTt2YXIgbCx1PW4uZXhjbHVkZVNlcmllc0lkO251bGwhPXUmJihsPWZ0KCksRShobyh1KSwoZnVuY3Rpb24odCl7dmFyIGU9eG8odCxudWxsKTtudWxsIT1lJiZsLnNldChlLCEwKX0pKSksbyYmby5lYWNoQ29tcG9uZW50KHMsKGZ1bmN0aW9uKGUpe2lmKCEobCYmbnVsbCE9PWwuZ2V0KGUuaWQpKSlpZihXbChuKSlpZihlIGluc3RhbmNlb2Ygc2cpbi50eXBlIT09SnN8fG4ubm90Qmx1cnx8ZS5nZXQoWyJlbXBoYXNpcyIsImRpc2FibGVkIl0pfHxmdW5jdGlvbih0LGUsbil7dmFyIGk9dC5zZXJpZXNJbmRleCxyPXQuZ2V0RGF0YShlLmRhdGFUeXBlKTtpZihyKXt2YXIgbz13byhyLGUpO289KFkobyk/b1swXTpvKXx8MDt2YXIgYT1yLmdldEl0ZW1HcmFwaGljRWwobyk7aWYoIWEpZm9yKHZhciBzPXIuY291bnQoKSxsPTA7IWEmJmw8czspYT1yLmdldEl0ZW1HcmFwaGljRWwobCsrKTtpZihhKXt2YXIgdT1IcyhhKTtEbChpLHUuZm9jdXMsdS5ibHVyU2NvcGUsbil9ZWxzZXt2YXIgaD10LmdldChbImVtcGhhc2lzIiwiZm9jdXMiXSksYz10LmdldChbImVtcGhhc2lzIiwiYmx1clNjb3BlIl0pO251bGwhPWgmJkRsKGksaCxjLG4pfX19KGUsbix0Ll9hcGkpO2Vsc2V7dmFyIGk9a2woZS5tYWluVHlwZSxlLmNvbXBvbmVudEluZGV4LG4ubmFtZSx0Ll9hcGkpLHI9aS5mb2N1c1NlbGYsbz1pLmRpc3BhdGNoZXJzO24udHlwZT09PUpzJiZyJiYhbi5ub3RCbHVyJiZBbChlLm1haW5UeXBlLGUuY29tcG9uZW50SW5kZXgsdC5fYXBpKSxvJiZFKG8sKGZ1bmN0aW9uKHQpe24udHlwZT09PUpzP19sKHQpOmJsKHQpfSkpfWVsc2UgR2wobikmJmUgaW5zdGFuY2VvZiBzZyYmKCFmdW5jdGlvbih0LGUsbil7aWYoR2woZSkpe3ZhciBpPWUuZGF0YVR5cGUscj13byh0LmdldERhdGEoaSksZSk7WShyKXx8KHI9W3JdKSx0W2UudHlwZT09PW5sPyJ0b2dnbGVTZWxlY3QiOmUudHlwZT09PXRsPyJzZWxlY3QiOiJ1bnNlbGVjdCJdKHIsaSl9fShlLG4sdC5fYXBpKSxMbChlKSxOdih0KSl9KSx0KSxvJiZvLmVhY2hDb21wb25lbnQocywoZnVuY3Rpb24oZSl7bCYmbnVsbCE9PWwuZ2V0KGUuaWQpfHxoKHRbInNlcmllcyI9PT1pPyJfY2hhcnRzTWFwIjoiX2NvbXBvbmVudHNNYXAiXVtlLl9fdmlld0lkXSl9KSx0KX1lbHNlIEUoW10uY29uY2F0KHQuX2NvbXBvbmVudHNWaWV3cykuY29uY2F0KHQuX2NoYXJ0c1ZpZXdzKSxoKTtmdW5jdGlvbiBoKGkpe2kmJmkuX19hbGl2ZSYmaVtlXSYmaVtlXShpLl9fbW9kZWwsbyx0Ll9hcGksbil9fSx3dj17cHJlcGFyZUFuZFVwZGF0ZTpmdW5jdGlvbih0KXt4dih0aGlzKSx3di51cGRhdGUuY2FsbCh0aGlzLHQse29wdGlvbkNoYW5nZWQ6bnVsbCE9dC5uZXdPcHRpb259KX0sdXBkYXRlOmZ1bmN0aW9uKGUsbil7dmFyIGk9dGhpcy5fbW9kZWwscj10aGlzLl9hcGksbz10aGlzLl96cixhPXRoaXMuX2Nvb3JkU3lzTWdyLHM9dGhpcy5fc2NoZWR1bGVyO2lmKGkpe2kuc2V0VXBkYXRlUGF5bG9hZChlKSxzLnJlc3RvcmVEYXRhKGksZSkscy5wZXJmb3JtU2VyaWVzVGFza3MoaSksYS5jcmVhdGUoaSxyKSxzLnBlcmZvcm1EYXRhUHJvY2Vzc29yVGFza3MoaSxlKSxNdih0aGlzLGkpLGEudXBkYXRlKGksciksdChpKSxzLnBlcmZvcm1WaXN1YWxUYXNrcyhpLGUpLGt2KHRoaXMsaSxyLGUsbik7dmFyIGw9aS5nZXQoImJhY2tncm91bmRDb2xvciIpfHwidHJhbnNwYXJlbnQiLHU9aS5nZXQoImRhcmtNb2RlIik7by5zZXRCYWNrZ3JvdW5kQ29sb3IobCksbnVsbCE9dSYmImF1dG8iIT09dSYmby5zZXREYXJrTW9kZSh1KSxzdi50cmlnZ2VyKCJhZnRlcnVwZGF0ZSIsaSxyKX19LHVwZGF0ZVRyYW5zZm9ybTpmdW5jdGlvbihlKXt2YXIgbj10aGlzLGk9dGhpcy5fbW9kZWwscj10aGlzLl9hcGk7aWYoaSl7aS5zZXRVcGRhdGVQYXlsb2FkKGUpO3ZhciBvPVtdO2kuZWFjaENvbXBvbmVudCgoZnVuY3Rpb24odCxhKXtpZigic2VyaWVzIiE9PXQpe3ZhciBzPW4uZ2V0Vmlld09mQ29tcG9uZW50TW9kZWwoYSk7aWYocyYmcy5fX2FsaXZlKWlmKHMudXBkYXRlVHJhbnNmb3JtKXt2YXIgbD1zLnVwZGF0ZVRyYW5zZm9ybShhLGkscixlKTtsJiZsLnVwZGF0ZSYmby5wdXNoKHMpfWVsc2Ugby5wdXNoKHMpfX0pKTt2YXIgYT1mdCgpO2kuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7dmFyIG89bi5fY2hhcnRzTWFwW3QuX192aWV3SWRdO2lmKG8udXBkYXRlVHJhbnNmb3JtKXt2YXIgcz1vLnVwZGF0ZVRyYW5zZm9ybSh0LGkscixlKTtzJiZzLnVwZGF0ZSYmYS5zZXQodC51aWQsMSl9ZWxzZSBhLnNldCh0LnVpZCwxKX0pKSx0KGkpLHRoaXMuX3NjaGVkdWxlci5wZXJmb3JtVmlzdWFsVGFza3MoaSxlLHtzZXREaXJ0eTohMCxkaXJ0eU1hcDphfSksUHYodGhpcyxpLHIsZSx7fSxhKSxzdi50cmlnZ2VyKCJhZnRlcnVwZGF0ZSIsaSxyKX19LHVwZGF0ZVZpZXc6ZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5fbW9kZWw7biYmKG4uc2V0VXBkYXRlUGF5bG9hZChlKSx4Zy5tYXJrVXBkYXRlTWV0aG9kKGUsInVwZGF0ZVZpZXciKSx0KG4pLHRoaXMuX3NjaGVkdWxlci5wZXJmb3JtVmlzdWFsVGFza3MobixlLHtzZXREaXJ0eTohMH0pLGt2KHRoaXMsbix0aGlzLl9hcGksZSx7fSksc3YudHJpZ2dlcigiYWZ0ZXJ1cGRhdGUiLG4sdGhpcy5fYXBpKSl9LHVwZGF0ZVZpc3VhbDpmdW5jdGlvbihlKXt2YXIgbj10aGlzLGk9dGhpcy5fbW9kZWw7aSYmKGkuc2V0VXBkYXRlUGF5bG9hZChlKSxpLmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe3QuZ2V0RGF0YSgpLmNsZWFyQWxsVmlzdWFsKCl9KSkseGcubWFya1VwZGF0ZU1ldGhvZChlLCJ1cGRhdGVWaXN1YWwiKSx0KGkpLHRoaXMuX3NjaGVkdWxlci5wZXJmb3JtVmlzdWFsVGFza3MoaSxlLHt2aXN1YWxUeXBlOiJ2aXN1YWwiLHNldERpcnR5OiEwfSksaS5lYWNoQ29tcG9uZW50KChmdW5jdGlvbih0LHIpe2lmKCJzZXJpZXMiIT09dCl7dmFyIG89bi5nZXRWaWV3T2ZDb21wb25lbnRNb2RlbChyKTtvJiZvLl9fYWxpdmUmJm8udXBkYXRlVmlzdWFsKHIsaSxuLl9hcGksZSl9fSkpLGkuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7bi5fY2hhcnRzTWFwW3QuX192aWV3SWRdLnVwZGF0ZVZpc3VhbCh0LGksbi5fYXBpLGUpfSkpLHN2LnRyaWdnZXIoImFmdGVydXBkYXRlIixpLHRoaXMuX2FwaSkpfSx1cGRhdGVMYXlvdXQ6ZnVuY3Rpb24odCl7d3YudXBkYXRlLmNhbGwodGhpcyx0KX19LFN2PWZ1bmN0aW9uKHQsZSxuLGkpe2lmKHQuX2Rpc3Bvc2VkKVd2KHQuaWQpO2Vsc2V7Zm9yKHZhciByLG89dC5fbW9kZWwsYT10Ll9jb29yZFN5c01nci5nZXRDb29yZGluYXRlU3lzdGVtcygpLHM9SW8obyxuKSxsPTA7bDxhLmxlbmd0aDtsKyspe3ZhciB1PWFbbF07aWYodVtlXSYmbnVsbCE9KHI9dVtlXShvLHMsaSkpKXJldHVybiByfTB9fSxNdj1mdW5jdGlvbih0LGUpe3ZhciBuPXQuX2NoYXJ0c01hcCxpPXQuX3NjaGVkdWxlcjtlLmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe2kudXBkYXRlU3RyZWFtTW9kZXModCxuW3QuX192aWV3SWRdKX0pKX0sSXY9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLGk9dGhpcy5nZXRNb2RlbCgpLHI9dC50eXBlLG89dC5lc2NhcGVDb25uZWN0LGE9SHZbcl0scz1hLmFjdGlvbkluZm8sbD0ocy51cGRhdGV8fCJ1cGRhdGUiKS5zcGxpdCgiOiIpLHU9bC5wb3AoKSxoPW51bGwhPWxbMF0mJk5vKGxbMF0pO3RoaXMuX19mbGFnSW5NYWluUHJvY2Vzcz0hMDt2YXIgYz1bdF0scD0hMTt0LmJhdGNoJiYocD0hMCxjPXoodC5iYXRjaCwoZnVuY3Rpb24oZSl7cmV0dXJuKGU9ayhBKHt9LGUpLHQpKS5iYXRjaD1udWxsLGV9KSkpO3ZhciBkLGY9W10sZz1HbCh0KSx5PVdsKHQpO2lmKHkmJkNsKHRoaXMuX2FwaSksRShjLChmdW5jdGlvbihlKXtpZigoZD0oZD1hLmFjdGlvbihlLG4uX21vZGVsLG4uX2FwaSkpfHxBKHt9LGUpKS50eXBlPXMuZXZlbnR8fGQudHlwZSxmLnB1c2goZCkseSl7dmFyIGk9VG8odCkscj1pLnF1ZXJ5T3B0aW9uTWFwLG89aS5tYWluVHlwZVNwZWNpZmllZD9yLmtleXMoKVswXToic2VyaWVzIjtidihuLHUsZSxvKSxOdihuKX1lbHNlIGc/KGJ2KG4sdSxlLCJzZXJpZXMiKSxOdihuKSk6aCYmYnYobix1LGUsaC5tYWluLGguc3ViKX0pKSwibm9uZSIhPT11JiYheSYmIWcmJiFoKXRyeXt0aGlzLl9fcGVuZGluZ1VwZGF0ZT8oeHYodGhpcyksd3YudXBkYXRlLmNhbGwodGhpcyx0KSx0aGlzLl9fcGVuZGluZ1VwZGF0ZT1udWxsKTp3dlt1XS5jYWxsKHRoaXMsdCl9Y2F0Y2godCl7dGhyb3cgdGhpcy5fX2ZsYWdJbk1haW5Qcm9jZXNzPSExLHR9aWYoZD1wP3t0eXBlOnMuZXZlbnR8fHIsZXNjYXBlQ29ubmVjdDpvLGJhdGNoOmZ9OmZbMF0sdGhpcy5fX2ZsYWdJbk1haW5Qcm9jZXNzPSExLCFlKXt2YXIgdj10aGlzLl9tZXNzYWdlQ2VudGVyO2lmKHYudHJpZ2dlcihkLnR5cGUsZCksZyl7dmFyIG09e3R5cGU6InNlbGVjdGNoYW5nZWQiLGVzY2FwZUNvbm5lY3Q6byxzZWxlY3RlZDpQbChpKSxpc0Zyb21DbGljazp0LmlzRnJvbUNsaWNrfHwhMSxmcm9tQWN0aW9uOnQudHlwZSxmcm9tQWN0aW9uUGF5bG9hZDp0fTt2LnRyaWdnZXIobS50eXBlLG0pfX19LFR2PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9wZW5kaW5nQWN0aW9ucztlLmxlbmd0aDspe3ZhciBuPWUuc2hpZnQoKTtJdi5jYWxsKHRoaXMsbix0KX19LEN2PWZ1bmN0aW9uKHQpeyF0JiZ0aGlzLnRyaWdnZXIoInVwZGF0ZWQiKX0sRHY9ZnVuY3Rpb24odCxlKXt0Lm9uKCJyZW5kZXJlZCIsKGZ1bmN0aW9uKG4pe2UudHJpZ2dlcigicmVuZGVyZWQiLG4pLCF0LmFuaW1hdGlvbi5pc0ZpbmlzaGVkKCl8fGUuX19wZW5kaW5nVXBkYXRlfHxlLl9zY2hlZHVsZXIudW5maW5pc2hlZHx8ZS5fcGVuZGluZ0FjdGlvbnMubGVuZ3RofHxlLnRyaWdnZXIoImZpbmlzaGVkIil9KSl9LEF2PWZ1bmN0aW9uKHQsZSl7dC5vbigibW91c2VvdmVyIiwoZnVuY3Rpb24odCl7dmFyIG49eHkodC50YXJnZXQsRmwpO24mJighZnVuY3Rpb24odCxlLG4pe3ZhciBpPUhzKHQpLHI9a2woaS5jb21wb25lbnRNYWluVHlwZSxpLmNvbXBvbmVudEluZGV4LGkuY29tcG9uZW50SGlnaERvd25OYW1lLG4pLG89ci5kaXNwYXRjaGVycyxhPXIuZm9jdXNTZWxmO28/KGEmJkFsKGkuY29tcG9uZW50TWFpblR5cGUsaS5jb21wb25lbnRJbmRleCxuKSxFKG8sKGZ1bmN0aW9uKHQpe3JldHVybiBtbCh0LGUpfSkpKTooRGwoaS5zZXJpZXNJbmRleCxpLmZvY3VzLGkuYmx1clNjb3BlLG4pLCJzZWxmIj09PWkuZm9jdXMmJkFsKGkuY29tcG9uZW50TWFpblR5cGUsaS5jb21wb25lbnRJbmRleCxuKSxtbCh0LGUpKX0obix0LGUuX2FwaSksTnYoZSkpfSkpLm9uKCJtb3VzZW91dCIsKGZ1bmN0aW9uKHQpe3ZhciBuPXh5KHQudGFyZ2V0LEZsKTtuJiYoIWZ1bmN0aW9uKHQsZSxuKXtDbChuKTt2YXIgaT1Icyh0KSxyPWtsKGkuY29tcG9uZW50TWFpblR5cGUsaS5jb21wb25lbnRJbmRleCxpLmNvbXBvbmVudEhpZ2hEb3duTmFtZSxuKS5kaXNwYXRjaGVycztyP0UociwoZnVuY3Rpb24odCl7cmV0dXJuIHhsKHQsZSl9KSk6eGwodCxlKX0obix0LGUuX2FwaSksTnYoZSkpfSkpLm9uKCJjbGljayIsKGZ1bmN0aW9uKHQpe3ZhciBuPXh5KHQudGFyZ2V0LChmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9SHModCkuZGF0YUluZGV4fSksITApO2lmKG4pe3ZhciBpPW4uc2VsZWN0ZWQ/InVuc2VsZWN0Ijoic2VsZWN0IixyPUhzKG4pO2UuX2FwaS5kaXNwYXRjaEFjdGlvbih7dHlwZTppLGRhdGFUeXBlOnIuZGF0YVR5cGUsZGF0YUluZGV4SW5zaWRlOnIuZGF0YUluZGV4LHNlcmllc0luZGV4OnIuc2VyaWVzSW5kZXgsaXNGcm9tQ2xpY2s6ITB9KX19KSl9LGt2PWZ1bmN0aW9uKHQsZSxuLGkscil7IWZ1bmN0aW9uKHQpe3ZhciBlPVtdLG49W10saT0hMTtpZih0LmVhY2hDb21wb25lbnQoKGZ1bmN0aW9uKHQscil7dmFyIG89ci5nZXQoInpsZXZlbCIpfHwwLGE9ci5nZXQoInoiKXx8MCxzPXIuZ2V0WkxldmVsS2V5KCk7aT1pfHwhIXMsKCJzZXJpZXMiPT09dD9uOmUpLnB1c2goe3psZXZlbDpvLHo6YSxpZHg6ci5jb21wb25lbnRJbmRleCx0eXBlOnQsa2V5OnN9KX0pKSxpKXt2YXIgcixvLGE9ZS5jb25jYXQobik7SWUoYSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC56bGV2ZWw9PT1lLnpsZXZlbD90LnotZS56OnQuemxldmVsLWUuemxldmVsfSkpLEUoYSwoZnVuY3Rpb24oZSl7dmFyIG49dC5nZXRDb21wb25lbnQoZS50eXBlLGUuaWR4KSxpPWUuemxldmVsLGE9ZS5rZXk7bnVsbCE9ciYmKGk9TWF0aC5tYXgocixpKSksYT8oaT09PXImJmEhPT1vJiZpKyssbz1hKTpvJiYoaT09PXImJmkrKyxvPSIiKSxyPWksbi5zZXRaTGV2ZWwoaSl9KSl9fShlKSxMdih0LGUsbixpLHIpLEUodC5fY2hhcnRzVmlld3MsKGZ1bmN0aW9uKHQpe3QuX19hbGl2ZT0hMX0pKSxQdih0LGUsbixpLHIpLEUodC5fY2hhcnRzVmlld3MsKGZ1bmN0aW9uKHQpe3QuX19hbGl2ZXx8dC5yZW1vdmUoZSxuKX0pKX0sTHY9ZnVuY3Rpb24odCxlLG4scixvLGwpe0UobHx8dC5fY29tcG9uZW50c1ZpZXdzLChmdW5jdGlvbih0KXt2YXIgbz10Ll9fbW9kZWw7YShvLHQpLHQucmVuZGVyKG8sZSxuLHIpLGkobyx0KSxzKG8sdCl9KSl9LFB2PWZ1bmN0aW9uKHQsZSxuLG8sbCx1KXt2YXIgaD10Ll9zY2hlZHVsZXI7bD1BKGx8fHt9LHt1cGRhdGVkU2VyaWVzOmUuZ2V0U2VyaWVzKCl9KSxzdi50cmlnZ2VyKCJzZXJpZXM6YmVmb3JldXBkYXRlIixlLG4sbCk7dmFyIGM9ITE7ZS5lYWNoU2VyaWVzKChmdW5jdGlvbihlKXt2YXIgbj10Ll9jaGFydHNNYXBbZS5fX3ZpZXdJZF07bi5fX2FsaXZlPSEwO3ZhciBpPW4ucmVuZGVyVGFzaztoLnVwZGF0ZVBheWxvYWQoaSxvKSxhKGUsbiksdSYmdS5nZXQoZS51aWQpJiZpLmRpcnR5KCksaS5wZXJmb3JtKGguZ2V0UGVyZm9ybUFyZ3MoaSkpJiYoYz0hMCksbi5ncm91cC5zaWxlbnQ9ISFlLmdldCgic2lsZW50IiksZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldCgiYmxlbmRNb2RlIil8fG51bGw7ZS5lYWNoUmVuZGVyZWQoKGZ1bmN0aW9uKHQpe3QuaXNHcm91cHx8KHQuc3R5bGUuYmxlbmQ9bil9KSl9KGUsbiksTGwoZSl9KSksaC51bmZpbmlzaGVkPWN8fGgudW5maW5pc2hlZCxzdi50cmlnZ2VyKCJzZXJpZXM6bGF5b3V0bGFiZWxzIixlLG4sbCksc3YudHJpZ2dlcigic2VyaWVzOnRyYW5zaXRpb24iLGUsbixsKSxlLmVhY2hTZXJpZXMoKGZ1bmN0aW9uKGUpe3ZhciBuPXQuX2NoYXJ0c01hcFtlLl9fdmlld0lkXTtpKGUsbikscyhlLG4pfSkpLGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5fenIuc3RvcmFnZSxpPTA7bi50cmF2ZXJzZSgoZnVuY3Rpb24odCl7dC5pc0dyb3VwfHxpKyt9KSksaT5lLmdldCgiaG92ZXJMYXllclRocmVzaG9sZCIpJiYhci5ub2RlJiYhci53b3JrZXImJmUuZWFjaFNlcmllcygoZnVuY3Rpb24oZSl7aWYoIWUucHJldmVudFVzaW5nSG92ZXJMYXllcil7dmFyIG49dC5fY2hhcnRzTWFwW2UuX192aWV3SWRdO24uX19hbGl2ZSYmbi5lYWNoUmVuZGVyZWQoKGZ1bmN0aW9uKHQpe3Quc3RhdGVzLmVtcGhhc2lzJiYodC5zdGF0ZXMuZW1waGFzaXMuaG92ZXJMYXllcj0hMCl9KSl9fSkpfSh0LGUpLHN2LnRyaWdnZXIoInNlcmllczphZnRlcnVwZGF0ZSIsZSxuLGwpfSxOdj1mdW5jdGlvbih0KXt0Ll9fbmVlZHNVcGRhdGVTdGF0dXM9ITAsdC5nZXRacigpLndha2VVcCgpfSxFdj1mdW5jdGlvbih0KXt0Ll9fbmVlZHNVcGRhdGVTdGF0dXMmJih0LmdldFpyKCkuc3RvcmFnZS50cmF2ZXJzZSgoZnVuY3Rpb24odCl7YWgodCl8fGUodCl9KSksdC5fX25lZWRzVXBkYXRlU3RhdHVzPSExKX0sT3Y9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyhmdW5jdGlvbihlKXtmdW5jdGlvbiBpKCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihpLGUpLGkucHJvdG90eXBlLmdldENvb3JkaW5hdGVTeXN0ZW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHQuX2Nvb3JkU3lzTWdyLmdldENvb3JkaW5hdGVTeXN0ZW1zKCl9LGkucHJvdG90eXBlLmdldENvbXBvbmVudEJ5RWxlbWVudD1mdW5jdGlvbihlKXtmb3IoO2U7KXt2YXIgbj1lLl9fZWNDb21wb25lbnRJbmZvO2lmKG51bGwhPW4pcmV0dXJuIHQuX21vZGVsLmdldENvbXBvbmVudChuLm1haW5UeXBlLG4uaW5kZXgpO2U9ZS5wYXJlbnR9fSxpLnByb3RvdHlwZS5lbnRlckVtcGhhc2lzPWZ1bmN0aW9uKGUsbil7X2woZSxuKSxOdih0KX0saS5wcm90b3R5cGUubGVhdmVFbXBoYXNpcz1mdW5jdGlvbihlLG4pe2JsKGUsbiksTnYodCl9LGkucHJvdG90eXBlLmVudGVyQmx1cj1mdW5jdGlvbihlKXt3bChlKSxOdih0KX0saS5wcm90b3R5cGUubGVhdmVCbHVyPWZ1bmN0aW9uKGUpe1NsKGUpLE52KHQpfSxpLnByb3RvdHlwZS5lbnRlclNlbGVjdD1mdW5jdGlvbihlKXtNbChlKSxOdih0KX0saS5wcm90b3R5cGUubGVhdmVTZWxlY3Q9ZnVuY3Rpb24oZSl7SWwoZSksTnYodCl9LGkucHJvdG90eXBlLmdldE1vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZ2V0TW9kZWwoKX0saS5wcm90b3R5cGUuZ2V0Vmlld09mQ29tcG9uZW50TW9kZWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZ2V0Vmlld09mQ29tcG9uZW50TW9kZWwoZSl9LGkucHJvdG90eXBlLmdldFZpZXdPZlNlcmllc01vZGVsPWZ1bmN0aW9uKGUpe3JldHVybiB0LmdldFZpZXdPZlNlcmllc01vZGVsKGUpfSxpfShsZCkpKHQpfSxSdj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3Rbbl1bZ3ZdPWV9fUUoWXYsKGZ1bmN0aW9uKG4saSl7dC5fbWVzc2FnZUNlbnRlci5vbihpLChmdW5jdGlvbihuKXtpZigkdlt0Lmdyb3VwXSYmMCE9PXRbZ3ZdKXtpZihuJiZuLmVzY2FwZUNvbm5lY3QpcmV0dXJuO3ZhciBpPXQubWFrZUFjdGlvbkZyb21FdmVudChuKSxyPVtdO0UoS3YsKGZ1bmN0aW9uKGUpe2UhPT10JiZlLmdyb3VwPT09dC5ncm91cCYmci5wdXNoKGUpfSkpLGUociwwKSxFKHIsKGZ1bmN0aW9uKHQpezEhPT10W2d2XSYmdC5kaXNwYXRjaEFjdGlvbihpKX0pKSxlKHIsMil9fSkpfSkpfX0oKSxlfShYdCksRnY9QnYucHJvdG90eXBlO0Z2Lm9uPXl2KCJvbiIpLEZ2Lm9mZj15digib2ZmIiksRnYub25lPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzO29vKCksdGhpcy5vbi5jYWxsKHRoaXMsdCwoZnVuY3Rpb24gbigpe2Zvcih2YXIgcj1bXSxvPTA7bzxhcmd1bWVudHMubGVuZ3RoO28rKylyW29dPWFyZ3VtZW50c1tvXTtlJiZlLmFwcGx5JiZlLmFwcGx5KHRoaXMsciksaS5vZmYodCxuKX0pLG4pfTt2YXIgR3Y9WyJjbGljayIsImRibGNsaWNrIiwibW91c2VvdmVyIiwibW91c2VvdXQiLCJtb3VzZW1vdmUiLCJtb3VzZWRvd24iLCJtb3VzZXVwIiwiZ2xvYmFsb3V0IiwiY29udGV4dG1lbnUiXTtmdW5jdGlvbiBXdih0KXswfXZhciBIdj17fSxZdj17fSxVdj1bXSxYdj1bXSxadj1bXSxqdj17fSxxdj17fSxLdj17fSwkdj17fSxKdj0rbmV3IERhdGUtMCxRdj0rbmV3IERhdGUtMCx0bT0iX2VjaGFydHNfaW5zdGFuY2VfIjtmdW5jdGlvbiBlbSh0KXskdlt0XT0hMX12YXIgbm09ZW07ZnVuY3Rpb24gaW0odCl7cmV0dXJuIEt2W2Z1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZ2V0QXR0cmlidXRlP3QuZ2V0QXR0cmlidXRlKGUpOnRbZV19KHQsdG0pXX1mdW5jdGlvbiBybSh0LGUpe2p2W3RdPWV9ZnVuY3Rpb24gb20odCl7UChYdix0KTwwJiZYdi5wdXNoKHQpfWZ1bmN0aW9uIGFtKHQsZSl7Z20oVXYsdCxlLDJlMyl9ZnVuY3Rpb24gc20odCl7dW0oImFmdGVyaW5pdCIsdCl9ZnVuY3Rpb24gbG0odCl7dW0oImFmdGVydXBkYXRlIix0KX1mdW5jdGlvbiB1bSh0LGUpe3N2Lm9uKHQsZSl9ZnVuY3Rpb24gaG0odCxlLG4pe1UoZSkmJihuPWUsZT0iIik7dmFyIGk9cSh0KT90LnR5cGU6W3QsdD17ZXZlbnQ6ZX1dWzBdO3QuZXZlbnQ9KHQuZXZlbnR8fGkpLnRvTG93ZXJDYXNlKCksZT10LmV2ZW50LFl2W2VdfHwobHQoZnYudGVzdChpKSYmZnYudGVzdChlKSksSHZbaV18fChIdltpXT17YWN0aW9uOm4sYWN0aW9uSW5mbzp0fSksWXZbZV09aSl9ZnVuY3Rpb24gY20odCxlKXtoZC5yZWdpc3Rlcih0LGUpfWZ1bmN0aW9uIHBtKHQsZSl7Z20oWnYsdCxlLDFlMywibGF5b3V0Iil9ZnVuY3Rpb24gZG0odCxlKXtnbShadix0LGUsM2UzLCJ2aXN1YWwiKX12YXIgZm09W107ZnVuY3Rpb24gZ20odCxlLG4saSxyKXtpZigoVShlKXx8cShlKSkmJihuPWUsZT1pKSwhKFAoZm0sbik+PTApKXtmbS5wdXNoKG4pO3ZhciBvPUdnLndyYXBTdGFnZUhhbmRsZXIobixyKTtvLl9fcHJpbz1lLG8uX19yYXc9bix0LnB1c2gobyl9fWZ1bmN0aW9uIHltKHQsZSl7cXZbdF09ZX1mdW5jdGlvbiB2bSh0LGUsbil7dmFyIGk9dXYoInJlZ2lzdGVyTWFwIik7aSYmaSh0LGUsbil9dmFyIG1tPWZ1bmN0aW9uKHQpe3ZhciBlPSh0PVQodCkpLnR5cGUsbj0iIjtlfHxhbyhuKTt2YXIgaT1lLnNwbGl0KCI6Iik7MiE9PWkubGVuZ3RoJiZhbyhuKTt2YXIgcj0hMTsiZWNoYXJ0cyI9PT1pWzBdJiYoZT1pWzFdLHI9ITApLHQuX19pc0J1aWx0SW49cixUZi5zZXQoZSx0KX07ZG0oY3YsRWcpLGRtKHB2LFZnKSxkbShwdixCZyksZG0oY3YscHkpLGRtKHB2LGR5KSxkbSg3ZTMsKGZ1bmN0aW9uKHQsZSl7dC5lYWNoUmF3U2VyaWVzKChmdW5jdGlvbihuKXtpZighdC5pc1Nlcmllc0ZpbHRlcmVkKG4pKXt2YXIgaT1uLmdldERhdGEoKTtpLmhhc0l0ZW1WaXN1YWwoKSYmaS5lYWNoKChmdW5jdGlvbih0KXt2YXIgbj1pLmdldEl0ZW1WaXN1YWwodCwiZGVjYWwiKTtuJiYoaS5lbnN1cmVVbmlxdWVJdGVtVmlzdWFsKHQsInN0eWxlIikuZGVjYWw9aXYobixlKSl9KSk7dmFyIHI9aS5nZXRWaXN1YWwoImRlY2FsIik7aWYocilpLmdldFZpc3VhbCgic3R5bGUiKS5kZWNhbD1pdihyLGUpfX0pKX0pKSxvbShPZCksYW0oOTAwLChmdW5jdGlvbih0KXt2YXIgZT1mdCgpO3QuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7dmFyIG49dC5nZXQoInN0YWNrIik7aWYobil7dmFyIGk9ZS5nZXQobil8fGUuc2V0KG4sW10pLHI9dC5nZXREYXRhKCksbz17c3RhY2tSZXN1bHREaW1lbnNpb246ci5nZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrUmVzdWx0RGltZW5zaW9uIiksc3RhY2tlZE92ZXJEaW1lbnNpb246ci5nZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrZWRPdmVyRGltZW5zaW9uIiksc3RhY2tlZERpbWVuc2lvbjpyLmdldENhbGN1bGF0aW9uSW5mbygic3RhY2tlZERpbWVuc2lvbiIpLHN0YWNrZWRCeURpbWVuc2lvbjpyLmdldENhbGN1bGF0aW9uSW5mbygic3RhY2tlZEJ5RGltZW5zaW9uIiksaXNTdGFja2VkQnlJbmRleDpyLmdldENhbGN1bGF0aW9uSW5mbygiaXNTdGFja2VkQnlJbmRleCIpLGRhdGE6cixzZXJpZXNNb2RlbDp0fTtpZighby5zdGFja2VkRGltZW5zaW9ufHwhby5pc1N0YWNrZWRCeUluZGV4JiYhby5zdGFja2VkQnlEaW1lbnNpb24pcmV0dXJuO2kubGVuZ3RoJiZyLnNldENhbGN1bGF0aW9uSW5mbygic3RhY2tlZE9uU2VyaWVzIixpW2kubGVuZ3RoLTFdLnNlcmllc01vZGVsKSxpLnB1c2gobyl9fSkpLGUuZWFjaChSZCl9KSkseW0oImRlZmF1bHQiLChmdW5jdGlvbih0LGUpe2soZT1lfHx7fSx7dGV4dDoibG9hZGluZyIsdGV4dENvbG9yOiIjMDAwIixmb250U2l6ZToxMixmb250V2VpZ2h0OiJub3JtYWwiLGZvbnRTdHlsZToibm9ybWFsIixmb250RmFtaWx5OiJzYW5zLXNlcmlmIixtYXNrQ29sb3I6InJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KSIsc2hvd1NwaW5uZXI6ITAsY29sb3I6IiM1NDcwYzYiLHNwaW5uZXJSYWRpdXM6MTAsbGluZVdpZHRoOjUsemxldmVsOjB9KTt2YXIgbj1uZXcgQ3IsaT1uZXcgQ3Moe3N0eWxlOntmaWxsOmUubWFza0NvbG9yfSx6bGV2ZWw6ZS56bGV2ZWwsejoxZTR9KTtuLmFkZChpKTt2YXIgcixvPW5ldyBrcyh7c3R5bGU6e3RleHQ6ZS50ZXh0LGZpbGw6ZS50ZXh0Q29sb3IsZm9udFNpemU6ZS5mb250U2l6ZSxmb250V2VpZ2h0OmUuZm9udFdlaWdodCxmb250U3R5bGU6ZS5mb250U3R5bGUsZm9udEZhbWlseTplLmZvbnRGYW1pbHl9LHpsZXZlbDplLnpsZXZlbCx6OjEwMDAxfSksYT1uZXcgQ3Moe3N0eWxlOntmaWxsOiJub25lIn0sdGV4dENvbnRlbnQ6byx0ZXh0Q29uZmlnOntwb3NpdGlvbjoicmlnaHQiLGRpc3RhbmNlOjEwfSx6bGV2ZWw6ZS56bGV2ZWwsejoxMDAwMX0pO3JldHVybiBuLmFkZChhKSxlLnNob3dTcGlubmVyJiYoKHI9bmV3IEh1KHtzaGFwZTp7c3RhcnRBbmdsZTotRmcvMixlbmRBbmdsZTotRmcvMisuMSxyOmUuc3Bpbm5lclJhZGl1c30sc3R5bGU6e3N0cm9rZTplLmNvbG9yLGxpbmVDYXA6InJvdW5kIixsaW5lV2lkdGg6ZS5saW5lV2lkdGh9LHpsZXZlbDplLnpsZXZlbCx6OjEwMDAxfSkpLmFuaW1hdGVTaGFwZSghMCkud2hlbigxZTMse2VuZEFuZ2xlOjMqRmcvMn0pLnN0YXJ0KCJjaXJjdWxhckluT3V0Iiksci5hbmltYXRlU2hhcGUoITApLndoZW4oMWUzLHtzdGFydEFuZ2xlOjMqRmcvMn0pLmRlbGF5KDMwMCkuc3RhcnQoImNpcmN1bGFySW5PdXQiKSxuLmFkZChyKSksbi5yZXNpemU9ZnVuY3Rpb24oKXt2YXIgbj1vLmdldEJvdW5kaW5nUmVjdCgpLndpZHRoLHM9ZS5zaG93U3Bpbm5lcj9lLnNwaW5uZXJSYWRpdXM6MCxsPSh0LmdldFdpZHRoKCktMipzLShlLnNob3dTcGlubmVyJiZuPzEwOjApLW4pLzItKGUuc2hvd1NwaW5uZXImJm4/MDo1K24vMikrKGUuc2hvd1NwaW5uZXI/MDpuLzIpKyhuPzA6cyksdT10LmdldEhlaWdodCgpLzI7ZS5zaG93U3Bpbm5lciYmci5zZXRTaGFwZSh7Y3g6bCxjeTp1fSksYS5zZXRTaGFwZSh7eDpsLXMseTp1LXMsd2lkdGg6MipzLGhlaWdodDoyKnN9KSxpLnNldFNoYXBlKHt4OjAseTowLHdpZHRoOnQuZ2V0V2lkdGgoKSxoZWlnaHQ6dC5nZXRIZWlnaHQoKX0pfSxuLnJlc2l6ZSgpLG59KSksaG0oe3R5cGU6SnMsZXZlbnQ6SnMsdXBkYXRlOkpzfSx4dCksaG0oe3R5cGU6UXMsZXZlbnQ6UXMsdXBkYXRlOlFzfSx4dCksaG0oe3R5cGU6dGwsZXZlbnQ6dGwsdXBkYXRlOnRsfSx4dCksaG0oe3R5cGU6ZWwsZXZlbnQ6ZWwsdXBkYXRlOmVsfSx4dCksaG0oe3R5cGU6bmwsZXZlbnQ6bmwsdXBkYXRlOm5sfSx4dCkscm0oImxpZ2h0IixpeSkscm0oImRhcmsiLGx5KTt2YXIgeG09W10sX209e3JlZ2lzdGVyUHJlcHJvY2Vzc29yOm9tLHJlZ2lzdGVyUHJvY2Vzc29yOmFtLHJlZ2lzdGVyUG9zdEluaXQ6c20scmVnaXN0ZXJQb3N0VXBkYXRlOmxtLHJlZ2lzdGVyVXBkYXRlTGlmZWN5Y2xlOnVtLHJlZ2lzdGVyQWN0aW9uOmhtLHJlZ2lzdGVyQ29vcmRpbmF0ZVN5c3RlbTpjbSxyZWdpc3RlckxheW91dDpwbSxyZWdpc3RlclZpc3VhbDpkbSxyZWdpc3RlclRyYW5zZm9ybTptbSxyZWdpc3RlckxvYWRpbmc6eW0scmVnaXN0ZXJNYXA6dm0scmVnaXN0ZXJJbXBsOmZ1bmN0aW9uKHQsZSl7bHZbdF09ZX0sUFJJT1JJVFk6ZHYsQ29tcG9uZW50TW9kZWw6VHAsQ29tcG9uZW50VmlldzpnZyxTZXJpZXNNb2RlbDpzZyxDaGFydFZpZXc6eGcscmVnaXN0ZXJDb21wb25lbnRNb2RlbDpmdW5jdGlvbih0KXtUcC5yZWdpc3RlckNsYXNzKHQpfSxyZWdpc3RlckNvbXBvbmVudFZpZXc6ZnVuY3Rpb24odCl7Z2cucmVnaXN0ZXJDbGFzcyh0KX0scmVnaXN0ZXJTZXJpZXNNb2RlbDpmdW5jdGlvbih0KXtzZy5yZWdpc3RlckNsYXNzKHQpfSxyZWdpc3RlckNoYXJ0VmlldzpmdW5jdGlvbih0KXt4Zy5yZWdpc3RlckNsYXNzKHQpfSxyZWdpc3RlclN1YlR5cGVEZWZhdWx0ZXI6ZnVuY3Rpb24odCxlKXtUcC5yZWdpc3RlclN1YlR5cGVEZWZhdWx0ZXIodCxlKX0scmVnaXN0ZXJQYWludGVyOmZ1bmN0aW9uKHQsZSl7UHIodCxlKX19O2Z1bmN0aW9uIGJtKHQpe1kodCk/RSh0LChmdW5jdGlvbih0KXtibSh0KX0pKTpQKHhtLHQpPj0wfHwoeG0ucHVzaCh0KSxVKHQpJiYodD17aW5zdGFsbDp0fSksdC5pbnN0YWxsKF9tKSl9ZnVuY3Rpb24gd20odCl7cmV0dXJuIG51bGw9PXQ/MDp0Lmxlbmd0aHx8MX1mdW5jdGlvbiBTbSh0KXtyZXR1cm4gdH12YXIgTW09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLGkscixvKXt0aGlzLl9vbGQ9dCx0aGlzLl9uZXc9ZSx0aGlzLl9vbGRLZXlHZXR0ZXI9bnx8U20sdGhpcy5fbmV3S2V5R2V0dGVyPWl8fFNtLHRoaXMuY29udGV4dD1yLHRoaXMuX2RpZmZNb2RlTXVsdGlwbGU9Im11bHRpcGxlIj09PW99cmV0dXJuIHQucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYWRkPXQsdGhpc30sdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl91cGRhdGU9dCx0aGlzfSx0LnByb3RvdHlwZS51cGRhdGVNYW55VG9PbmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3VwZGF0ZU1hbnlUb09uZT10LHRoaXN9LHQucHJvdG90eXBlLnVwZGF0ZU9uZVRvTWFueT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdXBkYXRlT25lVG9NYW55PXQsdGhpc30sdC5wcm90b3R5cGUudXBkYXRlTWFueVRvTWFueT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdXBkYXRlTWFueVRvTWFueT10LHRoaXN9LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVtb3ZlPXQsdGhpc30sdC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbigpe3RoaXNbdGhpcy5fZGlmZk1vZGVNdWx0aXBsZT8iX2V4ZWN1dGVNdWx0aXBsZSI6Il9leGVjdXRlT25lVG9PbmUiXSgpfSx0LnByb3RvdHlwZS5fZXhlY3V0ZU9uZVRvT25lPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fb2xkLGU9dGhpcy5fbmV3LG49e30saT1uZXcgQXJyYXkodC5sZW5ndGgpLHI9bmV3IEFycmF5KGUubGVuZ3RoKTt0aGlzLl9pbml0SW5kZXhNYXAodCxudWxsLGksIl9vbGRLZXlHZXR0ZXIiKSx0aGlzLl9pbml0SW5kZXhNYXAoZSxuLHIsIl9uZXdLZXlHZXR0ZXIiKTtmb3IodmFyIG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIGE9aVtvXSxzPW5bYV0sbD13bShzKTtpZihsPjEpe3ZhciB1PXMuc2hpZnQoKTsxPT09cy5sZW5ndGgmJihuW2FdPXNbMF0pLHRoaXMuX3VwZGF0ZSYmdGhpcy5fdXBkYXRlKHUsbyl9ZWxzZSAxPT09bD8oblthXT1udWxsLHRoaXMuX3VwZGF0ZSYmdGhpcy5fdXBkYXRlKHMsbykpOnRoaXMuX3JlbW92ZSYmdGhpcy5fcmVtb3ZlKG8pfXRoaXMuX3BlcmZvcm1SZXN0QWRkKHIsbil9LHQucHJvdG90eXBlLl9leGVjdXRlTXVsdGlwbGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9vbGQsZT10aGlzLl9uZXcsbj17fSxpPXt9LHI9W10sbz1bXTt0aGlzLl9pbml0SW5kZXhNYXAodCxuLHIsIl9vbGRLZXlHZXR0ZXIiKSx0aGlzLl9pbml0SW5kZXhNYXAoZSxpLG8sIl9uZXdLZXlHZXR0ZXIiKTtmb3IodmFyIGE9MDthPHIubGVuZ3RoO2ErKyl7dmFyIHM9clthXSxsPW5bc10sdT1pW3NdLGg9d20obCksYz13bSh1KTtpZihoPjEmJjE9PT1jKXRoaXMuX3VwZGF0ZU1hbnlUb09uZSYmdGhpcy5fdXBkYXRlTWFueVRvT25lKHUsbCksaVtzXT1udWxsO2Vsc2UgaWYoMT09PWgmJmM+MSl0aGlzLl91cGRhdGVPbmVUb01hbnkmJnRoaXMuX3VwZGF0ZU9uZVRvTWFueSh1LGwpLGlbc109bnVsbDtlbHNlIGlmKDE9PT1oJiYxPT09Yyl0aGlzLl91cGRhdGUmJnRoaXMuX3VwZGF0ZSh1LGwpLGlbc109bnVsbDtlbHNlIGlmKGg+MSYmYz4xKXRoaXMuX3VwZGF0ZU1hbnlUb01hbnkmJnRoaXMuX3VwZGF0ZU1hbnlUb01hbnkodSxsKSxpW3NdPW51bGw7ZWxzZSBpZihoPjEpZm9yKHZhciBwPTA7cDxoO3ArKyl0aGlzLl9yZW1vdmUmJnRoaXMuX3JlbW92ZShsW3BdKTtlbHNlIHRoaXMuX3JlbW92ZSYmdGhpcy5fcmVtb3ZlKGwpfXRoaXMuX3BlcmZvcm1SZXN0QWRkKG8saSl9LHQucHJvdG90eXBlLl9wZXJmb3JtUmVzdEFkZD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dLHI9ZVtpXSxvPXdtKHIpO2lmKG8+MSlmb3IodmFyIGE9MDthPG87YSsrKXRoaXMuX2FkZCYmdGhpcy5fYWRkKHJbYV0pO2Vsc2UgMT09PW8mJnRoaXMuX2FkZCYmdGhpcy5fYWRkKHIpO2VbaV09bnVsbH19LHQucHJvdG90eXBlLl9pbml0SW5kZXhNYXA9ZnVuY3Rpb24odCxlLG4saSl7Zm9yKHZhciByPXRoaXMuX2RpZmZNb2RlTXVsdGlwbGUsbz0wO288dC5sZW5ndGg7bysrKXt2YXIgYT0iX2VjXyIrdGhpc1tpXSh0W29dLG8pO2lmKHJ8fChuW29dPWEpLGUpe3ZhciBzPWVbYV0sbD13bShzKTswPT09bD8oZVthXT1vLHImJm4ucHVzaChhKSk6MT09PWw/ZVthXT1bcyxvXTpzLnB1c2gobyl9fX0sdH0oKSxJbT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9lbmNvZGU9dCx0aGlzLl9zY2hlbWE9ZX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJue2Z1bGxEaW1lbnNpb25zOnRoaXMuX2dldEZ1bGxEaW1lbnNpb25OYW1lcygpLGVuY29kZTp0aGlzLl9lbmNvZGV9fSx0LnByb3RvdHlwZS5fZ2V0RnVsbERpbWVuc2lvbk5hbWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhY2hlZERpbU5hbWVzfHwodGhpcy5fY2FjaGVkRGltTmFtZXM9dGhpcy5fc2NoZW1hP3RoaXMuX3NjaGVtYS5tYWtlT3V0cHV0RGltZW5zaW9uTmFtZXMoKTpbXSksdGhpcy5fY2FjaGVkRGltTmFtZXN9LHR9KCk7ZnVuY3Rpb24gVG0odCxlKXtyZXR1cm4gdC5oYXNPd25Qcm9wZXJ0eShlKXx8KHRbZV09W10pLHRbZV19ZnVuY3Rpb24gQ20odCl7cmV0dXJuImNhdGVnb3J5Ij09PXQ/Im9yZGluYWwiOiJ0aW1lIj09PXQ/InRpbWUiOiJmbG9hdCJ9dmFyIERtPWZ1bmN0aW9uKHQpe3RoaXMub3RoZXJEaW1zPXt9LG51bGwhPXQmJkEodGhpcyx0KX0sQW09U28oKSxrbT17ZmxvYXQ6ImYiLGludDoiaSIsb3JkaW5hbDoibyIsbnVtYmVyOiJuIix0aW1lOiJ0In0sTG09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuZGltZW5zaW9ucz10LmRpbWVuc2lvbnMsdGhpcy5fZGltT21pdHRlZD10LmRpbWVuc2lvbk9taXR0ZWQsdGhpcy5zb3VyY2U9dC5zb3VyY2UsdGhpcy5fZnVsbERpbUNvdW50PXQuZnVsbERpbWVuc2lvbkNvdW50LHRoaXMuX3VwZGF0ZURpbU9taXR0ZWQodC5kaW1lbnNpb25PbWl0dGVkKX1yZXR1cm4gdC5wcm90b3R5cGUuaXNEaW1lbnNpb25PbWl0dGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RpbU9taXR0ZWR9LHQucHJvdG90eXBlLl91cGRhdGVEaW1PbWl0dGVkPWZ1bmN0aW9uKHQpe3RoaXMuX2RpbU9taXR0ZWQ9dCx0JiYodGhpcy5fZGltTmFtZU1hcHx8KHRoaXMuX2RpbU5hbWVNYXA9Um0odGhpcy5zb3VyY2UpKSl9LHQucHJvdG90eXBlLmdldFNvdXJjZURpbWVuc2lvbkluZGV4PWZ1bmN0aW9uKHQpe3JldHVybiBydCh0aGlzLl9kaW1OYW1lTWFwLmdldCh0KSwtMSl9LHQucHJvdG90eXBlLmdldFNvdXJjZURpbWVuc2lvbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnNvdXJjZS5kaW1lbnNpb25zRGVmaW5lO2lmKGUpcmV0dXJuIGVbdF19LHQucHJvdG90eXBlLm1ha2VTdG9yZVNjaGVtYT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9mdWxsRGltQ291bnQsZT1aZCh0aGlzLnNvdXJjZSksbj0hTm0odCksaT0iIixyPVtdLG89MCxhPTA7bzx0O28rKyl7dmFyIHM9dm9pZCAwLGw9dm9pZCAwLHU9dm9pZCAwLGg9dGhpcy5kaW1lbnNpb25zW2FdO2lmKGgmJmguc3RvcmVEaW1JbmRleD09PW8pcz1lP2gubmFtZTpudWxsLGw9aC50eXBlLHU9aC5vcmRpbmFsTWV0YSxhKys7ZWxzZXt2YXIgYz10aGlzLmdldFNvdXJjZURpbWVuc2lvbihvKTtjJiYocz1lP2MubmFtZTpudWxsLGw9Yy50eXBlKX1yLnB1c2goe3Byb3BlcnR5OnMsdHlwZTpsLG9yZGluYWxNZXRhOnV9KSwhZXx8bnVsbD09c3x8aCYmaC5pc0NhbGN1bGF0aW9uQ29vcmR8fChpKz1uP3MucmVwbGFjZSgvXGAvZywiYDEiKS5yZXBsYWNlKC9cJC9nLCJgMiIpOnMpLGkrPSIkIixpKz1rbVtsXXx8ImYiLHUmJihpKz11LnVpZCksaSs9IiQifXZhciBwPXRoaXMuc291cmNlO3JldHVybntkaW1lbnNpb25zOnIsaGFzaDpbcC5zZXJpZXNMYXlvdXRCeSxwLnN0YXJ0SW5kZXgsaV0uam9pbigiJCQiKX19LHQucHJvdG90eXBlLm1ha2VPdXRwdXREaW1lbnNpb25OYW1lcz1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTAsbj0wO2U8dGhpcy5fZnVsbERpbUNvdW50O2UrKyl7dmFyIGk9dm9pZCAwLHI9dGhpcy5kaW1lbnNpb25zW25dO2lmKHImJnIuc3RvcmVEaW1JbmRleD09PWUpci5pc0NhbGN1bGF0aW9uQ29vcmR8fChpPXIubmFtZSksbisrO2Vsc2V7dmFyIG89dGhpcy5nZXRTb3VyY2VEaW1lbnNpb24oZSk7byYmKGk9by5uYW1lKX10LnB1c2goaSl9cmV0dXJuIHR9LHQucHJvdG90eXBlLmFwcGVuZENhbGN1bGF0aW9uRGltZW5zaW9uPWZ1bmN0aW9uKHQpe3RoaXMuZGltZW5zaW9ucy5wdXNoKHQpLHQuaXNDYWxjdWxhdGlvbkNvb3JkPSEwLHRoaXMuX2Z1bGxEaW1Db3VudCsrLHRoaXMuX3VwZGF0ZURpbU9taXR0ZWQoITApfSx0fSgpO2Z1bmN0aW9uIFBtKHQpe3JldHVybiB0IGluc3RhbmNlb2YgTG19ZnVuY3Rpb24gT20odCl7Zm9yKHZhciBlPWZ0KCksbj0wO248KHR8fFtdKS5sZW5ndGg7bisrKXt2YXIgaT10W25dLHI9cShpKT9pLm5hbWU6aTtudWxsIT1yJiZudWxsPT1lLmdldChyKSYmZS5zZXQocixuKX1yZXR1cm4gZX1mdW5jdGlvbiBSbSh0KXt2YXIgZT1BbSh0KTtyZXR1cm4gZS5kaW1OYW1lTWFwfHwoZS5kaW1OYW1lTWFwPU9tKHQuZGltZW5zaW9uc0RlZmluZSkpfWZ1bmN0aW9uIE5tKHQpe3JldHVybiB0PjMwfXZhciBFbSx6bSxWbSxCbSxGbSxHbSxXbSxIbT1xLFltPXosVW09InVuZGVmaW5lZCI9PXR5cGVvZiBJbnQzMkFycmF5P0FycmF5OkludDMyQXJyYXksWG09WyJoYXNJdGVtT3B0aW9uIiwiX25hbWVMaXN0IiwiX2lkTGlzdCIsIl9pbnZlcnRlZEluZGljZXNNYXAiLCJfZGltU3VtbWFyeSIsInVzZXJPdXRwdXQiLCJfcmF3RGF0YSIsIl9kaW1WYWx1ZUdldHRlciIsIl9uYW1lRGltSWR4IiwiX2lkRGltSWR4IiwiX25hbWVSZXBlYXRDb3VudCJdLFptPVsiX2FwcHJveGltYXRlRXh0ZW50Il0sam09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dmFyIG47dGhpcy50eXBlPSJsaXN0Iix0aGlzLl9kaW1PbWl0dGVkPSExLHRoaXMuX25hbWVMaXN0PVtdLHRoaXMuX2lkTGlzdD1bXSx0aGlzLl92aXN1YWw9e30sdGhpcy5fbGF5b3V0PXt9LHRoaXMuX2l0ZW1WaXN1YWxzPVtdLHRoaXMuX2l0ZW1MYXlvdXRzPVtdLHRoaXMuX2dyYXBoaWNFbHM9W10sdGhpcy5fYXBwcm94aW1hdGVFeHRlbnQ9e30sdGhpcy5fY2FsY3VsYXRpb25JbmZvPXt9LHRoaXMuaGFzSXRlbU9wdGlvbj0hMSx0aGlzLlRSQU5TRkVSQUJMRV9NRVRIT0RTPVsiY2xvbmVTaGFsbG93IiwiZG93blNhbXBsZSIsImx0dGJEb3duU2FtcGxlIiwibWFwIl0sdGhpcy5DSEFOR0FCTEVfTUVUSE9EUz1bImZpbHRlclNlbGYiLCJzZWxlY3RSYW5nZSJdLHRoaXMuRE9XTlNBTVBMRV9NRVRIT0RTPVsiZG93blNhbXBsZSIsImx0dGJEb3duU2FtcGxlIl07dmFyIGk9ITE7UG0odCk/KG49dC5kaW1lbnNpb25zLHRoaXMuX2RpbU9taXR0ZWQ9dC5pc0RpbWVuc2lvbk9taXR0ZWQoKSx0aGlzLl9zY2hlbWE9dCk6KGk9ITAsbj10KSxuPW58fFsieCIsInkiXTtmb3IodmFyIHI9e30sbz1bXSxhPXt9LHM9ITEsbD17fSx1PTA7dTxuLmxlbmd0aDt1Kyspe3ZhciBoPW5bdV0sYz1YKGgpP25ldyBEbSh7bmFtZTpofSk6aCBpbnN0YW5jZW9mIERtP2g6bmV3IERtKGgpLHA9Yy5uYW1lO2MudHlwZT1jLnR5cGV8fCJmbG9hdCIsYy5jb29yZERpbXx8KGMuY29vcmREaW09cCxjLmNvb3JkRGltSW5kZXg9MCk7dmFyIGQ9Yy5vdGhlckRpbXM9Yy5vdGhlckRpbXN8fHt9O28ucHVzaChwKSxyW3BdPWMsbnVsbCE9bFtwXSYmKHM9ITApLGMuY3JlYXRlSW52ZXJ0ZWRJbmRpY2VzJiYoYVtwXT1bXSksMD09PWQuaXRlbU5hbWUmJih0aGlzLl9uYW1lRGltSWR4PXUpLDA9PT1kLml0ZW1JZCYmKHRoaXMuX2lkRGltSWR4PXUpLGkmJihjLnN0b3JlRGltSW5kZXg9dSl9aWYodGhpcy5kaW1lbnNpb25zPW8sdGhpcy5fZGltSW5mb3M9cix0aGlzLl9pbml0R2V0RGltZW5zaW9uSW5mbyhzKSx0aGlzLmhvc3RNb2RlbD1lLHRoaXMuX2ludmVydGVkSW5kaWNlc01hcD1hLHRoaXMuX2RpbU9taXR0ZWQpe3ZhciBmPXRoaXMuX2RpbUlkeFRvTmFtZT1mdCgpO0UobywoZnVuY3Rpb24odCl7Zi5zZXQoclt0XS5zdG9yZURpbUluZGV4LHQpfSkpfX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0RGltZW5zaW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3JlY29nbml6ZURpbUluZGV4KHQpO2lmKG51bGw9PWUpcmV0dXJuIHQ7aWYoZT10LCF0aGlzLl9kaW1PbWl0dGVkKXJldHVybiB0aGlzLmRpbWVuc2lvbnNbZV07dmFyIG49dGhpcy5fZGltSWR4VG9OYW1lLmdldChlKTtpZihudWxsIT1uKXJldHVybiBuO3ZhciBpPXRoaXMuX3NjaGVtYS5nZXRTb3VyY2VEaW1lbnNpb24oZSk7cmV0dXJuIGk/aS5uYW1lOnZvaWQgMH0sdC5wcm90b3R5cGUuZ2V0RGltZW5zaW9uSW5kZXg9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcmVjb2duaXplRGltSW5kZXgodCk7aWYobnVsbCE9ZSlyZXR1cm4gZTtpZihudWxsPT10KXJldHVybi0xO3ZhciBuPXRoaXMuX2dldERpbUluZm8odCk7cmV0dXJuIG4/bi5zdG9yZURpbUluZGV4OnRoaXMuX2RpbU9taXR0ZWQ/dGhpcy5fc2NoZW1hLmdldFNvdXJjZURpbWVuc2lvbkluZGV4KHQpOi0xfSx0LnByb3RvdHlwZS5fcmVjb2duaXplRGltSW5kZXg9ZnVuY3Rpb24odCl7aWYoaih0KXx8bnVsbCE9dCYmIWlzTmFOKHQpJiYhdGhpcy5fZ2V0RGltSW5mbyh0KSYmKCF0aGlzLl9kaW1PbWl0dGVkfHx0aGlzLl9zY2hlbWEuZ2V0U291cmNlRGltZW5zaW9uSW5kZXgodCk8MCkpcmV0dXJuK3R9LHQucHJvdG90eXBlLl9nZXRTdG9yZURpbUluZGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RGltZW5zaW9uSW5kZXgodCk7cmV0dXJuIGV9LHQucHJvdG90eXBlLmdldERpbWVuc2lvbkluZm89ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dldERpbUluZm8odGhpcy5nZXREaW1lbnNpb24odCkpfSx0LnByb3RvdHlwZS5faW5pdEdldERpbWVuc2lvbkluZm89ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZGltSW5mb3M7dGhpcy5fZ2V0RGltSW5mbz10P2Z1bmN0aW9uKHQpe3JldHVybiBlLmhhc093blByb3BlcnR5KHQpP2VbdF06dm9pZCAwfTpmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX19LHQucHJvdG90eXBlLmdldERpbWVuc2lvbnNPbkNvb3JkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RpbVN1bW1hcnkuZGF0YURpbXNPbkNvb3JkLnNsaWNlKCl9LHQucHJvdG90eXBlLm1hcERpbWVuc2lvbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2RpbVN1bW1hcnk7aWYobnVsbD09ZSlyZXR1cm4gbi5lbmNvZGVGaXJzdERpbU5vdEV4dHJhW3RdO3ZhciBpPW4uZW5jb2RlW3RdO3JldHVybiBpP2lbZV06bnVsbH0sdC5wcm90b3R5cGUubWFwRGltZW5zaW9uc0FsbD1mdW5jdGlvbih0KXtyZXR1cm4odGhpcy5fZGltU3VtbWFyeS5lbmNvZGVbdF18fFtdKS5zbGljZSgpfSx0LnByb3RvdHlwZS5nZXRTdG9yZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdG9yZX0sdC5wcm90b3R5cGUuaW5pdERhdGE9ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHI9dGhpcztpZih0IGluc3RhbmNlb2YgVmYmJihpPXQpLCFpKXt2YXIgbz10aGlzLmRpbWVuc2lvbnMsYT1HZCh0KXx8Tih0KT9uZXcgamQodCxvLmxlbmd0aCk6dDtpPW5ldyBWZjt2YXIgcz1ZbShvLChmdW5jdGlvbih0KXtyZXR1cm57dHlwZTpyLl9kaW1JbmZvc1t0XS50eXBlLHByb3BlcnR5OnR9fSkpO2kuaW5pdERhdGEoYSxzLG4pfXRoaXMuX3N0b3JlPWksdGhpcy5fbmFtZUxpc3Q9KGV8fFtdKS5zbGljZSgpLHRoaXMuX2lkTGlzdD1bXSx0aGlzLl9uYW1lUmVwZWF0Q291bnQ9e30sdGhpcy5fZG9Jbml0KDAsaS5jb3VudCgpKSx0aGlzLl9kaW1TdW1tYXJ5PWZ1bmN0aW9uKHQsZSl7dmFyIG49e30saT1uLmVuY29kZT17fSxyPWZ0KCksbz1bXSxhPVtdLHM9e307RSh0LmRpbWVuc2lvbnMsKGZ1bmN0aW9uKGUpe3ZhciBuLGw9dC5nZXREaW1lbnNpb25JbmZvKGUpLHU9bC5jb29yZERpbTtpZih1KXt2YXIgaD1sLmNvb3JkRGltSW5kZXg7VG0oaSx1KVtoXT1lLGwuaXNFeHRyYUNvb3JkfHwoci5zZXQodSwxKSwib3JkaW5hbCIhPT0obj1sLnR5cGUpJiYidGltZSIhPT1uJiYob1swXT1lKSxUbShzLHUpW2hdPXQuZ2V0RGltZW5zaW9uSW5kZXgobC5uYW1lKSksbC5kZWZhdWx0VG9vbHRpcCYmYS5wdXNoKGUpfWtwLmVhY2goKGZ1bmN0aW9uKHQsZSl7dmFyIG49VG0oaSxlKSxyPWwub3RoZXJEaW1zW2VdO251bGwhPXImJiExIT09ciYmKG5bcl09bC5uYW1lKX0pKX0pKTt2YXIgbD1bXSx1PXt9O3IuZWFjaCgoZnVuY3Rpb24odCxlKXt2YXIgbj1pW2VdO3VbZV09blswXSxsPWwuY29uY2F0KG4pfSkpLG4uZGF0YURpbXNPbkNvb3JkPWwsbi5kYXRhRGltSW5kaWNlc09uQ29vcmQ9eihsLChmdW5jdGlvbihlKXtyZXR1cm4gdC5nZXREaW1lbnNpb25JbmZvKGUpLnN0b3JlRGltSW5kZXh9KSksbi5lbmNvZGVGaXJzdERpbU5vdEV4dHJhPXU7dmFyIGg9aS5sYWJlbDtoJiZoLmxlbmd0aCYmKG89aC5zbGljZSgpKTt2YXIgYz1pLnRvb2x0aXA7cmV0dXJuIGMmJmMubGVuZ3RoP2E9Yy5zbGljZSgpOmEubGVuZ3RofHwoYT1vLnNsaWNlKCkpLGkuZGVmYXVsdGVkTGFiZWw9byxpLmRlZmF1bHRlZFRvb2x0aXA9YSxuLnVzZXJPdXRwdXQ9bmV3IEltKHMsZSksbn0odGhpcyx0aGlzLl9zY2hlbWEpLHRoaXMudXNlck91dHB1dD10aGlzLl9kaW1TdW1tYXJ5LnVzZXJPdXRwdXR9LHQucHJvdG90eXBlLmFwcGVuZERhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc3RvcmUuYXBwZW5kRGF0YSh0KTt0aGlzLl9kb0luaXQoZVswXSxlWzFdKX0sdC5wcm90b3R5cGUuYXBwZW5kVmFsdWVzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fc3RvcmUuYXBwZW5kVmFsdWVzKHQsZS5sZW5ndGgpLGk9bi5zdGFydCxyPW4uZW5kLG89dGhpcy5fc2hvdWxkTWFrZUlkRnJvbU5hbWUoKTtpZih0aGlzLl91cGRhdGVPcmRpbmFsTWV0YSgpLGUpZm9yKHZhciBhPWk7YTxyO2ErKyl7dmFyIHM9YS1pO3RoaXMuX25hbWVMaXN0W2FdPWVbc10sbyYmV20odGhpcyxhKX19LHQucHJvdG90eXBlLl91cGRhdGVPcmRpbmFsTWV0YT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9zdG9yZSxlPXRoaXMuZGltZW5zaW9ucyxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPXRoaXMuX2RpbUluZm9zW2Vbbl1dO2kub3JkaW5hbE1ldGEmJnQuY29sbGVjdE9yZGluYWxNZXRhKGkuc3RvcmVEaW1JbmRleCxpLm9yZGluYWxNZXRhKX19LHQucHJvdG90eXBlLl9zaG91bGRNYWtlSWRGcm9tTmFtZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N0b3JlLmdldFByb3ZpZGVyKCk7cmV0dXJuIG51bGw9PXRoaXMuX2lkRGltSWR4JiZ0LmdldFNvdXJjZSgpLnNvdXJjZUZvcm1hdCE9PU5wJiYhdC5maWxsU3RvcmFnZX0sdC5wcm90b3R5cGUuX2RvSW5pdD1mdW5jdGlvbih0LGUpe2lmKCEodD49ZSkpe3ZhciBuPXRoaXMuX3N0b3JlLmdldFByb3ZpZGVyKCk7dGhpcy5fdXBkYXRlT3JkaW5hbE1ldGEoKTt2YXIgaT10aGlzLl9uYW1lTGlzdCxyPXRoaXMuX2lkTGlzdDtpZihuLmdldFNvdXJjZSgpLnNvdXJjZUZvcm1hdD09PUxwJiYhbi5wdXJlKWZvcih2YXIgbz1bXSxhPXQ7YTxlO2ErKyl7dmFyIHM9bi5nZXRJdGVtKGEsbyk7aWYoIXRoaXMuaGFzSXRlbU9wdGlvbiYmZ28ocykmJih0aGlzLmhhc0l0ZW1PcHRpb249ITApLHMpe3ZhciBsPXMubmFtZTtudWxsPT1pW2FdJiZudWxsIT1sJiYoaVthXT14byhsLG51bGwpKTt2YXIgdT1zLmlkO251bGw9PXJbYV0mJm51bGwhPXUmJihyW2FdPXhvKHUsbnVsbCkpfX1pZih0aGlzLl9zaG91bGRNYWtlSWRGcm9tTmFtZSgpKWZvcihhPXQ7YTxlO2ErKylXbSh0aGlzLGEpO0VtKHRoaXMpfX0sdC5wcm90b3R5cGUuZ2V0QXBwcm94aW1hdGVFeHRlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2FwcHJveGltYXRlRXh0ZW50W3RdfHx0aGlzLl9zdG9yZS5nZXREYXRhRXh0ZW50KHRoaXMuX2dldFN0b3JlRGltSW5kZXgodCkpfSx0LnByb3RvdHlwZS5zZXRBcHByb3hpbWF0ZUV4dGVudD1mdW5jdGlvbih0LGUpe2U9dGhpcy5nZXREaW1lbnNpb24oZSksdGhpcy5fYXBwcm94aW1hdGVFeHRlbnRbZV09dC5zbGljZSgpfSx0LnByb3RvdHlwZS5nZXRDYWxjdWxhdGlvbkluZm89ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NhbGN1bGF0aW9uSW5mb1t0XX0sdC5wcm90b3R5cGUuc2V0Q2FsY3VsYXRpb25JbmZvPWZ1bmN0aW9uKHQsZSl7SG0odCk/QSh0aGlzLl9jYWxjdWxhdGlvbkluZm8sdCk6dGhpcy5fY2FsY3VsYXRpb25JbmZvW3RdPWV9LHQucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRSYXdJbmRleCh0KSxuPXRoaXMuX25hbWVMaXN0W2VdO3JldHVybiBudWxsPT1uJiZudWxsIT10aGlzLl9uYW1lRGltSWR4JiYobj1WbSh0aGlzLHRoaXMuX25hbWVEaW1JZHgsZSkpLG51bGw9PW4mJihuPSIiKSxufSx0LnByb3RvdHlwZS5fZ2V0Q2F0ZWdvcnk9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9zdG9yZS5nZXQodCxlKSxpPXRoaXMuX3N0b3JlLmdldE9yZGluYWxNZXRhKHQpO3JldHVybiBpP2kuY2F0ZWdvcmllc1tuXTpufSx0LnByb3RvdHlwZS5nZXRJZD1mdW5jdGlvbih0KXtyZXR1cm4gem0odGhpcyx0aGlzLmdldFJhd0luZGV4KHQpKX0sdC5wcm90b3R5cGUuY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcmUuY291bnQoKX0sdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fc3RvcmUsaT10aGlzLl9kaW1JbmZvc1t0XTtpZihpKXJldHVybiBuLmdldChpLnN0b3JlRGltSW5kZXgsZSl9LHQucHJvdG90eXBlLmdldEJ5UmF3SW5kZXg9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9zdG9yZSxpPXRoaXMuX2RpbUluZm9zW3RdO2lmKGkpcmV0dXJuIG4uZ2V0QnlSYXdJbmRleChpLnN0b3JlRGltSW5kZXgsZSl9LHQucHJvdG90eXBlLmdldEluZGljZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcmUuZ2V0SW5kaWNlcygpfSx0LnByb3RvdHlwZS5nZXREYXRhRXh0ZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdG9yZS5nZXREYXRhRXh0ZW50KHRoaXMuX2dldFN0b3JlRGltSW5kZXgodCkpfSx0LnByb3RvdHlwZS5nZXRTdW09ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3N0b3JlLmdldFN1bSh0aGlzLl9nZXRTdG9yZURpbUluZGV4KHQpKX0sdC5wcm90b3R5cGUuZ2V0TWVkaWFuPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdG9yZS5nZXRNZWRpYW4odGhpcy5fZ2V0U3RvcmVEaW1JbmRleCh0KSl9LHQucHJvdG90eXBlLmdldFZhbHVlcz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMsaT10aGlzLl9zdG9yZTtyZXR1cm4gWSh0KT9pLmdldFZhbHVlcyhZbSh0LChmdW5jdGlvbih0KXtyZXR1cm4gbi5fZ2V0U3RvcmVEaW1JbmRleCh0KX0pKSxlKTppLmdldFZhbHVlcyh0KX0sdC5wcm90b3R5cGUuaGFzVmFsdWU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2RpbVN1bW1hcnkuZGF0YURpbUluZGljZXNPbkNvb3JkLG49MCxpPWUubGVuZ3RoO248aTtuKyspaWYoaXNOYU4odGhpcy5fc3RvcmUuZ2V0KGVbbl0sdCkpKXJldHVybiExO3JldHVybiEwfSx0LnByb3RvdHlwZS5pbmRleE9mTmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXRoaXMuX3N0b3JlLmNvdW50KCk7ZTxuO2UrKylpZih0aGlzLmdldE5hbWUoZSk9PT10KXJldHVybiBlO3JldHVybi0xfSx0LnByb3RvdHlwZS5nZXRSYXdJbmRleD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc3RvcmUuZ2V0UmF3SW5kZXgodCl9LHQucHJvdG90eXBlLmluZGV4T2ZSYXdJbmRleD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc3RvcmUuaW5kZXhPZlJhd0luZGV4KHQpfSx0LnByb3RvdHlwZS5yYXdJbmRleE9mPWZ1bmN0aW9uKHQsZSl7dmFyIG49dCYmdGhpcy5faW52ZXJ0ZWRJbmRpY2VzTWFwW3RdO3ZhciBpPW5bZV07cmV0dXJuIG51bGw9PWl8fGlzTmFOKGkpPy0xOml9LHQucHJvdG90eXBlLmluZGljZXNPZk5lYXJlc3Q9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLl9zdG9yZS5pbmRpY2VzT2ZOZWFyZXN0KHRoaXMuX2dldFN0b3JlRGltSW5kZXgodCksZSxuKX0sdC5wcm90b3R5cGUuZWFjaD1mdW5jdGlvbih0LGUsbil7VSh0KSYmKG49ZSxlPXQsdD1bXSk7dmFyIGk9bnx8dGhpcyxyPVltKEJtKHQpLHRoaXMuX2dldFN0b3JlRGltSW5kZXgsdGhpcyk7dGhpcy5fc3RvcmUuZWFjaChyLGk/VyhlLGkpOmUpfSx0LnByb3RvdHlwZS5maWx0ZXJTZWxmPWZ1bmN0aW9uKHQsZSxuKXtVKHQpJiYobj1lLGU9dCx0PVtdKTt2YXIgaT1ufHx0aGlzLHI9WW0oQm0odCksdGhpcy5fZ2V0U3RvcmVEaW1JbmRleCx0aGlzKTtyZXR1cm4gdGhpcy5fc3RvcmU9dGhpcy5fc3RvcmUuZmlsdGVyKHIsaT9XKGUsaSk6ZSksdGhpc30sdC5wcm90b3R5cGUuc2VsZWN0UmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXt9O3JldHVybiBFKEcodCksKGZ1bmN0aW9uKGkpe3ZhciByPWUuX2dldFN0b3JlRGltSW5kZXgoaSk7bltyXT10W2ldfSkpLHRoaXMuX3N0b3JlPXRoaXMuX3N0b3JlLnNlbGVjdFJhbmdlKG4pLHRoaXN9LHQucHJvdG90eXBlLm1hcEFycmF5PWZ1bmN0aW9uKHQsZSxuKXtVKHQpJiYobj1lLGU9dCx0PVtdKSxuPW58fHRoaXM7dmFyIGk9W107cmV0dXJuIHRoaXMuZWFjaCh0LChmdW5jdGlvbigpe2kucHVzaChlJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9KSxuKSxpfSx0LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bnx8aXx8dGhpcyxvPVltKEJtKHQpLHRoaXMuX2dldFN0b3JlRGltSW5kZXgsdGhpcyksYT1HbSh0aGlzKTtyZXR1cm4gYS5fc3RvcmU9dGhpcy5fc3RvcmUubWFwKG8scj9XKGUscik6ZSksYX0sdC5wcm90b3R5cGUubW9kaWZ5PWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPW58fGl8fHRoaXM7dmFyIG89WW0oQm0odCksdGhpcy5fZ2V0U3RvcmVEaW1JbmRleCx0aGlzKTt0aGlzLl9zdG9yZS5tb2RpZnkobyxyP1coZSxyKTplKX0sdC5wcm90b3R5cGUuZG93blNhbXBsZT1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1HbSh0aGlzKTtyZXR1cm4gci5fc3RvcmU9dGhpcy5fc3RvcmUuZG93blNhbXBsZSh0aGlzLl9nZXRTdG9yZURpbUluZGV4KHQpLGUsbixpKSxyfSx0LnByb3RvdHlwZS5sdHRiRG93blNhbXBsZT1mdW5jdGlvbih0LGUpe3ZhciBuPUdtKHRoaXMpO3JldHVybiBuLl9zdG9yZT10aGlzLl9zdG9yZS5sdHRiRG93blNhbXBsZSh0aGlzLl9nZXRTdG9yZURpbUluZGV4KHQpLGUpLG59LHQucHJvdG90eXBlLmdldFJhd0RhdGFJdGVtPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdG9yZS5nZXRSYXdEYXRhSXRlbSh0KX0sdC5wcm90b3R5cGUuZ2V0SXRlbU1vZGVsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuaG9zdE1vZGVsLG49dGhpcy5nZXRSYXdEYXRhSXRlbSh0KTtyZXR1cm4gbmV3IGRjKG4sZSxlJiZlLmVjTW9kZWwpfSx0LnByb3RvdHlwZS5kaWZmPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBNbSh0P3QuZ2V0U3RvcmUoKS5nZXRJbmRpY2VzKCk6W10sdGhpcy5nZXRTdG9yZSgpLmdldEluZGljZXMoKSwoZnVuY3Rpb24oZSl7cmV0dXJuIHptKHQsZSl9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHptKGUsdCl9KSl9LHQucHJvdG90eXBlLmdldFZpc3VhbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl92aXN1YWw7cmV0dXJuIGUmJmVbdF19LHQucHJvdG90eXBlLnNldFZpc3VhbD1mdW5jdGlvbih0LGUpe3RoaXMuX3Zpc3VhbD10aGlzLl92aXN1YWx8fHt9LEhtKHQpP0EodGhpcy5fdmlzdWFsLHQpOnRoaXMuX3Zpc3VhbFt0XT1lfSx0LnByb3RvdHlwZS5nZXRJdGVtVmlzdWFsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5faXRlbVZpc3VhbHNbdF0saT1uJiZuW2VdO3JldHVybiBudWxsPT1pP3RoaXMuZ2V0VmlzdWFsKGUpOml9LHQucHJvdG90eXBlLmhhc0l0ZW1WaXN1YWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXRlbVZpc3VhbHMubGVuZ3RoPjB9LHQucHJvdG90eXBlLmVuc3VyZVVuaXF1ZUl0ZW1WaXN1YWw9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9pdGVtVmlzdWFscyxpPW5bdF07aXx8KGk9blt0XT17fSk7dmFyIHI9aVtlXTtyZXR1cm4gbnVsbD09ciYmKFkocj10aGlzLmdldFZpc3VhbChlKSk/cj1yLnNsaWNlKCk6SG0ocikmJihyPUEoe30scikpLGlbZV09cikscn0sdC5wcm90b3R5cGUuc2V0SXRlbVZpc3VhbD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5faXRlbVZpc3VhbHNbdF18fHt9O3RoaXMuX2l0ZW1WaXN1YWxzW3RdPWksSG0oZSk/QShpLGUpOmlbZV09bn0sdC5wcm90b3R5cGUuY2xlYXJBbGxWaXN1YWw9ZnVuY3Rpb24oKXt0aGlzLl92aXN1YWw9e30sdGhpcy5faXRlbVZpc3VhbHM9W119LHQucHJvdG90eXBlLnNldExheW91dD1mdW5jdGlvbih0LGUpe0htKHQpP0EodGhpcy5fbGF5b3V0LHQpOnRoaXMuX2xheW91dFt0XT1lfSx0LnByb3RvdHlwZS5nZXRMYXlvdXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2xheW91dFt0XX0sdC5wcm90b3R5cGUuZ2V0SXRlbUxheW91dD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faXRlbUxheW91dHNbdF19LHQucHJvdG90eXBlLnNldEl0ZW1MYXlvdXQ9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX2l0ZW1MYXlvdXRzW3RdPW4/QSh0aGlzLl9pdGVtTGF5b3V0c1t0XXx8e30sZSk6ZX0sdC5wcm90b3R5cGUuY2xlYXJJdGVtTGF5b3V0cz1mdW5jdGlvbigpe3RoaXMuX2l0ZW1MYXlvdXRzLmxlbmd0aD0wfSx0LnByb3RvdHlwZS5zZXRJdGVtR3JhcGhpY0VsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5ob3N0TW9kZWwmJnRoaXMuaG9zdE1vZGVsLnNlcmllc0luZGV4O1lzKG4sdGhpcy5kYXRhVHlwZSx0LGUpLHRoaXMuX2dyYXBoaWNFbHNbdF09ZX0sdC5wcm90b3R5cGUuZ2V0SXRlbUdyYXBoaWNFbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZ3JhcGhpY0Vsc1t0XX0sdC5wcm90b3R5cGUuZWFjaEl0ZW1HcmFwaGljRWw9ZnVuY3Rpb24odCxlKXtFKHRoaXMuX2dyYXBoaWNFbHMsKGZ1bmN0aW9uKG4saSl7biYmdCYmdC5jYWxsKGUsbixpKX0pKX0sdC5wcm90b3R5cGUuY2xvbmVTaGFsbG93PWZ1bmN0aW9uKGUpe3JldHVybiBlfHwoZT1uZXcgdCh0aGlzLl9zY2hlbWE/dGhpcy5fc2NoZW1hOlltKHRoaXMuZGltZW5zaW9ucyx0aGlzLl9nZXREaW1JbmZvLHRoaXMpLHRoaXMuaG9zdE1vZGVsKSksRm0oZSx0aGlzKSxlLl9zdG9yZT10aGlzLl9zdG9yZSxlfSx0LnByb3RvdHlwZS53cmFwTWV0aG9kPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpc1t0XTtVKG4pJiYodGhpcy5fX3dyYXBwZWRNZXRob2RzPXRoaXMuX193cmFwcGVkTWV0aG9kc3x8W10sdGhpcy5fX3dyYXBwZWRNZXRob2RzLnB1c2godCksdGhpc1t0XT1mdW5jdGlvbigpe3ZhciB0PW4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBlLmFwcGx5KHRoaXMsW3RdLmNvbmNhdChhdChhcmd1bWVudHMpKSl9KX0sdC5pbnRlcm5hbEZpZWxkPShFbT1mdW5jdGlvbih0KXt2YXIgZT10Ll9pbnZlcnRlZEluZGljZXNNYXA7RShlLChmdW5jdGlvbihuLGkpe3ZhciByPXQuX2RpbUluZm9zW2ldLG89ci5vcmRpbmFsTWV0YSxhPXQuX3N0b3JlO2lmKG8pe249ZVtpXT1uZXcgVW0oby5jYXRlZ29yaWVzLmxlbmd0aCk7Zm9yKHZhciBzPTA7czxuLmxlbmd0aDtzKyspbltzXT0tMTtmb3Iocz0wO3M8YS5jb3VudCgpO3MrKyluW2EuZ2V0KHIuc3RvcmVEaW1JbmRleCxzKV09c319KSl9LFZtPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4geG8odC5fZ2V0Q2F0ZWdvcnkoZSxuKSxudWxsKX0sem09ZnVuY3Rpb24odCxlKXt2YXIgbj10Ll9pZExpc3RbZV07cmV0dXJuIG51bGw9PW4mJm51bGwhPXQuX2lkRGltSWR4JiYobj1WbSh0LHQuX2lkRGltSWR4LGUpKSxudWxsPT1uJiYobj0iZVwwXDAiK2UpLG59LEJtPWZ1bmN0aW9uKHQpe3JldHVybiBZKHQpfHwodD1udWxsIT10P1t0XTpbXSksdH0sR209ZnVuY3Rpb24oZSl7dmFyIG49bmV3IHQoZS5fc2NoZW1hP2UuX3NjaGVtYTpZbShlLmRpbWVuc2lvbnMsZS5fZ2V0RGltSW5mbyxlKSxlLmhvc3RNb2RlbCk7cmV0dXJuIEZtKG4sZSksbn0sRm09ZnVuY3Rpb24odCxlKXtFKFhtLmNvbmNhdChlLl9fd3JhcHBlZE1ldGhvZHN8fFtdKSwoZnVuY3Rpb24obil7ZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9KSksdC5fX3dyYXBwZWRNZXRob2RzPWUuX193cmFwcGVkTWV0aG9kcyxFKFptLChmdW5jdGlvbihuKXt0W25dPVQoZVtuXSl9KSksdC5fY2FsY3VsYXRpb25JbmZvPUEoe30sZS5fY2FsY3VsYXRpb25JbmZvKX0sdm9pZChXbT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuX25hbWVMaXN0LGk9dC5faWRMaXN0LHI9dC5fbmFtZURpbUlkeCxvPXQuX2lkRGltSWR4LGE9bltlXSxzPWlbZV07aWYobnVsbD09YSYmbnVsbCE9ciYmKG5bZV09YT1WbSh0LHIsZSkpLG51bGw9PXMmJm51bGwhPW8mJihpW2VdPXM9Vm0odCxvLGUpKSxudWxsPT1zJiZudWxsIT1hKXt2YXIgbD10Ll9uYW1lUmVwZWF0Q291bnQsdT1sW2FdPShsW2FdfHwwKSsxO3M9YSx1PjEmJihzKz0iX19lY19fIit1KSxpW2VdPXN9fSkpLHR9KCk7ZnVuY3Rpb24gcW0odCxlKXtHZCh0KXx8KHQ9SGQodCkpO3ZhciBuPShlPWV8fHt9KS5jb29yZERpbWVuc2lvbnN8fFtdLGk9ZS5kaW1lbnNpb25zRGVmaW5lfHx0LmRpbWVuc2lvbnNEZWZpbmV8fFtdLHI9ZnQoKSxvPVtdLGE9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9TWF0aC5tYXgodC5kaW1lbnNpb25zRGV0ZWN0ZWRDb3VudHx8MSxlLmxlbmd0aCxuLmxlbmd0aCxpfHwwKTtyZXR1cm4gRShlLChmdW5jdGlvbih0KXt2YXIgZTtxKHQpJiYoZT10LmRpbXNEZWYpJiYocj1NYXRoLm1heChyLGUubGVuZ3RoKSl9KSkscn0odCxuLGksZS5kaW1lbnNpb25zQ291bnQpLHM9ZS5jYW5PbWl0VW51c2VkRGltZW5zaW9ucyYmTm0oYSksbD1pPT09dC5kaW1lbnNpb25zRGVmaW5lLHU9bD9SbSh0KTpPbShpKSxoPWUuZW5jb2RlRGVmaW5lOyFoJiZlLmVuY29kZURlZmF1bHRlciYmKGg9ZS5lbmNvZGVEZWZhdWx0ZXIodCxhKSk7Zm9yKHZhciBjPWZ0KGgpLHA9bmV3IE9mKGEpLGQ9MDtkPHAubGVuZ3RoO2QrKylwW2RdPS0xO2Z1bmN0aW9uIGYodCl7dmFyIGU9cFt0XTtpZihlPDApe3ZhciBuPWlbdF0scj1xKG4pP246e25hbWU6bn0sYT1uZXcgRG0scz1yLm5hbWU7bnVsbCE9cyYmbnVsbCE9dS5nZXQocykmJihhLm5hbWU9YS5kaXNwbGF5TmFtZT1zKSxudWxsIT1yLnR5cGUmJihhLnR5cGU9ci50eXBlKSxudWxsIT1yLmRpc3BsYXlOYW1lJiYoYS5kaXNwbGF5TmFtZT1yLmRpc3BsYXlOYW1lKTt2YXIgbD1vLmxlbmd0aDtyZXR1cm4gcFt0XT1sLGEuc3RvcmVEaW1JbmRleD10LG8ucHVzaChhKSxhfXJldHVybiBvW2VdfWlmKCFzKWZvcihkPTA7ZDxhO2QrKylmKGQpO2MuZWFjaCgoZnVuY3Rpb24odCxlKXt2YXIgbj1obyh0KS5zbGljZSgpO2lmKDE9PT1uLmxlbmd0aCYmIVgoblswXSkmJm5bMF08MCljLnNldChlLCExKTtlbHNle3ZhciBpPWMuc2V0KGUsW10pO0UobiwoZnVuY3Rpb24odCxuKXt2YXIgcj1YKHQpP3UuZ2V0KHQpOnQ7bnVsbCE9ciYmcjxhJiYoaVtuXT1yLHkoZihyKSxlLG4pKX0pKX19KSk7dmFyIGc9MDtmdW5jdGlvbiB5KHQsZSxuKXtudWxsIT1rcC5nZXQoZSk/dC5vdGhlckRpbXNbZV09bjoodC5jb29yZERpbT1lLHQuY29vcmREaW1JbmRleD1uLHIuc2V0KGUsITApKX1FKG4sKGZ1bmN0aW9uKHQpe3ZhciBlLG4saSxyO2lmKFgodCkpZT10LHI9e307ZWxzZXtlPShyPXQpLm5hbWU7dmFyIG89ci5vcmRpbmFsTWV0YTtyLm9yZGluYWxNZXRhPW51bGwsKHI9QSh7fSxyKSkub3JkaW5hbE1ldGE9byxuPXIuZGltc0RlZixpPXIub3RoZXJEaW1zLHIubmFtZT1yLmNvb3JkRGltPXIuY29vcmREaW1JbmRleD1yLmRpbXNEZWY9ci5vdGhlckRpbXM9bnVsbH12YXIgcz1jLmdldChlKTtpZighMSE9PXMpe2lmKCEocz1obyhzKSkubGVuZ3RoKWZvcih2YXIgdT0wO3U8KG4mJm4ubGVuZ3RofHwxKTt1Kyspe2Zvcig7ZzxhJiZudWxsIT1mKGcpLmNvb3JkRGltOylnKys7ZzxhJiZzLnB1c2goZysrKX1FKHMsKGZ1bmN0aW9uKHQsbyl7dmFyIGE9Zih0KTtpZihsJiZudWxsIT1yLnR5cGUmJihhLnR5cGU9ci50eXBlKSx5KGsoYSxyKSxlLG8pLG51bGw9PWEubmFtZSYmbil7dmFyIHM9bltvXTshcShzKSYmKHM9e25hbWU6c30pLGEubmFtZT1hLmRpc3BsYXlOYW1lPXMubmFtZSxhLmRlZmF1bHRUb29sdGlwPXMuZGVmYXVsdFRvb2x0aXB9aSYmayhhLm90aGVyRGltcyxpKX0pKX19KSk7dmFyIHY9ZS5nZW5lcmF0ZUNvb3JkLG09ZS5nZW5lcmF0ZUNvb3JkQ291bnQseD1udWxsIT1tO209dj9tfHwxOjA7dmFyIF89dnx8InZhbHVlIjtmdW5jdGlvbiBiKHQpe251bGw9PXQubmFtZSYmKHQubmFtZT10LmNvb3JkRGltKX1pZihzKUUobywoZnVuY3Rpb24odCl7Yih0KX0pKSxvLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc3RvcmVEaW1JbmRleC1lLnN0b3JlRGltSW5kZXh9KSk7ZWxzZSBmb3IodmFyIHc9MDt3PGE7dysrKXt2YXIgUz1mKHcpO251bGw9PVMuY29vcmREaW0mJihTLmNvb3JkRGltPUttKF8scix4KSxTLmNvb3JkRGltSW5kZXg9MCwoIXZ8fG08PTApJiYoUy5pc0V4dHJhQ29vcmQ9ITApLG0tLSksYihTKSxudWxsIT1TLnR5cGV8fFhwKHQsdykhPT1CcCYmKCFTLmlzRXh0cmFDb29yZHx8bnVsbD09Uy5vdGhlckRpbXMuaXRlbU5hbWUmJm51bGw9PVMub3RoZXJEaW1zLnNlcmllc05hbWUpfHwoUy50eXBlPSJvcmRpbmFsIil9cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1mdCgpLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXSxyPWkubmFtZSxvPWUuZ2V0KHIpfHwwO28+MCYmKGkubmFtZT1yKyhvLTEpKSxvKyssZS5zZXQocixvKX19KG8pLG5ldyBMbSh7c291cmNlOnQsZGltZW5zaW9uczpvLGZ1bGxEaW1lbnNpb25Db3VudDphLGRpbWVuc2lvbk9taXR0ZWQ6c30pfWZ1bmN0aW9uIEttKHQsZSxuKXt2YXIgaT1lLmRhdGE7aWYobnx8aS5oYXNPd25Qcm9wZXJ0eSh0KSl7Zm9yKHZhciByPTA7aS5oYXNPd25Qcm9wZXJ0eSh0K3IpOylyKys7dCs9cn1yZXR1cm4gZS5zZXQodCwhMCksdH12YXIgJG09ZnVuY3Rpb24odCl7dGhpcy5jb29yZFN5c0RpbXM9W10sdGhpcy5heGlzTWFwPWZ0KCksdGhpcy5jYXRlZ29yeUF4aXNNYXA9ZnQoKSx0aGlzLmNvb3JkU3lzTmFtZT10fTt2YXIgSm09e2NhcnRlc2lhbjJkOmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXQuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygieEF4aXMiLENvKS5tb2RlbHNbMF0sbz10LmdldFJlZmVycmluZ0NvbXBvbmVudHMoInlBeGlzIixDbykubW9kZWxzWzBdO2UuY29vcmRTeXNEaW1zPVsieCIsInkiXSxuLnNldCgieCIsciksbi5zZXQoInkiLG8pLFFtKHIpJiYoaS5zZXQoIngiLHIpLGUuZmlyc3RDYXRlZ29yeURpbUluZGV4PTApLFFtKG8pJiYoaS5zZXQoInkiLG8pLG51bGw9PWUuZmlyc3RDYXRlZ29yeURpbUluZGV4JiYoZS5maXJzdENhdGVnb3J5RGltSW5kZXg9MSkpfSxzaW5nbGVBeGlzOmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXQuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygic2luZ2xlQXhpcyIsQ28pLm1vZGVsc1swXTtlLmNvb3JkU3lzRGltcz1bInNpbmdsZSJdLG4uc2V0KCJzaW5nbGUiLHIpLFFtKHIpJiYoaS5zZXQoInNpbmdsZSIsciksZS5maXJzdENhdGVnb3J5RGltSW5kZXg9MCl9LHBvbGFyOmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXQuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygicG9sYXIiLENvKS5tb2RlbHNbMF0sbz1yLmZpbmRBeGlzTW9kZWwoInJhZGl1c0F4aXMiKSxhPXIuZmluZEF4aXNNb2RlbCgiYW5nbGVBeGlzIik7ZS5jb29yZFN5c0RpbXM9WyJyYWRpdXMiLCJhbmdsZSJdLG4uc2V0KCJyYWRpdXMiLG8pLG4uc2V0KCJhbmdsZSIsYSksUW0obykmJihpLnNldCgicmFkaXVzIixvKSxlLmZpcnN0Q2F0ZWdvcnlEaW1JbmRleD0wKSxRbShhKSYmKGkuc2V0KCJhbmdsZSIsYSksbnVsbD09ZS5maXJzdENhdGVnb3J5RGltSW5kZXgmJihlLmZpcnN0Q2F0ZWdvcnlEaW1JbmRleD0xKSl9LGdlbzpmdW5jdGlvbih0LGUsbixpKXtlLmNvb3JkU3lzRGltcz1bImxuZyIsImxhdCJdfSxwYXJhbGxlbDpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmVjTW9kZWwsbz1yLmdldENvbXBvbmVudCgicGFyYWxsZWwiLHQuZ2V0KCJwYXJhbGxlbEluZGV4IikpLGE9ZS5jb29yZFN5c0RpbXM9by5kaW1lbnNpb25zLnNsaWNlKCk7RShvLnBhcmFsbGVsQXhpc0luZGV4LChmdW5jdGlvbih0LG8pe3ZhciBzPXIuZ2V0Q29tcG9uZW50KCJwYXJhbGxlbEF4aXMiLHQpLGw9YVtvXTtuLnNldChsLHMpLFFtKHMpJiYoaS5zZXQobCxzKSxudWxsPT1lLmZpcnN0Q2F0ZWdvcnlEaW1JbmRleCYmKGUuZmlyc3RDYXRlZ29yeURpbUluZGV4PW8pKX0pKX19O2Z1bmN0aW9uIFFtKHQpe3JldHVybiJjYXRlZ29yeSI9PT10LmdldCgidHlwZSIpfWZ1bmN0aW9uIHR4KHQsZSxuKXt2YXIgaSxyLG8sYT0obj1ufHx7fSkuYnlJbmRleCxzPW4uc3RhY2tlZENvb3JkRGltZW5zaW9uOyFmdW5jdGlvbih0KXtyZXR1cm4hUG0odC5zY2hlbWEpfShlKT8ocj1lLnNjaGVtYSxpPXIuZGltZW5zaW9ucyxvPWUuc3RvcmUpOmk9ZTt2YXIgbCx1LGgsYyxwPSEoIXR8fCF0LmdldCgic3RhY2siKSk7aWYoRShpLChmdW5jdGlvbih0LGUpe1godCkmJihpW2VdPXQ9e25hbWU6dH0pLHAmJiF0LmlzRXh0cmFDb29yZCYmKGF8fGx8fCF0Lm9yZGluYWxNZXRhfHwobD10KSx1fHwib3JkaW5hbCI9PT10LnR5cGV8fCJ0aW1lIj09PXQudHlwZXx8cyYmcyE9PXQuY29vcmREaW18fCh1PXQpKX0pKSwhdXx8YXx8bHx8KGE9ITApLHUpe2g9Il9fXDBlY3N0YWNrcmVzdWx0XyIrdC5pZCxjPSJfX1wwZWNzdGFja2Vkb3Zlcl8iK3QuaWQsbCYmKGwuY3JlYXRlSW52ZXJ0ZWRJbmRpY2VzPSEwKTt2YXIgZD11LmNvb3JkRGltLGY9dS50eXBlLGc9MDtFKGksKGZ1bmN0aW9uKHQpe3QuY29vcmREaW09PT1kJiZnKyt9KSk7dmFyIHk9e25hbWU6aCxjb29yZERpbTpkLGNvb3JkRGltSW5kZXg6Zyx0eXBlOmYsaXNFeHRyYUNvb3JkOiEwLGlzQ2FsY3VsYXRpb25Db29yZDohMCxzdG9yZURpbUluZGV4OmkubGVuZ3RofSx2PXtuYW1lOmMsY29vcmREaW06Yyxjb29yZERpbUluZGV4OmcrMSx0eXBlOmYsaXNFeHRyYUNvb3JkOiEwLGlzQ2FsY3VsYXRpb25Db29yZDohMCxzdG9yZURpbUluZGV4OmkubGVuZ3RoKzF9O3I/KG8mJih5LnN0b3JlRGltSW5kZXg9by5lbnN1cmVDYWxjdWxhdGlvbkRpbWVuc2lvbihjLGYpLHYuc3RvcmVEaW1JbmRleD1vLmVuc3VyZUNhbGN1bGF0aW9uRGltZW5zaW9uKGgsZikpLHIuYXBwZW5kQ2FsY3VsYXRpb25EaW1lbnNpb24oeSksci5hcHBlbmRDYWxjdWxhdGlvbkRpbWVuc2lvbih2KSk6KGkucHVzaCh5KSxpLnB1c2godikpfXJldHVybntzdGFja2VkRGltZW5zaW9uOnUmJnUubmFtZSxzdGFja2VkQnlEaW1lbnNpb246bCYmbC5uYW1lLGlzU3RhY2tlZEJ5SW5kZXg6YSxzdGFja2VkT3ZlckRpbWVuc2lvbjpjLHN0YWNrUmVzdWx0RGltZW5zaW9uOmh9fWZ1bmN0aW9uIGV4KHQsZSl7cmV0dXJuISFlJiZlPT09dC5nZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrZWREaW1lbnNpb24iKX1mdW5jdGlvbiBueCh0LGUpe3JldHVybiBleCh0LGUpP3QuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja1Jlc3VsdERpbWVuc2lvbiIpOmV9ZnVuY3Rpb24gaXgodCxlLG4pe249bnx8e307dmFyIGkscj1lLmdldFNvdXJjZU1hbmFnZXIoKSxvPSExO3Q/KG89ITAsaT1IZCh0KSk6bz0oaT1yLmdldFNvdXJjZSgpKS5zb3VyY2VGb3JtYXQ9PT1McDt2YXIgYT1mdW5jdGlvbih0KXt2YXIgZT10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpLG49bmV3ICRtKGUpLGk9Sm1bZV07aWYoaSlyZXR1cm4gaSh0LG4sbi5heGlzTWFwLG4uY2F0ZWdvcnlBeGlzTWFwKSxufShlKSxzPWZ1bmN0aW9uKHQsZSl7dmFyIG4saT10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpLHI9aGQuZ2V0KGkpO3JldHVybiBlJiZlLmNvb3JkU3lzRGltcyYmKG49eihlLmNvb3JkU3lzRGltcywoZnVuY3Rpb24odCl7dmFyIG49e25hbWU6dH0saT1lLmF4aXNNYXAuZ2V0KHQpO2lmKGkpe3ZhciByPWkuZ2V0KCJ0eXBlIik7bi50eXBlPUNtKHIpfXJldHVybiBufSkpKSxufHwobj1yJiYoci5nZXREaW1lbnNpb25zSW5mbz9yLmdldERpbWVuc2lvbnNJbmZvKCk6ci5kaW1lbnNpb25zLnNsaWNlKCkpfHxbIngiLCJ5Il0pLG59KGUsYSksbD1uLnVzZUVuY29kZURlZmF1bHRlcix1PVUobCk/bDpsP0goSHAscyxlKTpudWxsLGg9cW0oaSx7Y29vcmREaW1lbnNpb25zOnMsZ2VuZXJhdGVDb29yZDpuLmdlbmVyYXRlQ29vcmQsZW5jb2RlRGVmaW5lOmUuZ2V0RW5jb2RlKCksZW5jb2RlRGVmYXVsdGVyOnUsY2FuT21pdFVudXNlZERpbWVuc2lvbnM6IW99KSxjPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyO3JldHVybiBuJiZFKHQsKGZ1bmN0aW9uKHQsbyl7dmFyIGE9dC5jb29yZERpbSxzPW4uY2F0ZWdvcnlBeGlzTWFwLmdldChhKTtzJiYobnVsbD09aSYmKGk9byksdC5vcmRpbmFsTWV0YT1zLmdldE9yZGluYWxNZXRhKCksZSYmKHQuY3JlYXRlSW52ZXJ0ZWRJbmRpY2VzPSEwKSksbnVsbCE9dC5vdGhlckRpbXMuaXRlbU5hbWUmJihyPSEwKX0pKSxyfHxudWxsPT1pfHwodFtpXS5vdGhlckRpbXMuaXRlbU5hbWU9MCksaX0oaC5kaW1lbnNpb25zLG4uY3JlYXRlSW52ZXJ0ZWRJbmRpY2VzLGEpLHA9bz9udWxsOnIuZ2V0U2hhcmVkRGF0YVN0b3JlKGgpLGQ9dHgoZSx7c2NoZW1hOmgsc3RvcmU6cH0pLGY9bmV3IGptKGgsZSk7Zi5zZXRDYWxjdWxhdGlvbkluZm8oZCk7dmFyIGc9bnVsbCE9YyYmZnVuY3Rpb24odCl7aWYodC5zb3VyY2VGb3JtYXQ9PT1McCl7cmV0dXJuIVkoZm8oZnVuY3Rpb24odCl7dmFyIGU9MDtmb3IoO2U8dC5sZW5ndGgmJm51bGw9PXRbZV07KWUrKztyZXR1cm4gdFtlXX0odC5kYXRhfHxbXSkpKX19KGkpP2Z1bmN0aW9uKHQsZSxuLGkpe3JldHVybiBpPT09Yz9uOnRoaXMuZGVmYXVsdERpbVZhbHVlR2V0dGVyKHQsZSxuLGkpfTpudWxsO3JldHVybiBmLmhhc0l0ZW1PcHRpb249ITEsZi5pbml0RGF0YShvP2k6cCxudWxsLGcpLGZ9dmFyIHJ4PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9zZXR0aW5nPXR8fHt9LHRoaXMuX2V4dGVudD1bMS8wLC0xLzBdfXJldHVybiB0LnByb3RvdHlwZS5nZXRTZXR0aW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zZXR0aW5nW3RdfSx0LnByb3RvdHlwZS51bmlvbkV4dGVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9leHRlbnQ7dFswXTxlWzBdJiYoZVswXT10WzBdKSx0WzFdPmVbMV0mJihlWzFdPXRbMV0pfSx0LnByb3RvdHlwZS51bmlvbkV4dGVudEZyb21EYXRhPWZ1bmN0aW9uKHQsZSl7dGhpcy51bmlvbkV4dGVudCh0LmdldEFwcHJveGltYXRlRXh0ZW50KGUpKX0sdC5wcm90b3R5cGUuZ2V0RXh0ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V4dGVudC5zbGljZSgpfSx0LnByb3RvdHlwZS5zZXRFeHRlbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9leHRlbnQ7aXNOYU4odCl8fChuWzBdPXQpLGlzTmFOKGUpfHwoblsxXT1lKX0sdC5wcm90b3R5cGUuaXNJbkV4dGVudFJhbmdlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9leHRlbnRbMF08PXQmJnRoaXMuX2V4dGVudFsxXT49dH0sdC5wcm90b3R5cGUuaXNCbGFuaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0JsYW5rfSx0LnByb3RvdHlwZS5zZXRCbGFuaz1mdW5jdGlvbih0KXt0aGlzLl9pc0JsYW5rPXR9LHR9KCk7R28ocngpO3ZhciBveD0wLGF4PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmNhdGVnb3JpZXM9dC5jYXRlZ29yaWVzfHxbXSx0aGlzLl9uZWVkQ29sbGVjdD10Lm5lZWRDb2xsZWN0LHRoaXMuX2RlZHVwbGljYXRpb249dC5kZWR1cGxpY2F0aW9uLHRoaXMudWlkPSsrb3h9cmV0dXJuIHQuY3JlYXRlQnlBeGlzTW9kZWw9ZnVuY3Rpb24oZSl7dmFyIG49ZS5vcHRpb24saT1uLmRhdGEscj1pJiZ6KGksc3gpO3JldHVybiBuZXcgdCh7Y2F0ZWdvcmllczpyLG5lZWRDb2xsZWN0OiFyLGRlZHVwbGljYXRpb246ITEhPT1uLmRlZHBsaWNhdGlvbn0pfSx0LnByb3RvdHlwZS5nZXRPcmRpbmFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9nZXRPckNyZWF0ZU1hcCgpLmdldCh0KX0sdC5wcm90b3R5cGUucGFyc2VBbmRDb2xsZWN0PWZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcy5fbmVlZENvbGxlY3Q7aWYoIVgodCkmJiFuKXJldHVybiB0O2lmKG4mJiF0aGlzLl9kZWR1cGxpY2F0aW9uKXJldHVybiBlPXRoaXMuY2F0ZWdvcmllcy5sZW5ndGgsdGhpcy5jYXRlZ29yaWVzW2VdPXQsZTt2YXIgaT10aGlzLl9nZXRPckNyZWF0ZU1hcCgpO3JldHVybiBudWxsPT0oZT1pLmdldCh0KSkmJihuPyhlPXRoaXMuY2F0ZWdvcmllcy5sZW5ndGgsdGhpcy5jYXRlZ29yaWVzW2VdPXQsaS5zZXQodCxlKSk6ZT1OYU4pLGV9LHQucHJvdG90eXBlLl9nZXRPckNyZWF0ZU1hcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXB8fCh0aGlzLl9tYXA9ZnQodGhpcy5jYXRlZ29yaWVzKSl9LHR9KCk7ZnVuY3Rpb24gc3godCl7cmV0dXJuIHEodCkmJm51bGwhPXQudmFsdWU/dC52YWx1ZTp0KyIifWZ1bmN0aW9uIGx4KHQpe3JldHVybiJpbnRlcnZhbCI9PT10LnR5cGV8fCJsb2ciPT09dC50eXBlfWZ1bmN0aW9uIHV4KHQsZSxuLGkpe3ZhciByPXt9LG89dFsxXS10WzBdLGE9ci5pbnRlcnZhbD0kcihvL2UsITApO251bGwhPW4mJmE8biYmKGE9ci5pbnRlcnZhbD1uKSxudWxsIT1pJiZhPmkmJihhPXIuaW50ZXJ2YWw9aSk7dmFyIHM9ci5pbnRlcnZhbFByZWNpc2lvbj1jeChhKTtyZXR1cm4gZnVuY3Rpb24odCxlKXshaXNGaW5pdGUodFswXSkmJih0WzBdPWVbMF0pLCFpc0Zpbml0ZSh0WzFdKSYmKHRbMV09ZVsxXSkscHgodCwwLGUpLHB4KHQsMSxlKSx0WzBdPnRbMV0mJih0WzBdPXRbMV0pfShyLm5pY2VUaWNrRXh0ZW50PVt6cihNYXRoLmNlaWwodFswXS9hKSphLHMpLHpyKE1hdGguZmxvb3IodFsxXS9hKSphLHMpXSx0KSxyfWZ1bmN0aW9uIGh4KHQpe3ZhciBlPU1hdGgucG93KDEwLEtyKHQpKSxuPXQvZTtyZXR1cm4gbj8yPT09bj9uPTM6Mz09PW4/bj01Om4qPTI6bj0xLHpyKG4qZSl9ZnVuY3Rpb24gY3godCl7cmV0dXJuIEJyKHQpKzJ9ZnVuY3Rpb24gcHgodCxlLG4pe3RbZV09TWF0aC5tYXgoTWF0aC5taW4odFtlXSxuWzFdKSxuWzBdKX1mdW5jdGlvbiBkeCh0LGUpe3JldHVybiB0Pj1lWzBdJiZ0PD1lWzFdfWZ1bmN0aW9uIGZ4KHQsZSl7cmV0dXJuIGVbMV09PT1lWzBdPy41Oih0LWVbMF0pLyhlWzFdLWVbMF0pfWZ1bmN0aW9uIGd4KHQsZSl7cmV0dXJuIHQqKGVbMV0tZVswXSkrZVswXX12YXIgeXg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztuLnR5cGU9Im9yZGluYWwiO3ZhciBpPW4uZ2V0U2V0dGluZygib3JkaW5hbE1ldGEiKTtyZXR1cm4gaXx8KGk9bmV3IGF4KHt9KSksWShpKSYmKGk9bmV3IGF4KHtjYXRlZ29yaWVzOnooaSwoZnVuY3Rpb24odCl7cmV0dXJuIHEodCk/dC52YWx1ZTp0fSkpfSkpLG4uX29yZGluYWxNZXRhPWksbi5fZXh0ZW50PW4uZ2V0U2V0dGluZygiZXh0ZW50Iil8fFswLGkuY2F0ZWdvcmllcy5sZW5ndGgtMV0sbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P05hTjpYKHQpP3RoaXMuX29yZGluYWxNZXRhLmdldE9yZGluYWwodCk6TWF0aC5yb3VuZCh0KX0sZS5wcm90b3R5cGUuY29udGFpbj1mdW5jdGlvbih0KXtyZXR1cm4gZHgodD10aGlzLnBhcnNlKHQpLHRoaXMuX2V4dGVudCkmJm51bGwhPXRoaXMuX29yZGluYWxNZXRhLmNhdGVnb3JpZXNbdF19LGUucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gZngodD10aGlzLl9nZXRUaWNrTnVtYmVyKHRoaXMucGFyc2UodCkpLHRoaXMuX2V4dGVudCl9LGUucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKHQpe3JldHVybiB0PU1hdGgucm91bmQoZ3godCx0aGlzLl9leHRlbnQpKSx0aGlzLmdldFJhd09yZGluYWxOdW1iZXIodCl9LGUucHJvdG90eXBlLmdldFRpY2tzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9dGhpcy5fZXh0ZW50LG49ZVswXTtuPD1lWzFdOyl0LnB1c2goe3ZhbHVlOm59KSxuKys7cmV0dXJuIHR9LGUucHJvdG90eXBlLmdldE1pbm9yVGlja3M9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5zZXRTb3J0SW5mbz1mdW5jdGlvbih0KXtpZihudWxsIT10KXtmb3IodmFyIGU9dC5vcmRpbmFsTnVtYmVycyxuPXRoaXMuX29yZGluYWxOdW1iZXJzQnlUaWNrPVtdLGk9dGhpcy5fdGlja3NCeU9yZGluYWxOdW1iZXI9W10scj0wLG89dGhpcy5fb3JkaW5hbE1ldGEuY2F0ZWdvcmllcy5sZW5ndGgsYT1NYXRoLm1pbihvLGUubGVuZ3RoKTtyPGE7KytyKXt2YXIgcz1lW3JdO25bcl09cyxpW3NdPXJ9Zm9yKHZhciBsPTA7cjxvOysrcil7Zm9yKDtudWxsIT1pW2xdOylsKys7bi5wdXNoKGwpLGlbbF09cn19ZWxzZSB0aGlzLl9vcmRpbmFsTnVtYmVyc0J5VGljaz10aGlzLl90aWNrc0J5T3JkaW5hbE51bWJlcj1udWxsfSxlLnByb3RvdHlwZS5fZ2V0VGlja051bWJlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl90aWNrc0J5T3JkaW5hbE51bWJlcjtyZXR1cm4gZSYmdD49MCYmdDxlLmxlbmd0aD9lW3RdOnR9LGUucHJvdG90eXBlLmdldFJhd09yZGluYWxOdW1iZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fb3JkaW5hbE51bWJlcnNCeVRpY2s7cmV0dXJuIGUmJnQ+PTAmJnQ8ZS5sZW5ndGg/ZVt0XTp0fSxlLnByb3RvdHlwZS5nZXRMYWJlbD1mdW5jdGlvbih0KXtpZighdGhpcy5pc0JsYW5rKCkpe3ZhciBlPXRoaXMuZ2V0UmF3T3JkaW5hbE51bWJlcih0LnZhbHVlKSxuPXRoaXMuX29yZGluYWxNZXRhLmNhdGVnb3JpZXNbZV07cmV0dXJuIG51bGw9PW4/IiI6bisiIn19LGUucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V4dGVudFsxXS10aGlzLl9leHRlbnRbMF0rMX0sZS5wcm90b3R5cGUudW5pb25FeHRlbnRGcm9tRGF0YT1mdW5jdGlvbih0LGUpe3RoaXMudW5pb25FeHRlbnQodC5nZXRBcHByb3hpbWF0ZUV4dGVudChlKSl9LGUucHJvdG90eXBlLmlzSW5FeHRlbnRSYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLl9nZXRUaWNrTnVtYmVyKHQpLHRoaXMuX2V4dGVudFswXTw9dCYmdGhpcy5fZXh0ZW50WzFdPj10fSxlLnByb3RvdHlwZS5nZXRPcmRpbmFsTWV0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcmRpbmFsTWV0YX0sZS5wcm90b3R5cGUuY2FsY05pY2VUaWNrcz1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuY2FsY05pY2VFeHRlbnQ9ZnVuY3Rpb24oKXt9LGUudHlwZT0ib3JkaW5hbCIsZX0ocngpO3J4LnJlZ2lzdGVyQ2xhc3MoeXgpO3ZhciB2eD16cixteD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLnR5cGU9ImludGVydmFsIixlLl9pbnRlcnZhbD0wLGUuX2ludGVydmFsUHJlY2lzaW9uPTIsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHQpe3JldHVybiB0fSxlLnByb3RvdHlwZS5jb250YWluPWZ1bmN0aW9uKHQpe3JldHVybiBkeCh0LHRoaXMuX2V4dGVudCl9LGUucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gZngodCx0aGlzLl9leHRlbnQpfSxlLnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbih0KXtyZXR1cm4gZ3godCx0aGlzLl9leHRlbnQpfSxlLnByb3RvdHlwZS5zZXRFeHRlbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9leHRlbnQ7aXNOYU4odCl8fChuWzBdPXBhcnNlRmxvYXQodCkpLGlzTmFOKGUpfHwoblsxXT1wYXJzZUZsb2F0KGUpKX0sZS5wcm90b3R5cGUudW5pb25FeHRlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZXh0ZW50O3RbMF08ZVswXSYmKGVbMF09dFswXSksdFsxXT5lWzFdJiYoZVsxXT10WzFdKSx0aGlzLnNldEV4dGVudChlWzBdLGVbMV0pfSxlLnByb3RvdHlwZS5nZXRJbnRlcnZhbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcnZhbH0sZS5wcm90b3R5cGUuc2V0SW50ZXJ2YWw9ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJ2YWw9dCx0aGlzLl9uaWNlRXh0ZW50PXRoaXMuX2V4dGVudC5zbGljZSgpLHRoaXMuX2ludGVydmFsUHJlY2lzaW9uPWN4KHQpfSxlLnByb3RvdHlwZS5nZXRUaWNrcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9pbnRlcnZhbCxuPXRoaXMuX2V4dGVudCxpPXRoaXMuX25pY2VFeHRlbnQscj10aGlzLl9pbnRlcnZhbFByZWNpc2lvbixvPVtdO2lmKCFlKXJldHVybiBvO25bMF08aVswXSYmKHQ/by5wdXNoKHt2YWx1ZTp2eChpWzBdLWUscil9KTpvLnB1c2goe3ZhbHVlOm5bMF19KSk7Zm9yKHZhciBhPWlbMF07YTw9aVsxXSYmKG8ucHVzaCh7dmFsdWU6YX0pLChhPXZ4KGErZSxyKSkhPT1vW28ubGVuZ3RoLTFdLnZhbHVlKTspaWYoby5sZW5ndGg+MWU0KXJldHVybltdO3ZhciBzPW8ubGVuZ3RoP29bby5sZW5ndGgtMV0udmFsdWU6aVsxXTtyZXR1cm4gblsxXT5zJiYodD9vLnB1c2goe3ZhbHVlOnZ4KHMrZSxyKX0pOm8ucHVzaCh7dmFsdWU6blsxXX0pKSxvfSxlLnByb3RvdHlwZS5nZXRNaW5vclRpY2tzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmdldFRpY2tzKCEwKSxuPVtdLGk9dGhpcy5nZXRFeHRlbnQoKSxyPTE7cjxlLmxlbmd0aDtyKyspe2Zvcih2YXIgbz1lW3JdLGE9ZVtyLTFdLHM9MCxsPVtdLHU9KG8udmFsdWUtYS52YWx1ZSkvdDtzPHQtMTspe3ZhciBoPXZ4KGEudmFsdWUrKHMrMSkqdSk7aD5pWzBdJiZoPGlbMV0mJmwucHVzaChoKSxzKyt9bi5wdXNoKGwpfXJldHVybiBufSxlLnByb3RvdHlwZS5nZXRMYWJlbD1mdW5jdGlvbih0LGUpe2lmKG51bGw9PXQpcmV0dXJuIiI7dmFyIG49ZSYmZS5wcmVjaXNpb247cmV0dXJuIG51bGw9PW4/bj1Ccih0LnZhbHVlKXx8MDoiYXV0byI9PT1uJiYobj10aGlzLl9pbnRlcnZhbFByZWNpc2lvbiksZXAodngodC52YWx1ZSxuLCEwKSl9LGUucHJvdG90eXBlLmNhbGNOaWNlVGlja3M9ZnVuY3Rpb24odCxlLG4pe3Q9dHx8NTt2YXIgaT10aGlzLl9leHRlbnQscj1pWzFdLWlbMF07aWYoaXNGaW5pdGUocikpe3I8MCYmKHI9LXIsaS5yZXZlcnNlKCkpO3ZhciBvPXV4KGksdCxlLG4pO3RoaXMuX2ludGVydmFsUHJlY2lzaW9uPW8uaW50ZXJ2YWxQcmVjaXNpb24sdGhpcy5faW50ZXJ2YWw9by5pbnRlcnZhbCx0aGlzLl9uaWNlRXh0ZW50PW8ubmljZVRpY2tFeHRlbnR9fSxlLnByb3RvdHlwZS5jYWxjTmljZUV4dGVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9leHRlbnQ7aWYoZVswXT09PWVbMV0paWYoMCE9PWVbMF0pe3ZhciBuPWVbMF07dC5maXhNYXh8fChlWzFdKz1uLzIpLGVbMF0tPW4vMn1lbHNlIGVbMV09MTt2YXIgaT1lWzFdLWVbMF07aXNGaW5pdGUoaSl8fChlWzBdPTAsZVsxXT0xKSx0aGlzLmNhbGNOaWNlVGlja3ModC5zcGxpdE51bWJlcix0Lm1pbkludGVydmFsLHQubWF4SW50ZXJ2YWwpO3ZhciByPXRoaXMuX2ludGVydmFsO3QuZml4TWlufHwoZVswXT12eChNYXRoLmZsb29yKGVbMF0vcikqcikpLHQuZml4TWF4fHwoZVsxXT12eChNYXRoLmNlaWwoZVsxXS9yKSpyKSl9LGUucHJvdG90eXBlLnNldE5pY2VFeHRlbnQ9ZnVuY3Rpb24odCxlKXt0aGlzLl9uaWNlRXh0ZW50PVt0LGVdfSxlLnR5cGU9ImludGVydmFsIixlfShyeCk7cngucmVnaXN0ZXJDbGFzcyhteCk7dmFyIHh4PSJ1bmRlZmluZWQiIT10eXBlb2YgRmxvYXQzMkFycmF5LF94PXh4P0Zsb2F0MzJBcnJheTpBcnJheTtmdW5jdGlvbiBieCh0KXtyZXR1cm4gWSh0KT94eD9uZXcgRmxvYXQzMkFycmF5KHQpOnQ6bmV3IF94KHQpfXZhciBTeD0iX19lY19zdGFja18iO2Z1bmN0aW9uIE14KHQpe3JldHVybiB0LmdldCgic3RhY2siKXx8U3grdC5zZXJpZXNJbmRleH1mdW5jdGlvbiBJeCh0KXtyZXR1cm4gdC5kaW0rdC5pbmRleH1mdW5jdGlvbiBUeCh0LGUpe3ZhciBuPVtdO3JldHVybiBlLmVhY2hTZXJpZXNCeVR5cGUodCwoZnVuY3Rpb24odCl7THgodCkmJm4ucHVzaCh0KX0pKSxufWZ1bmN0aW9uIEN4KHQpe3ZhciBlPWZ1bmN0aW9uKHQpe3ZhciBlPXt9O0UodCwoZnVuY3Rpb24odCl7dmFyIG49dC5jb29yZGluYXRlU3lzdGVtLmdldEJhc2VBeGlzKCk7aWYoInRpbWUiPT09bi50eXBlfHwidmFsdWUiPT09bi50eXBlKWZvcih2YXIgaT10LmdldERhdGEoKSxyPW4uZGltKyJfIituLmluZGV4LG89aS5nZXREaW1lbnNpb25JbmRleChpLm1hcERpbWVuc2lvbihuLmRpbSkpLGE9aS5nZXRTdG9yZSgpLHM9MCxsPWEuY291bnQoKTtzPGw7KytzKXt2YXIgdT1hLmdldChvLHMpO2Vbcl0/ZVtyXS5wdXNoKHUpOmVbcl09W3VdfX0pKTt2YXIgbj17fTtmb3IodmFyIGkgaW4gZSlpZihlLmhhc093blByb3BlcnR5KGkpKXt2YXIgcj1lW2ldO2lmKHIpe3Iuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1lfSkpO2Zvcih2YXIgbz1udWxsLGE9MTthPHIubGVuZ3RoOysrYSl7dmFyIHM9clthXS1yW2EtMV07cz4wJiYobz1udWxsPT09bz9zOk1hdGgubWluKG8scykpfW5baV09b319cmV0dXJuIG59KHQpLG49W107cmV0dXJuIEUodCwoZnVuY3Rpb24odCl7dmFyIGkscj10LmNvb3JkaW5hdGVTeXN0ZW0uZ2V0QmFzZUF4aXMoKSxvPXIuZ2V0RXh0ZW50KCk7aWYoImNhdGVnb3J5Ij09PXIudHlwZSlpPXIuZ2V0QmFuZFdpZHRoKCk7ZWxzZSBpZigidmFsdWUiPT09ci50eXBlfHwidGltZSI9PT1yLnR5cGUpe3ZhciBhPXIuZGltKyJfIityLmluZGV4LHM9ZVthXSxsPU1hdGguYWJzKG9bMV0tb1swXSksdT1yLnNjYWxlLmdldEV4dGVudCgpLGg9TWF0aC5hYnModVsxXS11WzBdKTtpPXM/bC9oKnM6bH1lbHNle3ZhciBjPXQuZ2V0RGF0YSgpO2k9TWF0aC5hYnMob1sxXS1vWzBdKS9jLmNvdW50KCl9dmFyIHA9RXIodC5nZXQoImJhcldpZHRoIiksaSksZD1Fcih0LmdldCgiYmFyTWF4V2lkdGgiKSxpKSxmPUVyKHQuZ2V0KCJiYXJNaW5XaWR0aCIpfHwoUHgodCk/LjU6MSksaSksZz10LmdldCgiYmFyR2FwIikseT10LmdldCgiYmFyQ2F0ZWdvcnlHYXAiKTtuLnB1c2goe2JhbmRXaWR0aDppLGJhcldpZHRoOnAsYmFyTWF4V2lkdGg6ZCxiYXJNaW5XaWR0aDpmLGJhckdhcDpnLGJhckNhdGVnb3J5R2FwOnksYXhpc0tleTpJeChyKSxzdGFja0lkOk14KHQpfSl9KSksRHgobil9ZnVuY3Rpb24gRHgodCl7dmFyIGU9e307RSh0LChmdW5jdGlvbih0LG4pe3ZhciBpPXQuYXhpc0tleSxyPXQuYmFuZFdpZHRoLG89ZVtpXXx8e2JhbmRXaWR0aDpyLHJlbWFpbmVkV2lkdGg6cixhdXRvV2lkdGhDb3VudDowLGNhdGVnb3J5R2FwOm51bGwsZ2FwOiIyMCUiLHN0YWNrczp7fX0sYT1vLnN0YWNrcztlW2ldPW87dmFyIHM9dC5zdGFja0lkO2Fbc118fG8uYXV0b1dpZHRoQ291bnQrKyxhW3NdPWFbc118fHt3aWR0aDowLG1heFdpZHRoOjB9O3ZhciBsPXQuYmFyV2lkdGg7bCYmIWFbc10ud2lkdGgmJihhW3NdLndpZHRoPWwsbD1NYXRoLm1pbihvLnJlbWFpbmVkV2lkdGgsbCksby5yZW1haW5lZFdpZHRoLT1sKTt2YXIgdT10LmJhck1heFdpZHRoO3UmJihhW3NdLm1heFdpZHRoPXUpO3ZhciBoPXQuYmFyTWluV2lkdGg7aCYmKGFbc10ubWluV2lkdGg9aCk7dmFyIGM9dC5iYXJHYXA7bnVsbCE9YyYmKG8uZ2FwPWMpO3ZhciBwPXQuYmFyQ2F0ZWdvcnlHYXA7bnVsbCE9cCYmKG8uY2F0ZWdvcnlHYXA9cCl9KSk7dmFyIG49e307cmV0dXJuIEUoZSwoZnVuY3Rpb24odCxlKXtuW2VdPXt9O3ZhciBpPXQuc3RhY2tzLHI9dC5iYW5kV2lkdGgsbz10LmNhdGVnb3J5R2FwO2lmKG51bGw9PW8pe3ZhciBhPUcoaSkubGVuZ3RoO289TWF0aC5tYXgoMzUtNCphLDE1KSsiJSJ9dmFyIHM9RXIobyxyKSxsPUVyKHQuZ2FwLDEpLHU9dC5yZW1haW5lZFdpZHRoLGg9dC5hdXRvV2lkdGhDb3VudCxjPSh1LXMpLyhoKyhoLTEpKmwpO2M9TWF0aC5tYXgoYywwKSxFKGksKGZ1bmN0aW9uKHQpe3ZhciBlPXQubWF4V2lkdGgsbj10Lm1pbldpZHRoO2lmKHQud2lkdGgpe2k9dC53aWR0aDtlJiYoaT1NYXRoLm1pbihpLGUpKSxuJiYoaT1NYXRoLm1heChpLG4pKSx0LndpZHRoPWksdS09aStsKmksaC0tfWVsc2V7dmFyIGk9YztlJiZlPGkmJihpPU1hdGgubWluKGUsdSkpLG4mJm4+aSYmKGk9biksaSE9PWMmJih0LndpZHRoPWksdS09aStsKmksaC0tKX19KSksYz0odS1zKS8oaCsoaC0xKSpsKSxjPU1hdGgubWF4KGMsMCk7dmFyIHAsZD0wO0UoaSwoZnVuY3Rpb24odCxlKXt0LndpZHRofHwodC53aWR0aD1jKSxwPXQsZCs9dC53aWR0aCooMStsKX0pKSxwJiYoZC09cC53aWR0aCpsKTt2YXIgZj0tZC8yO0UoaSwoZnVuY3Rpb24odCxpKXtuW2VdW2ldPW5bZV1baV18fHtiYW5kV2lkdGg6cixvZmZzZXQ6Zix3aWR0aDp0LndpZHRofSxmKz10LndpZHRoKigxK2wpfSkpfSkpLG59ZnVuY3Rpb24gQXgodCxlKXt2YXIgbj1UeCh0LGUpLGk9Q3gobik7RShuLChmdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoKSxuPXQuY29vcmRpbmF0ZVN5c3RlbS5nZXRCYXNlQXhpcygpLHI9TXgodCksbz1pW0l4KG4pXVtyXSxhPW8ub2Zmc2V0LHM9by53aWR0aDtlLnNldExheW91dCh7YmFuZFdpZHRoOm8uYmFuZFdpZHRoLG9mZnNldDphLHNpemU6c30pfSkpfWZ1bmN0aW9uIGt4KHQpe3JldHVybntzZXJpZXNUeXBlOnQscGxhbjp5ZygpLHJlc2V0OmZ1bmN0aW9uKHQpe2lmKEx4KHQpKXt2YXIgZT10LmdldERhdGEoKSxuPXQuY29vcmRpbmF0ZVN5c3RlbSxpPW4uZ2V0QmFzZUF4aXMoKSxyPW4uZ2V0T3RoZXJBeGlzKGkpLG89ZS5nZXREaW1lbnNpb25JbmRleChlLm1hcERpbWVuc2lvbihyLmRpbSkpLGE9ZS5nZXREaW1lbnNpb25JbmRleChlLm1hcERpbWVuc2lvbihpLmRpbSkpLHM9dC5nZXQoInNob3dCYWNrZ3JvdW5kIiwhMCksbD1lLm1hcERpbWVuc2lvbihyLmRpbSksdT1lLmdldENhbGN1bGF0aW9uSW5mbygic3RhY2tSZXN1bHREaW1lbnNpb24iKSxoPWV4KGUsbCkmJiEhZS5nZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrZWRPblNlcmllcyIpLGM9ci5pc0hvcml6b250YWwoKSxwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUudG9HbG9iYWxDb29yZChlLmRhdGFUb0Nvb3JkKCJsb2ciPT09ZS50eXBlPzE6MCkpfSgwLHIpLGQ9UHgodCksZj10LmdldCgiYmFyTWluSGVpZ2h0Iil8fDAsZz11JiZlLmdldERpbWVuc2lvbkluZGV4KHUpLHk9ZS5nZXRMYXlvdXQoInNpemUiKSx2PWUuZ2V0TGF5b3V0KCJvZmZzZXQiKTtyZXR1cm57cHJvZ3Jlc3M6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkscj10LmNvdW50LGw9ZCYmYngoMypyKSx1PWQmJnMmJmJ4KDMqciksbT1kJiZieChyKSx4PW4ubWFzdGVyLmdldFJlY3QoKSxfPWM/eC53aWR0aDp4LmhlaWdodCxiPWUuZ2V0U3RvcmUoKSx3PTA7bnVsbCE9KGk9dC5uZXh0KCkpOyl7dmFyIFM9Yi5nZXQoaD9nOm8saSksTT1iLmdldChhLGkpLEk9cCxUPXZvaWQgMDtoJiYoVD0rUy1iLmdldChvLGkpKTt2YXIgQz12b2lkIDAsRD12b2lkIDAsQT12b2lkIDAsaz12b2lkIDA7aWYoYyl7dmFyIEw9bi5kYXRhVG9Qb2ludChbUyxNXSk7aWYoaClJPW4uZGF0YVRvUG9pbnQoW1QsTV0pWzBdO0M9SSxEPUxbMV0rdixBPUxbMF0tSSxrPXksTWF0aC5hYnMoQSk8ZiYmKEE9KEE8MD8tMToxKSpmKX1lbHNle0w9bi5kYXRhVG9Qb2ludChbTSxTXSk7aWYoaClJPW4uZGF0YVRvUG9pbnQoW00sVF0pWzFdO0M9TFswXSt2LEQ9SSxBPXksaz1MWzFdLUksTWF0aC5hYnMoayk8ZiYmKGs9KGs8PTA/LTE6MSkqZil9ZD8obFt3XT1DLGxbdysxXT1ELGxbdysyXT1jP0E6ayx1JiYodVt3XT1jP3gueDpDLHVbdysxXT1jP0Q6eC55LHVbdysyXT1fKSxtW2ldPWkpOmUuc2V0SXRlbUxheW91dChpLHt4OkMseTpELHdpZHRoOkEsaGVpZ2h0Omt9KSx3Kz0zfWQmJmUuc2V0TGF5b3V0KHtsYXJnZVBvaW50czpsLGxhcmdlRGF0YUluZGljZXM6bSxsYXJnZUJhY2tncm91bmRQb2ludHM6dSx2YWx1ZUF4aXNIb3Jpem9udGFsOmN9KX19fX19fWZ1bmN0aW9uIEx4KHQpe3JldHVybiB0LmNvb3JkaW5hdGVTeXN0ZW0mJiJjYXJ0ZXNpYW4yZCI9PT10LmNvb3JkaW5hdGVTeXN0ZW0udHlwZX1mdW5jdGlvbiBQeCh0KXtyZXR1cm4gdC5waXBlbGluZUNvbnRleHQmJnQucGlwZWxpbmVDb250ZXh0LmxhcmdlfXZhciBPeD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGUpfHx0aGlzO3JldHVybiBuLnR5cGU9InRpbWUiLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRMYWJlbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFNldHRpbmcoInVzZVVUQyIpO3JldHVybiBWYyh0LnZhbHVlLFBjW2Z1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlInllYXIiOmNhc2UibW9udGgiOnJldHVybiJkYXkiO2Nhc2UibWlsbGlzZWNvbmQiOnJldHVybiJtaWxsaXNlY29uZCI7ZGVmYXVsdDpyZXR1cm4ic2Vjb25kIn19KEVjKHRoaXMuX21pbkxldmVsVW5pdCkpXXx8UGMuc2Vjb25kLGUsdGhpcy5nZXRTZXR0aW5nKCJsb2NhbGUiKSl9LGUucHJvdG90eXBlLmdldEZvcm1hdHRlZExhYmVsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmdldFNldHRpbmcoInVzZVVUQyIpO3JldHVybiBmdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPW51bGw7aWYoWChuKSlvPW47ZWxzZSBpZihVKG4pKW89bih0LnZhbHVlLGUse2xldmVsOnQubGV2ZWx9KTtlbHNle3ZhciBhPUEoe30sa2MpO2lmKHQubGV2ZWw+MClmb3IodmFyIHM9MDtzPE9jLmxlbmd0aDsrK3MpYVtPY1tzXV09IntwcmltYXJ5fCIrYVtPY1tzXV0rIn0iO3ZhciBsPW4/ITE9PT1uLmluaGVyaXQ/bjprKG4sYSk6YSx1PUJjKHQudmFsdWUscik7aWYobFt1XSlvPWxbdV07ZWxzZSBpZihsLmluaGVyaXQpe2ZvcihzPVJjLmluZGV4T2YodSktMTtzPj0wOy0tcylpZihsW3VdKXtvPWxbdV07YnJlYWt9bz1vfHxhLm5vbmV9aWYoWShvKSl7dmFyIGg9bnVsbD09dC5sZXZlbD8wOnQubGV2ZWw+PTA/dC5sZXZlbDpvLmxlbmd0aCt0LmxldmVsO289b1toPU1hdGgubWluKGgsby5sZW5ndGgtMSldfX1yZXR1cm4gVmMobmV3IERhdGUodC52YWx1ZSksbyxyLGkpfSh0LGUsbix0aGlzLmdldFNldHRpbmcoImxvY2FsZSIpLGkpfSxlLnByb3RvdHlwZS5nZXRUaWNrcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ludGVydmFsLGU9dGhpcy5fZXh0ZW50LG49W107aWYoIXQpcmV0dXJuIG47bi5wdXNoKHt2YWx1ZTplWzBdLGxldmVsOjB9KTt2YXIgaT10aGlzLmdldFNldHRpbmcoInVzZVVUQyIpLHI9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9MWU0LG89UmMsYT0wO2Z1bmN0aW9uIHModCxlLG4scixvLGEscyl7Zm9yKHZhciBsPW5ldyBEYXRlKGUpLHU9ZSxoPWxbcl0oKTt1PG4mJnU8PWlbMV07KXMucHVzaCh7dmFsdWU6dX0pLGgrPXQsbFtvXShoKSx1PWwuZ2V0VGltZSgpO3MucHVzaCh7dmFsdWU6dSxub3RBZGQ6ITB9KX1mdW5jdGlvbiBsKHQscixvKXt2YXIgYT1bXSxsPSFyLmxlbmd0aDtpZighZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9anIoZSksbz1qcihuKSxhPWZ1bmN0aW9uKHQpe3JldHVybiBGYyhyLHQsaSk9PT1GYyhvLHQsaSl9LHM9ZnVuY3Rpb24oKXtyZXR1cm4gYSgieWVhciIpfSxsPWZ1bmN0aW9uKCl7cmV0dXJuIHMoKSYmYSgibW9udGgiKX0sdT1mdW5jdGlvbigpe3JldHVybiBsKCkmJmEoImRheSIpfSxoPWZ1bmN0aW9uKCl7cmV0dXJuIHUoKSYmYSgiaG91ciIpfSxjPWZ1bmN0aW9uKCl7cmV0dXJuIGgoKSYmYSgibWludXRlIil9LHA9ZnVuY3Rpb24oKXtyZXR1cm4gYygpJiZhKCJzZWNvbmQiKX0sZD1mdW5jdGlvbigpe3JldHVybiBwKCkmJmEoIm1pbGxpc2Vjb25kIil9O3N3aXRjaCh0KXtjYXNlInllYXIiOnJldHVybiBzKCk7Y2FzZSJtb250aCI6cmV0dXJuIGwoKTtjYXNlImRheSI6cmV0dXJuIHUoKTtjYXNlImhvdXIiOnJldHVybiBoKCk7Y2FzZSJtaW51dGUiOnJldHVybiBjKCk7Y2FzZSJzZWNvbmQiOnJldHVybiBwKCk7Y2FzZSJtaWxsaXNlY29uZCI6cmV0dXJuIGQoKX19KEVjKHQpLGlbMF0saVsxXSxuKSl7bCYmKHI9W3t2YWx1ZTpGeChuZXcgRGF0ZShpWzBdKSx0LG4pfSx7dmFsdWU6aVsxXX1dKTtmb3IodmFyIHU9MDt1PHIubGVuZ3RoLTE7dSsrKXt2YXIgaD1yW3VdLnZhbHVlLGM9clt1KzFdLnZhbHVlO2lmKGghPT1jKXt2YXIgcD12b2lkIDAsZD12b2lkIDAsZj12b2lkIDAsZz0hMTtzd2l0Y2godCl7Y2FzZSJ5ZWFyIjpwPU1hdGgubWF4KDEsTWF0aC5yb3VuZChlL0RjLzM2NSkpLGQ9R2MobiksZj1qYyhuKTticmVhaztjYXNlImhhbGYteWVhciI6Y2FzZSJxdWFydGVyIjpjYXNlIm1vbnRoIjpwPUV4KGUpLGQ9V2MobiksZj1xYyhuKTticmVhaztjYXNlIndlZWsiOmNhc2UiaGFsZi13ZWVrIjpjYXNlImRheSI6cD1OeChlKSxkPUhjKG4pLGY9S2MobiksZz0hMDticmVhaztjYXNlImhhbGYtZGF5IjpjYXNlInF1YXJ0ZXItZGF5IjpjYXNlImhvdXIiOnA9engoZSksZD1ZYyhuKSxmPSRjKG4pO2JyZWFrO2Nhc2UibWludXRlIjpwPVZ4KGUsITApLGQ9VWMobiksZj1KYyhuKTticmVhaztjYXNlInNlY29uZCI6cD1WeChlLCExKSxkPVhjKG4pLGY9UWMobik7YnJlYWs7Y2FzZSJtaWxsaXNlY29uZCI6cD1CeChlKSxkPVpjKG4pLGY9dHAobil9cyhwLGgsYyxkLGYsZyxhKSwieWVhciI9PT10JiZvLmxlbmd0aD4xJiYwPT09dSYmby51bnNoaWZ0KHt2YWx1ZTpvWzBdLnZhbHVlLXB9KX19Zm9yKHU9MDt1PGEubGVuZ3RoO3UrKylvLnB1c2goYVt1XSk7cmV0dXJuIGF9fWZvcih2YXIgdT1bXSxoPVtdLGM9MCxwPTAsZD0wO2Q8by5sZW5ndGgmJmErKzxyOysrZCl7dmFyIGY9RWMob1tkXSk7aWYoemMob1tkXSkpaWYobChvW2RdLHVbdS5sZW5ndGgtMV18fFtdLGgpLGYhPT0ob1tkKzFdP0VjKG9bZCsxXSk6bnVsbCkpe2lmKGgubGVuZ3RoKXtwPWMsaC5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnZhbHVlLWUudmFsdWV9KSk7Zm9yKHZhciBnPVtdLHk9MDt5PGgubGVuZ3RoOysreSl7dmFyIHY9aFt5XS52YWx1ZTswIT09eSYmaFt5LTFdLnZhbHVlPT09dnx8KGcucHVzaChoW3ldKSx2Pj1pWzBdJiZ2PD1pWzFdJiZjKyspfXZhciBtPShpWzFdLWlbMF0pL2U7aWYoYz4xLjUqbSYmcD5tLzEuNSlicmVhaztpZih1LnB1c2goZyksYz5tfHx0PT09b1tkXSlicmVha31oPVtdfX0wO3ZhciB4PUIoeih1LChmdW5jdGlvbih0KXtyZXR1cm4gQih0LChmdW5jdGlvbih0KXtyZXR1cm4gdC52YWx1ZT49aVswXSYmdC52YWx1ZTw9aVsxXSYmIXQubm90QWRkfSkpfSkpLChmdW5jdGlvbih0KXtyZXR1cm4gdC5sZW5ndGg+MH0pKSxfPVtdLGI9eC5sZW5ndGgtMTtmb3IoZD0wO2Q8eC5sZW5ndGg7KytkKWZvcih2YXIgdz14W2RdLFM9MDtTPHcubGVuZ3RoOysrUylfLnB1c2goe3ZhbHVlOndbU10udmFsdWUsbGV2ZWw6Yi1kfSk7Xy5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnZhbHVlLWUudmFsdWV9KSk7dmFyIE09W107Zm9yKGQ9MDtkPF8ubGVuZ3RoOysrZCkwIT09ZCYmX1tkXS52YWx1ZT09PV9bZC0xXS52YWx1ZXx8TS5wdXNoKF9bZF0pO3JldHVybiBNfSh0aGlzLl9taW5MZXZlbFVuaXQsdGhpcy5fYXBwcm94SW50ZXJ2YWwsaSxlKTtyZXR1cm4obj1uLmNvbmNhdChyKSkucHVzaCh7dmFsdWU6ZVsxXSxsZXZlbDowfSksbn0sZS5wcm90b3R5cGUuY2FsY05pY2VFeHRlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZXh0ZW50O2lmKGVbMF09PT1lWzFdJiYoZVswXS09RGMsZVsxXSs9RGMpLGVbMV09PT0tMS8wJiZlWzBdPT09MS8wKXt2YXIgbj1uZXcgRGF0ZTtlWzFdPStuZXcgRGF0ZShuLmdldEZ1bGxZZWFyKCksbi5nZXRNb250aCgpLG4uZ2V0RGF0ZSgpKSxlWzBdPWVbMV0tRGN9dGhpcy5jYWxjTmljZVRpY2tzKHQuc3BsaXROdW1iZXIsdC5taW5JbnRlcnZhbCx0Lm1heEludGVydmFsKX0sZS5wcm90b3R5cGUuY2FsY05pY2VUaWNrcz1mdW5jdGlvbih0LGUsbil7dD10fHwxMDt2YXIgaT10aGlzLl9leHRlbnQscj1pWzFdLWlbMF07dGhpcy5fYXBwcm94SW50ZXJ2YWw9ci90LG51bGwhPWUmJnRoaXMuX2FwcHJveEludGVydmFsPGUmJih0aGlzLl9hcHByb3hJbnRlcnZhbD1lKSxudWxsIT1uJiZ0aGlzLl9hcHByb3hJbnRlcnZhbD5uJiYodGhpcy5fYXBwcm94SW50ZXJ2YWw9bik7dmFyIG89UngubGVuZ3RoLGE9TWF0aC5taW4oZnVuY3Rpb24odCxlLG4saSl7Zm9yKDtuPGk7KXt2YXIgcj1uK2k+Pj4xO3Rbcl1bMV08ZT9uPXIrMTppPXJ9cmV0dXJuIG59KFJ4LHRoaXMuX2FwcHJveEludGVydmFsLDAsbyksby0xKTt0aGlzLl9pbnRlcnZhbD1SeFthXVsxXSx0aGlzLl9taW5MZXZlbFVuaXQ9UnhbTWF0aC5tYXgoYS0xLDApXVswXX0sZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCl7cmV0dXJuIGoodCk/dDoranIodCl9LGUucHJvdG90eXBlLmNvbnRhaW49ZnVuY3Rpb24odCl7cmV0dXJuIGR4KHRoaXMucGFyc2UodCksdGhpcy5fZXh0ZW50KX0sZS5wcm90b3R5cGUubm9ybWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiBmeCh0aGlzLnBhcnNlKHQpLHRoaXMuX2V4dGVudCl9LGUucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKHQpe3JldHVybiBneCh0LHRoaXMuX2V4dGVudCl9LGUudHlwZT0idGltZSIsZX0obXgpLFJ4PVtbInNlY29uZCIsSWNdLFsibWludXRlIixUY10sWyJob3VyIixDY10sWyJxdWFydGVyLWRheSIsMjE2ZTVdLFsiaGFsZi1kYXkiLDQzMmU1XSxbImRheSIsMTAzNjhlNF0sWyJoYWxmLXdlZWsiLDMwMjRlNV0sWyJ3ZWVrIiw2MDQ4ZTVdLFsibW9udGgiLDI2Nzg0ZTVdLFsicXVhcnRlciIsODIwOGU2XSxbImhhbGYteWVhciIsQWMvMl0sWyJ5ZWFyIixBY11dO2Z1bmN0aW9uIE54KHQsZSl7cmV0dXJuKHQvPURjKT4xNj8xNjp0PjcuNT83OnQ+My41PzQ6dD4xLjU/MjoxfWZ1bmN0aW9uIEV4KHQpe3JldHVybih0Lz0yNTkyZTYpPjY/Njp0PjM/Mzp0PjI/MjoxfWZ1bmN0aW9uIHp4KHQpe3JldHVybih0Lz1DYyk+MTI/MTI6dD42PzY6dD4zLjU/NDp0PjI/MjoxfWZ1bmN0aW9uIFZ4KHQsZSl7cmV0dXJuKHQvPWU/VGM6SWMpPjMwPzMwOnQ+MjA/MjA6dD4xNT8xNTp0PjEwPzEwOnQ+NT81OnQ+Mj8yOjF9ZnVuY3Rpb24gQngodCl7cmV0dXJuICRyKHQsITApfWZ1bmN0aW9uIEZ4KHQsZSxuKXt2YXIgaT1uZXcgRGF0ZSh0KTtzd2l0Y2goRWMoZSkpe2Nhc2UieWVhciI6Y2FzZSJtb250aCI6aVtxYyhuKV0oMCk7Y2FzZSJkYXkiOmlbS2MobildKDEpO2Nhc2UiaG91ciI6aVskYyhuKV0oMCk7Y2FzZSJtaW51dGUiOmlbSmMobildKDApO2Nhc2Uic2Vjb25kIjppW1FjKG4pXSgwKSxpW3RwKG4pXSgwKX1yZXR1cm4gaS5nZXRUaW1lKCl9cngucmVnaXN0ZXJDbGFzcyhPeCk7dmFyIEd4PXJ4LnByb3RvdHlwZSxXeD1teC5wcm90b3R5cGUsSHg9enIsWXg9TWF0aC5mbG9vcixVeD1NYXRoLmNlaWwsWHg9TWF0aC5wb3csWng9TWF0aC5sb2csang9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS50eXBlPSJsb2ciLGUuYmFzZT0xMCxlLl9vcmlnaW5hbFNjYWxlPW5ldyBteCxlLl9pbnRlcnZhbD0wLGV9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRUaWNrcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9vcmlnaW5hbFNjYWxlLG49dGhpcy5fZXh0ZW50LGk9ZS5nZXRFeHRlbnQoKTtyZXR1cm4geihXeC5nZXRUaWNrcy5jYWxsKHRoaXMsdCksKGZ1bmN0aW9uKHQpe3ZhciBlPXQudmFsdWUscj16cihYeCh0aGlzLmJhc2UsZSkpO3JldHVybiByPWU9PT1uWzBdJiZ0aGlzLl9maXhNaW4/S3gocixpWzBdKTpyLHt2YWx1ZTpyPWU9PT1uWzFdJiZ0aGlzLl9maXhNYXg/S3gocixpWzFdKTpyfX0pLHRoaXMpfSxlLnByb3RvdHlwZS5zZXRFeHRlbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmJhc2U7dD1aeCh0KS9aeChuKSxlPVp4KGUpL1p4KG4pLFd4LnNldEV4dGVudC5jYWxsKHRoaXMsdCxlKX0sZS5wcm90b3R5cGUuZ2V0RXh0ZW50PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5iYXNlLGU9R3guZ2V0RXh0ZW50LmNhbGwodGhpcyk7ZVswXT1YeCh0LGVbMF0pLGVbMV09WHgodCxlWzFdKTt2YXIgbj10aGlzLl9vcmlnaW5hbFNjYWxlLmdldEV4dGVudCgpO3JldHVybiB0aGlzLl9maXhNaW4mJihlWzBdPUt4KGVbMF0sblswXSkpLHRoaXMuX2ZpeE1heCYmKGVbMV09S3goZVsxXSxuWzFdKSksZX0sZS5wcm90b3R5cGUudW5pb25FeHRlbnQ9ZnVuY3Rpb24odCl7dGhpcy5fb3JpZ2luYWxTY2FsZS51bmlvbkV4dGVudCh0KTt2YXIgZT10aGlzLmJhc2U7dFswXT1aeCh0WzBdKS9aeChlKSx0WzFdPVp4KHRbMV0pL1p4KGUpLEd4LnVuaW9uRXh0ZW50LmNhbGwodGhpcyx0KX0sZS5wcm90b3R5cGUudW5pb25FeHRlbnRGcm9tRGF0YT1mdW5jdGlvbih0LGUpe3RoaXMudW5pb25FeHRlbnQodC5nZXRBcHByb3hpbWF0ZUV4dGVudChlKSl9LGUucHJvdG90eXBlLmNhbGNOaWNlVGlja3M9ZnVuY3Rpb24odCl7dD10fHwxMDt2YXIgZT10aGlzLl9leHRlbnQsbj1lWzFdLWVbMF07aWYoIShuPT09MS8wfHxuPD0wKSl7dmFyIGk9cXIobik7Zm9yKHQvbippPD0uNSYmKGkqPTEwKTshaXNOYU4oaSkmJk1hdGguYWJzKGkpPDEmJk1hdGguYWJzKGkpPjA7KWkqPTEwO3ZhciByPVt6cihVeChlWzBdL2kpKmkpLHpyKFl4KGVbMV0vaSkqaSldO3RoaXMuX2ludGVydmFsPWksdGhpcy5fbmljZUV4dGVudD1yfX0sZS5wcm90b3R5cGUuY2FsY05pY2VFeHRlbnQ9ZnVuY3Rpb24odCl7V3guY2FsY05pY2VFeHRlbnQuY2FsbCh0aGlzLHQpLHRoaXMuX2ZpeE1pbj10LmZpeE1pbix0aGlzLl9maXhNYXg9dC5maXhNYXh9LGUucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHQpe3JldHVybiB0fSxlLnByb3RvdHlwZS5jb250YWluPWZ1bmN0aW9uKHQpe3JldHVybiBkeCh0PVp4KHQpL1p4KHRoaXMuYmFzZSksdGhpcy5fZXh0ZW50KX0sZS5wcm90b3R5cGUubm9ybWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiBmeCh0PVp4KHQpL1p4KHRoaXMuYmFzZSksdGhpcy5fZXh0ZW50KX0sZS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9Z3godCx0aGlzLl9leHRlbnQpLFh4KHRoaXMuYmFzZSx0KX0sZS50eXBlPSJsb2ciLGV9KHJ4KSxxeD1qeC5wcm90b3R5cGU7ZnVuY3Rpb24gS3godCxlKXtyZXR1cm4gSHgodCxCcihlKSl9cXguZ2V0TWlub3JUaWNrcz1XeC5nZXRNaW5vclRpY2tzLHF4LmdldExhYmVsPVd4LmdldExhYmVsLHJ4LnJlZ2lzdGVyQ2xhc3MoangpO3ZhciAkeD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMuX3ByZXBhcmVQYXJhbXModCxlLG4pfXJldHVybiB0LnByb3RvdHlwZS5fcHJlcGFyZVBhcmFtcz1mdW5jdGlvbih0LGUsbil7blsxXTxuWzBdJiYobj1bTmFOLE5hTl0pLHRoaXMuX2RhdGFNaW49blswXSx0aGlzLl9kYXRhTWF4PW5bMV07dmFyIGk9dGhpcy5faXNPcmRpbmFsPSJvcmRpbmFsIj09PXQudHlwZTt0aGlzLl9uZWVkQ3Jvc3NaZXJvPSJpbnRlcnZhbCI9PT10LnR5cGUmJmUuZ2V0TmVlZENyb3NzWmVybyYmZS5nZXROZWVkQ3Jvc3NaZXJvKCk7dmFyIHI9dGhpcy5fbW9kZWxNaW5SYXc9ZS5nZXQoIm1pbiIsITApO1Uocik/dGhpcy5fbW9kZWxNaW5OdW09ZV8odCxyKHttaW46blswXSxtYXg6blsxXX0pKToiZGF0YU1pbiIhPT1yJiYodGhpcy5fbW9kZWxNaW5OdW09ZV8odCxyKSk7dmFyIG89dGhpcy5fbW9kZWxNYXhSYXc9ZS5nZXQoIm1heCIsITApO2lmKFUobyk/dGhpcy5fbW9kZWxNYXhOdW09ZV8odCxvKHttaW46blswXSxtYXg6blsxXX0pKToiZGF0YU1heCIhPT1vJiYodGhpcy5fbW9kZWxNYXhOdW09ZV8odCxvKSksaSl0aGlzLl9heGlzRGF0YUxlbj1lLmdldENhdGVnb3JpZXMoKS5sZW5ndGg7ZWxzZXt2YXIgYT1lLmdldCgiYm91bmRhcnlHYXAiKSxzPVkoYSk/YTpbYXx8MCxhfHwwXTsiYm9vbGVhbiI9PXR5cGVvZiBzWzBdfHwiYm9vbGVhbiI9PXR5cGVvZiBzWzFdP3RoaXMuX2JvdW5kYXJ5R2FwSW5uZXI9WzAsMF06dGhpcy5fYm91bmRhcnlHYXBJbm5lcj1bZ3Ioc1swXSwxKSxncihzWzFdLDEpXX19LHQucHJvdG90eXBlLmNhbGN1bGF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2lzT3JkaW5hbCxlPXRoaXMuX2RhdGFNaW4sbj10aGlzLl9kYXRhTWF4LGk9dGhpcy5fYXhpc0RhdGFMZW4scj10aGlzLl9ib3VuZGFyeUdhcElubmVyLG89dD9udWxsOm4tZXx8TWF0aC5hYnMoZSksYT0iZGF0YU1pbiI9PT10aGlzLl9tb2RlbE1pblJhdz9lOnRoaXMuX21vZGVsTWluTnVtLHM9ImRhdGFNYXgiPT09dGhpcy5fbW9kZWxNYXhSYXc/bjp0aGlzLl9tb2RlbE1heE51bSxsPW51bGwhPWEsdT1udWxsIT1zO251bGw9PWEmJihhPXQ/aT8wOk5hTjplLXJbMF0qbyksbnVsbD09cyYmKHM9dD9pP2ktMTpOYU46bityWzFdKm8pLChudWxsPT1hfHwhaXNGaW5pdGUoYSkpJiYoYT1OYU4pLChudWxsPT1zfHwhaXNGaW5pdGUocykpJiYocz1OYU4pO3ZhciBoPW50KGEpfHxudChzKXx8dCYmIWk7dGhpcy5fbmVlZENyb3NzWmVybyYmKGE+MCYmcz4wJiYhbCYmKGE9MCksYTwwJiZzPDAmJiF1JiYocz0wKSk7dmFyIGM9dGhpcy5fZGV0ZXJtaW5lZE1pbixwPXRoaXMuX2RldGVybWluZWRNYXg7cmV0dXJuIG51bGwhPWMmJihhPWMsbD0hMCksbnVsbCE9cCYmKHM9cCx1PSEwKSx7bWluOmEsbWF4OnMsbWluRml4ZWQ6bCxtYXhGaXhlZDp1LGlzQmxhbms6aH19LHQucHJvdG90eXBlLm1vZGlmeURhdGFNaW5NYXg9ZnVuY3Rpb24odCxlKXt0aGlzW1F4W3RdXT1lfSx0LnByb3RvdHlwZS5zZXREZXRlcm1pbmVkTWluTWF4PWZ1bmN0aW9uKHQsZSl7dmFyIG49SnhbdF07dGhpc1tuXT1lfSx0LnByb3RvdHlwZS5mcmVlemU9ZnVuY3Rpb24oKXt0aGlzLmZyb3plbj0hMH0sdH0oKSxKeD17bWluOiJfZGV0ZXJtaW5lZE1pbiIsbWF4OiJfZGV0ZXJtaW5lZE1heCJ9LFF4PXttaW46Il9kYXRhTWluIixtYXg6Il9kYXRhTWF4In07ZnVuY3Rpb24gdF8odCxlLG4pe3ZhciBpPXQucmF3RXh0ZW50SW5mbztyZXR1cm4gaXx8KGk9bmV3ICR4KHQsZSxuKSx0LnJhd0V4dGVudEluZm89aSxpKX1mdW5jdGlvbiBlXyh0LGUpe3JldHVybiBudWxsPT1lP251bGw6bnQoZSk/TmFOOnQucGFyc2UoZSl9ZnVuY3Rpb24gbl8odCxlKXt2YXIgbj10LnR5cGUsaT10Xyh0LGUsdC5nZXRFeHRlbnQoKSkuY2FsY3VsYXRlKCk7dC5zZXRCbGFuayhpLmlzQmxhbmspO3ZhciByPWkubWluLG89aS5tYXgsYT1lLmVjTW9kZWw7aWYoYSYmInRpbWUiPT09bil7dmFyIHM9VHgoImJhciIsYSksbD0hMTtpZihFKHMsKGZ1bmN0aW9uKHQpe2w9bHx8dC5nZXRCYXNlQXhpcygpPT09ZS5heGlzfSkpLGwpe3ZhciB1PUN4KHMpLGg9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bi5heGlzLmdldEV4dGVudCgpLG89clsxXS1yWzBdLGE9ZnVuY3Rpb24odCxlLG4pe2lmKHQmJmUpe3ZhciBpPXRbSXgoZSldO3JldHVybiBudWxsIT1pJiZudWxsIT1uP2lbTXgobildOml9fShpLG4uYXhpcyk7aWYodm9pZCAwPT09YSlyZXR1cm57bWluOnQsbWF4OmV9O3ZhciBzPTEvMDtFKGEsKGZ1bmN0aW9uKHQpe3M9TWF0aC5taW4odC5vZmZzZXQscyl9KSk7dmFyIGw9LTEvMDtFKGEsKGZ1bmN0aW9uKHQpe2w9TWF0aC5tYXgodC5vZmZzZXQrdC53aWR0aCxsKX0pKSxzPU1hdGguYWJzKHMpLGw9TWF0aC5hYnMobCk7dmFyIHU9cytsLGg9ZS10LGM9aC8oMS0ocytsKS9vKS1oO3JldHVybnttaW46dC09Yyoocy91KSxtYXg6ZSs9YyoobC91KX19KHIsbyxlLHUpO3I9aC5taW4sbz1oLm1heH19cmV0dXJue2V4dGVudDpbcixvXSxmaXhNaW46aS5taW5GaXhlZCxmaXhNYXg6aS5tYXhGaXhlZH19ZnVuY3Rpb24gaV8odCxlKXt2YXIgbj1lLGk9bl8odCxuKSxyPWkuZXh0ZW50LG89bi5nZXQoInNwbGl0TnVtYmVyIik7dCBpbnN0YW5jZW9mIGp4JiYodC5iYXNlPW4uZ2V0KCJsb2dCYXNlIikpO3ZhciBhPXQudHlwZSxzPW4uZ2V0KCJpbnRlcnZhbCIpLGw9ImludGVydmFsIj09PWF8fCJ0aW1lIj09PWE7dC5zZXRFeHRlbnQoclswXSxyWzFdKSx0LmNhbGNOaWNlRXh0ZW50KHtzcGxpdE51bWJlcjpvLGZpeE1pbjppLmZpeE1pbixmaXhNYXg6aS5maXhNYXgsbWluSW50ZXJ2YWw6bD9uLmdldCgibWluSW50ZXJ2YWwiKTpudWxsLG1heEludGVydmFsOmw/bi5nZXQoIm1heEludGVydmFsIik6bnVsbH0pLG51bGwhPXMmJnQuc2V0SW50ZXJ2YWwmJnQuc2V0SW50ZXJ2YWwocyl9ZnVuY3Rpb24gcl8odCxlKXtpZihlPWV8fHQuZ2V0KCJ0eXBlIikpc3dpdGNoKGUpe2Nhc2UiY2F0ZWdvcnkiOnJldHVybiBuZXcgeXgoe29yZGluYWxNZXRhOnQuZ2V0T3JkaW5hbE1ldGE/dC5nZXRPcmRpbmFsTWV0YSgpOnQuZ2V0Q2F0ZWdvcmllcygpLGV4dGVudDpbMS8wLC0xLzBdfSk7Y2FzZSJ0aW1lIjpyZXR1cm4gbmV3IE94KHtsb2NhbGU6dC5lY01vZGVsLmdldExvY2FsZU1vZGVsKCksdXNlVVRDOnQuZWNNb2RlbC5nZXQoInVzZVVUQyIpfSk7ZGVmYXVsdDpyZXR1cm4gbmV3KHJ4LmdldENsYXNzKGUpfHxteCl9fWZ1bmN0aW9uIG9fKHQpe3ZhciBlLG4saT10LmdldExhYmVsTW9kZWwoKS5nZXQoImZvcm1hdHRlciIpLHI9ImNhdGVnb3J5Ij09PXQudHlwZT90LnNjYWxlLmdldEV4dGVudCgpWzBdOm51bGw7cmV0dXJuInRpbWUiPT09dC5zY2FsZS50eXBlPyhuPWksZnVuY3Rpb24oZSxpKXtyZXR1cm4gdC5zY2FsZS5nZXRGb3JtYXR0ZWRMYWJlbChlLGksbil9KTpYKGkpP2Z1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgaT10LnNjYWxlLmdldExhYmVsKG4pO3JldHVybiBlLnJlcGxhY2UoInt2YWx1ZX0iLG51bGwhPWk/aToiIil9fShpKTpVKGkpPyhlPWksZnVuY3Rpb24obixpKXtyZXR1cm4gbnVsbCE9ciYmKGk9bi52YWx1ZS1yKSxlKGFfKHQsbiksaSxudWxsIT1uLmxldmVsP3tsZXZlbDpuLmxldmVsfTpudWxsKX0pOmZ1bmN0aW9uKGUpe3JldHVybiB0LnNjYWxlLmdldExhYmVsKGUpfX1mdW5jdGlvbiBhXyh0LGUpe3JldHVybiJjYXRlZ29yeSI9PT10LnR5cGU/dC5zY2FsZS5nZXRMYWJlbChlKTplLnZhbHVlfWZ1bmN0aW9uIHNfKHQsZSl7dmFyIG49ZSpNYXRoLlBJLzE4MCxpPXQud2lkdGgscj10LmhlaWdodCxvPWkqTWF0aC5hYnMoTWF0aC5jb3MobikpK01hdGguYWJzKHIqTWF0aC5zaW4obikpLGE9aSpNYXRoLmFicyhNYXRoLnNpbihuKSkrTWF0aC5hYnMocipNYXRoLmNvcyhuKSk7cmV0dXJuIG5ldyBzcih0LngsdC55LG8sYSl9ZnVuY3Rpb24gbF8odCl7dmFyIGU9dC5nZXQoImludGVydmFsIik7cmV0dXJuIG51bGw9PWU/ImF1dG8iOmV9ZnVuY3Rpb24gdV8odCl7cmV0dXJuImNhdGVnb3J5Ij09PXQudHlwZSYmMD09PWxfKHQuZ2V0TGFiZWxNb2RlbCgpKX1mdW5jdGlvbiBoXyh0LGUpe3ZhciBuPXt9O3JldHVybiBFKHQubWFwRGltZW5zaW9uc0FsbChlKSwoZnVuY3Rpb24oZSl7bltueCh0LGUpXT0hMH0pKSxHKG4pfXZhciBjXz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmdldE5lZWRDcm9zc1plcm89ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5vcHRpb24uc2NhbGV9LHQucHJvdG90eXBlLmdldENvb3JkU3lzTW9kZWw9ZnVuY3Rpb24oKXt9LHR9KCk7dmFyIHBfPXtpc0RpbWVuc2lvblN0YWNrZWQ6ZXgsZW5hYmxlRGF0YVN0YWNrOnR4LGdldFN0YWNrZWREaW1lbnNpb246bnh9O3ZhciBkXz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxjcmVhdGVMaXN0OmZ1bmN0aW9uKHQpe3JldHVybiBpeChudWxsLHQpfSxnZXRMYXlvdXRSZWN0OnhwLGRhdGFTdGFjazpwXyxjcmVhdGVTY2FsZTpmdW5jdGlvbih0LGUpe3ZhciBuPWU7ZSBpbnN0YW5jZW9mIGRjfHwobj1uZXcgZGMoZSkpO3ZhciBpPXJfKG4pO3JldHVybiBpLnNldEV4dGVudCh0WzBdLHRbMV0pLGlfKGksbiksaX0sbWl4aW5BeGlzTW9kZWxDb21tb25NZXRob2RzOmZ1bmN0aW9uKHQpe1IodCxjXyl9LGdldEVDRGF0YTpIcyxjcmVhdGVUZXh0U3R5bGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gVWgodCxudWxsLG51bGwsIm5vcm1hbCIhPT0oZT1lfHx7fSkuc3RhdGUpfSxjcmVhdGVEaW1lbnNpb25zOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHFtKHQsZSkuZGltZW5zaW9uc30sY3JlYXRlU3ltYm9sOkx5LGVuYWJsZUhvdmVyRW1waGFzaXM6T2x9KTtmdW5jdGlvbiBmXyh0LGUpe3JldHVybiBNYXRoLmFicyh0LWUpPDFlLTh9ZnVuY3Rpb24gZ18odCxlLG4pe3ZhciBpPTAscj10WzBdO2lmKCFyKXJldHVybiExO2Zvcih2YXIgbz0xO288dC5sZW5ndGg7bysrKXt2YXIgYT10W29dO2krPWlzKHJbMF0sclsxXSxhWzBdLGFbMV0sZSxuKSxyPWF9dmFyIHM9dFswXTtyZXR1cm4gZl8oclswXSxzWzBdKSYmZl8oclsxXSxzWzFdKXx8KGkrPWlzKHJbMF0sclsxXSxzWzBdLHNbMV0sZSxuKSksMCE9PWl9dmFyIHlfPVtdO2Z1bmN0aW9uIHZfKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspRnQodFtuXSx0W25dLGUpfWZ1bmN0aW9uIG1fKHQsZSxuLGkpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO2kmJihvPWkucHJvamVjdChvKSksbyYmaXNGaW5pdGUob1swXSkmJmlzRmluaXRlKG9bMV0pJiYoR3QoZSxlLG8pLFd0KG4sbixvKSl9fXZhciB4Xz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5uYW1lPXR9cmV0dXJuIHQucHJvdG90eXBlLnNldENlbnRlcj1mdW5jdGlvbih0KXt0aGlzLl9jZW50ZXI9dH0sdC5wcm90b3R5cGUuZ2V0Q2VudGVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY2VudGVyO3JldHVybiB0fHwodD10aGlzLl9jZW50ZXI9dGhpcy5jYWxjQ2VudGVyKCkpLHR9LHR9KCksX189ZnVuY3Rpb24odCxlKXt0aGlzLnR5cGU9InBvbHlnb24iLHRoaXMuZXh0ZXJpb3I9dCx0aGlzLmludGVyaW9ycz1lfSxiXz1mdW5jdGlvbih0KXt0aGlzLnR5cGU9ImxpbmVzdHJpbmciLHRoaXMucG9pbnRzPXR9LHdfPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZhciByPXQuY2FsbCh0aGlzLGUpfHx0aGlzO3JldHVybiByLnR5cGU9Imdlb0pTT04iLHIuZ2VvbWV0cmllcz1uLHIuX2NlbnRlcj1pJiZbaVswXSxpWzFdXSxyfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuY2FsY0NlbnRlcj1mdW5jdGlvbigpe2Zvcih2YXIgdCxlPXRoaXMuZ2VvbWV0cmllcyxuPTAsaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgcj1lW2ldLG89ci5leHRlcmlvcixhPW8mJm8ubGVuZ3RoO2E+biYmKHQ9cixuPWEpfWlmKHQpcmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49MCxpPTAscj10Lmxlbmd0aCxvPXRbci0xXVswXSxhPXRbci0xXVsxXSxzPTA7czxyO3MrKyl7dmFyIGw9dFtzXVswXSx1PXRbc11bMV0saD1vKnUtbCphO2UrPWgsbis9KG8rbCkqaCxpKz0oYSt1KSpoLG89bCxhPXV9cmV0dXJuIGU/W24vZS8zLGkvZS8zLGVdOlt0WzBdWzBdfHwwLHRbMF1bMV18fDBdfSh0LmV4dGVyaW9yKTt2YXIgcz10aGlzLmdldEJvdW5kaW5nUmVjdCgpO3JldHVybltzLngrcy53aWR0aC8yLHMueStzLmhlaWdodC8yXX0sZS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3JlY3Q7aWYoZSYmIXQpcmV0dXJuIGU7dmFyIG49WzEvMCwxLzBdLGk9Wy0xLzAsLTEvMF07cmV0dXJuIEUodGhpcy5nZW9tZXRyaWVzLChmdW5jdGlvbihlKXsicG9seWdvbiI9PT1lLnR5cGU/bV8oZS5leHRlcmlvcixuLGksdCk6RShlLnBvaW50cywoZnVuY3Rpb24oZSl7bV8oZSxuLGksdCl9KSl9KSksaXNGaW5pdGUoblswXSkmJmlzRmluaXRlKG5bMV0pJiZpc0Zpbml0ZShpWzBdKSYmaXNGaW5pdGUoaVsxXSl8fChuWzBdPW5bMV09aVswXT1pWzFdPTApLGU9bmV3IHNyKG5bMF0sblsxXSxpWzBdLW5bMF0saVsxXS1uWzFdKSx0fHwodGhpcy5fcmVjdD1lKSxlfSxlLnByb3RvdHlwZS5jb250YWluPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCksbj10aGlzLmdlb21ldHJpZXM7aWYoIWUuY29udGFpbih0WzBdLHRbMV0pKXJldHVybiExO3Q6Zm9yKHZhciBpPTAscj1uLmxlbmd0aDtpPHI7aSsrKXt2YXIgbz1uW2ldO2lmKCJwb2x5Z29uIj09PW8udHlwZSl7dmFyIGE9by5leHRlcmlvcixzPW8uaW50ZXJpb3JzO2lmKGdfKGEsdFswXSx0WzFdKSl7Zm9yKHZhciBsPTA7bDwocz9zLmxlbmd0aDowKTtsKyspaWYoZ18oc1tsXSx0WzBdLHRbMV0pKWNvbnRpbnVlIHQ7cmV0dXJuITB9fX1yZXR1cm4hMX0sZS5wcm90b3R5cGUudHJhbnNmb3JtVG89ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSxvPXIud2lkdGgvci5oZWlnaHQ7bj9pfHwoaT1uL28pOm49byppO2Zvcih2YXIgYT1uZXcgc3IodCxlLG4saSkscz1yLmNhbGN1bGF0ZVRyYW5zZm9ybShhKSxsPXRoaXMuZ2VvbWV0cmllcyx1PTA7dTxsLmxlbmd0aDt1Kyspe3ZhciBoPWxbdV07InBvbHlnb24iPT09aC50eXBlPyh2XyhoLmV4dGVyaW9yLHMpLEUoaC5pbnRlcmlvcnMsKGZ1bmN0aW9uKHQpe3ZfKHQscyl9KSkpOkUoaC5wb2ludHMsKGZ1bmN0aW9uKHQpe3ZfKHQscyl9KSl9KHI9dGhpcy5fcmVjdCkuY29weShhKSx0aGlzLl9jZW50ZXI9W3IueCtyLndpZHRoLzIsci55K3IuaGVpZ2h0LzJdfSxlLnByb3RvdHlwZS5jbG9uZVNoYWxsb3c9ZnVuY3Rpb24odCl7bnVsbD09dCYmKHQ9dGhpcy5uYW1lKTt2YXIgbj1uZXcgZSh0LHRoaXMuZ2VvbWV0cmllcyx0aGlzLl9jZW50ZXIpO3JldHVybiBuLl9yZWN0PXRoaXMuX3JlY3Qsbi50cmFuc2Zvcm1Ubz1udWxsLG59LGV9KHhfKSxTXz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk9dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIGkudHlwZT0iZ2VvU1ZHIixpLl9lbE9ubHlGb3JDYWxjdWxhdGU9bixpfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuY2FsY0NlbnRlcj1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9lbE9ubHlGb3JDYWxjdWxhdGUsZT10LmdldEJvdW5kaW5nUmVjdCgpLG49W2UueCtlLndpZHRoLzIsZS55K2UuaGVpZ2h0LzJdLGk9T2koeV8pLHI9dDtyJiYhci5pc0dlb1NWR0dyYXBoaWNSb290OylOaShpLHIuZ2V0TG9jYWxUcmFuc2Zvcm0oKSxpKSxyPXIucGFyZW50O3JldHVybiBCaShpLGkpLEZ0KG4sbixpKSxufSxlfSh4Xyk7ZnVuY3Rpb24gTV8odCxlLG4pe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXRbaV09SV8odFtpXSxlW2ldLG4pfWZ1bmN0aW9uIElfKHQsZSxuKXtmb3IodmFyIGk9W10scj1lWzBdLG89ZVsxXSxhPTA7YTx0Lmxlbmd0aDthKz0yKXt2YXIgcz10LmNoYXJDb2RlQXQoYSktNjQsbD10LmNoYXJDb2RlQXQoYSsxKS02NDtzPXM+PjFeLSgxJnMpLGw9bD4+MV4tKDEmbCkscj1zKz1yLG89bCs9byxpLnB1c2goW3MvbixsL25dKX1yZXR1cm4gaX1mdW5jdGlvbiBUXyh0LGUpe3JldHVybiB6KEIoKHQ9ZnVuY3Rpb24odCl7aWYoIXQuVVRGOEVuY29kaW5nKXJldHVybiB0O3ZhciBlPXQsbj1lLlVURjhTY2FsZTtyZXR1cm4gbnVsbD09biYmKG49MTAyNCksRShlLmZlYXR1cmVzLChmdW5jdGlvbih0KXt2YXIgZT10Lmdlb21ldHJ5LGk9ZS5lbmNvZGVPZmZzZXRzLHI9ZS5jb29yZGluYXRlcztpZihpKXN3aXRjaChlLnR5cGUpe2Nhc2UiTGluZVN0cmluZyI6ZS5jb29yZGluYXRlcz1JXyhyLGksbik7YnJlYWs7Y2FzZSJQb2x5Z29uIjpjYXNlIk11bHRpTGluZVN0cmluZyI6TV8ocixpLG4pO2JyZWFrO2Nhc2UiTXVsdGlQb2x5Z29uIjpFKHIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1fKHQsaVtlXSxuKX0pKX19KSksZS5VVEY4RW5jb2Rpbmc9ITEsZX0odCkpLmZlYXR1cmVzLChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZW9tZXRyeSYmdC5wcm9wZXJ0aWVzJiZ0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzLmxlbmd0aD4wfSkpLChmdW5jdGlvbih0KXt2YXIgbj10LnByb3BlcnRpZXMsaT10Lmdlb21ldHJ5LHI9W107c3dpdGNoKGkudHlwZSl7Y2FzZSJQb2x5Z29uIjp2YXIgbz1pLmNvb3JkaW5hdGVzO3IucHVzaChuZXcgX18ob1swXSxvLnNsaWNlKDEpKSk7YnJlYWs7Y2FzZSJNdWx0aVBvbHlnb24iOkUoaS5jb29yZGluYXRlcywoZnVuY3Rpb24odCl7dFswXSYmci5wdXNoKG5ldyBfXyh0WzBdLHQuc2xpY2UoMSkpKX0pKTticmVhaztjYXNlIkxpbmVTdHJpbmciOnIucHVzaChuZXcgYl8oW2kuY29vcmRpbmF0ZXNdKSk7YnJlYWs7Y2FzZSJNdWx0aUxpbmVTdHJpbmciOnIucHVzaChuZXcgYl8oaS5jb29yZGluYXRlcykpfXZhciBhPW5ldyB3XyhuW2V8fCJuYW1lIl0scixuLmNwKTtyZXR1cm4gYS5wcm9wZXJ0aWVzPW4sYX0pKX12YXIgQ189T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsbGluZWFyTWFwOk5yLHJvdW5kOnpyLGFzYzpWcixnZXRQcmVjaXNpb246QnIsZ2V0UHJlY2lzaW9uU2FmZTpGcixnZXRQaXhlbFByZWNpc2lvbjpHcixnZXRQZXJjZW50V2l0aFByZWNpc2lvbjpXcixNQVhfU0FGRV9JTlRFR0VSOllyLHJlbVJhZGlhbjpVcixpc1JhZGlhbkFyb3VuZFplcm86WHIscGFyc2VEYXRlOmpyLHF1YW50aXR5OnFyLHF1YW50aXR5RXhwb25lbnQ6S3IsbmljZTokcixxdWFudGlsZTpKcixyZWZvcm1JbnRlcnZhbHM6UXIsaXNOdW1lcmljOmVvLG51bWVyaWNUb051bWJlcjp0b30pLERfPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHBhcnNlOmpyLGZvcm1hdDpWY30pLEFfPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGV4dGVuZFNoYXBlOmZoLGV4dGVuZFBhdGg6eWgsbWFrZVBhdGg6eGgsbWFrZUltYWdlOl9oLG1lcmdlUGF0aDp3aCxyZXNpemVQYXRoOlNoLGNyZWF0ZUljb246UGgsdXBkYXRlUHJvcHM6cmgsaW5pdFByb3BzOm9oLGdldFRyYW5zZm9ybTpJaCxjbGlwUG9pbnRzQnlSZWN0OmtoLGNsaXBSZWN0QnlSZWN0OkxoLHJlZ2lzdGVyU2hhcGU6dmgsZ2V0U2hhcGVDbGFzczptaCxHcm91cDpDcixJbWFnZTpfcyxUZXh0OmtzLENpcmNsZTpodSxFbGxpcHNlOnB1LFNlY3RvcjpDdSxSaW5nOkF1LFBvbHlnb246UHUsUG9seWxpbmU6UnUsUmVjdDpDcyxMaW5lOnp1LEJlemllckN1cnZlOkd1LEFyYzpIdSxJbmNyZW1lbnRhbERpc3BsYXlhYmxlOnRoLENvbXBvdW5kUGF0aDpZdSxMaW5lYXJHcmFkaWVudDpYdSxSYWRpYWxHcmFkaWVudDpadSxCb3VuZGluZ1JlY3Q6c3J9KSxrXz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxhZGRDb21tYXM6ZXAsdG9DYW1lbENhc2U6bnAsbm9ybWFsaXplQ3NzQXJyYXk6aXAsZW5jb2RlSFRNTDphcCxmb3JtYXRUcGw6aHAsZ2V0VG9vbHRpcE1hcmtlcjpjcCxmb3JtYXRUaW1lOmZ1bmN0aW9uKHQsZSxuKXsid2VlayIhPT10JiYibW9udGgiIT09dCYmInF1YXJ0ZXIiIT09dCYmImhhbGYteWVhciIhPT10JiYieWVhciIhPT10fHwodD0iTU0tZGRcbnl5eXkiKTt2YXIgaT1qcihlKSxyPW4/ImdldFVUQyI6ImdldCIsbz1pW3IrIkZ1bGxZZWFyIl0oKSxhPWlbcisiTW9udGgiXSgpKzEscz1pW3IrIkRhdGUiXSgpLGw9aVtyKyJIb3VycyJdKCksdT1pW3IrIk1pbnV0ZXMiXSgpLGg9aVtyKyJTZWNvbmRzIl0oKSxjPWlbcisiTWlsbGlzZWNvbmRzIl0oKTtyZXR1cm4gdD10LnJlcGxhY2UoIk1NIixOYyhhLDIpKS5yZXBsYWNlKCJNIixhKS5yZXBsYWNlKCJ5eXl5IixvKS5yZXBsYWNlKCJ5eSIsbyUxMDArIiIpLnJlcGxhY2UoImRkIixOYyhzLDIpKS5yZXBsYWNlKCJkIixzKS5yZXBsYWNlKCJoaCIsTmMobCwyKSkucmVwbGFjZSgiaCIsbCkucmVwbGFjZSgibW0iLE5jKHUsMikpLnJlcGxhY2UoIm0iLHUpLnJlcGxhY2UoInNzIixOYyhoLDIpKS5yZXBsYWNlKCJzIixoKS5yZXBsYWNlKCJTU1MiLE5jKGMsMykpfSxjYXBpdGFsRmlyc3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnN1YnN0cigxKTp0fSx0cnVuY2F0ZVRleHQ6JG8sZ2V0VGV4dFJlY3Q6ZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzKXtyZXR1cm4gbmV3IGtzKHtzdHlsZTp7dGV4dDp0LGZvbnQ6ZSxhbGlnbjpuLHZlcnRpY2FsQWxpZ246aSxwYWRkaW5nOnIscmljaDpvLG92ZXJmbG93OmE/InRydW5jYXRlIjpudWxsLGxpbmVIZWlnaHQ6c319KS5nZXRCb3VuZGluZ1JlY3QoKX19KSxMXz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxtYXA6eixlYWNoOkUsaW5kZXhPZjpQLGluaGVyaXRzOk8scmVkdWNlOlYsZmlsdGVyOkIsYmluZDpXLGN1cnJ5OkgsaXNBcnJheTpZLGlzU3RyaW5nOlgsaXNPYmplY3Q6cSxpc0Z1bmN0aW9uOlUsZXh0ZW5kOkEsZGVmYXVsdHM6ayxjbG9uZTpULG1lcmdlOkN9KSxQXz1TbygpO2Z1bmN0aW9uIE9fKHQpe3JldHVybiJjYXRlZ29yeSI9PT10LnR5cGU/ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRMYWJlbE1vZGVsKCksbj1OXyh0LGUpO3JldHVybiFlLmdldCgic2hvdyIpfHx0LnNjYWxlLmlzQmxhbmsoKT97bGFiZWxzOltdLGxhYmVsQ2F0ZWdvcnlJbnRlcnZhbDpuLmxhYmVsQ2F0ZWdvcnlJbnRlcnZhbH06bn0odCk6ZnVuY3Rpb24odCl7dmFyIGU9dC5zY2FsZS5nZXRUaWNrcygpLG49b18odCk7cmV0dXJue2xhYmVsczp6KGUsKGZ1bmN0aW9uKGUsaSl7cmV0dXJue2xldmVsOmUubGV2ZWwsZm9ybWF0dGVkTGFiZWw6bihlLGkpLHJhd0xhYmVsOnQuc2NhbGUuZ2V0TGFiZWwoZSksdGlja1ZhbHVlOmUudmFsdWV9fSkpfX0odCl9ZnVuY3Rpb24gUl8odCxlKXtyZXR1cm4iY2F0ZWdvcnkiPT09dC50eXBlP2Z1bmN0aW9uKHQsZSl7dmFyIG4saSxyPUVfKHQsInRpY2tzIiksbz1sXyhlKSxhPXpfKHIsbyk7aWYoYSlyZXR1cm4gYTtlLmdldCgic2hvdyIpJiYhdC5zY2FsZS5pc0JsYW5rKCl8fChuPVtdKTtpZihVKG8pKW49Rl8odCxvLCEwKTtlbHNlIGlmKCJhdXRvIj09PW8pe3ZhciBzPU5fKHQsdC5nZXRMYWJlbE1vZGVsKCkpO2k9cy5sYWJlbENhdGVnb3J5SW50ZXJ2YWwsbj16KHMubGFiZWxzLChmdW5jdGlvbih0KXtyZXR1cm4gdC50aWNrVmFsdWV9KSl9ZWxzZSBuPUJfKHQsaT1vLCEwKTtyZXR1cm4gVl8ocixvLHt0aWNrczpuLHRpY2tDYXRlZ29yeUludGVydmFsOml9KX0odCxlKTp7dGlja3M6eih0LnNjYWxlLmdldFRpY2tzKCksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlfSkpfX1mdW5jdGlvbiBOXyh0LGUpe3ZhciBuLGkscj1FXyh0LCJsYWJlbHMiKSxvPWxfKGUpLGE9el8ocixvKTtyZXR1cm4gYXx8KFUobyk/bj1GXyh0LG8pOihpPSJhdXRvIj09PW8/ZnVuY3Rpb24odCl7dmFyIGU9UF8odCkuYXV0b0ludGVydmFsO3JldHVybiBudWxsIT1lP2U6UF8odCkuYXV0b0ludGVydmFsPXQuY2FsY3VsYXRlQ2F0ZWdvcnlJbnRlcnZhbCgpfSh0KTpvLG49Ql8odCxpKSksVl8ocixvLHtsYWJlbHM6bixsYWJlbENhdGVnb3J5SW50ZXJ2YWw6aX0pKX1mdW5jdGlvbiBFXyh0LGUpe3JldHVybiBQXyh0KVtlXXx8KFBfKHQpW2VdPVtdKX1mdW5jdGlvbiB6Xyh0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKHRbbl0ua2V5PT09ZSlyZXR1cm4gdFtuXS52YWx1ZX1mdW5jdGlvbiBWXyh0LGUsbil7cmV0dXJuIHQucHVzaCh7a2V5OmUsdmFsdWU6bn0pLG59ZnVuY3Rpb24gQl8odCxlLG4pe3ZhciBpPW9fKHQpLHI9dC5zY2FsZSxvPXIuZ2V0RXh0ZW50KCksYT10LmdldExhYmVsTW9kZWwoKSxzPVtdLGw9TWF0aC5tYXgoKGV8fDApKzEsMSksdT1vWzBdLGg9ci5jb3VudCgpOzAhPT11JiZsPjEmJmgvbD4yJiYodT1NYXRoLnJvdW5kKE1hdGguY2VpbCh1L2wpKmwpKTt2YXIgYz11Xyh0KSxwPWEuZ2V0KCJzaG93TWluTGFiZWwiKXx8YyxkPWEuZ2V0KCJzaG93TWF4TGFiZWwiKXx8YztwJiZ1IT09b1swXSYmZyhvWzBdKTtmb3IodmFyIGY9dTtmPD1vWzFdO2YrPWwpZyhmKTtmdW5jdGlvbiBnKHQpe3ZhciBlPXt2YWx1ZTp0fTtzLnB1c2gobj90Ontmb3JtYXR0ZWRMYWJlbDppKGUpLHJhd0xhYmVsOnIuZ2V0TGFiZWwoZSksdGlja1ZhbHVlOnR9KX1yZXR1cm4gZCYmZi1sIT09b1sxXSYmZyhvWzFdKSxzfWZ1bmN0aW9uIEZfKHQsZSxuKXt2YXIgaT10LnNjYWxlLHI9b18odCksbz1bXTtyZXR1cm4gRShpLmdldFRpY2tzKCksKGZ1bmN0aW9uKHQpe3ZhciBhPWkuZ2V0TGFiZWwodCkscz10LnZhbHVlO2UodC52YWx1ZSxhKSYmby5wdXNoKG4/czp7Zm9ybWF0dGVkTGFiZWw6cih0KSxyYXdMYWJlbDphLHRpY2tWYWx1ZTpzfSl9KSksb312YXIgR189WzAsMV0sV189ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLm9uQmFuZD0hMSx0aGlzLmludmVyc2U9ITEsdGhpcy5kaW09dCx0aGlzLnNjYWxlPWUsdGhpcy5fZXh0ZW50PW58fFswLDBdfXJldHVybiB0LnByb3RvdHlwZS5jb250YWluPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2V4dGVudCxuPU1hdGgubWluKGVbMF0sZVsxXSksaT1NYXRoLm1heChlWzBdLGVbMV0pO3JldHVybiB0Pj1uJiZ0PD1pfSx0LnByb3RvdHlwZS5jb250YWluRGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zY2FsZS5jb250YWluKHQpfSx0LnByb3RvdHlwZS5nZXRFeHRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXh0ZW50LnNsaWNlKCl9LHQucHJvdG90eXBlLmdldFBpeGVsUHJlY2lzaW9uPWZ1bmN0aW9uKHQpe3JldHVybiBHcih0fHx0aGlzLnNjYWxlLmdldEV4dGVudCgpLHRoaXMuX2V4dGVudCl9LHQucHJvdG90eXBlLnNldEV4dGVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2V4dGVudDtuWzBdPXQsblsxXT1lfSx0LnByb3RvdHlwZS5kYXRhVG9Db29yZD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2V4dGVudCxpPXRoaXMuc2NhbGU7cmV0dXJuIHQ9aS5ub3JtYWxpemUodCksdGhpcy5vbkJhbmQmJiJvcmRpbmFsIj09PWkudHlwZSYmSF8obj1uLnNsaWNlKCksaS5jb3VudCgpKSxOcih0LEdfLG4sZSl9LHQucHJvdG90eXBlLmNvb3JkVG9EYXRhPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZXh0ZW50LGk9dGhpcy5zY2FsZTt0aGlzLm9uQmFuZCYmIm9yZGluYWwiPT09aS50eXBlJiZIXyhuPW4uc2xpY2UoKSxpLmNvdW50KCkpO3ZhciByPU5yKHQsbixHXyxlKTtyZXR1cm4gdGhpcy5zY2FsZS5zY2FsZShyKX0sdC5wcm90b3R5cGUucG9pbnRUb0RhdGE9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLmdldFRpY2tzQ29vcmRzPWZ1bmN0aW9uKHQpe3ZhciBlPSh0PXR8fHt9KS50aWNrTW9kZWx8fHRoaXMuZ2V0VGlja01vZGVsKCksbj16KFJfKHRoaXMsZSkudGlja3MsKGZ1bmN0aW9uKHQpe3JldHVybntjb29yZDp0aGlzLmRhdGFUb0Nvb3JkKCJvcmRpbmFsIj09PXRoaXMuc2NhbGUudHlwZT90aGlzLnNjYWxlLmdldFJhd09yZGluYWxOdW1iZXIodCk6dCksdGlja1ZhbHVlOnR9fSksdGhpcyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWUubGVuZ3RoO2lmKCF0Lm9uQmFuZHx8bnx8IXIpcmV0dXJuO3ZhciBvLGEscz10LmdldEV4dGVudCgpO2lmKDE9PT1yKWVbMF0uY29vcmQ9c1swXSxvPWVbMV09e2Nvb3JkOnNbMF19O2Vsc2V7dmFyIGw9ZVtyLTFdLnRpY2tWYWx1ZS1lWzBdLnRpY2tWYWx1ZSx1PShlW3ItMV0uY29vcmQtZVswXS5jb29yZCkvbDtFKGUsKGZ1bmN0aW9uKHQpe3QuY29vcmQtPXUvMn0pKSxhPTErdC5zY2FsZS5nZXRFeHRlbnQoKVsxXS1lW3ItMV0udGlja1ZhbHVlLG89e2Nvb3JkOmVbci0xXS5jb29yZCt1KmF9LGUucHVzaChvKX12YXIgaD1zWzBdPnNbMV07YyhlWzBdLmNvb3JkLHNbMF0pJiYoaT9lWzBdLmNvb3JkPXNbMF06ZS5zaGlmdCgpKTtpJiZjKHNbMF0sZVswXS5jb29yZCkmJmUudW5zaGlmdCh7Y29vcmQ6c1swXX0pO2Moc1sxXSxvLmNvb3JkKSYmKGk/by5jb29yZD1zWzFdOmUucG9wKCkpO2kmJmMoby5jb29yZCxzWzFdKSYmZS5wdXNoKHtjb29yZDpzWzFdfSk7ZnVuY3Rpb24gYyh0LGUpe3JldHVybiB0PXpyKHQpLGU9enIoZSksaD90PmU6dDxlfX0odGhpcyxuLGUuZ2V0KCJhbGlnbldpdGhMYWJlbCIpLHQuY2xhbXApLG59LHQucHJvdG90eXBlLmdldE1pbm9yVGlja3NDb29yZHM9ZnVuY3Rpb24oKXtpZigib3JkaW5hbCI9PT10aGlzLnNjYWxlLnR5cGUpcmV0dXJuW107dmFyIHQ9dGhpcy5tb2RlbC5nZXRNb2RlbCgibWlub3JUaWNrIikuZ2V0KCJzcGxpdE51bWJlciIpO3JldHVybiB0PjAmJnQ8MTAwfHwodD01KSx6KHRoaXMuc2NhbGUuZ2V0TWlub3JUaWNrcyh0KSwoZnVuY3Rpb24odCl7cmV0dXJuIHoodCwoZnVuY3Rpb24odCl7cmV0dXJue2Nvb3JkOnRoaXMuZGF0YVRvQ29vcmQodCksdGlja1ZhbHVlOnR9fSksdGhpcyl9KSx0aGlzKX0sdC5wcm90b3R5cGUuZ2V0Vmlld0xhYmVscz1mdW5jdGlvbigpe3JldHVybiBPXyh0aGlzKS5sYWJlbHN9LHQucHJvdG90eXBlLmdldExhYmVsTW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2RlbC5nZXRNb2RlbCgiYXhpc0xhYmVsIil9LHQucHJvdG90eXBlLmdldFRpY2tNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZGVsLmdldE1vZGVsKCJheGlzVGljayIpfSx0LnByb3RvdHlwZS5nZXRCYW5kV2lkdGg9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9leHRlbnQsZT10aGlzLnNjYWxlLmdldEV4dGVudCgpLG49ZVsxXS1lWzBdKyh0aGlzLm9uQmFuZD8xOjApOzA9PT1uJiYobj0xKTt2YXIgaT1NYXRoLmFicyh0WzFdLXRbMF0pO3JldHVybiBNYXRoLmFicyhpKS9ufSx0LnByb3RvdHlwZS5jYWxjdWxhdGVDYXRlZ29yeUludGVydmFsPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0TGFiZWxNb2RlbCgpO3JldHVybntheGlzUm90YXRlOnQuZ2V0Um90YXRlP3QuZ2V0Um90YXRlKCk6dC5pc0hvcml6b250YWwmJiF0LmlzSG9yaXpvbnRhbCgpPzkwOjAsbGFiZWxSb3RhdGU6ZS5nZXQoInJvdGF0ZSIpfHwwLGZvbnQ6ZS5nZXRGb250KCl9fSh0KSxuPW9fKHQpLGk9KGUuYXhpc1JvdGF0ZS1lLmxhYmVsUm90YXRlKS8xODAqTWF0aC5QSSxyPXQuc2NhbGUsbz1yLmdldEV4dGVudCgpLGE9ci5jb3VudCgpO2lmKG9bMV0tb1swXTwxKXJldHVybiAwO3ZhciBzPTE7YT40MCYmKHM9TWF0aC5tYXgoMSxNYXRoLmZsb29yKGEvNDApKSk7Zm9yKHZhciBsPW9bMF0sdT10LmRhdGFUb0Nvb3JkKGwrMSktdC5kYXRhVG9Db29yZChsKSxoPU1hdGguYWJzKHUqTWF0aC5jb3MoaSkpLGM9TWF0aC5hYnModSpNYXRoLnNpbihpKSkscD0wLGQ9MDtsPD1vWzFdO2wrPXMpe3ZhciBmLGcseT1jcihuKHt2YWx1ZTpsfSksZS5mb250LCJjZW50ZXIiLCJ0b3AiKTtmPTEuMyp5LndpZHRoLGc9MS4zKnkuaGVpZ2h0LHA9TWF0aC5tYXgocCxmLDcpLGQ9TWF0aC5tYXgoZCxnLDcpfXZhciB2PXAvaCxtPWQvYztpc05hTih2KSYmKHY9MS8wKSxpc05hTihtKSYmKG09MS8wKTt2YXIgeD1NYXRoLm1heCgwLE1hdGguZmxvb3IoTWF0aC5taW4odixtKSkpLF89UF8odC5tb2RlbCksYj10LmdldEV4dGVudCgpLHc9Xy5sYXN0QXV0b0ludGVydmFsLFM9Xy5sYXN0VGlja0NvdW50O3JldHVybiBudWxsIT13JiZudWxsIT1TJiZNYXRoLmFicyh3LXgpPD0xJiZNYXRoLmFicyhTLWEpPD0xJiZ3PngmJl8uYXhpc0V4dGVudDA9PT1iWzBdJiZfLmF4aXNFeHRlbnQxPT09YlsxXT94PXc6KF8ubGFzdFRpY2tDb3VudD1hLF8ubGFzdEF1dG9JbnRlcnZhbD14LF8uYXhpc0V4dGVudDA9YlswXSxfLmF4aXNFeHRlbnQxPWJbMV0pLHh9KHRoaXMpfSx0fSgpO2Z1bmN0aW9uIEhfKHQsZSl7dmFyIG49KHRbMV0tdFswXSkvZS8yO3RbMF0rPW4sdFsxXS09bn12YXIgWV89MipNYXRoLlBJLFVfPXFhLkNNRCxYXz1bInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCJdO2Z1bmN0aW9uIFpfKHQsZSxuLGkscil7dmFyIG89bi53aWR0aCxhPW4uaGVpZ2h0O3N3aXRjaCh0KXtjYXNlInRvcCI6aS5zZXQobi54K28vMixuLnktZSksci5zZXQoMCwtMSk7YnJlYWs7Y2FzZSJib3R0b20iOmkuc2V0KG4ueCtvLzIsbi55K2ErZSksci5zZXQoMCwxKTticmVhaztjYXNlImxlZnQiOmkuc2V0KG4ueC1lLG4ueSthLzIpLHIuc2V0KC0xLDApO2JyZWFrO2Nhc2UicmlnaHQiOmkuc2V0KG4ueCtvK2Usbi55K2EvMiksci5zZXQoMSwwKX19ZnVuY3Rpb24gal8odCxlLG4saSxyLG8sYSxzLGwpe2EtPXQscy09ZTt2YXIgdT1NYXRoLnNxcnQoYSphK3MqcyksaD0oYS89dSkqbit0LGM9KHMvPXUpKm4rZTtpZihNYXRoLmFicyhpLXIpJVlfPDFlLTQpcmV0dXJuIGxbMF09aCxsWzFdPWMsdS1uO2lmKG8pe3ZhciBwPWk7aT10cyhyKSxyPXRzKHApfWVsc2UgaT10cyhpKSxyPXRzKHIpO2k+ciYmKHIrPVlfKTt2YXIgZD1NYXRoLmF0YW4yKHMsYSk7aWYoZDwwJiYoZCs9WV8pLGQ+PWkmJmQ8PXJ8fGQrWV8+PWkmJmQrWV88PXIpcmV0dXJuIGxbMF09aCxsWzFdPWMsdS1uO3ZhciBmPW4qTWF0aC5jb3MoaSkrdCxnPW4qTWF0aC5zaW4oaSkrZSx5PW4qTWF0aC5jb3MocikrdCx2PW4qTWF0aC5zaW4ocikrZSxtPShmLWEpKihmLWEpKyhnLXMpKihnLXMpLHg9KHktYSkqKHktYSkrKHYtcykqKHYtcyk7cmV0dXJuIG08eD8obFswXT1mLGxbMV09ZyxNYXRoLnNxcnQobSkpOihsWzBdPXksbFsxXT12LE1hdGguc3FydCh4KSl9ZnVuY3Rpb24gcV8odCxlLG4saSxyLG8sYSxzKXt2YXIgbD1yLXQsdT1vLWUsaD1uLXQsYz1pLWUscD1NYXRoLnNxcnQoaCpoK2MqYyksZD0obCooaC89cCkrdSooYy89cCkpL3A7cyYmKGQ9TWF0aC5taW4oTWF0aC5tYXgoZCwwKSwxKSksZCo9cDt2YXIgZj1hWzBdPXQrZCpoLGc9YVsxXT1lK2QqYztyZXR1cm4gTWF0aC5zcXJ0KChmLXIpKihmLXIpKyhnLW8pKihnLW8pKX1mdW5jdGlvbiBLXyh0LGUsbixpLHIsbyxhKXtuPDAmJih0Kz1uLG49LW4pLGk8MCYmKGUrPWksaT0taSk7dmFyIHM9dCtuLGw9ZStpLHU9YVswXT1NYXRoLm1pbihNYXRoLm1heChyLHQpLHMpLGg9YVsxXT1NYXRoLm1pbihNYXRoLm1heChvLGUpLGwpO3JldHVybiBNYXRoLnNxcnQoKHUtcikqKHUtcikrKGgtbykqKGgtbykpfXZhciAkXz1bXTtmdW5jdGlvbiBKXyh0LGUsbil7dmFyIGk9S18oZS54LGUueSxlLndpZHRoLGUuaGVpZ2h0LHQueCx0LnksJF8pO3JldHVybiBuLnNldCgkX1swXSwkX1sxXSksaX1mdW5jdGlvbiBRXyh0LGUsbil7Zm9yKHZhciBpLHIsbz0wLGE9MCxzPTAsbD0wLHU9MS8wLGg9ZS5kYXRhLGM9dC54LHA9dC55LGQ9MDtkPGgubGVuZ3RoOyl7dmFyIGY9aFtkKytdOzE9PT1kJiYocz1vPWhbZF0sbD1hPWhbZCsxXSk7dmFyIGc9dTtzd2l0Y2goZil7Y2FzZSBVXy5NOm89cz1oW2QrK10sYT1sPWhbZCsrXTticmVhaztjYXNlIFVfLkw6Zz1xXyhvLGEsaFtkXSxoW2QrMV0sYyxwLCRfLCEwKSxvPWhbZCsrXSxhPWhbZCsrXTticmVhaztjYXNlIFVfLkM6Zz1qZShvLGEsaFtkKytdLGhbZCsrXSxoW2QrK10saFtkKytdLGhbZF0saFtkKzFdLGMscCwkXyksbz1oW2QrK10sYT1oW2QrK107YnJlYWs7Y2FzZSBVXy5ROmc9dG4obyxhLGhbZCsrXSxoW2QrK10saFtkXSxoW2QrMV0sYyxwLCRfKSxvPWhbZCsrXSxhPWhbZCsrXTticmVhaztjYXNlIFVfLkE6dmFyIHk9aFtkKytdLHY9aFtkKytdLG09aFtkKytdLHg9aFtkKytdLF89aFtkKytdLGI9aFtkKytdO2QrPTE7dmFyIHc9ISEoMS1oW2QrK10pO2k9TWF0aC5jb3MoXykqbSt5LHI9TWF0aC5zaW4oXykqeCt2LGQ8PTEmJihzPWksbD1yKSxnPWpfKHksdix4LF8sXytiLHcsKGMteSkqeC9tK3kscCwkXyksbz1NYXRoLmNvcyhfK2IpKm0reSxhPU1hdGguc2luKF8rYikqeCt2O2JyZWFrO2Nhc2UgVV8uUjpnPUtfKHM9bz1oW2QrK10sbD1hPWhbZCsrXSxoW2QrK10saFtkKytdLGMscCwkXyk7YnJlYWs7Y2FzZSBVXy5aOmc9cV8obyxhLHMsbCxjLHAsJF8sITApLG89cyxhPWx9Zzx1JiYodT1nLG4uc2V0KCRfWzBdLCRfWzFdKSl9cmV0dXJuIHV9dmFyIHRiPW5ldyBKaSxlYj1uZXcgSmksbmI9bmV3IEppLGliPW5ldyBKaSxyYj1uZXcgSmk7ZnVuY3Rpb24gb2IodCxlKXtpZih0KXt2YXIgbj10LmdldFRleHRHdWlkZUxpbmUoKSxpPXQuZ2V0VGV4dENvbnRlbnQoKTtpZihpJiZuKXt2YXIgcj10LnRleHRHdWlkZUxpbmVDb25maWd8fHt9LG89W1swLDBdLFswLDBdLFswLDBdXSxhPXIuY2FuZGlkYXRlc3x8WF8scz1pLmdldEJvdW5kaW5nUmVjdCgpLmNsb25lKCk7cy5hcHBseVRyYW5zZm9ybShpLmdldENvbXB1dGVkVHJhbnNmb3JtKCkpO3ZhciBsPTEvMCx1PXIuYW5jaG9yLGg9dC5nZXRDb21wdXRlZFRyYW5zZm9ybSgpLGM9aCYmQmkoW10saCkscD1lLmdldCgibGVuZ3RoMiIpfHwwO3UmJm5iLmNvcHkodSk7Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspe1pfKGFbZF0sMCxzLHRiLGliKSxKaS5zY2FsZUFuZEFkZChlYix0YixpYixwKSxlYi50cmFuc2Zvcm0oYyk7dmFyIGY9dC5nZXRCb3VuZGluZ1JlY3QoKSxnPXU/dS5kaXN0YW5jZShlYik6dCBpbnN0YW5jZW9mIGdzP1FfKGViLHQucGF0aCxuYik6Sl8oZWIsZixuYik7ZzxsJiYobD1nLGViLnRyYW5zZm9ybShoKSxuYi50cmFuc2Zvcm0oaCksbmIudG9BcnJheShvWzBdKSxlYi50b0FycmF5KG9bMV0pLHRiLnRvQXJyYXkob1syXSkpfWxiKG8sZS5nZXQoIm1pblR1cm5BbmdsZSIpKSxuLnNldFNoYXBlKHtwb2ludHM6b30pfX19dmFyIGFiPVtdLHNiPW5ldyBKaTtmdW5jdGlvbiBsYih0LGUpe2lmKGU8PTE4MCYmZT4wKXtlPWUvMTgwKk1hdGguUEksdGIuZnJvbUFycmF5KHRbMF0pLGViLmZyb21BcnJheSh0WzFdKSxuYi5mcm9tQXJyYXkodFsyXSksSmkuc3ViKGliLHRiLGViKSxKaS5zdWIocmIsbmIsZWIpO3ZhciBuPWliLmxlbigpLGk9cmIubGVuKCk7aWYoIShuPC4wMDF8fGk8LjAwMSkpe2liLnNjYWxlKDEvbikscmIuc2NhbGUoMS9pKTt2YXIgcj1pYi5kb3QocmIpO2lmKE1hdGguY29zKGUpPHIpe3ZhciBvPXFfKGViLngsZWIueSxuYi54LG5iLnksdGIueCx0Yi55LGFiLCExKTtzYi5mcm9tQXJyYXkoYWIpLHNiLnNjYWxlQW5kQWRkKHJiLG8vTWF0aC50YW4oTWF0aC5QSS1lKSk7dmFyIGE9bmIueCE9PWViLng/KHNiLngtZWIueCkvKG5iLngtZWIueCk6KHNiLnktZWIueSkvKG5iLnktZWIueSk7aWYoaXNOYU4oYSkpcmV0dXJuO2E8MD9KaS5jb3B5KHNiLGViKTphPjEmJkppLmNvcHkoc2IsbmIpLHNiLnRvQXJyYXkodFsxXSl9fX19ZnVuY3Rpb24gdWIodCxlLG4pe2lmKG48PTE4MCYmbj4wKXtuPW4vMTgwKk1hdGguUEksdGIuZnJvbUFycmF5KHRbMF0pLGViLmZyb21BcnJheSh0WzFdKSxuYi5mcm9tQXJyYXkodFsyXSksSmkuc3ViKGliLGViLHRiKSxKaS5zdWIocmIsbmIsZWIpO3ZhciBpPWliLmxlbigpLHI9cmIubGVuKCk7aWYoIShpPC4wMDF8fHI8LjAwMSkpaWYoaWIuc2NhbGUoMS9pKSxyYi5zY2FsZSgxL3IpLGliLmRvdChlKTxNYXRoLmNvcyhuKSl7dmFyIG89cV8oZWIueCxlYi55LG5iLngsbmIueSx0Yi54LHRiLnksYWIsITEpO3NiLmZyb21BcnJheShhYik7dmFyIGE9TWF0aC5QSS8yLHM9YStNYXRoLmFjb3MocmIuZG90KGUpKS1uO2lmKHM+PWEpSmkuY29weShzYixuYik7ZWxzZXtzYi5zY2FsZUFuZEFkZChyYixvL01hdGgudGFuKE1hdGguUEkvMi1zKSk7dmFyIGw9bmIueCE9PWViLng/KHNiLngtZWIueCkvKG5iLngtZWIueCk6KHNiLnktZWIueSkvKG5iLnktZWIueSk7aWYoaXNOYU4obCkpcmV0dXJuO2w8MD9KaS5jb3B5KHNiLGViKTpsPjEmJkppLmNvcHkoc2IsbmIpfXNiLnRvQXJyYXkodFsxXSl9fX1mdW5jdGlvbiBoYih0LGUsbixpKXt2YXIgcj0ibm9ybWFsIj09PW4sbz1yP3Q6dC5lbnN1cmVTdGF0ZShuKTtvLmlnbm9yZT1lO3ZhciBhPWkuZ2V0KCJzbW9vdGgiKTthJiYhMD09PWEmJihhPS4zKSxvLnNoYXBlPW8uc2hhcGV8fHt9LGE+MCYmKG8uc2hhcGUuc21vb3RoPWEpO3ZhciBzPWkuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpO3I/dC51c2VTdHlsZShzKTpvLnN0eWxlPXN9ZnVuY3Rpb24gY2IodCxlKXt2YXIgbj1lLnNtb290aCxpPWUucG9pbnRzO2lmKGkpaWYodC5tb3ZlVG8oaVswXVswXSxpWzBdWzFdKSxuPjAmJmkubGVuZ3RoPj0zKXt2YXIgcj1FdChpWzBdLGlbMV0pLG89RXQoaVsxXSxpWzJdKTtpZighcnx8IW8pcmV0dXJuIHQubGluZVRvKGlbMV1bMF0saVsxXVsxXSksdm9pZCB0LmxpbmVUbyhpWzJdWzBdLGlbMl1bMV0pO3ZhciBhPU1hdGgubWluKHIsbykqbixzPUJ0KFtdLGlbMV0saVswXSxhL3IpLGw9QnQoW10saVsxXSxpWzJdLGEvbyksdT1CdChbXSxzLGwsLjUpO3QuYmV6aWVyQ3VydmVUbyhzWzBdLHNbMV0sc1swXSxzWzFdLHVbMF0sdVsxXSksdC5iZXppZXJDdXJ2ZVRvKGxbMF0sbFsxXSxsWzBdLGxbMV0saVsyXVswXSxpWzJdWzFdKX1lbHNlIGZvcih2YXIgaD0xO2g8aS5sZW5ndGg7aCsrKXQubGluZVRvKGlbaF1bMF0saVtoXVsxXSl9ZnVuY3Rpb24gcGIodCxlLG4pe3ZhciBpPXQuZ2V0VGV4dEd1aWRlTGluZSgpLHI9dC5nZXRUZXh0Q29udGVudCgpO2lmKHIpe2Zvcih2YXIgbz1lLm5vcm1hbCxhPW8uZ2V0KCJzaG93Iikscz1yLmlnbm9yZSxsPTA7bDxLcy5sZW5ndGg7bCsrKXt2YXIgdT1Lc1tsXSxoPWVbdV0sYz0ibm9ybWFsIj09PXU7aWYoaCl7dmFyIHA9aC5nZXQoInNob3ciKTtpZigoYz9zOnJ0KHIuc3RhdGVzW3VdJiZyLnN0YXRlc1t1XS5pZ25vcmUscykpfHwhcnQocCxhKSl7dmFyIGQ9Yz9pOmkmJmkuc3RhdGVzW3VdO2QmJihkLmlnbm9yZT0hMCk7Y29udGludWV9aXx8KGk9bmV3IFJ1LHQuc2V0VGV4dEd1aWRlTGluZShpKSxjfHwhcyYmYXx8aGIoaSwhMCwibm9ybWFsIixlLm5vcm1hbCksdC5zdGF0ZVByb3h5JiYoaS5zdGF0ZVByb3h5PXQuc3RhdGVQcm94eSkpLGhiKGksITEsdSxoKX19aWYoaSl7ayhpLnN0eWxlLG4pLGkuc3R5bGUuZmlsbD1udWxsO3ZhciBmPW8uZ2V0KCJzaG93QWJvdmUiKTsodC50ZXh0R3VpZGVMaW5lQ29uZmlnPXQudGV4dEd1aWRlTGluZUNvbmZpZ3x8e30pLnNob3dBYm92ZT1mfHwhMSxpLmJ1aWxkUGF0aD1jYn19ZWxzZSBpJiZ0LnJlbW92ZVRleHRHdWlkZUxpbmUoKX1mdW5jdGlvbiBkYih0LGUpe2U9ZXx8ImxhYmVsTGluZSI7Zm9yKHZhciBuPXtub3JtYWw6dC5nZXRNb2RlbChlKX0saT0wO2k8cXMubGVuZ3RoO2krKyl7dmFyIHI9cXNbaV07bltyXT10LmdldE1vZGVsKFtyLGVdKX1yZXR1cm4gbn1mdW5jdGlvbiBmYih0KXtmb3IodmFyIGU9W10sbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2lmKCFpLmRlZmF1bHRBdHRyLmlnbm9yZSl7dmFyIHI9aS5sYWJlbCxvPXIuZ2V0Q29tcHV0ZWRUcmFuc2Zvcm0oKSxhPXIuZ2V0Qm91bmRpbmdSZWN0KCkscz0hb3x8b1sxXTwxZS01JiZvWzJdPDFlLTUsbD1yLnN0eWxlLm1hcmdpbnx8MCx1PWEuY2xvbmUoKTt1LmFwcGx5VHJhbnNmb3JtKG8pLHUueC09bC8yLHUueS09bC8yLHUud2lkdGgrPWwsdS5oZWlnaHQrPWw7dmFyIGg9cz9uZXcgSnUoYSxvKTpudWxsO2UucHVzaCh7bGFiZWw6cixsYWJlbExpbmU6aS5sYWJlbExpbmUscmVjdDp1LGxvY2FsUmVjdDphLG9iYjpoLHByaW9yaXR5OmkucHJpb3JpdHksZGVmYXVsdEF0dHI6aS5kZWZhdWx0QXR0cixsYXlvdXRPcHRpb246aS5jb21wdXRlZExheW91dE9wdGlvbixheGlzQWxpZ25lZDpzLHRyYW5zZm9ybTpvfSl9fXJldHVybiBlfWZ1bmN0aW9uIGdiKHQsZSxuLGkscixvKXt2YXIgYT10Lmxlbmd0aDtpZighKGE8Mikpe3Quc29ydCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gdC5yZWN0W2VdLW4ucmVjdFtlXX0pKTtmb3IodmFyIHMsbD0wLHU9ITEsaD0wLGM9MDtjPGE7YysrKXt2YXIgcD10W2NdLGQ9cC5yZWN0OyhzPWRbZV0tbCk8MCYmKGRbZV0tPXMscC5sYWJlbFtlXS09cyx1PSEwKSxoKz1NYXRoLm1heCgtcywwKSxsPWRbZV0rZFtuXX1oPjAmJm8mJl8oLWgvYSwwLGEpO3ZhciBmLGcseT10WzBdLHY9dFthLTFdO3JldHVybiBtKCksZjwwJiZiKC1mLC44KSxnPDAmJmIoZywuOCksbSgpLHgoZixnLDEpLHgoZyxmLC0xKSxtKCksZjwwJiZ3KC1mKSxnPDAmJncoZyksdX1mdW5jdGlvbiBtKCl7Zj15LnJlY3RbZV0taSxnPXItdi5yZWN0W2VdLXYucmVjdFtuXX1mdW5jdGlvbiB4KHQsZSxuKXtpZih0PDApe3ZhciBpPU1hdGgubWluKGUsLXQpO2lmKGk+MCl7XyhpKm4sMCxhKTt2YXIgcj1pK3Q7cjwwJiZiKC1yKm4sMSl9ZWxzZSBiKC10Km4sMSl9fWZ1bmN0aW9uIF8obixpLHIpezAhPT1uJiYodT0hMCk7Zm9yKHZhciBvPWk7bzxyO28rKyl7dmFyIGE9dFtvXTthLnJlY3RbZV0rPW4sYS5sYWJlbFtlXSs9bn19ZnVuY3Rpb24gYihpLHIpe2Zvcih2YXIgbz1bXSxzPTAsbD0xO2w8YTtsKyspe3ZhciB1PXRbbC0xXS5yZWN0LGg9TWF0aC5tYXgodFtsXS5yZWN0W2VdLXVbZV0tdVtuXSwwKTtvLnB1c2goaCkscys9aH1pZihzKXt2YXIgYz1NYXRoLm1pbihNYXRoLmFicyhpKS9zLHIpO2lmKGk+MClmb3IobD0wO2w8YS0xO2wrKyl7XyhvW2xdKmMsMCxsKzEpfWVsc2UgZm9yKGw9YS0xO2w+MDtsLS0pe18oLShvW2wtMV0qYyksbCxhKX19fWZ1bmN0aW9uIHcodCl7dmFyIGU9dDwwPy0xOjE7dD1NYXRoLmFicyh0KTtmb3IodmFyIG49TWF0aC5jZWlsKHQvKGEtMSkpLGk9MDtpPGEtMTtpKyspaWYoZT4wP18obiwwLGkrMSk6XygtbixhLWktMSxhKSwodC09bik8PTApcmV0dXJufX1mdW5jdGlvbiB5Yih0LGUsbixpKXtyZXR1cm4gZ2IodCwieSIsImhlaWdodCIsZSxuLGkpfWZ1bmN0aW9uIHZiKHQpe3ZhciBlPVtdO3Quc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5wcmlvcml0eS10LnByaW9yaXR5fSkpO3ZhciBuPW5ldyBzcigwLDAsMCwwKTtmdW5jdGlvbiBpKHQpe2lmKCF0Lmlnbm9yZSl7dmFyIGU9dC5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKTtudWxsPT1lLmlnbm9yZSYmKGUuaWdub3JlPSExKX10Lmlnbm9yZT0hMH1mb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXSxhPW8uYXhpc0FsaWduZWQscz1vLmxvY2FsUmVjdCxsPW8udHJhbnNmb3JtLHU9by5sYWJlbCxoPW8ubGFiZWxMaW5lO24uY29weShvLnJlY3QpLG4ud2lkdGgtPS4xLG4uaGVpZ2h0LT0uMSxuLngrPS4wNSxuLnkrPS4wNTtmb3IodmFyIGM9by5vYmIscD0hMSxkPTA7ZDxlLmxlbmd0aDtkKyspe3ZhciBmPWVbZF07aWYobi5pbnRlcnNlY3QoZi5yZWN0KSl7aWYoYSYmZi5heGlzQWxpZ25lZCl7cD0hMDticmVha31pZihmLm9iYnx8KGYub2JiPW5ldyBKdShmLmxvY2FsUmVjdCxmLnRyYW5zZm9ybSkpLGN8fChjPW5ldyBKdShzLGwpKSxjLmludGVyc2VjdChmLm9iYikpe3A9ITA7YnJlYWt9fX1wPyhpKHUpLGgmJmkoaCkpOih1LmF0dHIoImlnbm9yZSIsby5kZWZhdWx0QXR0ci5pZ25vcmUpLGgmJmguYXR0cigiaWdub3JlIixvLmRlZmF1bHRBdHRyLmxhYmVsR3VpZGVJZ25vcmUpLGUucHVzaChvKSl9fWZ1bmN0aW9uIG1iKHQpe2lmKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDtuKyspZS5wdXNoKHRbbl0uc2xpY2UoKSk7cmV0dXJuIGV9fWZ1bmN0aW9uIHhiKHQsZSl7dmFyIG49dC5sYWJlbCxpPWUmJmUuZ2V0VGV4dEd1aWRlTGluZSgpO3JldHVybntkYXRhSW5kZXg6dC5kYXRhSW5kZXgsZGF0YVR5cGU6dC5kYXRhVHlwZSxzZXJpZXNJbmRleDp0LnNlcmllc01vZGVsLnNlcmllc0luZGV4LHRleHQ6dC5sYWJlbC5zdHlsZS50ZXh0LHJlY3Q6dC5ob3N0UmVjdCxsYWJlbFJlY3Q6dC5yZWN0LGFsaWduOm4uc3R5bGUuYWxpZ24sdmVydGljYWxBbGlnbjpuLnN0eWxlLnZlcnRpY2FsQWxpZ24sbGFiZWxMaW5lUG9pbnRzOm1iKGkmJmkuc2hhcGUucG9pbnRzKX19dmFyIF9iPVsiYWxpZ24iLCJ2ZXJ0aWNhbEFsaWduIiwid2lkdGgiLCJoZWlnaHQiLCJmb250U2l6ZSJdLGJiPW5ldyBxaSx3Yj1TbygpLFNiPVNvKCk7ZnVuY3Rpb24gTWIodCxlLG4pe2Zvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldO251bGwhPWVbcl0mJih0W3JdPWVbcl0pfX12YXIgSWI9WyJ4IiwieSIsInJvdGF0aW9uIl0sVGI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5fbGFiZWxMaXN0PVtdLHRoaXMuX2NoYXJ0Vmlld0xpc3Q9W119cmV0dXJuIHQucHJvdG90eXBlLmNsZWFyTGFiZWxzPWZ1bmN0aW9uKCl7dGhpcy5fbGFiZWxMaXN0PVtdLHRoaXMuX2NoYXJ0Vmlld0xpc3Q9W119LHQucHJvdG90eXBlLl9hZGRMYWJlbD1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPWkuc3R5bGUsYT1pLl9faG9zdFRhcmdldC50ZXh0Q29uZmlnfHx7fSxzPWkuZ2V0Q29tcHV0ZWRUcmFuc2Zvcm0oKSxsPWkuZ2V0Qm91bmRpbmdSZWN0KCkucGxhaW4oKTtzci5hcHBseVRyYW5zZm9ybShsLGwscykscz9iYi5zZXRMb2NhbFRyYW5zZm9ybShzKTooYmIueD1iYi55PWJiLnJvdGF0aW9uPWJiLm9yaWdpblg9YmIub3JpZ2luWT0wLGJiLnNjYWxlWD1iYi5zY2FsZVk9MSk7dmFyIHUsaD1pLl9faG9zdFRhcmdldDtpZihoKXt1PWguZ2V0Qm91bmRpbmdSZWN0KCkucGxhaW4oKTt2YXIgYz1oLmdldENvbXB1dGVkVHJhbnNmb3JtKCk7c3IuYXBwbHlUcmFuc2Zvcm0odSx1LGMpfXZhciBwPXUmJmguZ2V0VGV4dEd1aWRlTGluZSgpO3RoaXMuX2xhYmVsTGlzdC5wdXNoKHtsYWJlbDppLGxhYmVsTGluZTpwLHNlcmllc01vZGVsOm4sZGF0YUluZGV4OnQsZGF0YVR5cGU6ZSxsYXlvdXRPcHRpb246cixjb21wdXRlZExheW91dE9wdGlvbjpudWxsLHJlY3Q6bCxob3N0UmVjdDp1LHByaW9yaXR5OnU/dS53aWR0aCp1LmhlaWdodDowLGRlZmF1bHRBdHRyOntpZ25vcmU6aS5pZ25vcmUsbGFiZWxHdWlkZUlnbm9yZTpwJiZwLmlnbm9yZSx4OmJiLngseTpiYi55LHNjYWxlWDpiYi5zY2FsZVgsc2NhbGVZOmJiLnNjYWxlWSxyb3RhdGlvbjpiYi5yb3RhdGlvbixzdHlsZTp7eDpvLngseTpvLnksYWxpZ246by5hbGlnbix2ZXJ0aWNhbEFsaWduOm8udmVydGljYWxBbGlnbix3aWR0aDpvLndpZHRoLGhlaWdodDpvLmhlaWdodCxmb250U2l6ZTpvLmZvbnRTaXplfSxjdXJzb3I6aS5jdXJzb3IsYXR0YWNoZWRQb3M6YS5wb3NpdGlvbixhdHRhY2hlZFJvdDphLnJvdGF0aW9ufX0pfSx0LnByb3RvdHlwZS5hZGRMYWJlbHNPZlNlcmllcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuX2NoYXJ0Vmlld0xpc3QucHVzaCh0KTt2YXIgbj10Ll9fbW9kZWwsaT1uLmdldCgibGFiZWxMYXlvdXQiKTsoVShpKXx8RyhpKS5sZW5ndGgpJiZ0Lmdyb3VwLnRyYXZlcnNlKChmdW5jdGlvbih0KXtpZih0Lmlnbm9yZSlyZXR1cm4hMDt2YXIgcj10LmdldFRleHRDb250ZW50KCksbz1Icyh0KTtyJiYhci5kaXNhYmxlTGFiZWxMYXlvdXQmJmUuX2FkZExhYmVsKG8uZGF0YUluZGV4LG8uZGF0YVR5cGUsbixyLGkpfSkpfSx0LnByb3RvdHlwZS51cGRhdGVMYXlvdXRDb25maWc9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRXaWR0aCgpLG49dC5nZXRIZWlnaHQoKTtmdW5jdGlvbiBpKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7b2IodCxlKX19Zm9yKHZhciByPTA7cjx0aGlzLl9sYWJlbExpc3QubGVuZ3RoO3IrKyl7dmFyIG89dGhpcy5fbGFiZWxMaXN0W3JdLGE9by5sYWJlbCxzPWEuX19ob3N0VGFyZ2V0LGw9by5kZWZhdWx0QXR0cix1PXZvaWQgMDt1PSh1PVUoby5sYXlvdXRPcHRpb24pP28ubGF5b3V0T3B0aW9uKHhiKG8scykpOm8ubGF5b3V0T3B0aW9uKXx8e30sby5jb21wdXRlZExheW91dE9wdGlvbj11O3ZhciBoPU1hdGguUEkvMTgwO3MmJnMuc2V0VGV4dENvbmZpZyh7bG9jYWw6ITEscG9zaXRpb246bnVsbCE9dS54fHxudWxsIT11Lnk/bnVsbDpsLmF0dGFjaGVkUG9zLHJvdGF0aW9uOm51bGwhPXUucm90YXRlP3Uucm90YXRlKmg6bC5hdHRhY2hlZFJvdCxvZmZzZXQ6W3UuZHh8fDAsdS5keXx8MF19KTt2YXIgYz0hMTtpZihudWxsIT11Lng/KGEueD1Fcih1LngsZSksYS5zZXRTdHlsZSgieCIsMCksYz0hMCk6KGEueD1sLngsYS5zZXRTdHlsZSgieCIsbC5zdHlsZS54KSksbnVsbCE9dS55PyhhLnk9RXIodS55LG4pLGEuc2V0U3R5bGUoInkiLDApLGM9ITApOihhLnk9bC55LGEuc2V0U3R5bGUoInkiLGwuc3R5bGUueSkpLHUubGFiZWxMaW5lUG9pbnRzKXt2YXIgcD1zLmdldFRleHRHdWlkZUxpbmUoKTtwJiYocC5zZXRTaGFwZSh7cG9pbnRzOnUubGFiZWxMaW5lUG9pbnRzfSksYz0hMSl9d2IoYSkubmVlZHNVcGRhdGVMYWJlbExpbmU9YyxhLnJvdGF0aW9uPW51bGwhPXUucm90YXRlP3Uucm90YXRlKmg6bC5yb3RhdGlvbixhLnNjYWxlWD1sLnNjYWxlWCxhLnNjYWxlWT1sLnNjYWxlWTtmb3IodmFyIGQ9MDtkPF9iLmxlbmd0aDtkKyspe3ZhciBmPV9iW2RdO2Euc2V0U3R5bGUoZixudWxsIT11W2ZdP3VbZl06bC5zdHlsZVtmXSl9aWYodS5kcmFnZ2FibGUpe2lmKGEuZHJhZ2dhYmxlPSEwLGEuY3Vyc29yPSJtb3ZlIixzKXt2YXIgZz1vLnNlcmllc01vZGVsO2lmKG51bGwhPW8uZGF0YUluZGV4KWc9by5zZXJpZXNNb2RlbC5nZXREYXRhKG8uZGF0YVR5cGUpLmdldEl0ZW1Nb2RlbChvLmRhdGFJbmRleCk7YS5vbigiZHJhZyIsaShzLGcuZ2V0TW9kZWwoImxhYmVsTGluZSIpKSl9fWVsc2UgYS5vZmYoImRyYWciKSxhLmN1cnNvcj1sLmN1cnNvcn19LHQucHJvdG90eXBlLmxheW91dD1mdW5jdGlvbih0KXt2YXIgZSxuPXQuZ2V0V2lkdGgoKSxpPXQuZ2V0SGVpZ2h0KCkscj1mYih0aGlzLl9sYWJlbExpc3QpLG89QihyLChmdW5jdGlvbih0KXtyZXR1cm4ic2hpZnRYIj09PXQubGF5b3V0T3B0aW9uLm1vdmVPdmVybGFwfSkpLGE9QihyLChmdW5jdGlvbih0KXtyZXR1cm4ic2hpZnRZIj09PXQubGF5b3V0T3B0aW9uLm1vdmVPdmVybGFwfSkpO2diKG8sIngiLCJ3aWR0aCIsMCxuLGUpLHliKGEsMCxpKSx2YihCKHIsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmxheW91dE9wdGlvbi5oaWRlT3ZlcmxhcH0pKSl9LHQucHJvdG90eXBlLnByb2Nlc3NMYWJlbHNPdmVyYWxsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztFKHRoaXMuX2NoYXJ0Vmlld0xpc3QsKGZ1bmN0aW9uKGUpe3ZhciBuPWUuX19tb2RlbCxpPWUuaWdub3JlTGFiZWxMaW5lVXBkYXRlLHI9bi5pc0FuaW1hdGlvbkVuYWJsZWQoKTtlLmdyb3VwLnRyYXZlcnNlKChmdW5jdGlvbihlKXtpZihlLmlnbm9yZSYmIWUuZm9yY2VMYWJlbEFuaW1hdGlvbilyZXR1cm4hMDt2YXIgbz0haSxhPWUuZ2V0VGV4dENvbnRlbnQoKTshbyYmYSYmKG89d2IoYSkubmVlZHNVcGRhdGVMYWJlbExpbmUpLG8mJnQuX3VwZGF0ZUxhYmVsTGluZShlLG4pLHImJnQuX2FuaW1hdGVMYWJlbHMoZSxuKX0pKX0pKX0sdC5wcm90b3R5cGUuX3VwZGF0ZUxhYmVsTGluZT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0VGV4dENvbnRlbnQoKSxpPUhzKHQpLHI9aS5kYXRhSW5kZXg7aWYobiYmbnVsbCE9cil7dmFyIG89ZS5nZXREYXRhKGkuZGF0YVR5cGUpLGE9by5nZXRJdGVtTW9kZWwocikscz17fSxsPW8uZ2V0SXRlbVZpc3VhbChyLCJzdHlsZSIpLHU9by5nZXRWaXN1YWwoImRyYXdUeXBlIik7cy5zdHJva2U9bFt1XTt2YXIgaD1hLmdldE1vZGVsKCJsYWJlbExpbmUiKTtwYih0LGRiKGEpLHMpLG9iKHQsaCl9fSx0LnByb3RvdHlwZS5fYW5pbWF0ZUxhYmVscz1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0VGV4dENvbnRlbnQoKSxpPXQuZ2V0VGV4dEd1aWRlTGluZSgpO2lmKG4mJih0LmZvcmNlTGFiZWxBbmltYXRpb258fCFuLmlnbm9yZSYmIW4uaW52aXNpYmxlJiYhdC5kaXNhYmxlTGFiZWxBbmltYXRpb24mJiFhaCh0KSkpe3ZhciByPShkPXdiKG4pKS5vbGRMYXlvdXQsbz1Icyh0KSxhPW8uZGF0YUluZGV4LHM9e3g6bi54LHk6bi55LHJvdGF0aW9uOm4ucm90YXRpb259LGw9ZS5nZXREYXRhKG8uZGF0YVR5cGUpO2lmKHIpe24uYXR0cihyKTt2YXIgdT10LnByZXZTdGF0ZXM7dSYmKFAodSwic2VsZWN0Iik+PTAmJm4uYXR0cihkLm9sZExheW91dFNlbGVjdCksUCh1LCJlbXBoYXNpcyIpPj0wJiZuLmF0dHIoZC5vbGRMYXlvdXRFbXBoYXNpcykpLHJoKG4scyxlLGEpfWVsc2UgaWYobi5hdHRyKHMpLCFKaChuKS52YWx1ZUFuaW1hdGlvbil7dmFyIGg9cnQobi5zdHlsZS5vcGFjaXR5LDEpO24uc3R5bGUub3BhY2l0eT0wLG9oKG4se3N0eWxlOntvcGFjaXR5Omh9fSxlLGEpfWlmKGQub2xkTGF5b3V0PXMsbi5zdGF0ZXMuc2VsZWN0KXt2YXIgYz1kLm9sZExheW91dFNlbGVjdD17fTtNYihjLHMsSWIpLE1iKGMsbi5zdGF0ZXMuc2VsZWN0LEliKX1pZihuLnN0YXRlcy5lbXBoYXNpcyl7dmFyIHA9ZC5vbGRMYXlvdXRFbXBoYXNpcz17fTtNYihwLHMsSWIpLE1iKHAsbi5zdGF0ZXMuZW1waGFzaXMsSWIpfXRjKG4sYSxsLGUsZSl9aWYoaSYmIWkuaWdub3JlJiYhaS5pbnZpc2libGUpe3I9KGQ9U2IoaSkpLm9sZExheW91dDt2YXIgZCxmPXtwb2ludHM6aS5zaGFwZS5wb2ludHN9O3I/KGkuYXR0cih7c2hhcGU6cn0pLHJoKGkse3NoYXBlOmZ9LGUpKTooaS5zZXRTaGFwZShmKSxpLnN0eWxlLnN0cm9rZVBlcmNlbnQ9MCxvaChpLHtzdHlsZTp7c3Ryb2tlUGVyY2VudDoxfX0sZSkpLGQub2xkTGF5b3V0PWZ9fSx0fSgpLENiPVNvKCk7dmFyIERiPU1hdGguc2luLEFiPU1hdGguY29zLGtiPU1hdGguUEksTGI9MipNYXRoLlBJLFBiPTE4MC9rYixPYj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0YXJ0PSEwLHRoaXMuX2Q9W10sdGhpcy5fc3RyPSIiLHRoaXMuX3A9TWF0aC5wb3coMTAsdHx8NCl9LHQucHJvdG90eXBlLm1vdmVUbz1mdW5jdGlvbih0LGUpe3RoaXMuX2FkZCgiTSIsdCxlKX0sdC5wcm90b3R5cGUubGluZVRvPWZ1bmN0aW9uKHQsZSl7dGhpcy5fYWRkKCJMIix0LGUpfSx0LnByb3RvdHlwZS5iZXppZXJDdXJ2ZVRvPWZ1bmN0aW9uKHQsZSxuLGkscixvKXt0aGlzLl9hZGQoIkMiLHQsZSxuLGkscixvKX0sdC5wcm90b3R5cGUucXVhZHJhdGljQ3VydmVUbz1mdW5jdGlvbih0LGUsbixpKXt0aGlzLl9hZGQoIlEiLHQsZSxuLGkpfSx0LnByb3RvdHlwZS5hcmM9ZnVuY3Rpb24odCxlLG4saSxyLG8pe3RoaXMuZWxsaXBzZSh0LGUsbixuLDAsaSxyLG8pfSx0LnByb3RvdHlwZS5lbGxpcHNlPWZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyl7dmFyIGw9YS1vLHU9IXMsaD1NYXRoLmFicyhsKSxjPUVuKGgtTGIpfHwodT9sPj1MYjotbD49TGIpLHA9bD4wP2wlTGI6bCVMYitMYixkPSExO2Q9ISFjfHwhRW4oaCkmJnA+PWtiPT0hIXU7dmFyIGY9dCtuKkFiKG8pLGc9ZStpKkRiKG8pO3RoaXMuX3N0YXJ0JiZ0aGlzLl9hZGQoIk0iLGYsZyk7dmFyIHk9TWF0aC5yb3VuZChyKlBiKTtpZihjKXt2YXIgdj0xL3RoaXMuX3AsbT0odT8xOi0xKSooTGItdik7dGhpcy5fYWRkKCJBIixuLGkseSwxLCt1LHQrbipBYihvK20pLGUraSpEYihvK20pKSx2Pi4wMSYmdGhpcy5fYWRkKCJBIixuLGkseSwwLCt1LGYsZyl9ZWxzZXt2YXIgeD10K24qQWIoYSksXz1lK2kqRGIoYSk7dGhpcy5fYWRkKCJBIixuLGkseSwrZCwrdSx4LF8pfX0sdC5wcm90b3R5cGUucmVjdD1mdW5jdGlvbih0LGUsbixpKXt0aGlzLl9hZGQoIk0iLHQsZSksdGhpcy5fYWRkKCJsIixuLDApLHRoaXMuX2FkZCgibCIsMCxpKSx0aGlzLl9hZGQoImwiLC1uLDApLHRoaXMuX2FkZCgiWiIpfSx0LnByb3RvdHlwZS5jbG9zZVBhdGg9ZnVuY3Rpb24oKXt0aGlzLl9kLmxlbmd0aD4wJiZ0aGlzLl9hZGQoIloiKX0sdC5wcm90b3R5cGUuX2FkZD1mdW5jdGlvbih0LGUsbixpLHIsbyxhLHMsbCl7Zm9yKHZhciB1PVtdLGg9dGhpcy5fcCxjPTE7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKyl7dmFyIHA9YXJndW1lbnRzW2NdO2lmKGlzTmFOKHApKXJldHVybiB2b2lkKHRoaXMuX2ludmFsaWQ9ITApO3UucHVzaChNYXRoLnJvdW5kKHAqaCkvaCl9dGhpcy5fZC5wdXNoKHQrdS5qb2luKCIgIikpLHRoaXMuX3N0YXJ0PSJaIj09PXR9LHQucHJvdG90eXBlLmdlbmVyYXRlU3RyPWZ1bmN0aW9uKCl7dGhpcy5fc3RyPXRoaXMuX2ludmFsaWQ/IiI6dGhpcy5fZC5qb2luKCIiKSx0aGlzLl9kPVtdfSx0LnByb3RvdHlwZS5nZXRTdHI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RyfSx0fSgpLFJiPSJub25lIixOYj1NYXRoLnJvdW5kO3ZhciBFYj1bImxpbmVDYXAiLCJtaXRlckxpbWl0IiwibGluZUpvaW4iXSx6Yj16KEViLChmdW5jdGlvbih0KXtyZXR1cm4ic3Ryb2tlLSIrdC50b0xvd2VyQ2FzZSgpfSkpO2Z1bmN0aW9uIFZiKHQsZSxuLGkpe3ZhciByPW51bGw9PWUub3BhY2l0eT8xOmUub3BhY2l0eTtpZihuIGluc3RhbmNlb2YgX3MpdCgib3BhY2l0eSIscik7ZWxzZXtpZihmdW5jdGlvbih0KXt2YXIgZT10LmZpbGw7cmV0dXJuIG51bGwhPWUmJmUhPT1SYn0oZSkpe3ZhciBvPVJuKGUuZmlsbCk7dCgiZmlsbCIsby5jb2xvcik7dmFyIGE9bnVsbCE9ZS5maWxsT3BhY2l0eT9lLmZpbGxPcGFjaXR5Km8ub3BhY2l0eSpyOm8ub3BhY2l0eSpyOyhpfHxhPDEpJiZ0KCJmaWxsLW9wYWNpdHkiLGEpfWVsc2UgdCgiZmlsbCIsUmIpO2lmKGZ1bmN0aW9uKHQpe3ZhciBlPXQuc3Ryb2tlO3JldHVybiBudWxsIT1lJiZlIT09UmJ9KGUpKXt2YXIgcz1SbihlLnN0cm9rZSk7dCgic3Ryb2tlIixzLmNvbG9yKTt2YXIgbD1lLnN0cm9rZU5vU2NhbGU/bi5nZXRMaW5lU2NhbGUoKToxLHU9bD8oZS5saW5lV2lkdGh8fDApL2w6MCxoPW51bGwhPWUuc3Ryb2tlT3BhY2l0eT9lLnN0cm9rZU9wYWNpdHkqcy5vcGFjaXR5KnI6cy5vcGFjaXR5KnIsYz1lLnN0cm9rZUZpcnN0O2lmKChpfHwxIT09dSkmJnQoInN0cm9rZS13aWR0aCIsdSksKGl8fGMpJiZ0KCJwYWludC1vcmRlciIsYz8ic3Ryb2tlIjoiZmlsbCIpLChpfHxoPDEpJiZ0KCJzdHJva2Utb3BhY2l0eSIsaCksZS5saW5lRGFzaCl7dmFyIHA9enkobiksZD1wWzBdLGY9cFsxXTtkJiYoZj1OYihmfHwwKSx0KCJzdHJva2UtZGFzaGFycmF5IixkLmpvaW4oIiwiKSksKGZ8fGkpJiZ0KCJzdHJva2UtZGFzaG9mZnNldCIsZikpfWVsc2UgaSYmdCgic3Ryb2tlLWRhc2hhcnJheSIsUmIpO2Zvcih2YXIgZz0wO2c8RWIubGVuZ3RoO2crKyl7dmFyIHk9RWJbZ107aWYoaXx8ZVt5XSE9PXBzW3ldKXt2YXIgdj1lW3ldfHxwc1t5XTt2JiZ0KHpiW2ddLHYpfX19ZWxzZSBpJiZ0KCJzdHJva2UiLFJiKX19dmFyIEJiPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsRmI9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiO2Z1bmN0aW9uIEdiKHQpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoQmIsdCl9ZnVuY3Rpb24gV2IodCxlLG4saSxyKXtyZXR1cm57dGFnOnQsYXR0cnM6bnx8e30sY2hpbGRyZW46aSx0ZXh0OnIsa2V5OmV9fWZ1bmN0aW9uIEhiKHQsZSl7dmFyIG49KGU9ZXx8e30pLm5ld2xpbmU/IlxuIjoiIjtyZXR1cm4gZnVuY3Rpb24gdChlKXt2YXIgaT1lLmNoaWxkcmVuLHI9ZS50YWc7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49W107aWYoZSlmb3IodmFyIGkgaW4gZSl7dmFyIHI9ZVtpXSxvPWk7ITEhPT1yJiYoITAhPT1yJiZudWxsIT1yJiYobys9Jz0iJytyKyciJyksbi5wdXNoKG8pKX1yZXR1cm4iPCIrdCsiICIrbi5qb2luKCIgIikrIj4ifShyLGUuYXR0cnMpKyhlLnRleHR8fCIiKSsoaT8iIituK3ooaSwoZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl9KSkuam9pbihuKStuOiIiKSsoIjwvIityKyI+Iil9KHQpfWZ1bmN0aW9uIFliKHQpe3JldHVybnt6cklkOnQsc2hhZG93Q2FjaGU6e30scGF0dGVybkNhY2hlOnt9LGdyYWRpZW50Q2FjaGU6e30sY2xpcFBhdGhDYWNoZTp7fSxkZWZzOnt9LGNzc05vZGVzOnt9LGNzc0FuaW1zOnt9LGNzc0NsYXNzSWR4OjAsY3NzQW5pbUlkeDowLHNoYWRvd0lkeDowLGdyYWRpZW50SWR4OjAscGF0dGVybklkeDowLGNsaXBQYXRoSWR4OjB9fWZ1bmN0aW9uIFViKHQsZSxuLGkpe3JldHVybiBXYigic3ZnIiwicm9vdCIse3dpZHRoOnQsaGVpZ2h0OmUseG1sbnM6QmIsInhtbG5zOnhsaW5rIjpGYix2ZXJzaW9uOiIxLjEiLGJhc2VQcm9maWxlOiJmdWxsIix2aWV3Qm94OiEhaSYmIjAgMCAiK3QrIiAiK2V9LG4pfXZhciBYYj17Y3ViaWNJbjoiMC4zMiwwLDAuNjcsMCIsY3ViaWNPdXQ6IjAuMzMsMSwwLjY4LDEiLGN1YmljSW5PdXQ6IjAuNjUsMCwwLjM1LDEiLHF1YWRyYXRpY0luOiIwLjExLDAsMC41LDAiLHF1YWRyYXRpY091dDoiMC41LDEsMC44OSwxIixxdWFkcmF0aWNJbk91dDoiMC40NSwwLDAuNTUsMSIscXVhcnRpY0luOiIwLjUsMCwwLjc1LDAiLHF1YXJ0aWNPdXQ6IjAuMjUsMSwwLjUsMSIscXVhcnRpY0luT3V0OiIwLjc2LDAsMC4yNCwxIixxdWludGljSW46IjAuNjQsMCwwLjc4LDAiLHF1aW50aWNPdXQ6IjAuMjIsMSwwLjM2LDEiLHF1aW50aWNJbk91dDoiMC44MywwLDAuMTcsMSIsc2ludXNvaWRhbEluOiIwLjEyLDAsMC4zOSwwIixzaW51c29pZGFsT3V0OiIwLjYxLDEsMC44OCwxIixzaW51c29pZGFsSW5PdXQ6IjAuMzcsMCwwLjYzLDEiLGV4cG9uZW50aWFsSW46IjAuNywwLDAuODQsMCIsZXhwb25lbnRpYWxPdXQ6IjAuMTYsMSwwLjMsMSIsZXhwb25lbnRpYWxJbk91dDoiMC44NywwLDAuMTMsMSIsY2lyY3VsYXJJbjoiMC41NSwwLDEsMC40NSIsY2lyY3VsYXJPdXQ6IjAsMC41NSwwLjQ1LDEiLGNpcmN1bGFySW5PdXQ6IjAuODUsMCwwLjE1LDEifSxaYj0idHJhbnNmb3JtLW9yaWdpbiI7ZnVuY3Rpb24gamIodCxlLG4pe3ZhciBpPUEoe30sdC5zaGFwZSk7QShpLGUpLHQuYnVpbGRQYXRoKG4saSk7dmFyIHI9bmV3IE9iO3JldHVybiByLnJlc2V0KFluKHQpKSxuLnJlYnVpbGRQYXRoKHIsMSksci5nZW5lcmF0ZVN0cigpLHIuZ2V0U3RyKCl9ZnVuY3Rpb24gcWIodCxlKXt2YXIgbj1lLm9yaWdpblgsaT1lLm9yaWdpblk7KG58fGkpJiYodFtaYl09bisicHggIitpKyJweCIpfXZhciBLYj17ZmlsbDoiZmlsbCIsb3BhY2l0eToib3BhY2l0eSIsbGluZVdpZHRoOiJzdHJva2Utd2lkdGgiLGxpbmVEYXNoT2Zmc2V0OiJzdHJva2UtZGFzaG9mZnNldCJ9O2Z1bmN0aW9uICRiKHQsZSl7dmFyIG49ZS56cklkKyItYW5pLSIrZS5jc3NBbmltSWR4Kys7cmV0dXJuIGUuY3NzQW5pbXNbbl09dCxufWZ1bmN0aW9uIEpiKHQpe3JldHVybiBYKHQpP1hiW3RdPyJjdWJpYy1iZXppZXIoIitYYlt0XSsiKSI6cm4odCk/dDoiIjoiIn1mdW5jdGlvbiBRYih0LGUsbixpKXt2YXIgcj10LmFuaW1hdG9ycyxvPXIubGVuZ3RoLGE9W107aWYodCBpbnN0YW5jZW9mIFl1KXtpZih5PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyLG89dC5zaGFwZS5wYXRocyxhPXt9O2lmKEUobywoZnVuY3Rpb24odCl7dmFyIGU9WWIobi56cklkKTtlLmFuaW1hdGlvbj0hMCxRYih0LHt9LGUsITApO3ZhciBvPWUuY3NzQW5pbXMscz1lLmNzc05vZGVzLGw9RyhvKSx1PWwubGVuZ3RoO2lmKHUpe3ZhciBoPW9bcj1sW3UtMV1dO2Zvcih2YXIgYyBpbiBoKXt2YXIgcD1oW2NdO2FbY109YVtjXXx8e2Q6IiJ9LGFbY10uZCs9cC5kfHwiIn1mb3IodmFyIGQgaW4gcyl7dmFyIGY9c1tkXS5hbmltYXRpb247Zi5pbmRleE9mKHIpPj0wJiYoaT1mKX19fSkpLGkpe2UuZD0hMTt2YXIgcz0kYihhLG4pO3JldHVybiBpLnJlcGxhY2UocixzKX19KHQsZSxuKSlhLnB1c2goeSk7ZWxzZSBpZighbylyZXR1cm59ZWxzZSBpZighbylyZXR1cm47Zm9yKHZhciBzPXt9LGw9MDtsPG87bCsrKXt2YXIgdT1yW2xdLGg9W3UuZ2V0TWF4VGltZSgpLzFlMysicyJdLGM9SmIodS5nZXRDbGlwKCkuZWFzaW5nKSxwPXUuZ2V0RGVsYXkoKTtjP2gucHVzaChjKTpoLnB1c2goImxpbmVhciIpLHAmJmgucHVzaChwLzFlMysicyIpLHUuZ2V0TG9vcCgpJiZoLnB1c2goImluZmluaXRlIik7dmFyIGQ9aC5qb2luKCIgIik7c1tkXT1zW2RdfHxbZCxbXV0sc1tkXVsxXS5wdXNoKHUpfWZ1bmN0aW9uIGYocil7dmFyIG8sYT1yWzFdLHM9YS5sZW5ndGgsbD17fSx1PXt9LGg9e307ZnVuY3Rpb24gYyh0LGUsbil7Zm9yKHZhciBpPXQuZ2V0VHJhY2tzKCkscj10LmdldE1heFRpbWUoKSxvPTA7bzxpLmxlbmd0aDtvKyspe3ZhciBhPWlbb107aWYoYS5uZWVkc0FuaW1hdGUoKSl7dmFyIHM9YS5rZXlmcmFtZXMsbD1hLnByb3BOYW1lO2lmKG4mJihsPW4obCkpLGwpZm9yKHZhciB1PTA7dTxzLmxlbmd0aDt1Kyspe3ZhciBoPXNbdV0sYz1NYXRoLnJvdW5kKGgudGltZS9yKjEwMCkrIiUiLHA9SmIoaC5lYXNpbmcpLGQ9aC5yYXdWYWx1ZTsoWChkKXx8aihkKSkmJihlW2NdPWVbY118fHt9LGVbY11bbF09aC5yYXdWYWx1ZSxwJiYoZVtjXVsiYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbiJdPXApKX19fX1mb3IodmFyIHA9MDtwPHM7cCsrKXsodz0oYj1hW3BdKS50YXJnZXROYW1lKT8ic2hhcGUiPT09dyYmYyhiLHUpOiFpJiZjKGIsbCl9Zm9yKHZhciBkIGluIGwpe3ZhciBmPXt9OyRpKGYsdCksQShmLGxbZF0pO3ZhciBnPVVuKGYpLHk9bFtkXVsiYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbiJdO2hbZF09Zz97dHJhbnNmb3JtOmd9Ont9LHFiKGhbZF0sZikseSYmKGhbZF1bImFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb24iXT15KX12YXIgdj0hMDtmb3IodmFyIGQgaW4gdSl7aFtkXT1oW2RdfHx7fTt2YXIgbT0hbzt5PXVbZF1bImFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb24iXTttJiYobz1uZXcgcWEpO3ZhciB4PW8ubGVuKCk7by5yZXNldCgpLGhbZF0uZD1qYih0LHVbZF0sbyk7dmFyIF89by5sZW4oKTtpZighbSYmeCE9PV8pe3Y9ITE7YnJlYWt9eSYmKGhbZF1bImFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb24iXT15KX1pZighdilmb3IodmFyIGQgaW4gaClkZWxldGUgaFtkXS5kO2lmKCFpKWZvcihwPTA7cDxzO3ArKyl7dmFyIGIsdzsic3R5bGUiPT09KHc9KGI9YVtwXSkudGFyZ2V0TmFtZSkmJmMoYixoLChmdW5jdGlvbih0KXtyZXR1cm4gS2JbdF19KSl9dmFyIFMsTT1HKGgpLEk9ITA7Zm9yKHA9MTtwPE0ubGVuZ3RoO3ArKyl7dmFyIFQ9TVtwLTFdLEM9TVtwXTtpZihoW1RdW1piXSE9PWhbQ11bWmJdKXtJPSExO2JyZWFrfVM9aFtUXVtaYl19aWYoSSYmUyl7Zm9yKHZhciBkIGluIGgpaFtkXVtaYl0mJmRlbGV0ZSBoW2RdW1piXTtlW1piXT1TfWlmKEIoTSwoZnVuY3Rpb24odCl7cmV0dXJuIEcoaFt0XSkubGVuZ3RoPjB9KSkubGVuZ3RoKXJldHVybiAkYihoLG4pKyIgIityWzBdKyIgYm90aCJ9Zm9yKHZhciBnIGluIHMpe3ZhciB5Oyh5PWYoc1tnXSkpJiZhLnB1c2goeSl9aWYoYS5sZW5ndGgpe3ZhciB2PW4uenJJZCsiLWNscy0iK24uY3NzQ2xhc3NJZHgrKztuLmNzc05vZGVzWyIuIit2XT17YW5pbWF0aW9uOmEuam9pbigiLCIpfSxlLmNsYXNzPXZ9fXZhciB0dz1NYXRoLnJvdW5kO2Z1bmN0aW9uIGV3KHQpe3JldHVybiB0JiZYKHQuc3JjKX1mdW5jdGlvbiBudyh0KXtyZXR1cm4gdCYmVSh0LnRvRGF0YVVSTCl9ZnVuY3Rpb24gaXcodCxlLG4saSl7VmIoKGZ1bmN0aW9uKHIsbyl7dmFyIGE9ImZpbGwiPT09cnx8InN0cm9rZSI9PT1yO2EmJmZ1bmN0aW9uKHQpe3JldHVybiB0JiYoImxpbmVhciI9PT10LnR5cGV8fCJyYWRpYWwiPT09dC50eXBlKX0obyk/ZnVuY3Rpb24odCxlLG4saSl7dmFyIHIsbz10W25dLGE9e2dyYWRpZW50VW5pdHM6by5nbG9iYWw/InVzZXJTcGFjZU9uVXNlIjoib2JqZWN0Qm91bmRpbmdCb3gifTtpZihHbihvKSlyPSJsaW5lYXJHcmFkaWVudCIsYS54MT1vLngsYS55MT1vLnksYS54Mj1vLngyLGEueTI9by55MjtlbHNle2lmKCFXbihvKSlyZXR1cm4gdm9pZCAwO3I9InJhZGlhbEdyYWRpZW50IixhLmN4PXJ0KG8ueCwuNSksYS5jeT1ydChvLnksLjUpLGEucj1ydChvLnIsLjUpfWZvcih2YXIgcz1vLmNvbG9yU3RvcHMsbD1bXSx1PTAsaD1zLmxlbmd0aDt1PGg7Kyt1KXt2YXIgYz0xMDAqVm4oc1t1XS5vZmZzZXQpKyIlIixwPVJuKHNbdV0uY29sb3IpLGQ9cC5jb2xvcixmPXAub3BhY2l0eSxnPXtvZmZzZXQ6Y307Z1sic3RvcC1jb2xvciJdPWQsZjwxJiYoZ1sic3RvcC1vcGFjaXR5Il09ZiksbC5wdXNoKFdiKCJzdG9wIix1KyIiLGcpKX12YXIgeT1IYihXYihyLCIiLGEsbCkpLHY9aS5ncmFkaWVudENhY2hlLG09dlt5XTttfHwobT1pLnpySWQrIi1nIitpLmdyYWRpZW50SWR4Kyssdlt5XT1tLGEuaWQ9bSxpLmRlZnNbbV09V2IocixtLGEsbCkpO2Vbbl09SG4obSl9KGUsdCxyLGkpOmEmJmZ1bmN0aW9uKHQpe3JldHVybiBGbih0KXx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiEhdC5zdmdFbGVtZW50fSh0KX0obyk/ZnVuY3Rpb24odCxlLG4saSl7dmFyIHIsbz10LnN0eWxlW25dLGE9e3BhdHRlcm5Vbml0czoidXNlclNwYWNlT25Vc2UifTtpZihGbihvKSl7dmFyIHM9by5pbWFnZVdpZHRoLGw9by5pbWFnZUhlaWdodCx1PXZvaWQgMCxoPW8uaW1hZ2U7aWYoWChoKT91PWg6ZXcoaCk/dT1oLnNyYzpudyhoKSYmKHU9aC50b0RhdGFVUkwoKSksInVuZGVmaW5lZCI9PXR5cGVvZiBJbWFnZSl7dmFyIGM9IkltYWdlIHdpZHRoL2hlaWdodCBtdXN0IGJlZW4gZ2l2ZW4gZXhwbGljdGx5IGluIHN2Zy1zc3IgcmVuZGVyZXIuIjtsdChzLGMpLGx0KGwsYyl9ZWxzZSBpZihudWxsPT1zfHxudWxsPT1sKXt2YXIgcD1mdW5jdGlvbih0LGUpe2lmKHQpe3ZhciBuPXQuZWxtLGk9dC5hdHRycy53aWR0aD1zfHxlLndpZHRoLHI9dC5hdHRycy5oZWlnaHQ9bHx8ZS5oZWlnaHQ7biYmKG4uc2V0QXR0cmlidXRlKCJ3aWR0aCIsaSksbi5zZXRBdHRyaWJ1dGUoImhlaWdodCIscikpfX0sZD1abyh1LG51bGwsdCwoZnVuY3Rpb24odCl7cChmLHQpLHAocix0KX0pKTtkJiZkLndpZHRoJiZkLmhlaWdodCYmKHM9c3x8ZC53aWR0aCxsPWx8fGQuaGVpZ2h0KX1yPVdiKCJpbWFnZSIsImltZyIse2hyZWY6dSx3aWR0aDpzLGhlaWdodDpsfSksYS53aWR0aD1zLGEuaGVpZ2h0PWx9ZWxzZSBvLnN2Z0VsZW1lbnQmJihyPVQoby5zdmdFbGVtZW50KSxhLndpZHRoPW8uc3ZnV2lkdGgsYS5oZWlnaHQ9by5zdmdIZWlnaHQpO2lmKCFyKXJldHVybjthLnBhdHRlcm5UcmFuc2Zvcm09VW4obyk7dmFyIGY9V2IoInBhdHRlcm4iLCIiLGEsW3JdKSxnPUhiKGYpLHk9aS5wYXR0ZXJuQ2FjaGUsdj15W2ddO3Z8fCh2PWkuenJJZCsiLXAiK2kucGF0dGVybklkeCsrLHlbZ109dixhLmlkPXYsZj1pLmRlZnNbdl09V2IoInBhdHRlcm4iLHYsYSxbcl0pKTtlW25dPUhuKHYpfShuLHQscixpKTp0W3JdPW99KSxlLG4sITEpLGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LnN0eWxlO2lmKGZ1bmN0aW9uKHQpe3JldHVybiB0JiYodC5zaGFkb3dCbHVyfHx0LnNoYWRvd09mZnNldFh8fHQuc2hhZG93T2Zmc2V0WSl9KGkpKXt2YXIgcj1mdW5jdGlvbih0KXt2YXIgZT10LnN0eWxlLG49dC5nZXRHbG9iYWxTY2FsZSgpO3JldHVybltlLnNoYWRvd0NvbG9yLChlLnNoYWRvd0JsdXJ8fDApLnRvRml4ZWQoMiksKGUuc2hhZG93T2Zmc2V0WHx8MCkudG9GaXhlZCgyKSwoZS5zaGFkb3dPZmZzZXRZfHwwKS50b0ZpeGVkKDIpLG5bMF0sblsxXV0uam9pbigiLCIpfSh0KSxvPW4uc2hhZG93Q2FjaGUsYT1vW3JdO2lmKCFhKXt2YXIgcz10LmdldEdsb2JhbFNjYWxlKCksbD1zWzBdLHU9c1sxXTtpZighbHx8IXUpcmV0dXJuO3ZhciBoPWkuc2hhZG93T2Zmc2V0WHx8MCxjPWkuc2hhZG93T2Zmc2V0WXx8MCxwPWkuc2hhZG93Qmx1cixkPVJuKGkuc2hhZG93Q29sb3IpLGY9ZC5vcGFjaXR5LGc9ZC5jb2xvcix5PXAvMi9sKyIgIitwLzIvdTthPW4uenJJZCsiLXMiK24uc2hhZG93SWR4Kyssbi5kZWZzW2FdPVdiKCJmaWx0ZXIiLGEse2lkOmEseDoiLTEwMCUiLHk6Ii0xMDAlIix3aWR0aDoiMzAwJSIsaGVpZ2h0OiIzMDAlIn0sW1diKCJmZURyb3BTaGFkb3ciLCIiLHtkeDpoL2wsZHk6Yy91LHN0ZERldmlhdGlvbjp5LCJmbG9vZC1jb2xvciI6ZywiZmxvb2Qtb3BhY2l0eSI6Zn0pXSksb1tyXT1hfWUuZmlsdGVyPUhuKGEpfX0obix0LGkpfWZ1bmN0aW9uIHJ3KHQpe3JldHVybiBFbih0WzBdLTEpJiZFbih0WzFdKSYmRW4odFsyXSkmJkVuKHRbM10tMSl9ZnVuY3Rpb24gb3codCxlLG4pe2lmKGUmJighZnVuY3Rpb24odCl7cmV0dXJuIEVuKHRbNF0pJiZFbih0WzVdKX0oZSl8fCFydyhlKSkpe3ZhciBpPW4/MTA6MWU0O3QudHJhbnNmb3JtPXJ3KGUpPyJ0cmFuc2xhdGUoIit0dyhlWzRdKmkpL2krIiAiK3R3KGVbNV0qaSkvaSsiKSI6ZnVuY3Rpb24odCl7cmV0dXJuIm1hdHJpeCgiK3puKHRbMF0pKyIsIit6bih0WzFdKSsiLCIrem4odFsyXSkrIiwiK3puKHRbM10pKyIsIitWbih0WzRdKSsiLCIrVm4odFs1XSkrIikifShlKX19ZnVuY3Rpb24gYXcodCxlLG4pe2Zvcih2YXIgaT10LnBvaW50cyxyPVtdLG89MDtvPGkubGVuZ3RoO28rKylyLnB1c2godHcoaVtvXVswXSpuKS9uKSxyLnB1c2godHcoaVtvXVsxXSpuKS9uKTtlLnBvaW50cz1yLmpvaW4oIiAiKX1mdW5jdGlvbiBzdyh0KXtyZXR1cm4hdC5zbW9vdGh9dmFyIGx3LHV3LGh3PXtjaXJjbGU6Wyhsdz1bImN4IiwiY3kiLCJyIl0sdXc9eihsdywoZnVuY3Rpb24odCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P1t0LHRdOnR9KSksZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT0wO2k8dXcubGVuZ3RoO2krKyl7dmFyIHI9dXdbaV0sbz10W3JbMF1dO251bGwhPW8mJihlW3JbMV1dPXR3KG8qbikvbil9fSldLHBvbHlsaW5lOlthdyxzd10scG9seWdvbjpbYXcsc3ddfTtmdW5jdGlvbiBjdyh0LGUpe3ZhciBuPXQuc3R5bGUsaT10LnNoYXBlLHI9aHdbdC50eXBlXSxvPXt9LGE9ZS5hbmltYXRpb24scz0icGF0aCIsbD10LnN0eWxlLnN0cm9rZVBlcmNlbnQsdT1lLmNvbXByZXNzJiZZbih0KXx8NDtpZighcnx8ZS53aWxsVXBkYXRlfHxyWzFdJiYhclsxXShpKXx8YSYmZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuYW5pbWF0b3JzLG49MDtuPGUubGVuZ3RoO24rKylpZigic2hhcGUiPT09ZVtuXS50YXJnZXROYW1lKXJldHVybiEwO3JldHVybiExfSh0KXx8bDwxKXt0LnBhdGh8fHQuY3JlYXRlUGF0aFByb3h5KCk7dmFyIGg9dC5wYXRoO3Quc2hhcGVDaGFuZ2VkKCkmJihoLmJlZ2luUGF0aCgpLHQuYnVpbGRQYXRoKGgsdC5zaGFwZSksdC5wYXRoVXBkYXRlZCgpKTt2YXIgYz1oLmdldFZlcnNpb24oKSxwPXQsZD1wLl9fc3ZnUGF0aEJ1aWxkZXI7cC5fX3N2Z1BhdGhWZXJzaW9uPT09YyYmZCYmbD09PXAuX19zdmdQYXRoU3Ryb2tlUGVyY2VudHx8KGR8fChkPXAuX19zdmdQYXRoQnVpbGRlcj1uZXcgT2IpLGQucmVzZXQodSksaC5yZWJ1aWxkUGF0aChkLGwpLGQuZ2VuZXJhdGVTdHIoKSxwLl9fc3ZnUGF0aFZlcnNpb249YyxwLl9fc3ZnUGF0aFN0cm9rZVBlcmNlbnQ9bCksby5kPWQuZ2V0U3RyKCl9ZWxzZXtzPXQudHlwZTt2YXIgZj1NYXRoLnBvdygxMCx1KTtyWzBdKGksbyxmKX1yZXR1cm4gb3cobyx0LnRyYW5zZm9ybSksaXcobyxuLHQsZSksZS5hbmltYXRpb24mJlFiKHQsbyxlKSxXYihzLHQuaWQrIiIsbyl9ZnVuY3Rpb24gcHcodCxlKXtyZXR1cm4gdCBpbnN0YW5jZW9mIGdzP2N3KHQsZSk6dCBpbnN0YW5jZW9mIF9zP2Z1bmN0aW9uKHQsZSl7dmFyIG49dC5zdHlsZSxpPW4uaW1hZ2U7aWYoaSYmIVgoaSkmJihldyhpKT9pPWkuc3JjOm53KGkpJiYoaT1pLnRvRGF0YVVSTCgpKSksaSl7dmFyIHI9bi54fHwwLG89bi55fHwwLGE9e2hyZWY6aSx3aWR0aDpuLndpZHRoLGhlaWdodDpuLmhlaWdodH07cmV0dXJuIHImJihhLng9ciksbyYmKGEueT1vKSxvdyhhLHQudHJhbnNmb3JtKSxpdyhhLG4sdCxlKSxlLmFuaW1hdGlvbiYmUWIodCxhLGUpLFdiKCJpbWFnZSIsdC5pZCsiIixhKX19KHQsZSk6dCBpbnN0YW5jZW9mIHZzP2Z1bmN0aW9uKHQsZSl7dmFyIG49dC5zdHlsZSxpPW4udGV4dDtpZihudWxsIT1pJiYoaSs9IiIpLGkmJiFpc05hTihuLngpJiYhaXNOYU4obi55KSl7dmFyIHI9bi5mb250fHxhLHM9bi54fHwwLGw9ZnVuY3Rpb24odCxlLG4pe3JldHVybiJ0b3AiPT09bj90Kz1lLzI6ImJvdHRvbSI9PT1uJiYodC09ZS8yKSx0fShuLnl8fDAsZnIociksbi50ZXh0QmFzZWxpbmUpLHU9eyJkb21pbmFudC1iYXNlbGluZSI6ImNlbnRyYWwiLCJ0ZXh0LWFuY2hvciI6Qm5bbi50ZXh0QWxpZ25dfHxuLnRleHRBbGlnbn07aWYoRXMobikpe3ZhciBoPSIiLGM9bi5mb250U3R5bGUscD1ScyhuLmZvbnRTaXplKTtpZighcGFyc2VGbG9hdChwKSlyZXR1cm47dmFyIGQ9bi5mb250RmFtaWx5fHxvLGY9bi5mb250V2VpZ2h0O2grPSJmb250LXNpemU6IitwKyI7Zm9udC1mYW1pbHk6IitkKyI7IixjJiYibm9ybWFsIiE9PWMmJihoKz0iZm9udC1zdHlsZToiK2MrIjsiKSxmJiYibm9ybWFsIiE9PWYmJihoKz0iZm9udC13ZWlnaHQ6IitmKyI7IiksdS5zdHlsZT1ofWVsc2UgdS5zdHlsZT0iZm9udDogIityO3JldHVybiBpLm1hdGNoKC9ccy8pJiYodVsieG1sOnNwYWNlIl09InByZXNlcnZlIikscyYmKHUueD1zKSxsJiYodS55PWwpLG93KHUsdC50cmFuc2Zvcm0pLGl3KHUsbix0LGUpLGUuYW5pbWF0aW9uJiZRYih0LHUsZSksV2IoInRleHQiLHQuaWQrIiIsdSx2b2lkIDAsaSl9fSh0LGUpOnZvaWQgMH1mdW5jdGlvbiBkdyh0LGUsbil7dmFyIGk9bi5jbGlwUGF0aENhY2hlLHI9bi5kZWZzLG89aVt0LmlkXTtpZighbyl7dmFyIGE9e2lkOm89bi56cklkKyItYyIrbi5jbGlwUGF0aElkeCsrfTtpW3QuaWRdPW8scltvXT1XYigiY2xpcFBhdGgiLG8sYSxbY3codCxuKV0pfWVbImNsaXAtcGF0aCJdPUhuKG8pfWZ1bmN0aW9uIGZ3KHQpe3JldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0KX1mdW5jdGlvbiBndyh0LGUsbil7dC5pbnNlcnRCZWZvcmUoZSxuKX1mdW5jdGlvbiB5dyh0LGUpe3QucmVtb3ZlQ2hpbGQoZSl9ZnVuY3Rpb24gdncodCxlKXt0LmFwcGVuZENoaWxkKGUpfWZ1bmN0aW9uIG13KHQpe3JldHVybiB0LnBhcmVudE5vZGV9ZnVuY3Rpb24geHcodCl7cmV0dXJuIHQubmV4dFNpYmxpbmd9ZnVuY3Rpb24gX3codCxlKXt0LnRleHRDb250ZW50PWV9dmFyIGJ3PVdiKCIiLCIiKTtmdW5jdGlvbiB3dyh0KXtyZXR1cm4gdm9pZCAwPT09dH1mdW5jdGlvbiBTdyh0KXtyZXR1cm4gdm9pZCAwIT09dH1mdW5jdGlvbiBNdyh0LGUsbil7Zm9yKHZhciBpPXt9LHI9ZTtyPD1uOysrcil7dmFyIG89dFtyXS5rZXk7dm9pZCAwIT09byYmKGlbb109cil9cmV0dXJuIGl9ZnVuY3Rpb24gSXcodCxlKXt2YXIgbj10LmtleT09PWUua2V5O3JldHVybiB0LnRhZz09PWUudGFnJiZufWZ1bmN0aW9uIFR3KHQpe3ZhciBlLG49dC5jaGlsZHJlbixpPXQudGFnO2lmKFN3KGkpKXt2YXIgcj10LmVsbT1HYihpKTtpZihBdyhidyx0KSxZKG4pKWZvcihlPTA7ZTxuLmxlbmd0aDsrK2Upe3ZhciBvPW5bZV07bnVsbCE9byYmdncocixUdyhvKSl9ZWxzZSBTdyh0LnRleHQpJiYhcSh0LnRleHQpJiZ2dyhyLGZ3KHQudGV4dCkpfWVsc2UgdC5lbG09ZncodC50ZXh0KTtyZXR1cm4gdC5lbG19ZnVuY3Rpb24gQ3codCxlLG4saSxyKXtmb3IoO2k8PXI7KytpKXt2YXIgbz1uW2ldO251bGwhPW8mJmd3KHQsVHcobyksZSl9fWZ1bmN0aW9uIER3KHQsZSxuLGkpe2Zvcig7bjw9aTsrK24pe3ZhciByPWVbbl07aWYobnVsbCE9cilpZihTdyhyLnRhZykpeXcobXcoci5lbG0pLHIuZWxtKTtlbHNlIHl3KHQsci5lbG0pfX1mdW5jdGlvbiBBdyh0LGUpe3ZhciBuLGk9ZS5lbG0scj10JiZ0LmF0dHJzfHx7fSxvPWUuYXR0cnN8fHt9O2lmKHIhPT1vKXtmb3IobiBpbiBvKXt2YXIgYT1vW25dO3Jbbl0hPT1hJiYoITA9PT1hP2kuc2V0QXR0cmlidXRlKG4sIiIpOiExPT09YT9pLnJlbW92ZUF0dHJpYnV0ZShuKToxMjAhPT1uLmNoYXJDb2RlQXQoMCk/aS5zZXRBdHRyaWJ1dGUobixhKToieG1sbnM6eGxpbmsiPT09bnx8InhtbG5zIj09PW4/aS5zZXRBdHRyaWJ1dGVOUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy8iLG4sYSk6NTg9PT1uLmNoYXJDb2RlQXQoMyk/aS5zZXRBdHRyaWJ1dGVOUygiaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlIixuLGEpOjU4PT09bi5jaGFyQ29kZUF0KDUpP2kuc2V0QXR0cmlidXRlTlMoRmIsbixhKTppLnNldEF0dHJpYnV0ZShuLGEpKX1mb3IobiBpbiByKW4gaW4gb3x8aS5yZW1vdmVBdHRyaWJ1dGUobil9fWZ1bmN0aW9uIGt3KHQsZSl7dmFyIG49ZS5lbG09dC5lbG0saT10LmNoaWxkcmVuLHI9ZS5jaGlsZHJlbjt0IT09ZSYmKEF3KHQsZSksd3coZS50ZXh0KT9TdyhpKSYmU3cocik/aSE9PXImJmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGkscixvLGE9MCxzPTAsbD1lLmxlbmd0aC0xLHU9ZVswXSxoPWVbbF0sYz1uLmxlbmd0aC0xLHA9blswXSxkPW5bY107YTw9bCYmczw9YzspbnVsbD09dT91PWVbKythXTpudWxsPT1oP2g9ZVstLWxdOm51bGw9PXA/cD1uWysrc106bnVsbD09ZD9kPW5bLS1jXTpJdyh1LHApPyhrdyh1LHApLHU9ZVsrK2FdLHA9blsrK3NdKTpJdyhoLGQpPyhrdyhoLGQpLGg9ZVstLWxdLGQ9blstLWNdKTpJdyh1LGQpPyhrdyh1LGQpLGd3KHQsdS5lbG0seHcoaC5lbG0pKSx1PWVbKythXSxkPW5bLS1jXSk6SXcoaCxwKT8oa3coaCxwKSxndyh0LGguZWxtLHUuZWxtKSxoPWVbLS1sXSxwPW5bKytzXSk6KHd3KGkpJiYoaT1NdyhlLGEsbCkpLHd3KHI9aVtwLmtleV0pfHwobz1lW3JdKS50YWchPT1wLnRhZz9ndyh0LFR3KHApLHUuZWxtKTooa3cobyxwKSxlW3JdPXZvaWQgMCxndyh0LG8uZWxtLHUuZWxtKSkscD1uWysrc10pOyhhPD1sfHxzPD1jKSYmKGE+bD9Ddyh0LG51bGw9PW5bYysxXT9udWxsOm5bYysxXS5lbG0sbixzLGMpOkR3KHQsZSxhLGwpKX0obixpLHIpOlN3KHIpPyhTdyh0LnRleHQpJiZfdyhuLCIiKSxDdyhuLG51bGwsciwwLHIubGVuZ3RoLTEpKTpTdyhpKT9EdyhuLGksMCxpLmxlbmd0aC0xKTpTdyh0LnRleHQpJiZfdyhuLCIiKTp0LnRleHQhPT1lLnRleHQmJihTdyhpKSYmRHcobixpLDAsaS5sZW5ndGgtMSksX3cobixlLnRleHQpKSl9dmFyIEx3PTAsUHc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXtpZih0aGlzLnR5cGU9InN2ZyIsdGhpcy5yZWZyZXNoSG92ZXI9T3coInJlZnJlc2hIb3ZlciIpLHRoaXMuY29uZmlnTGF5ZXI9T3coImNvbmZpZ0xheWVyIiksdGhpcy5zdG9yYWdlPWUsdGhpcy5fb3B0cz1uPUEoe30sbiksdGhpcy5yb290PXQsdGhpcy5faWQ9InpyIitMdysrLHRoaXMuX29sZFZOb2RlPVViKG4ud2lkdGgsbi5oZWlnaHQpLHQmJiFuLnNzcil7dmFyIGk9dGhpcy5fdmlld3BvcnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7aS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjpyZWxhdGl2ZTtvdmVyZmxvdzpoaWRkZW4iO3ZhciByPXRoaXMuX3N2Z0RvbT10aGlzLl9vbGRWTm9kZS5lbG09R2IoInN2ZyIpO0F3KG51bGwsdGhpcy5fb2xkVk5vZGUpLGkuYXBwZW5kQ2hpbGQociksdC5hcHBlbmRDaGlsZChpKX10aGlzLnJlc2l6ZShuLndpZHRoLG4uaGVpZ2h0KX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0VHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGV9LHQucHJvdG90eXBlLmdldFZpZXdwb3J0Um9vdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWV3cG9ydH0sdC5wcm90b3R5cGUuZ2V0Vmlld3BvcnRSb290T2Zmc2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRWaWV3cG9ydFJvb3QoKTtpZih0KXJldHVybntvZmZzZXRMZWZ0OnQub2Zmc2V0TGVmdHx8MCxvZmZzZXRUb3A6dC5vZmZzZXRUb3B8fDB9fSx0LnByb3RvdHlwZS5nZXRTdmdEb209ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3ZnRG9tfSx0LnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKCl7aWYodGhpcy5yb290KXt2YXIgdD10aGlzLnJlbmRlclRvVk5vZGUoe3dpbGxVcGRhdGU6ITB9KTt0LmF0dHJzLnN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7dXNlci1zZWxlY3Q6bm9uZSIsZnVuY3Rpb24odCxlKXtpZihJdyh0LGUpKWt3KHQsZSk7ZWxzZXt2YXIgbj10LmVsbSxpPW13KG4pO1R3KGUpLG51bGwhPT1pJiYoZ3coaSxlLmVsbSx4dyhuKSksRHcoaSxbdF0sMCwwKSl9fSh0aGlzLl9vbGRWTm9kZSx0KSx0aGlzLl9vbGRWTm9kZT10fX0sdC5wcm90b3R5cGUucmVuZGVyT25lVG9WTm9kZT1mdW5jdGlvbih0KXtyZXR1cm4gcHcodCxZYih0aGlzLl9pZCkpfSx0LnByb3RvdHlwZS5yZW5kZXJUb1ZOb2RlPWZ1bmN0aW9uKHQpe3Q9dHx8e307dmFyIGU9dGhpcy5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCEwKSxuPXRoaXMuX2JhY2tncm91bmRDb2xvcixpPXRoaXMuX3dpZHRoLHI9dGhpcy5faGVpZ2h0LG89WWIodGhpcy5faWQpO28uYW5pbWF0aW9uPXQuYW5pbWF0aW9uLG8ud2lsbFVwZGF0ZT10LndpbGxVcGRhdGUsby5jb21wcmVzcz10LmNvbXByZXNzO3ZhciBhPVtdO2lmKG4mJiJub25lIiE9PW4pe3ZhciBzPVJuKG4pLGw9cy5jb2xvcix1PXMub3BhY2l0eTt0aGlzLl9iZ1ZOb2RlPVdiKCJyZWN0IiwiYmciLHt3aWR0aDppLGhlaWdodDpyLHg6IjAiLHk6IjAiLGlkOiIwIixmaWxsOmwsImZpbGwtb3BhY2l0eSI6dX0pLGEucHVzaCh0aGlzLl9iZ1ZOb2RlKX1lbHNlIHRoaXMuX2JnVk5vZGU9bnVsbDt2YXIgaD10LmNvbXByZXNzP251bGw6dGhpcy5fbWFpblZOb2RlPVdiKCJnIiwibWFpbiIse30sW10pO3RoaXMuX3BhaW50TGlzdChlLG8saD9oLmNoaWxkcmVuOmEpLGgmJmEucHVzaChoKTt2YXIgYz16KEcoby5kZWZzKSwoZnVuY3Rpb24odCl7cmV0dXJuIG8uZGVmc1t0XX0pKTtpZihjLmxlbmd0aCYmYS5wdXNoKFdiKCJkZWZzIiwiZGVmcyIse30sYykpLHQuYW5pbWF0aW9uKXt2YXIgcD1mdW5jdGlvbih0LGUsbil7dmFyIGk9KG49bnx8e30pLm5ld2xpbmU/IlxuIjoiIixyPSIgeyIraSxvPWkrIn0iLGE9eihHKHQpLChmdW5jdGlvbihlKXtyZXR1cm4gZStyK3ooRyh0W2VdKSwoZnVuY3Rpb24obil7cmV0dXJuIG4rIjoiK3RbZV1bbl0rIjsifSkpLmpvaW4oaSkrb30pKS5qb2luKGkpLHM9eihHKGUpLChmdW5jdGlvbih0KXtyZXR1cm4iQGtleWZyYW1lcyAiK3Qrcit6KEcoZVt0XSksKGZ1bmN0aW9uKG4pe3JldHVybiBuK3IreihHKGVbdF1bbl0pLChmdW5jdGlvbihpKXt2YXIgcj1lW3RdW25dW2ldO3JldHVybiJkIj09PWkmJihyPSdwYXRoKCInK3IrJyIpJyksaSsiOiIrcisiOyJ9KSkuam9pbihpKStvfSkpLmpvaW4oaSkrb30pKS5qb2luKGkpO3JldHVybiBhfHxzP1siPCFbQ0RBVEFbIixhLHMsIl1dPiJdLmpvaW4oaSk6IiJ9KG8uY3NzTm9kZXMsby5jc3NBbmltcyx7bmV3bGluZTohMH0pO2lmKHApe3ZhciBkPVdiKCJzdHlsZSIsInN0bCIse30sW10scCk7YS5wdXNoKGQpfX1yZXR1cm4gVWIoaSxyLGEsdC51c2VWaWV3Qm94KX0sdC5wcm90b3R5cGUucmVuZGVyVG9TdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dHx8e30sSGIodGhpcy5yZW5kZXJUb1ZOb2RlKHthbmltYXRpb246cnQodC5jc3NBbmltYXRpb24sITApLHdpbGxVcGRhdGU6ITEsY29tcHJlc3M6ITAsdXNlVmlld0JveDpydCh0LnVzZVZpZXdCb3gsITApfSkse25ld2xpbmU6ITB9KX0sdC5wcm90b3R5cGUuc2V0QmFja2dyb3VuZENvbG9yPWZ1bmN0aW9uKHQpe3RoaXMuX2JhY2tncm91bmRDb2xvcj10O3ZhciBlPXRoaXMuX2JnVk5vZGU7aWYoZSYmZS5lbG0pe3ZhciBuPVJuKHQpLGk9bi5jb2xvcixyPW4ub3BhY2l0eTtlLmVsbS5zZXRBdHRyaWJ1dGUoImZpbGwiLGkpLHI8MSYmZS5lbG0uc2V0QXR0cmlidXRlKCJmaWxsLW9wYWNpdHkiLHIpfX0sdC5wcm90b3R5cGUuZ2V0U3ZnUm9vdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYWluVk5vZGUmJnRoaXMuX21haW5WTm9kZS5lbG19LHQucHJvdG90eXBlLl9wYWludExpc3Q9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaSxyLG89dC5sZW5ndGgsYT1bXSxzPTAsbD0wLHU9MDt1PG87dSsrKXt2YXIgaD10W3VdO2lmKCFoLmludmlzaWJsZSl7dmFyIGM9aC5fX2NsaXBQYXRocyxwPWMmJmMubGVuZ3RofHwwLGQ9ciYmci5sZW5ndGh8fDAsZj12b2lkIDA7Zm9yKGY9TWF0aC5tYXgocC0xLGQtMSk7Zj49MCYmKCFjfHwhcnx8Y1tmXSE9PXJbZl0pO2YtLSk7Zm9yKHZhciBnPWQtMTtnPmY7Zy0tKWk9YVstLXMtMV07Zm9yKHZhciB5PWYrMTt5PHA7eSsrKXt2YXIgdj17fTtkdyhjW3ldLHYsZSk7dmFyIG09V2IoImciLCJjbGlwLWctIitsKyssdixbXSk7KGk/aS5jaGlsZHJlbjpuKS5wdXNoKG0pLGFbcysrXT1tLGk9bX1yPWM7dmFyIHg9cHcoaCxlKTt4JiYoaT9pLmNoaWxkcmVuOm4pLnB1c2goeCl9fX0sdC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fb3B0cyxpPXRoaXMucm9vdCxyPXRoaXMuX3ZpZXdwb3J0O2lmKG51bGwhPXQmJihuLndpZHRoPXQpLG51bGwhPWUmJihuLmhlaWdodD1lKSxpJiZyJiYoci5zdHlsZS5kaXNwbGF5PSJub25lIix0PUV5KGksMCxuKSxlPUV5KGksMSxuKSxyLnN0eWxlLmRpc3BsYXk9IiIpLHRoaXMuX3dpZHRoIT09dHx8dGhpcy5faGVpZ2h0IT09ZSl7aWYodGhpcy5fd2lkdGg9dCx0aGlzLl9oZWlnaHQ9ZSxyKXt2YXIgbz1yLnN0eWxlO28ud2lkdGg9dCsicHgiLG8uaGVpZ2h0PWUrInB4In12YXIgYT10aGlzLl9zdmdEb207YSYmKGEuc2V0QXR0cmlidXRlKCJ3aWR0aCIsdCksYS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsZSkpfX0sdC5wcm90b3R5cGUuZ2V0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2lkdGh9LHQucHJvdG90eXBlLmdldEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oZWlnaHR9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLnJvb3QmJih0aGlzLnJvb3QuaW5uZXJIVE1MPSIiKSx0aGlzLl9zdmdEb209dGhpcy5fdmlld3BvcnQ9dGhpcy5zdG9yYWdlPXRoaXMuX29sZFZOb2RlPXRoaXMuX2JnVk5vZGU9dGhpcy5fbWFpblZOb2RlPW51bGx9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fc3ZnRG9tJiYodGhpcy5fc3ZnRG9tLmlubmVySFRNTD1udWxsKSx0aGlzLl9vbGRWTm9kZT1udWxsfSx0LnByb3RvdHlwZS50b0RhdGFVUkw9ZnVuY3Rpb24odCl7dmFyIGU9ZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMucmVuZGVyVG9TdHJpbmcoKSksbj0iZGF0YTppbWFnZS9zdmcreG1sOyI7cmV0dXJuIHQ/KGU9WG4oZSkpJiZuKyJiYXNlNjQsIitlOm4rImNoYXJzZXQ9VVRGLTgsIitlfSx0fSgpO2Z1bmN0aW9uIE93KHQpe3JldHVybiBmdW5jdGlvbigpezB9fWZ1bmN0aW9uIFJ3KHQsZSxuKXt2YXIgaT1oLmNyZWF0ZUNhbnZhcygpLHI9ZS5nZXRXaWR0aCgpLG89ZS5nZXRIZWlnaHQoKSxhPWkuc3R5bGU7cmV0dXJuIGEmJihhLnBvc2l0aW9uPSJhYnNvbHV0ZSIsYS5sZWZ0PSIwIixhLnRvcD0iMCIsYS53aWR0aD1yKyJweCIsYS5oZWlnaHQ9bysicHgiLGkuc2V0QXR0cmlidXRlKCJkYXRhLXpyLWRvbS1pZCIsdCkpLGkud2lkdGg9cipuLGkuaGVpZ2h0PW8qbixpfXZhciBOdz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpKXt2YXIgcixvPXQuY2FsbCh0aGlzKXx8dGhpcztvLm1vdGlvbkJsdXI9ITEsby5sYXN0RnJhbWVBbHBoYT0uNyxvLmRwcj0xLG8udmlydHVhbD0hMSxvLmNvbmZpZz17fSxvLmluY3JlbWVudGFsPSExLG8uemxldmVsPTAsby5tYXhSZXBhaW50UmVjdENvdW50PTUsby5fX2RpcnR5PSEwLG8uX19maXJzdFRpbWVQYWludD0hMCxvLl9fdXNlZD0hMSxvLl9fZHJhd0luZGV4PTAsby5fX3N0YXJ0SW5kZXg9MCxvLl9fZW5kSW5kZXg9MCxvLl9fcHJldlN0YXJ0SW5kZXg9bnVsbCxvLl9fcHJldkVuZEluZGV4PW51bGwsaT1pfHxBaSwic3RyaW5nIj09dHlwZW9mIGU/cj1SdyhlLG4saSk6cShlKSYmKGU9KHI9ZSkuaWQpLG8uaWQ9ZSxvLmRvbT1yO3ZhciBhPXIuc3R5bGU7cmV0dXJuIGEmJih2dChyKSxyLm9uc2VsZWN0c3RhcnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sYS5wYWRkaW5nPSIwIixhLm1hcmdpbj0iMCIsYS5ib3JkZXJXaWR0aD0iMCIpLG8ucGFpbnRlcj1uLG8uZHByPWksb31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEVsZW1lbnRDb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9fZW5kSW5kZXgtdGhpcy5fX3N0YXJ0SW5kZXh9LGUucHJvdG90eXBlLmFmdGVyQnJ1c2g9ZnVuY3Rpb24oKXt0aGlzLl9fcHJldlN0YXJ0SW5kZXg9dGhpcy5fX3N0YXJ0SW5kZXgsdGhpcy5fX3ByZXZFbmRJbmRleD10aGlzLl9fZW5kSW5kZXh9LGUucHJvdG90eXBlLmluaXRDb250ZXh0PWZ1bmN0aW9uKCl7dGhpcy5jdHg9dGhpcy5kb20uZ2V0Q29udGV4dCgiMmQiKSx0aGlzLmN0eC5kcHI9dGhpcy5kcHJ9LGUucHJvdG90eXBlLnNldFVucGFpbnRlZD1mdW5jdGlvbigpe3RoaXMuX19maXJzdFRpbWVQYWludD0hMH0sZS5wcm90b3R5cGUuY3JlYXRlQmFja0J1ZmZlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZHByO3RoaXMuZG9tQmFjaz1SdygiYmFjay0iK3RoaXMuaWQsdGhpcy5wYWludGVyLHQpLHRoaXMuY3R4QmFjaz10aGlzLmRvbUJhY2suZ2V0Q29udGV4dCgiMmQiKSwxIT09dCYmdGhpcy5jdHhCYWNrLnNjYWxlKHQsdCl9LGUucHJvdG90eXBlLmNyZWF0ZVJlcGFpbnRSZWN0cz1mdW5jdGlvbih0LGUsbixpKXtpZih0aGlzLl9fZmlyc3RUaW1lUGFpbnQpcmV0dXJuIHRoaXMuX19maXJzdFRpbWVQYWludD0hMSxudWxsO3ZhciByLG89W10sYT10aGlzLm1heFJlcGFpbnRSZWN0Q291bnQscz0hMSxsPW5ldyBzcigwLDAsMCwwKTtmdW5jdGlvbiB1KHQpe2lmKHQuaXNGaW5pdGUoKSYmIXQuaXNaZXJvKCkpaWYoMD09PW8ubGVuZ3RoKXsoZT1uZXcgc3IoMCwwLDAsMCkpLmNvcHkodCksby5wdXNoKGUpfWVsc2V7Zm9yKHZhciBlLG49ITEsaT0xLzAscj0wLHU9MDt1PG8ubGVuZ3RoOysrdSl7dmFyIGg9b1t1XTtpZihoLmludGVyc2VjdCh0KSl7dmFyIGM9bmV3IHNyKDAsMCwwLDApO2MuY29weShoKSxjLnVuaW9uKHQpLG9bdV09YyxuPSEwO2JyZWFrfWlmKHMpe2wuY29weSh0KSxsLnVuaW9uKGgpO3ZhciBwPXQud2lkdGgqdC5oZWlnaHQsZD1oLndpZHRoKmguaGVpZ2h0LGY9bC53aWR0aCpsLmhlaWdodC1wLWQ7ZjxpJiYoaT1mLHI9dSl9fWlmKHMmJihvW3JdLnVuaW9uKHQpLG49ITApLCFuKShlPW5ldyBzcigwLDAsMCwwKSkuY29weSh0KSxvLnB1c2goZSk7c3x8KHM9by5sZW5ndGg+PWEpfX1mb3IodmFyIGg9dGhpcy5fX3N0YXJ0SW5kZXg7aDx0aGlzLl9fZW5kSW5kZXg7KytoKXtpZihkPXRbaF0pe3ZhciBjPWQuc2hvdWxkQmVQYWludGVkKG4saSwhMCwhMCk7KGY9ZC5fX2lzUmVuZGVyZWQmJigxJmQuX19kaXJ0eXx8IWMpP2QuZ2V0UHJldlBhaW50UmVjdCgpOm51bGwpJiZ1KGYpO3ZhciBwPWMmJigxJmQuX19kaXJ0eXx8IWQuX19pc1JlbmRlcmVkKT9kLmdldFBhaW50UmVjdCgpOm51bGw7cCYmdShwKX19Zm9yKGg9dGhpcy5fX3ByZXZTdGFydEluZGV4O2g8dGhpcy5fX3ByZXZFbmRJbmRleDsrK2gpe3ZhciBkLGY7Yz0oZD1lW2hdKS5zaG91bGRCZVBhaW50ZWQobixpLCEwLCEwKTtpZihkJiYoIWN8fCFkLl9fenIpJiZkLl9faXNSZW5kZXJlZCkoZj1kLmdldFByZXZQYWludFJlY3QoKSkmJnUoZil9ZG97cj0hMTtmb3IoaD0wO2g8by5sZW5ndGg7KWlmKG9baF0uaXNaZXJvKCkpby5zcGxpY2UoaCwxKTtlbHNle2Zvcih2YXIgZz1oKzE7ZzxvLmxlbmd0aDspb1toXS5pbnRlcnNlY3Qob1tnXSk/KHI9ITAsb1toXS51bmlvbihvW2ddKSxvLnNwbGljZShnLDEpKTpnKys7aCsrfX13aGlsZShyKTtyZXR1cm4gdGhpcy5fcGFpbnRSZWN0cz1vLG99LGUucHJvdG90eXBlLmRlYnVnR2V0UGFpbnRSZWN0cz1mdW5jdGlvbigpe3JldHVybih0aGlzLl9wYWludFJlY3RzfHxbXSkuc2xpY2UoKX0sZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5kcHIsaT10aGlzLmRvbSxyPWkuc3R5bGUsbz10aGlzLmRvbUJhY2s7ciYmKHIud2lkdGg9dCsicHgiLHIuaGVpZ2h0PWUrInB4IiksaS53aWR0aD10Km4saS5oZWlnaHQ9ZSpuLG8mJihvLndpZHRoPXQqbixvLmhlaWdodD1lKm4sMSE9PW4mJnRoaXMuY3R4QmFjay5zY2FsZShuLG4pKX0sZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuZG9tLHI9dGhpcy5jdHgsbz1pLndpZHRoLGE9aS5oZWlnaHQ7ZT1lfHx0aGlzLmNsZWFyQ29sb3I7dmFyIHM9dGhpcy5tb3Rpb25CbHVyJiYhdCxsPXRoaXMubGFzdEZyYW1lQWxwaGEsdT10aGlzLmRwcixoPXRoaXM7cyYmKHRoaXMuZG9tQmFja3x8dGhpcy5jcmVhdGVCYWNrQnVmZmVyKCksdGhpcy5jdHhCYWNrLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj0iY29weSIsdGhpcy5jdHhCYWNrLmRyYXdJbWFnZShpLDAsMCxvL3UsYS91KSk7dmFyIGM9dGhpcy5kb21CYWNrO2Z1bmN0aW9uIHAodCxuLGksbyl7aWYoci5jbGVhclJlY3QodCxuLGksbyksZSYmInRyYW5zcGFyZW50IiE9PWUpe3ZhciBhPXZvaWQgMDtRKGUpPyhhPWUuX19jYW52YXNHcmFkaWVudHx8UnkocixlLHt4OjAseTowLHdpZHRoOmksaGVpZ2h0Om99KSxlLl9fY2FudmFzR3JhZGllbnQ9YSk6dHQoZSkmJihhPVl5KHIsZSx7ZGlydHk6ZnVuY3Rpb24oKXtoLnNldFVucGFpbnRlZCgpLGguX19wYWludGVyLnJlZnJlc2goKX19KSksci5zYXZlKCksci5maWxsU3R5bGU9YXx8ZSxyLmZpbGxSZWN0KHQsbixpLG8pLHIucmVzdG9yZSgpfXMmJihyLnNhdmUoKSxyLmdsb2JhbEFscGhhPWwsci5kcmF3SW1hZ2UoYyx0LG4saSxvKSxyLnJlc3RvcmUoKSl9IW58fHM/cCgwLDAsbyxhKTpuLmxlbmd0aCYmRShuLChmdW5jdGlvbih0KXtwKHQueCp1LHQueSp1LHQud2lkdGgqdSx0LmhlaWdodCp1KX0pKX0sZX0oWHQpLEV3PTFlNSx6dz0zMTQxNTksVnc9LjAxO3ZhciBCdz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4saSl7dGhpcy50eXBlPSJjYW52YXMiLHRoaXMuX3psZXZlbExpc3Q9W10sdGhpcy5fcHJldkRpc3BsYXlMaXN0PVtdLHRoaXMuX2xheWVycz17fSx0aGlzLl9sYXllckNvbmZpZz17fSx0aGlzLl9uZWVkc01hbnVhbGx5Q29tcG9zaXRpbmc9ITEsdGhpcy50eXBlPSJjYW52YXMiO3ZhciByPSF0Lm5vZGVOYW1lfHwiQ0FOVkFTIj09PXQubm9kZU5hbWUudG9VcHBlckNhc2UoKTt0aGlzLl9vcHRzPW49QSh7fSxufHx7fSksdGhpcy5kcHI9bi5kZXZpY2VQaXhlbFJhdGlvfHxBaSx0aGlzLl9zaW5nbGVDYW52YXM9cix0aGlzLnJvb3Q9dCx0LnN0eWxlJiYodnQodCksdC5pbm5lckhUTUw9IiIpLHRoaXMuc3RvcmFnZT1lO3ZhciBvPXRoaXMuX3psZXZlbExpc3Q7dGhpcy5fcHJldkRpc3BsYXlMaXN0PVtdO3ZhciBhPXRoaXMuX2xheWVycztpZihyKXt2YXIgcz10LGw9cy53aWR0aCx1PXMuaGVpZ2h0O251bGwhPW4ud2lkdGgmJihsPW4ud2lkdGgpLG51bGwhPW4uaGVpZ2h0JiYodT1uLmhlaWdodCksdGhpcy5kcHI9bi5kZXZpY2VQaXhlbFJhdGlvfHwxLHMud2lkdGg9bCp0aGlzLmRwcixzLmhlaWdodD11KnRoaXMuZHByLHRoaXMuX3dpZHRoPWwsdGhpcy5faGVpZ2h0PXU7dmFyIGg9bmV3IE53KHMsdGhpcyx0aGlzLmRwcik7aC5fX2J1aWx0aW5fXz0hMCxoLmluaXRDb250ZXh0KCksYVszMTQxNTldPWgsaC56bGV2ZWw9encsby5wdXNoKHp3KSx0aGlzLl9kb21Sb290PXR9ZWxzZXt0aGlzLl93aWR0aD1FeSh0LDAsbiksdGhpcy5faGVpZ2h0PUV5KHQsMSxuKTt2YXIgYz10aGlzLl9kb21Sb290PWZ1bmN0aW9uKHQsZSl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIG4uc3R5bGUuY3NzVGV4dD1bInBvc2l0aW9uOnJlbGF0aXZlIiwid2lkdGg6Iit0KyJweCIsImhlaWdodDoiK2UrInB4IiwicGFkZGluZzowIiwibWFyZ2luOjAiLCJib3JkZXItd2lkdGg6MCJdLmpvaW4oIjsiKSsiOyIsbn0odGhpcy5fd2lkdGgsdGhpcy5faGVpZ2h0KTt0LmFwcGVuZENoaWxkKGMpfX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0VHlwZT1mdW5jdGlvbigpe3JldHVybiJjYW52YXMifSx0LnByb3RvdHlwZS5pc1NpbmdsZUNhbnZhcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaW5nbGVDYW52YXN9LHQucHJvdG90eXBlLmdldFZpZXdwb3J0Um9vdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb21Sb290fSx0LnByb3RvdHlwZS5nZXRWaWV3cG9ydFJvb3RPZmZzZXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFZpZXdwb3J0Um9vdCgpO2lmKHQpcmV0dXJue29mZnNldExlZnQ6dC5vZmZzZXRMZWZ0fHwwLG9mZnNldFRvcDp0Lm9mZnNldFRvcHx8MH19LHQucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCEwKSxuPXRoaXMuX3ByZXZEaXNwbGF5TGlzdCxpPXRoaXMuX3psZXZlbExpc3Q7dGhpcy5fcmVkcmF3SWQ9TWF0aC5yYW5kb20oKSx0aGlzLl9wYWludExpc3QoZSxuLHQsdGhpcy5fcmVkcmF3SWQpO2Zvcih2YXIgcj0wO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdLGE9dGhpcy5fbGF5ZXJzW29dO2lmKCFhLl9fYnVpbHRpbl9fJiZhLnJlZnJlc2gpe3ZhciBzPTA9PT1yP3RoaXMuX2JhY2tncm91bmRDb2xvcjpudWxsO2EucmVmcmVzaChzKX19cmV0dXJuIHRoaXMuX29wdHMudXNlRGlydHlSZWN0JiYodGhpcy5fcHJldkRpc3BsYXlMaXN0PWUuc2xpY2UoKSksdGhpc30sdC5wcm90b3R5cGUucmVmcmVzaEhvdmVyPWZ1bmN0aW9uKCl7dGhpcy5fcGFpbnRIb3Zlckxpc3QodGhpcy5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCExKSl9LHQucHJvdG90eXBlLl9wYWludEhvdmVyTGlzdD1mdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aCxuPXRoaXMuX2hvdmVybGF5ZXI7aWYobiYmbi5jbGVhcigpLGUpe2Zvcih2YXIgaSxyPXtpbkhvdmVyOiEwLHZpZXdXaWR0aDp0aGlzLl93aWR0aCx2aWV3SGVpZ2h0OnRoaXMuX2hlaWdodH0sbz0wO288ZTtvKyspe3ZhciBhPXRbb107YS5fX2luSG92ZXImJihufHwobj10aGlzLl9ob3ZlcmxheWVyPXRoaXMuZ2V0TGF5ZXIoRXcpKSxpfHwoaT1uLmN0eCkuc2F2ZSgpLFF5KGksYSxyLG89PT1lLTEpKX1pJiZpLnJlc3RvcmUoKX19LHQucHJvdG90eXBlLmdldEhvdmVyTGF5ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRMYXllcihFdyl9LHQucHJvdG90eXBlLnBhaW50T25lPWZ1bmN0aW9uKHQsZSl7SnkodCxlKX0sdC5wcm90b3R5cGUuX3BhaW50TGlzdD1mdW5jdGlvbih0LGUsbixpKXtpZih0aGlzLl9yZWRyYXdJZD09PWkpe249bnx8ITEsdGhpcy5fdXBkYXRlTGF5ZXJTdGF0dXModCk7dmFyIHI9dGhpcy5fZG9QYWludExpc3QodCxlLG4pLG89ci5maW5pc2hlZCxhPXIubmVlZHNSZWZyZXNoSG92ZXI7aWYodGhpcy5fbmVlZHNNYW51YWxseUNvbXBvc2l0aW5nJiZ0aGlzLl9jb21wb3NpdGVNYW51YWxseSgpLGEmJnRoaXMuX3BhaW50SG92ZXJMaXN0KHQpLG8pdGhpcy5lYWNoTGF5ZXIoKGZ1bmN0aW9uKHQpe3QuYWZ0ZXJCcnVzaCYmdC5hZnRlckJydXNoKCl9KSk7ZWxzZXt2YXIgcz10aGlzO2tlKChmdW5jdGlvbigpe3MuX3BhaW50TGlzdCh0LGUsbixpKX0pKX19fSx0LnByb3RvdHlwZS5fY29tcG9zaXRlTWFudWFsbHk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldExheWVyKHp3KS5jdHgsZT10aGlzLl9kb21Sb290LndpZHRoLG49dGhpcy5fZG9tUm9vdC5oZWlnaHQ7dC5jbGVhclJlY3QoMCwwLGUsbiksdGhpcy5lYWNoQnVpbHRpbkxheWVyKChmdW5jdGlvbihpKXtpLnZpcnR1YWwmJnQuZHJhd0ltYWdlKGkuZG9tLDAsMCxlLG4pfSkpfSx0LnByb3RvdHlwZS5fZG9QYWludExpc3Q9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10aGlzLG89W10sYT10aGlzLl9vcHRzLnVzZURpcnR5UmVjdCxzPTA7czx0aGlzLl96bGV2ZWxMaXN0Lmxlbmd0aDtzKyspe3ZhciBsPXRoaXMuX3psZXZlbExpc3Rbc10sdT10aGlzLl9sYXllcnNbbF07dS5fX2J1aWx0aW5fXyYmdSE9PXRoaXMuX2hvdmVybGF5ZXImJih1Ll9fZGlydHl8fG4pJiZvLnB1c2godSl9Zm9yKHZhciBoPSEwLGM9ITEscD1mdW5jdGlvbihyKXt2YXIgcyxsPW9bcl0sdT1sLmN0eCxwPWEmJmwuY3JlYXRlUmVwYWludFJlY3RzKHQsZSxkLl93aWR0aCxkLl9oZWlnaHQpLGY9bj9sLl9fc3RhcnRJbmRleDpsLl9fZHJhd0luZGV4LGc9IW4mJmwuaW5jcmVtZW50YWwmJkRhdGUubm93LHk9ZyYmRGF0ZS5ub3coKSx2PWwuemxldmVsPT09ZC5femxldmVsTGlzdFswXT9kLl9iYWNrZ3JvdW5kQ29sb3I6bnVsbDtpZihsLl9fc3RhcnRJbmRleD09PWwuX19lbmRJbmRleClsLmNsZWFyKCExLHYscCk7ZWxzZSBpZihmPT09bC5fX3N0YXJ0SW5kZXgpe3ZhciBtPXRbZl07bS5pbmNyZW1lbnRhbCYmbS5ub3RDbGVhciYmIW58fGwuY2xlYXIoITEsdixwKX0tMT09PWYmJihjb25zb2xlLmVycm9yKCJGb3Igc29tZSB1bmtub3duIHJlYXNvbi4gZHJhd0luZGV4IGlzIC0xIiksZj1sLl9fc3RhcnRJbmRleCk7dmFyIHg9ZnVuY3Rpb24oZSl7dmFyIG49e2luSG92ZXI6ITEsYWxsQ2xpcHBlZDohMSxwcmV2RWw6bnVsbCx2aWV3V2lkdGg6aS5fd2lkdGgsdmlld0hlaWdodDppLl9oZWlnaHR9O2ZvcihzPWY7czxsLl9fZW5kSW5kZXg7cysrKXt2YXIgcj10W3NdO2lmKHIuX19pbkhvdmVyJiYoYz0hMCksaS5fZG9QYWludEVsKHIsbCxhLGUsbixzPT09bC5fX2VuZEluZGV4LTEpLGcpaWYoRGF0ZS5ub3coKS15PjE1KWJyZWFrfW4ucHJldkVsQ2xpcFBhdGhzJiZ1LnJlc3RvcmUoKX07aWYocClpZigwPT09cC5sZW5ndGgpcz1sLl9fZW5kSW5kZXg7ZWxzZSBmb3IodmFyIF89ZC5kcHIsYj0wO2I8cC5sZW5ndGg7KytiKXt2YXIgdz1wW2JdO3Uuc2F2ZSgpLHUuYmVnaW5QYXRoKCksdS5yZWN0KHcueCpfLHcueSpfLHcud2lkdGgqXyx3LmhlaWdodCpfKSx1LmNsaXAoKSx4KHcpLHUucmVzdG9yZSgpfWVsc2UgdS5zYXZlKCkseCgpLHUucmVzdG9yZSgpO2wuX19kcmF3SW5kZXg9cyxsLl9fZHJhd0luZGV4PGwuX19lbmRJbmRleCYmKGg9ITEpfSxkPXRoaXMsZj0wO2Y8by5sZW5ndGg7ZisrKXAoZik7cmV0dXJuIHIud3hhJiZFKHRoaXMuX2xheWVycywoZnVuY3Rpb24odCl7dCYmdC5jdHgmJnQuY3R4LmRyYXcmJnQuY3R4LmRyYXcoKX0pKSx7ZmluaXNoZWQ6aCxuZWVkc1JlZnJlc2hIb3ZlcjpjfX0sdC5wcm90b3R5cGUuX2RvUGFpbnRFbD1mdW5jdGlvbih0LGUsbixpLHIsbyl7dmFyIGE9ZS5jdHg7aWYobil7dmFyIHM9dC5nZXRQYWludFJlY3QoKTsoIWl8fHMmJnMuaW50ZXJzZWN0KGkpKSYmKFF5KGEsdCxyLG8pLHQuc2V0UHJldlBhaW50UmVjdChzKSl9ZWxzZSBReShhLHQscixvKX0sdC5wcm90b3R5cGUuZ2V0TGF5ZXI9ZnVuY3Rpb24odCxlKXt0aGlzLl9zaW5nbGVDYW52YXMmJiF0aGlzLl9uZWVkc01hbnVhbGx5Q29tcG9zaXRpbmcmJih0PXp3KTt2YXIgbj10aGlzLl9sYXllcnNbdF07cmV0dXJuIG58fCgobj1uZXcgTncoInpyXyIrdCx0aGlzLHRoaXMuZHByKSkuemxldmVsPXQsbi5fX2J1aWx0aW5fXz0hMCx0aGlzLl9sYXllckNvbmZpZ1t0XT9DKG4sdGhpcy5fbGF5ZXJDb25maWdbdF0sITApOnRoaXMuX2xheWVyQ29uZmlnW3QtVnddJiZDKG4sdGhpcy5fbGF5ZXJDb25maWdbdC1Wd10sITApLGUmJihuLnZpcnR1YWw9ZSksdGhpcy5pbnNlcnRMYXllcih0LG4pLG4uaW5pdENvbnRleHQoKSksbn0sdC5wcm90b3R5cGUuaW5zZXJ0TGF5ZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9sYXllcnMsaT10aGlzLl96bGV2ZWxMaXN0LHI9aS5sZW5ndGgsbz10aGlzLl9kb21Sb290LGE9bnVsbCxzPS0xO2lmKCFuW3RdJiZmdW5jdGlvbih0KXtyZXR1cm4hIXQmJighIXQuX19idWlsdGluX198fCJmdW5jdGlvbiI9PXR5cGVvZiB0LnJlc2l6ZSYmImZ1bmN0aW9uIj09dHlwZW9mIHQucmVmcmVzaCl9KGUpKXtpZihyPjAmJnQ+aVswXSl7Zm9yKHM9MDtzPHItMSYmIShpW3NdPHQmJmlbcysxXT50KTtzKyspO2E9bltpW3NdXX1pZihpLnNwbGljZShzKzEsMCx0KSxuW3RdPWUsIWUudmlydHVhbClpZihhKXt2YXIgbD1hLmRvbTtsLm5leHRTaWJsaW5nP28uaW5zZXJ0QmVmb3JlKGUuZG9tLGwubmV4dFNpYmxpbmcpOm8uYXBwZW5kQ2hpbGQoZS5kb20pfWVsc2Ugby5maXJzdENoaWxkP28uaW5zZXJ0QmVmb3JlKGUuZG9tLG8uZmlyc3RDaGlsZCk6by5hcHBlbmRDaGlsZChlLmRvbSk7ZS5fX3BhaW50ZXI9dGhpc319LHQucHJvdG90eXBlLmVhY2hMYXllcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLl96bGV2ZWxMaXN0LGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXTt0LmNhbGwoZSx0aGlzLl9sYXllcnNbcl0scil9fSx0LnByb3RvdHlwZS5lYWNoQnVpbHRpbkxheWVyPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuX3psZXZlbExpc3QsaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldLG89dGhpcy5fbGF5ZXJzW3JdO28uX19idWlsdGluX18mJnQuY2FsbChlLG8scil9fSx0LnByb3RvdHlwZS5lYWNoT3RoZXJMYXllcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLl96bGV2ZWxMaXN0LGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXSxvPXRoaXMuX2xheWVyc1tyXTtvLl9fYnVpbHRpbl9ffHx0LmNhbGwoZSxvLHIpfX0sdC5wcm90b3R5cGUuZ2V0TGF5ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xheWVyc30sdC5wcm90b3R5cGUuX3VwZGF0ZUxheWVyU3RhdHVzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7byYmKG8uX19lbmRJbmRleCE9PXQmJihvLl9fZGlydHk9ITApLG8uX19lbmRJbmRleD10KX1pZih0aGlzLmVhY2hCdWlsdGluTGF5ZXIoKGZ1bmN0aW9uKHQsZSl7dC5fX2RpcnR5PXQuX191c2VkPSExfSkpLHRoaXMuX3NpbmdsZUNhbnZhcylmb3IodmFyIG49MTtuPHQubGVuZ3RoO24rKyl7aWYoKHM9dFtuXSkuemxldmVsIT09dFtuLTFdLnpsZXZlbHx8cy5pbmNyZW1lbnRhbCl7dGhpcy5fbmVlZHNNYW51YWxseUNvbXBvc2l0aW5nPSEwO2JyZWFrfX12YXIgaSxyLG89bnVsbCxhPTA7Zm9yKHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIHMsbD0ocz10W3JdKS56bGV2ZWwsdT12b2lkIDA7aSE9PWwmJihpPWwsYT0wKSxzLmluY3JlbWVudGFsPygodT10aGlzLmdldExheWVyKGwrLjAwMSx0aGlzLl9uZWVkc01hbnVhbGx5Q29tcG9zaXRpbmcpKS5pbmNyZW1lbnRhbD0hMCxhPTEpOnU9dGhpcy5nZXRMYXllcihsKyhhPjA/Vnc6MCksdGhpcy5fbmVlZHNNYW51YWxseUNvbXBvc2l0aW5nKSx1Ll9fYnVpbHRpbl9ffHxJKCJaTGV2ZWwgIitsKyIgaGFzIGJlZW4gdXNlZCBieSB1bmtvd24gbGF5ZXIgIit1LmlkKSx1IT09byYmKHUuX191c2VkPSEwLHUuX19zdGFydEluZGV4IT09ciYmKHUuX19kaXJ0eT0hMCksdS5fX3N0YXJ0SW5kZXg9cix1LmluY3JlbWVudGFsP3UuX19kcmF3SW5kZXg9LTE6dS5fX2RyYXdJbmRleD1yLGUociksbz11KSwxJnMuX19kaXJ0eSYmIXMuX19pbkhvdmVyJiYodS5fX2RpcnR5PSEwLHUuaW5jcmVtZW50YWwmJnUuX19kcmF3SW5kZXg8MCYmKHUuX19kcmF3SW5kZXg9cikpfWUociksdGhpcy5lYWNoQnVpbHRpbkxheWVyKChmdW5jdGlvbih0LGUpeyF0Ll9fdXNlZCYmdC5nZXRFbGVtZW50Q291bnQoKT4wJiYodC5fX2RpcnR5PSEwLHQuX19zdGFydEluZGV4PXQuX19lbmRJbmRleD10Ll9fZHJhd0luZGV4PTApLHQuX19kaXJ0eSYmdC5fX2RyYXdJbmRleDwwJiYodC5fX2RyYXdJbmRleD10Ll9fc3RhcnRJbmRleCl9KSl9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaEJ1aWx0aW5MYXllcih0aGlzLl9jbGVhckxheWVyKSx0aGlzfSx0LnByb3RvdHlwZS5fY2xlYXJMYXllcj1mdW5jdGlvbih0KXt0LmNsZWFyKCl9LHQucHJvdG90eXBlLnNldEJhY2tncm91bmRDb2xvcj1mdW5jdGlvbih0KXt0aGlzLl9iYWNrZ3JvdW5kQ29sb3I9dCxFKHRoaXMuX2xheWVycywoZnVuY3Rpb24odCl7dC5zZXRVbnBhaW50ZWQoKX0pKX0sdC5wcm90b3R5cGUuY29uZmlnTGF5ZXI9ZnVuY3Rpb24odCxlKXtpZihlKXt2YXIgbj10aGlzLl9sYXllckNvbmZpZztuW3RdP0Moblt0XSxlLCEwKTpuW3RdPWU7Zm9yKHZhciBpPTA7aTx0aGlzLl96bGV2ZWxMaXN0Lmxlbmd0aDtpKyspe3ZhciByPXRoaXMuX3psZXZlbExpc3RbaV07aWYocj09PXR8fHI9PT10K1Z3KUModGhpcy5fbGF5ZXJzW3JdLG5bdF0sITApfX19LHQucHJvdG90eXBlLmRlbExheWVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2xheWVycyxuPXRoaXMuX3psZXZlbExpc3QsaT1lW3RdO2kmJihpLmRvbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGkuZG9tKSxkZWxldGUgZVt0XSxuLnNwbGljZShQKG4sdCksMSkpfSx0LnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9kb21Sb290LnN0eWxlKXt2YXIgbj10aGlzLl9kb21Sb290O24uc3R5bGUuZGlzcGxheT0ibm9uZSI7dmFyIGk9dGhpcy5fb3B0cyxyPXRoaXMucm9vdDtpZihudWxsIT10JiYoaS53aWR0aD10KSxudWxsIT1lJiYoaS5oZWlnaHQ9ZSksdD1FeShyLDAsaSksZT1FeShyLDEsaSksbi5zdHlsZS5kaXNwbGF5PSIiLHRoaXMuX3dpZHRoIT09dHx8ZSE9PXRoaXMuX2hlaWdodCl7Zm9yKHZhciBvIGluIG4uc3R5bGUud2lkdGg9dCsicHgiLG4uc3R5bGUuaGVpZ2h0PWUrInB4Iix0aGlzLl9sYXllcnMpdGhpcy5fbGF5ZXJzLmhhc093blByb3BlcnR5KG8pJiZ0aGlzLl9sYXllcnNbb10ucmVzaXplKHQsZSk7dGhpcy5yZWZyZXNoKCEwKX10aGlzLl93aWR0aD10LHRoaXMuX2hlaWdodD1lfWVsc2V7aWYobnVsbD09dHx8bnVsbD09ZSlyZXR1cm47dGhpcy5fd2lkdGg9dCx0aGlzLl9oZWlnaHQ9ZSx0aGlzLmdldExheWVyKHp3KS5yZXNpemUodCxlKX1yZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuY2xlYXJMYXllcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9sYXllcnNbdF07ZSYmZS5jbGVhcigpfSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5yb290LmlubmVySFRNTD0iIix0aGlzLnJvb3Q9dGhpcy5zdG9yYWdlPXRoaXMuX2RvbVJvb3Q9dGhpcy5fbGF5ZXJzPW51bGx9LHQucHJvdG90eXBlLmdldFJlbmRlcmVkQ2FudmFzPWZ1bmN0aW9uKHQpe2lmKHQ9dHx8e30sdGhpcy5fc2luZ2xlQ2FudmFzJiYhdGhpcy5fY29tcG9zaXRlTWFudWFsbHkpcmV0dXJuIHRoaXMuX2xheWVyc1szMTQxNTldLmRvbTt2YXIgZT1uZXcgTncoImltYWdlIix0aGlzLHQucGl4ZWxSYXRpb3x8dGhpcy5kcHIpO2UuaW5pdENvbnRleHQoKSxlLmNsZWFyKCExLHQuYmFja2dyb3VuZENvbG9yfHx0aGlzLl9iYWNrZ3JvdW5kQ29sb3IpO3ZhciBuPWUuY3R4O2lmKHQucGl4ZWxSYXRpbzw9dGhpcy5kcHIpe3RoaXMucmVmcmVzaCgpO3ZhciBpPWUuZG9tLndpZHRoLHI9ZS5kb20uaGVpZ2h0O3RoaXMuZWFjaExheWVyKChmdW5jdGlvbih0KXt0Ll9fYnVpbHRpbl9fP24uZHJhd0ltYWdlKHQuZG9tLDAsMCxpLHIpOnQucmVuZGVyVG9DYW52YXMmJihuLnNhdmUoKSx0LnJlbmRlclRvQ2FudmFzKG4pLG4ucmVzdG9yZSgpKX0pKX1lbHNlIGZvcih2YXIgbz17aW5Ib3ZlcjohMSx2aWV3V2lkdGg6dGhpcy5fd2lkdGgsdmlld0hlaWdodDp0aGlzLl9oZWlnaHR9LGE9dGhpcy5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCEwKSxzPTAsbD1hLmxlbmd0aDtzPGw7cysrKXt2YXIgdT1hW3NdO1F5KG4sdSxvLHM9PT1sLTEpfXJldHVybiBlLmRvbX0sdC5wcm90b3R5cGUuZ2V0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2lkdGh9LHQucHJvdG90eXBlLmdldEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oZWlnaHR9LHR9KCk7dmFyIEZ3PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5oYXNTeW1ib2xWaXN1YWw9ITAsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQpe3JldHVybiBpeChudWxsLHRoaXMse3VzZUVuY29kZURlZmF1bHRlcjohMH0pfSxlLnByb3RvdHlwZS5nZXRMZWdlbmRJY29uPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBDcixuPUx5KCJsaW5lIiwwLHQuaXRlbUhlaWdodC8yLHQuaXRlbVdpZHRoLDAsdC5saW5lU3R5bGUuc3Ryb2tlLCExKTtlLmFkZChuKSxuLnNldFN0eWxlKHQubGluZVN0eWxlKTt2YXIgaT10aGlzLmdldERhdGEoKS5nZXRWaXN1YWwoInN5bWJvbCIpLHI9dGhpcy5nZXREYXRhKCkuZ2V0VmlzdWFsKCJzeW1ib2xSb3RhdGUiKSxvPSJub25lIj09PWk/ImNpcmNsZSI6aSxhPS44KnQuaXRlbUhlaWdodCxzPUx5KG8sKHQuaXRlbVdpZHRoLWEpLzIsKHQuaXRlbUhlaWdodC1hKS8yLGEsYSx0Lml0ZW1TdHlsZS5maWxsKTtlLmFkZChzKSxzLnNldFN0eWxlKHQuaXRlbVN0eWxlKTt2YXIgbD0iaW5oZXJpdCI9PT10Lmljb25Sb3RhdGU/cjp0Lmljb25Sb3RhdGV8fDA7cmV0dXJuIHMucm90YXRpb249bCpNYXRoLlBJLzE4MCxzLnNldE9yaWdpbihbdC5pdGVtV2lkdGgvMix0Lml0ZW1IZWlnaHQvMl0pLG8uaW5kZXhPZigiZW1wdHkiKT4tMSYmKHMuc3R5bGUuc3Ryb2tlPXMuc3R5bGUuZmlsbCxzLnN0eWxlLmZpbGw9IiNmZmYiLHMuc3R5bGUubGluZVdpZHRoPTIpLGV9LGUudHlwZT0ic2VyaWVzLmxpbmUiLGUuZGVwZW5kZW5jaWVzPVsiZ3JpZCIsInBvbGFyIl0sZS5kZWZhdWx0T3B0aW9uPXt6OjMsY29vcmRpbmF0ZVN5c3RlbToiY2FydGVzaWFuMmQiLGxlZ2VuZEhvdmVyTGluazohMCxjbGlwOiEwLGxhYmVsOntwb3NpdGlvbjoidG9wIn0sZW5kTGFiZWw6e3Nob3c6ITEsdmFsdWVBbmltYXRpb246ITAsZGlzdGFuY2U6OH0sbGluZVN0eWxlOnt3aWR0aDoyLHR5cGU6InNvbGlkIn0sZW1waGFzaXM6e3NjYWxlOiEwfSxzdGVwOiExLHNtb290aDohMSxzbW9vdGhNb25vdG9uZTpudWxsLHN5bWJvbDoiZW1wdHlDaXJjbGUiLHN5bWJvbFNpemU6NCxzeW1ib2xSb3RhdGU6bnVsbCxzaG93U3ltYm9sOiEwLHNob3dBbGxTeW1ib2w6ImF1dG8iLGNvbm5lY3ROdWxsczohMSxzYW1wbGluZzoibm9uZSIsYW5pbWF0aW9uRWFzaW5nOiJsaW5lYXIiLHByb2dyZXNzaXZlOjAsaG92ZXJMYXllclRocmVzaG9sZDoxLzAsdW5pdmVyc2FsVHJhbnNpdGlvbjp7ZGl2aWRlU2hhcGU6ImNsb25lIn0sdHJpZ2dlckxpbmVFdmVudDohMX0sZX0oc2cpO2Z1bmN0aW9uIEd3KHQsZSl7dmFyIG49dC5tYXBEaW1lbnNpb25zQWxsKCJkZWZhdWx0ZWRMYWJlbCIpLGk9bi5sZW5ndGg7aWYoMT09PWkpe3ZhciByPWFmKHQsZSxuWzBdKTtyZXR1cm4gbnVsbCE9cj9yKyIiOm51bGx9aWYoaSl7Zm9yKHZhciBvPVtdLGE9MDthPG4ubGVuZ3RoO2ErKylvLnB1c2goYWYodCxlLG5bYV0pKTtyZXR1cm4gby5qb2luKCIgIil9fWZ1bmN0aW9uIFd3KHQsZSl7dmFyIG49dC5tYXBEaW1lbnNpb25zQWxsKCJkZWZhdWx0ZWRMYWJlbCIpO2lmKCFZKGUpKXJldHVybiBlKyIiO2Zvcih2YXIgaT1bXSxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPXQuZ2V0RGltZW5zaW9uSW5kZXgobltyXSk7bz49MCYmaS5wdXNoKGVbb10pfXJldHVybiBpLmpvaW4oIiAiKX12YXIgSHc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSxyKXt2YXIgbz10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG8udXBkYXRlRGF0YShlLG4saSxyKSxvfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuX2NyZWF0ZVN5bWJvbD1mdW5jdGlvbih0LGUsbixpLHIpe3RoaXMucmVtb3ZlQWxsKCk7dmFyIG89THkodCwtMSwtMSwyLDIsbnVsbCxyKTtvLmF0dHIoe3oyOjEwMCxjdWxsaW5nOiEwLHNjYWxlWDppWzBdLzIsc2NhbGVZOmlbMV0vMn0pLG8uZHJpZnQ9WXcsdGhpcy5fc3ltYm9sVHlwZT10LHRoaXMuYWRkKG8pfSxlLnByb3RvdHlwZS5zdG9wU3ltYm9sQW5pbWF0aW9uPWZ1bmN0aW9uKHQpe3RoaXMuY2hpbGRBdCgwKS5zdG9wQW5pbWF0aW9uKG51bGwsdCl9LGUucHJvdG90eXBlLmdldFN5bWJvbFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3ltYm9sVHlwZX0sZS5wcm90b3R5cGUuZ2V0U3ltYm9sUGF0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNoaWxkQXQoMCl9LGUucHJvdG90eXBlLmhpZ2hsaWdodD1mdW5jdGlvbigpe19sKHRoaXMuY2hpbGRBdCgwKSl9LGUucHJvdG90eXBlLmRvd25wbGF5PWZ1bmN0aW9uKCl7YmwodGhpcy5jaGlsZEF0KDApKX0sZS5wcm90b3R5cGUuc2V0Wj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuY2hpbGRBdCgwKTtuLnpsZXZlbD10LG4uej1lfSxlLnByb3RvdHlwZS5zZXREcmFnZ2FibGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jaGlsZEF0KDApO2UuZHJhZ2dhYmxlPXQsZS5jdXJzb3I9dD8ibW92ZSI6ZS5jdXJzb3J9LGUucHJvdG90eXBlLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCxuLGkscil7dGhpcy5zaWxlbnQ9ITE7dmFyIG89dC5nZXRJdGVtVmlzdWFsKG4sInN5bWJvbCIpfHwiY2lyY2xlIixhPXQuaG9zdE1vZGVsLHM9ZS5nZXRTeW1ib2xTaXplKHQsbiksbD1vIT09dGhpcy5fc3ltYm9sVHlwZSx1PXImJnIuZGlzYWJsZUFuaW1hdGlvbjtpZihsKXt2YXIgaD10LmdldEl0ZW1WaXN1YWwobiwic3ltYm9sS2VlcEFzcGVjdCIpO3RoaXMuX2NyZWF0ZVN5bWJvbChvLHQsbixzLGgpfWVsc2V7KHA9dGhpcy5jaGlsZEF0KDApKS5zaWxlbnQ9ITE7dmFyIGM9e3NjYWxlWDpzWzBdLzIsc2NhbGVZOnNbMV0vMn07dT9wLmF0dHIoYyk6cmgocCxjLGEsbiksaGgocCl9aWYodGhpcy5fdXBkYXRlQ29tbW9uKHQsbixzLGksciksbCl7dmFyIHA9dGhpcy5jaGlsZEF0KDApO2lmKCF1KXtjPXtzY2FsZVg6dGhpcy5fc2l6ZVgsc2NhbGVZOnRoaXMuX3NpemVZLHN0eWxlOntvcGFjaXR5OnAuc3R5bGUub3BhY2l0eX19O3Auc2NhbGVYPXAuc2NhbGVZPTAscC5zdHlsZS5vcGFjaXR5PTAsb2gocCxjLGEsbil9fXUmJnRoaXMuY2hpbGRBdCgwKS5zdG9wQW5pbWF0aW9uKCJsZWF2ZSIpfSxlLnByb3RvdHlwZS5fdXBkYXRlQ29tbW9uPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG8sYSxzLGwsdSxoLGMscCxkLGY9dGhpcy5jaGlsZEF0KDApLGc9dC5ob3N0TW9kZWw7aWYoaSYmKG89aS5lbXBoYXNpc0l0ZW1TdHlsZSxhPWkuYmx1ckl0ZW1TdHlsZSxzPWkuc2VsZWN0SXRlbVN0eWxlLGw9aS5mb2N1cyx1PWkuYmx1clNjb3BlLGM9aS5sYWJlbFN0YXRlc01vZGVscyxwPWkuaG92ZXJTY2FsZSxkPWkuY3Vyc29yU3R5bGUsaD1pLmVtcGhhc2lzRGlzYWJsZWQpLCFpfHx0Lmhhc0l0ZW1PcHRpb24pe3ZhciB5PWkmJmkuaXRlbU1vZGVsP2kuaXRlbU1vZGVsOnQuZ2V0SXRlbU1vZGVsKGUpLHY9eS5nZXRNb2RlbCgiZW1waGFzaXMiKTtvPXYuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpLHM9eS5nZXRNb2RlbChbInNlbGVjdCIsIml0ZW1TdHlsZSJdKS5nZXRJdGVtU3R5bGUoKSxhPXkuZ2V0TW9kZWwoWyJibHVyIiwiaXRlbVN0eWxlIl0pLmdldEl0ZW1TdHlsZSgpLGw9di5nZXQoImZvY3VzIiksdT12LmdldCgiYmx1clNjb3BlIiksaD12LmdldCgiZGlzYWJsZWQiKSxjPVloKHkpLHA9di5nZXRTaGFsbG93KCJzY2FsZSIpLGQ9eS5nZXRTaGFsbG93KCJjdXJzb3IiKX12YXIgbT10LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sUm90YXRlIik7Zi5hdHRyKCJyb3RhdGlvbiIsKG18fDApKk1hdGguUEkvMTgwfHwwKTt2YXIgeD1PeSh0LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sT2Zmc2V0Iiksbik7eCYmKGYueD14WzBdLGYueT14WzFdKSxkJiZmLmF0dHIoImN1cnNvciIsZCk7dmFyIF89dC5nZXRJdGVtVmlzdWFsKGUsInN0eWxlIiksYj1fLmZpbGw7aWYoZiBpbnN0YW5jZW9mIF9zKXt2YXIgdz1mLnN0eWxlO2YudXNlU3R5bGUoQSh7aW1hZ2U6dy5pbWFnZSx4OncueCx5OncueSx3aWR0aDp3LndpZHRoLGhlaWdodDp3LmhlaWdodH0sXykpfWVsc2UgZi5fX2lzRW1wdHlCcnVzaD9mLnVzZVN0eWxlKEEoe30sXykpOmYudXNlU3R5bGUoXyksZi5zdHlsZS5kZWNhbD1udWxsLGYuc2V0Q29sb3IoYixyJiZyLnN5bWJvbElubmVyQ29sb3IpLGYuc3R5bGUuc3Ryb2tlTm9TY2FsZT0hMDt2YXIgUz10LmdldEl0ZW1WaXN1YWwoZSwibGlmdFoiKSxNPXRoaXMuX3oyO251bGwhPVM/bnVsbD09TSYmKHRoaXMuX3oyPWYuejIsZi56Mis9Uyk6bnVsbCE9TSYmKGYuejI9TSx0aGlzLl96Mj1udWxsKTt2YXIgST1yJiZyLnVzZU5hbWVMYWJlbDtIaChmLGMse2xhYmVsRmV0Y2hlcjpnLGxhYmVsRGF0YUluZGV4OmUsZGVmYXVsdFRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIEk/dC5nZXROYW1lKGUpOkd3KHQsZSl9LGluaGVyaXRDb2xvcjpiLGRlZmF1bHRPcGFjaXR5Ol8ub3BhY2l0eX0pLHRoaXMuX3NpemVYPW5bMF0vMix0aGlzLl9zaXplWT1uWzFdLzI7dmFyIFQ9Zi5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKTtpZihULnN0eWxlPW8sZi5lbnN1cmVTdGF0ZSgic2VsZWN0Iikuc3R5bGU9cyxmLmVuc3VyZVN0YXRlKCJibHVyIikuc3R5bGU9YSxwKXt2YXIgQz1NYXRoLm1heChqKHApP3A6MS4xLDMvdGhpcy5fc2l6ZVkpO1Quc2NhbGVYPXRoaXMuX3NpemVYKkMsVC5zY2FsZVk9dGhpcy5fc2l6ZVkqQ310aGlzLnNldFN5bWJvbFNjYWxlKDEpLFJsKHRoaXMsbCx1LGgpfSxlLnByb3RvdHlwZS5zZXRTeW1ib2xTY2FsZT1mdW5jdGlvbih0KXt0aGlzLnNjYWxlWD10aGlzLnNjYWxlWT10fSxlLnByb3RvdHlwZS5mYWRlT3V0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmNoaWxkQXQoMCkscj1Icyh0aGlzKS5kYXRhSW5kZXgsbz1uJiZuLmFuaW1hdGlvbjtpZih0aGlzLnNpbGVudD1pLnNpbGVudD0hMCxuJiZuLmZhZGVMYWJlbCl7dmFyIGE9aS5nZXRUZXh0Q29udGVudCgpO2EmJnNoKGEse3N0eWxlOntvcGFjaXR5OjB9fSxlLHtkYXRhSW5kZXg6cixyZW1vdmVPcHQ6byxjYjpmdW5jdGlvbigpe2kucmVtb3ZlVGV4dENvbnRlbnQoKX19KX1lbHNlIGkucmVtb3ZlVGV4dENvbnRlbnQoKTtzaChpLHtzdHlsZTp7b3BhY2l0eTowfSxzY2FsZVg6MCxzY2FsZVk6MH0sZSx7ZGF0YUluZGV4OnIsY2I6dCxyZW1vdmVPcHQ6b30pfSxlLmdldFN5bWJvbFNpemU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gUHkodC5nZXRJdGVtVmlzdWFsKGUsInN5bWJvbFNpemUiKSl9LGV9KENyKTtmdW5jdGlvbiBZdyh0LGUpe3RoaXMucGFyZW50LmRyaWZ0KHQsZSl9ZnVuY3Rpb24gVXcodCxlLG4saSl7cmV0dXJuIGUmJiFpc05hTihlWzBdKSYmIWlzTmFOKGVbMV0pJiYhKGkuaXNJZ25vcmUmJmkuaXNJZ25vcmUobikpJiYhKGkuY2xpcFNoYXBlJiYhaS5jbGlwU2hhcGUuY29udGFpbihlWzBdLGVbMV0pKSYmIm5vbmUiIT09dC5nZXRJdGVtVmlzdWFsKG4sInN5bWJvbCIpfWZ1bmN0aW9uIFh3KHQpe3JldHVybiBudWxsPT10fHxxKHQpfHwodD17aXNJZ25vcmU6dH0pLHR8fHt9fWZ1bmN0aW9uIFp3KHQpe3ZhciBlPXQuaG9zdE1vZGVsLG49ZS5nZXRNb2RlbCgiZW1waGFzaXMiKTtyZXR1cm57ZW1waGFzaXNJdGVtU3R5bGU6bi5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCksYmx1ckl0ZW1TdHlsZTplLmdldE1vZGVsKFsiYmx1ciIsIml0ZW1TdHlsZSJdKS5nZXRJdGVtU3R5bGUoKSxzZWxlY3RJdGVtU3R5bGU6ZS5nZXRNb2RlbChbInNlbGVjdCIsIml0ZW1TdHlsZSJdKS5nZXRJdGVtU3R5bGUoKSxmb2N1czpuLmdldCgiZm9jdXMiKSxibHVyU2NvcGU6bi5nZXQoImJsdXJTY29wZSIpLGVtcGhhc2lzRGlzYWJsZWQ6bi5nZXQoImRpc2FibGVkIiksaG92ZXJTY2FsZTpuLmdldCgic2NhbGUiKSxsYWJlbFN0YXRlc01vZGVsczpZaChlKSxjdXJzb3JTdHlsZTplLmdldCgiY3Vyc29yIil9fXZhciBqdz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5ncm91cD1uZXcgQ3IsdGhpcy5fU3ltYm9sQ3Rvcj10fHxId31yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUpe3RoaXMuX3Byb2dyZXNzaXZlRWxzPW51bGwsZT1YdyhlKTt2YXIgbj10aGlzLmdyb3VwLGk9dC5ob3N0TW9kZWwscj10aGlzLl9kYXRhLG89dGhpcy5fU3ltYm9sQ3RvcixhPWUuZGlzYWJsZUFuaW1hdGlvbixzPVp3KHQpLGw9e2Rpc2FibGVBbmltYXRpb246YX0sdT1lLmdldFN5bWJvbFBvaW50fHxmdW5jdGlvbihlKXtyZXR1cm4gdC5nZXRJdGVtTGF5b3V0KGUpfTtyfHxuLnJlbW92ZUFsbCgpLHQuZGlmZihyKS5hZGQoKGZ1bmN0aW9uKGkpe3ZhciByPXUoaSk7aWYoVXcodCxyLGksZSkpe3ZhciBhPW5ldyBvKHQsaSxzLGwpO2Euc2V0UG9zaXRpb24ociksdC5zZXRJdGVtR3JhcGhpY0VsKGksYSksbi5hZGQoYSl9fSkpLnVwZGF0ZSgoZnVuY3Rpb24oaCxjKXt2YXIgcD1yLmdldEl0ZW1HcmFwaGljRWwoYyksZD11KGgpO2lmKFV3KHQsZCxoLGUpKXt2YXIgZj10LmdldEl0ZW1WaXN1YWwoaCwic3ltYm9sIil8fCJjaXJjbGUiLGc9cCYmcC5nZXRTeW1ib2xUeXBlJiZwLmdldFN5bWJvbFR5cGUoKTtpZighcHx8ZyYmZyE9PWYpbi5yZW1vdmUocCksKHA9bmV3IG8odCxoLHMsbCkpLnNldFBvc2l0aW9uKGQpO2Vsc2V7cC51cGRhdGVEYXRhKHQsaCxzLGwpO3ZhciB5PXt4OmRbMF0seTpkWzFdfTthP3AuYXR0cih5KTpyaChwLHksaSl9bi5hZGQocCksdC5zZXRJdGVtR3JhcGhpY0VsKGgscCl9ZWxzZSBuLnJlbW92ZShwKX0pKS5yZW1vdmUoKGZ1bmN0aW9uKHQpe3ZhciBlPXIuZ2V0SXRlbUdyYXBoaWNFbCh0KTtlJiZlLmZhZGVPdXQoKGZ1bmN0aW9uKCl7bi5yZW1vdmUoZSl9KSxpKX0pKS5leGVjdXRlKCksdGhpcy5fZ2V0U3ltYm9sUG9pbnQ9dSx0aGlzLl9kYXRhPXR9LHQucHJvdG90eXBlLnVwZGF0ZUxheW91dD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLl9kYXRhO2UmJmUuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKGUsbil7dmFyIGk9dC5fZ2V0U3ltYm9sUG9pbnQobik7ZS5zZXRQb3NpdGlvbihpKSxlLm1hcmtSZWRyYXcoKX0pKX0sdC5wcm90b3R5cGUuaW5jcmVtZW50YWxQcmVwYXJlVXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX3Nlcmllc1Njb3BlPVp3KHQpLHRoaXMuX2RhdGE9bnVsbCx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSx0LnByb3RvdHlwZS5pbmNyZW1lbnRhbFVwZGF0ZT1mdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gaSh0KXt0LmlzR3JvdXB8fCh0LmluY3JlbWVudGFsPSEwLHQuZW5zdXJlU3RhdGUoImVtcGhhc2lzIikuaG92ZXJMYXllcj0hMCl9dGhpcy5fcHJvZ3Jlc3NpdmVFbHM9W10sbj1YdyhuKTtmb3IodmFyIHI9dC5zdGFydDtyPHQuZW5kO3IrKyl7dmFyIG89ZS5nZXRJdGVtTGF5b3V0KHIpO2lmKFV3KGUsbyxyLG4pKXt2YXIgYT1uZXcgdGhpcy5fU3ltYm9sQ3RvcihlLHIsdGhpcy5fc2VyaWVzU2NvcGUpO2EudHJhdmVyc2UoaSksYS5zZXRQb3NpdGlvbihvKSx0aGlzLmdyb3VwLmFkZChhKSxlLnNldEl0ZW1HcmFwaGljRWwocixhKSx0aGlzLl9wcm9ncmVzc2l2ZUVscy5wdXNoKGEpfX19LHQucHJvdG90eXBlLmVhY2hSZW5kZXJlZD1mdW5jdGlvbih0KXtWaCh0aGlzLl9wcm9ncmVzc2l2ZUVsc3x8dGhpcy5ncm91cCx0KX0sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ3JvdXAsbj10aGlzLl9kYXRhO24mJnQ/bi5lYWNoSXRlbUdyYXBoaWNFbCgoZnVuY3Rpb24odCl7dC5mYWRlT3V0KChmdW5jdGlvbigpe2UucmVtb3ZlKHQpfSksbi5ob3N0TW9kZWwpfSkpOmUucmVtb3ZlQWxsKCl9LHR9KCk7ZnVuY3Rpb24gcXcodCxlLG4pe3ZhciBpPXQuZ2V0QmFzZUF4aXMoKSxyPXQuZ2V0T3RoZXJBeGlzKGkpLG89ZnVuY3Rpb24odCxlKXt2YXIgbj0wLGk9dC5zY2FsZS5nZXRFeHRlbnQoKTsic3RhcnQiPT09ZT9uPWlbMF06ImVuZCI9PT1lP249aVsxXTpqKGUpJiYhaXNOYU4oZSk/bj1lOmlbMF0+MD9uPWlbMF06aVsxXTwwJiYobj1pWzFdKTtyZXR1cm4gbn0ocixuKSxhPWkuZGltLHM9ci5kaW0sbD1lLm1hcERpbWVuc2lvbihzKSx1PWUubWFwRGltZW5zaW9uKGEpLGg9IngiPT09c3x8InJhZGl1cyI9PT1zPzE6MCxjPXoodC5kaW1lbnNpb25zLChmdW5jdGlvbih0KXtyZXR1cm4gZS5tYXBEaW1lbnNpb24odCl9KSkscD0hMSxkPWUuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja1Jlc3VsdERpbWVuc2lvbiIpO3JldHVybiBleChlLGNbMF0pJiYocD0hMCxjWzBdPWQpLGV4KGUsY1sxXSkmJihwPSEwLGNbMV09ZCkse2RhdGFEaW1zRm9yUG9pbnQ6Yyx2YWx1ZVN0YXJ0Om8sdmFsdWVBeGlzRGltOnMsYmFzZUF4aXNEaW06YSxzdGFja2VkOiEhcCx2YWx1ZURpbTpsLGJhc2VEaW06dSxiYXNlRGF0YU9mZnNldDpoLHN0YWNrZWRPdmVyRGltZW5zaW9uOmUuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja2VkT3ZlckRpbWVuc2lvbiIpfX1mdW5jdGlvbiBLdyh0LGUsbixpKXt2YXIgcj1OYU47dC5zdGFja2VkJiYocj1uLmdldChuLmdldENhbGN1bGF0aW9uSW5mbygic3RhY2tlZE92ZXJEaW1lbnNpb24iKSxpKSksaXNOYU4ocikmJihyPXQudmFsdWVTdGFydCk7dmFyIG89dC5iYXNlRGF0YU9mZnNldCxhPVtdO3JldHVybiBhW29dPW4uZ2V0KHQuYmFzZURpbSxpKSxhWzEtb109cixlLmRhdGFUb1BvaW50KGEpfXZhciAkdz1NYXRoLm1pbixKdz1NYXRoLm1heDtmdW5jdGlvbiBRdyh0LGUpe3JldHVybiBpc05hTih0KXx8aXNOYU4oZSl9ZnVuY3Rpb24gdFModCxlLG4saSxyLG8sYSxzLGwpe2Zvcih2YXIgdSxoLGMscCxkLGYsZz1uLHk9MDt5PGk7eSsrKXt2YXIgdj1lWzIqZ10sbT1lWzIqZysxXTtpZihnPj1yfHxnPDApYnJlYWs7aWYoUXcodixtKSl7aWYobCl7Zys9bztjb250aW51ZX1icmVha31pZihnPT09bil0W28+MD8ibW92ZVRvIjoibGluZVRvIl0odixtKSxjPXYscD1tO2Vsc2V7dmFyIHg9di11LF89bS1oO2lmKHgqeCtfKl88LjUpe2crPW87Y29udGludWV9aWYoYT4wKXtmb3IodmFyIGI9ZytvLHc9ZVsyKmJdLFM9ZVsyKmIrMV07dz09PXYmJlM9PT1tJiZ5PGk7KXkrKyxnKz1vLHc9ZVsyKihiKz1vKV0sUz1lWzIqYisxXSx4PSh2PWVbMipnXSktdSxfPShtPWVbMipnKzFdKS1oO3ZhciBNPXkrMTtpZihsKWZvcig7UXcodyxTKSYmTTxpOylNKyssdz1lWzIqKGIrPW8pXSxTPWVbMipiKzFdO3ZhciBJPS41LFQ9MCxDPTAsRD12b2lkIDAsQT12b2lkIDA7aWYoTT49aXx8UXcodyxTKSlkPXYsZj1tO2Vsc2V7VD13LXUsQz1TLWg7dmFyIGs9di11LEw9dy12LFA9bS1oLE89Uy1tLFI9dm9pZCAwLE49dm9pZCAwO2lmKCJ4Ij09PXMpe3ZhciBFPVQ+MD8xOi0xO2Q9di1FKihSPU1hdGguYWJzKGspKSphLGY9bSxEPXYrRSooTj1NYXRoLmFicyhMKSkqYSxBPW19ZWxzZSBpZigieSI9PT1zKXt2YXIgej1DPjA/MTotMTtkPXYsZj1tLXoqKFI9TWF0aC5hYnMoUCkpKmEsRD12LEE9bSt6KihOPU1hdGguYWJzKE8pKSphfWVsc2UgUj1NYXRoLnNxcnQoayprK1AqUCksZD12LVQqYSooMS0oST0oTj1NYXRoLnNxcnQoTCpMK08qTykpLyhOK1IpKSksZj1tLUMqYSooMS1JKSxBPW0rQyphKkksRD0kdyhEPXYrVCphKkksSncodyx2KSksQT0kdyhBLEp3KFMsbSkpLEQ9SncoRCwkdyh3LHYpKSxmPW0tKEM9KEE9SncoQSwkdyhTLG0pKSktbSkqUi9OLGQ9JHcoZD12LShUPUQtdikqUi9OLEp3KHUsdikpLGY9JHcoZixKdyhoLG0pKSxEPXYrKFQ9di0oZD1KdyhkLCR3KHUsdikpKSkqTi9SLEE9bSsoQz1tLShmPUp3KGYsJHcoaCxtKSkpKSpOL1J9dC5iZXppZXJDdXJ2ZVRvKGMscCxkLGYsdixtKSxjPUQscD1BfWVsc2UgdC5saW5lVG8odixtKX11PXYsaD1tLGcrPW99cmV0dXJuIHl9dmFyIGVTPWZ1bmN0aW9uKCl7dGhpcy5zbW9vdGg9MCx0aGlzLnNtb290aENvbnN0cmFpbnQ9ITB9LG5TPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIG4udHlwZT0iZWMtcG9seWxpbmUiLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm57c3Ryb2tlOiIjMDAwIixmaWxsOm51bGx9fSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGVTfSxlLnByb3RvdHlwZS5idWlsZFBhdGg9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLnBvaW50cyxpPTAscj1uLmxlbmd0aC8yO2lmKGUuY29ubmVjdE51bGxzKXtmb3IoO3I+MCYmUXcoblsyKnItMl0sblsyKnItMV0pO3ItLSk7Zm9yKDtpPHImJlF3KG5bMippXSxuWzIqaSsxXSk7aSsrKTt9Zm9yKDtpPHI7KWkrPXRTKHQsbixpLHIsciwxLGUuc21vb3RoLGUuc21vb3RoTW9ub3RvbmUsZS5jb25uZWN0TnVsbHMpKzF9LGUucHJvdG90eXBlLmdldFBvaW50T249ZnVuY3Rpb24odCxlKXt0aGlzLnBhdGh8fCh0aGlzLmNyZWF0ZVBhdGhQcm94eSgpLHRoaXMuYnVpbGRQYXRoKHRoaXMucGF0aCx0aGlzLnNoYXBlKSk7Zm9yKHZhciBuLGkscj10aGlzLnBhdGguZGF0YSxvPXFhLkNNRCxhPSJ4Ij09PWUscz1bXSxsPTA7bDxyLmxlbmd0aDspe3ZhciB1PXZvaWQgMCxoPXZvaWQgMCxjPXZvaWQgMCxwPXZvaWQgMCxkPXZvaWQgMCxmPXZvaWQgMCxnPXZvaWQgMDtzd2l0Y2gocltsKytdKXtjYXNlIG8uTTpuPXJbbCsrXSxpPXJbbCsrXTticmVhaztjYXNlIG8uTDppZih1PXJbbCsrXSxoPXJbbCsrXSwoZz1hPyh0LW4pLyh1LW4pOih0LWkpLyhoLWkpKTw9MSYmZz49MCl7dmFyIHk9YT8oaC1pKSpnK2k6KHUtbikqZytuO3JldHVybiBhP1t0LHldOlt5LHRdfW49dSxpPWg7YnJlYWs7Y2FzZSBvLkM6dT1yW2wrK10saD1yW2wrK10sYz1yW2wrK10scD1yW2wrK10sZD1yW2wrK10sZj1yW2wrK107dmFyIHY9YT9VZShuLHUsYyxkLHQscyk6VWUoaSxoLHAsZix0LHMpO2lmKHY+MClmb3IodmFyIG09MDttPHY7bSsrKXt2YXIgeD1zW21dO2lmKHg8PTEmJng+PTApe3k9YT9IZShpLGgscCxmLHgpOkhlKG4sdSxjLGQseCk7cmV0dXJuIGE/W3QseV06W3ksdF19fW49ZCxpPWZ9fX0sZX0oZ3MpLGlTPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZX0oZVMpLHJTPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIG4udHlwZT0iZWMtcG9seWdvbiIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaVN9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuPWUucG9pbnRzLGk9ZS5zdGFja2VkT25Qb2ludHMscj0wLG89bi5sZW5ndGgvMixhPWUuc21vb3RoTW9ub3RvbmU7aWYoZS5jb25uZWN0TnVsbHMpe2Zvcig7bz4wJiZRdyhuWzIqby0yXSxuWzIqby0xXSk7by0tKTtmb3IoO3I8byYmUXcoblsyKnJdLG5bMipyKzFdKTtyKyspO31mb3IoO3I8bzspe3ZhciBzPXRTKHQsbixyLG8sbywxLGUuc21vb3RoLGEsZS5jb25uZWN0TnVsbHMpO3RTKHQsaSxyK3MtMSxzLG8sLTEsZS5zdGFja2VkT25TbW9vdGgsYSxlLmNvbm5lY3ROdWxscykscis9cysxLHQuY2xvc2VQYXRoKCl9fSxlfShncyk7ZnVuY3Rpb24gb1ModCxlLG4saSxyKXt2YXIgbz10LmdldEFyZWEoKSxhPW8ueCxzPW8ueSxsPW8ud2lkdGgsdT1vLmhlaWdodCxoPW4uZ2V0KFsibGluZVN0eWxlIiwid2lkdGgiXSl8fDI7YS09aC8yLHMtPWgvMixsKz1oLHUrPWgsYT1NYXRoLmZsb29yKGEpLGw9TWF0aC5yb3VuZChsKTt2YXIgYz1uZXcgQ3Moe3NoYXBlOnt4OmEseTpzLHdpZHRoOmwsaGVpZ2h0OnV9fSk7aWYoZSl7dmFyIHA9dC5nZXRCYXNlQXhpcygpLGQ9cC5pc0hvcml6b250YWwoKSxmPXAuaW52ZXJzZTtkPyhmJiYoYy5zaGFwZS54Kz1sKSxjLnNoYXBlLndpZHRoPTApOihmfHwoYy5zaGFwZS55Kz11KSxjLnNoYXBlLmhlaWdodD0wKTt2YXIgZz1VKHIpP2Z1bmN0aW9uKHQpe3IodCxjKX06bnVsbDtvaChjLHtzaGFwZTp7d2lkdGg6bCxoZWlnaHQ6dSx4OmEseTpzfX0sbixudWxsLGksZyl9cmV0dXJuIGN9ZnVuY3Rpb24gYVModCxlLG4pe3ZhciBpPXQuZ2V0QXJlYSgpLHI9enIoaS5yMCwxKSxvPXpyKGkuciwxKSxhPW5ldyBDdSh7c2hhcGU6e2N4OnpyKHQuY3gsMSksY3k6enIodC5jeSwxKSxyMDpyLHI6byxzdGFydEFuZ2xlOmkuc3RhcnRBbmdsZSxlbmRBbmdsZTppLmVuZEFuZ2xlLGNsb2Nrd2lzZTppLmNsb2Nrd2lzZX19KTtlJiYoImFuZ2xlIj09PXQuZ2V0QmFzZUF4aXMoKS5kaW0/YS5zaGFwZS5lbmRBbmdsZT1pLnN0YXJ0QW5nbGU6YS5zaGFwZS5yPXIsb2goYSx7c2hhcGU6e2VuZEFuZ2xlOmkuZW5kQW5nbGUscjpvfX0sbikpO3JldHVybiBhfWZ1bmN0aW9uIHNTKHQsZSxuLGkscil7cmV0dXJuIHQ/InBvbGFyIj09PXQudHlwZT9hUyh0LGUsbik6ImNhcnRlc2lhbjJkIj09PXQudHlwZT9vUyh0LGUsbixpLHIpOm51bGw6bnVsbH1mdW5jdGlvbiBsUyh0LGUpe3JldHVybiB0LnR5cGU9PT1lfWZ1bmN0aW9uIHVTKHQsZSl7aWYodC5sZW5ndGg9PT1lLmxlbmd0aCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspaWYodFtuXSE9PWVbbl0pcmV0dXJuO3JldHVybiEwfX1mdW5jdGlvbiBoUyh0KXtmb3IodmFyIGU9MS8wLG49MS8wLGk9LTEvMCxyPS0xLzAsbz0wO288dC5sZW5ndGg7KXt2YXIgYT10W28rK10scz10W28rK107aXNOYU4oYSl8fChlPU1hdGgubWluKGEsZSksaT1NYXRoLm1heChhLGkpKSxpc05hTihzKXx8KG49TWF0aC5taW4ocyxuKSxyPU1hdGgubWF4KHMscikpfXJldHVybltbZSxuXSxbaSxyXV19ZnVuY3Rpb24gY1ModCxlKXt2YXIgbj1oUyh0KSxpPW5bMF0scj1uWzFdLG89aFMoZSksYT1vWzBdLHM9b1sxXTtyZXR1cm4gTWF0aC5tYXgoTWF0aC5hYnMoaVswXS1hWzBdKSxNYXRoLmFicyhpWzFdLWFbMV0pLE1hdGguYWJzKHJbMF0tc1swXSksTWF0aC5hYnMoclsxXS1zWzFdKSl9ZnVuY3Rpb24gcFModCl7cmV0dXJuIGoodCk/dDp0Py41OjB9ZnVuY3Rpb24gZFModCxlLG4saSl7dmFyIHI9ZS5nZXRCYXNlQXhpcygpLG89IngiPT09ci5kaW18fCJyYWRpdXMiPT09ci5kaW0/MDoxLGE9W10scz0wLGw9W10sdT1bXSxoPVtdLGM9W107aWYoaSl7Zm9yKHM9MDtzPHQubGVuZ3RoO3MrPTIpaXNOYU4odFtzXSl8fGlzTmFOKHRbcysxXSl8fGMucHVzaCh0W3NdLHRbcysxXSk7dD1jfWZvcihzPTA7czx0Lmxlbmd0aC0yO3MrPTIpc3dpdGNoKGhbMF09dFtzKzJdLGhbMV09dFtzKzNdLHVbMF09dFtzXSx1WzFdPXRbcysxXSxhLnB1c2godVswXSx1WzFdKSxuKXtjYXNlImVuZCI6bFtvXT1oW29dLGxbMS1vXT11WzEtb10sYS5wdXNoKGxbMF0sbFsxXSk7YnJlYWs7Y2FzZSJtaWRkbGUiOnZhciBwPSh1W29dK2hbb10pLzIsZD1bXTtsW29dPWRbb109cCxsWzEtb109dVsxLW9dLGRbMS1vXT1oWzEtb10sYS5wdXNoKGxbMF0sbFsxXSksYS5wdXNoKGRbMF0sZFsxXSk7YnJlYWs7ZGVmYXVsdDpsW29dPXVbb10sbFsxLW9dPWhbMS1vXSxhLnB1c2gobFswXSxsWzFdKX1yZXR1cm4gYS5wdXNoKHRbcysrXSx0W3MrK10pLGF9ZnVuY3Rpb24gZlModCxlLG4pe3ZhciBpPXQuZ2V0VmlzdWFsKCJ2aXN1YWxNZXRhIik7aWYoaSYmaS5sZW5ndGgmJnQuY291bnQoKSYmImNhcnRlc2lhbjJkIj09PWUudHlwZSl7Zm9yKHZhciByLG8sYT1pLmxlbmd0aC0xO2E+PTA7YS0tKXt2YXIgcz10LmdldERpbWVuc2lvbkluZm8oaVthXS5kaW1lbnNpb24pO2lmKCJ4Ij09PShyPXMmJnMuY29vcmREaW0pfHwieSI9PT1yKXtvPWlbYV07YnJlYWt9fWlmKG8pe3ZhciBsPWUuZ2V0QXhpcyhyKSx1PXooby5zdG9wcywoZnVuY3Rpb24odCl7cmV0dXJue2Nvb3JkOmwudG9HbG9iYWxDb29yZChsLmRhdGFUb0Nvb3JkKHQudmFsdWUpKSxjb2xvcjp0LmNvbG9yfX0pKSxoPXUubGVuZ3RoLGM9by5vdXRlckNvbG9ycy5zbGljZSgpO2gmJnVbMF0uY29vcmQ+dVtoLTFdLmNvb3JkJiYodS5yZXZlcnNlKCksYy5yZXZlcnNlKCkpO3ZhciBwPWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyPVtdLG89dC5sZW5ndGg7ZnVuY3Rpb24gYSh0LGUsbil7dmFyIGk9dC5jb29yZDtyZXR1cm57Y29vcmQ6bixjb2xvcjpUbigobi1pKS8oZS5jb29yZC1pKSxbdC5jb2xvcixlLmNvbG9yXSl9fWZvcih2YXIgcz0wO3M8bztzKyspe3ZhciBsPXRbc10sdT1sLmNvb3JkO2lmKHU8MCluPWw7ZWxzZXtpZih1PmUpe2k/ci5wdXNoKGEoaSxsLGUpKTpuJiZyLnB1c2goYShuLGwsMCksYShuLGwsZSkpO2JyZWFrfW4mJihyLnB1c2goYShuLGwsMCkpLG49bnVsbCksci5wdXNoKGwpLGk9bH19cmV0dXJuIHJ9KHUsIngiPT09cj9uLmdldFdpZHRoKCk6bi5nZXRIZWlnaHQoKSksZD1wLmxlbmd0aDtpZighZCYmaClyZXR1cm4gdVswXS5jb29yZDwwP2NbMV0/Y1sxXTp1W2gtMV0uY29sb3I6Y1swXT9jWzBdOnVbMF0uY29sb3I7dmFyIGY9cFswXS5jb29yZC0xMCxnPXBbZC0xXS5jb29yZCsxMCx5PWctZjtpZih5PC4wMDEpcmV0dXJuInRyYW5zcGFyZW50IjtFKHAsKGZ1bmN0aW9uKHQpe3Qub2Zmc2V0PSh0LmNvb3JkLWYpL3l9KSkscC5wdXNoKHtvZmZzZXQ6ZD9wW2QtMV0ub2Zmc2V0Oi41LGNvbG9yOmNbMV18fCJ0cmFuc3BhcmVudCJ9KSxwLnVuc2hpZnQoe29mZnNldDpkP3BbMF0ub2Zmc2V0Oi41LGNvbG9yOmNbMF18fCJ0cmFuc3BhcmVudCJ9KTt2YXIgdj1uZXcgWHUoMCwwLDAsMCxwLCEwKTtyZXR1cm4gdltyXT1mLHZbcisiMiJdPWcsdn19fWZ1bmN0aW9uIGdTKHQsZSxuKXt2YXIgaT10LmdldCgic2hvd0FsbFN5bWJvbCIpLHI9ImF1dG8iPT09aTtpZighaXx8cil7dmFyIG89bi5nZXRBeGVzQnlTY2FsZSgib3JkaW5hbCIpWzBdO2lmKG8mJighcnx8IWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRFeHRlbnQoKSxpPU1hdGguYWJzKG5bMV0tblswXSkvdC5zY2FsZS5jb3VudCgpO2lzTmFOKGkpJiYoaT0wKTtmb3IodmFyIHI9ZS5jb3VudCgpLG89TWF0aC5tYXgoMSxNYXRoLnJvdW5kKHIvNSkpLGE9MDthPHI7YSs9bylpZigxLjUqSHcuZ2V0U3ltYm9sU2l6ZShlLGEpW3QuaXNIb3Jpem9udGFsKCk/MTowXT5pKXJldHVybiExO3JldHVybiEwfShvLGUpKSl7dmFyIGE9ZS5tYXBEaW1lbnNpb24oby5kaW0pLHM9e307cmV0dXJuIEUoby5nZXRWaWV3TGFiZWxzKCksKGZ1bmN0aW9uKHQpe3ZhciBlPW8uc2NhbGUuZ2V0UmF3T3JkaW5hbE51bWJlcih0LnRpY2tWYWx1ZSk7c1tlXT0xfSkpLGZ1bmN0aW9uKHQpe3JldHVybiFzLmhhc093blByb3BlcnR5KGUuZ2V0KGEsdCkpfX19fWZ1bmN0aW9uIHlTKHQsZSl7cmV0dXJuW3RbMiplXSx0WzIqZSsxXV19ZnVuY3Rpb24gdlModCl7aWYodC5nZXQoWyJlbmRMYWJlbCIsInNob3ciXSkpcmV0dXJuITA7Zm9yKHZhciBlPTA7ZTxxcy5sZW5ndGg7ZSsrKWlmKHQuZ2V0KFtxc1tlXSwiZW5kTGFiZWwiLCJzaG93Il0pKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIG1TKHQsZSxuLGkpe2lmKGxTKGUsImNhcnRlc2lhbjJkIikpe3ZhciByPWkuZ2V0TW9kZWwoImVuZExhYmVsIiksbz1yLmdldCgidmFsdWVBbmltYXRpb24iKSxhPWkuZ2V0RGF0YSgpLHM9e2xhc3RGcmFtZUluZGV4OjB9LGw9dlMoaSk/ZnVuY3Rpb24obixpKXt0Ll9lbmRMYWJlbE9uRHVyaW5nKG4saSxhLHMsbyxyLGUpfTpudWxsLHU9ZS5nZXRCYXNlQXhpcygpLmlzSG9yaXpvbnRhbCgpLGg9b1MoZSxuLGksKGZ1bmN0aW9uKCl7dmFyIGU9dC5fZW5kTGFiZWw7ZSYmbiYmbnVsbCE9cy5vcmlnaW5hbFgmJmUuYXR0cih7eDpzLm9yaWdpbmFsWCx5OnMub3JpZ2luYWxZfSl9KSxsKTtpZighaS5nZXQoImNsaXAiLCEwKSl7dmFyIGM9aC5zaGFwZSxwPU1hdGgubWF4KGMud2lkdGgsYy5oZWlnaHQpO3U/KGMueS09cCxjLmhlaWdodCs9MipwKTooYy54LT1wLGMud2lkdGgrPTIqcCl9cmV0dXJuIGwmJmwoMSxoKSxofXJldHVybiBhUyhlLG4saSl9dmFyIHhTPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3ZhciB0PW5ldyBDcixlPW5ldyBqdzt0aGlzLmdyb3VwLmFkZChlLmdyb3VwKSx0aGlzLl9zeW1ib2xEcmF3PWUsdGhpcy5fbGluZUdyb3VwPXR9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcyxyPXQuY29vcmRpbmF0ZVN5c3RlbSxvPXRoaXMuZ3JvdXAsYT10LmdldERhdGEoKSxzPXQuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLGw9dC5nZXRNb2RlbCgiYXJlYVN0eWxlIiksdT1hLmdldExheW91dCgicG9pbnRzIil8fFtdLGg9InBvbGFyIj09PXIudHlwZSxjPXRoaXMuX2Nvb3JkU3lzLHA9dGhpcy5fc3ltYm9sRHJhdyxkPXRoaXMuX3BvbHlsaW5lLGY9dGhpcy5fcG9seWdvbixnPXRoaXMuX2xpbmVHcm91cCx5PXQuZ2V0KCJhbmltYXRpb24iKSx2PSFsLmlzRW1wdHkoKSxtPWwuZ2V0KCJvcmlnaW4iKSx4PXF3KHIsYSxtKSxfPXYmJmZ1bmN0aW9uKHQsZSxuKXtpZighbi52YWx1ZURpbSlyZXR1cm5bXTtmb3IodmFyIGk9ZS5jb3VudCgpLHI9YngoMippKSxvPTA7bzxpO28rKyl7dmFyIGE9S3cobix0LGUsbyk7clsyKm9dPWFbMF0sclsyKm8rMV09YVsxXX1yZXR1cm4gcn0ocixhLHgpLGI9dC5nZXQoInNob3dTeW1ib2wiKSx3PXQuZ2V0KCJjb25uZWN0TnVsbHMiKSxTPWImJiFoJiZnUyh0LGEsciksTT10aGlzLl9kYXRhO00mJk0uZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKHQsZSl7dC5fX3RlbXAmJihvLnJlbW92ZSh0KSxNLnNldEl0ZW1HcmFwaGljRWwoZSxudWxsKSl9KSksYnx8cC5yZW1vdmUoKSxvLmFkZChnKTt2YXIgSSxUPSFoJiZ0LmdldCgic3RlcCIpO3ImJnIuZ2V0QXJlYSYmdC5nZXQoImNsaXAiLCEwKSYmKG51bGwhPShJPXIuZ2V0QXJlYSgpKS53aWR0aD8oSS54LT0uMSxJLnktPS4xLEkud2lkdGgrPS4yLEkuaGVpZ2h0Kz0uMik6SS5yMCYmKEkucjAtPS41LEkucis9LjUpKSx0aGlzLl9jbGlwU2hhcGVGb3JTeW1ib2w9STt2YXIgQz1mUyhhLHIsbil8fGEuZ2V0VmlzdWFsKCJzdHlsZSIpW2EuZ2V0VmlzdWFsKCJkcmF3VHlwZSIpXTtpZihkJiZjLnR5cGU9PT1yLnR5cGUmJlQ9PT10aGlzLl9zdGVwKXt2JiYhZj9mPXRoaXMuX25ld1BvbHlnb24odSxfKTpmJiYhdiYmKGcucmVtb3ZlKGYpLGY9dGhpcy5fcG9seWdvbj1udWxsKSxofHx0aGlzLl9pbml0T3JVcGRhdGVFbmRMYWJlbCh0LHIscHAoQykpO3ZhciBEPWcuZ2V0Q2xpcFBhdGgoKTtpZihEKW9oKEQse3NoYXBlOm1TKHRoaXMsciwhMSx0KS5zaGFwZX0sdCk7ZWxzZSBnLnNldENsaXBQYXRoKG1TKHRoaXMsciwhMCx0KSk7YiYmcC51cGRhdGVEYXRhKGEse2lzSWdub3JlOlMsY2xpcFNoYXBlOkksZGlzYWJsZUFuaW1hdGlvbjohMCxnZXRTeW1ib2xQb2ludDpmdW5jdGlvbih0KXtyZXR1cm5bdVsyKnRdLHVbMip0KzFdXX19KSx1Uyh0aGlzLl9zdGFja2VkT25Qb2ludHMsXykmJnVTKHRoaXMuX3BvaW50cyx1KXx8KHk/dGhpcy5fZG9VcGRhdGVBbmltYXRpb24oYSxfLHIsbixULG0sdyk6KFQmJih1PWRTKHUscixULHcpLF8mJihfPWRTKF8scixULHcpKSksZC5zZXRTaGFwZSh7cG9pbnRzOnV9KSxmJiZmLnNldFNoYXBlKHtwb2ludHM6dSxzdGFja2VkT25Qb2ludHM6X30pKSl9ZWxzZSBiJiZwLnVwZGF0ZURhdGEoYSx7aXNJZ25vcmU6UyxjbGlwU2hhcGU6SSxkaXNhYmxlQW5pbWF0aW9uOiEwLGdldFN5bWJvbFBvaW50OmZ1bmN0aW9uKHQpe3JldHVyblt1WzIqdF0sdVsyKnQrMV1dfX0pLHkmJnRoaXMuX2luaXRTeW1ib2xMYWJlbEFuaW1hdGlvbihhLHIsSSksVCYmKHU9ZFModSxyLFQsdyksXyYmKF89ZFMoXyxyLFQsdykpKSxkPXRoaXMuX25ld1BvbHlsaW5lKHUpLHYmJihmPXRoaXMuX25ld1BvbHlnb24odSxfKSksaHx8dGhpcy5faW5pdE9yVXBkYXRlRW5kTGFiZWwodCxyLHBwKEMpKSxnLnNldENsaXBQYXRoKG1TKHRoaXMsciwhMCx0KSk7dmFyIEE9dC5nZXRNb2RlbCgiZW1waGFzaXMiKSxMPUEuZ2V0KCJmb2N1cyIpLFA9QS5nZXQoImJsdXJTY29wZSIpLE89QS5nZXQoImRpc2FibGVkIik7KGQudXNlU3R5bGUoayhzLmdldExpbmVTdHlsZSgpLHtmaWxsOiJub25lIixzdHJva2U6QyxsaW5lSm9pbjoiYmV2ZWwifSkpLFZsKGQsdCwibGluZVN0eWxlIiksZC5zdHlsZS5saW5lV2lkdGg+MCYmImJvbGRlciI9PT10LmdldChbImVtcGhhc2lzIiwibGluZVN0eWxlIiwid2lkdGgiXSkpJiYoZC5nZXRTdGF0ZSgiZW1waGFzaXMiKS5zdHlsZS5saW5lV2lkdGg9K2Quc3R5bGUubGluZVdpZHRoKzEpO0hzKGQpLnNlcmllc0luZGV4PXQuc2VyaWVzSW5kZXgsUmwoZCxMLFAsTyk7dmFyIFI9cFModC5nZXQoInNtb290aCIpKSxOPXQuZ2V0KCJzbW9vdGhNb25vdG9uZSIpO2lmKGQuc2V0U2hhcGUoe3Ntb290aDpSLHNtb290aE1vbm90b25lOk4sY29ubmVjdE51bGxzOnd9KSxmKXt2YXIgRT1hLmdldENhbGN1bGF0aW9uSW5mbygic3RhY2tlZE9uU2VyaWVzIiksej0wO2YudXNlU3R5bGUoayhsLmdldEFyZWFTdHlsZSgpLHtmaWxsOkMsb3BhY2l0eTouNyxsaW5lSm9pbjoiYmV2ZWwiLGRlY2FsOmEuZ2V0VmlzdWFsKCJzdHlsZSIpLmRlY2FsfSkpLEUmJih6PXBTKEUuZ2V0KCJzbW9vdGgiKSkpLGYuc2V0U2hhcGUoe3Ntb290aDpSLHN0YWNrZWRPblNtb290aDp6LHNtb290aE1vbm90b25lOk4sY29ubmVjdE51bGxzOnd9KSxWbChmLHQsImFyZWFTdHlsZSIpLEhzKGYpLnNlcmllc0luZGV4PXQuc2VyaWVzSW5kZXgsUmwoZixMLFAsTyl9dmFyIFY9ZnVuY3Rpb24odCl7aS5fY2hhbmdlUG9seVN0YXRlKHQpfTthLmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbih0KXt0JiYodC5vbkhvdmVyU3RhdGVDaGFuZ2U9Vil9KSksdGhpcy5fcG9seWxpbmUub25Ib3ZlclN0YXRlQ2hhbmdlPVYsdGhpcy5fZGF0YT1hLHRoaXMuX2Nvb3JkU3lzPXIsdGhpcy5fc3RhY2tlZE9uUG9pbnRzPV8sdGhpcy5fcG9pbnRzPXUsdGhpcy5fc3RlcD1ULHRoaXMuX3ZhbHVlT3JpZ2luPW0sdC5nZXQoInRyaWdnZXJMaW5lRXZlbnQiKSYmKHRoaXMucGFja0V2ZW50RGF0YSh0LGQpLGYmJnRoaXMucGFja0V2ZW50RGF0YSh0LGYpKX0sZS5wcm90b3R5cGUucGFja0V2ZW50RGF0YT1mdW5jdGlvbih0LGUpe0hzKGUpLmV2ZW50RGF0YT17Y29tcG9uZW50VHlwZToic2VyaWVzIixjb21wb25lbnRTdWJUeXBlOiJsaW5lIixjb21wb25lbnRJbmRleDp0LmNvbXBvbmVudEluZGV4LHNlcmllc0luZGV4OnQuc2VyaWVzSW5kZXgsc2VyaWVzTmFtZTp0Lm5hbWUsc2VyaWVzVHlwZToibGluZSJ9fSxlLnByb3RvdHlwZS5oaWdobGlnaHQ9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dC5nZXREYXRhKCksbz13byhyLGkpO2lmKHRoaXMuX2NoYW5nZVBvbHlTdGF0ZSgiZW1waGFzaXMiKSwhKG8gaW5zdGFuY2VvZiBBcnJheSkmJm51bGwhPW8mJm8+PTApe3ZhciBhPXIuZ2V0TGF5b3V0KCJwb2ludHMiKSxzPXIuZ2V0SXRlbUdyYXBoaWNFbChvKTtpZighcyl7dmFyIGw9YVsyKm9dLHU9YVsyKm8rMV07aWYoaXNOYU4obCl8fGlzTmFOKHUpKXJldHVybjtpZih0aGlzLl9jbGlwU2hhcGVGb3JTeW1ib2wmJiF0aGlzLl9jbGlwU2hhcGVGb3JTeW1ib2wuY29udGFpbihsLHUpKXJldHVybjt2YXIgaD10LmdldCgiemxldmVsIiksYz10LmdldCgieiIpOyhzPW5ldyBIdyhyLG8pKS54PWwscy55PXUscy5zZXRaKGgsYyk7dmFyIHA9cy5nZXRTeW1ib2xQYXRoKCkuZ2V0VGV4dENvbnRlbnQoKTtwJiYocC56bGV2ZWw9aCxwLno9YyxwLnoyPXRoaXMuX3BvbHlsaW5lLnoyKzEpLHMuX190ZW1wPSEwLHIuc2V0SXRlbUdyYXBoaWNFbChvLHMpLHMuc3RvcFN5bWJvbEFuaW1hdGlvbighMCksdGhpcy5ncm91cC5hZGQocyl9cy5oaWdobGlnaHQoKX1lbHNlIHhnLnByb3RvdHlwZS5oaWdobGlnaHQuY2FsbCh0aGlzLHQsZSxuLGkpfSxlLnByb3RvdHlwZS5kb3ducGxheT1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmdldERhdGEoKSxvPXdvKHIsaSk7aWYodGhpcy5fY2hhbmdlUG9seVN0YXRlKCJub3JtYWwiKSxudWxsIT1vJiZvPj0wKXt2YXIgYT1yLmdldEl0ZW1HcmFwaGljRWwobyk7YSYmKGEuX190ZW1wPyhyLnNldEl0ZW1HcmFwaGljRWwobyxudWxsKSx0aGlzLmdyb3VwLnJlbW92ZShhKSk6YS5kb3ducGxheSgpKX1lbHNlIHhnLnByb3RvdHlwZS5kb3ducGxheS5jYWxsKHRoaXMsdCxlLG4saSl9LGUucHJvdG90eXBlLl9jaGFuZ2VQb2x5U3RhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcG9seWdvbjtnbCh0aGlzLl9wb2x5bGluZSx0KSxlJiZnbChlLHQpfSxlLnByb3RvdHlwZS5fbmV3UG9seWxpbmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcG9seWxpbmU7cmV0dXJuIGUmJnRoaXMuX2xpbmVHcm91cC5yZW1vdmUoZSksZT1uZXcgblMoe3NoYXBlOntwb2ludHM6dH0sc2VnbWVudElnbm9yZVRocmVzaG9sZDoyLHoyOjEwfSksdGhpcy5fbGluZUdyb3VwLmFkZChlKSx0aGlzLl9wb2x5bGluZT1lLGV9LGUucHJvdG90eXBlLl9uZXdQb2x5Z29uPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fcG9seWdvbjtyZXR1cm4gbiYmdGhpcy5fbGluZUdyb3VwLnJlbW92ZShuKSxuPW5ldyByUyh7c2hhcGU6e3BvaW50czp0LHN0YWNrZWRPblBvaW50czplfSxzZWdtZW50SWdub3JlVGhyZXNob2xkOjJ9KSx0aGlzLl9saW5lR3JvdXAuYWRkKG4pLHRoaXMuX3BvbHlnb249bixufSxlLnByb3RvdHlwZS5faW5pdFN5bWJvbExhYmVsQW5pbWF0aW9uPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyLG89ZS5nZXRCYXNlQXhpcygpLGE9by5pbnZlcnNlOyJjYXJ0ZXNpYW4yZCI9PT1lLnR5cGU/KGk9by5pc0hvcml6b250YWwoKSxyPSExKToicG9sYXIiPT09ZS50eXBlJiYoaT0iYW5nbGUiPT09by5kaW0scj0hMCk7dmFyIHM9dC5ob3N0TW9kZWwsbD1zLmdldCgiYW5pbWF0aW9uRHVyYXRpb24iKTtVKGwpJiYobD1sKG51bGwpKTt2YXIgdT1zLmdldCgiYW5pbWF0aW9uRGVsYXkiKXx8MCxoPVUodSk/dShudWxsKTp1O3QuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKHQsbyl7dmFyIHM9dDtpZihzKXt2YXIgYz1bdC54LHQueV0scD12b2lkIDAsZD12b2lkIDAsZj12b2lkIDA7aWYobilpZihyKXt2YXIgZz1uLHk9ZS5wb2ludFRvQ29vcmQoYyk7aT8ocD1nLnN0YXJ0QW5nbGUsZD1nLmVuZEFuZ2xlLGY9LXlbMV0vMTgwKk1hdGguUEkpOihwPWcucjAsZD1nLnIsZj15WzBdKX1lbHNle3ZhciB2PW47aT8ocD12LngsZD12Lngrdi53aWR0aCxmPXQueCk6KHA9di55K3YuaGVpZ2h0LGQ9di55LGY9dC55KX12YXIgbT1kPT09cD8wOihmLXApLyhkLXApO2EmJihtPTEtbSk7dmFyIHg9VSh1KT91KG8pOmwqbStoLF89cy5nZXRTeW1ib2xQYXRoKCksYj1fLmdldFRleHRDb250ZW50KCk7cy5hdHRyKHtzY2FsZVg6MCxzY2FsZVk6MH0pLHMuYW5pbWF0ZVRvKHtzY2FsZVg6MSxzY2FsZVk6MX0se2R1cmF0aW9uOjIwMCxzZXRUb0ZpbmFsOiEwLGRlbGF5Onh9KSxiJiZiLmFuaW1hdGVGcm9tKHtzdHlsZTp7b3BhY2l0eTowfX0se2R1cmF0aW9uOjMwMCxkZWxheTp4fSksXy5kaXNhYmxlTGFiZWxBbmltYXRpb249ITB9fSkpfSxlLnByb3RvdHlwZS5faW5pdE9yVXBkYXRlRW5kTGFiZWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0TW9kZWwoImVuZExhYmVsIik7aWYodlModCkpe3ZhciByPXQuZ2V0RGF0YSgpLG89dGhpcy5fcG9seWxpbmUsYT1yLmdldExheW91dCgicG9pbnRzIik7aWYoIWEpcmV0dXJuIG8ucmVtb3ZlVGV4dENvbnRlbnQoKSx2b2lkKHRoaXMuX2VuZExhYmVsPW51bGwpO3ZhciBzPXRoaXMuX2VuZExhYmVsO3N8fCgocz10aGlzLl9lbmRMYWJlbD1uZXcga3Moe3oyOjIwMH0pKS5pZ25vcmVDbGlwPSEwLG8uc2V0VGV4dENvbnRlbnQodGhpcy5fZW5kTGFiZWwpLG8uZGlzYWJsZUxhYmVsQW5pbWF0aW9uPSEwKTt2YXIgbD1mdW5jdGlvbih0KXtmb3IodmFyIGUsbixpPXQubGVuZ3RoLzI7aT4wJiYoZT10WzIqaS0yXSxuPXRbMippLTFdLGlzTmFOKGUpfHxpc05hTihuKSk7aS0tKTtyZXR1cm4gaS0xfShhKTtsPj0wJiYoSGgobyxZaCh0LCJlbmRMYWJlbCIpLHtpbmhlcml0Q29sb3I6bixsYWJlbEZldGNoZXI6dCxsYWJlbERhdGFJbmRleDpsLGRlZmF1bHRUZXh0OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbnVsbCE9bj9XdyhyLG4pOkd3KHIsdCl9LGVuYWJsZVRleHRTZXR0ZXI6ITB9LGZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5nZXRCYXNlQXhpcygpLGk9bi5pc0hvcml6b250YWwoKSxyPW4uaW52ZXJzZSxvPWk/cj8icmlnaHQiOiJsZWZ0IjoiY2VudGVyIixhPWk/Im1pZGRsZSI6cj8idG9wIjoiYm90dG9tIjtyZXR1cm57bm9ybWFsOnthbGlnbjp0LmdldCgiYWxpZ24iKXx8byx2ZXJ0aWNhbEFsaWduOnQuZ2V0KCJ2ZXJ0aWNhbEFsaWduIil8fGF9fX0oaSxlKSksby50ZXh0Q29uZmlnLnBvc2l0aW9uPW51bGwpfWVsc2UgdGhpcy5fZW5kTGFiZWwmJih0aGlzLl9wb2x5bGluZS5yZW1vdmVUZXh0Q29udGVudCgpLHRoaXMuX2VuZExhYmVsPW51bGwpfSxlLnByb3RvdHlwZS5fZW5kTGFiZWxPbkR1cmluZz1mdW5jdGlvbih0LGUsbixpLHIsbyxhKXt2YXIgcz10aGlzLl9lbmRMYWJlbCxsPXRoaXMuX3BvbHlsaW5lO2lmKHMpe3Q8MSYmbnVsbD09aS5vcmlnaW5hbFgmJihpLm9yaWdpbmFsWD1zLngsaS5vcmlnaW5hbFk9cy55KTt2YXIgdT1uLmdldExheW91dCgicG9pbnRzIiksaD1uLmhvc3RNb2RlbCxjPWguZ2V0KCJjb25uZWN0TnVsbHMiKSxwPW8uZ2V0KCJwcmVjaXNpb24iKSxkPW8uZ2V0KCJkaXN0YW5jZSIpfHwwLGY9YS5nZXRCYXNlQXhpcygpLGc9Zi5pc0hvcml6b250YWwoKSx5PWYuaW52ZXJzZSx2PWUuc2hhcGUsbT15P2c/di54OnYueSt2LmhlaWdodDpnP3YueCt2LndpZHRoOnYueSx4PShnP2Q6MCkqKHk/LTE6MSksXz0oZz8wOi1kKSooeT8tMToxKSxiPWc/IngiOiJ5Iix3PWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGkscixvPXQubGVuZ3RoLzIsYT0ieCI9PT1uPzA6MSxzPTAsbD0tMSx1PTA7dTxvO3UrKylpZihyPXRbMip1K2FdLCFpc05hTihyKSYmIWlzTmFOKHRbMip1KzEtYV0pKWlmKDAhPT11KXtpZihpPD1lJiZyPj1lfHxpPj1lJiZyPD1lKXtsPXU7YnJlYWt9cz11LGk9cn1lbHNlIGk9cjtyZXR1cm57cmFuZ2U6W3MsbF0sdDooZS1pKS8oci1pKX19KHUsbSxiKSxTPXcucmFuZ2UsTT1TWzFdLVNbMF0sST12b2lkIDA7aWYoTT49MSl7aWYoTT4xJiYhYyl7dmFyIFQ9eVModSxTWzBdKTtzLmF0dHIoe3g6VFswXSt4LHk6VFsxXStffSksciYmKEk9aC5nZXRSYXdWYWx1ZShTWzBdKSl9ZWxzZXsoVD1sLmdldFBvaW50T24obSxiKSkmJnMuYXR0cih7eDpUWzBdK3gseTpUWzFdK199KTt2YXIgQz1oLmdldFJhd1ZhbHVlKFNbMF0pLEQ9aC5nZXRSYXdWYWx1ZShTWzFdKTtyJiYoST1QbyhuLHAsQyxELHcudCkpfWkubGFzdEZyYW1lSW5kZXg9U1swXX1lbHNle3ZhciBBPTE9PT10fHxpLmxhc3RGcmFtZUluZGV4PjA/U1swXTowO1Q9eVModSxBKTtyJiYoST1oLmdldFJhd1ZhbHVlKEEpKSxzLmF0dHIoe3g6VFswXSt4LHk6VFsxXStffSl9ciYmSmgocykuc2V0TGFiZWxUZXh0KEkpfX0sZS5wcm90b3R5cGUuX2RvVXBkYXRlQW5pbWF0aW9uPWZ1bmN0aW9uKHQsZSxuLGkscixvLGEpe3ZhciBzPXRoaXMuX3BvbHlsaW5lLGw9dGhpcy5fcG9seWdvbix1PXQuaG9zdE1vZGVsLGg9ZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzKXtmb3IodmFyIGw9ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtyZXR1cm4gZS5kaWZmKHQpLmFkZCgoZnVuY3Rpb24odCl7bi5wdXNoKHtjbWQ6IisiLGlkeDp0fSl9KSkudXBkYXRlKChmdW5jdGlvbih0LGUpe24ucHVzaCh7Y21kOiI9IixpZHg6ZSxpZHgxOnR9KX0pKS5yZW1vdmUoKGZ1bmN0aW9uKHQpe24ucHVzaCh7Y21kOiItIixpZHg6dH0pfSkpLmV4ZWN1dGUoKSxufSh0LGUpLHU9W10saD1bXSxjPVtdLHA9W10sZD1bXSxmPVtdLGc9W10seT1xdyhyLGUsYSksdj10LmdldExheW91dCgicG9pbnRzIil8fFtdLG09ZS5nZXRMYXlvdXQoInBvaW50cyIpfHxbXSx4PTA7eDxsLmxlbmd0aDt4Kyspe3ZhciBfPWxbeF0sYj0hMCx3PXZvaWQgMCxTPXZvaWQgMDtzd2l0Y2goXy5jbWQpe2Nhc2UiPSI6dz0yKl8uaWR4LFM9MipfLmlkeDE7dmFyIE09dlt3XSxJPXZbdysxXSxUPW1bU10sQz1tW1MrMV07KGlzTmFOKE0pfHxpc05hTihJKSkmJihNPVQsST1DKSx1LnB1c2goTSxJKSxoLnB1c2goVCxDKSxjLnB1c2goblt3XSxuW3crMV0pLHAucHVzaChpW1NdLGlbUysxXSksZy5wdXNoKGUuZ2V0UmF3SW5kZXgoXy5pZHgxKSk7YnJlYWs7Y2FzZSIrIjp2YXIgRD1fLmlkeCxBPXkuZGF0YURpbXNGb3JQb2ludCxrPXIuZGF0YVRvUG9pbnQoW2UuZ2V0KEFbMF0sRCksZS5nZXQoQVsxXSxEKV0pO1M9MipELHUucHVzaChrWzBdLGtbMV0pLGgucHVzaChtW1NdLG1bUysxXSk7dmFyIEw9S3coeSxyLGUsRCk7Yy5wdXNoKExbMF0sTFsxXSkscC5wdXNoKGlbU10saVtTKzFdKSxnLnB1c2goZS5nZXRSYXdJbmRleChEKSk7YnJlYWs7Y2FzZSItIjpiPSExfWImJihkLnB1c2goXyksZi5wdXNoKGYubGVuZ3RoKSl9Zi5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBnW3RdLWdbZV19KSk7dmFyIFA9dS5sZW5ndGgsTz1ieChQKSxSPWJ4KFApLE49YngoUCksRT1ieChQKSx6PVtdO2Zvcih4PTA7eDxmLmxlbmd0aDt4Kyspe3ZhciBWPWZbeF0sQj0yKngsRj0yKlY7T1tCXT11W0ZdLE9bQisxXT11W0YrMV0sUltCXT1oW0ZdLFJbQisxXT1oW0YrMV0sTltCXT1jW0ZdLE5bQisxXT1jW0YrMV0sRVtCXT1wW0ZdLEVbQisxXT1wW0YrMV0selt4XT1kW1ZdfXJldHVybntjdXJyZW50Ok8sbmV4dDpSLHN0YWNrZWRPbkN1cnJlbnQ6TixzdGFja2VkT25OZXh0OkUsc3RhdHVzOnp9fSh0aGlzLl9kYXRhLHQsdGhpcy5fc3RhY2tlZE9uUG9pbnRzLGUsdGhpcy5fY29vcmRTeXMsMCx0aGlzLl92YWx1ZU9yaWdpbiksYz1oLmN1cnJlbnQscD1oLnN0YWNrZWRPbkN1cnJlbnQsZD1oLm5leHQsZj1oLnN0YWNrZWRPbk5leHQ7aWYociYmKGM9ZFMoaC5jdXJyZW50LG4scixhKSxwPWRTKGguc3RhY2tlZE9uQ3VycmVudCxuLHIsYSksZD1kUyhoLm5leHQsbixyLGEpLGY9ZFMoaC5zdGFja2VkT25OZXh0LG4scixhKSksY1MoYyxkKT4zZTN8fGwmJmNTKHAsZik+M2UzKXJldHVybiBzLnN0b3BBbmltYXRpb24oKSxzLnNldFNoYXBlKHtwb2ludHM6ZH0pLHZvaWQobCYmKGwuc3RvcEFuaW1hdGlvbigpLGwuc2V0U2hhcGUoe3BvaW50czpkLHN0YWNrZWRPblBvaW50czpmfSkpKTtzLnNoYXBlLl9fcG9pbnRzPWguY3VycmVudCxzLnNoYXBlLnBvaW50cz1jO3ZhciBnPXtzaGFwZTp7cG9pbnRzOmR9fTtoLmN1cnJlbnQhPT1jJiYoZy5zaGFwZS5fX3BvaW50cz1oLm5leHQpLHMuc3RvcEFuaW1hdGlvbigpLHJoKHMsZyx1KSxsJiYobC5zZXRTaGFwZSh7cG9pbnRzOmMsc3RhY2tlZE9uUG9pbnRzOnB9KSxsLnN0b3BBbmltYXRpb24oKSxyaChsLHtzaGFwZTp7c3RhY2tlZE9uUG9pbnRzOmZ9fSx1KSxzLnNoYXBlLnBvaW50cyE9PWwuc2hhcGUucG9pbnRzJiYobC5zaGFwZS5wb2ludHM9cy5zaGFwZS5wb2ludHMpKTtmb3IodmFyIHk9W10sdj1oLnN0YXR1cyxtPTA7bTx2Lmxlbmd0aDttKyspe2lmKCI9Ij09PXZbbV0uY21kKXt2YXIgeD10LmdldEl0ZW1HcmFwaGljRWwodlttXS5pZHgxKTt4JiZ5LnB1c2goe2VsOngscHRJZHg6bX0pfX1zLmFuaW1hdG9ycyYmcy5hbmltYXRvcnMubGVuZ3RoJiZzLmFuaW1hdG9yc1swXS5kdXJpbmcoKGZ1bmN0aW9uKCl7bCYmbC5kaXJ0eVNoYXBlKCk7Zm9yKHZhciB0PXMuc2hhcGUuX19wb2ludHMsZT0wO2U8eS5sZW5ndGg7ZSsrKXt2YXIgbj15W2VdLmVsLGk9Mip5W2VdLnB0SWR4O24ueD10W2ldLG4ueT10W2krMV0sbi5tYXJrUmVkcmF3KCl9fSkpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ncm91cCxuPXRoaXMuX2RhdGE7dGhpcy5fbGluZUdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX3N5bWJvbERyYXcucmVtb3ZlKCEwKSxuJiZuLmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbih0LGkpe3QuX190ZW1wJiYoZS5yZW1vdmUodCksbi5zZXRJdGVtR3JhcGhpY0VsKGksbnVsbCkpfSkpLHRoaXMuX3BvbHlsaW5lPXRoaXMuX3BvbHlnb249dGhpcy5fY29vcmRTeXM9dGhpcy5fcG9pbnRzPXRoaXMuX3N0YWNrZWRPblBvaW50cz10aGlzLl9lbmRMYWJlbD10aGlzLl9kYXRhPW51bGx9LGUudHlwZT0ibGluZSIsZX0oeGcpO2Z1bmN0aW9uIF9TKHQsZSl7cmV0dXJue3Nlcmllc1R5cGU6dCxwbGFuOnlnKCkscmVzZXQ6ZnVuY3Rpb24odCl7dmFyIG49dC5nZXREYXRhKCksaT10LmNvb3JkaW5hdGVTeXN0ZW0scj10LnBpcGVsaW5lQ29udGV4dCxvPWV8fHIubGFyZ2U7aWYoaSl7dmFyIGE9eihpLmRpbWVuc2lvbnMsKGZ1bmN0aW9uKHQpe3JldHVybiBuLm1hcERpbWVuc2lvbih0KX0pKS5zbGljZSgwLDIpLHM9YS5sZW5ndGgsbD1uLmdldENhbGN1bGF0aW9uSW5mbygic3RhY2tSZXN1bHREaW1lbnNpb24iKTtleChuLGFbMF0pJiYoYVswXT1sKSxleChuLGFbMV0pJiYoYVsxXT1sKTt2YXIgdT1uLmdldFN0b3JlKCksaD1uLmdldERpbWVuc2lvbkluZGV4KGFbMF0pLGM9bi5nZXREaW1lbnNpb25JbmRleChhWzFdKTtyZXR1cm4gcyYme3Byb2dyZXNzOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQuZW5kLXQuc3RhcnQscj1vJiZieChuKnMpLGE9W10sbD1bXSxwPXQuc3RhcnQsZD0wO3A8dC5lbmQ7cCsrKXt2YXIgZj12b2lkIDA7aWYoMT09PXMpe3ZhciBnPXUuZ2V0KGgscCk7Zj1pLmRhdGFUb1BvaW50KGcsbnVsbCxsKX1lbHNlIGFbMF09dS5nZXQoaCxwKSxhWzFdPXUuZ2V0KGMscCksZj1pLmRhdGFUb1BvaW50KGEsbnVsbCxsKTtvPyhyW2QrK109ZlswXSxyW2QrK109ZlsxXSk6ZS5zZXRJdGVtTGF5b3V0KHAsZi5zbGljZSgpKX1vJiZlLnNldExheW91dCgicG9pbnRzIixyKX19fX19fXZhciBiUz17YXZlcmFnZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPTAsaT0wO2k8dC5sZW5ndGg7aSsrKWlzTmFOKHRbaV0pfHwoZSs9dFtpXSxuKyspO3JldHVybiAwPT09bj9OYU46ZS9ufSxzdW06ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj0wO248dC5sZW5ndGg7bisrKWUrPXRbbl18fDA7cmV0dXJuIGV9LG1heDpmdW5jdGlvbih0KXtmb3IodmFyIGU9LTEvMCxuPTA7bjx0Lmxlbmd0aDtuKyspdFtuXT5lJiYoZT10W25dKTtyZXR1cm4gaXNGaW5pdGUoZSk/ZTpOYU59LG1pbjpmdW5jdGlvbih0KXtmb3IodmFyIGU9MS8wLG49MDtuPHQubGVuZ3RoO24rKyl0W25dPGUmJihlPXRbbl0pO3JldHVybiBpc0Zpbml0ZShlKT9lOk5hTn0sbmVhcmVzdDpmdW5jdGlvbih0KXtyZXR1cm4gdFswXX19LHdTPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnJvdW5kKHQubGVuZ3RoLzIpfTtmdW5jdGlvbiBTUyh0KXtyZXR1cm57c2VyaWVzVHlwZTp0LHJlc2V0OmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldERhdGEoKSxyPXQuZ2V0KCJzYW1wbGluZyIpLG89dC5jb29yZGluYXRlU3lzdGVtLGE9aS5jb3VudCgpO2lmKGE+MTAmJiJjYXJ0ZXNpYW4yZCI9PT1vLnR5cGUmJnIpe3ZhciBzPW8uZ2V0QmFzZUF4aXMoKSxsPW8uZ2V0T3RoZXJBeGlzKHMpLHU9cy5nZXRFeHRlbnQoKSxoPW4uZ2V0RGV2aWNlUGl4ZWxSYXRpbygpLGM9TWF0aC5hYnModVsxXS11WzBdKSooaHx8MSkscD1NYXRoLnJvdW5kKGEvYyk7aWYoaXNGaW5pdGUocCkmJnA+MSl7Imx0dGIiPT09ciYmdC5zZXREYXRhKGkubHR0YkRvd25TYW1wbGUoaS5tYXBEaW1lbnNpb24obC5kaW0pLDEvcCkpO3ZhciBkPXZvaWQgMDtYKHIpP2Q9YlNbcl06VShyKSYmKGQ9ciksZCYmdC5zZXREYXRhKGkuZG93blNhbXBsZShpLm1hcERpbWVuc2lvbihsLmRpbSksMS9wLGQsd1MpKX19fX19dmFyIE1TPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGl4KG51bGwsdGhpcyx7dXNlRW5jb2RlRGVmYXVsdGVyOiEwfSl9LGUucHJvdG90eXBlLmdldE1hcmtlclBvc2l0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29vcmRpbmF0ZVN5c3RlbTtpZihlJiZlLmNsYW1wRGF0YSl7dmFyIG49ZS5kYXRhVG9Qb2ludChlLmNsYW1wRGF0YSh0KSksaT10aGlzLmdldERhdGEoKSxyPWkuZ2V0TGF5b3V0KCJvZmZzZXQiKSxvPWkuZ2V0TGF5b3V0KCJzaXplIik7cmV0dXJuIG5bZS5nZXRCYXNlQXhpcygpLmlzSG9yaXpvbnRhbCgpPzA6MV0rPXIrby8yLG59cmV0dXJuW05hTixOYU5dfSxlLnR5cGU9InNlcmllcy5fX2Jhc2VfYmFyX18iLGUuZGVmYXVsdE9wdGlvbj17ejoyLGNvb3JkaW5hdGVTeXN0ZW06ImNhcnRlc2lhbjJkIixsZWdlbmRIb3Zlckxpbms6ITAsYmFyTWluSGVpZ2h0OjAsYmFyTWluQW5nbGU6MCxsYXJnZTohMSxsYXJnZVRocmVzaG9sZDo0MDAscHJvZ3Jlc3NpdmU6M2UzLHByb2dyZXNzaXZlQ2h1bmtNb2RlOiJtb2QifSxlfShzZyk7c2cucmVnaXN0ZXJDbGFzcyhNUyk7dmFyIElTPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIGl4KG51bGwsdGhpcyx7dXNlRW5jb2RlRGVmYXVsdGVyOiEwLGNyZWF0ZUludmVydGVkSW5kaWNlczohIXRoaXMuZ2V0KCJyZWFsdGltZVNvcnQiLCEwKXx8bnVsbH0pfSxlLnByb3RvdHlwZS5nZXRQcm9ncmVzc2l2ZT1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5nZXQoImxhcmdlIikmJnRoaXMuZ2V0KCJwcm9ncmVzc2l2ZSIpfSxlLnByb3RvdHlwZS5nZXRQcm9ncmVzc2l2ZVRocmVzaG9sZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0KCJwcm9ncmVzc2l2ZVRocmVzaG9sZCIpLGU9dGhpcy5nZXQoImxhcmdlVGhyZXNob2xkIik7cmV0dXJuIGU+dCYmKHQ9ZSksdH0sZS5wcm90b3R5cGUuYnJ1c2hTZWxlY3Rvcj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG4ucmVjdChlLmdldEl0ZW1MYXlvdXQodCkpfSxlLnR5cGU9InNlcmllcy5iYXIiLGUuZGVwZW5kZW5jaWVzPVsiZ3JpZCIsInBvbGFyIl0sZS5kZWZhdWx0T3B0aW9uPXljKE1TLmRlZmF1bHRPcHRpb24se2NsaXA6ITAscm91bmRDYXA6ITEsc2hvd0JhY2tncm91bmQ6ITEsYmFja2dyb3VuZFN0eWxlOntjb2xvcjoicmdiYSgxODAsIDE4MCwgMTgwLCAwLjIpIixib3JkZXJDb2xvcjpudWxsLGJvcmRlcldpZHRoOjAsYm9yZGVyVHlwZToic29saWQiLGJvcmRlclJhZGl1czowLHNoYWRvd0JsdXI6MCxzaGFkb3dDb2xvcjpudWxsLHNoYWRvd09mZnNldFg6MCxzaGFkb3dPZmZzZXRZOjAsb3BhY2l0eToxfSxzZWxlY3Q6e2l0ZW1TdHlsZTp7Ym9yZGVyQ29sb3I6IiMyMTIxMjEifX0scmVhbHRpbWVTb3J0OiExfSksZX0oTVMpLFRTPWZ1bmN0aW9uKCl7dGhpcy5jeD0wLHRoaXMuY3k9MCx0aGlzLnIwPTAsdGhpcy5yPTAsdGhpcy5zdGFydEFuZ2xlPTAsdGhpcy5lbmRBbmdsZT0yKk1hdGguUEksdGhpcy5jbG9ja3dpc2U9ITB9LENTPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIG4udHlwZT0ic2F1c2FnZSIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgVFN9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuPWUuY3gsaT1lLmN5LHI9TWF0aC5tYXgoZS5yMHx8MCwwKSxvPU1hdGgubWF4KGUuciwwKSxhPS41KihvLXIpLHM9cithLGw9ZS5zdGFydEFuZ2xlLHU9ZS5lbmRBbmdsZSxoPWUuY2xvY2t3aXNlLGM9MipNYXRoLlBJLHA9aD91LWw8YzpsLXU8YztwfHwobD11LShoP2M6LWMpKTt2YXIgZD1NYXRoLmNvcyhsKSxmPU1hdGguc2luKGwpLGc9TWF0aC5jb3ModSkseT1NYXRoLnNpbih1KTtwPyh0Lm1vdmVUbyhkKnIrbixmKnIraSksdC5hcmMoZCpzK24sZipzK2ksYSwtTWF0aC5QSStsLGwsIWgpKTp0Lm1vdmVUbyhkKm8rbixmKm8raSksdC5hcmMobixpLG8sbCx1LCFoKSx0LmFyYyhnKnMrbix5KnMraSxhLHUtMipNYXRoLlBJLHUtTWF0aC5QSSwhaCksMCE9PXImJnQuYXJjKG4saSxyLHUsbCxoKX0sZX0oZ3MpO2Z1bmN0aW9uIERTKHQsZSxuKXtyZXR1cm4gZSpNYXRoLnNpbih0KSoobj8tMToxKX1mdW5jdGlvbiBBUyh0LGUsbil7cmV0dXJuIGUqTWF0aC5jb3ModCkqKG4/MTotMSl9dmFyIGtTPU1hdGgubWF4LExTPU1hdGgubWluO3ZhciBQUz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uX2lzRmlyc3RGcmFtZT0hMCxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMuX21vZGVsPXQsdGhpcy5fcmVtb3ZlT25SZW5kZXJlZExpc3RlbmVyKG4pLHRoaXMuX3VwZGF0ZURyYXdNb2RlKHQpO3ZhciByPXQuZ2V0KCJjb29yZGluYXRlU3lzdGVtIik7KCJjYXJ0ZXNpYW4yZCI9PT1yfHwicG9sYXIiPT09cikmJih0aGlzLl9wcm9ncmVzc2l2ZUVscz1udWxsLHRoaXMuX2lzTGFyZ2VEcmF3P3RoaXMuX3JlbmRlckxhcmdlKHQsZSxuKTp0aGlzLl9yZW5kZXJOb3JtYWwodCxlLG4saSkpfSxlLnByb3RvdHlwZS5pbmNyZW1lbnRhbFByZXBhcmVSZW5kZXI9ZnVuY3Rpb24odCl7dGhpcy5fY2xlYXIoKSx0aGlzLl91cGRhdGVEcmF3TW9kZSh0KSx0aGlzLl91cGRhdGVMYXJnZUNsaXAodCl9LGUucHJvdG90eXBlLmluY3JlbWVudGFsUmVuZGVyPWZ1bmN0aW9uKHQsZSl7dGhpcy5fcHJvZ3Jlc3NpdmVFbHM9W10sdGhpcy5faW5jcmVtZW50YWxSZW5kZXJMYXJnZSh0LGUpfSxlLnByb3RvdHlwZS5lYWNoUmVuZGVyZWQ9ZnVuY3Rpb24odCl7VmgodGhpcy5fcHJvZ3Jlc3NpdmVFbHN8fHRoaXMuZ3JvdXAsdCl9LGUucHJvdG90eXBlLl91cGRhdGVEcmF3TW9kZT1mdW5jdGlvbih0KXt2YXIgZT10LnBpcGVsaW5lQ29udGV4dC5sYXJnZTtudWxsIT10aGlzLl9pc0xhcmdlRHJhdyYmZT09PXRoaXMuX2lzTGFyZ2VEcmF3fHwodGhpcy5faXNMYXJnZURyYXc9ZSx0aGlzLl9jbGVhcigpKX0sZS5wcm90b3R5cGUuX3JlbmRlck5vcm1hbD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcixvPXRoaXMuZ3JvdXAsYT10LmdldERhdGEoKSxzPXRoaXMuX2RhdGEsbD10LmNvb3JkaW5hdGVTeXN0ZW0sdT1sLmdldEJhc2VBeGlzKCk7ImNhcnRlc2lhbjJkIj09PWwudHlwZT9yPXUuaXNIb3Jpem9udGFsKCk6InBvbGFyIj09PWwudHlwZSYmKHI9ImFuZ2xlIj09PXUuZGltKTt2YXIgaD10LmlzQW5pbWF0aW9uRW5hYmxlZCgpP3Q6bnVsbCxjPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXQoInJlYWx0aW1lU29ydCIsITApLGk9ZS5nZXRCYXNlQXhpcygpOzA7aWYobiYmImNhdGVnb3J5Ij09PWkudHlwZSYmImNhcnRlc2lhbjJkIj09PWUudHlwZSlyZXR1cm57YmFzZUF4aXM6aSxvdGhlckF4aXM6ZS5nZXRPdGhlckF4aXMoaSl9fSh0LGwpO2MmJnRoaXMuX2VuYWJsZVJlYWx0aW1lU29ydChjLGEsbik7dmFyIHA9dC5nZXQoImNsaXAiLCEwKXx8YyxkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRBcmVhJiZ0LmdldEFyZWEoKTtpZihsUyh0LCJjYXJ0ZXNpYW4yZCIpKXt2YXIgaT10LmdldEJhc2VBeGlzKCk7aWYoImNhdGVnb3J5IiE9PWkudHlwZXx8IWkub25CYW5kKXt2YXIgcj1lLmdldExheW91dCgiYmFuZFdpZHRoIik7aS5pc0hvcml6b250YWwoKT8obi54LT1yLG4ud2lkdGgrPTIqcik6KG4ueS09cixuLmhlaWdodCs9MipyKX19cmV0dXJuIG59KGwsYSk7by5yZW1vdmVDbGlwUGF0aCgpO3ZhciBmPXQuZ2V0KCJyb3VuZENhcCIsITApLGc9dC5nZXQoInNob3dCYWNrZ3JvdW5kIiwhMCkseT10LmdldE1vZGVsKCJiYWNrZ3JvdW5kU3R5bGUiKSx2PXkuZ2V0KCJib3JkZXJSYWRpdXMiKXx8MCxtPVtdLHg9dGhpcy5fYmFja2dyb3VuZEVscyxfPWkmJmkuaXNJbml0U29ydCxiPWkmJiJjaGFuZ2VBeGlzT3JkZXIiPT09aS50eXBlO2Z1bmN0aW9uIHcodCl7dmFyIGU9RlNbbC50eXBlXShhLHQpLG49ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcoInBvbGFyIj09PXQudHlwZT9DdTpDcykoe3NoYXBlOlpTKGUsbix0KSxzaWxlbnQ6ITAsejI6MH0pfShsLHIsZSk7cmV0dXJuIG4udXNlU3R5bGUoeS5nZXRJdGVtU3R5bGUoKSksImNhcnRlc2lhbjJkIj09PWwudHlwZSYmbi5zZXRTaGFwZSgiciIsdiksbVt0XT1uLG59YS5kaWZmKHMpLmFkZCgoZnVuY3Rpb24oZSl7dmFyIG49YS5nZXRJdGVtTW9kZWwoZSksaT1GU1tsLnR5cGVdKGEsZSxuKTtpZihnJiZ3KGUpLGEuaGFzVmFsdWUoZSkmJkJTW2wudHlwZV0oaSkpe3ZhciBzPSExO3AmJihzPU9TW2wudHlwZV0oZCxpKSk7dmFyIHk9UlNbbC50eXBlXSh0LGEsZSxpLHIsaCx1Lm1vZGVsLCExLGYpO2MmJih5LmZvcmNlTGFiZWxBbmltYXRpb249ITApLFdTKHksYSxlLG4saSx0LHIsInBvbGFyIj09PWwudHlwZSksXz95LmF0dHIoe3NoYXBlOml9KTpjP05TKGMsaCx5LGksZSxyLCExLCExKTpvaCh5LHtzaGFwZTppfSx0LGUpLGEuc2V0SXRlbUdyYXBoaWNFbChlLHkpLG8uYWRkKHkpLHkuaWdub3JlPXN9fSkpLnVwZGF0ZSgoZnVuY3Rpb24oZSxuKXt2YXIgaT1hLmdldEl0ZW1Nb2RlbChlKSxTPUZTW2wudHlwZV0oYSxlLGkpO2lmKGcpe3ZhciBNPXZvaWQgMDswPT09eC5sZW5ndGg/TT13KG4pOigoTT14W25dKS51c2VTdHlsZSh5LmdldEl0ZW1TdHlsZSgpKSwiY2FydGVzaWFuMmQiPT09bC50eXBlJiZNLnNldFNoYXBlKCJyIix2KSxtW2VdPU0pO3ZhciBJPUZTW2wudHlwZV0oYSxlKTtyaChNLHtzaGFwZTpaUyhyLEksbCl9LGgsZSl9dmFyIFQ9cy5nZXRJdGVtR3JhcGhpY0VsKG4pO2lmKGEuaGFzVmFsdWUoZSkmJkJTW2wudHlwZV0oUykpe3ZhciBDPSExO2lmKHAmJihDPU9TW2wudHlwZV0oZCxTKSkmJm8ucmVtb3ZlKFQpLFQ/aGgoVCk6VD1SU1tsLnR5cGVdKHQsYSxlLFMscixoLHUubW9kZWwsISFULGYpLGMmJihULmZvcmNlTGFiZWxBbmltYXRpb249ITApLGIpe3ZhciBEPVQuZ2V0VGV4dENvbnRlbnQoKTtpZihEKXt2YXIgQT1KaChEKTtudWxsIT1BLnByZXZWYWx1ZSYmKEEucHJldlZhbHVlPUEudmFsdWUpfX1lbHNlIFdTKFQsYSxlLGksUyx0LHIsInBvbGFyIj09PWwudHlwZSk7Xz9ULmF0dHIoe3NoYXBlOlN9KTpjP05TKGMsaCxULFMsZSxyLCEwLGIpOnJoKFQse3NoYXBlOlN9LHQsZSxudWxsKSxhLnNldEl0ZW1HcmFwaGljRWwoZSxUKSxULmlnbm9yZT1DLG8uYWRkKFQpfWVsc2Ugby5yZW1vdmUoVCl9KSkucmVtb3ZlKChmdW5jdGlvbihlKXt2YXIgbj1zLmdldEl0ZW1HcmFwaGljRWwoZSk7biYmdWgobix0LGUpfSkpLmV4ZWN1dGUoKTt2YXIgUz10aGlzLl9iYWNrZ3JvdW5kR3JvdXB8fCh0aGlzLl9iYWNrZ3JvdW5kR3JvdXA9bmV3IENyKTtTLnJlbW92ZUFsbCgpO2Zvcih2YXIgTT0wO008bS5sZW5ndGg7KytNKVMuYWRkKG1bTV0pO28uYWRkKFMpLHRoaXMuX2JhY2tncm91bmRFbHM9bSx0aGlzLl9kYXRhPWF9LGUucHJvdG90eXBlLl9yZW5kZXJMYXJnZT1mdW5jdGlvbih0LGUsbil7dGhpcy5fY2xlYXIoKSxVUyh0LHRoaXMuZ3JvdXApLHRoaXMuX3VwZGF0ZUxhcmdlQ2xpcCh0KX0sZS5wcm90b3R5cGUuX2luY3JlbWVudGFsUmVuZGVyTGFyZ2U9ZnVuY3Rpb24odCxlKXt0aGlzLl9yZW1vdmVCYWNrZ3JvdW5kKCksVVMoZSx0aGlzLmdyb3VwLHRoaXMuX3Byb2dyZXNzaXZlRWxzLCEwKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUxhcmdlQ2xpcD1mdW5jdGlvbih0KXt2YXIgZT10LmdldCgiY2xpcCIsITApJiZzUyh0LmNvb3JkaW5hdGVTeXN0ZW0sITEsdCksbj10aGlzLmdyb3VwO2U/bi5zZXRDbGlwUGF0aChlKTpuLnJlbW92ZUNsaXBQYXRoKCl9LGUucHJvdG90eXBlLl9lbmFibGVSZWFsdGltZVNvcnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXM7aWYoZS5jb3VudCgpKXt2YXIgcj10LmJhc2VBeGlzO2lmKHRoaXMuX2lzRmlyc3RGcmFtZSl0aGlzLl9kaXNwYXRjaEluaXRTb3J0KGUsdCxuKSx0aGlzLl9pc0ZpcnN0RnJhbWU9ITE7ZWxzZXt2YXIgbz1mdW5jdGlvbih0KXt2YXIgbj1lLmdldEl0ZW1HcmFwaGljRWwodCksaT1uJiZuLnNoYXBlO3JldHVybiBpJiZNYXRoLmFicyhyLmlzSG9yaXpvbnRhbCgpP2kuaGVpZ2h0Omkud2lkdGgpfHwwfTt0aGlzLl9vblJlbmRlcmVkPWZ1bmN0aW9uKCl7aS5fdXBkYXRlU29ydFdpdGhpblNhbWVEYXRhKGUsbyxyLG4pfSxuLmdldFpyKCkub24oInJlbmRlcmVkIix0aGlzLl9vblJlbmRlcmVkKX19fSxlLnByb3RvdHlwZS5fZGF0YVNvcnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPVtdO3JldHVybiB0LmVhY2godC5tYXBEaW1lbnNpb24oZS5kaW0pLChmdW5jdGlvbih0LGUpe3ZhciByPW4oZSk7cj1udWxsPT1yP05hTjpyLGkucHVzaCh7ZGF0YUluZGV4OmUsbWFwcGVkVmFsdWU6cixvcmRpbmFsTnVtYmVyOnR9KX0pKSxpLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUubWFwcGVkVmFsdWUtdC5tYXBwZWRWYWx1ZX0pKSx7b3JkaW5hbE51bWJlcnM6eihpLChmdW5jdGlvbih0KXtyZXR1cm4gdC5vcmRpbmFsTnVtYmVyfSkpfX0sZS5wcm90b3R5cGUuX2lzT3JkZXJDaGFuZ2VkV2l0aGluU2FtZURhdGE9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT1uLnNjYWxlLHI9dC5tYXBEaW1lbnNpb24obi5kaW0pLG89TnVtYmVyLk1BWF9WQUxVRSxhPTAscz1pLmdldE9yZGluYWxNZXRhKCkuY2F0ZWdvcmllcy5sZW5ndGg7YTxzOysrYSl7dmFyIGw9dC5yYXdJbmRleE9mKHIsaS5nZXRSYXdPcmRpbmFsTnVtYmVyKGEpKSx1PWw8MD9OdW1iZXIuTUlOX1ZBTFVFOmUodC5pbmRleE9mUmF3SW5kZXgobCkpO2lmKHU+bylyZXR1cm4hMDtvPXV9cmV0dXJuITF9LGUucHJvdG90eXBlLl9pc09yZGVyRGlmZmVyZW50SW5WaWV3PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWUuc2NhbGUsaT1uLmdldEV4dGVudCgpLHI9TWF0aC5tYXgoMCxpWzBdKSxvPU1hdGgubWluKGlbMV0sbi5nZXRPcmRpbmFsTWV0YSgpLmNhdGVnb3JpZXMubGVuZ3RoLTEpO3I8PW87KytyKWlmKHQub3JkaW5hbE51bWJlcnNbcl0hPT1uLmdldFJhd09yZGluYWxOdW1iZXIocikpcmV0dXJuITB9LGUucHJvdG90eXBlLl91cGRhdGVTb3J0V2l0aGluU2FtZURhdGE9ZnVuY3Rpb24odCxlLG4saSl7aWYodGhpcy5faXNPcmRlckNoYW5nZWRXaXRoaW5TYW1lRGF0YSh0LGUsbikpe3ZhciByPXRoaXMuX2RhdGFTb3J0KHQsbixlKTt0aGlzLl9pc09yZGVyRGlmZmVyZW50SW5WaWV3KHIsbikmJih0aGlzLl9yZW1vdmVPblJlbmRlcmVkTGlzdGVuZXIoaSksaS5kaXNwYXRjaEFjdGlvbih7dHlwZToiY2hhbmdlQXhpc09yZGVyIixjb21wb25lbnRUeXBlOm4uZGltKyJBeGlzIixheGlzSWQ6bi5pbmRleCxzb3J0SW5mbzpyfSkpfX0sZS5wcm90b3R5cGUuX2Rpc3BhdGNoSW5pdFNvcnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPWUuYmFzZUF4aXMscj10aGlzLl9kYXRhU29ydCh0LGksKGZ1bmN0aW9uKG4pe3JldHVybiB0LmdldCh0Lm1hcERpbWVuc2lvbihlLm90aGVyQXhpcy5kaW0pLG4pfSkpO24uZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImNoYW5nZUF4aXNPcmRlciIsY29tcG9uZW50VHlwZTppLmRpbSsiQXhpcyIsaXNJbml0U29ydDohMCxheGlzSWQ6aS5pbmRleCxzb3J0SW5mbzpyfSl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3RoaXMuX2NsZWFyKHRoaXMuX21vZGVsKSx0aGlzLl9yZW1vdmVPblJlbmRlcmVkTGlzdGVuZXIoZSl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCxlKXt0aGlzLl9yZW1vdmVPblJlbmRlcmVkTGlzdGVuZXIoZSl9LGUucHJvdG90eXBlLl9yZW1vdmVPblJlbmRlcmVkTGlzdGVuZXI9ZnVuY3Rpb24odCl7dGhpcy5fb25SZW5kZXJlZCYmKHQuZ2V0WnIoKS5vZmYoInJlbmRlcmVkIix0aGlzLl9vblJlbmRlcmVkKSx0aGlzLl9vblJlbmRlcmVkPW51bGwpfSxlLnByb3RvdHlwZS5fY2xlYXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ncm91cCxuPXRoaXMuX2RhdGE7dCYmdC5pc0FuaW1hdGlvbkVuYWJsZWQoKSYmbiYmIXRoaXMuX2lzTGFyZ2VEcmF3Pyh0aGlzLl9yZW1vdmVCYWNrZ3JvdW5kKCksdGhpcy5fYmFja2dyb3VuZEVscz1bXSxuLmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbihlKXt1aChlLHQsSHMoZSkuZGF0YUluZGV4KX0pKSk6ZS5yZW1vdmVBbGwoKSx0aGlzLl9kYXRhPW51bGwsdGhpcy5faXNGaXJzdEZyYW1lPSEwfSxlLnByb3RvdHlwZS5fcmVtb3ZlQmFja2dyb3VuZD1mdW5jdGlvbigpe3RoaXMuZ3JvdXAucmVtb3ZlKHRoaXMuX2JhY2tncm91bmRHcm91cCksdGhpcy5fYmFja2dyb3VuZEdyb3VwPW51bGx9LGUudHlwZT0iYmFyIixlfSh4ZyksT1M9e2NhcnRlc2lhbjJkOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS53aWR0aDwwPy0xOjEsaT1lLmhlaWdodDwwPy0xOjE7bjwwJiYoZS54Kz1lLndpZHRoLGUud2lkdGg9LWUud2lkdGgpLGk8MCYmKGUueSs9ZS5oZWlnaHQsZS5oZWlnaHQ9LWUuaGVpZ2h0KTt2YXIgcj10LngrdC53aWR0aCxvPXQueSt0LmhlaWdodCxhPWtTKGUueCx0LngpLHM9TFMoZS54K2Uud2lkdGgsciksbD1rUyhlLnksdC55KSx1PUxTKGUueStlLmhlaWdodCxvKSxoPXM8YSxjPXU8bDtyZXR1cm4gZS54PWgmJmE+cj9zOmEsZS55PWMmJmw+bz91OmwsZS53aWR0aD1oPzA6cy1hLGUuaGVpZ2h0PWM/MDp1LWwsbjwwJiYoZS54Kz1lLndpZHRoLGUud2lkdGg9LWUud2lkdGgpLGk8MCYmKGUueSs9ZS5oZWlnaHQsZS5oZWlnaHQ9LWUuaGVpZ2h0KSxofHxjfSxwb2xhcjpmdW5jdGlvbih0LGUpe3ZhciBuPWUucjA8PWUucj8xOi0xO2lmKG48MCl7dmFyIGk9ZS5yO2Uucj1lLnIwLGUucjA9aX12YXIgcj1MUyhlLnIsdC5yKSxvPWtTKGUucjAsdC5yMCk7ZS5yPXIsZS5yMD1vO3ZhciBhPXItbzwwO2lmKG48MCl7aT1lLnI7ZS5yPWUucjAsZS5yMD1pfXJldHVybiBhfX0sUlM9e2NhcnRlc2lhbjJkOmZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyxsKXt2YXIgdT1uZXcgQ3Moe3NoYXBlOkEoe30saSksejI6MX0pOyh1Ll9fZGF0YUluZGV4PW4sdS5uYW1lPSJpdGVtIixvKSYmKHUuc2hhcGVbcj8iaGVpZ2h0Ijoid2lkdGgiXT0wKTtyZXR1cm4gdX0scG9sYXI6ZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzLGwpe3ZhciB1PSFyJiZsP0NTOkN1LGg9bmV3IHUoe3NoYXBlOmksejI6MX0pO2gubmFtZT0iaXRlbSI7dmFyIGMscCxkPUdTKHIpO2lmKGguY2FsY3VsYXRlVGV4dFBvc2l0aW9uPShjPWQscD0oe2lzUm91bmRDYXA6dT09PUNTfXx8e30pLmlzUm91bmRDYXAsZnVuY3Rpb24odCxlLG4pe3ZhciBpPWUucG9zaXRpb247aWYoIWl8fGkgaW5zdGFuY2VvZiBBcnJheSlyZXR1cm4geXIodCxlLG4pO3ZhciByPWMoaSksbz1udWxsIT1lLmRpc3RhbmNlP2UuZGlzdGFuY2U6NSxhPXRoaXMuc2hhcGUscz1hLmN4LGw9YS5jeSx1PWEucixoPWEucjAsZD0odStoKS8yLGY9YS5zdGFydEFuZ2xlLGc9YS5lbmRBbmdsZSx5PShmK2cpLzIsdj1wP01hdGguYWJzKHUtaCkvMjowLG09TWF0aC5jb3MseD1NYXRoLnNpbixfPXMrdSptKGYpLGI9bCt1KngoZiksdz0ibGVmdCIsUz0idG9wIjtzd2l0Y2gocil7Y2FzZSJzdGFydEFyYyI6Xz1zKyhoLW8pKm0oeSksYj1sKyhoLW8pKngoeSksdz0iY2VudGVyIixTPSJ0b3AiO2JyZWFrO2Nhc2UiaW5zaWRlU3RhcnRBcmMiOl89cysoaCtvKSptKHkpLGI9bCsoaCtvKSp4KHkpLHc9ImNlbnRlciIsUz0iYm90dG9tIjticmVhaztjYXNlInN0YXJ0QW5nbGUiOl89cytkKm0oZikrRFMoZixvK3YsITEpLGI9bCtkKngoZikrQVMoZixvK3YsITEpLHc9InJpZ2h0IixTPSJtaWRkbGUiO2JyZWFrO2Nhc2UiaW5zaWRlU3RhcnRBbmdsZSI6Xz1zK2QqbShmKStEUyhmLC1vK3YsITEpLGI9bCtkKngoZikrQVMoZiwtbyt2LCExKSx3PSJsZWZ0IixTPSJtaWRkbGUiO2JyZWFrO2Nhc2UibWlkZGxlIjpfPXMrZCptKHkpLGI9bCtkKngoeSksdz0iY2VudGVyIixTPSJtaWRkbGUiO2JyZWFrO2Nhc2UiZW5kQXJjIjpfPXMrKHUrbykqbSh5KSxiPWwrKHUrbykqeCh5KSx3PSJjZW50ZXIiLFM9ImJvdHRvbSI7YnJlYWs7Y2FzZSJpbnNpZGVFbmRBcmMiOl89cysodS1vKSptKHkpLGI9bCsodS1vKSp4KHkpLHc9ImNlbnRlciIsUz0idG9wIjticmVhaztjYXNlImVuZEFuZ2xlIjpfPXMrZCptKGcpK0RTKGcsbyt2LCEwKSxiPWwrZCp4KGcpK0FTKGcsbyt2LCEwKSx3PSJsZWZ0IixTPSJtaWRkbGUiO2JyZWFrO2Nhc2UiaW5zaWRlRW5kQW5nbGUiOl89cytkKm0oZykrRFMoZywtbyt2LCEwKSxiPWwrZCp4KGcpK0FTKGcsLW8rdiwhMCksdz0icmlnaHQiLFM9Im1pZGRsZSI7YnJlYWs7ZGVmYXVsdDpyZXR1cm4geXIodCxlLG4pfXJldHVybih0PXR8fHt9KS54PV8sdC55PWIsdC5hbGlnbj13LHQudmVydGljYWxBbGlnbj1TLHR9KSxvKXt2YXIgZj1yPyJyIjoiZW5kQW5nbGUiLGc9e307aC5zaGFwZVtmXT1yPzA6aS5zdGFydEFuZ2xlLGdbZl09aVtmXSwocz9yaDpvaCkoaCx7c2hhcGU6Z30sbyl9cmV0dXJuIGh9fTtmdW5jdGlvbiBOUyh0LGUsbixpLHIsbyxhLHMpe3ZhciBsLHU7bz8odT17eDppLngsd2lkdGg6aS53aWR0aH0sbD17eTppLnksaGVpZ2h0OmkuaGVpZ2h0fSk6KHU9e3k6aS55LGhlaWdodDppLmhlaWdodH0sbD17eDppLngsd2lkdGg6aS53aWR0aH0pLHN8fChhP3JoOm9oKShuLHtzaGFwZTpsfSxlLHIsbnVsbCksKGE/cmg6b2gpKG4se3NoYXBlOnV9LGU/dC5iYXNlQXhpcy5tb2RlbDpudWxsLHIpfWZ1bmN0aW9uIEVTKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspaWYoIWlzRmluaXRlKHRbZVtuXV0pKXJldHVybiEwO3JldHVybiExfXZhciB6Uz1bIngiLCJ5Iiwid2lkdGgiLCJoZWlnaHQiXSxWUz1bImN4IiwiY3kiLCJyIiwic3RhcnRBbmdsZSIsImVuZEFuZ2xlIl0sQlM9e2NhcnRlc2lhbjJkOmZ1bmN0aW9uKHQpe3JldHVybiFFUyh0LHpTKX0scG9sYXI6ZnVuY3Rpb24odCl7cmV0dXJuIUVTKHQsVlMpfX0sRlM9e2NhcnRlc2lhbjJkOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldEl0ZW1MYXlvdXQoZSkscj1uP2Z1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXQoWyJpdGVtU3R5bGUiLCJib3JkZXJDb2xvciJdKTtpZighbnx8Im5vbmUiPT09bilyZXR1cm4gMDt2YXIgaT10LmdldChbIml0ZW1TdHlsZSIsImJvcmRlcldpZHRoIl0pfHwwLHI9aXNOYU4oZS53aWR0aCk/TnVtYmVyLk1BWF9WQUxVRTpNYXRoLmFicyhlLndpZHRoKSxvPWlzTmFOKGUuaGVpZ2h0KT9OdW1iZXIuTUFYX1ZBTFVFOk1hdGguYWJzKGUuaGVpZ2h0KTtyZXR1cm4gTWF0aC5taW4oaSxyLG8pfShuLGkpOjAsbz1pLndpZHRoPjA/MTotMSxhPWkuaGVpZ2h0PjA/MTotMTtyZXR1cm57eDppLngrbypyLzIseTppLnkrYSpyLzIsd2lkdGg6aS53aWR0aC1vKnIsaGVpZ2h0OmkuaGVpZ2h0LWEqcn19LHBvbGFyOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldEl0ZW1MYXlvdXQoZSk7cmV0dXJue2N4OmkuY3gsY3k6aS5jeSxyMDppLnIwLHI6aS5yLHN0YXJ0QW5nbGU6aS5zdGFydEFuZ2xlLGVuZEFuZ2xlOmkuZW5kQW5nbGUsY2xvY2t3aXNlOmkuY2xvY2t3aXNlfX19O2Z1bmN0aW9uIEdTKHQpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgZT10PyJBcmMiOiJBbmdsZSI7cmV0dXJuIGZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlInN0YXJ0IjpjYXNlImluc2lkZVN0YXJ0IjpjYXNlImVuZCI6Y2FzZSJpbnNpZGVFbmQiOnJldHVybiB0K2U7ZGVmYXVsdDpyZXR1cm4gdH19fSh0KX1mdW5jdGlvbiBXUyh0LGUsbixpLHIsbyxhLHMpe3ZhciBsPWUuZ2V0SXRlbVZpc3VhbChuLCJzdHlsZSIpO3N8fHQuc2V0U2hhcGUoInIiLGkuZ2V0KFsiaXRlbVN0eWxlIiwiYm9yZGVyUmFkaXVzIl0pfHwwKSx0LnVzZVN0eWxlKGwpO3ZhciB1PWkuZ2V0U2hhbGxvdygiY3Vyc29yIik7dSYmdC5hdHRyKCJjdXJzb3IiLHUpO3ZhciBoPXM/YT9yLnI+PXIucjA/ImVuZEFyYyI6InN0YXJ0QXJjIjpyLmVuZEFuZ2xlPj1yLnN0YXJ0QW5nbGU/ImVuZEFuZ2xlIjoic3RhcnRBbmdsZSI6YT9yLmhlaWdodD49MD8iYm90dG9tIjoidG9wIjpyLndpZHRoPj0wPyJyaWdodCI6ImxlZnQiLGM9WWgoaSk7SGgodCxjLHtsYWJlbEZldGNoZXI6byxsYWJlbERhdGFJbmRleDpuLGRlZmF1bHRUZXh0Okd3KG8uZ2V0RGF0YSgpLG4pLGluaGVyaXRDb2xvcjpsLmZpbGwsZGVmYXVsdE9wYWNpdHk6bC5vcGFjaXR5LGRlZmF1bHRPdXRzaWRlUG9zaXRpb246aH0pO3ZhciBwPXQuZ2V0VGV4dENvbnRlbnQoKTtpZihzJiZwKXt2YXIgZD1pLmdldChbImxhYmVsIiwicG9zaXRpb24iXSk7dC50ZXh0Q29uZmlnLmluc2lkZT0ibWlkZGxlIj09PWR8fG51bGwsZnVuY3Rpb24odCxlLG4saSl7aWYoaihpKSl0LnNldFRleHRDb25maWcoe3JvdGF0aW9uOml9KTtlbHNlIGlmKFkoZSkpdC5zZXRUZXh0Q29uZmlnKHtyb3RhdGlvbjowfSk7ZWxzZXt2YXIgcixvPXQuc2hhcGUsYT1vLmNsb2Nrd2lzZT9vLnN0YXJ0QW5nbGU6by5lbmRBbmdsZSxzPW8uY2xvY2t3aXNlP28uZW5kQW5nbGU6by5zdGFydEFuZ2xlLGw9KGErcykvMix1PW4oZSk7c3dpdGNoKHUpe2Nhc2Uic3RhcnRBcmMiOmNhc2UiaW5zaWRlU3RhcnRBcmMiOmNhc2UibWlkZGxlIjpjYXNlImluc2lkZUVuZEFyYyI6Y2FzZSJlbmRBcmMiOnI9bDticmVhaztjYXNlInN0YXJ0QW5nbGUiOmNhc2UiaW5zaWRlU3RhcnRBbmdsZSI6cj1hO2JyZWFrO2Nhc2UiZW5kQW5nbGUiOmNhc2UiaW5zaWRlRW5kQW5nbGUiOnI9czticmVhaztkZWZhdWx0OnJldHVybiB2b2lkIHQuc2V0VGV4dENvbmZpZyh7cm90YXRpb246MH0pfXZhciBoPTEuNSpNYXRoLlBJLXI7Im1pZGRsZSI9PT11JiZoPk1hdGguUEkvMiYmaDwxLjUqTWF0aC5QSSYmKGgtPU1hdGguUEkpLHQuc2V0VGV4dENvbmZpZyh7cm90YXRpb246aH0pfX0odCwib3V0c2lkZSI9PT1kP2g6ZCxHUyhhKSxpLmdldChbImxhYmVsIiwicm90YXRlIl0pKX1RaChwLGMsby5nZXRSYXdWYWx1ZShuKSwoZnVuY3Rpb24odCl7cmV0dXJuIFd3KGUsdCl9KSk7dmFyIGY9aS5nZXRNb2RlbChbImVtcGhhc2lzIl0pO1JsKHQsZi5nZXQoImZvY3VzIiksZi5nZXQoImJsdXJTY29wZSIpLGYuZ2V0KCJkaXNhYmxlZCIpKSxWbCh0LGkpLGZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10LnN0YXJ0QW5nbGUmJm51bGwhPXQuZW5kQW5nbGUmJnQuc3RhcnRBbmdsZT09PXQuZW5kQW5nbGV9KHIpJiYodC5zdHlsZS5maWxsPSJub25lIix0LnN0eWxlLnN0cm9rZT0ibm9uZSIsRSh0LnN0YXRlcywoZnVuY3Rpb24odCl7dC5zdHlsZSYmKHQuc3R5bGUuZmlsbD10LnN0eWxlLnN0cm9rZT0ibm9uZSIpfSkpKX12YXIgSFM9ZnVuY3Rpb24oKXt9LFlTPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIG4udHlwZT0ibGFyZ2VCYXIiLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEhTfSxlLnByb3RvdHlwZS5idWlsZFBhdGg9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ZS5wb2ludHMsaT10aGlzLmJhc2VEaW1JZHgscj0xLXRoaXMuYmFzZURpbUlkeCxvPVtdLGE9W10scz10aGlzLmJhcldpZHRoLGw9MDtsPG4ubGVuZ3RoO2wrPTMpYVtpXT1zLGFbcl09bltsKzJdLG9baV09bltsK2ldLG9bcl09bltsK3JdLHQucmVjdChvWzBdLG9bMV0sYVswXSxhWzFdKX0sZX0oZ3MpO2Z1bmN0aW9uIFVTKHQsZSxuLGkpe3ZhciByPXQuZ2V0RGF0YSgpLG89ci5nZXRMYXlvdXQoInZhbHVlQXhpc0hvcml6b250YWwiKT8xOjAsYT1yLmdldExheW91dCgibGFyZ2VEYXRhSW5kaWNlcyIpLHM9ci5nZXRMYXlvdXQoInNpemUiKSxsPXQuZ2V0TW9kZWwoImJhY2tncm91bmRTdHlsZSIpLHU9ci5nZXRMYXlvdXQoImxhcmdlQmFja2dyb3VuZFBvaW50cyIpO2lmKHUpe3ZhciBoPW5ldyBZUyh7c2hhcGU6e3BvaW50czp1fSxpbmNyZW1lbnRhbDohIWksc2lsZW50OiEwLHoyOjB9KTtoLmJhc2VEaW1JZHg9byxoLmxhcmdlRGF0YUluZGljZXM9YSxoLmJhcldpZHRoPXMsaC51c2VTdHlsZShsLmdldEl0ZW1TdHlsZSgpKSxlLmFkZChoKSxuJiZuLnB1c2goaCl9dmFyIGM9bmV3IFlTKHtzaGFwZTp7cG9pbnRzOnIuZ2V0TGF5b3V0KCJsYXJnZVBvaW50cyIpfSxpbmNyZW1lbnRhbDohIWksejI6MX0pO2MuYmFzZURpbUlkeD1vLGMubGFyZ2VEYXRhSW5kaWNlcz1hLGMuYmFyV2lkdGg9cyxlLmFkZChjKSxjLnVzZVN0eWxlKHIuZ2V0VmlzdWFsKCJzdHlsZSIpKSxIcyhjKS5zZXJpZXNJbmRleD10LnNlcmllc0luZGV4LHQuZ2V0KCJzaWxlbnQiKXx8KGMub24oIm1vdXNlZG93biIsWFMpLGMub24oIm1vdXNlbW92ZSIsWFMpKSxuJiZuLnB1c2goYyl9dmFyIFhTPURnKChmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPXQuYmFzZURpbUlkeCxyPTEtaSxvPXQuc2hhcGUucG9pbnRzLGE9dC5sYXJnZURhdGFJbmRpY2VzLHM9W10sbD1bXSx1PXQuYmFyV2lkdGgsaD0wLGM9by5sZW5ndGgvMztoPGM7aCsrKXt2YXIgcD0zKmg7aWYobFtpXT11LGxbcl09b1twKzJdLHNbaV09b1twK2ldLHNbcl09b1twK3JdLGxbcl08MCYmKHNbcl0rPWxbcl0sbFtyXT0tbFtyXSksZT49c1swXSYmZTw9c1swXStsWzBdJiZuPj1zWzFdJiZuPD1zWzFdK2xbMV0pcmV0dXJuIGFbaF19cmV0dXJuLTF9KHRoaXMsdC5vZmZzZXRYLHQub2Zmc2V0WSk7SHModGhpcykuZGF0YUluZGV4PWU+PTA/ZTpudWxsfSksMzAsITEpO2Z1bmN0aW9uIFpTKHQsZSxuKXtpZihsUyhuLCJjYXJ0ZXNpYW4yZCIpKXt2YXIgaT1lLHI9bi5nZXRBcmVhKCk7cmV0dXJue3g6dD9pLng6ci54LHk6dD9yLnk6aS55LHdpZHRoOnQ/aS53aWR0aDpyLndpZHRoLGhlaWdodDp0P3IuaGVpZ2h0OmkuaGVpZ2h0fX12YXIgbz1lO3JldHVybntjeDoocj1uLmdldEFyZWEoKSkuY3gsY3k6ci5jeSxyMDp0P3IucjA6by5yMCxyOnQ/ci5yOm8ucixzdGFydEFuZ2xlOnQ/by5zdGFydEFuZ2xlOjAsZW5kQW5nbGU6dD9vLmVuZEFuZ2xlOjIqTWF0aC5QSX19dmFyIGpTPTIqTWF0aC5QSSxxUz1NYXRoLlBJLzE4MDtmdW5jdGlvbiBLUyh0LGUpe3JldHVybiB4cCh0LmdldEJveExheW91dFBhcmFtcygpLHt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9KX1mdW5jdGlvbiAkUyh0LGUpe3ZhciBuPUtTKHQsZSksaT10LmdldCgiY2VudGVyIikscj10LmdldCgicmFkaXVzIik7WShyKXx8KHI9WzAscl0pLFkoaSl8fChpPVtpLGldKTt2YXIgbz1FcihuLndpZHRoLGUuZ2V0V2lkdGgoKSksYT1FcihuLmhlaWdodCxlLmdldEhlaWdodCgpKSxzPU1hdGgubWluKG8sYSk7cmV0dXJue2N4OkVyKGlbMF0sbykrbi54LGN5OkVyKGlbMV0sYSkrbi55LHIwOkVyKHJbMF0scy8yKSxyOkVyKHJbMV0scy8yKX19ZnVuY3Rpb24gSlModCxlLG4pe2UuZWFjaFNlcmllc0J5VHlwZSh0LChmdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoKSxpPWUubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLHI9S1ModCxuKSxvPSRTKHQsbiksYT1vLmN4LHM9by5jeSxsPW8ucix1PW8ucjAsaD0tdC5nZXQoInN0YXJ0QW5nbGUiKSpxUyxjPXQuZ2V0KCJtaW5BbmdsZSIpKnFTLHA9MDtlLmVhY2goaSwoZnVuY3Rpb24odCl7IWlzTmFOKHQpJiZwKyt9KSk7dmFyIGQ9ZS5nZXRTdW0oaSksZj1NYXRoLlBJLyhkfHxwKSoyLGc9dC5nZXQoImNsb2Nrd2lzZSIpLHk9dC5nZXQoInJvc2VUeXBlIiksdj10LmdldCgic3RpbGxTaG93WmVyb1N1bSIpLG09ZS5nZXREYXRhRXh0ZW50KGkpO21bMF09MDt2YXIgeD1qUyxfPTAsYj1oLHc9Zz8xOi0xO2lmKGUuc2V0TGF5b3V0KHt2aWV3UmVjdDpyLHI6bH0pLGUuZWFjaChpLChmdW5jdGlvbih0LG4pe3ZhciBpO2lmKGlzTmFOKHQpKWUuc2V0SXRlbUxheW91dChuLHthbmdsZTpOYU4sc3RhcnRBbmdsZTpOYU4sZW5kQW5nbGU6TmFOLGNsb2Nrd2lzZTpnLGN4OmEsY3k6cyxyMDp1LHI6eT9OYU46bH0pO2Vsc2V7KGk9ImFyZWEiIT09eT8wPT09ZCYmdj9mOnQqZjpqUy9wKTxjPyhpPWMseC09Yyk6Xys9dDt2YXIgcj1iK3cqaTtlLnNldEl0ZW1MYXlvdXQobix7YW5nbGU6aSxzdGFydEFuZ2xlOmIsZW5kQW5nbGU6cixjbG9ja3dpc2U6ZyxjeDphLGN5OnMscjA6dSxyOnk/TnIodCxtLFt1LGxdKTpsfSksYj1yfX0pKSx4PGpTJiZwKWlmKHg8PS4wMDEpe3ZhciBTPWpTL3A7ZS5lYWNoKGksKGZ1bmN0aW9uKHQsbil7aWYoIWlzTmFOKHQpKXt2YXIgaT1lLmdldEl0ZW1MYXlvdXQobik7aS5hbmdsZT1TLGkuc3RhcnRBbmdsZT1oK3cqbipTLGkuZW5kQW5nbGU9aCt3KihuKzEpKlN9fSkpfWVsc2UgZj14L18sYj1oLGUuZWFjaChpLChmdW5jdGlvbih0LG4pe2lmKCFpc05hTih0KSl7dmFyIGk9ZS5nZXRJdGVtTGF5b3V0KG4pLHI9aS5hbmdsZT09PWM/Yzp0KmY7aS5zdGFydEFuZ2xlPWIsaS5lbmRBbmdsZT1iK3cqcixiKz13KnJ9fSkpfSkpfWZ1bmN0aW9uIFFTKHQpe3JldHVybntzZXJpZXNUeXBlOnQscmVzZXQ6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmZpbmRDb21wb25lbnRzKHttYWluVHlwZToibGVnZW5kIn0pO2lmKG4mJm4ubGVuZ3RoKXt2YXIgaT10LmdldERhdGEoKTtpLmZpbHRlclNlbGYoKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1pLmdldE5hbWUodCkscj0wO3I8bi5sZW5ndGg7cisrKWlmKCFuW3JdLmlzU2VsZWN0ZWQoZSkpcmV0dXJuITE7cmV0dXJuITB9KSl9fX19dmFyIHRNPU1hdGguUEkvMTgwO2Z1bmN0aW9uIGVNKHQsZSxuLGkscixvLGEscyxsLHUpe2lmKCEodC5sZW5ndGg8Mikpe2Zvcih2YXIgaD10Lmxlbmd0aCxjPTA7YzxoO2MrKylpZigib3V0ZXIiPT09dFtjXS5wb3NpdGlvbiYmImxhYmVsTGluZSI9PT10W2NdLmxhYmVsQWxpZ25Ubyl7dmFyIHA9dFtjXS5sYWJlbC54LXU7dFtjXS5saW5lUG9pbnRzWzFdWzBdKz1wLHRbY10ubGFiZWwueD11fXliKHQsbCxsK2EpJiZmdW5jdGlvbih0KXtmb3IodmFyIG89e2xpc3Q6W10sbWF4WTowfSxhPXtsaXN0OltdLG1heFk6MH0scz0wO3M8dC5sZW5ndGg7cysrKWlmKCJub25lIj09PXRbc10ubGFiZWxBbGlnblRvKXt2YXIgbD10W3NdLHU9bC5sYWJlbC55Pm4/YTpvLGg9TWF0aC5hYnMobC5sYWJlbC55LW4pO2lmKGg+PXUubWF4WSl7dmFyIGM9bC5sYWJlbC54LWUtbC5sZW4yKnIscD1pK2wubGVuLGY9TWF0aC5hYnMoYyk8cD9NYXRoLnNxcnQoaCpoLygxLWMqYy9wL3ApKTpwO3UuckI9Zix1Lm1heFk9aH11Lmxpc3QucHVzaChsKX1kKG8pLGQoYSl9KHQpfWZ1bmN0aW9uIGQodCl7Zm9yKHZhciBvPXQuckIsYT1vKm8scz0wO3M8dC5saXN0Lmxlbmd0aDtzKyspe3ZhciBsPXQubGlzdFtzXSx1PU1hdGguYWJzKGwubGFiZWwueS1uKSxoPWkrbC5sZW4sYz1oKmgscD1NYXRoLnNxcnQoKDEtTWF0aC5hYnModSp1L2EpKSpjKSxkPWUrKHArbC5sZW4yKSpyLGY9ZC1sLmxhYmVsLng7bk0obCxsLnRhcmdldFRleHRXaWR0aC1mKnIsITApLGwubGFiZWwueD1kfX19ZnVuY3Rpb24gbk0odCxlLG4pe2lmKHZvaWQgMD09PW4mJihuPSExKSxudWxsPT10LmxhYmVsU3R5bGVXaWR0aCl7dmFyIGk9dC5sYWJlbCxyPWkuc3R5bGUsbz10LnJlY3QsYT1yLmJhY2tncm91bmRDb2xvcixzPXIucGFkZGluZyxsPXM/c1sxXStzWzNdOjAsdT1yLm92ZXJmbG93LGg9by53aWR0aCsoYT8wOmwpO2lmKGU8aHx8bil7dmFyIGM9by5oZWlnaHQ7aWYodSYmdS5tYXRjaCgiYnJlYWsiKSl7aS5zZXRTdHlsZSgiYmFja2dyb3VuZENvbG9yIixudWxsKSxpLnNldFN0eWxlKCJ3aWR0aCIsZS1sKTt2YXIgcD1pLmdldEJvdW5kaW5nUmVjdCgpO2kuc2V0U3R5bGUoIndpZHRoIixNYXRoLmNlaWwocC53aWR0aCkpLGkuc2V0U3R5bGUoImJhY2tncm91bmRDb2xvciIsYSl9ZWxzZXt2YXIgZD1lLWwsZj1lPGg/ZDpuP2Q+dC51bmNvbnN0cmFpbmVkV2lkdGg/bnVsbDpkOm51bGw7aS5zZXRTdHlsZSgid2lkdGgiLGYpfXZhciBnPWkuZ2V0Qm91bmRpbmdSZWN0KCk7by53aWR0aD1nLndpZHRoO3ZhciB5PShpLnN0eWxlLm1hcmdpbnx8MCkrMi4xO28uaGVpZ2h0PWcuaGVpZ2h0K3ksby55LT0oby5oZWlnaHQtYykvMn19fWZ1bmN0aW9uIGlNKHQpe3JldHVybiJjZW50ZXIiPT09dC5wb3NpdGlvbn1mdW5jdGlvbiByTSh0KXt2YXIgZSxuLGk9dC5nZXREYXRhKCkscj1bXSxvPSExLGE9KHQuZ2V0KCJtaW5TaG93TGFiZWxBbmdsZSIpfHwwKSp0TSxzPWkuZ2V0TGF5b3V0KCJ2aWV3UmVjdCIpLGw9aS5nZXRMYXlvdXQoInIiKSx1PXMud2lkdGgsaD1zLngsYz1zLnkscD1zLmhlaWdodDtmdW5jdGlvbiBkKHQpe3QuaWdub3JlPSEwfWkuZWFjaCgoZnVuY3Rpb24odCl7dmFyIHM9aS5nZXRJdGVtR3JhcGhpY0VsKHQpLGM9cy5zaGFwZSxwPXMuZ2V0VGV4dENvbnRlbnQoKSxmPXMuZ2V0VGV4dEd1aWRlTGluZSgpLGc9aS5nZXRJdGVtTW9kZWwodCkseT1nLmdldE1vZGVsKCJsYWJlbCIpLHY9eS5nZXQoInBvc2l0aW9uIil8fGcuZ2V0KFsiZW1waGFzaXMiLCJsYWJlbCIsInBvc2l0aW9uIl0pLG09eS5nZXQoImRpc3RhbmNlVG9MYWJlbExpbmUiKSx4PXkuZ2V0KCJhbGlnblRvIiksXz1Fcih5LmdldCgiZWRnZURpc3RhbmNlIiksdSksYj15LmdldCgiYmxlZWRNYXJnaW4iKSx3PWcuZ2V0TW9kZWwoImxhYmVsTGluZSIpLFM9dy5nZXQoImxlbmd0aCIpO1M9RXIoUyx1KTt2YXIgTT13LmdldCgibGVuZ3RoMiIpO2lmKE09RXIoTSx1KSxNYXRoLmFicyhjLmVuZEFuZ2xlLWMuc3RhcnRBbmdsZSk8YSlyZXR1cm4gRShwLnN0YXRlcyxkKSx2b2lkKHAuaWdub3JlPSEwKTtpZihmdW5jdGlvbih0KXtpZighdC5pZ25vcmUpcmV0dXJuITA7Zm9yKHZhciBlIGluIHQuc3RhdGVzKWlmKCExPT09dC5zdGF0ZXNbZV0uaWdub3JlKXJldHVybiEwO3JldHVybiExfShwKSl7dmFyIEksVCxDLEQsQT0oYy5zdGFydEFuZ2xlK2MuZW5kQW5nbGUpLzIsaz1NYXRoLmNvcyhBKSxMPU1hdGguc2luKEEpO2U9Yy5jeCxuPWMuY3k7dmFyIFA9Imluc2lkZSI9PT12fHwiaW5uZXIiPT09djtpZigiY2VudGVyIj09PXYpST1jLmN4LFQ9Yy5jeSxEPSJjZW50ZXIiO2Vsc2V7dmFyIE89KFA/KGMucitjLnIwKS8yKms6Yy5yKmspK2UsUj0oUD8oYy5yK2MucjApLzIqTDpjLnIqTCkrbjtpZihJPU8rMyprLFQ9UiszKkwsIVApe3ZhciBOPU8rayooUytsLWMuciksej1SK0wqKFMrbC1jLnIpLFY9TisoazwwPy0xOjEpKk07ST0iZWRnZSI9PT14P2s8MD9oK186aCt1LV86VisoazwwPy1tOm0pLFQ9eixDPVtbTyxSXSxbTix6XSxbVix6XV19RD1QPyJjZW50ZXIiOiJlZGdlIj09PXg/az4wPyJyaWdodCI6ImxlZnQiOms+MD8ibGVmdCI6InJpZ2h0In12YXIgQj1NYXRoLlBJLEY9MCxHPXkuZ2V0KCJyb3RhdGUiKTtpZihqKEcpKUY9RyooQi8xODApO2Vsc2UgaWYoImNlbnRlciI9PT12KUY9MDtlbHNlIGlmKCJyYWRpYWwiPT09R3x8ITA9PT1HKXtGPWs8MD8tQStCOi1BfWVsc2UgaWYoInRhbmdlbnRpYWwiPT09RyYmIm91dHNpZGUiIT09diYmIm91dGVyIiE9PXYpe3ZhciBXPU1hdGguYXRhbjIoayxMKTtXPDAmJihXPTIqQitXKSxMPjAmJihXPUIrVyksRj1XLUJ9aWYobz0hIUYscC54PUkscC55PVQscC5yb3RhdGlvbj1GLHAuc2V0U3R5bGUoe3ZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9KSxQKXtwLnNldFN0eWxlKHthbGlnbjpEfSk7dmFyIEg9cC5zdGF0ZXMuc2VsZWN0O0gmJihILngrPXAueCxILnkrPXAueSl9ZWxzZXt2YXIgWT1wLmdldEJvdW5kaW5nUmVjdCgpLmNsb25lKCk7WS5hcHBseVRyYW5zZm9ybShwLmdldENvbXB1dGVkVHJhbnNmb3JtKCkpO3ZhciBVPShwLnN0eWxlLm1hcmdpbnx8MCkrMi4xO1kueS09VS8yLFkuaGVpZ2h0Kz1VLHIucHVzaCh7bGFiZWw6cCxsYWJlbExpbmU6Zixwb3NpdGlvbjp2LGxlbjpTLGxlbjI6TSxtaW5UdXJuQW5nbGU6dy5nZXQoIm1pblR1cm5BbmdsZSIpLG1heFN1cmZhY2VBbmdsZTp3LmdldCgibWF4U3VyZmFjZUFuZ2xlIiksc3VyZmFjZU5vcm1hbDpuZXcgSmkoayxMKSxsaW5lUG9pbnRzOkMsdGV4dEFsaWduOkQsbGFiZWxEaXN0YW5jZTptLGxhYmVsQWxpZ25Ubzp4LGVkZ2VEaXN0YW5jZTpfLGJsZWVkTWFyZ2luOmIscmVjdDpZLHVuY29uc3RyYWluZWRXaWR0aDpZLndpZHRoLGxhYmVsU3R5bGVXaWR0aDpwLnN0eWxlLndpZHRofSl9cy5zZXRUZXh0Q29uZmlnKHtpbnNpZGU6UH0pfX0pKSwhbyYmdC5nZXQoImF2b2lkTGFiZWxPdmVybGFwIikmJmZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyl7Zm9yKHZhciBsPVtdLHU9W10saD1OdW1iZXIuTUFYX1ZBTFVFLGM9LU51bWJlci5NQVhfVkFMVUUscD0wO3A8dC5sZW5ndGg7cCsrKXt2YXIgZD10W3BdLmxhYmVsO2lNKHRbcF0pfHwoZC54PGU/KGg9TWF0aC5taW4oaCxkLngpLGwucHVzaCh0W3BdKSk6KGM9TWF0aC5tYXgoYyxkLngpLHUucHVzaCh0W3BdKSkpfWZvcihwPTA7cDx0Lmxlbmd0aDtwKyspaWYoIWlNKHk9dFtwXSkmJnkubGluZVBvaW50cyl7aWYobnVsbCE9eS5sYWJlbFN0eWxlV2lkdGgpY29udGludWU7ZD15LmxhYmVsO3ZhciBmPXkubGluZVBvaW50cyxnPXZvaWQgMDtnPSJlZGdlIj09PXkubGFiZWxBbGlnblRvP2QueDxlP2ZbMl1bMF0teS5sYWJlbERpc3RhbmNlLWEteS5lZGdlRGlzdGFuY2U6YStyLXkuZWRnZURpc3RhbmNlLWZbMl1bMF0teS5sYWJlbERpc3RhbmNlOiJsYWJlbExpbmUiPT09eS5sYWJlbEFsaWduVG8/ZC54PGU/aC1hLXkuYmxlZWRNYXJnaW46YStyLWMteS5ibGVlZE1hcmdpbjpkLng8ZT9kLngtYS15LmJsZWVkTWFyZ2luOmErci1kLngteS5ibGVlZE1hcmdpbix5LnRhcmdldFRleHRXaWR0aD1nLG5NKHksZyl9Zm9yKGVNKHUsZSxuLGksMSwwLG8sMCxzLGMpLGVNKGwsZSxuLGksLTEsMCxvLDAscyxoKSxwPTA7cDx0Lmxlbmd0aDtwKyspe3ZhciB5O2lmKCFpTSh5PXRbcF0pJiZ5LmxpbmVQb2ludHMpe2Q9eS5sYWJlbCxmPXkubGluZVBvaW50czt2YXIgdj0iZWRnZSI9PT15LmxhYmVsQWxpZ25UbyxtPWQuc3R5bGUucGFkZGluZyx4PW0/bVsxXSttWzNdOjAsXz1kLnN0eWxlLmJhY2tncm91bmRDb2xvcj8wOngsYj15LnJlY3Qud2lkdGgrXyx3PWZbMV1bMF0tZlsyXVswXTt2P2QueDxlP2ZbMl1bMF09YSt5LmVkZ2VEaXN0YW5jZStiK3kubGFiZWxEaXN0YW5jZTpmWzJdWzBdPWErci15LmVkZ2VEaXN0YW5jZS1iLXkubGFiZWxEaXN0YW5jZTooZC54PGU/ZlsyXVswXT1kLngreS5sYWJlbERpc3RhbmNlOmZbMl1bMF09ZC54LXkubGFiZWxEaXN0YW5jZSxmWzFdWzBdPWZbMl1bMF0rdyksZlsxXVsxXT1mWzJdWzFdPWQueX19fShyLGUsbixsLHUscCxoLGMpO2Zvcih2YXIgZj0wO2Y8ci5sZW5ndGg7ZisrKXt2YXIgZz1yW2ZdLHk9Zy5sYWJlbCx2PWcubGFiZWxMaW5lLG09aXNOYU4oeS54KXx8aXNOYU4oeS55KTtpZih5KXt5LnNldFN0eWxlKHthbGlnbjpnLnRleHRBbGlnbn0pLG0mJihFKHkuc3RhdGVzLGQpLHkuaWdub3JlPSEwKTt2YXIgeD15LnN0YXRlcy5zZWxlY3Q7eCYmKHgueCs9eS54LHgueSs9eS55KX1pZih2KXt2YXIgXz1nLmxpbmVQb2ludHM7bXx8IV8/KEUodi5zdGF0ZXMsZCksdi5pZ25vcmU9ITApOihsYihfLGcubWluVHVybkFuZ2xlKSx1YihfLGcuc3VyZmFjZU5vcm1hbCxnLm1heFN1cmZhY2VBbmdsZSksdi5zZXRTaGFwZSh7cG9pbnRzOl99KSx5Ll9faG9zdFRhcmdldC50ZXh0R3VpZGVMaW5lQ29uZmlnPXthbmNob3I6bmV3IEppKF9bMF1bMF0sX1swXVsxXSl9KX19fWZ1bmN0aW9uIG9NKHQsZSxuKXt2YXIgaT10LmdldCgiYm9yZGVyUmFkaXVzIik7aWYobnVsbD09aSlyZXR1cm4gbj97Y29ybmVyUmFkaXVzOjB9Om51bGw7WShpKXx8KGk9W2ksaSxpLGldKTt2YXIgcj1NYXRoLmFicyhlLnJ8fDAtZS5yMHx8MCk7cmV0dXJue2Nvcm5lclJhZGl1czp6KGksKGZ1bmN0aW9uKHQpe3JldHVybiBncih0LHIpfSkpfX12YXIgYU09ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSl7dmFyIHI9dC5jYWxsKHRoaXMpfHx0aGlzO3IuejI9Mjt2YXIgbz1uZXcga3M7cmV0dXJuIHIuc2V0VGV4dENvbnRlbnQobyksci51cGRhdGVEYXRhKGUsbixpLCEwKSxyfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLG89dC5ob3N0TW9kZWwsYT10LmdldEl0ZW1Nb2RlbChlKSxzPWEuZ2V0TW9kZWwoImVtcGhhc2lzIiksbD10LmdldEl0ZW1MYXlvdXQoZSksdT1BKG9NKGEuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLGwsITApLGwpO2lmKGlzTmFOKHUuc3RhcnRBbmdsZSkpci5zZXRTaGFwZSh1KTtlbHNle2lmKGkpe3Iuc2V0U2hhcGUodSk7dmFyIGg9by5nZXRTaGFsbG93KCJhbmltYXRpb25UeXBlIik7by5lY01vZGVsLnNzcj8ob2gocix7c2NhbGVYOjAsc2NhbGVZOjB9LG8se2RhdGFJbmRleDplLGlzRnJvbTohMH0pLHIub3JpZ2luWD11LmN4LHIub3JpZ2luWT11LmN5KToic2NhbGUiPT09aD8oci5zaGFwZS5yPWwucjAsb2gocix7c2hhcGU6e3I6bC5yfX0sbyxlKSk6bnVsbCE9bj8oci5zZXRTaGFwZSh7c3RhcnRBbmdsZTpuLGVuZEFuZ2xlOm59KSxvaChyLHtzaGFwZTp7c3RhcnRBbmdsZTpsLnN0YXJ0QW5nbGUsZW5kQW5nbGU6bC5lbmRBbmdsZX19LG8sZSkpOihyLnNoYXBlLmVuZEFuZ2xlPWwuc3RhcnRBbmdsZSxyaChyLHtzaGFwZTp7ZW5kQW5nbGU6bC5lbmRBbmdsZX19LG8sZSkpfWVsc2UgaGgocikscmgocix7c2hhcGU6dX0sbyxlKTtyLnVzZVN0eWxlKHQuZ2V0SXRlbVZpc3VhbChlLCJzdHlsZSIpKSxWbChyLGEpO3ZhciBjPShsLnN0YXJ0QW5nbGUrbC5lbmRBbmdsZSkvMixwPW8uZ2V0KCJzZWxlY3RlZE9mZnNldCIpLGQ9TWF0aC5jb3MoYykqcCxmPU1hdGguc2luKGMpKnAsZz1hLmdldFNoYWxsb3coImN1cnNvciIpO2cmJnIuYXR0cigiY3Vyc29yIixnKSx0aGlzLl91cGRhdGVMYWJlbChvLHQsZSksci5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKS5zaGFwZT1BKHtyOmwucisocy5nZXQoInNjYWxlIikmJnMuZ2V0KCJzY2FsZVNpemUiKXx8MCl9LG9NKHMuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLGwpKSxBKHIuZW5zdXJlU3RhdGUoInNlbGVjdCIpLHt4OmQseTpmLHNoYXBlOm9NKGEuZ2V0TW9kZWwoWyJzZWxlY3QiLCJpdGVtU3R5bGUiXSksbCl9KSxBKHIuZW5zdXJlU3RhdGUoImJsdXIiKSx7c2hhcGU6b00oYS5nZXRNb2RlbChbImJsdXIiLCJpdGVtU3R5bGUiXSksbCl9KTt2YXIgeT1yLmdldFRleHRHdWlkZUxpbmUoKSx2PXIuZ2V0VGV4dENvbnRlbnQoKTt5JiZBKHkuZW5zdXJlU3RhdGUoInNlbGVjdCIpLHt4OmQseTpmfSksQSh2LmVuc3VyZVN0YXRlKCJzZWxlY3QiKSx7eDpkLHk6Zn0pLFJsKHRoaXMscy5nZXQoImZvY3VzIikscy5nZXQoImJsdXJTY29wZSIpLHMuZ2V0KCJkaXNhYmxlZCIpKX19LGUucHJvdG90eXBlLl91cGRhdGVMYWJlbD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcyxyPWUuZ2V0SXRlbU1vZGVsKG4pLG89ci5nZXRNb2RlbCgibGFiZWxMaW5lIiksYT1lLmdldEl0ZW1WaXN1YWwobiwic3R5bGUiKSxzPWEmJmEuZmlsbCxsPWEmJmEub3BhY2l0eTtIaChpLFloKHIpLHtsYWJlbEZldGNoZXI6ZS5ob3N0TW9kZWwsbGFiZWxEYXRhSW5kZXg6bixpbmhlcml0Q29sb3I6cyxkZWZhdWx0T3BhY2l0eTpsLGRlZmF1bHRUZXh0OnQuZ2V0Rm9ybWF0dGVkTGFiZWwobiwibm9ybWFsIil8fGUuZ2V0TmFtZShuKX0pO3ZhciB1PWkuZ2V0VGV4dENvbnRlbnQoKTtpLnNldFRleHRDb25maWcoe3Bvc2l0aW9uOm51bGwscm90YXRpb246bnVsbH0pLHUuYXR0cih7ejI6MTB9KTt2YXIgaD10LmdldChbImxhYmVsIiwicG9zaXRpb24iXSk7aWYoIm91dHNpZGUiIT09aCYmIm91dGVyIiE9PWgpaS5yZW1vdmVUZXh0R3VpZGVMaW5lKCk7ZWxzZXt2YXIgYz10aGlzLmdldFRleHRHdWlkZUxpbmUoKTtjfHwoYz1uZXcgUnUsdGhpcy5zZXRUZXh0R3VpZGVMaW5lKGMpKSxwYih0aGlzLGRiKHIpLHtzdHJva2U6cyxvcGFjaXR5Om90KG8uZ2V0KFsibGluZVN0eWxlIiwib3BhY2l0eSJdKSxsLDEpfSl9fSxlfShDdSksc009ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS5pZ25vcmVMYWJlbExpbmVVcGRhdGU9ITAsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcixvPXQuZ2V0RGF0YSgpLGE9dGhpcy5fZGF0YSxzPXRoaXMuZ3JvdXA7aWYoIWEmJm8uY291bnQoKT4wKXtmb3IodmFyIGw9by5nZXRJdGVtTGF5b3V0KDApLHU9MTtpc05hTihsJiZsLnN0YXJ0QW5nbGUpJiZ1PG8uY291bnQoKTsrK3UpbD1vLmdldEl0ZW1MYXlvdXQodSk7bCYmKHI9bC5zdGFydEFuZ2xlKX1pZih0aGlzLl9lbXB0eUNpcmNsZVNlY3RvciYmcy5yZW1vdmUodGhpcy5fZW1wdHlDaXJjbGVTZWN0b3IpLDA9PT1vLmNvdW50KCkmJnQuZ2V0KCJzaG93RW1wdHlDaXJjbGUiKSl7dmFyIGg9bmV3IEN1KHtzaGFwZTokUyh0LG4pfSk7aC51c2VTdHlsZSh0LmdldE1vZGVsKCJlbXB0eUNpcmNsZVN0eWxlIikuZ2V0SXRlbVN0eWxlKCkpLHRoaXMuX2VtcHR5Q2lyY2xlU2VjdG9yPWgscy5hZGQoaCl9by5kaWZmKGEpLmFkZCgoZnVuY3Rpb24odCl7dmFyIGU9bmV3IGFNKG8sdCxyKTtvLnNldEl0ZW1HcmFwaGljRWwodCxlKSxzLmFkZChlKX0pKS51cGRhdGUoKGZ1bmN0aW9uKHQsZSl7dmFyIG49YS5nZXRJdGVtR3JhcGhpY0VsKGUpO24udXBkYXRlRGF0YShvLHQsciksbi5vZmYoImNsaWNrIikscy5hZGQobiksby5zZXRJdGVtR3JhcGhpY0VsKHQsbil9KSkucmVtb3ZlKChmdW5jdGlvbihlKXt1aChhLmdldEl0ZW1HcmFwaGljRWwoZSksdCxlKX0pKS5leGVjdXRlKCksck0odCksImV4cGFuc2lvbiIhPT10LmdldCgiYW5pbWF0aW9uVHlwZVVwZGF0ZSIpJiYodGhpcy5fZGF0YT1vKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuY29udGFpblBvaW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5nZXREYXRhKCkuZ2V0SXRlbUxheW91dCgwKTtpZihuKXt2YXIgaT10WzBdLW4uY3gscj10WzFdLW4uY3ksbz1NYXRoLnNxcnQoaSppK3Iqcik7cmV0dXJuIG88PW4uciYmbz49bi5yMH19LGUudHlwZT0icGllIixlfSh4Zyk7ZnVuY3Rpb24gbE0odCxlLG4pe2U9WShlKSYme2Nvb3JkRGltZW5zaW9uczplfXx8QSh7ZW5jb2RlRGVmaW5lOnQuZ2V0RW5jb2RlKCl9LGUpO3ZhciBpPXQuZ2V0U291cmNlKCkscj1xbShpLGUpLmRpbWVuc2lvbnMsbz1uZXcgam0ocix0KTtyZXR1cm4gby5pbml0RGF0YShpLG4pLG99dmFyIHVNPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX2dldERhdGFXaXRoRW5jb2RlZFZpc3VhbD10LHRoaXMuX2dldFJhd0RhdGE9ZX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0QWxsTmFtZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRSYXdEYXRhKCk7cmV0dXJuIHQubWFwQXJyYXkodC5nZXROYW1lKX0sdC5wcm90b3R5cGUuY29udGFpbk5hbWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dldFJhd0RhdGEoKS5pbmRleE9mTmFtZSh0KT49MH0sdC5wcm90b3R5cGUuaW5kZXhPZk5hbWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dldERhdGFXaXRoRW5jb2RlZFZpc3VhbCgpLmluZGV4T2ZOYW1lKHQpfSx0LnByb3RvdHlwZS5nZXRJdGVtVmlzdWFsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2dldERhdGFXaXRoRW5jb2RlZFZpc3VhbCgpLmdldEl0ZW1WaXN1YWwodCxlKX0sdH0oKSxoTT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5sZWdlbmRWaXN1YWxQcm92aWRlcj1uZXcgdU0oVyh0aGlzLmdldERhdGEsdGhpcyksVyh0aGlzLmdldFJhd0RhdGEsdGhpcykpLHRoaXMuX2RlZmF1bHRMYWJlbExpbmUoZSl9LGUucHJvdG90eXBlLm1lcmdlT3B0aW9uPWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUubWVyZ2VPcHRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbigpe3JldHVybiBsTSh0aGlzLHtjb29yZERpbWVuc2lvbnM6WyJ2YWx1ZSJdLGVuY29kZURlZmF1bHRlcjpIKFlwLHRoaXMpfSl9LGUucHJvdG90eXBlLmdldERhdGFQYXJhbXM9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5nZXREYXRhKCksaT10LnByb3RvdHlwZS5nZXREYXRhUGFyYW1zLmNhbGwodGhpcyxlKSxyPVtdO3JldHVybiBuLmVhY2gobi5tYXBEaW1lbnNpb24oInZhbHVlIiksKGZ1bmN0aW9uKHQpe3IucHVzaCh0KX0pKSxpLnBlcmNlbnQ9V3IocixlLG4uaG9zdE1vZGVsLmdldCgicGVyY2VudFByZWNpc2lvbiIpKSxpLiR2YXJzLnB1c2goInBlcmNlbnQiKSxpfSxlLnByb3RvdHlwZS5fZGVmYXVsdExhYmVsTGluZT1mdW5jdGlvbih0KXtjbyh0LCJsYWJlbExpbmUiLFsic2hvdyJdKTt2YXIgZT10LmxhYmVsTGluZSxuPXQuZW1waGFzaXMubGFiZWxMaW5lO2Uuc2hvdz1lLnNob3cmJnQubGFiZWwuc2hvdyxuLnNob3c9bi5zaG93JiZ0LmVtcGhhc2lzLmxhYmVsLnNob3d9LGUudHlwZT0ic2VyaWVzLnBpZSIsZS5kZWZhdWx0T3B0aW9uPXt6OjIsbGVnZW5kSG92ZXJMaW5rOiEwLGNvbG9yQnk6ImRhdGEiLGNlbnRlcjpbIjUwJSIsIjUwJSJdLHJhZGl1czpbMCwiNzUlIl0sY2xvY2t3aXNlOiEwLHN0YXJ0QW5nbGU6OTAsbWluQW5nbGU6MCxtaW5TaG93TGFiZWxBbmdsZTowLHNlbGVjdGVkT2Zmc2V0OjEwLHBlcmNlbnRQcmVjaXNpb246MixzdGlsbFNob3daZXJvU3VtOiEwLGxlZnQ6MCx0b3A6MCxyaWdodDowLGJvdHRvbTowLHdpZHRoOm51bGwsaGVpZ2h0Om51bGwsbGFiZWw6e3JvdGF0ZTowLHNob3c6ITAsb3ZlcmZsb3c6InRydW5jYXRlIixwb3NpdGlvbjoib3V0ZXIiLGFsaWduVG86Im5vbmUiLGVkZ2VEaXN0YW5jZToiMjUlIixibGVlZE1hcmdpbjoxMCxkaXN0YW5jZVRvTGFiZWxMaW5lOjV9LGxhYmVsTGluZTp7c2hvdzohMCxsZW5ndGg6MTUsbGVuZ3RoMjoxNSxzbW9vdGg6ITEsbWluVHVybkFuZ2xlOjkwLG1heFN1cmZhY2VBbmdsZTo5MCxsaW5lU3R5bGU6e3dpZHRoOjEsdHlwZToic29saWQifX0saXRlbVN0eWxlOntib3JkZXJXaWR0aDoxLGJvcmRlckpvaW46InJvdW5kIn0sc2hvd0VtcHR5Q2lyY2xlOiEwLGVtcHR5Q2lyY2xlU3R5bGU6e2NvbG9yOiJsaWdodGdyYXkiLG9wYWNpdHk6MX0sbGFiZWxMYXlvdXQ6e2hpZGVPdmVybGFwOiEwfSxlbXBoYXNpczp7c2NhbGU6ITAsc2NhbGVTaXplOjV9LGF2b2lkTGFiZWxPdmVybGFwOiEwLGFuaW1hdGlvblR5cGU6ImV4cGFuc2lvbiIsYW5pbWF0aW9uRHVyYXRpb246MWUzLGFuaW1hdGlvblR5cGVVcGRhdGU6InRyYW5zaXRpb24iLGFuaW1hdGlvbkVhc2luZ1VwZGF0ZToiY3ViaWNJbk91dCIsYW5pbWF0aW9uRHVyYXRpb25VcGRhdGU6NTAwLGFuaW1hdGlvbkVhc2luZzoiY3ViaWNJbk91dCJ9LGV9KHNnKTt2YXIgY009ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmhhc1N5bWJvbFZpc3VhbD0hMCxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaXgobnVsbCx0aGlzLHt1c2VFbmNvZGVEZWZhdWx0ZXI6ITB9KX0sZS5wcm90b3R5cGUuZ2V0UHJvZ3Jlc3NpdmU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbi5wcm9ncmVzc2l2ZTtyZXR1cm4gbnVsbD09dD90aGlzLm9wdGlvbi5sYXJnZT81ZTM6dGhpcy5nZXQoInByb2dyZXNzaXZlIik6dH0sZS5wcm90b3R5cGUuZ2V0UHJvZ3Jlc3NpdmVUaHJlc2hvbGQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbi5wcm9ncmVzc2l2ZVRocmVzaG9sZDtyZXR1cm4gbnVsbD09dD90aGlzLm9wdGlvbi5sYXJnZT8xZTQ6dGhpcy5nZXQoInByb2dyZXNzaXZlVGhyZXNob2xkIik6dH0sZS5wcm90b3R5cGUuYnJ1c2hTZWxlY3Rvcj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG4ucG9pbnQoZS5nZXRJdGVtTGF5b3V0KHQpKX0sZS5wcm90b3R5cGUuZ2V0WkxldmVsS2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RGF0YSgpLmNvdW50KCk+dGhpcy5nZXRQcm9ncmVzc2l2ZVRocmVzaG9sZCgpP3RoaXMuaWQ6IiJ9LGUudHlwZT0ic2VyaWVzLnNjYXR0ZXIiLGUuZGVwZW5kZW5jaWVzPVsiZ3JpZCIsInBvbGFyIiwiZ2VvIiwic2luZ2xlQXhpcyIsImNhbGVuZGFyIl0sZS5kZWZhdWx0T3B0aW9uPXtjb29yZGluYXRlU3lzdGVtOiJjYXJ0ZXNpYW4yZCIsejoyLGxlZ2VuZEhvdmVyTGluazohMCxzeW1ib2xTaXplOjEwLGxhcmdlOiExLGxhcmdlVGhyZXNob2xkOjJlMyxpdGVtU3R5bGU6e29wYWNpdHk6Ljh9LGVtcGhhc2lzOntzY2FsZTohMH0sY2xpcDohMCxzZWxlY3Q6e2l0ZW1TdHlsZTp7Ym9yZGVyQ29sb3I6IiMyMTIxMjEifX0sdW5pdmVyc2FsVHJhbnNpdGlvbjp7ZGl2aWRlU2hhcGU6ImNsb25lIn19LGV9KHNnKSxwTT1mdW5jdGlvbigpe30sZE09ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi5fb2ZmPTAsbi5ob3ZlckRhdGFJZHg9LTEsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgcE19LGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5ub3RDbGVhcj0hMSx0aGlzLl9vZmY9MH0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG4saT1lLnBvaW50cyxyPWUuc2l6ZSxvPXRoaXMuc3ltYm9sUHJveHksYT1vLnNoYXBlLHM9dC5nZXRDb250ZXh0P3QuZ2V0Q29udGV4dCgpOnQsbD1zJiZyWzBdPDQsdT10aGlzLnNvZnRDbGlwU2hhcGU7aWYobCl0aGlzLl9jdHg9cztlbHNle2Zvcih0aGlzLl9jdHg9bnVsbCxuPXRoaXMuX29mZjtuPGkubGVuZ3RoOyl7dmFyIGg9aVtuKytdLGM9aVtuKytdO2lzTmFOKGgpfHxpc05hTihjKXx8KHUmJiF1LmNvbnRhaW4oaCxjKXx8KGEueD1oLXJbMF0vMixhLnk9Yy1yWzFdLzIsYS53aWR0aD1yWzBdLGEuaGVpZ2h0PXJbMV0sby5idWlsZFBhdGgodCxhLCEwKSkpfXRoaXMuaW5jcmVtZW50YWwmJih0aGlzLl9vZmY9bix0aGlzLm5vdENsZWFyPSEwKX19LGUucHJvdG90eXBlLmFmdGVyQnJ1c2g9ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuc2hhcGUsbj1lLnBvaW50cyxpPWUuc2l6ZSxyPXRoaXMuX2N0eCxvPXRoaXMuc29mdENsaXBTaGFwZTtpZihyKXtmb3IodD10aGlzLl9vZmY7dDxuLmxlbmd0aDspe3ZhciBhPW5bdCsrXSxzPW5bdCsrXTtpc05hTihhKXx8aXNOYU4ocyl8fChvJiYhby5jb250YWluKGEscyl8fHIuZmlsbFJlY3QoYS1pWzBdLzIscy1pWzFdLzIsaVswXSxpWzFdKSl9dGhpcy5pbmNyZW1lbnRhbCYmKHRoaXMuX29mZj10LHRoaXMubm90Q2xlYXI9ITApfX0sZS5wcm90b3R5cGUuZmluZERhdGFJbmRleD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLnNoYXBlLGk9bi5wb2ludHMscj1uLnNpemUsbz1NYXRoLm1heChyWzBdLDQpLGE9TWF0aC5tYXgoclsxXSw0KSxzPWkubGVuZ3RoLzItMTtzPj0wO3MtLSl7dmFyIGw9MipzLHU9aVtsXS1vLzIsaD1pW2wrMV0tYS8yO2lmKHQ+PXUmJmU+PWgmJnQ8PXUrbyYmZTw9aCthKXJldHVybiBzfXJldHVybi0xfSxlLnByb3RvdHlwZS5jb250YWluPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy50cmFuc2Zvcm1Db29yZFRvTG9jYWwodCxlKSxpPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCk7cmV0dXJuIHQ9blswXSxlPW5bMV0saS5jb250YWluKHQsZSk/KHRoaXMuaG92ZXJEYXRhSWR4PXRoaXMuZmluZERhdGFJbmRleCh0LGUpKT49MDoodGhpcy5ob3ZlckRhdGFJZHg9LTEsITEpfSxlLnByb3RvdHlwZS5nZXRCb3VuZGluZ1JlY3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yZWN0O2lmKCF0KXtmb3IodmFyIGU9dGhpcy5zaGFwZSxuPWUucG9pbnRzLGk9ZS5zaXplLHI9aVswXSxvPWlbMV0sYT0xLzAscz0xLzAsbD0tMS8wLHU9LTEvMCxoPTA7aDxuLmxlbmd0aDspe3ZhciBjPW5baCsrXSxwPW5baCsrXTthPU1hdGgubWluKGMsYSksbD1NYXRoLm1heChjLGwpLHM9TWF0aC5taW4ocCxzKSx1PU1hdGgubWF4KHAsdSl9dD10aGlzLl9yZWN0PW5ldyBzcihhLXIvMixzLW8vMixsLWErcix1LXMrbyl9cmV0dXJuIHR9LGV9KGdzKSxmTT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmdyb3VwPW5ldyBDcn1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUpe3RoaXMuX2NsZWFyKCk7dmFyIG49dGhpcy5fY3JlYXRlKCk7bi5zZXRTaGFwZSh7cG9pbnRzOnQuZ2V0TGF5b3V0KCJwb2ludHMiKX0pLHRoaXMuX3NldENvbW1vbihuLHQsZSl9LHQucHJvdG90eXBlLnVwZGF0ZUxheW91dD1mdW5jdGlvbih0KXt2YXIgZT10LmdldExheW91dCgicG9pbnRzIik7dGhpcy5ncm91cC5lYWNoQ2hpbGQoKGZ1bmN0aW9uKHQpe2lmKG51bGwhPXQuc3RhcnRJbmRleCl7dmFyIG49MioodC5lbmRJbmRleC10LnN0YXJ0SW5kZXgpLGk9NCp0LnN0YXJ0SW5kZXgqMjtlPW5ldyBGbG9hdDMyQXJyYXkoZS5idWZmZXIsaSxuKX10LnNldFNoYXBlKCJwb2ludHMiLGUpLHQucmVzZXQoKX0pKX0sdC5wcm90b3R5cGUuaW5jcmVtZW50YWxQcmVwYXJlVXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX2NsZWFyKCl9LHQucHJvdG90eXBlLmluY3JlbWVudGFsVXBkYXRlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLl9uZXdBZGRlZFswXSxyPWUuZ2V0TGF5b3V0KCJwb2ludHMiKSxvPWkmJmkuc2hhcGUucG9pbnRzO2lmKG8mJm8ubGVuZ3RoPDJlNCl7dmFyIGE9by5sZW5ndGgscz1uZXcgRmxvYXQzMkFycmF5KGErci5sZW5ndGgpO3Muc2V0KG8pLHMuc2V0KHIsYSksaS5lbmRJbmRleD10LmVuZCxpLnNldFNoYXBlKHtwb2ludHM6c30pfWVsc2V7dGhpcy5fbmV3QWRkZWQ9W107dmFyIGw9dGhpcy5fY3JlYXRlKCk7bC5zdGFydEluZGV4PXQuc3RhcnQsbC5lbmRJbmRleD10LmVuZCxsLmluY3JlbWVudGFsPSEwLGwuc2V0U2hhcGUoe3BvaW50czpyfSksdGhpcy5fc2V0Q29tbW9uKGwsZSxuKX19LHQucHJvdG90eXBlLmVhY2hSZW5kZXJlZD1mdW5jdGlvbih0KXt0aGlzLl9uZXdBZGRlZFswXSYmdCh0aGlzLl9uZXdBZGRlZFswXSl9LHQucHJvdG90eXBlLl9jcmVhdGU9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZE0oe2N1cnNvcjoiZGVmYXVsdCJ9KTtyZXR1cm4gdGhpcy5ncm91cC5hZGQodCksdGhpcy5fbmV3QWRkZWQucHVzaCh0KSx0fSx0LnByb3RvdHlwZS5fc2V0Q29tbW9uPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lLmhvc3RNb2RlbDtuPW58fHt9O3ZhciByPWUuZ2V0VmlzdWFsKCJzeW1ib2xTaXplIik7dC5zZXRTaGFwZSgic2l6ZSIsciBpbnN0YW5jZW9mIEFycmF5P3I6W3Iscl0pLHQuc29mdENsaXBTaGFwZT1uLmNsaXBTaGFwZXx8bnVsbCx0LnN5bWJvbFByb3h5PUx5KGUuZ2V0VmlzdWFsKCJzeW1ib2wiKSwwLDAsMCwwKSx0LnNldENvbG9yPXQuc3ltYm9sUHJveHkuc2V0Q29sb3I7dmFyIG89dC5zaGFwZS5zaXplWzBdPDQ7dC51c2VTdHlsZShpLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUobz9bImNvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd0NvbG9yIl06WyJjb2xvciJdKSk7dmFyIGE9ZS5nZXRWaXN1YWwoInN0eWxlIikscz1hJiZhLmZpbGw7cyYmdC5zZXRDb2xvcihzKTt2YXIgbD1Icyh0KTtsLnNlcmllc0luZGV4PWkuc2VyaWVzSW5kZXgsdC5vbigibW91c2Vtb3ZlIiwoZnVuY3Rpb24oZSl7bC5kYXRhSW5kZXg9bnVsbDt2YXIgbj10LmhvdmVyRGF0YUlkeDtuPj0wJiYobC5kYXRhSW5kZXg9bisodC5zdGFydEluZGV4fHwwKSl9KSl9LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFyKCl9LHQucHJvdG90eXBlLl9jbGVhcj1mdW5jdGlvbigpe3RoaXMuX25ld0FkZGVkPVtdLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9LHR9KCksZ009ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldERhdGEoKTt0aGlzLl91cGRhdGVTeW1ib2xEcmF3KGksdCkudXBkYXRlRGF0YShpLHtjbGlwU2hhcGU6dGhpcy5fZ2V0Q2xpcFNoYXBlKHQpfSksdGhpcy5fZmluaXNoZWQ9ITB9LGUucHJvdG90eXBlLmluY3JlbWVudGFsUHJlcGFyZVJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5nZXREYXRhKCk7dGhpcy5fdXBkYXRlU3ltYm9sRHJhdyhpLHQpLmluY3JlbWVudGFsUHJlcGFyZVVwZGF0ZShpKSx0aGlzLl9maW5pc2hlZD0hMX0sZS5wcm90b3R5cGUuaW5jcmVtZW50YWxSZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX3N5bWJvbERyYXcuaW5jcmVtZW50YWxVcGRhdGUodCxlLmdldERhdGEoKSx7Y2xpcFNoYXBlOnRoaXMuX2dldENsaXBTaGFwZShlKX0pLHRoaXMuX2ZpbmlzaGVkPXQuZW5kPT09ZS5nZXREYXRhKCkuY291bnQoKX0sZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldERhdGEoKTtpZih0aGlzLmdyb3VwLmRpcnR5KCksIXRoaXMuX2ZpbmlzaGVkfHxpLmNvdW50KCk+MWU0KXJldHVybnt1cGRhdGU6ITB9O3ZhciByPV9TKCIiKS5yZXNldCh0LGUsbik7ci5wcm9ncmVzcyYmci5wcm9ncmVzcyh7c3RhcnQ6MCxlbmQ6aS5jb3VudCgpLGNvdW50OmkuY291bnQoKX0saSksdGhpcy5fc3ltYm9sRHJhdy51cGRhdGVMYXlvdXQoaSl9LGUucHJvdG90eXBlLmVhY2hSZW5kZXJlZD1mdW5jdGlvbih0KXt0aGlzLl9zeW1ib2xEcmF3JiZ0aGlzLl9zeW1ib2xEcmF3LmVhY2hSZW5kZXJlZCh0KX0sZS5wcm90b3R5cGUuX2dldENsaXBTaGFwZT1mdW5jdGlvbih0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW0sbj1lJiZlLmdldEFyZWEmJmUuZ2V0QXJlYSgpO3JldHVybiB0LmdldCgiY2xpcCIsITApP246bnVsbH0sZS5wcm90b3R5cGUuX3VwZGF0ZVN5bWJvbERyYXc9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9zeW1ib2xEcmF3LGk9ZS5waXBlbGluZUNvbnRleHQubGFyZ2U7cmV0dXJuIG4mJmk9PT10aGlzLl9pc0xhcmdlRHJhd3x8KG4mJm4ucmVtb3ZlKCksbj10aGlzLl9zeW1ib2xEcmF3PWk/bmV3IGZNOm5ldyBqdyx0aGlzLl9pc0xhcmdlRHJhdz1pLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCkpLHRoaXMuZ3JvdXAuYWRkKG4uZ3JvdXApLG59LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3RoaXMuX3N5bWJvbERyYXcmJnRoaXMuX3N5bWJvbERyYXcucmVtb3ZlKCEwKSx0aGlzLl9zeW1ib2xEcmF3PW51bGx9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt9LGUudHlwZT0ic2NhdHRlciIsZX0oeGcpLHlNPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZS50eXBlPSJncmlkIixlLmRlcGVuZGVuY2llcz1bInhBeGlzIiwieUF4aXMiXSxlLmxheW91dE1vZGU9ImJveCIsZS5kZWZhdWx0T3B0aW9uPXtzaG93OiExLHo6MCxsZWZ0OiIxMCUiLHRvcDo2MCxyaWdodDoiMTAlIixib3R0b206NzAsY29udGFpbkxhYmVsOiExLGJhY2tncm91bmRDb2xvcjoicmdiYSgwLDAsMCwwKSIsYm9yZGVyV2lkdGg6MSxib3JkZXJDb2xvcjoiI2NjYyJ9LGV9KFRwKSx2TT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldENvb3JkU3lzTW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRSZWZlcnJpbmdDb21wb25lbnRzKCJncmlkIixDbykubW9kZWxzWzBdfSxlLnR5cGU9ImNhcnRlc2lhbjJkQXhpcyIsZX0oVHApO1Iodk0sY18pO3ZhciBtTT17c2hvdzohMCx6OjAsaW52ZXJzZTohMSxuYW1lOiIiLG5hbWVMb2NhdGlvbjoiZW5kIixuYW1lUm90YXRlOm51bGwsbmFtZVRydW5jYXRlOnttYXhXaWR0aDpudWxsLGVsbGlwc2lzOiIuLi4iLHBsYWNlaG9sZGVyOiIuIn0sbmFtZVRleHRTdHlsZTp7fSxuYW1lR2FwOjE1LHNpbGVudDohMSx0cmlnZ2VyRXZlbnQ6ITEsdG9vbHRpcDp7c2hvdzohMX0sYXhpc1BvaW50ZXI6e30sYXhpc0xpbmU6e3Nob3c6ITAsb25aZXJvOiEwLG9uWmVyb0F4aXNJbmRleDpudWxsLGxpbmVTdHlsZTp7Y29sb3I6IiM2RTcwNzkiLHdpZHRoOjEsdHlwZToic29saWQifSxzeW1ib2w6WyJub25lIiwibm9uZSJdLHN5bWJvbFNpemU6WzEwLDE1XX0sYXhpc1RpY2s6e3Nob3c6ITAsaW5zaWRlOiExLGxlbmd0aDo1LGxpbmVTdHlsZTp7d2lkdGg6MX19LGF4aXNMYWJlbDp7c2hvdzohMCxpbnNpZGU6ITEscm90YXRlOjAsc2hvd01pbkxhYmVsOm51bGwsc2hvd01heExhYmVsOm51bGwsbWFyZ2luOjgsZm9udFNpemU6MTJ9LHNwbGl0TGluZTp7c2hvdzohMCxsaW5lU3R5bGU6e2NvbG9yOlsiI0UwRTZGMSJdLHdpZHRoOjEsdHlwZToic29saWQifX0sc3BsaXRBcmVhOntzaG93OiExLGFyZWFTdHlsZTp7Y29sb3I6WyJyZ2JhKDI1MCwyNTAsMjUwLDAuMikiLCJyZ2JhKDIxMCwyMTksMjM4LDAuMikiXX19fSx4TT1DKHtib3VuZGFyeUdhcDohMCxkZWR1cGxpY2F0aW9uOm51bGwsc3BsaXRMaW5lOntzaG93OiExfSxheGlzVGljazp7YWxpZ25XaXRoTGFiZWw6ITEsaW50ZXJ2YWw6ImF1dG8ifSxheGlzTGFiZWw6e2ludGVydmFsOiJhdXRvIn19LG1NKSxfTT1DKHtib3VuZGFyeUdhcDpbMCwwXSxheGlzTGluZTp7c2hvdzoiYXV0byJ9LGF4aXNUaWNrOntzaG93OiJhdXRvIn0sc3BsaXROdW1iZXI6NSxtaW5vclRpY2s6e3Nob3c6ITEsc3BsaXROdW1iZXI6NSxsZW5ndGg6MyxsaW5lU3R5bGU6e319LG1pbm9yU3BsaXRMaW5lOntzaG93OiExLGxpbmVTdHlsZTp7Y29sb3I6IiNGNEY3RkQiLHdpZHRoOjF9fX0sbU0pLGJNPXtjYXRlZ29yeTp4TSx2YWx1ZTpfTSx0aW1lOkMoe3NwbGl0TnVtYmVyOjYsYXhpc0xhYmVsOntzaG93TWluTGFiZWw6ITEsc2hvd01heExhYmVsOiExLHJpY2g6e3ByaW1hcnk6e2ZvbnRXZWlnaHQ6ImJvbGQifX19LHNwbGl0TGluZTp7c2hvdzohMX19LF9NKSxsb2c6ayh7bG9nQmFzZToxMH0sX00pfSx3TT17dmFsdWU6MSxjYXRlZ29yeToxLHRpbWU6MSxsb2c6MX07ZnVuY3Rpb24gU00odCxlLGkscil7RSh3TSwoZnVuY3Rpb24obyxhKXt2YXIgcz1DKEMoe30sYk1bYV0sITApLHIsITApLGw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gaSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUrIkF4aXMuIithLG59cmV0dXJuIG4oaSx0KSxpLnByb3RvdHlwZS5tZXJnZURlZmF1bHRBbmRUaGVtZT1mdW5jdGlvbih0LGUpe3ZhciBuPWJwKHRoaXMpLGk9bj9TcCh0KTp7fTtDKHQsZS5nZXRUaGVtZSgpLmdldChhKyJBeGlzIikpLEModCx0aGlzLmdldERlZmF1bHRPcHRpb24oKSksdC50eXBlPU1NKHQpLG4mJndwKHQsaSxuKX0saS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbigpeyJjYXRlZ29yeSI9PT10aGlzLm9wdGlvbi50eXBlJiYodGhpcy5fX29yZGluYWxNZXRhPWF4LmNyZWF0ZUJ5QXhpc01vZGVsKHRoaXMpKX0saS5wcm90b3R5cGUuZ2V0Q2F0ZWdvcmllcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbjtpZigiY2F0ZWdvcnkiPT09ZS50eXBlKXJldHVybiB0P2UuZGF0YTp0aGlzLl9fb3JkaW5hbE1ldGEuY2F0ZWdvcmllc30saS5wcm90b3R5cGUuZ2V0T3JkaW5hbE1ldGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX29yZGluYWxNZXRhfSxpLnR5cGU9ZSsiQXhpcy4iK2EsaS5kZWZhdWx0T3B0aW9uPXMsaX0oaSk7dC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKGwpfSkpLHQucmVnaXN0ZXJTdWJUeXBlRGVmYXVsdGVyKGUrIkF4aXMiLE1NKX1mdW5jdGlvbiBNTSh0KXtyZXR1cm4gdC50eXBlfHwodC5kYXRhPyJjYXRlZ29yeSI6InZhbHVlIil9dmFyIElNPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLnR5cGU9ImNhcnRlc2lhbiIsdGhpcy5fZGltTGlzdD1bXSx0aGlzLl9heGVzPXt9LHRoaXMubmFtZT10fHwiIn1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0QXhpcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYXhlc1t0XX0sdC5wcm90b3R5cGUuZ2V0QXhlcz1mdW5jdGlvbigpe3JldHVybiB6KHRoaXMuX2RpbUxpc3QsKGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9heGVzW3RdfSksdGhpcyl9LHQucHJvdG90eXBlLmdldEF4ZXNCeVNjYWxlPWZ1bmN0aW9uKHQpe3JldHVybiB0PXQudG9Mb3dlckNhc2UoKSxCKHRoaXMuZ2V0QXhlcygpLChmdW5jdGlvbihlKXtyZXR1cm4gZS5zY2FsZS50eXBlPT09dH0pKX0sdC5wcm90b3R5cGUuYWRkQXhpcz1mdW5jdGlvbih0KXt2YXIgZT10LmRpbTt0aGlzLl9heGVzW2VdPXQsdGhpcy5fZGltTGlzdC5wdXNoKGUpfSx0fSgpLFRNPVsieCIsInkiXTtmdW5jdGlvbiBDTSh0KXtyZXR1cm4iaW50ZXJ2YWwiPT09dC50eXBlfHwidGltZSI9PT10LnR5cGV9dmFyIERNPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUudHlwZT0iY2FydGVzaWFuMmQiLGUuZGltZW5zaW9ucz1UTSxlfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuY2FsY0FmZmluZVRyYW5zZm9ybT1mdW5jdGlvbigpe3RoaXMuX3RyYW5zZm9ybT10aGlzLl9pbnZUcmFuc2Zvcm09bnVsbDt2YXIgdD10aGlzLmdldEF4aXMoIngiKS5zY2FsZSxlPXRoaXMuZ2V0QXhpcygieSIpLnNjYWxlO2lmKENNKHQpJiZDTShlKSl7dmFyIG49dC5nZXRFeHRlbnQoKSxpPWUuZ2V0RXh0ZW50KCkscj10aGlzLmRhdGFUb1BvaW50KFtuWzBdLGlbMF1dKSxvPXRoaXMuZGF0YVRvUG9pbnQoW25bMV0saVsxXV0pLGE9blsxXS1uWzBdLHM9aVsxXS1pWzBdO2lmKGEmJnMpe3ZhciBsPShvWzBdLXJbMF0pL2EsdT0ob1sxXS1yWzFdKS9zLGg9clswXS1uWzBdKmwsYz1yWzFdLWlbMF0qdSxwPXRoaXMuX3RyYW5zZm9ybT1bbCwwLDAsdSxoLGNdO3RoaXMuX2ludlRyYW5zZm9ybT1CaShbXSxwKX19fSxlLnByb3RvdHlwZS5nZXRCYXNlQXhpcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEF4ZXNCeVNjYWxlKCJvcmRpbmFsIilbMF18fHRoaXMuZ2V0QXhlc0J5U2NhbGUoInRpbWUiKVswXXx8dGhpcy5nZXRBeGlzKCJ4Iil9LGUucHJvdG90eXBlLmNvbnRhaW5Qb2ludD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEF4aXMoIngiKSxuPXRoaXMuZ2V0QXhpcygieSIpO3JldHVybiBlLmNvbnRhaW4oZS50b0xvY2FsQ29vcmQodFswXSkpJiZuLmNvbnRhaW4obi50b0xvY2FsQ29vcmQodFsxXSkpfSxlLnByb3RvdHlwZS5jb250YWluRGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRBeGlzKCJ4IikuY29udGFpbkRhdGEodFswXSkmJnRoaXMuZ2V0QXhpcygieSIpLmNvbnRhaW5EYXRhKHRbMV0pfSxlLnByb3RvdHlwZS5kYXRhVG9Qb2ludD1mdW5jdGlvbih0LGUsbil7bj1ufHxbXTt2YXIgaT10WzBdLHI9dFsxXTtpZih0aGlzLl90cmFuc2Zvcm0mJm51bGwhPWkmJmlzRmluaXRlKGkpJiZudWxsIT1yJiZpc0Zpbml0ZShyKSlyZXR1cm4gRnQobix0LHRoaXMuX3RyYW5zZm9ybSk7dmFyIG89dGhpcy5nZXRBeGlzKCJ4IiksYT10aGlzLmdldEF4aXMoInkiKTtyZXR1cm4gblswXT1vLnRvR2xvYmFsQ29vcmQoby5kYXRhVG9Db29yZChpLGUpKSxuWzFdPWEudG9HbG9iYWxDb29yZChhLmRhdGFUb0Nvb3JkKHIsZSkpLG59LGUucHJvdG90eXBlLmNsYW1wRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZ2V0QXhpcygieCIpLnNjYWxlLGk9dGhpcy5nZXRBeGlzKCJ5Iikuc2NhbGUscj1uLmdldEV4dGVudCgpLG89aS5nZXRFeHRlbnQoKSxhPW4ucGFyc2UodFswXSkscz1pLnBhcnNlKHRbMV0pO3JldHVybihlPWV8fFtdKVswXT1NYXRoLm1pbihNYXRoLm1heChNYXRoLm1pbihyWzBdLHJbMV0pLGEpLE1hdGgubWF4KHJbMF0sclsxXSkpLGVbMV09TWF0aC5taW4oTWF0aC5tYXgoTWF0aC5taW4ob1swXSxvWzFdKSxzKSxNYXRoLm1heChvWzBdLG9bMV0pKSxlfSxlLnByb3RvdHlwZS5wb2ludFRvRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBuPVtdO2lmKHRoaXMuX2ludlRyYW5zZm9ybSlyZXR1cm4gRnQobix0LHRoaXMuX2ludlRyYW5zZm9ybSk7dmFyIGk9dGhpcy5nZXRBeGlzKCJ4Iikscj10aGlzLmdldEF4aXMoInkiKTtyZXR1cm4gblswXT1pLmNvb3JkVG9EYXRhKGkudG9Mb2NhbENvb3JkKHRbMF0pLGUpLG5bMV09ci5jb29yZFRvRGF0YShyLnRvTG9jYWxDb29yZCh0WzFdKSxlKSxufSxlLnByb3RvdHlwZS5nZXRPdGhlckF4aXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0QXhpcygieCI9PT10LmRpbT8ieSI6IngiKX0sZS5wcm90b3R5cGUuZ2V0QXJlYT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0QXhpcygieCIpLmdldEdsb2JhbEV4dGVudCgpLGU9dGhpcy5nZXRBeGlzKCJ5IikuZ2V0R2xvYmFsRXh0ZW50KCksbj1NYXRoLm1pbih0WzBdLHRbMV0pLGk9TWF0aC5taW4oZVswXSxlWzFdKSxyPU1hdGgubWF4KHRbMF0sdFsxXSktbixvPU1hdGgubWF4KGVbMF0sZVsxXSktaTtyZXR1cm4gbmV3IHNyKG4saSxyLG8pfSxlfShJTSksQU09ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSxyLG8pe3ZhciBhPXQuY2FsbCh0aGlzLGUsbixpKXx8dGhpcztyZXR1cm4gYS5pbmRleD0wLGEudHlwZT1yfHwidmFsdWUiLGEucG9zaXRpb249b3x8ImJvdHRvbSIsYX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmlzSG9yaXpvbnRhbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMucG9zaXRpb247cmV0dXJuInRvcCI9PT10fHwiYm90dG9tIj09PXR9LGUucHJvdG90eXBlLmdldEdsb2JhbEV4dGVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEV4dGVudCgpO3JldHVybiBlWzBdPXRoaXMudG9HbG9iYWxDb29yZChlWzBdKSxlWzFdPXRoaXMudG9HbG9iYWxDb29yZChlWzFdKSx0JiZlWzBdPmVbMV0mJmUucmV2ZXJzZSgpLGV9LGUucHJvdG90eXBlLnBvaW50VG9EYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY29vcmRUb0RhdGEodGhpcy50b0xvY2FsQ29vcmQodFsieCI9PT10aGlzLmRpbT8wOjFdKSxlKX0sZS5wcm90b3R5cGUuc2V0Q2F0ZWdvcnlTb3J0SW5mbz1mdW5jdGlvbih0KXtpZigiY2F0ZWdvcnkiIT09dGhpcy50eXBlKXJldHVybiExO3RoaXMubW9kZWwub3B0aW9uLmNhdGVnb3J5U29ydEluZm89dCx0aGlzLnNjYWxlLnNldFNvcnRJbmZvKHQpfSxlfShXXyk7ZnVuY3Rpb24ga00odCxlLG4pe249bnx8e307dmFyIGk9dC5jb29yZGluYXRlU3lzdGVtLHI9ZS5heGlzLG89e30sYT1yLmdldEF4ZXNPblplcm9PZigpWzBdLHM9ci5wb3NpdGlvbixsPWE/Im9uWmVybyI6cyx1PXIuZGltLGg9aS5nZXRSZWN0KCksYz1baC54LGgueCtoLndpZHRoLGgueSxoLnkraC5oZWlnaHRdLHA9e2xlZnQ6MCxyaWdodDoxLHRvcDowLGJvdHRvbToxLG9uWmVybzoyfSxkPWUuZ2V0KCJvZmZzZXQiKXx8MCxmPSJ4Ij09PXU/W2NbMl0tZCxjWzNdK2RdOltjWzBdLWQsY1sxXStkXTtpZihhKXt2YXIgZz1hLnRvR2xvYmFsQ29vcmQoYS5kYXRhVG9Db29yZCgwKSk7ZltwLm9uWmVyb109TWF0aC5tYXgoTWF0aC5taW4oZyxmWzFdKSxmWzBdKX1vLnBvc2l0aW9uPVsieSI9PT11P2ZbcFtsXV06Y1swXSwieCI9PT11P2ZbcFtsXV06Y1szXV0sby5yb3RhdGlvbj1NYXRoLlBJLzIqKCJ4Ij09PXU/MDoxKTtvLmxhYmVsRGlyZWN0aW9uPW8udGlja0RpcmVjdGlvbj1vLm5hbWVEaXJlY3Rpb249e3RvcDotMSxib3R0b206MSxsZWZ0Oi0xLHJpZ2h0OjF9W3NdLG8ubGFiZWxPZmZzZXQ9YT9mW3Bbc11dLWZbcC5vblplcm9dOjAsZS5nZXQoWyJheGlzVGljayIsImluc2lkZSJdKSYmKG8udGlja0RpcmVjdGlvbj0tby50aWNrRGlyZWN0aW9uKSxpdChuLmxhYmVsSW5zaWRlLGUuZ2V0KFsiYXhpc0xhYmVsIiwiaW5zaWRlIl0pKSYmKG8ubGFiZWxEaXJlY3Rpb249LW8ubGFiZWxEaXJlY3Rpb24pO3ZhciB5PWUuZ2V0KFsiYXhpc0xhYmVsIiwicm90YXRlIl0pO3JldHVybiBvLmxhYmVsUm90YXRlPSJ0b3AiPT09bD8teTp5LG8uejI9MSxvfWZ1bmN0aW9uIExNKHQpe3JldHVybiJjYXJ0ZXNpYW4yZCI9PT10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpfWZ1bmN0aW9uIFBNKHQpe3ZhciBlPXt4QXhpc01vZGVsOm51bGwseUF4aXNNb2RlbDpudWxsfTtyZXR1cm4gRShlLChmdW5jdGlvbihuLGkpe3ZhciByPWkucmVwbGFjZSgvTW9kZWwkLywiIiksbz10LmdldFJlZmVycmluZ0NvbXBvbmVudHMocixDbykubW9kZWxzWzBdO2VbaV09b30pKSxlfXZhciBPTT1NYXRoLmxvZztmdW5jdGlvbiBSTSh0LGUsbil7dmFyIGk9bXgucHJvdG90eXBlLHI9aS5nZXRUaWNrcy5jYWxsKG4pLG89aS5nZXRUaWNrcy5jYWxsKG4sITApLGE9ci5sZW5ndGgtMSxzPWkuZ2V0SW50ZXJ2YWwuY2FsbChuKSxsPW5fKHQsZSksdT1sLmV4dGVudCxoPWwuZml4TWluLGM9bC5maXhNYXg7aWYoImxvZyI9PT10LnR5cGUpe3ZhciBwPU9NKHQuYmFzZSk7dT1bT00odVswXSkvcCxPTSh1WzFdKS9wXX10LnNldEV4dGVudCh1WzBdLHVbMV0pLHQuY2FsY05pY2VFeHRlbnQoe3NwbGl0TnVtYmVyOmEsZml4TWluOmgsZml4TWF4OmN9KTt2YXIgZD1pLmdldEV4dGVudC5jYWxsKHQpO2gmJih1WzBdPWRbMF0pLGMmJih1WzFdPWRbMV0pO3ZhciBmPWkuZ2V0SW50ZXJ2YWwuY2FsbCh0KSxnPXVbMF0seT11WzFdO2lmKGgmJmMpZj0oeS1nKS9hO2Vsc2UgaWYoaClmb3IoeT11WzBdK2YqYTt5PHVbMV0mJmlzRmluaXRlKHkpJiZpc0Zpbml0ZSh1WzFdKTspZj1oeChmKSx5PXVbMF0rZiphO2Vsc2UgaWYoYylmb3IoZz11WzFdLWYqYTtnPnVbMF0mJmlzRmluaXRlKGcpJiZpc0Zpbml0ZSh1WzBdKTspZj1oeChmKSxnPXVbMV0tZiphO2Vsc2V7dC5nZXRUaWNrcygpLmxlbmd0aC0xPmEmJihmPWh4KGYpKTt2YXIgdj1mKmE7KGc9enIoKHk9TWF0aC5jZWlsKHVbMV0vZikqZiktdikpPDAmJnVbMF0+PTA/KGc9MCx5PXpyKHYpKTp5PjAmJnVbMV08PTAmJih5PTAsZz0tenIodikpfXZhciBtPShyWzBdLnZhbHVlLW9bMF0udmFsdWUpL3MseD0oclthXS52YWx1ZS1vW2FdLnZhbHVlKS9zO2kuc2V0RXh0ZW50LmNhbGwodCxnK2YqbSx5K2YqeCksaS5zZXRJbnRlcnZhbC5jYWxsKHQsZiksKG18fHgpJiZpLnNldE5pY2VFeHRlbnQuY2FsbCh0LGcrZix5LWYpfXZhciBOTT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMudHlwZT0iZ3JpZCIsdGhpcy5fY29vcmRzTWFwPXt9LHRoaXMuX2Nvb3Jkc0xpc3Q9W10sdGhpcy5fYXhlc01hcD17fSx0aGlzLl9heGVzTGlzdD1bXSx0aGlzLmF4aXNQb2ludGVyRW5hYmxlZD0hMCx0aGlzLmRpbWVuc2lvbnM9VE0sdGhpcy5faW5pdENhcnRlc2lhbih0LGUsbiksdGhpcy5tb2RlbD10fXJldHVybiB0LnByb3RvdHlwZS5nZXRSZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlY3R9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2F4ZXNNYXA7ZnVuY3Rpb24gaSh0KXt2YXIgZSxuPUcodCksaT1uLmxlbmd0aDtpZihpKXtmb3IodmFyIHI9W10sbz1pLTE7bz49MDtvLS0pe3ZhciBhPXRbK25bb11dLHM9YS5tb2RlbCxsPWEuc2NhbGU7bHgobCkmJnMuZ2V0KCJhbGlnblRpY2tzIikmJm51bGw9PXMuZ2V0KCJpbnRlcnZhbCIpP3IucHVzaChhKTooaV8obCxzKSxseChsKSYmKGU9YSkpfXIubGVuZ3RoJiYoZXx8aV8oKGU9ci5wb3AoKSkuc2NhbGUsZS5tb2RlbCksRShyLChmdW5jdGlvbih0KXtSTSh0LnNjYWxlLHQubW9kZWwsZS5zY2FsZSl9KSkpfX10aGlzLl91cGRhdGVTY2FsZSh0LHRoaXMubW9kZWwpLGkobi54KSxpKG4ueSk7dmFyIHI9e307RShuLngsKGZ1bmN0aW9uKHQpe3pNKG4sInkiLHQscil9KSksRShuLnksKGZ1bmN0aW9uKHQpe3pNKG4sIngiLHQscil9KSksdGhpcy5yZXNpemUodGhpcy5tb2RlbCxlKX0sdC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldEJveExheW91dFBhcmFtcygpLHI9IW4mJnQuZ2V0KCJjb250YWluTGFiZWwiKSxvPXhwKGkse3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0pO3RoaXMuX3JlY3Q9bzt2YXIgYT10aGlzLl9heGVzTGlzdDtmdW5jdGlvbiBzKCl7RShhLChmdW5jdGlvbih0KXt2YXIgZT10LmlzSG9yaXpvbnRhbCgpLG49ZT9bMCxvLndpZHRoXTpbMCxvLmhlaWdodF0saT10LmludmVyc2U/MTowO3Quc2V0RXh0ZW50KG5baV0sblsxLWldKSxmdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0RXh0ZW50KCksaT1uWzBdK25bMV07dC50b0dsb2JhbENvb3JkPSJ4Ij09PXQuZGltP2Z1bmN0aW9uKHQpe3JldHVybiB0K2V9OmZ1bmN0aW9uKHQpe3JldHVybiBpLXQrZX0sdC50b0xvY2FsQ29vcmQ9IngiPT09dC5kaW0/ZnVuY3Rpb24odCl7cmV0dXJuIHQtZX06ZnVuY3Rpb24odCl7cmV0dXJuIGktdCtlfX0odCxlP28ueDpvLnkpfSkpfXMoKSxyJiYoRShhLChmdW5jdGlvbih0KXtpZighdC5tb2RlbC5nZXQoWyJheGlzTGFiZWwiLCJpbnNpZGUiXSkpe3ZhciBlPWZ1bmN0aW9uKHQpe3ZhciBlPXQubW9kZWwsbj10LnNjYWxlO2lmKGUuZ2V0KFsiYXhpc0xhYmVsIiwic2hvdyJdKSYmIW4uaXNCbGFuaygpKXt2YXIgaSxyLG89bi5nZXRFeHRlbnQoKTtyPW4gaW5zdGFuY2VvZiB5eD9uLmNvdW50KCk6KGk9bi5nZXRUaWNrcygpKS5sZW5ndGg7dmFyIGEscz10LmdldExhYmVsTW9kZWwoKSxsPW9fKHQpLHU9MTtyPjQwJiYodT1NYXRoLmNlaWwoci80MCkpO2Zvcih2YXIgaD0wO2g8cjtoKz11KXt2YXIgYz1sKGk/aVtoXTp7dmFsdWU6b1swXStofSxoKSxwPXNfKHMuZ2V0VGV4dFJlY3QoYykscy5nZXQoInJvdGF0ZSIpfHwwKTthP2EudW5pb24ocCk6YT1wfXJldHVybiBhfX0odCk7aWYoZSl7dmFyIG49dC5pc0hvcml6b250YWwoKT8iaGVpZ2h0Ijoid2lkdGgiLGk9dC5tb2RlbC5nZXQoWyJheGlzTGFiZWwiLCJtYXJnaW4iXSk7b1tuXS09ZVtuXStpLCJ0b3AiPT09dC5wb3NpdGlvbj9vLnkrPWUuaGVpZ2h0K2k6ImxlZnQiPT09dC5wb3NpdGlvbiYmKG8ueCs9ZS53aWR0aCtpKX19fSkpLHMoKSksRSh0aGlzLl9jb29yZHNMaXN0LChmdW5jdGlvbih0KXt0LmNhbGNBZmZpbmVUcmFuc2Zvcm0oKX0pKX0sdC5wcm90b3R5cGUuZ2V0QXhpcz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2F4ZXNNYXBbdF07aWYobnVsbCE9bilyZXR1cm4gbltlfHwwXX0sdC5wcm90b3R5cGUuZ2V0QXhlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9heGVzTGlzdC5zbGljZSgpfSx0LnByb3RvdHlwZS5nZXRDYXJ0ZXNpYW49ZnVuY3Rpb24odCxlKXtpZihudWxsIT10JiZudWxsIT1lKXt2YXIgbj0ieCIrdCsieSIrZTtyZXR1cm4gdGhpcy5fY29vcmRzTWFwW25dfXEodCkmJihlPXQueUF4aXNJbmRleCx0PXQueEF4aXNJbmRleCk7Zm9yKHZhciBpPTAscj10aGlzLl9jb29yZHNMaXN0O2k8ci5sZW5ndGg7aSsrKWlmKHJbaV0uZ2V0QXhpcygieCIpLmluZGV4PT09dHx8cltpXS5nZXRBeGlzKCJ5IikuaW5kZXg9PT1lKXJldHVybiByW2ldfSx0LnByb3RvdHlwZS5nZXRDYXJ0ZXNpYW5zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nvb3Jkc0xpc3Quc2xpY2UoKX0sdC5wcm90b3R5cGUuY29udmVydFRvUGl4ZWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuX2ZpbmRDb252ZXJ0VGFyZ2V0KGUpO3JldHVybiBpLmNhcnRlc2lhbj9pLmNhcnRlc2lhbi5kYXRhVG9Qb2ludChuKTppLmF4aXM/aS5heGlzLnRvR2xvYmFsQ29vcmQoaS5heGlzLmRhdGFUb0Nvb3JkKG4pKTpudWxsfSx0LnByb3RvdHlwZS5jb252ZXJ0RnJvbVBpeGVsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLl9maW5kQ29udmVydFRhcmdldChlKTtyZXR1cm4gaS5jYXJ0ZXNpYW4/aS5jYXJ0ZXNpYW4ucG9pbnRUb0RhdGEobik6aS5heGlzP2kuYXhpcy5jb29yZFRvRGF0YShpLmF4aXMudG9Mb2NhbENvb3JkKG4pKTpudWxsfSx0LnByb3RvdHlwZS5fZmluZENvbnZlcnRUYXJnZXQ9ZnVuY3Rpb24odCl7dmFyIGUsbixpPXQuc2VyaWVzTW9kZWwscj10LnhBeGlzTW9kZWx8fGkmJmkuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygieEF4aXMiLENvKS5tb2RlbHNbMF0sbz10LnlBeGlzTW9kZWx8fGkmJmkuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygieUF4aXMiLENvKS5tb2RlbHNbMF0sYT10LmdyaWRNb2RlbCxzPXRoaXMuX2Nvb3Jkc0xpc3Q7aWYoaSlQKHMsZT1pLmNvb3JkaW5hdGVTeXN0ZW0pPDAmJihlPW51bGwpO2Vsc2UgaWYociYmbyllPXRoaXMuZ2V0Q2FydGVzaWFuKHIuY29tcG9uZW50SW5kZXgsby5jb21wb25lbnRJbmRleCk7ZWxzZSBpZihyKW49dGhpcy5nZXRBeGlzKCJ4IixyLmNvbXBvbmVudEluZGV4KTtlbHNlIGlmKG8pbj10aGlzLmdldEF4aXMoInkiLG8uY29tcG9uZW50SW5kZXgpO2Vsc2UgaWYoYSl7YS5jb29yZGluYXRlU3lzdGVtPT09dGhpcyYmKGU9dGhpcy5fY29vcmRzTGlzdFswXSl9cmV0dXJue2NhcnRlc2lhbjplLGF4aXM6bn19LHQucHJvdG90eXBlLmNvbnRhaW5Qb2ludD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jb29yZHNMaXN0WzBdO2lmKGUpcmV0dXJuIGUuY29udGFpblBvaW50KHQpfSx0LnByb3RvdHlwZS5faW5pdENhcnRlc2lhbj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcyxyPXRoaXMsbz17bGVmdDohMSxyaWdodDohMSx0b3A6ITEsYm90dG9tOiExfSxhPXt4Ont9LHk6e319LHM9e3g6MCx5OjB9O2lmKGUuZWFjaENvbXBvbmVudCgieEF4aXMiLGwoIngiKSx0aGlzKSxlLmVhY2hDb21wb25lbnQoInlBeGlzIixsKCJ5IiksdGhpcyksIXMueHx8IXMueSlyZXR1cm4gdGhpcy5fYXhlc01hcD17fSx2b2lkKHRoaXMuX2F4ZXNMaXN0PVtdKTtmdW5jdGlvbiBsKGUpe3JldHVybiBmdW5jdGlvbihuLGkpe2lmKEVNKG4sdCkpe3ZhciBsPW4uZ2V0KCJwb3NpdGlvbiIpOyJ4Ij09PWU/InRvcCIhPT1sJiYiYm90dG9tIiE9PWwmJihsPW8uYm90dG9tPyJ0b3AiOiJib3R0b20iKToibGVmdCIhPT1sJiYicmlnaHQiIT09bCYmKGw9by5sZWZ0PyJyaWdodCI6ImxlZnQiKSxvW2xdPSEwO3ZhciB1PW5ldyBBTShlLHJfKG4pLFswLDBdLG4uZ2V0KCJ0eXBlIiksbCksaD0iY2F0ZWdvcnkiPT09dS50eXBlO3Uub25CYW5kPWgmJm4uZ2V0KCJib3VuZGFyeUdhcCIpLHUuaW52ZXJzZT1uLmdldCgiaW52ZXJzZSIpLG4uYXhpcz11LHUubW9kZWw9bix1LmdyaWQ9cix1LmluZGV4PWksci5fYXhlc0xpc3QucHVzaCh1KSxhW2VdW2ldPXUsc1tlXSsrfX19dGhpcy5fYXhlc01hcD1hLEUoYS54LChmdW5jdGlvbihlLG4pe0UoYS55LChmdW5jdGlvbihyLG8pe3ZhciBhPSJ4IituKyJ5IitvLHM9bmV3IERNKGEpO3MubWFzdGVyPWkscy5tb2RlbD10LGkuX2Nvb3Jkc01hcFthXT1zLGkuX2Nvb3Jkc0xpc3QucHVzaChzKSxzLmFkZEF4aXMoZSkscy5hZGRBeGlzKHIpfSkpfSkpfSx0LnByb3RvdHlwZS5fdXBkYXRlU2NhbGU9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQsZSl7RShoXyh0LGUuZGltKSwoZnVuY3Rpb24obil7ZS5zY2FsZS51bmlvbkV4dGVudEZyb21EYXRhKHQsbil9KSl9RSh0aGlzLl9heGVzTGlzdCwoZnVuY3Rpb24odCl7aWYodC5zY2FsZS5zZXRFeHRlbnQoMS8wLC0xLzApLCJjYXRlZ29yeSI9PT10LnR5cGUpe3ZhciBlPXQubW9kZWwuZ2V0KCJjYXRlZ29yeVNvcnRJbmZvIik7dC5zY2FsZS5zZXRTb3J0SW5mbyhlKX19KSksdC5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXtpZihMTSh0KSl7dmFyIGk9UE0odCkscj1pLnhBeGlzTW9kZWwsbz1pLnlBeGlzTW9kZWw7aWYoIUVNKHIsZSl8fCFFTShvLGUpKXJldHVybjt2YXIgYT10aGlzLmdldENhcnRlc2lhbihyLmNvbXBvbmVudEluZGV4LG8uY29tcG9uZW50SW5kZXgpLHM9dC5nZXREYXRhKCksbD1hLmdldEF4aXMoIngiKSx1PWEuZ2V0QXhpcygieSIpO24ocyxsKSxuKHMsdSl9fSksdGhpcyl9LHQucHJvdG90eXBlLmdldFRvb2x0aXBBeGVzPWZ1bmN0aW9uKHQpe3ZhciBlPVtdLG49W107cmV0dXJuIEUodGhpcy5nZXRDYXJ0ZXNpYW5zKCksKGZ1bmN0aW9uKGkpe3ZhciByPW51bGwhPXQmJiJhdXRvIiE9PXQ/aS5nZXRBeGlzKHQpOmkuZ2V0QmFzZUF4aXMoKSxvPWkuZ2V0T3RoZXJBeGlzKHIpO1AoZSxyKTwwJiZlLnB1c2gociksUChuLG8pPDAmJm4ucHVzaChvKX0pKSx7YmFzZUF4ZXM6ZSxvdGhlckF4ZXM6bn19LHQuY3JlYXRlPWZ1bmN0aW9uKGUsbil7dmFyIGk9W107cmV0dXJuIGUuZWFjaENvbXBvbmVudCgiZ3JpZCIsKGZ1bmN0aW9uKHIsbyl7dmFyIGE9bmV3IHQocixlLG4pO2EubmFtZT0iZ3JpZF8iK28sYS5yZXNpemUocixuLCEwKSxyLmNvb3JkaW5hdGVTeXN0ZW09YSxpLnB1c2goYSl9KSksZS5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXtpZihMTSh0KSl7dmFyIGU9UE0odCksbj1lLnhBeGlzTW9kZWwsaT1lLnlBeGlzTW9kZWwscj1uLmdldENvb3JkU3lzTW9kZWwoKTswO3ZhciBvPXIuY29vcmRpbmF0ZVN5c3RlbTt0LmNvb3JkaW5hdGVTeXN0ZW09by5nZXRDYXJ0ZXNpYW4obi5jb21wb25lbnRJbmRleCxpLmNvbXBvbmVudEluZGV4KX19KSksaX0sdC5kaW1lbnNpb25zPVRNLHR9KCk7ZnVuY3Rpb24gRU0odCxlKXtyZXR1cm4gdC5nZXRDb29yZFN5c01vZGVsKCk9PT1lfWZ1bmN0aW9uIHpNKHQsZSxuLGkpe24uZ2V0QXhlc09uWmVyb09mPWZ1bmN0aW9uKCl7cmV0dXJuIHI/W3JdOltdfTt2YXIgcixvPXRbZV0sYT1uLm1vZGVsLHM9YS5nZXQoWyJheGlzTGluZSIsIm9uWmVybyJdKSxsPWEuZ2V0KFsiYXhpc0xpbmUiLCJvblplcm9BeGlzSW5kZXgiXSk7aWYocyl7aWYobnVsbCE9bClWTShvW2xdKSYmKHI9b1tsXSk7ZWxzZSBmb3IodmFyIHUgaW4gbylpZihvLmhhc093blByb3BlcnR5KHUpJiZWTShvW3VdKSYmIWlbaChvW3VdKV0pe3I9b1t1XTticmVha31yJiYoaVtoKHIpXT0hMCl9ZnVuY3Rpb24gaCh0KXtyZXR1cm4gdC5kaW0rIl8iK3QuaW5kZXh9fWZ1bmN0aW9uIFZNKHQpe3JldHVybiB0JiYiY2F0ZWdvcnkiIT09dC50eXBlJiYidGltZSIhPT10LnR5cGUmJmZ1bmN0aW9uKHQpe3ZhciBlPXQuc2NhbGUuZ2V0RXh0ZW50KCksbj1lWzBdLGk9ZVsxXTtyZXR1cm4hKG4+MCYmaT4wfHxuPDAmJmk8MCl9KHQpfXZhciBCTT1NYXRoLlBJLEZNPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuZ3JvdXA9bmV3IENyLHRoaXMub3B0PWUsdGhpcy5heGlzTW9kZWw9dCxrKGUse2xhYmVsT2Zmc2V0OjAsbmFtZURpcmVjdGlvbjoxLHRpY2tEaXJlY3Rpb246MSxsYWJlbERpcmVjdGlvbjoxLHNpbGVudDohMCxoYW5kbGVBdXRvU2hvd246ZnVuY3Rpb24oKXtyZXR1cm4hMH19KTt2YXIgbj1uZXcgQ3Ioe3g6ZS5wb3NpdGlvblswXSx5OmUucG9zaXRpb25bMV0scm90YXRpb246ZS5yb3RhdGlvbn0pO24udXBkYXRlVHJhbnNmb3JtKCksdGhpcy5fdHJhbnNmb3JtR3JvdXA9bn1yZXR1cm4gdC5wcm90b3R5cGUuaGFzQnVpbGRlcj1mdW5jdGlvbih0KXtyZXR1cm4hIUdNW3RdfSx0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7R01bdF0odGhpcy5vcHQsdGhpcy5heGlzTW9kZWwsdGhpcy5ncm91cCx0aGlzLl90cmFuc2Zvcm1Hcm91cCl9LHQucHJvdG90eXBlLmdldEdyb3VwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3JvdXB9LHQuaW5uZXJUZXh0TGF5b3V0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyLG89VXIoZS10KTtyZXR1cm4gWHIobyk/KHI9bj4wPyJ0b3AiOiJib3R0b20iLGk9ImNlbnRlciIpOlhyKG8tQk0pPyhyPW4+MD8iYm90dG9tIjoidG9wIixpPSJjZW50ZXIiKToocj0ibWlkZGxlIixpPW8+MCYmbzxCTT9uPjA/InJpZ2h0IjoibGVmdCI6bj4wPyJsZWZ0IjoicmlnaHQiKSx7cm90YXRpb246byx0ZXh0QWxpZ246aSx0ZXh0VmVydGljYWxBbGlnbjpyfX0sdC5tYWtlQXhpc0V2ZW50RGF0YUJhc2U9ZnVuY3Rpb24odCl7dmFyIGU9e2NvbXBvbmVudFR5cGU6dC5tYWluVHlwZSxjb21wb25lbnRJbmRleDp0LmNvbXBvbmVudEluZGV4fTtyZXR1cm4gZVt0Lm1haW5UeXBlKyJJbmRleCJdPXQuY29tcG9uZW50SW5kZXgsZX0sdC5pc0xhYmVsU2lsZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KCJ0b29sdGlwIik7cmV0dXJuIHQuZ2V0KCJzaWxlbnQiKXx8ISh0LmdldCgidHJpZ2dlckV2ZW50Iil8fGUmJmUuc2hvdyl9LHR9KCksR009e2F4aXNMaW5lOmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWUuZ2V0KFsiYXhpc0xpbmUiLCJzaG93Il0pO2lmKCJhdXRvIj09PXImJnQuaGFuZGxlQXV0b1Nob3duJiYocj10LmhhbmRsZUF1dG9TaG93bigiYXhpc0xpbmUiKSkscil7dmFyIG89ZS5heGlzLmdldEV4dGVudCgpLGE9aS50cmFuc2Zvcm0scz1bb1swXSwwXSxsPVtvWzFdLDBdO2EmJihGdChzLHMsYSksRnQobCxsLGEpKTt2YXIgdT1BKHtsaW5lQ2FwOiJyb3VuZCJ9LGUuZ2V0TW9kZWwoWyJheGlzTGluZSIsImxpbmVTdHlsZSJdKS5nZXRMaW5lU3R5bGUoKSksaD1uZXcgenUoe3N1YlBpeGVsT3B0aW1pemU6ITAsc2hhcGU6e3gxOnNbMF0seTE6c1sxXSx4MjpsWzBdLHkyOmxbMV19LHN0eWxlOnUsc3Ryb2tlQ29udGFpblRocmVzaG9sZDp0LnN0cm9rZUNvbnRhaW5UaHJlc2hvbGR8fDUsc2lsZW50OiEwLHoyOjF9KTtoLmFuaWQ9ImxpbmUiLG4uYWRkKGgpO3ZhciBjPWUuZ2V0KFsiYXhpc0xpbmUiLCJzeW1ib2wiXSk7aWYobnVsbCE9Yyl7dmFyIHA9ZS5nZXQoWyJheGlzTGluZSIsInN5bWJvbFNpemUiXSk7WChjKSYmKGM9W2MsY10pLChYKHApfHxqKHApKSYmKHA9W3AscF0pO3ZhciBkPU95KGUuZ2V0KFsiYXhpc0xpbmUiLCJzeW1ib2xPZmZzZXQiXSl8fDAscCksZj1wWzBdLGc9cFsxXTtFKFt7cm90YXRlOnQucm90YXRpb24rTWF0aC5QSS8yLG9mZnNldDpkWzBdLHI6MH0se3JvdGF0ZTp0LnJvdGF0aW9uLU1hdGguUEkvMixvZmZzZXQ6ZFsxXSxyOk1hdGguc3FydCgoc1swXS1sWzBdKSooc1swXS1sWzBdKSsoc1sxXS1sWzFdKSooc1sxXS1sWzFdKSl9XSwoZnVuY3Rpb24oZSxpKXtpZigibm9uZSIhPT1jW2ldJiZudWxsIT1jW2ldKXt2YXIgcj1MeShjW2ldLC1mLzIsLWcvMixmLGcsdS5zdHJva2UsITApLG89ZS5yK2Uub2Zmc2V0O3IuYXR0cih7cm90YXRpb246ZS5yb3RhdGUseDpzWzBdK28qTWF0aC5jb3ModC5yb3RhdGlvbikseTpzWzFdLW8qTWF0aC5zaW4odC5yb3RhdGlvbiksc2lsZW50OiEwLHoyOjExfSksbi5hZGQocil9fSkpfX19LGF4aXNUaWNrTGFiZWw6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bi5heGlzLG89bi5nZXRNb2RlbCgiYXhpc1RpY2siKSxhPW8uZ2V0KCJzaG93Iik7ImF1dG8iPT09YSYmaS5oYW5kbGVBdXRvU2hvd24mJihhPWkuaGFuZGxlQXV0b1Nob3duKCJheGlzVGljayIpKTtpZighYXx8ci5zY2FsZS5pc0JsYW5rKCkpcmV0dXJuO2Zvcih2YXIgcz1vLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxsPWkudGlja0RpcmVjdGlvbipvLmdldCgibGVuZ3RoIiksdT1VTShyLmdldFRpY2tzQ29vcmRzKCksZS50cmFuc2Zvcm0sbCxrKHMuZ2V0TGluZVN0eWxlKCkse3N0cm9rZTpuLmdldChbImF4aXNMaW5lIiwibGluZVN0eWxlIiwiY29sb3IiXSl9KSwidGlja3MiKSxoPTA7aDx1Lmxlbmd0aDtoKyspdC5hZGQodVtoXSk7cmV0dXJuIHV9KG4saSxlLHQpLG89ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bi5heGlzO2lmKCFpdChpLmF4aXNMYWJlbFNob3csbi5nZXQoWyJheGlzTGFiZWwiLCJzaG93Il0pKXx8ci5zY2FsZS5pc0JsYW5rKCkpcmV0dXJuO3ZhciBvPW4uZ2V0TW9kZWwoImF4aXNMYWJlbCIpLGE9by5nZXQoIm1hcmdpbiIpLHM9ci5nZXRWaWV3TGFiZWxzKCksbD0oaXQoaS5sYWJlbFJvdGF0ZSxvLmdldCgicm90YXRlIikpfHwwKSpCTS8xODAsdT1GTS5pbm5lclRleHRMYXlvdXQoaS5yb3RhdGlvbixsLGkubGFiZWxEaXJlY3Rpb24pLGg9bi5nZXRDYXRlZ29yaWVzJiZuLmdldENhdGVnb3JpZXMoITApLGM9W10scD1GTS5pc0xhYmVsU2lsZW50KG4pLGQ9bi5nZXQoInRyaWdnZXJFdmVudCIpO3JldHVybiBFKHMsKGZ1bmN0aW9uKHMsbCl7dmFyIGY9Im9yZGluYWwiPT09ci5zY2FsZS50eXBlP3Iuc2NhbGUuZ2V0UmF3T3JkaW5hbE51bWJlcihzLnRpY2tWYWx1ZSk6cy50aWNrVmFsdWUsZz1zLmZvcm1hdHRlZExhYmVsLHk9cy5yYXdMYWJlbCx2PW87aWYoaCYmaFtmXSl7dmFyIG09aFtmXTtxKG0pJiZtLnRleHRTdHlsZSYmKHY9bmV3IGRjKG0udGV4dFN0eWxlLG8sbi5lY01vZGVsKSl9dmFyIHg9di5nZXRUZXh0Q29sb3IoKXx8bi5nZXQoWyJheGlzTGluZSIsImxpbmVTdHlsZSIsImNvbG9yIl0pLF89ci5kYXRhVG9Db29yZChmKSxiPW5ldyBrcyh7eDpfLHk6aS5sYWJlbE9mZnNldCtpLmxhYmVsRGlyZWN0aW9uKmEscm90YXRpb246dS5yb3RhdGlvbixzaWxlbnQ6cCx6MjoxMCsocy5sZXZlbHx8MCksc3R5bGU6VWgodix7dGV4dDpnLGFsaWduOnYuZ2V0U2hhbGxvdygiYWxpZ24iLCEwKXx8dS50ZXh0QWxpZ24sdmVydGljYWxBbGlnbjp2LmdldFNoYWxsb3coInZlcnRpY2FsQWxpZ24iLCEwKXx8di5nZXRTaGFsbG93KCJiYXNlbGluZSIsITApfHx1LnRleHRWZXJ0aWNhbEFsaWduLGZpbGw6VSh4KT94KCJjYXRlZ29yeSI9PT1yLnR5cGU/eToidmFsdWUiPT09ci50eXBlP2YrIiI6ZixsKTp4fSl9KTtpZihiLmFuaWQ9ImxhYmVsXyIrZixkKXt2YXIgdz1GTS5tYWtlQXhpc0V2ZW50RGF0YUJhc2Uobik7dy50YXJnZXRUeXBlPSJheGlzTGFiZWwiLHcudmFsdWU9eSx3LnRpY2tJbmRleD1sLCJjYXRlZ29yeSI9PT1yLnR5cGUmJih3LmRhdGFJbmRleD1mKSxIcyhiKS5ldmVudERhdGE9d31lLmFkZChiKSxiLnVwZGF0ZVRyYW5zZm9ybSgpLGMucHVzaChiKSx0LmFkZChiKSxiLmRlY29tcG9zZVRyYW5zZm9ybSgpfSkpLGN9KG4saSxlLHQpOyhmdW5jdGlvbih0LGUsbil7aWYodV8odC5heGlzKSlyZXR1cm47dmFyIGk9dC5nZXQoWyJheGlzTGFiZWwiLCJzaG93TWluTGFiZWwiXSkscj10LmdldChbImF4aXNMYWJlbCIsInNob3dNYXhMYWJlbCJdKTtuPW58fFtdO3ZhciBvPShlPWV8fFtdKVswXSxhPWVbMV0scz1lW2UubGVuZ3RoLTFdLGw9ZVtlLmxlbmd0aC0yXSx1PW5bMF0saD1uWzFdLGM9bltuLmxlbmd0aC0xXSxwPW5bbi5sZW5ndGgtMl07ITE9PT1pPyhXTShvKSxXTSh1KSk6SE0obyxhKSYmKGk/KFdNKGEpLFdNKGgpKTooV00obyksV00odSkpKTshMT09PXI/KFdNKHMpLFdNKGMpKTpITShsLHMpJiYocj8oV00obCksV00ocCkpOihXTShzKSxXTShjKSkpfShlLG8sciksZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bi5heGlzLG89bi5nZXRNb2RlbCgibWlub3JUaWNrIik7aWYoIW8uZ2V0KCJzaG93Iil8fHIuc2NhbGUuaXNCbGFuaygpKXJldHVybjt2YXIgYT1yLmdldE1pbm9yVGlja3NDb29yZHMoKTtpZighYS5sZW5ndGgpcmV0dXJuO2Zvcih2YXIgcz1vLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxsPWkqby5nZXQoImxlbmd0aCIpLHU9ayhzLmdldExpbmVTdHlsZSgpLGsobi5nZXRNb2RlbCgiYXhpc1RpY2siKS5nZXRMaW5lU3R5bGUoKSx7c3Ryb2tlOm4uZ2V0KFsiYXhpc0xpbmUiLCJsaW5lU3R5bGUiLCJjb2xvciJdKX0pKSxoPTA7aDxhLmxlbmd0aDtoKyspZm9yKHZhciBjPVVNKGFbaF0sZS50cmFuc2Zvcm0sbCx1LCJtaW5vcnRpY2tzXyIraCkscD0wO3A8Yy5sZW5ndGg7cCsrKXQuYWRkKGNbcF0pfShuLGksZSx0LnRpY2tEaXJlY3Rpb24pLGUuZ2V0KFsiYXhpc0xhYmVsIiwiaGlkZU92ZXJsYXAiXSkpJiZ2YihmYih6KG8sKGZ1bmN0aW9uKHQpe3JldHVybntsYWJlbDp0LHByaW9yaXR5OnQuejIsZGVmYXVsdEF0dHI6e2lnbm9yZTp0Lmlnbm9yZX19fSkpKSl9LGF4aXNOYW1lOmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWl0KHQuYXhpc05hbWUsZS5nZXQoIm5hbWUiKSk7aWYocil7dmFyIG8sYSxzPWUuZ2V0KCJuYW1lTG9jYXRpb24iKSxsPXQubmFtZURpcmVjdGlvbix1PWUuZ2V0TW9kZWwoIm5hbWVUZXh0U3R5bGUiKSxoPWUuZ2V0KCJuYW1lR2FwIil8fDAsYz1lLmF4aXMuZ2V0RXh0ZW50KCkscD1jWzBdPmNbMV0/LTE6MSxkPVsic3RhcnQiPT09cz9jWzBdLXAqaDoiZW5kIj09PXM/Y1sxXStwKmg6KGNbMF0rY1sxXSkvMixZTShzKT90LmxhYmVsT2Zmc2V0K2wqaDowXSxmPWUuZ2V0KCJuYW1lUm90YXRlIik7bnVsbCE9ZiYmKGY9ZipCTS8xODApLFlNKHMpP289Rk0uaW5uZXJUZXh0TGF5b3V0KHQucm90YXRpb24sbnVsbCE9Zj9mOnQucm90YXRpb24sbCk6KG89ZnVuY3Rpb24odCxlLG4saSl7dmFyIHIsbyxhPVVyKG4tdCkscz1pWzBdPmlbMV0sbD0ic3RhcnQiPT09ZSYmIXN8fCJzdGFydCIhPT1lJiZzO1hyKGEtQk0vMik/KG89bD8iYm90dG9tIjoidG9wIixyPSJjZW50ZXIiKTpYcihhLTEuNSpCTSk/KG89bD8idG9wIjoiYm90dG9tIixyPSJjZW50ZXIiKToobz0ibWlkZGxlIixyPWE8MS41KkJNJiZhPkJNLzI/bD8ibGVmdCI6InJpZ2h0IjpsPyJyaWdodCI6ImxlZnQiKTtyZXR1cm57cm90YXRpb246YSx0ZXh0QWxpZ246cix0ZXh0VmVydGljYWxBbGlnbjpvfX0odC5yb3RhdGlvbixzLGZ8fDAsYyksbnVsbCE9KGE9dC5heGlzTmFtZUF2YWlsYWJsZVdpZHRoKSYmKGE9TWF0aC5hYnMoYS9NYXRoLnNpbihvLnJvdGF0aW9uKSksIWlzRmluaXRlKGEpJiYoYT1udWxsKSkpO3ZhciBnPXUuZ2V0Rm9udCgpLHk9ZS5nZXQoIm5hbWVUcnVuY2F0ZSIsITApfHx7fSx2PXkuZWxsaXBzaXMsbT1pdCh0Lm5hbWVUcnVuY2F0ZU1heFdpZHRoLHkubWF4V2lkdGgsYSkseD1uZXcga3Moe3g6ZFswXSx5OmRbMV0scm90YXRpb246by5yb3RhdGlvbixzaWxlbnQ6Rk0uaXNMYWJlbFNpbGVudChlKSxzdHlsZTpVaCh1LHt0ZXh0OnIsZm9udDpnLG92ZXJmbG93OiJ0cnVuY2F0ZSIsd2lkdGg6bSxlbGxpcHNpczp2LGZpbGw6dS5nZXRUZXh0Q29sb3IoKXx8ZS5nZXQoWyJheGlzTGluZSIsImxpbmVTdHlsZSIsImNvbG9yIl0pLGFsaWduOnUuZ2V0KCJhbGlnbiIpfHxvLnRleHRBbGlnbix2ZXJ0aWNhbEFsaWduOnUuZ2V0KCJ2ZXJ0aWNhbEFsaWduIil8fG8udGV4dFZlcnRpY2FsQWxpZ259KSx6MjoxfSk7aWYoRWgoe2VsOngsY29tcG9uZW50TW9kZWw6ZSxpdGVtTmFtZTpyfSkseC5fX2Z1bGxUZXh0PXIseC5hbmlkPSJuYW1lIixlLmdldCgidHJpZ2dlckV2ZW50Iikpe3ZhciBfPUZNLm1ha2VBeGlzRXZlbnREYXRhQmFzZShlKTtfLnRhcmdldFR5cGU9ImF4aXNOYW1lIixfLm5hbWU9cixIcyh4KS5ldmVudERhdGE9X31pLmFkZCh4KSx4LnVwZGF0ZVRyYW5zZm9ybSgpLG4uYWRkKHgpLHguZGVjb21wb3NlVHJhbnNmb3JtKCl9fX07ZnVuY3Rpb24gV00odCl7dCYmKHQuaWdub3JlPSEwKX1mdW5jdGlvbiBITSh0LGUpe3ZhciBuPXQmJnQuZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKSxpPWUmJmUuZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKTtpZihuJiZpKXt2YXIgcj1PaShbXSk7cmV0dXJuIHppKHIsciwtdC5yb3RhdGlvbiksbi5hcHBseVRyYW5zZm9ybShOaShbXSxyLHQuZ2V0TG9jYWxUcmFuc2Zvcm0oKSkpLGkuYXBwbHlUcmFuc2Zvcm0oTmkoW10scixlLmdldExvY2FsVHJhbnNmb3JtKCkpKSxuLmludGVyc2VjdChpKX19ZnVuY3Rpb24gWU0odCl7cmV0dXJuIm1pZGRsZSI9PT10fHwiY2VudGVyIj09PXR9ZnVuY3Rpb24gVU0odCxlLG4saSxyKXtmb3IodmFyIG89W10sYT1bXSxzPVtdLGw9MDtsPHQubGVuZ3RoO2wrKyl7dmFyIHU9dFtsXS5jb29yZDthWzBdPXUsYVsxXT0wLHNbMF09dSxzWzFdPW4sZSYmKEZ0KGEsYSxlKSxGdChzLHMsZSkpO3ZhciBoPW5ldyB6dSh7c3ViUGl4ZWxPcHRpbWl6ZTohMCxzaGFwZTp7eDE6YVswXSx5MTphWzFdLHgyOnNbMF0seTI6c1sxXX0sc3R5bGU6aSx6MjoyLGF1dG9CYXRjaDohMCxzaWxlbnQ6ITB9KTtoLmFuaWQ9cisiXyIrdFtsXS50aWNrVmFsdWUsby5wdXNoKGgpfXJldHVybiBvfWZ1bmN0aW9uIFhNKHQsZSl7dmFyIG49e2F4ZXNJbmZvOnt9LHNlcmllc0ludm9sdmVkOiExLGNvb3JkU3lzQXhlc0luZm86e30sY29vcmRTeXNNYXA6e319O3JldHVybiBmdW5jdGlvbih0LGUsbil7dmFyIGk9ZS5nZXRDb21wb25lbnQoInRvb2x0aXAiKSxyPWUuZ2V0Q29tcG9uZW50KCJheGlzUG9pbnRlciIpLG89ci5nZXQoImxpbmsiLCEwKXx8W10sYT1bXTtFKG4uZ2V0Q29vcmRpbmF0ZVN5c3RlbXMoKSwoZnVuY3Rpb24obil7aWYobi5heGlzUG9pbnRlckVuYWJsZWQpe3ZhciBzPSRNKG4ubW9kZWwpLGw9dC5jb29yZFN5c0F4ZXNJbmZvW3NdPXt9O3QuY29vcmRTeXNNYXBbc109bjt2YXIgdT1uLm1vZGVsLmdldE1vZGVsKCJ0b29sdGlwIixpKTtpZihFKG4uZ2V0QXhlcygpLEgoZCwhMSxudWxsKSksbi5nZXRUb29sdGlwQXhlcyYmaSYmdS5nZXQoInNob3ciKSl7dmFyIGg9ImF4aXMiPT09dS5nZXQoInRyaWdnZXIiKSxjPSJjcm9zcyI9PT11LmdldChbImF4aXNQb2ludGVyIiwidHlwZSJdKSxwPW4uZ2V0VG9vbHRpcEF4ZXModS5nZXQoWyJheGlzUG9pbnRlciIsImF4aXMiXSkpOyhofHxjKSYmRShwLmJhc2VBeGVzLEgoZCwhY3x8ImNyb3NzIixoKSksYyYmRShwLm90aGVyQXhlcyxIKGQsImNyb3NzIiwhMSkpfX1mdW5jdGlvbiBkKGkscyxoKXt2YXIgYz1oLm1vZGVsLmdldE1vZGVsKCJheGlzUG9pbnRlciIscikscD1jLmdldCgic2hvdyIpO2lmKHAmJigiYXV0byIhPT1wfHxpfHxLTShjKSkpe251bGw9PXMmJihzPWMuZ2V0KCJ0cmlnZ2VyVG9vbHRpcCIpKTt2YXIgZD0oYz1pP2Z1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYT1lLmdldE1vZGVsKCJheGlzUG9pbnRlciIpLHM9e307RShbInR5cGUiLCJzbmFwIiwibGluZVN0eWxlIiwic2hhZG93U3R5bGUiLCJsYWJlbCIsImFuaW1hdGlvbiIsImFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlIiwiYW5pbWF0aW9uRWFzaW5nVXBkYXRlIiwieiJdLChmdW5jdGlvbih0KXtzW3RdPVQoYS5nZXQodCkpfSkpLHMuc25hcD0iY2F0ZWdvcnkiIT09dC50eXBlJiYhIW8sImNyb3NzIj09PWEuZ2V0KCJ0eXBlIikmJihzLnR5cGU9ImxpbmUiKTt2YXIgbD1zLmxhYmVsfHwocy5sYWJlbD17fSk7aWYobnVsbD09bC5zaG93JiYobC5zaG93PSExKSwiY3Jvc3MiPT09cil7dmFyIHU9YS5nZXQoWyJsYWJlbCIsInNob3ciXSk7aWYobC5zaG93PW51bGw9PXV8fHUsIW8pe3ZhciBoPXMubGluZVN0eWxlPWEuZ2V0KCJjcm9zc1N0eWxlIik7aCYmayhsLGgudGV4dFN0eWxlKX19cmV0dXJuIHQubW9kZWwuZ2V0TW9kZWwoImF4aXNQb2ludGVyIixuZXcgZGMocyxuLGkpKX0oaCx1LHIsZSxpLHMpOmMpLmdldCgic25hcCIpLGY9JE0oaC5tb2RlbCksZz1zfHxkfHwiY2F0ZWdvcnkiPT09aC50eXBlLHk9dC5heGVzSW5mb1tmXT17a2V5OmYsYXhpczpoLGNvb3JkU3lzOm4sYXhpc1BvaW50ZXJNb2RlbDpjLHRyaWdnZXJUb29sdGlwOnMsaW52b2x2ZVNlcmllczpnLHNuYXA6ZCx1c2VIYW5kbGU6S00oYyksc2VyaWVzTW9kZWxzOltdLGxpbmtHcm91cDpudWxsfTtsW2ZdPXksdC5zZXJpZXNJbnZvbHZlZD10LnNlcmllc0ludm9sdmVkfHxnO3ZhciB2PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWUubW9kZWwsaT1lLmRpbSxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl18fHt9O2lmKFpNKG9baSsiQXhpc0lkIl0sbi5pZCl8fFpNKG9baSsiQXhpc0luZGV4Il0sbi5jb21wb25lbnRJbmRleCl8fFpNKG9baSsiQXhpc05hbWUiXSxuLm5hbWUpKXJldHVybiByfX0obyxoKTtpZihudWxsIT12KXt2YXIgbT1hW3ZdfHwoYVt2XT17YXhlc0luZm86e319KTttLmF4ZXNJbmZvW2ZdPXksbS5tYXBwZXI9b1t2XS5tYXBwZXIseS5saW5rR3JvdXA9bX19fX0pKX0obix0LGUpLG4uc2VyaWVzSW52b2x2ZWQmJmZ1bmN0aW9uKHQsZSl7ZS5lYWNoU2VyaWVzKChmdW5jdGlvbihlKXt2YXIgbj1lLmNvb3JkaW5hdGVTeXN0ZW0saT1lLmdldChbInRvb2x0aXAiLCJ0cmlnZ2VyIl0sITApLHI9ZS5nZXQoWyJ0b29sdGlwIiwic2hvdyJdLCEwKTtuJiYibm9uZSIhPT1pJiYhMSE9PWkmJiJpdGVtIiE9PWkmJiExIT09ciYmITEhPT1lLmdldChbImF4aXNQb2ludGVyIiwic2hvdyJdLCEwKSYmRSh0LmNvb3JkU3lzQXhlc0luZm9bJE0obi5tb2RlbCldLChmdW5jdGlvbih0KXt2YXIgaT10LmF4aXM7bi5nZXRBeGlzKGkuZGltKT09PWkmJih0LnNlcmllc01vZGVscy5wdXNoKGUpLG51bGw9PXQuc2VyaWVzRGF0YUNvdW50JiYodC5zZXJpZXNEYXRhQ291bnQ9MCksdC5zZXJpZXNEYXRhQ291bnQrPWUuZ2V0RGF0YSgpLmNvdW50KCkpfSkpfSkpfShuLHQpLG59ZnVuY3Rpb24gWk0odCxlKXtyZXR1cm4iYWxsIj09PXR8fFkodCkmJlAodCxlKT49MHx8dD09PWV9ZnVuY3Rpb24gak0odCl7dmFyIGU9cU0odCk7aWYoZSl7dmFyIG49ZS5heGlzUG9pbnRlck1vZGVsLGk9ZS5heGlzLnNjYWxlLHI9bi5vcHRpb24sbz1uLmdldCgic3RhdHVzIiksYT1uLmdldCgidmFsdWUiKTtudWxsIT1hJiYoYT1pLnBhcnNlKGEpKTt2YXIgcz1LTShuKTtudWxsPT1vJiYoci5zdGF0dXM9cz8ic2hvdyI6ImhpZGUiKTt2YXIgbD1pLmdldEV4dGVudCgpLnNsaWNlKCk7bFswXT5sWzFdJiZsLnJldmVyc2UoKSwobnVsbD09YXx8YT5sWzFdKSYmKGE9bFsxXSksYTxsWzBdJiYoYT1sWzBdKSxyLnZhbHVlPWEscyYmKHIuc3RhdHVzPWUuYXhpcy5zY2FsZS5pc0JsYW5rKCk/ImhpZGUiOiJzaG93Iil9fWZ1bmN0aW9uIHFNKHQpe3ZhciBlPSh0LmVjTW9kZWwuZ2V0Q29tcG9uZW50KCJheGlzUG9pbnRlciIpfHx7fSkuY29vcmRTeXNBeGVzSW5mbztyZXR1cm4gZSYmZS5heGVzSW5mb1skTSh0KV19ZnVuY3Rpb24gS00odCl7cmV0dXJuISF0LmdldChbImhhbmRsZSIsInNob3ciXSl9ZnVuY3Rpb24gJE0odCl7cmV0dXJuIHQudHlwZSsifHwiK3QuaWR9dmFyIEpNPXt9LFFNPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlLG4saSxyKXt0aGlzLmF4aXNQb2ludGVyQ2xhc3MmJmpNKGUpLHQucHJvdG90eXBlLnJlbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fZG9VcGRhdGVBeGlzUG9pbnRlckNsYXNzKGUsaSwhMCl9LGUucHJvdG90eXBlLnVwZGF0ZUF4aXNQb2ludGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMuX2RvVXBkYXRlQXhpc1BvaW50ZXJDbGFzcyh0LG4sITEpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9heGlzUG9pbnRlcjtuJiZuLnJlbW92ZShlKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbihlLG4pe3RoaXMuX2Rpc3Bvc2VBeGlzUG9pbnRlcihuKSx0LnByb3RvdHlwZS5kaXNwb3NlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5wcm90b3R5cGUuX2RvVXBkYXRlQXhpc1BvaW50ZXJDbGFzcz1mdW5jdGlvbih0LG4saSl7dmFyIHI9ZS5nZXRBeGlzUG9pbnRlckNsYXNzKHRoaXMuYXhpc1BvaW50ZXJDbGFzcyk7aWYocil7dmFyIG89ZnVuY3Rpb24odCl7dmFyIGU9cU0odCk7cmV0dXJuIGUmJmUuYXhpc1BvaW50ZXJNb2RlbH0odCk7bz8odGhpcy5fYXhpc1BvaW50ZXJ8fCh0aGlzLl9heGlzUG9pbnRlcj1uZXcgcikpLnJlbmRlcih0LG8sbixpKTp0aGlzLl9kaXNwb3NlQXhpc1BvaW50ZXIobil9fSxlLnByb3RvdHlwZS5fZGlzcG9zZUF4aXNQb2ludGVyPWZ1bmN0aW9uKHQpe3RoaXMuX2F4aXNQb2ludGVyJiZ0aGlzLl9heGlzUG9pbnRlci5kaXNwb3NlKHQpLHRoaXMuX2F4aXNQb2ludGVyPW51bGx9LGUucmVnaXN0ZXJBeGlzUG9pbnRlckNsYXNzPWZ1bmN0aW9uKHQsZSl7Sk1bdF09ZX0sZS5nZXRBeGlzUG9pbnRlckNsYXNzPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZKTVt0XX0sZS50eXBlPSJheGlzIixlfShnZyksdEk9U28oKTtmdW5jdGlvbiBlSSh0LGUsbixpKXt2YXIgcj1uLmF4aXM7aWYoIXIuc2NhbGUuaXNCbGFuaygpKXt2YXIgbz1uLmdldE1vZGVsKCJzcGxpdEFyZWEiKSxhPW8uZ2V0TW9kZWwoImFyZWFTdHlsZSIpLHM9YS5nZXQoImNvbG9yIiksbD1pLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0UmVjdCgpLHU9ci5nZXRUaWNrc0Nvb3Jkcyh7dGlja01vZGVsOm8sY2xhbXA6ITB9KTtpZih1Lmxlbmd0aCl7dmFyIGg9cy5sZW5ndGgsYz10SSh0KS5zcGxpdEFyZWFDb2xvcnMscD1mdCgpLGQ9MDtpZihjKWZvcih2YXIgZj0wO2Y8dS5sZW5ndGg7ZisrKXt2YXIgZz1jLmdldCh1W2ZdLnRpY2tWYWx1ZSk7aWYobnVsbCE9Zyl7ZD0oZysoaC0xKSpmKSVoO2JyZWFrfX12YXIgeT1yLnRvR2xvYmFsQ29vcmQodVswXS5jb29yZCksdj1hLmdldEFyZWFTdHlsZSgpO3M9WShzKT9zOltzXTtmb3IoZj0xO2Y8dS5sZW5ndGg7ZisrKXt2YXIgbT1yLnRvR2xvYmFsQ29vcmQodVtmXS5jb29yZCkseD12b2lkIDAsXz12b2lkIDAsYj12b2lkIDAsdz12b2lkIDA7ci5pc0hvcml6b250YWwoKT8oeD15LF89bC55LGI9bS14LHc9bC5oZWlnaHQseT14K2IpOih4PWwueCxfPXksYj1sLndpZHRoLHk9Xysodz1tLV8pKTt2YXIgUz11W2YtMV0udGlja1ZhbHVlO251bGwhPVMmJnAuc2V0KFMsZCksZS5hZGQobmV3IENzKHthbmlkOm51bGwhPVM/ImFyZWFfIitTOm51bGwsc2hhcGU6e3g6eCx5Ol8sd2lkdGg6YixoZWlnaHQ6d30sc3R5bGU6ayh7ZmlsbDpzW2RdfSx2KSxhdXRvQmF0Y2g6ITAsc2lsZW50OiEwfSkpLGQ9KGQrMSklaH10SSh0KS5zcGxpdEFyZWFDb2xvcnM9cH19fWZ1bmN0aW9uIG5JKHQpe3RJKHQpLnNwbGl0QXJlYUNvbG9ycz1udWxsfXZhciBpST1bImF4aXNMaW5lIiwiYXhpc1RpY2tMYWJlbCIsImF4aXNOYW1lIl0sckk9WyJzcGxpdEFyZWEiLCJzcGxpdExpbmUiLCJtaW5vclNwbGl0TGluZSJdLG9JPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5heGlzUG9pbnRlckNsYXNzPSJDYXJ0ZXNpYW5BeGlzUG9pbnRlciIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlLG4saSxyKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpO3ZhciBvPXRoaXMuX2F4aXNHcm91cDtpZih0aGlzLl9heGlzR3JvdXA9bmV3IENyLHRoaXMuZ3JvdXAuYWRkKHRoaXMuX2F4aXNHcm91cCksZS5nZXQoInNob3ciKSl7dmFyIGE9ZS5nZXRDb29yZFN5c01vZGVsKCkscz1rTShhLGUpLGw9bmV3IEZNKGUsQSh7aGFuZGxlQXV0b1Nob3duOmZ1bmN0aW9uKHQpe2Zvcih2YXIgbj1hLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0Q2FydGVzaWFucygpLGk9MDtpPG4ubGVuZ3RoO2krKylpZihseChuW2ldLmdldE90aGVyQXhpcyhlLmF4aXMpLnNjYWxlKSlyZXR1cm4hMDtyZXR1cm4hMX19LHMpKTtFKGlJLGwuYWRkLGwpLHRoaXMuX2F4aXNHcm91cC5hZGQobC5nZXRHcm91cCgpKSxFKHJJLChmdW5jdGlvbih0KXtlLmdldChbdCwic2hvdyJdKSYmYUlbdF0odGhpcyx0aGlzLl9heGlzR3JvdXAsZSxhKX0pLHRoaXMpLHImJiJjaGFuZ2VBeGlzT3JkZXIiPT09ci50eXBlJiZyLmlzSW5pdFNvcnR8fEFoKG8sdGhpcy5fYXhpc0dyb3VwLGUpLHQucHJvdG90eXBlLnJlbmRlci5jYWxsKHRoaXMsZSxuLGkscil9fSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXtuSSh0aGlzKX0sZS50eXBlPSJjYXJ0ZXNpYW5BeGlzIixlfShRTSksYUk9e3NwbGl0TGluZTpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uLmF4aXM7aWYoIXIuc2NhbGUuaXNCbGFuaygpKXt2YXIgbz1uLmdldE1vZGVsKCJzcGxpdExpbmUiKSxhPW8uZ2V0TW9kZWwoImxpbmVTdHlsZSIpLHM9YS5nZXQoImNvbG9yIik7cz1ZKHMpP3M6W3NdO2Zvcih2YXIgbD1pLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0UmVjdCgpLHU9ci5pc0hvcml6b250YWwoKSxoPTAsYz1yLmdldFRpY2tzQ29vcmRzKHt0aWNrTW9kZWw6b30pLHA9W10sZD1bXSxmPWEuZ2V0TGluZVN0eWxlKCksZz0wO2c8Yy5sZW5ndGg7ZysrKXt2YXIgeT1yLnRvR2xvYmFsQ29vcmQoY1tnXS5jb29yZCk7dT8ocFswXT15LHBbMV09bC55LGRbMF09eSxkWzFdPWwueStsLmhlaWdodCk6KHBbMF09bC54LHBbMV09eSxkWzBdPWwueCtsLndpZHRoLGRbMV09eSk7dmFyIHY9aCsrJXMubGVuZ3RoLG09Y1tnXS50aWNrVmFsdWU7ZS5hZGQobmV3IHp1KHthbmlkOm51bGwhPW0/ImxpbmVfIitjW2ddLnRpY2tWYWx1ZTpudWxsLHN1YlBpeGVsT3B0aW1pemU6ITAsYXV0b0JhdGNoOiEwLHNoYXBlOnt4MTpwWzBdLHkxOnBbMV0seDI6ZFswXSx5MjpkWzFdfSxzdHlsZTprKHtzdHJva2U6c1t2XX0sZiksc2lsZW50OiEwfSkpfX19LG1pbm9yU3BsaXRMaW5lOmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPW4uYXhpcyxvPW4uZ2V0TW9kZWwoIm1pbm9yU3BsaXRMaW5lIikuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLGE9aS5jb29yZGluYXRlU3lzdGVtLmdldFJlY3QoKSxzPXIuaXNIb3Jpem9udGFsKCksbD1yLmdldE1pbm9yVGlja3NDb29yZHMoKTtpZihsLmxlbmd0aClmb3IodmFyIHU9W10saD1bXSxjPW8uZ2V0TGluZVN0eWxlKCkscD0wO3A8bC5sZW5ndGg7cCsrKWZvcih2YXIgZD0wO2Q8bFtwXS5sZW5ndGg7ZCsrKXt2YXIgZj1yLnRvR2xvYmFsQ29vcmQobFtwXVtkXS5jb29yZCk7cz8odVswXT1mLHVbMV09YS55LGhbMF09ZixoWzFdPWEueSthLmhlaWdodCk6KHVbMF09YS54LHVbMV09ZixoWzBdPWEueCthLndpZHRoLGhbMV09ZiksZS5hZGQobmV3IHp1KHthbmlkOiJtaW5vcl9saW5lXyIrbFtwXVtkXS50aWNrVmFsdWUsc3ViUGl4ZWxPcHRpbWl6ZTohMCxhdXRvQmF0Y2g6ITAsc2hhcGU6e3gxOnVbMF0seTE6dVsxXSx4MjpoWzBdLHkyOmhbMV19LHN0eWxlOmMsc2lsZW50OiEwfSkpfX0sc3BsaXRBcmVhOmZ1bmN0aW9uKHQsZSxuLGkpe2VJKHQsZSxuLGkpfX0sc0k9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS50eXBlPSJ4QXhpcyIsZX0ob0kpLGxJPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUudHlwZT1zSS50eXBlLGV9cmV0dXJuIG4oZSx0KSxlLnR5cGU9InlBeGlzIixlfShvSSksdUk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS50eXBlPSJncmlkIixlfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0LmdldCgic2hvdyIpJiZ0aGlzLmdyb3VwLmFkZChuZXcgQ3Moe3NoYXBlOnQuY29vcmRpbmF0ZVN5c3RlbS5nZXRSZWN0KCksc3R5bGU6ayh7ZmlsbDp0LmdldCgiYmFja2dyb3VuZENvbG9yIil9LHQuZ2V0SXRlbVN0eWxlKCkpLHNpbGVudDohMCx6MjotMX0pKX0sZS50eXBlPSJncmlkIixlfShnZyksaEk9e29mZnNldDowfTtmdW5jdGlvbiBjSSh0KXt0LnJlZ2lzdGVyQ29tcG9uZW50Vmlldyh1SSksdC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKHlNKSx0LnJlZ2lzdGVyQ29vcmRpbmF0ZVN5c3RlbSgiY2FydGVzaWFuMmQiLE5NKSxTTSh0LCJ4Iix2TSxoSSksU00odCwieSIsdk0saEkpLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KHNJKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhsSSksdC5yZWdpc3RlclByZXByb2Nlc3NvcigoZnVuY3Rpb24odCl7dC54QXhpcyYmdC55QXhpcyYmIXQuZ3JpZCYmKHQuZ3JpZD17fSl9KSl9ZnVuY3Rpb24gcEkodCl7dC5lYWNoU2VyaWVzQnlUeXBlKCJyYWRhciIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RGF0YSgpLG49W10saT10LmNvb3JkaW5hdGVTeXN0ZW07aWYoaSl7dmFyIHI9aS5nZXRJbmRpY2F0b3JBeGVzKCk7RShyLChmdW5jdGlvbih0LG8pe2UuZWFjaChlLm1hcERpbWVuc2lvbihyW29dLmRpbSksKGZ1bmN0aW9uKHQsZSl7bltlXT1uW2VdfHxbXTt2YXIgcj1pLmRhdGFUb1BvaW50KHQsbyk7bltlXVtvXT1kSShyKT9yOmZJKGkpfSkpfSkpLGUuZWFjaCgoZnVuY3Rpb24odCl7dmFyIHI9RihuW3RdLChmdW5jdGlvbih0KXtyZXR1cm4gZEkodCl9KSl8fGZJKGkpO25bdF0ucHVzaChyLnNsaWNlKCkpLGUuc2V0SXRlbUxheW91dCh0LG5bdF0pfSkpfX0pKX1mdW5jdGlvbiBkSSh0KXtyZXR1cm4haXNOYU4odFswXSkmJiFpc05hTih0WzFdKX1mdW5jdGlvbiBmSSh0KXtyZXR1cm5bdC5jeCx0LmN5XX1mdW5jdGlvbiBnSSh0KXt2YXIgZT10LnBvbGFyO2lmKGUpe1koZSl8fChlPVtlXSk7dmFyIG49W107RShlLChmdW5jdGlvbihlLGkpe2UuaW5kaWNhdG9yPyhlLnR5cGUmJiFlLnNoYXBlJiYoZS5zaGFwZT1lLnR5cGUpLHQucmFkYXI9dC5yYWRhcnx8W10sWSh0LnJhZGFyKXx8KHQucmFkYXI9W3QucmFkYXJdKSx0LnJhZGFyLnB1c2goZSkpOm4ucHVzaChlKX0pKSx0LnBvbGFyPW59RSh0LnNlcmllcywoZnVuY3Rpb24odCl7dCYmInJhZGFyIj09PXQudHlwZSYmdC5wb2xhckluZGV4JiYodC5yYWRhckluZGV4PXQucG9sYXJJbmRleCl9KSl9dmFyIHlJPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5jb29yZGluYXRlU3lzdGVtLHI9dGhpcy5ncm91cCxvPXQuZ2V0RGF0YSgpLGE9dGhpcy5fZGF0YTtmdW5jdGlvbiBzKHQsZSl7dmFyIG49dC5nZXRJdGVtVmlzdWFsKGUsInN5bWJvbCIpfHwiY2lyY2xlIjtpZigibm9uZSIhPT1uKXt2YXIgaT1QeSh0LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sU2l6ZSIpKSxyPUx5KG4sLTEsLTEsMiwyKSxvPXQuZ2V0SXRlbVZpc3VhbChlLCJzeW1ib2xSb3RhdGUiKXx8MDtyZXR1cm4gci5hdHRyKHtzdHlsZTp7c3Ryb2tlTm9TY2FsZTohMH0sejI6MTAwLHNjYWxlWDppWzBdLzIsc2NhbGVZOmlbMV0vMixyb3RhdGlvbjpvKk1hdGguUEkvMTgwfHwwfSkscn19ZnVuY3Rpb24gbChlLG4saSxyLG8sYSl7aS5yZW1vdmVBbGwoKTtmb3IodmFyIGw9MDtsPG4ubGVuZ3RoLTE7bCsrKXt2YXIgdT1zKHIsbyk7dSYmKHUuX19kaW1JZHg9bCxlW2xdPyh1LnNldFBvc2l0aW9uKGVbbF0pLEJoW2E/ImluaXRQcm9wcyI6InVwZGF0ZVByb3BzIl0odSx7eDpuW2xdWzBdLHk6bltsXVsxXX0sdCxvKSk6dS5zZXRQb3NpdGlvbihuW2xdKSxpLmFkZCh1KSl9fWZ1bmN0aW9uIHUodCl7cmV0dXJuIHoodCwoZnVuY3Rpb24odCl7cmV0dXJuW2kuY3gsaS5jeV19KSl9by5kaWZmKGEpLmFkZCgoZnVuY3Rpb24oZSl7dmFyIG49by5nZXRJdGVtTGF5b3V0KGUpO2lmKG4pe3ZhciBpPW5ldyBQdSxyPW5ldyBSdSxhPXtzaGFwZTp7cG9pbnRzOm59fTtpLnNoYXBlLnBvaW50cz11KG4pLHIuc2hhcGUucG9pbnRzPXUobiksb2goaSxhLHQsZSksb2gocixhLHQsZSk7dmFyIHM9bmV3IENyLGg9bmV3IENyO3MuYWRkKHIpLHMuYWRkKGkpLHMuYWRkKGgpLGwoci5zaGFwZS5wb2ludHMsbixoLG8sZSwhMCksby5zZXRJdGVtR3JhcGhpY0VsKGUscyl9fSkpLnVwZGF0ZSgoZnVuY3Rpb24oZSxuKXt2YXIgaT1hLmdldEl0ZW1HcmFwaGljRWwobikscj1pLmNoaWxkQXQoMCkscz1pLmNoaWxkQXQoMSksdT1pLmNoaWxkQXQoMiksaD17c2hhcGU6e3BvaW50czpvLmdldEl0ZW1MYXlvdXQoZSl9fTtoLnNoYXBlLnBvaW50cyYmKGwoci5zaGFwZS5wb2ludHMsaC5zaGFwZS5wb2ludHMsdSxvLGUsITEpLGhoKHMpLGhoKHIpLHJoKHIsaCx0KSxyaChzLGgsdCksby5zZXRJdGVtR3JhcGhpY0VsKGUsaSkpfSkpLnJlbW92ZSgoZnVuY3Rpb24odCl7ci5yZW1vdmUoYS5nZXRJdGVtR3JhcGhpY0VsKHQpKX0pKS5leGVjdXRlKCksby5lYWNoSXRlbUdyYXBoaWNFbCgoZnVuY3Rpb24odCxlKXt2YXIgbj1vLmdldEl0ZW1Nb2RlbChlKSxpPXQuY2hpbGRBdCgwKSxhPXQuY2hpbGRBdCgxKSxzPXQuY2hpbGRBdCgyKSxsPW8uZ2V0SXRlbVZpc3VhbChlLCJzdHlsZSIpLHU9bC5maWxsO3IuYWRkKHQpLGkudXNlU3R5bGUoayhuLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSx7ZmlsbDoibm9uZSIsc3Ryb2tlOnV9KSksVmwoaSxuLCJsaW5lU3R5bGUiKSxWbChhLG4sImFyZWFTdHlsZSIpO3ZhciBoPW4uZ2V0TW9kZWwoImFyZWFTdHlsZSIpLGM9aC5pc0VtcHR5KCkmJmgucGFyZW50TW9kZWwuaXNFbXB0eSgpO2EuaWdub3JlPWMsRShbImVtcGhhc2lzIiwic2VsZWN0IiwiYmx1ciJdLChmdW5jdGlvbih0KXt2YXIgZT1uLmdldE1vZGVsKFt0LCJhcmVhU3R5bGUiXSksaT1lLmlzRW1wdHkoKSYmZS5wYXJlbnRNb2RlbC5pc0VtcHR5KCk7YS5lbnN1cmVTdGF0ZSh0KS5pZ25vcmU9aSYmY30pKSxhLnVzZVN0eWxlKGsoaC5nZXRBcmVhU3R5bGUoKSx7ZmlsbDp1LG9wYWNpdHk6LjcsZGVjYWw6bC5kZWNhbH0pKTt2YXIgcD1uLmdldE1vZGVsKCJlbXBoYXNpcyIpLGQ9cC5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCk7cy5lYWNoQ2hpbGQoKGZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBfcyl7dmFyIGk9dC5zdHlsZTt0LnVzZVN0eWxlKEEoe2ltYWdlOmkuaW1hZ2UseDppLngseTppLnksd2lkdGg6aS53aWR0aCxoZWlnaHQ6aS5oZWlnaHR9LGwpKX1lbHNlIHQudXNlU3R5bGUobCksdC5zZXRDb2xvcih1KSx0LnN0eWxlLnN0cm9rZU5vU2NhbGU9ITA7dC5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKS5zdHlsZT1UKGQpO3ZhciByPW8uZ2V0U3RvcmUoKS5nZXQoby5nZXREaW1lbnNpb25JbmRleCh0Ll9fZGltSWR4KSxlKTsobnVsbD09cnx8aXNOYU4ocikpJiYocj0iIiksSGgodCxZaChuKSx7bGFiZWxGZXRjaGVyOm8uaG9zdE1vZGVsLGxhYmVsRGF0YUluZGV4OmUsbGFiZWxEaW1JbmRleDp0Ll9fZGltSWR4LGRlZmF1bHRUZXh0OnIsaW5oZXJpdENvbG9yOnUsZGVmYXVsdE9wYWNpdHk6bC5vcGFjaXR5fSl9KSksUmwodCxwLmdldCgiZm9jdXMiKSxwLmdldCgiYmx1clNjb3BlIikscC5nZXQoImRpc2FibGVkIikpfSkpLHRoaXMuX2RhdGE9b30sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0aGlzLl9kYXRhPW51bGx9LGUudHlwZT0icmFkYXIiLGV9KHhnKSx2ST1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uaGFzU3ltYm9sVmlzdWFsPSEwLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMubGVnZW5kVmlzdWFsUHJvdmlkZXI9bmV3IHVNKFcodGhpcy5nZXREYXRhLHRoaXMpLFcodGhpcy5nZXRSYXdEYXRhLHRoaXMpKX0sZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbE0odGhpcyx7Z2VuZXJhdGVDb29yZDoiaW5kaWNhdG9yXyIsZ2VuZXJhdGVDb29yZENvdW50OjEvMH0pfSxlLnByb3RvdHlwZS5mb3JtYXRUb29sdGlwPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmdldERhdGEoKSxyPXRoaXMuY29vcmRpbmF0ZVN5c3RlbS5nZXRJbmRpY2F0b3JBeGVzKCksbz10aGlzLmdldERhdGEoKS5nZXROYW1lKHQpLGE9IiI9PT1vP3RoaXMubmFtZTpvLHM9ZWcodGhpcyx0KTtyZXR1cm4gWGYoInNlY3Rpb24iLHtoZWFkZXI6YSxzb3J0QmxvY2tzOiEwLGJsb2Nrczp6KHIsKGZ1bmN0aW9uKGUpe3ZhciBuPWkuZ2V0KGkubWFwRGltZW5zaW9uKGUuZGltKSx0KTtyZXR1cm4gWGYoIm5hbWVWYWx1ZSIse21hcmtlclR5cGU6InN1Ykl0ZW0iLG1hcmtlckNvbG9yOnMsbmFtZTplLm5hbWUsdmFsdWU6bixzb3J0UGFyYW06bn0pfSkpfSl9LGUucHJvdG90eXBlLmdldFRvb2x0aXBQb3NpdGlvbj1mdW5jdGlvbih0KXtpZihudWxsIT10KWZvcih2YXIgZT10aGlzLmdldERhdGEoKSxuPXRoaXMuY29vcmRpbmF0ZVN5c3RlbSxpPWUuZ2V0VmFsdWVzKHoobi5kaW1lbnNpb25zLChmdW5jdGlvbih0KXtyZXR1cm4gZS5tYXBEaW1lbnNpb24odCl9KSksdCkscj0wLG89aS5sZW5ndGg7cjxvO3IrKylpZighaXNOYU4oaVtyXSkpe3ZhciBhPW4uZ2V0SW5kaWNhdG9yQXhlcygpO3JldHVybiBuLmNvb3JkVG9Qb2ludChhW3JdLmRhdGFUb0Nvb3JkKGlbcl0pLHIpfX0sZS50eXBlPSJzZXJpZXMucmFkYXIiLGUuZGVwZW5kZW5jaWVzPVsicmFkYXIiXSxlLmRlZmF1bHRPcHRpb249e3o6Mixjb2xvckJ5OiJkYXRhIixjb29yZGluYXRlU3lzdGVtOiJyYWRhciIsbGVnZW5kSG92ZXJMaW5rOiEwLHJhZGFySW5kZXg6MCxsaW5lU3R5bGU6e3dpZHRoOjIsdHlwZToic29saWQiLGpvaW46InJvdW5kIn0sbGFiZWw6e3Bvc2l0aW9uOiJ0b3AifSxzeW1ib2xTaXplOjh9LGV9KHNnKSxtST1iTS52YWx1ZTtmdW5jdGlvbiB4SSh0LGUpe3JldHVybiBrKHtzaG93OmV9LHQpfXZhciBfST1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5vcHRpb25VcGRhdGVkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXQoImJvdW5kYXJ5R2FwIiksZT10aGlzLmdldCgic3BsaXROdW1iZXIiKSxuPXRoaXMuZ2V0KCJzY2FsZSIpLGk9dGhpcy5nZXQoImF4aXNMaW5lIikscj10aGlzLmdldCgiYXhpc1RpY2siKSxvPXRoaXMuZ2V0KCJheGlzTGFiZWwiKSxhPXRoaXMuZ2V0KCJheGlzTmFtZSIpLHM9dGhpcy5nZXQoWyJheGlzTmFtZSIsInNob3ciXSksbD10aGlzLmdldChbImF4aXNOYW1lIiwiZm9ybWF0dGVyIl0pLHU9dGhpcy5nZXQoImF4aXNOYW1lR2FwIiksaD10aGlzLmdldCgidHJpZ2dlckV2ZW50IiksYz16KHRoaXMuZ2V0KCJpbmRpY2F0b3IiKXx8W10sKGZ1bmN0aW9uKGMpe251bGwhPWMubWF4JiZjLm1heD4wJiYhYy5taW4/Yy5taW49MDpudWxsIT1jLm1pbiYmYy5taW48MCYmIWMubWF4JiYoYy5tYXg9MCk7dmFyIHA9YTtudWxsIT1jLmNvbG9yJiYocD1rKHtjb2xvcjpjLmNvbG9yfSxhKSk7dmFyIGQ9QyhUKGMpLHtib3VuZGFyeUdhcDp0LHNwbGl0TnVtYmVyOmUsc2NhbGU6bixheGlzTGluZTppLGF4aXNUaWNrOnIsYXhpc0xhYmVsOm8sbmFtZTpjLnRleHQsc2hvd05hbWU6cyxuYW1lTG9jYXRpb246ImVuZCIsbmFtZUdhcDp1LG5hbWVUZXh0U3R5bGU6cCx0cmlnZ2VyRXZlbnQ6aH0sITEpO2lmKHN8fChkLm5hbWU9IiIpLFgobCkpe3ZhciBmPWQubmFtZTtkLm5hbWU9bC5yZXBsYWNlKCJ7dmFsdWV9IixudWxsIT1mP2Y6IiIpfWVsc2UgVShsKSYmKGQubmFtZT1sKGQubmFtZSxkKSk7dmFyIGc9bmV3IGRjKGQsbnVsbCx0aGlzLmVjTW9kZWwpO3JldHVybiBSKGcsY18ucHJvdG90eXBlKSxnLm1haW5UeXBlPSJyYWRhciIsZy5jb21wb25lbnRJbmRleD10aGlzLmNvbXBvbmVudEluZGV4LGd9KSx0aGlzKTt0aGlzLl9pbmRpY2F0b3JNb2RlbHM9Y30sZS5wcm90b3R5cGUuZ2V0SW5kaWNhdG9yTW9kZWxzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luZGljYXRvck1vZGVsc30sZS50eXBlPSJyYWRhciIsZS5kZWZhdWx0T3B0aW9uPXt6OjAsY2VudGVyOlsiNTAlIiwiNTAlIl0scmFkaXVzOiI3NSUiLHN0YXJ0QW5nbGU6OTAsYXhpc05hbWU6e3Nob3c6ITB9LGJvdW5kYXJ5R2FwOlswLDBdLHNwbGl0TnVtYmVyOjUsYXhpc05hbWVHYXA6MTUsc2NhbGU6ITEsc2hhcGU6InBvbHlnb24iLGF4aXNMaW5lOkMoe2xpbmVTdHlsZTp7Y29sb3I6IiNiYmIifX0sbUkuYXhpc0xpbmUpLGF4aXNMYWJlbDp4SShtSS5heGlzTGFiZWwsITEpLGF4aXNUaWNrOnhJKG1JLmF4aXNUaWNrLCExKSxzcGxpdExpbmU6eEkobUkuc3BsaXRMaW5lLCEwKSxzcGxpdEFyZWE6eEkobUkuc3BsaXRBcmVhLCEwKSxpbmRpY2F0b3I6W119LGV9KFRwKSxiST1bImF4aXNMaW5lIiwiYXhpc1RpY2tMYWJlbCIsImF4aXNOYW1lIl0sd0k9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2J1aWxkQXhlcyh0KSx0aGlzLl9idWlsZFNwbGl0TGluZUFuZEFyZWEodCl9LGUucHJvdG90eXBlLl9idWlsZEF4ZXM9ZnVuY3Rpb24odCl7dmFyIGU9dC5jb29yZGluYXRlU3lzdGVtO0UoeihlLmdldEluZGljYXRvckF4ZXMoKSwoZnVuY3Rpb24odCl7dmFyIG49dC5tb2RlbC5nZXQoInNob3dOYW1lIik/dC5uYW1lOiIiO3JldHVybiBuZXcgRk0odC5tb2RlbCx7YXhpc05hbWU6bixwb3NpdGlvbjpbZS5jeCxlLmN5XSxyb3RhdGlvbjp0LmFuZ2xlLGxhYmVsRGlyZWN0aW9uOi0xLHRpY2tEaXJlY3Rpb246LTEsbmFtZURpcmVjdGlvbjoxfSl9KSksKGZ1bmN0aW9uKHQpe0UoYkksdC5hZGQsdCksdGhpcy5ncm91cC5hZGQodC5nZXRHcm91cCgpKX0pLHRoaXMpfSxlLnByb3RvdHlwZS5fYnVpbGRTcGxpdExpbmVBbmRBcmVhPWZ1bmN0aW9uKHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbSxuPWUuZ2V0SW5kaWNhdG9yQXhlcygpO2lmKG4ubGVuZ3RoKXt2YXIgaT10LmdldCgic2hhcGUiKSxyPXQuZ2V0TW9kZWwoInNwbGl0TGluZSIpLG89dC5nZXRNb2RlbCgic3BsaXRBcmVhIiksYT1yLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxzPW8uZ2V0TW9kZWwoImFyZWFTdHlsZSIpLGw9ci5nZXQoInNob3ciKSx1PW8uZ2V0KCJzaG93IiksaD1hLmdldCgiY29sb3IiKSxjPXMuZ2V0KCJjb2xvciIpLHA9WShoKT9oOltoXSxkPVkoYyk/YzpbY10sZj1bXSxnPVtdO2lmKCJjaXJjbGUiPT09aSlmb3IodmFyIHk9blswXS5nZXRUaWNrc0Nvb3JkcygpLHY9ZS5jeCxtPWUuY3kseD0wO3g8eS5sZW5ndGg7eCsrKXtpZihsKWZbQyhmLHAseCldLnB1c2gobmV3IGh1KHtzaGFwZTp7Y3g6dixjeTptLHI6eVt4XS5jb29yZH19KSk7aWYodSYmeDx5Lmxlbmd0aC0xKWdbQyhnLGQseCldLnB1c2gobmV3IEF1KHtzaGFwZTp7Y3g6dixjeTptLHIwOnlbeF0uY29vcmQscjp5W3grMV0uY29vcmR9fSkpfWVsc2V7dmFyIF8sYj16KG4sKGZ1bmN0aW9uKHQsbil7dmFyIGk9dC5nZXRUaWNrc0Nvb3JkcygpO3JldHVybiBfPW51bGw9PV8/aS5sZW5ndGgtMTpNYXRoLm1pbihpLmxlbmd0aC0xLF8pLHooaSwoZnVuY3Rpb24odCl7cmV0dXJuIGUuY29vcmRUb1BvaW50KHQuY29vcmQsbil9KSl9KSksdz1bXTtmb3IoeD0wO3g8PV87eCsrKXtmb3IodmFyIFM9W10sTT0wO008bi5sZW5ndGg7TSsrKVMucHVzaChiW01dW3hdKTtpZihTWzBdJiZTLnB1c2goU1swXS5zbGljZSgpKSxsKWZbQyhmLHAseCldLnB1c2gobmV3IFJ1KHtzaGFwZTp7cG9pbnRzOlN9fSkpO2lmKHUmJncpZ1tDKGcsZCx4LTEpXS5wdXNoKG5ldyBQdSh7c2hhcGU6e3BvaW50czpTLmNvbmNhdCh3KX19KSk7dz1TLnNsaWNlKCkucmV2ZXJzZSgpfX12YXIgST1hLmdldExpbmVTdHlsZSgpLFQ9cy5nZXRBcmVhU3R5bGUoKTtFKGcsKGZ1bmN0aW9uKHQsZSl7dGhpcy5ncm91cC5hZGQod2godCx7c3R5bGU6ayh7c3Ryb2tlOiJub25lIixmaWxsOmRbZSVkLmxlbmd0aF19LFQpLHNpbGVudDohMH0pKX0pLHRoaXMpLEUoZiwoZnVuY3Rpb24odCxlKXt0aGlzLmdyb3VwLmFkZCh3aCh0LHtzdHlsZTprKHtmaWxsOiJub25lIixzdHJva2U6cFtlJXAubGVuZ3RoXX0sSSksc2lsZW50OiEwfSkpfSksdGhpcyl9ZnVuY3Rpb24gQyh0LGUsbil7dmFyIGk9biVlLmxlbmd0aDtyZXR1cm4gdFtpXT10W2ldfHxbXSxpfX0sZS50eXBlPSJyYWRhciIsZX0oZ2cpLFNJPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZhciByPXQuY2FsbCh0aGlzLGUsbixpKXx8dGhpcztyZXR1cm4gci50eXBlPSJ2YWx1ZSIsci5hbmdsZT0wLHIubmFtZT0iIixyfXJldHVybiBuKGUsdCksZX0oV18pLE1JPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5kaW1lbnNpb25zPVtdLHRoaXMuX21vZGVsPXQsdGhpcy5faW5kaWNhdG9yQXhlcz16KHQuZ2V0SW5kaWNhdG9yTW9kZWxzKCksKGZ1bmN0aW9uKHQsZSl7dmFyIG49ImluZGljYXRvcl8iK2UsaT1uZXcgU0kobixuZXcgbXgpO3JldHVybiBpLm5hbWU9dC5nZXQoIm5hbWUiKSxpLm1vZGVsPXQsdC5heGlzPWksdGhpcy5kaW1lbnNpb25zLnB1c2gobiksaX0pLHRoaXMpLHRoaXMucmVzaXplKHQsbil9cmV0dXJuIHQucHJvdG90eXBlLmdldEluZGljYXRvckF4ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5kaWNhdG9yQXhlc30sdC5wcm90b3R5cGUuZGF0YVRvUG9pbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9pbmRpY2F0b3JBeGVzW2VdO3JldHVybiB0aGlzLmNvb3JkVG9Qb2ludChuLmRhdGFUb0Nvb3JkKHQpLGUpfSx0LnByb3RvdHlwZS5jb29yZFRvUG9pbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9pbmRpY2F0b3JBeGVzW2VdLmFuZ2xlO3JldHVyblt0aGlzLmN4K3QqTWF0aC5jb3MobiksdGhpcy5jeS10Kk1hdGguc2luKG4pXX0sdC5wcm90b3R5cGUucG9pbnRUb0RhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dFswXS10aGlzLmN4LG49dFsxXS10aGlzLmN5LGk9TWF0aC5zcXJ0KGUqZStuKm4pO2UvPWksbi89aTtmb3IodmFyIHIsbz1NYXRoLmF0YW4yKC1uLGUpLGE9MS8wLHM9LTEsbD0wO2w8dGhpcy5faW5kaWNhdG9yQXhlcy5sZW5ndGg7bCsrKXt2YXIgdT10aGlzLl9pbmRpY2F0b3JBeGVzW2xdLGg9TWF0aC5hYnMoby11LmFuZ2xlKTtoPGEmJihyPXUscz1sLGE9aCl9cmV0dXJuW3MsKyhyJiZyLmNvb3JkVG9EYXRhKGkpKV19LHQucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0KCJjZW50ZXIiKSxpPWUuZ2V0V2lkdGgoKSxyPWUuZ2V0SGVpZ2h0KCksbz1NYXRoLm1pbihpLHIpLzI7dGhpcy5jeD1FcihuWzBdLGkpLHRoaXMuY3k9RXIoblsxXSxyKSx0aGlzLnN0YXJ0QW5nbGU9dC5nZXQoInN0YXJ0QW5nbGUiKSpNYXRoLlBJLzE4MDt2YXIgYT10LmdldCgicmFkaXVzIik7KFgoYSl8fGooYSkpJiYoYT1bMCxhXSksdGhpcy5yMD1FcihhWzBdLG8pLHRoaXMucj1FcihhWzFdLG8pLEUodGhpcy5faW5kaWNhdG9yQXhlcywoZnVuY3Rpb24odCxlKXt0LnNldEV4dGVudCh0aGlzLnIwLHRoaXMucik7dmFyIG49dGhpcy5zdGFydEFuZ2xlK2UqTWF0aC5QSSoyL3RoaXMuX2luZGljYXRvckF4ZXMubGVuZ3RoO249TWF0aC5hdGFuMihNYXRoLnNpbihuKSxNYXRoLmNvcyhuKSksdC5hbmdsZT1ufSksdGhpcyl9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2luZGljYXRvckF4ZXMsaT10aGlzLl9tb2RlbDtFKG4sKGZ1bmN0aW9uKHQpe3Quc2NhbGUuc2V0RXh0ZW50KDEvMCwtMS8wKX0pKSx0LmVhY2hTZXJpZXNCeVR5cGUoInJhZGFyIiwoZnVuY3Rpb24oZSxyKXtpZigicmFkYXIiPT09ZS5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKSYmdC5nZXRDb21wb25lbnQoInJhZGFyIixlLmdldCgicmFkYXJJbmRleCIpKT09PWkpe3ZhciBvPWUuZ2V0RGF0YSgpO0UobiwoZnVuY3Rpb24odCl7dC5zY2FsZS51bmlvbkV4dGVudEZyb21EYXRhKG8sby5tYXBEaW1lbnNpb24odC5kaW0pKX0pKX19KSx0aGlzKTt2YXIgcj1pLmdldCgic3BsaXROdW1iZXIiKSxvPW5ldyBteDtvLnNldEV4dGVudCgwLHIpLG8uc2V0SW50ZXJ2YWwoMSksRShuLChmdW5jdGlvbih0LGUpe1JNKHQuc2NhbGUsdC5tb2RlbCxvKX0pKX0sdC5wcm90b3R5cGUuY29udmVydFRvUGl4ZWw9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBjb25zb2xlLndhcm4oIk5vdCBpbXBsZW1lbnRlZC4iKSxudWxsfSx0LnByb3RvdHlwZS5jb252ZXJ0RnJvbVBpeGVsPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gY29uc29sZS53YXJuKCJOb3QgaW1wbGVtZW50ZWQuIiksbnVsbH0sdC5wcm90b3R5cGUuY29udGFpblBvaW50PWZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIk5vdCBpbXBsZW1lbnRlZC4iKSwhMX0sdC5jcmVhdGU9ZnVuY3Rpb24oZSxuKXt2YXIgaT1bXTtyZXR1cm4gZS5lYWNoQ29tcG9uZW50KCJyYWRhciIsKGZ1bmN0aW9uKHIpe3ZhciBvPW5ldyB0KHIsZSxuKTtpLnB1c2gobyksci5jb29yZGluYXRlU3lzdGVtPW99KSksZS5lYWNoU2VyaWVzQnlUeXBlKCJyYWRhciIsKGZ1bmN0aW9uKHQpeyJyYWRhciI9PT10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpJiYodC5jb29yZGluYXRlU3lzdGVtPWlbdC5nZXQoInJhZGFySW5kZXgiKXx8MF0pfSkpLGl9LHQuZGltZW5zaW9ucz1bXSx0fSgpO2Z1bmN0aW9uIElJKHQpe3QucmVnaXN0ZXJDb29yZGluYXRlU3lzdGVtKCJyYWRhciIsTUkpLHQucmVnaXN0ZXJDb21wb25lbnRNb2RlbChfSSksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcod0kpLHQucmVnaXN0ZXJWaXN1YWwoe3Nlcmllc1R5cGU6InJhZGFyIixyZXNldDpmdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoKTtlLmVhY2goKGZ1bmN0aW9uKHQpe2Uuc2V0SXRlbVZpc3VhbCh0LCJsZWdlbmRJY29uIiwicm91bmRSZWN0Iil9KSksZS5zZXRWaXN1YWwoImxlZ2VuZEljb24iLCJyb3VuZFJlY3QiKX19KX12YXIgVEk9IlwwX2VjX2ludGVyYWN0aW9uX211dGV4IjtmdW5jdGlvbiBDSSh0LGUpe3JldHVybiEhREkodClbZV19ZnVuY3Rpb24gREkodCl7cmV0dXJuIHRbVEldfHwodFtUSV09e30pfWhtKHt0eXBlOiJ0YWtlR2xvYmFsQ3Vyc29yIixldmVudDoiZ2xvYmFsQ3Vyc29yVGFrZW4iLHVwZGF0ZToidXBkYXRlIn0seHQpO3ZhciBBST1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztuLl96cj1lO3ZhciBpPVcobi5fbW91c2Vkb3duSGFuZGxlcixuKSxyPVcobi5fbW91c2Vtb3ZlSGFuZGxlcixuKSxvPVcobi5fbW91c2V1cEhhbmRsZXIsbiksYT1XKG4uX21vdXNld2hlZWxIYW5kbGVyLG4pLHM9VyhuLl9waW5jaEhhbmRsZXIsbik7cmV0dXJuIG4uZW5hYmxlPWZ1bmN0aW9uKHQsbil7dGhpcy5kaXNhYmxlKCksdGhpcy5fb3B0PWsoVChuKXx8e30se3pvb21Pbk1vdXNlV2hlZWw6ITAsbW92ZU9uTW91c2VNb3ZlOiEwLG1vdmVPbk1vdXNlV2hlZWw6ITEscHJldmVudERlZmF1bHRNb3VzZU1vdmU6ITB9KSxudWxsPT10JiYodD0hMCksITAhPT10JiYibW92ZSIhPT10JiYicGFuIiE9PXR8fChlLm9uKCJtb3VzZWRvd24iLGkpLGUub24oIm1vdXNlbW92ZSIsciksZS5vbigibW91c2V1cCIsbykpLCEwIT09dCYmInNjYWxlIiE9PXQmJiJ6b29tIiE9PXR8fChlLm9uKCJtb3VzZXdoZWVsIixhKSxlLm9uKCJwaW5jaCIscykpfSxuLmRpc2FibGU9ZnVuY3Rpb24oKXtlLm9mZigibW91c2Vkb3duIixpKSxlLm9mZigibW91c2Vtb3ZlIixyKSxlLm9mZigibW91c2V1cCIsbyksZS5vZmYoIm1vdXNld2hlZWwiLGEpLGUub2ZmKCJwaW5jaCIscyl9LG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pc0RyYWdnaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RyYWdnaW5nfSxlLnByb3RvdHlwZS5pc1BpbmNoaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BpbmNoaW5nfSxlLnByb3RvdHlwZS5zZXRQb2ludGVyQ2hlY2tlcj1mdW5jdGlvbih0KXt0aGlzLnBvaW50ZXJDaGVja2VyPXR9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGUoKX0sZS5wcm90b3R5cGUuX21vdXNlZG93bkhhbmRsZXI9ZnVuY3Rpb24odCl7aWYoIShsZSh0KXx8dC50YXJnZXQmJnQudGFyZ2V0LmRyYWdnYWJsZSkpe3ZhciBlPXQub2Zmc2V0WCxuPXQub2Zmc2V0WTt0aGlzLnBvaW50ZXJDaGVja2VyJiZ0aGlzLnBvaW50ZXJDaGVja2VyKHQsZSxuKSYmKHRoaXMuX3g9ZSx0aGlzLl95PW4sdGhpcy5fZHJhZ2dpbmc9ITApfX0sZS5wcm90b3R5cGUuX21vdXNlbW92ZUhhbmRsZXI9ZnVuY3Rpb24odCl7aWYodGhpcy5fZHJhZ2dpbmcmJlBJKCJtb3ZlT25Nb3VzZU1vdmUiLHQsdGhpcy5fb3B0KSYmInBpbmNoIiE9PXQuZ2VzdHVyZUV2ZW50JiYhQ0kodGhpcy5fenIsImdsb2JhbFBhbiIpKXt2YXIgZT10Lm9mZnNldFgsbj10Lm9mZnNldFksaT10aGlzLl94LHI9dGhpcy5feSxvPWUtaSxhPW4tcjt0aGlzLl94PWUsdGhpcy5feT1uLHRoaXMuX29wdC5wcmV2ZW50RGVmYXVsdE1vdXNlTW92ZSYmc2UodC5ldmVudCksTEkodGhpcywicGFuIiwibW92ZU9uTW91c2VNb3ZlIix0LHtkeDpvLGR5OmEsb2xkWDppLG9sZFk6cixuZXdYOmUsbmV3WTpuLGlzQXZhaWxhYmxlQmVoYXZpb3I6bnVsbH0pfX0sZS5wcm90b3R5cGUuX21vdXNldXBIYW5kbGVyPWZ1bmN0aW9uKHQpe2xlKHQpfHwodGhpcy5fZHJhZ2dpbmc9ITEpfSxlLnByb3RvdHlwZS5fbW91c2V3aGVlbEhhbmRsZXI9ZnVuY3Rpb24odCl7dmFyIGU9UEkoInpvb21Pbk1vdXNlV2hlZWwiLHQsdGhpcy5fb3B0KSxuPVBJKCJtb3ZlT25Nb3VzZVdoZWVsIix0LHRoaXMuX29wdCksaT10LndoZWVsRGVsdGEscj1NYXRoLmFicyhpKSxvPXQub2Zmc2V0WCxhPXQub2Zmc2V0WTtpZigwIT09aSYmKGV8fG4pKXtpZihlKXt2YXIgcz1yPjM/MS40OnI+MT8xLjI6MS4xO2tJKHRoaXMsInpvb20iLCJ6b29tT25Nb3VzZVdoZWVsIix0LHtzY2FsZTppPjA/czoxL3Msb3JpZ2luWDpvLG9yaWdpblk6YSxpc0F2YWlsYWJsZUJlaGF2aW9yOm51bGx9KX1pZihuKXt2YXIgbD1NYXRoLmFicyhpKTtrSSh0aGlzLCJzY3JvbGxNb3ZlIiwibW92ZU9uTW91c2VXaGVlbCIsdCx7c2Nyb2xsRGVsdGE6KGk+MD8xOi0xKSoobD4zPy40Omw+MT8uMTU6LjA1KSxvcmlnaW5YOm8sb3JpZ2luWTphLGlzQXZhaWxhYmxlQmVoYXZpb3I6bnVsbH0pfX19LGUucHJvdG90eXBlLl9waW5jaEhhbmRsZXI9ZnVuY3Rpb24odCl7Q0kodGhpcy5fenIsImdsb2JhbFBhbiIpfHxrSSh0aGlzLCJ6b29tIixudWxsLHQse3NjYWxlOnQucGluY2hTY2FsZT4xPzEuMToxLzEuMSxvcmlnaW5YOnQucGluY2hYLG9yaWdpblk6dC5waW5jaFksaXNBdmFpbGFibGVCZWhhdmlvcjpudWxsfSl9LGV9KFh0KTtmdW5jdGlvbiBrSSh0LGUsbixpLHIpe3QucG9pbnRlckNoZWNrZXImJnQucG9pbnRlckNoZWNrZXIoaSxyLm9yaWdpblgsci5vcmlnaW5ZKSYmKHNlKGkuZXZlbnQpLExJKHQsZSxuLGkscikpfWZ1bmN0aW9uIExJKHQsZSxuLGkscil7ci5pc0F2YWlsYWJsZUJlaGF2aW9yPVcoUEksbnVsbCxuLGkpLHQudHJpZ2dlcihlLHIpfWZ1bmN0aW9uIFBJKHQsZSxuKXt2YXIgaT1uW3RdO3JldHVybiF0fHxpJiYoIVgoaSl8fGUuZXZlbnRbaSsiS2V5Il0pfWZ1bmN0aW9uIE9JKHQsZSxuKXt2YXIgaT10LnRhcmdldDtpLngrPWUsaS55Kz1uLGkuZGlydHkoKX1mdW5jdGlvbiBSSSh0LGUsbixpKXt2YXIgcj10LnRhcmdldCxvPXQuem9vbUxpbWl0LGE9dC56b29tPXQuem9vbXx8MTtpZihhKj1lLG8pe3ZhciBzPW8ubWlufHwwLGw9by5tYXh8fDEvMDthPU1hdGgubWF4KE1hdGgubWluKGwsYSkscyl9dmFyIHU9YS90Lnpvb207dC56b29tPWEsci54LT0obi1yLngpKih1LTEpLHIueS09KGktci55KSoodS0xKSxyLnNjYWxlWCo9dSxyLnNjYWxlWSo9dSxyLmRpcnR5KCl9dmFyIE5JLEVJPXtheGlzUG9pbnRlcjoxLHRvb2x0aXA6MSxicnVzaDoxfTtmdW5jdGlvbiB6SSh0LGUsbil7dmFyIGk9ZS5nZXRDb21wb25lbnRCeUVsZW1lbnQodC50b3BUYXJnZXQpLHI9aSYmaS5jb29yZGluYXRlU3lzdGVtO3JldHVybiBpJiZpIT09biYmIUVJLmhhc093blByb3BlcnR5KGkubWFpblR5cGUpJiZyJiZyLm1vZGVsIT09bn1mdW5jdGlvbiBWSSh0KXtYKHQpJiYodD0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKHQsInRleHQveG1sIikpO3ZhciBlPXQ7Zm9yKDk9PT1lLm5vZGVUeXBlJiYoZT1lLmZpcnN0Q2hpbGQpOyJzdmciIT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfHwxIT09ZS5ub2RlVHlwZTspZT1lLm5leHRTaWJsaW5nO3JldHVybiBlfXZhciBCST17ZmlsbDoiZmlsbCIsc3Ryb2tlOiJzdHJva2UiLCJzdHJva2Utd2lkdGgiOiJsaW5lV2lkdGgiLG9wYWNpdHk6Im9wYWNpdHkiLCJmaWxsLW9wYWNpdHkiOiJmaWxsT3BhY2l0eSIsInN0cm9rZS1vcGFjaXR5Ijoic3Ryb2tlT3BhY2l0eSIsInN0cm9rZS1kYXNoYXJyYXkiOiJsaW5lRGFzaCIsInN0cm9rZS1kYXNob2Zmc2V0IjoibGluZURhc2hPZmZzZXQiLCJzdHJva2UtbGluZWNhcCI6ImxpbmVDYXAiLCJzdHJva2UtbGluZWpvaW4iOiJsaW5lSm9pbiIsInN0cm9rZS1taXRlcmxpbWl0IjoibWl0ZXJMaW1pdCIsImZvbnQtZmFtaWx5IjoiZm9udEZhbWlseSIsImZvbnQtc2l6ZSI6ImZvbnRTaXplIiwiZm9udC1zdHlsZSI6ImZvbnRTdHlsZSIsImZvbnQtd2VpZ2h0IjoiZm9udFdlaWdodCIsInRleHQtYW5jaG9yIjoidGV4dEFsaWduIix2aXNpYmlsaXR5OiJ2aXNpYmlsaXR5IixkaXNwbGF5OiJkaXNwbGF5In0sRkk9RyhCSSksR0k9eyJhbGlnbm1lbnQtYmFzZWxpbmUiOiJ0ZXh0QmFzZWxpbmUiLCJzdG9wLWNvbG9yIjoic3RvcENvbG9yIn0sV0k9RyhHSSksSEk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5fZGVmcz17fSx0aGlzLl9yb290PW51bGx9cmV0dXJuIHQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHQsZSl7ZT1lfHx7fTt2YXIgbj1WSSh0KTt0aGlzLl9kZWZzVXNlUGVuZGluZz1bXTt2YXIgaT1uZXcgQ3I7dGhpcy5fcm9vdD1pO3ZhciByPVtdLG89bi5nZXRBdHRyaWJ1dGUoInZpZXdCb3giKXx8IiIsYT1wYXJzZUZsb2F0KG4uZ2V0QXR0cmlidXRlKCJ3aWR0aCIpfHxlLndpZHRoKSxzPXBhcnNlRmxvYXQobi5nZXRBdHRyaWJ1dGUoImhlaWdodCIpfHxlLmhlaWdodCk7aXNOYU4oYSkmJihhPW51bGwpLGlzTmFOKHMpJiYocz1udWxsKSxxSShuLGksbnVsbCwhMCwhMSk7Zm9yKHZhciBsLHUsaD1uLmZpcnN0Q2hpbGQ7aDspdGhpcy5fcGFyc2VOb2RlKGgsaSxyLG51bGwsITEsITEpLGg9aC5uZXh0U2libGluZztpZihmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dO2lbMF0uc3R5bGVbaVsxXV09dFtpWzJdXX19KHRoaXMuX2RlZnMsdGhpcy5fZGVmc1VzZVBlbmRpbmcpLHRoaXMuX2RlZnNVc2VQZW5kaW5nPVtdLG8pe3ZhciBjPVFJKG8pO2MubGVuZ3RoPj00JiYobD17eDpwYXJzZUZsb2F0KGNbMF18fDApLHk6cGFyc2VGbG9hdChjWzFdfHwwKSx3aWR0aDpwYXJzZUZsb2F0KGNbMl0pLGhlaWdodDpwYXJzZUZsb2F0KGNbM10pfSl9aWYobCYmbnVsbCE9YSYmbnVsbCE9cyYmKHU9clQobCx7eDowLHk6MCx3aWR0aDphLGhlaWdodDpzfSksIWUuaWdub3JlVmlld0JveCkpe3ZhciBwPWk7KGk9bmV3IENyKS5hZGQocCkscC5zY2FsZVg9cC5zY2FsZVk9dS5zY2FsZSxwLng9dS54LHAueT11Lnl9cmV0dXJuIGUuaWdub3JlUm9vdENsaXB8fG51bGw9PWF8fG51bGw9PXN8fGkuc2V0Q2xpcFBhdGgobmV3IENzKHtzaGFwZTp7eDowLHk6MCx3aWR0aDphLGhlaWdodDpzfX0pKSx7cm9vdDppLHdpZHRoOmEsaGVpZ2h0OnMsdmlld0JveFJlY3Q6bCx2aWV3Qm94VHJhbnNmb3JtOnUsbmFtZWQ6cn19LHQucHJvdG90eXBlLl9wYXJzZU5vZGU9ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhLHM9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGw9aTtpZigiZGVmcyI9PT1zJiYocj0hMCksInRleHQiPT09cyYmKG89ITApLCJkZWZzIj09PXN8fCJzd2l0Y2giPT09cylhPWU7ZWxzZXtpZighcil7dmFyIHU9Tklbc107aWYodSYmbXQoTkkscykpe2E9dS5jYWxsKHRoaXMsdCxlKTt2YXIgaD10LmdldEF0dHJpYnV0ZSgibmFtZSIpO2lmKGgpe3ZhciBjPXtuYW1lOmgsbmFtZWRGcm9tOm51bGwsc3ZnTm9kZVRhZ0xvd2VyOnMsZWw6YX07bi5wdXNoKGMpLCJnIj09PXMmJihsPWMpfWVsc2UgaSYmbi5wdXNoKHtuYW1lOmkubmFtZSxuYW1lZEZyb206aSxzdmdOb2RlVGFnTG93ZXI6cyxlbDphfSk7ZS5hZGQoYSl9fXZhciBwPVlJW3NdO2lmKHAmJm10KFlJLHMpKXt2YXIgZD1wLmNhbGwodGhpcyx0KSxmPXQuZ2V0QXR0cmlidXRlKCJpZCIpO2YmJih0aGlzLl9kZWZzW2ZdPWQpfX1pZihhJiZhLmlzR3JvdXApZm9yKHZhciBnPXQuZmlyc3RDaGlsZDtnOykxPT09Zy5ub2RlVHlwZT90aGlzLl9wYXJzZU5vZGUoZyxhLG4sbCxyLG8pOjM9PT1nLm5vZGVUeXBlJiZvJiZ0aGlzLl9wYXJzZVRleHQoZyxhKSxnPWcubmV4dFNpYmxpbmd9LHQucHJvdG90eXBlLl9wYXJzZVRleHQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgdnMoe3N0eWxlOnt0ZXh0OnQudGV4dENvbnRlbnR9LHNpbGVudDohMCx4OnRoaXMuX3RleHRYfHwwLHk6dGhpcy5fdGV4dFl8fDB9KTtaSShlLG4pLHFJKHQsbix0aGlzLl9kZWZzVXNlUGVuZGluZywhMSwhMSksZnVuY3Rpb24odCxlKXt2YXIgbj1lLl9fc2VsZlN0eWxlO2lmKG4pe3ZhciBpPW4udGV4dEJhc2VsaW5lLHI9aTtpJiYiYXV0byIhPT1pPyJiYXNlbGluZSI9PT1pP3I9ImFscGhhYmV0aWMiOiJiZWZvcmUtZWRnZSI9PT1pfHwidGV4dC1iZWZvcmUtZWRnZSI9PT1pP3I9InRvcCI6ImFmdGVyLWVkZ2UiPT09aXx8InRleHQtYWZ0ZXItZWRnZSI9PT1pP3I9ImJvdHRvbSI6ImNlbnRyYWwiIT09aSYmIm1hdGhlbWF0aWNhbCIhPT1pfHwocj0ibWlkZGxlIik6cj0iYWxwaGFiZXRpYyIsdC5zdHlsZS50ZXh0QmFzZWxpbmU9cn12YXIgbz1lLl9faW5oZXJpdGVkU3R5bGU7aWYobyl7dmFyIGE9by50ZXh0QWxpZ24scz1hO2EmJigibWlkZGxlIj09PWEmJihzPSJjZW50ZXIiKSx0LnN0eWxlLnRleHRBbGlnbj1zKX19KG4sZSk7dmFyIGk9bi5zdHlsZSxyPWkuZm9udFNpemU7ciYmcjw5JiYoaS5mb250U2l6ZT05LG4uc2NhbGVYKj1yLzksbi5zY2FsZVkqPXIvOSk7dmFyIG89KGkuZm9udFNpemV8fGkuZm9udEZhbWlseSkmJltpLmZvbnRTdHlsZSxpLmZvbnRXZWlnaHQsKGkuZm9udFNpemV8fDEyKSsicHgiLGkuZm9udEZhbWlseXx8InNhbnMtc2VyaWYiXS5qb2luKCIgIik7aS5mb250PW87dmFyIGE9bi5nZXRCb3VuZGluZ1JlY3QoKTtyZXR1cm4gdGhpcy5fdGV4dFgrPWEud2lkdGgsZS5hZGQobiksbn0sdC5pbnRlcm5hbEZpZWxkPXZvaWQoTkk9e2c6ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgQ3I7cmV0dXJuIFpJKGUsbikscUkodCxuLHRoaXMuX2RlZnNVc2VQZW5kaW5nLCExLCExKSxufSxyZWN0OmZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IENzO3JldHVybiBaSShlLG4pLHFJKHQsbix0aGlzLl9kZWZzVXNlUGVuZGluZywhMSwhMSksbi5zZXRTaGFwZSh7eDpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJ4Iil8fCIwIikseTpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJ5Iil8fCIwIiksd2lkdGg6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZSgid2lkdGgiKXx8IjAiKSxoZWlnaHQ6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZSgiaGVpZ2h0Iil8fCIwIil9KSxuLnNpbGVudD0hMCxufSxjaXJjbGU6ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgaHU7cmV0dXJuIFpJKGUsbikscUkodCxuLHRoaXMuX2RlZnNVc2VQZW5kaW5nLCExLCExKSxuLnNldFNoYXBlKHtjeDpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJjeCIpfHwiMCIpLGN5OnBhcnNlRmxvYXQodC5nZXRBdHRyaWJ1dGUoImN5Iil8fCIwIikscjpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJyIil8fCIwIil9KSxuLnNpbGVudD0hMCxufSxsaW5lOmZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IHp1O3JldHVybiBaSShlLG4pLHFJKHQsbix0aGlzLl9kZWZzVXNlUGVuZGluZywhMSwhMSksbi5zZXRTaGFwZSh7eDE6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZSgieDEiKXx8IjAiKSx5MTpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJ5MSIpfHwiMCIpLHgyOnBhcnNlRmxvYXQodC5nZXRBdHRyaWJ1dGUoIngyIil8fCIwIikseTI6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZSgieTIiKXx8IjAiKX0pLG4uc2lsZW50PSEwLG59LGVsbGlwc2U6ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgcHU7cmV0dXJuIFpJKGUsbikscUkodCxuLHRoaXMuX2RlZnNVc2VQZW5kaW5nLCExLCExKSxuLnNldFNoYXBlKHtjeDpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJjeCIpfHwiMCIpLGN5OnBhcnNlRmxvYXQodC5nZXRBdHRyaWJ1dGUoImN5Iil8fCIwIikscng6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZSgicngiKXx8IjAiKSxyeTpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJyeSIpfHwiMCIpfSksbi5zaWxlbnQ9ITAsbn0scG9seWdvbjpmdW5jdGlvbih0LGUpe3ZhciBuLGk9dC5nZXRBdHRyaWJ1dGUoInBvaW50cyIpO2kmJihuPWpJKGkpKTt2YXIgcj1uZXcgUHUoe3NoYXBlOntwb2ludHM6bnx8W119LHNpbGVudDohMH0pO3JldHVybiBaSShlLHIpLHFJKHQscix0aGlzLl9kZWZzVXNlUGVuZGluZywhMSwhMSkscn0scG9seWxpbmU6ZnVuY3Rpb24odCxlKXt2YXIgbixpPXQuZ2V0QXR0cmlidXRlKCJwb2ludHMiKTtpJiYobj1qSShpKSk7dmFyIHI9bmV3IFJ1KHtzaGFwZTp7cG9pbnRzOm58fFtdfSxzaWxlbnQ6ITB9KTtyZXR1cm4gWkkoZSxyKSxxSSh0LHIsdGhpcy5fZGVmc1VzZVBlbmRpbmcsITEsITEpLHJ9LGltYWdlOmZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IF9zO3JldHVybiBaSShlLG4pLHFJKHQsbix0aGlzLl9kZWZzVXNlUGVuZGluZywhMSwhMSksbi5zZXRTdHlsZSh7aW1hZ2U6dC5nZXRBdHRyaWJ1dGUoInhsaW5rOmhyZWYiKXx8dC5nZXRBdHRyaWJ1dGUoImhyZWYiKSx4Oit0LmdldEF0dHJpYnV0ZSgieCIpLHk6K3QuZ2V0QXR0cmlidXRlKCJ5Iiksd2lkdGg6K3QuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpLGhlaWdodDordC5nZXRBdHRyaWJ1dGUoImhlaWdodCIpfSksbi5zaWxlbnQ9ITAsbn0sdGV4dDpmdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0QXR0cmlidXRlKCJ4Iil8fCIwIixpPXQuZ2V0QXR0cmlidXRlKCJ5Iil8fCIwIixyPXQuZ2V0QXR0cmlidXRlKCJkeCIpfHwiMCIsbz10LmdldEF0dHJpYnV0ZSgiZHkiKXx8IjAiO3RoaXMuX3RleHRYPXBhcnNlRmxvYXQobikrcGFyc2VGbG9hdChyKSx0aGlzLl90ZXh0WT1wYXJzZUZsb2F0KGkpK3BhcnNlRmxvYXQobyk7dmFyIGE9bmV3IENyO3JldHVybiBaSShlLGEpLHFJKHQsYSx0aGlzLl9kZWZzVXNlUGVuZGluZywhMSwhMCksYX0sdHNwYW46ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldEF0dHJpYnV0ZSgieCIpLGk9dC5nZXRBdHRyaWJ1dGUoInkiKTtudWxsIT1uJiYodGhpcy5fdGV4dFg9cGFyc2VGbG9hdChuKSksbnVsbCE9aSYmKHRoaXMuX3RleHRZPXBhcnNlRmxvYXQoaSkpO3ZhciByPXQuZ2V0QXR0cmlidXRlKCJkeCIpfHwiMCIsbz10LmdldEF0dHJpYnV0ZSgiZHkiKXx8IjAiLGE9bmV3IENyO3JldHVybiBaSShlLGEpLHFJKHQsYSx0aGlzLl9kZWZzVXNlUGVuZGluZywhMSwhMCksdGhpcy5fdGV4dFgrPXBhcnNlRmxvYXQociksdGhpcy5fdGV4dFkrPXBhcnNlRmxvYXQobyksYX0scGF0aDpmdW5jdGlvbih0LGUpe3ZhciBuPXN1KHQuZ2V0QXR0cmlidXRlKCJkIil8fCIiKTtyZXR1cm4gWkkoZSxuKSxxSSh0LG4sdGhpcy5fZGVmc1VzZVBlbmRpbmcsITEsITEpLG4uc2lsZW50PSEwLG59fSksdH0oKSxZST17bGluZWFyZ3JhZGllbnQ6ZnVuY3Rpb24odCl7dmFyIGU9cGFyc2VJbnQodC5nZXRBdHRyaWJ1dGUoIngxIil8fCIwIiwxMCksbj1wYXJzZUludCh0LmdldEF0dHJpYnV0ZSgieTEiKXx8IjAiLDEwKSxpPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKCJ4MiIpfHwiMTAiLDEwKSxyPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKCJ5MiIpfHwiMCIsMTApLG89bmV3IFh1KGUsbixpLHIpO3JldHVybiBVSSh0LG8pLFhJKHQsbyksb30scmFkaWFsZ3JhZGllbnQ6ZnVuY3Rpb24odCl7dmFyIGU9cGFyc2VJbnQodC5nZXRBdHRyaWJ1dGUoImN4Iil8fCIwIiwxMCksbj1wYXJzZUludCh0LmdldEF0dHJpYnV0ZSgiY3kiKXx8IjAiLDEwKSxpPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKCJyIil8fCIwIiwxMCkscj1uZXcgWnUoZSxuLGkpO3JldHVybiBVSSh0LHIpLFhJKHQscikscn19O2Z1bmN0aW9uIFVJKHQsZSl7InVzZXJTcGFjZU9uVXNlIj09PXQuZ2V0QXR0cmlidXRlKCJncmFkaWVudFVuaXRzIikmJihlLmdsb2JhbD0hMCl9ZnVuY3Rpb24gWEkodCxlKXtmb3IodmFyIG49dC5maXJzdENoaWxkO247KXtpZigxPT09bi5ub2RlVHlwZSYmInN0b3AiPT09bi5ub2RlTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpKXt2YXIgaT1uLmdldEF0dHJpYnV0ZSgib2Zmc2V0Iikscj12b2lkIDA7cj1pJiZpLmluZGV4T2YoIiUiKT4wP3BhcnNlSW50KGksMTApLzEwMDppP3BhcnNlRmxvYXQoaSk6MDt2YXIgbz17fTtpVChuLG8sbyk7dmFyIGE9by5zdG9wQ29sb3J8fG4uZ2V0QXR0cmlidXRlKCJzdG9wLWNvbG9yIil8fCIjMDAwMDAwIjtlLmNvbG9yU3RvcHMucHVzaCh7b2Zmc2V0OnIsY29sb3I6YX0pfW49bi5uZXh0U2libGluZ319ZnVuY3Rpb24gWkkodCxlKXt0JiZ0Ll9faW5oZXJpdGVkU3R5bGUmJihlLl9faW5oZXJpdGVkU3R5bGV8fChlLl9faW5oZXJpdGVkU3R5bGU9e30pLGsoZS5fX2luaGVyaXRlZFN0eWxlLHQuX19pbmhlcml0ZWRTdHlsZSkpfWZ1bmN0aW9uIGpJKHQpe2Zvcih2YXIgZT1RSSh0KSxuPVtdLGk9MDtpPGUubGVuZ3RoO2krPTIpe3ZhciByPXBhcnNlRmxvYXQoZVtpXSksbz1wYXJzZUZsb2F0KGVbaSsxXSk7bi5wdXNoKFtyLG9dKX1yZXR1cm4gbn1mdW5jdGlvbiBxSSh0LGUsbixpLHIpe3ZhciBvPWUsYT1vLl9faW5oZXJpdGVkU3R5bGU9by5fX2luaGVyaXRlZFN0eWxlfHx7fSxzPXt9OzE9PT10Lm5vZGVUeXBlJiYoZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldEF0dHJpYnV0ZSgidHJhbnNmb3JtIik7aWYobil7bj1uLnJlcGxhY2UoLywvZywiICIpO3ZhciBpPVtdLHI9bnVsbDtuLnJlcGxhY2UodFQsKGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaS5wdXNoKGUsbiksIiJ9KSk7Zm9yKHZhciBvPWkubGVuZ3RoLTE7bz4wO28tPTIpe3ZhciBhPWlbb10scz1pW28tMV0sbD1RSShhKTtzd2l0Y2gocj1yfHxbMSwwLDAsMSwwLDBdLHMpe2Nhc2UidHJhbnNsYXRlIjpFaShyLHIsW3BhcnNlRmxvYXQobFswXSkscGFyc2VGbG9hdChsWzFdfHwiMCIpXSk7YnJlYWs7Y2FzZSJzY2FsZSI6VmkocixyLFtwYXJzZUZsb2F0KGxbMF0pLHBhcnNlRmxvYXQobFsxXXx8bFswXSldKTticmVhaztjYXNlInJvdGF0ZSI6emkocixyLC1wYXJzZUZsb2F0KGxbMF0pKmVUKTticmVhaztjYXNlInNrZXdYIjpOaShyLFsxLDAsTWF0aC50YW4ocGFyc2VGbG9hdChsWzBdKSplVCksMSwwLDBdLHIpO2JyZWFrO2Nhc2Uic2tld1kiOk5pKHIsWzEsTWF0aC50YW4ocGFyc2VGbG9hdChsWzBdKSplVCksMCwxLDAsMF0scik7YnJlYWs7Y2FzZSJtYXRyaXgiOnJbMF09cGFyc2VGbG9hdChsWzBdKSxyWzFdPXBhcnNlRmxvYXQobFsxXSksclsyXT1wYXJzZUZsb2F0KGxbMl0pLHJbM109cGFyc2VGbG9hdChsWzNdKSxyWzRdPXBhcnNlRmxvYXQobFs0XSkscls1XT1wYXJzZUZsb2F0KGxbNV0pfX1lLnNldExvY2FsVHJhbnNmb3JtKHIpfX0odCxlKSxpVCh0LGEscyksaXx8ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT0wO2k8RkkubGVuZ3RoO2krKyl7dmFyIHI9RklbaV07bnVsbCE9KG89dC5nZXRBdHRyaWJ1dGUocikpJiYoZVtCSVtyXV09byl9Zm9yKGk9MDtpPFdJLmxlbmd0aDtpKyspe3ZhciBvO3I9V0lbaV07bnVsbCE9KG89dC5nZXRBdHRyaWJ1dGUocikpJiYobltHSVtyXV09byl9fSh0LGEscykpLG8uc3R5bGU9by5zdHlsZXx8e30sbnVsbCE9YS5maWxsJiYoby5zdHlsZS5maWxsPSRJKG8sImZpbGwiLGEuZmlsbCxuKSksbnVsbCE9YS5zdHJva2UmJihvLnN0eWxlLnN0cm9rZT0kSShvLCJzdHJva2UiLGEuc3Ryb2tlLG4pKSxFKFsibGluZVdpZHRoIiwib3BhY2l0eSIsImZpbGxPcGFjaXR5Iiwic3Ryb2tlT3BhY2l0eSIsIm1pdGVyTGltaXQiLCJmb250U2l6ZSJdLChmdW5jdGlvbih0KXtudWxsIT1hW3RdJiYoby5zdHlsZVt0XT1wYXJzZUZsb2F0KGFbdF0pKX0pKSxFKFsibGluZURhc2hPZmZzZXQiLCJsaW5lQ2FwIiwibGluZUpvaW4iLCJmb250V2VpZ2h0IiwiZm9udEZhbWlseSIsImZvbnRTdHlsZSIsInRleHRBbGlnbiJdLChmdW5jdGlvbih0KXtudWxsIT1hW3RdJiYoby5zdHlsZVt0XT1hW3RdKX0pKSxyJiYoby5fX3NlbGZTdHlsZT1zKSxhLmxpbmVEYXNoJiYoby5zdHlsZS5saW5lRGFzaD16KFFJKGEubGluZURhc2gpLChmdW5jdGlvbih0KXtyZXR1cm4gcGFyc2VGbG9hdCh0KX0pKSksImhpZGRlbiIhPT1hLnZpc2liaWxpdHkmJiJjb2xsYXBzZSIhPT1hLnZpc2liaWxpdHl8fChvLmludmlzaWJsZT0hMCksIm5vbmUiPT09YS5kaXNwbGF5JiYoby5pZ25vcmU9ITApfXZhciBLST0vXnVybFwoXHMqIyguKj8pXCkvO2Z1bmN0aW9uICRJKHQsZSxuLGkpe3ZhciByPW4mJm4ubWF0Y2goS0kpO2lmKCFyKXJldHVybiJub25lIj09PW4mJihuPW51bGwpLG47dmFyIG89dXQoclsxXSk7aS5wdXNoKFt0LGUsb10pfXZhciBKST0vLT8oWzAtOV0qXC4pP1swLTldKyhbZUVdLT9bMC05XSspPy9nO2Z1bmN0aW9uIFFJKHQpe3JldHVybiB0Lm1hdGNoKEpJKXx8W119dmFyIHRUPS8odHJhbnNsYXRlfHNjYWxlfHJvdGF0ZXxza2V3WHxza2V3WXxtYXRyaXgpXCgoW1wtXHMwLTlcLmVFLF0qKVwpL2csZVQ9TWF0aC5QSS8xODA7dmFyIG5UPS8oW15cczo7XSspXHMqOlxzKihbXjo7XSspL2c7ZnVuY3Rpb24gaVQodCxlLG4pe3ZhciBpLHI9dC5nZXRBdHRyaWJ1dGUoInN0eWxlIik7aWYocilmb3IoblQubGFzdEluZGV4PTA7bnVsbCE9KGk9blQuZXhlYyhyKSk7KXt2YXIgbz1pWzFdLGE9bXQoQkksbyk/Qklbb106bnVsbDthJiYoZVthXT1pWzJdKTt2YXIgcz1tdChHSSxvKT9HSVtvXTpudWxsO3MmJihuW3NdPWlbMl0pfX1mdW5jdGlvbiByVCh0LGUpe3ZhciBuPWUud2lkdGgvdC53aWR0aCxpPWUuaGVpZ2h0L3QuaGVpZ2h0LHI9TWF0aC5taW4obixpKTtyZXR1cm57c2NhbGU6cix4Oi0odC54K3Qud2lkdGgvMikqcisoZS54K2Uud2lkdGgvMikseTotKHQueSt0LmhlaWdodC8yKSpyKyhlLnkrZS5oZWlnaHQvMil9fXZhciBvVD1mdChbInJlY3QiLCJjaXJjbGUiLCJsaW5lIiwiZWxsaXBzZSIsInBvbHlnb24iLCJwb2x5bGluZSIsInBhdGgiLCJ0ZXh0IiwidHNwYW4iLCJnIl0pLGFUPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMudHlwZT0iZ2VvU1ZHIix0aGlzLl91c2VkR3JhcGhpY01hcD1mdCgpLHRoaXMuX2ZyZWVkR3JhcGhpY3M9W10sdGhpcy5fbWFwTmFtZT10LHRoaXMuX3BhcnNlZFhNTD1WSShlKX1yZXR1cm4gdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ZpcnN0R3JhcGhpYztpZighdCl7dD10aGlzLl9maXJzdEdyYXBoaWM9dGhpcy5fYnVpbGRHcmFwaGljKHRoaXMuX3BhcnNlZFhNTCksdGhpcy5fZnJlZWRHcmFwaGljcy5wdXNoKHQpLHRoaXMuX2JvdW5kaW5nUmVjdD10aGlzLl9maXJzdEdyYXBoaWMuYm91bmRpbmdSZWN0LmNsb25lKCk7dmFyIGU9ZnVuY3Rpb24odCl7dmFyIGU9W10sbj1mdCgpO3JldHVybiBFKHQsKGZ1bmN0aW9uKHQpe2lmKG51bGw9PXQubmFtZWRGcm9tKXt2YXIgaT1uZXcgU18odC5uYW1lLHQuZWwpO2UucHVzaChpKSxuLnNldCh0Lm5hbWUsaSl9fSkpLHtyZWdpb25zOmUscmVnaW9uc01hcDpufX0odC5uYW1lZCksbj1lLnJlZ2lvbnMsaT1lLnJlZ2lvbnNNYXA7dGhpcy5fcmVnaW9ucz1uLHRoaXMuX3JlZ2lvbnNNYXA9aX1yZXR1cm57Ym91bmRpbmdSZWN0OnRoaXMuX2JvdW5kaW5nUmVjdCxyZWdpb25zOnRoaXMuX3JlZ2lvbnMscmVnaW9uc01hcDp0aGlzLl9yZWdpb25zTWFwfX0sdC5wcm90b3R5cGUuX2J1aWxkR3JhcGhpYz1mdW5jdGlvbih0KXt2YXIgZSxuLGkscjt0cnl7bHQobnVsbCE9KG49KGU9dCYmKGk9dCxyPXtpZ25vcmVWaWV3Qm94OiEwLGlnbm9yZVJvb3RDbGlwOiEwfSwobmV3IEhJKS5wYXJzZShpLHIpKXx8e30pLnJvb3QpKX1jYXRjaCh0KXt0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgc3ZnIGZvcm1hdFxuIit0Lm1lc3NhZ2UpfXZhciBvPW5ldyBDcjtvLmFkZChuKSxvLmlzR2VvU1ZHR3JhcGhpY1Jvb3Q9ITA7dmFyIGE9ZS53aWR0aCxzPWUuaGVpZ2h0LGw9ZS52aWV3Qm94UmVjdCx1PXRoaXMuX2JvdW5kaW5nUmVjdDtpZighdSl7dmFyIGg9dm9pZCAwLGM9dm9pZCAwLHA9dm9pZCAwLGQ9dm9pZCAwO2lmKG51bGwhPWE/KGg9MCxwPWEpOmwmJihoPWwueCxwPWwud2lkdGgpLG51bGwhPXM/KGM9MCxkPXMpOmwmJihjPWwueSxkPWwuaGVpZ2h0KSxudWxsPT1ofHxudWxsPT1jKXt2YXIgZj1uLmdldEJvdW5kaW5nUmVjdCgpO251bGw9PWgmJihoPWYueCxwPWYud2lkdGgpLG51bGw9PWMmJihjPWYueSxkPWYuaGVpZ2h0KX11PXRoaXMuX2JvdW5kaW5nUmVjdD1uZXcgc3IoaCxjLHAsZCl9aWYobCl7dmFyIGc9clQobCx1KTtuLnNjYWxlWD1uLnNjYWxlWT1nLnNjYWxlLG4ueD1nLngsbi55PWcueX1vLnNldENsaXBQYXRoKG5ldyBDcyh7c2hhcGU6dS5wbGFpbigpfSkpO3ZhciB5PVtdO3JldHVybiBFKGUubmFtZWQsKGZ1bmN0aW9uKHQpe3ZhciBlO251bGwhPW9ULmdldCh0LnN2Z05vZGVUYWdMb3dlcikmJih5LnB1c2godCksKGU9dC5lbCkuc2lsZW50PSExLGUuaXNHcm91cCYmZS50cmF2ZXJzZSgoZnVuY3Rpb24odCl7dC5zaWxlbnQ9ITF9KSkpfSkpLHtyb290Om8sYm91bmRpbmdSZWN0OnUsbmFtZWQ6eX19LHQucHJvdG90eXBlLnVzZUdyYXBoaWM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdXNlZEdyYXBoaWNNYXAsbj1lLmdldCh0KTtyZXR1cm4gbnx8KG49dGhpcy5fZnJlZWRHcmFwaGljcy5wb3AoKXx8dGhpcy5fYnVpbGRHcmFwaGljKHRoaXMuX3BhcnNlZFhNTCksZS5zZXQodCxuKSxuKX0sdC5wcm90b3R5cGUuZnJlZUdyYXBoaWM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdXNlZEdyYXBoaWNNYXAsbj1lLmdldCh0KTtuJiYoZS5yZW1vdmVLZXkodCksdGhpcy5fZnJlZWRHcmFwaGljcy5wdXNoKG4pKX0sdH0oKTtmb3IodmFyIHNUPVsxMjYsMjVdLGxUPSLljZfmtbfor7jlspsiLHVUPVtbWzAsMy41XSxbNywxMS4yXSxbMTUsMTEuOV0sWzMwLDddLFs0MiwuN10sWzUyLC43XSxbNTYsNy43XSxbNTksLjddLFs2NCwuN10sWzY0LDBdLFs1LDBdLFswLDMuNV1dLFtbMTMsMTYuMV0sWzE5LDE0LjddLFsxNiwyMS43XSxbMTEsMjMuMV0sWzEzLDE2LjFdXSxbWzEyLDMyLjJdLFsxNCwzOC41XSxbMTUsMzguNV0sWzEzLDMyLjJdLFsxMiwzMi4yXV0sW1sxNiw0Ny42XSxbMTIsNTMuMl0sWzEzLDUzLjJdLFsxOCw0Ny42XSxbMTYsNDcuNl1dLFtbNiw2NC40XSxbOCw3MF0sWzksNzBdLFs4LDY0LjRdLFs2LDY0LjRdXSxbWzIzLDgyLjZdLFsyOSw3OS44XSxbMzAsNzkuOF0sWzI1LDgyLjZdLFsyMyw4Mi42XV0sW1szNyw3MC43XSxbNDMsNjIuM10sWzQ0LDYyLjNdLFszOSw3MC43XSxbMzcsNzAuN11dLFtbNDgsNTEuMV0sWzUxLDQ1LjVdLFs1Myw0NS41XSxbNTAsNTEuMV0sWzQ4LDUxLjFdXSxbWzUxLDM1XSxbNTEsMjguN10sWzUzLDI4LjddLFs1MywzNV0sWzUxLDM1XV0sW1s1MiwyMi40XSxbNTUsMTcuNV0sWzU2LDE3LjVdLFs1MywyMi40XSxbNTIsMjIuNF1dLFtbNTgsMTIuNl0sWzYyLDddLFs2Myw3XSxbNjAsMTIuNl0sWzU4LDEyLjZdXSxbWzAsMy41XSxbMCw5My4xXSxbNjQsOTMuMV0sWzY0LDBdLFs2MywwXSxbNjMsOTIuNF0sWzEsOTIuNF0sWzEsMy41XSxbMCwzLjVdXV0saFQ9MDtoVDx1VC5sZW5ndGg7aFQrKylmb3IodmFyIGNUPTA7Y1Q8dVRbaFRdLmxlbmd0aDtjVCsrKXVUW2hUXVtjVF1bMF0vPTEwLjUsdVRbaFRdW2NUXVsxXS89LTE0LHVUW2hUXVtjVF1bMF0rPXNUWzBdLHVUW2hUXVtjVF1bMV0rPXNUWzFdO3ZhciBwVD17IuWNl+a1t+ivuOWymyI6WzMyLDgwXSwi5bm/5LicIjpbMCwtMTBdLCLpppnmuK8iOlsxMCw1XSwi5r6z6ZeoIjpbLTEwLDEwXSwi5aSp5rSlIjpbNSw1XX07dmFyIGRUPVtbWzEyMy40NTE2NTI1MjY4NTU0NywyNS43MzUyNzE2NDQwMjI2MV0sWzEyMy40OTczMTQ0NTMxMjQ5OSwyNS43MzUyNzE2NDQwMjI2MV0sWzEyMy40OTczMTQ0NTMxMjQ5OSwyNS43NTA3MzQwNjQ2MDA4ODRdLFsxMjMuNDUxNjUyNTI2ODU1NDcsMjUuNzUwNzM0MDY0NjAwODg0XSxbMTIzLjQ1MTY1MjUyNjg1NTQ3LDI1LjczNTI3MTY0NDAyMjYxXV1dO3ZhciBmVD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3ZhciBpO3RoaXMudHlwZT0iZ2VvSlNPTiIsdGhpcy5fcGFyc2VkTWFwPWZ0KCksdGhpcy5fbWFwTmFtZT10LHRoaXMuX3NwZWNpYWxBcmVhcz1uLHRoaXMuX2dlb0pTT049WChpPWUpPyJ1bmRlZmluZWQiIT10eXBlb2YgSlNPTiYmSlNPTi5wYXJzZT9KU09OLnBhcnNlKGkpOm5ldyBGdW5jdGlvbigicmV0dXJuICgiK2krIik7IikoKTppfXJldHVybiB0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQsZSl7ZT1lfHwibmFtZSI7dmFyIG49dGhpcy5fcGFyc2VkTWFwLmdldChlKTtpZighbil7dmFyIGk9dGhpcy5fcGFyc2VUb1JlZ2lvbnMoZSk7bj10aGlzLl9wYXJzZWRNYXAuc2V0KGUse3JlZ2lvbnM6aSxib3VuZGluZ1JlY3Q6Z1QoaSl9KX12YXIgcj1mdCgpLG89W107cmV0dXJuIEUobi5yZWdpb25zLChmdW5jdGlvbihlKXt2YXIgbj1lLm5hbWU7dCYmbXQodCxuKSYmKGU9ZS5jbG9uZVNoYWxsb3cobj10W25dKSksby5wdXNoKGUpLHIuc2V0KG4sZSl9KSkse3JlZ2lvbnM6byxib3VuZGluZ1JlY3Q6bi5ib3VuZGluZ1JlY3R8fG5ldyBzcigwLDAsMCwwKSxyZWdpb25zTWFwOnJ9fSx0LnByb3RvdHlwZS5fcGFyc2VUb1JlZ2lvbnM9ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLl9tYXBOYW1lLGk9dGhpcy5fZ2VvSlNPTjt0cnl7ZT1pP1RfKGksdCk6W119Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGdlb0pzb24gZm9ybWF0XG4iK3QubWVzc2FnZSl9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoImNoaW5hIj09PXQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWlmKGVbbl0ubmFtZT09PWxUKXJldHVybjtlLnB1c2gobmV3IHdfKGxULHoodVQsKGZ1bmN0aW9uKHQpe3JldHVybnt0eXBlOiJwb2x5Z29uIixleHRlcmlvcjp0fX0pKSxzVCkpfX0obixlKSxFKGUsKGZ1bmN0aW9uKHQpe3ZhciBlPXQubmFtZTshZnVuY3Rpb24odCxlKXtpZigiY2hpbmEiPT09dCl7dmFyIG49cFRbZS5uYW1lXTtpZihuKXt2YXIgaT1lLmdldENlbnRlcigpO2lbMF0rPW5bMF0vMTAuNSxpWzFdKz0tblsxXS8xNCxlLnNldENlbnRlcihpKX19fShuLHQpLGZ1bmN0aW9uKHQsZSl7ImNoaW5hIj09PXQmJiLlj7Dmub4iPT09ZS5uYW1lJiZlLmdlb21ldHJpZXMucHVzaCh7dHlwZToicG9seWdvbiIsZXh0ZXJpb3I6ZFRbMF19KX0obix0KTt2YXIgaT10aGlzLl9zcGVjaWFsQXJlYXMmJnRoaXMuX3NwZWNpYWxBcmVhc1tlXTtpJiZ0LnRyYW5zZm9ybVRvKGkubGVmdCxpLnRvcCxpLndpZHRoLGkuaGVpZ2h0KX0pLHRoaXMpLGV9LHQucHJvdG90eXBlLmdldE1hcEZvclVzZXI9ZnVuY3Rpb24oKXtyZXR1cm57Z2VvSnNvbjp0aGlzLl9nZW9KU09OLGdlb0pTT046dGhpcy5fZ2VvSlNPTixzcGVjaWFsQXJlYXM6dGhpcy5fc3BlY2lhbEFyZWFzfX0sdH0oKTtmdW5jdGlvbiBnVCh0KXtmb3IodmFyIGUsbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dLmdldEJvdW5kaW5nUmVjdCgpOyhlPWV8fGkuY2xvbmUoKSkudW5pb24oaSl9cmV0dXJuIGV9dmFyIHlUPWZ0KCksdlQ9ZnVuY3Rpb24odCxlLG4pe2lmKGUuc3ZnKXt2YXIgaT1uZXcgYVQodCxlLnN2Zyk7eVQuc2V0KHQsaSl9ZWxzZXt2YXIgcj1lLmdlb0pzb258fGUuZ2VvSlNPTjtyJiYhZS5mZWF0dXJlcz9uPWUuc3BlY2lhbEFyZWFzOnI9ZTtpPW5ldyBmVCh0LHIsbik7eVQuc2V0KHQsaSl9fSxtVD1mdW5jdGlvbih0KXtyZXR1cm4geVQuZ2V0KHQpfSx4VD1mdW5jdGlvbih0KXt2YXIgZT15VC5nZXQodCk7cmV0dXJuIGUmJiJnZW9KU09OIj09PWUudHlwZSYmZS5nZXRNYXBGb3JVc2VyKCl9LF9UPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT15VC5nZXQodCk7aWYoaSlyZXR1cm4gaS5sb2FkKGUsbil9LGJUPVsicmVjdCIsImNpcmNsZSIsImxpbmUiLCJlbGxpcHNlIiwicG9seWdvbiIsInBvbHlsaW5lIiwicGF0aCJdLHdUPWZ0KGJUKSxTVD1mdChiVC5jb25jYXQoWyJnIl0pKSxNVD1mdChiVC5jb25jYXQoWyJnIl0pKSxJVD1TbygpO2Z1bmN0aW9uIFRUKHQpe3ZhciBlPXQuZ2V0SXRlbVN0eWxlKCksbj10LmdldCgiYXJlYUNvbG9yIik7cmV0dXJuIG51bGwhPW4mJihlLmZpbGw9biksZX1mdW5jdGlvbiBDVCh0KXt2YXIgZT10LnN0eWxlO2UmJihlLnN0cm9rZT1lLnN0cm9rZXx8ZS5maWxsLGUuZmlsbD1udWxsKX12YXIgRFQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciBlPW5ldyBDcjt0aGlzLnVpZD1nYygiZWNfbWFwX2RyYXciKSx0aGlzLl9jb250cm9sbGVyPW5ldyBBSSh0LmdldFpyKCkpLHRoaXMuX2NvbnRyb2xsZXJIb3N0PXt0YXJnZXQ6ZX0sdGhpcy5ncm91cD1lLGUuYWRkKHRoaXMuX3JlZ2lvbnNHcm91cD1uZXcgQ3IpLGUuYWRkKHRoaXMuX3N2Z0dyb3VwPW5ldyBDcil9cmV0dXJuIHQucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz0iZ2VvIj09PXQubWFpblR5cGUsYT10LmdldERhdGEmJnQuZ2V0RGF0YSgpO28mJmUuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InNlcmllcyIsc3ViVHlwZToibWFwIn0sKGZ1bmN0aW9uKGUpe2F8fGUuZ2V0SG9zdEdlb01vZGVsKCkhPT10fHwoYT1lLmdldERhdGEoKSl9KSk7dmFyIHM9dC5jb29yZGluYXRlU3lzdGVtLGw9dGhpcy5fcmVnaW9uc0dyb3VwLHU9dGhpcy5ncm91cCxoPXMuZ2V0VHJhbnNmb3JtSW5mbygpLGM9aC5yYXcscD1oLnJvYW07IWwuY2hpbGRBdCgwKXx8cj8odS54PXAueCx1Lnk9cC55LHUuc2NhbGVYPXAuc2NhbGVYLHUuc2NhbGVZPXAuc2NhbGVZLHUuZGlydHkoKSk6cmgodSxwLHQpO3ZhciBkPWEmJmEuZ2V0VmlzdWFsKCJ2aXN1YWxNZXRhIikmJmEuZ2V0VmlzdWFsKCJ2aXN1YWxNZXRhIikubGVuZ3RoPjAsZj17YXBpOm4sZ2VvOnMsbWFwT3JHZW9Nb2RlbDp0LGRhdGE6YSxpc1Zpc3VhbEVuY29kZWRCeVZpc3VhbE1hcDpkLGlzR2VvOm8sdHJhbnNmb3JtSW5mb1JhdzpjfTsiZ2VvSlNPTiI9PT1zLnJlc291cmNlVHlwZT90aGlzLl9idWlsZEdlb0pTT04oZik6Imdlb1NWRyI9PT1zLnJlc291cmNlVHlwZSYmdGhpcy5fYnVpbGRTVkcoZiksdGhpcy5fdXBkYXRlQ29udHJvbGxlcih0LGUsbiksdGhpcy5fdXBkYXRlTWFwU2VsZWN0SGFuZGxlcih0LGwsbixpKX0sdC5wcm90b3R5cGUuX2J1aWxkR2VvSlNPTj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9yZWdpb25zR3JvdXBCeU5hbWU9ZnQoKSxuPWZ0KCksaT10aGlzLl9yZWdpb25zR3JvdXAscj10LnRyYW5zZm9ybUluZm9SYXcsbz10Lm1hcE9yR2VvTW9kZWwsYT10LmRhdGEscz10Lmdlby5wcm9qZWN0aW9uLGw9cyYmcy5zdHJlYW07ZnVuY3Rpb24gdSh0LGUpe3JldHVybiBlJiYodD1lKHQpKSx0JiZbdFswXSpyLnNjYWxlWCtyLngsdFsxXSpyLnNjYWxlWStyLnldfWZ1bmN0aW9uIGgodCl7Zm9yKHZhciBlPVtdLG49IWwmJnMmJnMucHJvamVjdCxpPTA7aTx0Lmxlbmd0aDsrK2kpe3ZhciByPXUodFtpXSxuKTtyJiZlLnB1c2gocil9cmV0dXJuIGV9ZnVuY3Rpb24gYyh0KXtyZXR1cm57c2hhcGU6e3BvaW50czpoKHQpfX19aS5yZW1vdmVBbGwoKSxFKHQuZ2VvLnJlZ2lvbnMsKGZ1bmN0aW9uKHIpe3ZhciBoPXIubmFtZSxwPWUuZ2V0KGgpLGQ9bi5nZXQoaCl8fHt9LGY9ZC5kYXRhSWR4LGc9ZC5yZWdpb25Nb2RlbDtwfHwocD1lLnNldChoLG5ldyBDciksaS5hZGQocCksZj1hP2EuaW5kZXhPZk5hbWUoaCk6bnVsbCxnPXQuaXNHZW8/by5nZXRSZWdpb25Nb2RlbChoKTphP2EuZ2V0SXRlbU1vZGVsKGYpOm51bGwsbi5zZXQoaCx7ZGF0YUlkeDpmLHJlZ2lvbk1vZGVsOmd9KSk7dmFyIHk9W10sdj1bXTtFKHIuZ2VvbWV0cmllcywoZnVuY3Rpb24odCl7aWYoInBvbHlnb24iPT09dC50eXBlKXt2YXIgZT1bdC5leHRlcmlvcl0uY29uY2F0KHQuaW50ZXJpb3JzfHxbXSk7bCYmKGU9UlQoZSxsKSksRShlLChmdW5jdGlvbih0KXt5LnB1c2gobmV3IFB1KGModCkpKX0pKX1lbHNle3ZhciBuPXQucG9pbnRzO2wmJihuPVJUKG4sbCwhMCkpLEUobiwoZnVuY3Rpb24odCl7di5wdXNoKG5ldyBSdShjKHQpKSl9KSl9fSkpO3ZhciBtPXUoci5nZXRDZW50ZXIoKSxzJiZzLnByb2plY3QpO2Z1bmN0aW9uIHgoZSxuKXtpZihlLmxlbmd0aCl7dmFyIGk9bmV3IFl1KHtjdWxsaW5nOiEwLHNlZ21lbnRJZ25vcmVUaHJlc2hvbGQ6MSxzaGFwZTp7cGF0aHM6ZX19KTtwLmFkZChpKSxBVCh0LGksZixnKSxrVCh0LGksaCxnLG8sZixtKSxuJiYoQ1QoaSksRShpLnN0YXRlcyxDVCkpfX14KHkpLHgodiwhMCl9KSksZS5lYWNoKChmdW5jdGlvbihlLGkpe3ZhciByPW4uZ2V0KGkpLGE9ci5kYXRhSWR4LHM9ci5yZWdpb25Nb2RlbDtMVCh0LGUsaSxzLG8sYSksUFQodCxlLGkscyxvKSxPVCh0LGUsaSxzLG8pfSksdGhpcyl9LHQucHJvdG90eXBlLl9idWlsZFNWRz1mdW5jdGlvbih0KXt2YXIgZT10Lmdlby5tYXAsbj10LnRyYW5zZm9ybUluZm9SYXc7dGhpcy5fc3ZnR3JvdXAueD1uLngsdGhpcy5fc3ZnR3JvdXAueT1uLnksdGhpcy5fc3ZnR3JvdXAuc2NhbGVYPW4uc2NhbGVYLHRoaXMuX3N2Z0dyb3VwLnNjYWxlWT1uLnNjYWxlWSx0aGlzLl9zdmdSZXNvdXJjZUNoYW5nZWQoZSkmJih0aGlzLl9mcmVlU1ZHKCksdGhpcy5fdXNlU1ZHKGUpKTt2YXIgaT10aGlzLl9zdmdEaXNwYXRjaGVyTWFwPWZ0KCkscj0hMTtFKHRoaXMuX3N2Z0dyYXBoaWNSZWNvcmQubmFtZWQsKGZ1bmN0aW9uKGUpe3ZhciBuPWUubmFtZSxvPXQubWFwT3JHZW9Nb2RlbCxhPXQuZGF0YSxzPWUuc3ZnTm9kZVRhZ0xvd2VyLGw9ZS5lbCx1PWE/YS5pbmRleE9mTmFtZShuKTpudWxsLGg9by5nZXRSZWdpb25Nb2RlbChuKTsobnVsbCE9d1QuZ2V0KHMpJiZsIGluc3RhbmNlb2YgZGEmJkFUKHQsbCx1LGgpLGwgaW5zdGFuY2VvZiBkYSYmKGwuY3VsbGluZz0hMCksbC56MkVtcGhhc2lzTGlmdD0wLGUubmFtZWRGcm9tKXx8KG51bGwhPU1ULmdldChzKSYma1QodCxsLG4saCxvLHUsbnVsbCksTFQodCxsLG4saCxvLHUpLFBUKHQsbCxuLGgsbyksbnVsbCE9U1QuZ2V0KHMpJiYoInNlbGYiPT09T1QodCxsLG4saCxvKSYmKHI9ITApLChpLmdldChuKXx8aS5zZXQobixbXSkpLnB1c2gobCkpKX0pLHRoaXMpLHRoaXMuX2VuYWJsZUJsdXJFbnRpcmVTVkcocix0KX0sdC5wcm90b3R5cGUuX2VuYWJsZUJsdXJFbnRpcmVTVkc9ZnVuY3Rpb24odCxlKXtpZih0JiZlLmlzR2VvKXt2YXIgbj1lLm1hcE9yR2VvTW9kZWwuZ2V0TW9kZWwoWyJibHVyIiwiaXRlbVN0eWxlIl0pLmdldEl0ZW1TdHlsZSgpLm9wYWNpdHk7dGhpcy5fc3ZnR3JhcGhpY1JlY29yZC5yb290LnRyYXZlcnNlKChmdW5jdGlvbih0KXtpZighdC5pc0dyb3VwKXt2bCh0KTt2YXIgZT10LmVuc3VyZVN0YXRlKCJibHVyIikuc3R5bGV8fHt9O251bGw9PWUub3BhY2l0eSYmbnVsbCE9biYmKGUub3BhY2l0eT1uKSx0LmVuc3VyZVN0YXRlKCJlbXBoYXNpcyIpfX0pKX19LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMuX3JlZ2lvbnNHcm91cC5yZW1vdmVBbGwoKSx0aGlzLl9yZWdpb25zR3JvdXBCeU5hbWU9bnVsbCx0aGlzLl9zdmdHcm91cC5yZW1vdmVBbGwoKSx0aGlzLl9mcmVlU1ZHKCksdGhpcy5fY29udHJvbGxlci5kaXNwb3NlKCksdGhpcy5fY29udHJvbGxlckhvc3Q9bnVsbH0sdC5wcm90b3R5cGUuZmluZEhpZ2hEb3duRGlzcGF0Y2hlcnM9ZnVuY3Rpb24odCxlKXtpZihudWxsPT10KXJldHVybltdO3ZhciBuPWUuY29vcmRpbmF0ZVN5c3RlbTtpZigiZ2VvSlNPTiI9PT1uLnJlc291cmNlVHlwZSl7dmFyIGk9dGhpcy5fcmVnaW9uc0dyb3VwQnlOYW1lO2lmKGkpe3ZhciByPWkuZ2V0KHQpO3JldHVybiByP1tyXTpbXX19ZWxzZSBpZigiZ2VvU1ZHIj09PW4ucmVzb3VyY2VUeXBlKXJldHVybiB0aGlzLl9zdmdEaXNwYXRjaGVyTWFwJiZ0aGlzLl9zdmdEaXNwYXRjaGVyTWFwLmdldCh0KXx8W119LHQucHJvdG90eXBlLl9zdmdSZXNvdXJjZUNoYW5nZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3N2Z01hcE5hbWUhPT10fSx0LnByb3RvdHlwZS5fdXNlU1ZHPWZ1bmN0aW9uKHQpe3ZhciBlPW1UKHQpO2lmKGUmJiJnZW9TVkciPT09ZS50eXBlKXt2YXIgbj1lLnVzZUdyYXBoaWModGhpcy51aWQpO3RoaXMuX3N2Z0dyb3VwLmFkZChuLnJvb3QpLHRoaXMuX3N2Z0dyYXBoaWNSZWNvcmQ9bix0aGlzLl9zdmdNYXBOYW1lPXR9fSx0LnByb3RvdHlwZS5fZnJlZVNWRz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N2Z01hcE5hbWU7aWYobnVsbCE9dCl7dmFyIGU9bVQodCk7ZSYmImdlb1NWRyI9PT1lLnR5cGUmJmUuZnJlZUdyYXBoaWModGhpcy51aWQpLHRoaXMuX3N2Z0dyYXBoaWNSZWNvcmQ9bnVsbCx0aGlzLl9zdmdEaXNwYXRjaGVyTWFwPW51bGwsdGhpcy5fc3ZnR3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fc3ZnTWFwTmFtZT1udWxsfX0sdC5wcm90b3R5cGUuX3VwZGF0ZUNvbnRyb2xsZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuY29vcmRpbmF0ZVN5c3RlbSxyPXRoaXMuX2NvbnRyb2xsZXIsbz10aGlzLl9jb250cm9sbGVySG9zdDtvLnpvb21MaW1pdD10LmdldCgic2NhbGVMaW1pdCIpLG8uem9vbT1pLmdldFpvb20oKSxyLmVuYWJsZSh0LmdldCgicm9hbSIpfHwhMSk7dmFyIGE9dC5tYWluVHlwZTtmdW5jdGlvbiBzKCl7dmFyIGU9e3R5cGU6Imdlb1JvYW0iLGNvbXBvbmVudFR5cGU6YX07cmV0dXJuIGVbYSsiSWQiXT10LmlkLGV9ci5vZmYoInBhbiIpLm9uKCJwYW4iLChmdW5jdGlvbih0KXt0aGlzLl9tb3VzZURvd25GbGFnPSExLE9JKG8sdC5keCx0LmR5KSxuLmRpc3BhdGNoQWN0aW9uKEEocygpLHtkeDp0LmR4LGR5OnQuZHksYW5pbWF0aW9uOntkdXJhdGlvbjowfX0pKX0pLHRoaXMpLHIub2ZmKCJ6b29tIikub24oInpvb20iLChmdW5jdGlvbih0KXt0aGlzLl9tb3VzZURvd25GbGFnPSExLFJJKG8sdC5zY2FsZSx0Lm9yaWdpblgsdC5vcmlnaW5ZKSxuLmRpc3BhdGNoQWN0aW9uKEEocygpLHt6b29tOnQuc2NhbGUsb3JpZ2luWDp0Lm9yaWdpblgsb3JpZ2luWTp0Lm9yaWdpblksYW5pbWF0aW9uOntkdXJhdGlvbjowfX0pKX0pLHRoaXMpLHIuc2V0UG9pbnRlckNoZWNrZXIoKGZ1bmN0aW9uKGUscixvKXtyZXR1cm4gaS5jb250YWluUG9pbnQoW3Isb10pJiYhekkoZSxuLHQpfSkpfSx0LnByb3RvdHlwZS5yZXNldEZvckxhYmVsTGF5b3V0PWZ1bmN0aW9uKCl7dGhpcy5ncm91cC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRUZXh0Q29udGVudCgpO2UmJihlLmlnbm9yZT1JVChlKS5pZ25vcmUpfSkpfSx0LnByb3RvdHlwZS5fdXBkYXRlTWFwU2VsZWN0SGFuZGxlcj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzO2Uub2ZmKCJtb3VzZWRvd24iKSxlLm9mZigiY2xpY2siKSx0LmdldCgic2VsZWN0ZWRNb2RlIikmJihlLm9uKCJtb3VzZWRvd24iLChmdW5jdGlvbigpe3IuX21vdXNlRG93bkZsYWc9ITB9KSksZS5vbigiY2xpY2siLChmdW5jdGlvbih0KXtyLl9tb3VzZURvd25GbGFnJiYoci5fbW91c2VEb3duRmxhZz0hMSl9KSkpfSx0fSgpO2Z1bmN0aW9uIEFUKHQsZSxuLGkpe3ZhciByPWkuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLG89aS5nZXRNb2RlbChbImVtcGhhc2lzIiwiaXRlbVN0eWxlIl0pLGE9aS5nZXRNb2RlbChbImJsdXIiLCJpdGVtU3R5bGUiXSkscz1pLmdldE1vZGVsKFsic2VsZWN0IiwiaXRlbVN0eWxlIl0pLGw9VFQociksdT1UVChvKSxoPVRUKHMpLGM9VFQoYSkscD10LmRhdGE7aWYocCl7dmFyIGQ9cC5nZXRJdGVtVmlzdWFsKG4sInN0eWxlIiksZj1wLmdldEl0ZW1WaXN1YWwobiwiZGVjYWwiKTt0LmlzVmlzdWFsRW5jb2RlZEJ5VmlzdWFsTWFwJiZkLmZpbGwmJihsLmZpbGw9ZC5maWxsKSxmJiYobC5kZWNhbD1pdihmLHQuYXBpKSl9ZS5zZXRTdHlsZShsKSxlLnN0eWxlLnN0cm9rZU5vU2NhbGU9ITAsZS5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKS5zdHlsZT11LGUuZW5zdXJlU3RhdGUoInNlbGVjdCIpLnN0eWxlPWgsZS5lbnN1cmVTdGF0ZSgiYmx1ciIpLnN0eWxlPWMsdmwoZSl9ZnVuY3Rpb24ga1QodCxlLG4saSxyLG8sYSl7dmFyIHM9dC5kYXRhLGw9dC5pc0dlbyx1PXMmJmlzTmFOKHMuZ2V0KHMubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLG8pKSxoPXMmJnMuZ2V0SXRlbUxheW91dChvKTtpZihsfHx1fHxoJiZoLnNob3dMYWJlbCl7dmFyIGM9bD9uOm8scD12b2lkIDA7KCFzfHxvPj0wKSYmKHA9cik7dmFyIGQ9YT97bm9ybWFsOnthbGlnbjoiY2VudGVyIix2ZXJ0aWNhbEFsaWduOiJtaWRkbGUifX06bnVsbDtIaChlLFloKGkpLHtsYWJlbEZldGNoZXI6cCxsYWJlbERhdGFJbmRleDpjLGRlZmF1bHRUZXh0Om59LGQpO3ZhciBmPWUuZ2V0VGV4dENvbnRlbnQoKTtpZihmJiYoSVQoZikuaWdub3JlPWYuaWdub3JlLGUudGV4dENvbmZpZyYmYSkpe3ZhciBnPWUuZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKTtlLnRleHRDb25maWcubGF5b3V0UmVjdD1nLGUudGV4dENvbmZpZy5wb3NpdGlvbj1bKGFbMF0tZy54KS9nLndpZHRoKjEwMCsiJSIsKGFbMV0tZy55KS9nLmhlaWdodCoxMDArIiUiXX1lLmRpc2FibGVMYWJlbEFuaW1hdGlvbj0hMH1lbHNlIGUucmVtb3ZlVGV4dENvbnRlbnQoKSxlLnJlbW92ZVRleHRDb25maWcoKSxlLmRpc2FibGVMYWJlbEFuaW1hdGlvbj1udWxsfWZ1bmN0aW9uIExUKHQsZSxuLGkscixvKXt0LmRhdGE/dC5kYXRhLnNldEl0ZW1HcmFwaGljRWwobyxlKTpIcyhlKS5ldmVudERhdGE9e2NvbXBvbmVudFR5cGU6ImdlbyIsY29tcG9uZW50SW5kZXg6ci5jb21wb25lbnRJbmRleCxnZW9JbmRleDpyLmNvbXBvbmVudEluZGV4LG5hbWU6bixyZWdpb246aSYmaS5vcHRpb258fHt9fX1mdW5jdGlvbiBQVCh0LGUsbixpLHIpe3QuZGF0YXx8RWgoe2VsOmUsY29tcG9uZW50TW9kZWw6cixpdGVtTmFtZTpuLGl0ZW1Ub29sdGlwT3B0aW9uOmkuZ2V0KCJ0b29sdGlwIil9KX1mdW5jdGlvbiBPVCh0LGUsbixpLHIpe2UuaGlnaERvd25TaWxlbnRPblRvdWNoPSEhci5nZXQoInNlbGVjdGVkTW9kZSIpO3ZhciBvPWkuZ2V0TW9kZWwoImVtcGhhc2lzIiksYT1vLmdldCgiZm9jdXMiKTtyZXR1cm4gUmwoZSxhLG8uZ2V0KCJibHVyU2NvcGUiKSxvLmdldCgiZGlzYWJsZWQiKSksdC5pc0dlbyYmZnVuY3Rpb24odCxlLG4pe3ZhciBpPUhzKHQpO2kuY29tcG9uZW50TWFpblR5cGU9ZS5tYWluVHlwZSxpLmNvbXBvbmVudEluZGV4PWUuY29tcG9uZW50SW5kZXgsaS5jb21wb25lbnRIaWdoRG93bk5hbWU9bn0oZSxyLG4pLGF9ZnVuY3Rpb24gUlQodCxlLG4pe3ZhciBpLHI9W107ZnVuY3Rpb24gbygpe2k9W119ZnVuY3Rpb24gYSgpe2kubGVuZ3RoJiYoci5wdXNoKGkpLGk9W10pfXZhciBzPWUoe3BvbHlnb25TdGFydDpvLHBvbHlnb25FbmQ6YSxsaW5lU3RhcnQ6byxsaW5lRW5kOmEscG9pbnQ6ZnVuY3Rpb24odCxlKXtpc0Zpbml0ZSh0KSYmaXNGaW5pdGUoZSkmJmkucHVzaChbdCxlXSl9LHNwaGVyZTpmdW5jdGlvbigpe319KTtyZXR1cm4hbiYmcy5wb2x5Z29uU3RhcnQoKSxFKHQsKGZ1bmN0aW9uKHQpe3MubGluZVN0YXJ0KCk7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspcy5wb2ludCh0W2VdWzBdLHRbZV1bMV0pO3MubGluZUVuZCgpfSkpLCFuJiZzLnBvbHlnb25FbmQoKSxyfXZhciBOVD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7aWYoIWl8fCJtYXBUb2dnbGVTZWxlY3QiIT09aS50eXBlfHxpLmZyb20hPT10aGlzLnVpZCl7dmFyIHI9dGhpcy5ncm91cDtpZihyLnJlbW92ZUFsbCgpLCF0LmdldEhvc3RHZW9Nb2RlbCgpKXtpZih0aGlzLl9tYXBEcmF3JiZpJiYiZ2VvUm9hbSI9PT1pLnR5cGUmJnRoaXMuX21hcERyYXcucmVzZXRGb3JMYWJlbExheW91dCgpLGkmJiJnZW9Sb2FtIj09PWkudHlwZSYmInNlcmllcyI9PT1pLmNvbXBvbmVudFR5cGUmJmkuc2VyaWVzSWQ9PT10LmlkKShvPXRoaXMuX21hcERyYXcpJiZyLmFkZChvLmdyb3VwKTtlbHNlIGlmKHQubmVlZHNEcmF3TWFwKXt2YXIgbz10aGlzLl9tYXBEcmF3fHxuZXcgRFQobik7ci5hZGQoby5ncm91cCksby5kcmF3KHQsZSxuLHRoaXMsaSksdGhpcy5fbWFwRHJhdz1vfWVsc2UgdGhpcy5fbWFwRHJhdyYmdGhpcy5fbWFwRHJhdy5yZW1vdmUoKSx0aGlzLl9tYXBEcmF3PW51bGw7dC5nZXQoInNob3dMZWdlbmRTeW1ib2wiKSYmZS5nZXRDb21wb25lbnQoImxlZ2VuZCIpJiZ0aGlzLl9yZW5kZXJTeW1ib2xzKHQsZSxuKX19fSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9tYXBEcmF3JiZ0aGlzLl9tYXBEcmF3LnJlbW92ZSgpLHRoaXMuX21hcERyYXc9bnVsbCx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fbWFwRHJhdyYmdGhpcy5fbWFwRHJhdy5yZW1vdmUoKSx0aGlzLl9tYXBEcmF3PW51bGx9LGUucHJvdG90eXBlLl9yZW5kZXJTeW1ib2xzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10Lm9yaWdpbmFsRGF0YSxyPXRoaXMuZ3JvdXA7aS5lYWNoKGkubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLChmdW5jdGlvbihlLG4pe2lmKCFpc05hTihlKSl7dmFyIG89aS5nZXRJdGVtTGF5b3V0KG4pO2lmKG8mJm8ucG9pbnQpe3ZhciBhPW8ucG9pbnQscz1vLm9mZnNldCxsPW5ldyBodSh7c3R5bGU6e2ZpbGw6dC5nZXREYXRhKCkuZ2V0VmlzdWFsKCJzdHlsZSIpLmZpbGx9LHNoYXBlOntjeDphWzBdKzkqcyxjeTphWzFdLHI6M30sc2lsZW50OiEwLHoyOjgrKHM/MDoxMSl9KTtpZighcyl7dmFyIHU9dC5tYWluU2VyaWVzLmdldERhdGEoKSxoPWkuZ2V0TmFtZShuKSxjPXUuaW5kZXhPZk5hbWUoaCkscD1pLmdldEl0ZW1Nb2RlbChuKSxkPXAuZ2V0TW9kZWwoImxhYmVsIiksZj11LmdldEl0ZW1HcmFwaGljRWwoYyk7SGgobCxZaChwKSx7bGFiZWxGZXRjaGVyOntnZXRGb3JtYXR0ZWRMYWJlbDpmdW5jdGlvbihlLG4pe3JldHVybiB0LmdldEZvcm1hdHRlZExhYmVsKGMsbil9fSxkZWZhdWx0VGV4dDpofSksbC5kaXNhYmxlTGFiZWxBbmltYXRpb249ITAsZC5nZXQoInBvc2l0aW9uIil8fGwuc2V0VGV4dENvbmZpZyh7cG9zaXRpb246ImJvdHRvbSJ9KSxmLm9uSG92ZXJTdGF0ZUNoYW5nZT1mdW5jdGlvbih0KXtnbChsLHQpfX1yLmFkZChsKX19fSkpfSxlLnR5cGU9Im1hcCIsZX0oeGcpLEVUPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5uZWVkc0RyYXdNYXA9ITEsbi5zZXJpZXNHcm91cD1bXSxuLmdldFRvb2x0aXBQb3NpdGlvbj1mdW5jdGlvbih0KXtpZihudWxsIT10KXt2YXIgZT10aGlzLmdldERhdGEoKS5nZXROYW1lKHQpLG49dGhpcy5jb29yZGluYXRlU3lzdGVtLGk9bi5nZXRSZWdpb24oZSk7cmV0dXJuIGkmJm4uZGF0YVRvUG9pbnQoaS5nZXRDZW50ZXIoKSl9fSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWxNKHRoaXMse2Nvb3JkRGltZW5zaW9uczpbInZhbHVlIl0sZW5jb2RlRGVmYXVsdGVyOkgoWXAsdGhpcyl9KSxuPWZ0KCksaT1bXSxyPTAsbz1lLmNvdW50KCk7cjxvO3IrKyl7dmFyIGE9ZS5nZXROYW1lKHIpO24uc2V0KGEsITApfXJldHVybiBFKF9UKHRoaXMuZ2V0TWFwVHlwZSgpLHRoaXMub3B0aW9uLm5hbWVNYXAsdGhpcy5vcHRpb24ubmFtZVByb3BlcnR5KS5yZWdpb25zLChmdW5jdGlvbih0KXt2YXIgZT10Lm5hbWU7bi5nZXQoZSl8fGkucHVzaChlKX0pKSxlLmFwcGVuZFZhbHVlcyhbXSxpKSxlfSxlLnByb3RvdHlwZS5nZXRIb3N0R2VvTW9kZWw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbi5nZW9JbmRleDtyZXR1cm4gbnVsbCE9dD90aGlzLmVjTW9kZWwuZ2V0Q29tcG9uZW50KCJnZW8iLHQpOm51bGx9LGUucHJvdG90eXBlLmdldE1hcFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5nZXRIb3N0R2VvTW9kZWwoKXx8dGhpcykub3B0aW9uLm1hcH0sZS5wcm90b3R5cGUuZ2V0UmF3VmFsdWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXREYXRhKCk7cmV0dXJuIGUuZ2V0KGUubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLHQpfSxlLnByb3RvdHlwZS5nZXRSZWdpb25Nb2RlbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERhdGEoKTtyZXR1cm4gZS5nZXRJdGVtTW9kZWwoZS5pbmRleE9mTmFtZSh0KSl9LGUucHJvdG90eXBlLmZvcm1hdFRvb2x0aXA9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10aGlzLmdldERhdGEoKSxyPXRoaXMuZ2V0UmF3VmFsdWUodCksbz1pLmdldE5hbWUodCksYT10aGlzLnNlcmllc0dyb3VwLHM9W10sbD0wO2w8YS5sZW5ndGg7bCsrKXt2YXIgdT1hW2xdLm9yaWdpbmFsRGF0YS5pbmRleE9mTmFtZShvKSxoPWkubWFwRGltZW5zaW9uKCJ2YWx1ZSIpO2lzTmFOKGFbbF0ub3JpZ2luYWxEYXRhLmdldChoLHUpKXx8cy5wdXNoKGFbbF0ubmFtZSl9cmV0dXJuIFhmKCJzZWN0aW9uIix7aGVhZGVyOnMuam9pbigiLCAiKSxub0hlYWRlcjohcy5sZW5ndGgsYmxvY2tzOltYZigibmFtZVZhbHVlIix7bmFtZTpvLHZhbHVlOnJ9KV19KX0sZS5wcm90b3R5cGUuc2V0Wm9vbT1mdW5jdGlvbih0KXt0aGlzLm9wdGlvbi56b29tPXR9LGUucHJvdG90eXBlLnNldENlbnRlcj1mdW5jdGlvbih0KXt0aGlzLm9wdGlvbi5jZW50ZXI9dH0sZS5wcm90b3R5cGUuZ2V0TGVnZW5kSWNvbj1mdW5jdGlvbih0KXt2YXIgZT10Lmljb258fCJyb3VuZFJlY3QiLG49THkoZSwwLDAsdC5pdGVtV2lkdGgsdC5pdGVtSGVpZ2h0LHQuaXRlbVN0eWxlLmZpbGwpO3JldHVybiBuLnNldFN0eWxlKHQuaXRlbVN0eWxlKSxuLnN0eWxlLnN0cm9rZT0ibm9uZSIsZS5pbmRleE9mKCJlbXB0eSIpPi0xJiYobi5zdHlsZS5zdHJva2U9bi5zdHlsZS5maWxsLG4uc3R5bGUuZmlsbD0iI2ZmZiIsbi5zdHlsZS5saW5lV2lkdGg9Miksbn0sZS50eXBlPSJzZXJpZXMubWFwIixlLmRlcGVuZGVuY2llcz1bImdlbyJdLGUubGF5b3V0TW9kZT0iYm94IixlLmRlZmF1bHRPcHRpb249e3o6Mixjb29yZGluYXRlU3lzdGVtOiJnZW8iLG1hcDoiIixsZWZ0OiJjZW50ZXIiLHRvcDoiY2VudGVyIixhc3BlY3RTY2FsZTpudWxsLHNob3dMZWdlbmRTeW1ib2w6ITAsYm91bmRpbmdDb29yZHM6bnVsbCxjZW50ZXI6bnVsbCx6b29tOjEsc2NhbGVMaW1pdDpudWxsLHNlbGVjdGVkTW9kZTohMCxsYWJlbDp7c2hvdzohMSxjb2xvcjoiIzAwMCJ9LGl0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6LjUsYm9yZGVyQ29sb3I6IiM0NDQiLGFyZWFDb2xvcjoiI2VlZSJ9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMCxjb2xvcjoicmdiKDEwMCwwLDApIn0saXRlbVN0eWxlOnthcmVhQ29sb3I6InJnYmEoMjU1LDIxNSwwLDAuOCkifX0sc2VsZWN0OntsYWJlbDp7c2hvdzohMCxjb2xvcjoicmdiKDEwMCwwLDApIn0saXRlbVN0eWxlOntjb2xvcjoicmdiYSgyNTUsMjE1LDAsMC44KSJ9fSxuYW1lUHJvcGVydHk6Im5hbWUifSxlfShzZyk7ZnVuY3Rpb24gelQodCl7dmFyIGU9e307dC5lYWNoU2VyaWVzQnlUeXBlKCJtYXAiLChmdW5jdGlvbih0KXt2YXIgbj10LmdldEhvc3RHZW9Nb2RlbCgpLGk9bj8ibyIrbi5pZDoiaSIrdC5nZXRNYXBUeXBlKCk7KGVbaV09ZVtpXXx8W10pLnB1c2godCl9KSksRShlLChmdW5jdGlvbih0LGUpe2Zvcih2YXIgbixpLHIsbz0obj16KHQsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldERhdGEoKX0pKSxpPXRbMF0uZ2V0KCJtYXBWYWx1ZUNhbGN1bGF0aW9uIikscj17fSxFKG4sKGZ1bmN0aW9uKHQpe3QuZWFjaCh0Lm1hcERpbWVuc2lvbigidmFsdWUiKSwoZnVuY3Rpb24oZSxuKXt2YXIgaT0iZWMtIit0LmdldE5hbWUobik7cltpXT1yW2ldfHxbXSxpc05hTihlKXx8cltpXS5wdXNoKGUpfSkpfSkpLG5bMF0ubWFwKG5bMF0ubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLChmdW5jdGlvbih0LGUpe2Zvcih2YXIgbz0iZWMtIituWzBdLmdldE5hbWUoZSksYT0wLHM9MS8wLGw9LTEvMCx1PXJbb10ubGVuZ3RoLGg9MDtoPHU7aCsrKXM9TWF0aC5taW4ocyxyW29dW2hdKSxsPU1hdGgubWF4KGwscltvXVtoXSksYSs9cltvXVtoXTtyZXR1cm4gMD09PXU/TmFOOiJtaW4iPT09aT9zOiJtYXgiPT09aT9sOiJhdmVyYWdlIj09PWk/YS91OmF9KSkpLGE9MDthPHQubGVuZ3RoO2ErKyl0W2FdLm9yaWdpbmFsRGF0YT10W2FdLmdldERhdGEoKTtmb3IoYT0wO2E8dC5sZW5ndGg7YSsrKXRbYV0uc2VyaWVzR3JvdXA9dCx0W2FdLm5lZWRzRHJhd01hcD0wPT09YSYmIXRbYV0uZ2V0SG9zdEdlb01vZGVsKCksdFthXS5zZXREYXRhKG8uY2xvbmVTaGFsbG93KCkpLHRbYV0ubWFpblNlcmllcz10WzBdfSkpfWZ1bmN0aW9uIFZUKHQpe3ZhciBlPXt9O3QuZWFjaFNlcmllc0J5VHlwZSgibWFwIiwoZnVuY3Rpb24obil7dmFyIGk9bi5nZXRNYXBUeXBlKCk7aWYoIW4uZ2V0SG9zdEdlb01vZGVsKCkmJiFlW2ldKXt2YXIgcj17fTtFKG4uc2VyaWVzR3JvdXAsKGZ1bmN0aW9uKGUpe3ZhciBuPWUuY29vcmRpbmF0ZVN5c3RlbSxpPWUub3JpZ2luYWxEYXRhO2UuZ2V0KCJzaG93TGVnZW5kU3ltYm9sIikmJnQuZ2V0Q29tcG9uZW50KCJsZWdlbmQiKSYmaS5lYWNoKGkubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLChmdW5jdGlvbih0LGUpe3ZhciBvPWkuZ2V0TmFtZShlKSxhPW4uZ2V0UmVnaW9uKG8pO2lmKGEmJiFpc05hTih0KSl7dmFyIHM9cltvXXx8MCxsPW4uZGF0YVRvUG9pbnQoYS5nZXRDZW50ZXIoKSk7cltvXT1zKzEsaS5zZXRJdGVtTGF5b3V0KGUse3BvaW50Omwsb2Zmc2V0OnN9KX19KSl9KSk7dmFyIG89bi5nZXREYXRhKCk7by5lYWNoKChmdW5jdGlvbih0KXt2YXIgZT1vLmdldE5hbWUodCksbj1vLmdldEl0ZW1MYXlvdXQodCl8fHt9O24uc2hvd0xhYmVsPSFyW2VdLG8uc2V0SXRlbUxheW91dCh0LG4pfSkpLGVbaV09ITB9fSkpfXZhciBCVD1GdCxGVD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi50eXBlPSJ2aWV3IixuLmRpbWVuc2lvbnM9WyJ4IiwieSJdLG4uX3JvYW1UcmFuc2Zvcm1hYmxlPW5ldyBxaSxuLl9yYXdUcmFuc2Zvcm1hYmxlPW5ldyBxaSxuLm5hbWU9ZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuc2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB0aGlzLl9yZWN0PW5ldyBzcih0LGUsbixpKSx0aGlzLl9yZWN0fSxlLnByb3RvdHlwZS5nZXRCb3VuZGluZ1JlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVjdH0sZS5wcm90b3R5cGUuc2V0Vmlld1JlY3Q9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5fdHJhbnNmb3JtVG8odCxlLG4saSksdGhpcy5fdmlld1JlY3Q9bmV3IHNyKHQsZSxuLGkpfSxlLnByb3RvdHlwZS5fdHJhbnNmb3JtVG89ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSxvPXRoaXMuX3Jhd1RyYW5zZm9ybWFibGU7by50cmFuc2Zvcm09ci5jYWxjdWxhdGVUcmFuc2Zvcm0obmV3IHNyKHQsZSxuLGkpKTt2YXIgYT1vLnBhcmVudDtvLnBhcmVudD1udWxsLG8uZGVjb21wb3NlVHJhbnNmb3JtKCksby5wYXJlbnQ9YSx0aGlzLl91cGRhdGVUcmFuc2Zvcm0oKX0sZS5wcm90b3R5cGUuc2V0Q2VudGVyPWZ1bmN0aW9uKHQpe3QmJih0aGlzLl9jZW50ZXI9dCx0aGlzLl91cGRhdGVDZW50ZXJBbmRab29tKCkpfSxlLnByb3RvdHlwZS5zZXRab29tPWZ1bmN0aW9uKHQpe3Q9dHx8MTt2YXIgZT10aGlzLnpvb21MaW1pdDtlJiYobnVsbCE9ZS5tYXgmJih0PU1hdGgubWluKGUubWF4LHQpKSxudWxsIT1lLm1pbiYmKHQ9TWF0aC5tYXgoZS5taW4sdCkpKSx0aGlzLl96b29tPXQsdGhpcy5fdXBkYXRlQ2VudGVyQW5kWm9vbSgpfSxlLnByb3RvdHlwZS5nZXREZWZhdWx0Q2VudGVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKTtyZXR1cm5bdC54K3Qud2lkdGgvMix0LnkrdC5oZWlnaHQvMl19LGUucHJvdG90eXBlLmdldENlbnRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jZW50ZXJ8fHRoaXMuZ2V0RGVmYXVsdENlbnRlcigpfSxlLnByb3RvdHlwZS5nZXRab29tPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pvb218fDF9LGUucHJvdG90eXBlLmdldFJvYW1UcmFuc2Zvcm09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcm9hbVRyYW5zZm9ybWFibGUuZ2V0TG9jYWxUcmFuc2Zvcm0oKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUNlbnRlckFuZFpvb209ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yYXdUcmFuc2Zvcm1hYmxlLmdldExvY2FsVHJhbnNmb3JtKCksZT10aGlzLl9yb2FtVHJhbnNmb3JtYWJsZSxuPXRoaXMuZ2V0RGVmYXVsdENlbnRlcigpLGk9dGhpcy5nZXRDZW50ZXIoKSxyPXRoaXMuZ2V0Wm9vbSgpO2k9RnQoW10saSx0KSxuPUZ0KFtdLG4sdCksZS5vcmlnaW5YPWlbMF0sZS5vcmlnaW5ZPWlbMV0sZS54PW5bMF0taVswXSxlLnk9blsxXS1pWzFdLGUuc2NhbGVYPWUuc2NhbGVZPXIsdGhpcy5fdXBkYXRlVHJhbnNmb3JtKCl9LGUucHJvdG90eXBlLl91cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yb2FtVHJhbnNmb3JtYWJsZSxlPXRoaXMuX3Jhd1RyYW5zZm9ybWFibGU7ZS5wYXJlbnQ9dCx0LnVwZGF0ZVRyYW5zZm9ybSgpLGUudXBkYXRlVHJhbnNmb3JtKCksUmkodGhpcy50cmFuc2Zvcm18fCh0aGlzLnRyYW5zZm9ybT1bXSksZS50cmFuc2Zvcm18fFsxLDAsMCwxLDAsMF0pLHRoaXMuX3Jhd1RyYW5zZm9ybT1lLmdldExvY2FsVHJhbnNmb3JtKCksdGhpcy5pbnZUcmFuc2Zvcm09dGhpcy5pbnZUcmFuc2Zvcm18fFtdLEJpKHRoaXMuaW52VHJhbnNmb3JtLHRoaXMudHJhbnNmb3JtKSx0aGlzLmRlY29tcG9zZVRyYW5zZm9ybSgpfSxlLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1JbmZvPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcmF3VHJhbnNmb3JtYWJsZSxlPXRoaXMuX3JvYW1UcmFuc2Zvcm1hYmxlLG49bmV3IHFpO3JldHVybiBuLnRyYW5zZm9ybT1lLnRyYW5zZm9ybSxuLmRlY29tcG9zZVRyYW5zZm9ybSgpLHtyb2FtOnt4Om4ueCx5Om4ueSxzY2FsZVg6bi5zY2FsZVgsc2NhbGVZOm4uc2NhbGVZfSxyYXc6e3g6dC54LHk6dC55LHNjYWxlWDp0LnNjYWxlWCxzY2FsZVk6dC5zY2FsZVl9fX0sZS5wcm90b3R5cGUuZ2V0Vmlld1JlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlld1JlY3R9LGUucHJvdG90eXBlLmdldFZpZXdSZWN0QWZ0ZXJSb2FtPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKS5jbG9uZSgpO3JldHVybiB0LmFwcGx5VHJhbnNmb3JtKHRoaXMudHJhbnNmb3JtKSx0fSxlLnByb3RvdHlwZS5kYXRhVG9Qb2ludD1mdW5jdGlvbih0LGUsbil7dmFyIGk9ZT90aGlzLl9yYXdUcmFuc2Zvcm06dGhpcy50cmFuc2Zvcm07cmV0dXJuIG49bnx8W10saT9CVChuLHQsaSk6U3Qobix0KX0sZS5wcm90b3R5cGUucG9pbnRUb0RhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pbnZUcmFuc2Zvcm07cmV0dXJuIGU/QlQoW10sdCxlKTpbdFswXSx0WzFdXX0sZS5wcm90b3R5cGUuY29udmVydFRvUGl4ZWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPUdUKGUpO3JldHVybiBpPT09dGhpcz9pLmRhdGFUb1BvaW50KG4pOm51bGx9LGUucHJvdG90eXBlLmNvbnZlcnRGcm9tUGl4ZWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPUdUKGUpO3JldHVybiBpPT09dGhpcz9pLnBvaW50VG9EYXRhKG4pOm51bGx9LGUucHJvdG90eXBlLmNvbnRhaW5Qb2ludD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRWaWV3UmVjdEFmdGVyUm9hbSgpLmNvbnRhaW4odFswXSx0WzFdKX0sZS5kaW1lbnNpb25zPVsieCIsInkiXSxlfShxaSk7ZnVuY3Rpb24gR1QodCl7dmFyIGU9dC5zZXJpZXNNb2RlbDtyZXR1cm4gZT9lLmNvb3JkaW5hdGVTeXN0ZW06bnVsbH12YXIgV1Q9e2dlb0pTT046e2FzcGVjdFNjYWxlOi43NSxpbnZlcnRMb25naXR1dGU6ITB9LGdlb1NWRzp7YXNwZWN0U2NhbGU6MSxpbnZlcnRMb25naXR1dGU6ITF9fSxIVD1bImxuZyIsImxhdCJdLFlUPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZhciByPXQuY2FsbCh0aGlzLGUpfHx0aGlzO3IuZGltZW5zaW9ucz1IVCxyLnR5cGU9ImdlbyIsci5fbmFtZUNvb3JkTWFwPWZ0KCksci5tYXA9bjt2YXIgbyxhPWkucHJvamVjdGlvbixzPV9UKG4saS5uYW1lTWFwLGkubmFtZVByb3BlcnR5KSxsPW1UKG4pLHU9KHIucmVzb3VyY2VUeXBlPWw/bC50eXBlOm51bGwsci5yZWdpb25zPXMucmVnaW9ucyksaD1XVFtsLnR5cGVdO2lmKHIuX3JlZ2lvbnNNYXA9cy5yZWdpb25zTWFwLHIucmVnaW9ucz1zLnJlZ2lvbnMsci5wcm9qZWN0aW9uPWEsYSlmb3IodmFyIGM9MDtjPHUubGVuZ3RoO2MrKyl7dmFyIHA9dVtjXS5nZXRCb3VuZGluZ1JlY3QoYSk7KG89b3x8cC5jbG9uZSgpKS51bmlvbihwKX1lbHNlIG89cy5ib3VuZGluZ1JlY3Q7cmV0dXJuIHIuc2V0Qm91bmRpbmdSZWN0KG8ueCxvLnksby53aWR0aCxvLmhlaWdodCksci5hc3BlY3RTY2FsZT1hPzE6cnQoaS5hc3BlY3RTY2FsZSxoLmFzcGVjdFNjYWxlKSxyLl9pbnZlcnRMb25naXR1dGU9IWEmJmguaW52ZXJ0TG9uZ2l0dXRlLHJ9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5fdHJhbnNmb3JtVG89ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSxvPXRoaXMuX2ludmVydExvbmdpdHV0ZTtyPXIuY2xvbmUoKSxvJiYoci55PS1yLnktci5oZWlnaHQpO3ZhciBhPXRoaXMuX3Jhd1RyYW5zZm9ybWFibGU7YS50cmFuc2Zvcm09ci5jYWxjdWxhdGVUcmFuc2Zvcm0obmV3IHNyKHQsZSxuLGkpKTt2YXIgcz1hLnBhcmVudDthLnBhcmVudD1udWxsLGEuZGVjb21wb3NlVHJhbnNmb3JtKCksYS5wYXJlbnQ9cyxvJiYoYS5zY2FsZVk9LWEuc2NhbGVZKSx0aGlzLl91cGRhdGVUcmFuc2Zvcm0oKX0sZS5wcm90b3R5cGUuZ2V0UmVnaW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yZWdpb25zTWFwLmdldCh0KX0sZS5wcm90b3R5cGUuZ2V0UmVnaW9uQnlDb29yZD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5yZWdpb25zLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTtpZigiZ2VvSlNPTiI9PT1pLnR5cGUmJmkuY29udGFpbih0KSlyZXR1cm4gZVtuXX19LGUucHJvdG90eXBlLmFkZEdlb0Nvb3JkPWZ1bmN0aW9uKHQsZSl7dGhpcy5fbmFtZUNvb3JkTWFwLnNldCh0LGUpfSxlLnByb3RvdHlwZS5nZXRHZW9Db29yZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9yZWdpb25zTWFwLmdldCh0KTtyZXR1cm4gdGhpcy5fbmFtZUNvb3JkTWFwLmdldCh0KXx8ZSYmZS5nZXRDZW50ZXIoKX0sZS5wcm90b3R5cGUuZGF0YVRvUG9pbnQ9ZnVuY3Rpb24odCxlLG4pe2lmKFgodCkmJih0PXRoaXMuZ2V0R2VvQ29vcmQodCkpLHQpe3ZhciBpPXRoaXMucHJvamVjdGlvbjtyZXR1cm4gaSYmKHQ9aS5wcm9qZWN0KHQpKSx0JiZ0aGlzLnByb2plY3RlZFRvUG9pbnQodCl9fSxlLnByb3RvdHlwZS5wb2ludFRvRGF0YT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnByb2plY3Rpb247cmV0dXJuIGUmJih0PWUudW5wcm9qZWN0KHQpKSx0JiZ0aGlzLnBvaW50VG9Qcm9qZWN0ZWQodCl9LGUucHJvdG90eXBlLnBvaW50VG9Qcm9qZWN0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQucHJvdG90eXBlLnBvaW50VG9EYXRhLmNhbGwodGhpcyxlKX0sZS5wcm90b3R5cGUucHJvamVjdGVkVG9Qb2ludD1mdW5jdGlvbihlLG4saSl7cmV0dXJuIHQucHJvdG90eXBlLmRhdGFUb1BvaW50LmNhbGwodGhpcyxlLG4saSl9LGUucHJvdG90eXBlLmNvbnZlcnRUb1BpeGVsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1VVChlKTtyZXR1cm4gaT09PXRoaXM/aS5kYXRhVG9Qb2ludChuKTpudWxsfSxlLnByb3RvdHlwZS5jb252ZXJ0RnJvbVBpeGVsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1VVChlKTtyZXR1cm4gaT09PXRoaXM/aS5wb2ludFRvRGF0YShuKTpudWxsfSxlfShGVCk7ZnVuY3Rpb24gVVQodCl7dmFyIGU9dC5nZW9Nb2RlbCxuPXQuc2VyaWVzTW9kZWw7cmV0dXJuIGU/ZS5jb29yZGluYXRlU3lzdGVtOm4/bi5jb29yZGluYXRlU3lzdGVtfHwobi5nZXRSZWZlcnJpbmdDb21wb25lbnRzKCJnZW8iLENvKS5tb2RlbHNbMF18fHt9KS5jb29yZGluYXRlU3lzdGVtOm51bGx9ZnVuY3Rpb24gWFQodCxlKXt2YXIgbj10LmdldCgiYm91bmRpbmdDb29yZHMiKTtpZihudWxsIT1uKXt2YXIgaT1uWzBdLHI9blsxXTtpZihpc0Zpbml0ZShpWzBdKSYmaXNGaW5pdGUoaVsxXSkmJmlzRmluaXRlKHJbMF0pJiZpc0Zpbml0ZShyWzFdKSl7dmFyIG89dGhpcy5wcm9qZWN0aW9uO2lmKG8pe3ZhciBhPWlbMF0scz1pWzFdLGw9clswXSx1PXJbMV07aT1bMS8wLDEvMF0scj1bLTEvMCwtMS8wXTt2YXIgaD1mdW5jdGlvbih0LGUsbixhKXtmb3IodmFyIHM9bi10LGw9YS1lLHU9MDt1PD0xMDA7dSsrKXt2YXIgaD11LzEwMCxjPW8ucHJvamVjdChbdCtzKmgsZStsKmhdKTtHdChpLGksYyksV3QocixyLGMpfX07aChhLHMsbCxzKSxoKGwscyxsLHUpLGgobCx1LGEsdSksaChhLHUsbCxzKX10aGlzLnNldEJvdW5kaW5nUmVjdChpWzBdLGlbMV0sclswXS1pWzBdLHJbMV0taVsxXSl9ZWxzZSAwfXZhciBjLHAsZCxmPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCksZz10LmdldCgibGF5b3V0Q2VudGVyIikseT10LmdldCgibGF5b3V0U2l6ZSIpLHY9ZS5nZXRXaWR0aCgpLG09ZS5nZXRIZWlnaHQoKSx4PWYud2lkdGgvZi5oZWlnaHQqdGhpcy5hc3BlY3RTY2FsZSxfPSExO2lmKGcmJnkmJihjPVtFcihnWzBdLHYpLEVyKGdbMV0sbSldLHA9RXIoeSxNYXRoLm1pbih2LG0pKSxpc05hTihjWzBdKXx8aXNOYU4oY1sxXSl8fGlzTmFOKHApfHwoXz0hMCkpLF8pZD17fSx4PjE/KGQud2lkdGg9cCxkLmhlaWdodD1wL3gpOihkLmhlaWdodD1wLGQud2lkdGg9cCp4KSxkLnk9Y1sxXS1kLmhlaWdodC8yLGQueD1jWzBdLWQud2lkdGgvMjtlbHNle3ZhciBiPXQuZ2V0Qm94TGF5b3V0UGFyYW1zKCk7Yi5hc3BlY3Q9eCxkPXhwKGIse3dpZHRoOnYsaGVpZ2h0Om19KX10aGlzLnNldFZpZXdSZWN0KGQueCxkLnksZC53aWR0aCxkLmhlaWdodCksdGhpcy5zZXRDZW50ZXIodC5nZXQoImNlbnRlciIpKSx0aGlzLnNldFpvb20odC5nZXQoInpvb20iKSl9UihZVCxGVCk7dmFyIFpUPW5ldyhmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmRpbWVuc2lvbnM9SFR9cmV0dXJuIHQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPVtdO2Z1bmN0aW9uIGkodCl7cmV0dXJue25hbWVQcm9wZXJ0eTp0LmdldCgibmFtZVByb3BlcnR5IiksYXNwZWN0U2NhbGU6dC5nZXQoImFzcGVjdFNjYWxlIikscHJvamVjdGlvbjp0LmdldCgicHJvamVjdGlvbiIpfX10LmVhY2hDb21wb25lbnQoImdlbyIsKGZ1bmN0aW9uKHQscil7dmFyIG89dC5nZXQoIm1hcCIpLGE9bmV3IFlUKG8rcixvLEEoe25hbWVNYXA6dC5nZXQoIm5hbWVNYXAiKX0saSh0KSkpO2Euem9vbUxpbWl0PXQuZ2V0KCJzY2FsZUxpbWl0Iiksbi5wdXNoKGEpLHQuY29vcmRpbmF0ZVN5c3RlbT1hLGEubW9kZWw9dCxhLnJlc2l6ZT1YVCxhLnJlc2l6ZSh0LGUpfSkpLHQuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7aWYoImdlbyI9PT10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpKXt2YXIgZT10LmdldCgiZ2VvSW5kZXgiKXx8MDt0LmNvb3JkaW5hdGVTeXN0ZW09bltlXX19KSk7dmFyIHI9e307cmV0dXJuIHQuZWFjaFNlcmllc0J5VHlwZSgibWFwIiwoZnVuY3Rpb24odCl7aWYoIXQuZ2V0SG9zdEdlb01vZGVsKCkpe3ZhciBlPXQuZ2V0TWFwVHlwZSgpO3JbZV09cltlXXx8W10scltlXS5wdXNoKHQpfX0pKSxFKHIsKGZ1bmN0aW9uKHQscil7dmFyIG89eih0LChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXQoIm5hbWVNYXAiKX0pKSxhPW5ldyBZVChyLHIsQSh7bmFtZU1hcDpEKG8pfSxpKHRbMF0pKSk7YS56b29tTGltaXQ9aXQuYXBwbHkobnVsbCx6KHQsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldCgic2NhbGVMaW1pdCIpfSkpKSxuLnB1c2goYSksYS5yZXNpemU9WFQsYS5yZXNpemUodFswXSxlKSxFKHQsKGZ1bmN0aW9uKHQpe3QuY29vcmRpbmF0ZVN5c3RlbT1hLGZ1bmN0aW9uKHQsZSl7RShlLmdldCgiZ2VvQ29vcmQiKSwoZnVuY3Rpb24oZSxuKXt0LmFkZEdlb0Nvb3JkKG4sZSl9KSl9KGEsdCl9KSl9KSksbn0sdC5wcm90b3R5cGUuZ2V0RmlsbGVkUmVnaW9ucz1mdW5jdGlvbih0LGUsbixpKXtmb3IodmFyIHI9KHR8fFtdKS5zbGljZSgpLG89ZnQoKSxhPTA7YTxyLmxlbmd0aDthKyspby5zZXQoclthXS5uYW1lLHJbYV0pO3JldHVybiBFKF9UKGUsbixpKS5yZWdpb25zLChmdW5jdGlvbih0KXt2YXIgZT10Lm5hbWU7IW8uZ2V0KGUpJiZyLnB1c2goe25hbWU6ZX0pfSkpLHJ9LHR9KCkpLGpUPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPW1UKHQubWFwKTtpZihpJiYiZ2VvSlNPTiI9PT1pLnR5cGUpe3ZhciByPXQuaXRlbVN0eWxlPXQuaXRlbVN0eWxlfHx7fTsiY29sb3IiaW4gcnx8KHIuY29sb3I9IiNlZWUiKX10aGlzLm1lcmdlRGVmYXVsdEFuZFRoZW1lKHQsbiksY28odCwibGFiZWwiLFsic2hvdyJdKX0sZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLm9wdGlvbjtlLnJlZ2lvbnM9WlQuZ2V0RmlsbGVkUmVnaW9ucyhlLnJlZ2lvbnMsZS5tYXAsZS5uYW1lTWFwLGUubmFtZVByb3BlcnR5KTt2YXIgbj17fTt0aGlzLl9vcHRpb25Nb2RlbE1hcD1WKGUucmVnaW9uc3x8W10sKGZ1bmN0aW9uKGUsaSl7dmFyIHI9aS5uYW1lO3JldHVybiByJiYoZS5zZXQocixuZXcgZGMoaSx0LHQuZWNNb2RlbCkpLGkuc2VsZWN0ZWQmJihuW3JdPSEwKSksZX0pLGZ0KCkpLGUuc2VsZWN0ZWRNYXB8fChlLnNlbGVjdGVkTWFwPW4pfSxlLnByb3RvdHlwZS5nZXRSZWdpb25Nb2RlbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fb3B0aW9uTW9kZWxNYXAuZ2V0KHQpfHxuZXcgZGMobnVsbCx0aGlzLHRoaXMuZWNNb2RlbCl9LGUucHJvdG90eXBlLmdldEZvcm1hdHRlZExhYmVsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXRSZWdpb25Nb2RlbCh0KSxpPSJub3JtYWwiPT09ZT9uLmdldChbImxhYmVsIiwiZm9ybWF0dGVyIl0pOm4uZ2V0KFsiZW1waGFzaXMiLCJsYWJlbCIsImZvcm1hdHRlciJdKSxyPXtuYW1lOnR9O3JldHVybiBVKGkpPyhyLnN0YXR1cz1lLGkocikpOlgoaSk/aS5yZXBsYWNlKCJ7YX0iLG51bGwhPXQ/dDoiIik6dm9pZCAwfSxlLnByb3RvdHlwZS5zZXRab29tPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLnpvb209dH0sZS5wcm90b3R5cGUuc2V0Q2VudGVyPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLmNlbnRlcj10fSxlLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24sbj1lLnNlbGVjdGVkTW9kZTtuJiYoIm11bHRpcGxlIiE9PW4mJihlLnNlbGVjdGVkTWFwPW51bGwpLChlLnNlbGVjdGVkTWFwfHwoZS5zZWxlY3RlZE1hcD17fSkpW3RdPSEwKX0sZS5wcm90b3R5cGUudW5TZWxlY3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24uc2VsZWN0ZWRNYXA7ZSYmKGVbdF09ITEpfSxlLnByb3RvdHlwZS50b2dnbGVTZWxlY3RlZD1mdW5jdGlvbih0KXt0aGlzW3RoaXMuaXNTZWxlY3RlZCh0KT8idW5TZWxlY3QiOiJzZWxlY3QiXSh0KX0sZS5wcm90b3R5cGUuaXNTZWxlY3RlZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbi5zZWxlY3RlZE1hcDtyZXR1cm4hKCFlfHwhZVt0XSl9LGUudHlwZT0iZ2VvIixlLmxheW91dE1vZGU9ImJveCIsZS5kZWZhdWx0T3B0aW9uPXt6OjAsc2hvdzohMCxsZWZ0OiJjZW50ZXIiLHRvcDoiY2VudGVyIixhc3BlY3RTY2FsZTpudWxsLHNpbGVudDohMSxtYXA6IiIsYm91bmRpbmdDb29yZHM6bnVsbCxjZW50ZXI6bnVsbCx6b29tOjEsc2NhbGVMaW1pdDpudWxsLGxhYmVsOntzaG93OiExLGNvbG9yOiIjMDAwIn0saXRlbVN0eWxlOntib3JkZXJXaWR0aDouNSxib3JkZXJDb2xvcjoiIzQ0NCJ9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMCxjb2xvcjoicmdiKDEwMCwwLDApIn0saXRlbVN0eWxlOntjb2xvcjoicmdiYSgyNTUsMjE1LDAsMC44KSJ9fSxzZWxlY3Q6e2xhYmVsOntzaG93OiEwLGNvbG9yOiJyZ2IoMTAwLDAsMCkifSxpdGVtU3R5bGU6e2NvbG9yOiJyZ2JhKDI1NSwyMTUsMCwwLjgpIn19LHJlZ2lvbnM6W119LGV9KFRwKTtmdW5jdGlvbiBxVCh0LGUpe3JldHVybiB0LnBvaW50VG9Qcm9qZWN0ZWQ/dC5wb2ludFRvUHJvamVjdGVkKGUpOnQucG9pbnRUb0RhdGEoZSl9ZnVuY3Rpb24gS1QodCxlLG4pe3ZhciBpPXQuZ2V0Wm9vbSgpLHI9dC5nZXRDZW50ZXIoKSxvPWUuem9vbSxhPXQucHJvamVjdGVkVG9Qb2ludD90LnByb2plY3RlZFRvUG9pbnQocik6dC5kYXRhVG9Qb2ludChyKTtpZihudWxsIT1lLmR4JiZudWxsIT1lLmR5JiYoYVswXS09ZS5keCxhWzFdLT1lLmR5LHQuc2V0Q2VudGVyKHFUKHQsYSkpKSxudWxsIT1vKXtpZihuKXt2YXIgcz1uLm1pbnx8MCxsPW4ubWF4fHwxLzA7bz1NYXRoLm1heChNYXRoLm1pbihpKm8sbCkscykvaX10LnNjYWxlWCo9byx0LnNjYWxlWSo9bzt2YXIgdT0oZS5vcmlnaW5YLXQueCkqKG8tMSksaD0oZS5vcmlnaW5ZLXQueSkqKG8tMSk7dC54LT11LHQueS09aCx0LnVwZGF0ZVRyYW5zZm9ybSgpLHQuc2V0Q2VudGVyKHFUKHQsYSkpLHQuc2V0Wm9vbShvKmkpfXJldHVybntjZW50ZXI6dC5nZXRDZW50ZXIoKSx6b29tOnQuZ2V0Wm9vbSgpfX12YXIgJFQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmZvY3VzQmx1ckVuYWJsZWQ9ITAsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlKXt0aGlzLl9hcGk9ZX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe2lmKHRoaXMuX21vZGVsPXQsIXQuZ2V0KCJzaG93IikpcmV0dXJuIHRoaXMuX21hcERyYXcmJnRoaXMuX21hcERyYXcucmVtb3ZlKCksdm9pZCh0aGlzLl9tYXBEcmF3PW51bGwpO3RoaXMuX21hcERyYXd8fCh0aGlzLl9tYXBEcmF3PW5ldyBEVChuKSk7dmFyIHI9dGhpcy5fbWFwRHJhdztyLmRyYXcodCxlLG4sdGhpcyxpKSxyLmdyb3VwLm9uKCJjbGljayIsdGhpcy5faGFuZGxlUmVnaW9uQ2xpY2ssdGhpcyksci5ncm91cC5zaWxlbnQ9dC5nZXQoInNpbGVudCIpLHRoaXMuZ3JvdXAuYWRkKHIuZ3JvdXApLHRoaXMudXBkYXRlU2VsZWN0U3RhdHVzKHQsZSxuKX0sZS5wcm90b3R5cGUuX2hhbmRsZVJlZ2lvbkNsaWNrPWZ1bmN0aW9uKHQpe3ZhciBlO3h5KHQudGFyZ2V0LChmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9KGU9SHModCkuZXZlbnREYXRhKX0pLCEwKSxlJiZ0aGlzLl9hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6Imdlb1RvZ2dsZVNlbGVjdCIsZ2VvSWQ6dGhpcy5fbW9kZWwuaWQsbmFtZTplLm5hbWV9KX0sZS5wcm90b3R5cGUudXBkYXRlU2VsZWN0U3RhdHVzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzO3RoaXMuX21hcERyYXcuZ3JvdXAudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe3ZhciBlPUhzKHQpLmV2ZW50RGF0YTtpZihlKXJldHVybiBpLl9tb2RlbC5pc1NlbGVjdGVkKGUubmFtZSk/bi5lbnRlclNlbGVjdCh0KTpuLmxlYXZlU2VsZWN0KHQpLCEwfSkpfSxlLnByb3RvdHlwZS5maW5kSGlnaERvd25EaXNwYXRjaGVycz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbWFwRHJhdyYmdGhpcy5fbWFwRHJhdy5maW5kSGlnaERvd25EaXNwYXRjaGVycyh0LHRoaXMuX21vZGVsKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX21hcERyYXcmJnRoaXMuX21hcERyYXcucmVtb3ZlKCl9LGUudHlwZT0iZ2VvIixlfShnZyk7ZnVuY3Rpb24gSlQodCxlLG4pe3ZUKHQsZSxuKX1mdW5jdGlvbiBRVCh0KXtmdW5jdGlvbiBlKGUsbil7bi51cGRhdGU9Imdlbzp1cGRhdGVTZWxlY3RTdGF0dXMiLHQucmVnaXN0ZXJBY3Rpb24obiwoZnVuY3Rpb24odCxuKXt2YXIgaT17fSxyPVtdO3JldHVybiBuLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJnZW8iLHF1ZXJ5OnR9LChmdW5jdGlvbihuKXtuW2VdKHQubmFtZSksRShuLmNvb3JkaW5hdGVTeXN0ZW0ucmVnaW9ucywoZnVuY3Rpb24odCl7aVt0Lm5hbWVdPW4uaXNTZWxlY3RlZCh0Lm5hbWUpfHwhMX0pKTt2YXIgbz1bXTtFKGksKGZ1bmN0aW9uKHQsZSl7aVtlXSYmby5wdXNoKGUpfSkpLHIucHVzaCh7Z2VvSW5kZXg6bi5jb21wb25lbnRJbmRleCxuYW1lOm99KX0pKSx7c2VsZWN0ZWQ6aSxhbGxTZWxlY3RlZDpyLG5hbWU6dC5uYW1lfX0pKX10LnJlZ2lzdGVyQ29vcmRpbmF0ZVN5c3RlbSgiZ2VvIixaVCksdC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKGpUKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldygkVCksdC5yZWdpc3RlckltcGwoInJlZ2lzdGVyTWFwIixKVCksdC5yZWdpc3RlckltcGwoImdldE1hcCIsKGZ1bmN0aW9uKHQpe3JldHVybiB4VCh0KX0pKSxlKCJ0b2dnbGVTZWxlY3RlZCIse3R5cGU6Imdlb1RvZ2dsZVNlbGVjdCIsZXZlbnQ6Imdlb3NlbGVjdGNoYW5nZWQifSksZSgic2VsZWN0Iix7dHlwZToiZ2VvU2VsZWN0IixldmVudDoiZ2Vvc2VsZWN0ZWQifSksZSgidW5TZWxlY3QiLHt0eXBlOiJnZW9VblNlbGVjdCIsZXZlbnQ6Imdlb3Vuc2VsZWN0ZWQifSksdC5yZWdpc3RlckFjdGlvbih7dHlwZToiZ2VvUm9hbSIsZXZlbnQ6Imdlb1JvYW0iLHVwZGF0ZToidXBkYXRlVHJhbnNmb3JtIn0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5jb21wb25lbnRUeXBlfHwic2VyaWVzIjtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOm4scXVlcnk6dH0sKGZ1bmN0aW9uKGUpe3ZhciBpPWUuY29vcmRpbmF0ZVN5c3RlbTtpZigiZ2VvIj09PWkudHlwZSl7dmFyIHI9S1QoaSx0LGUuZ2V0KCJzY2FsZUxpbWl0IikpO2Uuc2V0Q2VudGVyJiZlLnNldENlbnRlcihyLmNlbnRlciksZS5zZXRab29tJiZlLnNldFpvb20oci56b29tKSwic2VyaWVzIj09PW4mJkUoZS5zZXJpZXNHcm91cCwoZnVuY3Rpb24odCl7dC5zZXRDZW50ZXIoci5jZW50ZXIpLHQuc2V0Wm9vbShyLnpvb20pfSkpfX0pKX0pKX1mdW5jdGlvbiB0Qyh0LGUpe3ZhciBuPXQuaXNFeHBhbmQ/dC5jaGlsZHJlbjpbXSxpPXQucGFyZW50Tm9kZS5jaGlsZHJlbixyPXQuaGllck5vZGUuaT9pW3QuaGllck5vZGUuaS0xXTpudWxsO2lmKG4ubGVuZ3RoKXshZnVuY3Rpb24odCl7dmFyIGU9dC5jaGlsZHJlbixuPWUubGVuZ3RoLGk9MCxyPTA7Zm9yKDstLW4+PTA7KXt2YXIgbz1lW25dO28uaGllck5vZGUucHJlbGltKz1pLG8uaGllck5vZGUubW9kaWZpZXIrPWkscis9by5oaWVyTm9kZS5jaGFuZ2UsaSs9by5oaWVyTm9kZS5zaGlmdCtyfX0odCk7dmFyIG89KG5bMF0uaGllck5vZGUucHJlbGltK25bbi5sZW5ndGgtMV0uaGllck5vZGUucHJlbGltKS8yO3I/KHQuaGllck5vZGUucHJlbGltPXIuaGllck5vZGUucHJlbGltK2UodCxyKSx0LmhpZXJOb2RlLm1vZGlmaWVyPXQuaGllck5vZGUucHJlbGltLW8pOnQuaGllck5vZGUucHJlbGltPW99ZWxzZSByJiYodC5oaWVyTm9kZS5wcmVsaW09ci5oaWVyTm9kZS5wcmVsaW0rZSh0LHIpKTt0LnBhcmVudE5vZGUuaGllck5vZGUuZGVmYXVsdEFuY2VzdG9yPWZ1bmN0aW9uKHQsZSxuLGkpe2lmKGUpe2Zvcih2YXIgcj10LG89dCxhPW8ucGFyZW50Tm9kZS5jaGlsZHJlblswXSxzPWUsbD1yLmhpZXJOb2RlLm1vZGlmaWVyLHU9by5oaWVyTm9kZS5tb2RpZmllcixoPWEuaGllck5vZGUubW9kaWZpZXIsYz1zLmhpZXJOb2RlLm1vZGlmaWVyO3M9ckMocyksbz1vQyhvKSxzJiZvOyl7cj1yQyhyKSxhPW9DKGEpLHIuaGllck5vZGUuYW5jZXN0b3I9dDt2YXIgcD1zLmhpZXJOb2RlLnByZWxpbStjLW8uaGllck5vZGUucHJlbGltLXUraShzLG8pO3A+MCYmKHNDKGFDKHMsdCxuKSx0LHApLHUrPXAsbCs9cCksYys9cy5oaWVyTm9kZS5tb2RpZmllcix1Kz1vLmhpZXJOb2RlLm1vZGlmaWVyLGwrPXIuaGllck5vZGUubW9kaWZpZXIsaCs9YS5oaWVyTm9kZS5tb2RpZmllcn1zJiYhckMocikmJihyLmhpZXJOb2RlLnRocmVhZD1zLHIuaGllck5vZGUubW9kaWZpZXIrPWMtbCksbyYmIW9DKGEpJiYoYS5oaWVyTm9kZS50aHJlYWQ9byxhLmhpZXJOb2RlLm1vZGlmaWVyKz11LWgsbj10KX1yZXR1cm4gbn0odCxyLHQucGFyZW50Tm9kZS5oaWVyTm9kZS5kZWZhdWx0QW5jZXN0b3J8fGlbMF0sZSl9ZnVuY3Rpb24gZUModCl7dmFyIGU9dC5oaWVyTm9kZS5wcmVsaW0rdC5wYXJlbnROb2RlLmhpZXJOb2RlLm1vZGlmaWVyO3Quc2V0TGF5b3V0KHt4OmV9LCEwKSx0LmhpZXJOb2RlLm1vZGlmaWVyKz10LnBhcmVudE5vZGUuaGllck5vZGUubW9kaWZpZXJ9ZnVuY3Rpb24gbkModCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dDpsQ31mdW5jdGlvbiBpQyh0LGUpe3JldHVybiB0LT1NYXRoLlBJLzIse3g6ZSpNYXRoLmNvcyh0KSx5OmUqTWF0aC5zaW4odCl9fWZ1bmN0aW9uIHJDKHQpe3ZhciBlPXQuY2hpbGRyZW47cmV0dXJuIGUubGVuZ3RoJiZ0LmlzRXhwYW5kP2VbZS5sZW5ndGgtMV06dC5oaWVyTm9kZS50aHJlYWR9ZnVuY3Rpb24gb0ModCl7dmFyIGU9dC5jaGlsZHJlbjtyZXR1cm4gZS5sZW5ndGgmJnQuaXNFeHBhbmQ/ZVswXTp0LmhpZXJOb2RlLnRocmVhZH1mdW5jdGlvbiBhQyh0LGUsbil7cmV0dXJuIHQuaGllck5vZGUuYW5jZXN0b3IucGFyZW50Tm9kZT09PWUucGFyZW50Tm9kZT90LmhpZXJOb2RlLmFuY2VzdG9yOm59ZnVuY3Rpb24gc0ModCxlLG4pe3ZhciBpPW4vKGUuaGllck5vZGUuaS10LmhpZXJOb2RlLmkpO2UuaGllck5vZGUuY2hhbmdlLT1pLGUuaGllck5vZGUuc2hpZnQrPW4sZS5oaWVyTm9kZS5tb2RpZmllcis9bixlLmhpZXJOb2RlLnByZWxpbSs9bix0LmhpZXJOb2RlLmNoYW5nZSs9aX1mdW5jdGlvbiBsQyh0LGUpe3JldHVybiB0LnBhcmVudE5vZGU9PT1lLnBhcmVudE5vZGU/MToyfXZhciB1Qz1mdW5jdGlvbigpe3RoaXMucGFyZW50UG9pbnQ9W10sdGhpcy5jaGlsZFBvaW50cz1bXX0saEM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm57c3Ryb2tlOiIjMDAwIixmaWxsOm51bGx9fSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHVDfSxlLnByb3RvdHlwZS5idWlsZFBhdGg9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmNoaWxkUG9pbnRzLGk9bi5sZW5ndGgscj1lLnBhcmVudFBvaW50LG89blswXSxhPW5baS0xXTtpZigxPT09aSlyZXR1cm4gdC5tb3ZlVG8oclswXSxyWzFdKSx2b2lkIHQubGluZVRvKG9bMF0sb1sxXSk7dmFyIHM9ZS5vcmllbnQsbD0iVEIiPT09c3x8IkJUIj09PXM/MDoxLHU9MS1sLGg9RXIoZS5mb3JrUG9zaXRpb24sMSksYz1bXTtjW2xdPXJbbF0sY1t1XT1yW3VdKyhhW3VdLXJbdV0pKmgsdC5tb3ZlVG8oclswXSxyWzFdKSx0LmxpbmVUbyhjWzBdLGNbMV0pLHQubW92ZVRvKG9bMF0sb1sxXSksY1tsXT1vW2xdLHQubGluZVRvKGNbMF0sY1sxXSksY1tsXT1hW2xdLHQubGluZVRvKGNbMF0sY1sxXSksdC5saW5lVG8oYVswXSxhWzFdKTtmb3IodmFyIHA9MTtwPGktMTtwKyspe3ZhciBkPW5bcF07dC5tb3ZlVG8oZFswXSxkWzFdKSxjW2xdPWRbbF0sdC5saW5lVG8oY1swXSxjWzFdKX19LGV9KGdzKSxjQz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uX21haW5Hcm91cD1uZXcgQ3Isbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlKXt0aGlzLl9jb250cm9sbGVyPW5ldyBBSShlLmdldFpyKCkpLHRoaXMuX2NvbnRyb2xsZXJIb3N0PXt0YXJnZXQ6dGhpcy5ncm91cH0sdGhpcy5ncm91cC5hZGQodGhpcy5fbWFpbkdyb3VwKX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldERhdGEoKSxyPXQubGF5b3V0SW5mbyxvPXRoaXMuX21haW5Hcm91cDsicmFkaWFsIj09PXQuZ2V0KCJsYXlvdXQiKT8oby54PXIueCtyLndpZHRoLzIsby55PXIueStyLmhlaWdodC8yKTooby54PXIueCxvLnk9ci55KSx0aGlzLl91cGRhdGVWaWV3Q29vcmRTeXModCksdGhpcy5fdXBkYXRlQ29udHJvbGxlcih0LGUsbik7dmFyIGE9dGhpcy5fZGF0YTtpLmRpZmYoYSkuYWRkKChmdW5jdGlvbihlKXtwQyhpLGUpJiZkQyhpLGUsbnVsbCxvLHQpfSkpLnVwZGF0ZSgoZnVuY3Rpb24oZSxuKXt2YXIgcj1hLmdldEl0ZW1HcmFwaGljRWwobik7cEMoaSxlKT9kQyhpLGUscixvLHQpOnImJnlDKGEsbixyLG8sdCl9KSkucmVtb3ZlKChmdW5jdGlvbihlKXt2YXIgbj1hLmdldEl0ZW1HcmFwaGljRWwoZSk7biYmeUMoYSxlLG4sbyx0KX0pKS5leGVjdXRlKCksdGhpcy5fbm9kZVNjYWxlUmF0aW89dC5nZXQoIm5vZGVTY2FsZVJhdGlvIiksdGhpcy5fdXBkYXRlTm9kZUFuZExpbmtTY2FsZSh0KSwhMD09PXQuZ2V0KCJleHBhbmRBbmRDb2xsYXBzZSIpJiZpLmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbihlLGkpe2Uub2ZmKCJjbGljayIpLm9uKCJjbGljayIsKGZ1bmN0aW9uKCl7bi5kaXNwYXRjaEFjdGlvbih7dHlwZToidHJlZUV4cGFuZEFuZENvbGxhcHNlIixzZXJpZXNJZDp0LmlkLGRhdGFJbmRleDppfSl9KSl9KSksdGhpcy5fZGF0YT1pfSxlLnByb3RvdHlwZS5fdXBkYXRlVmlld0Nvb3JkU3lzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RGF0YSgpLG49W107ZS5lYWNoKChmdW5jdGlvbih0KXt2YXIgaT1lLmdldEl0ZW1MYXlvdXQodCk7IWl8fGlzTmFOKGkueCl8fGlzTmFOKGkueSl8fG4ucHVzaChbK2kueCwraS55XSl9KSk7dmFyIGk9W10scj1bXTtNYShuLGkscik7dmFyIG89dGhpcy5fbWluLGE9dGhpcy5fbWF4O3JbMF0taVswXT09MCYmKGlbMF09bz9vWzBdOmlbMF0tMSxyWzBdPWE/YVswXTpyWzBdKzEpLHJbMV0taVsxXT09MCYmKGlbMV09bz9vWzFdOmlbMV0tMSxyWzFdPWE/YVsxXTpyWzFdKzEpO3ZhciBzPXQuY29vcmRpbmF0ZVN5c3RlbT1uZXcgRlQ7cy56b29tTGltaXQ9dC5nZXQoInNjYWxlTGltaXQiKSxzLnNldEJvdW5kaW5nUmVjdChpWzBdLGlbMV0sclswXS1pWzBdLHJbMV0taVsxXSkscy5zZXRDZW50ZXIodC5nZXQoImNlbnRlciIpKSxzLnNldFpvb20odC5nZXQoInpvb20iKSksdGhpcy5ncm91cC5hdHRyKHt4OnMueCx5OnMueSxzY2FsZVg6cy5zY2FsZVgsc2NhbGVZOnMuc2NhbGVZfSksdGhpcy5fbWluPWksdGhpcy5fbWF4PXJ9LGUucHJvdG90eXBlLl91cGRhdGVDb250cm9sbGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLHI9dGhpcy5fY29udHJvbGxlcixvPXRoaXMuX2NvbnRyb2xsZXJIb3N0LGE9dGhpcy5ncm91cDtyLnNldFBvaW50ZXJDaGVja2VyKChmdW5jdGlvbihlLGkscil7dmFyIG89YS5nZXRCb3VuZGluZ1JlY3QoKTtyZXR1cm4gby5hcHBseVRyYW5zZm9ybShhLnRyYW5zZm9ybSksby5jb250YWluKGkscikmJiF6SShlLG4sdCl9KSksci5lbmFibGUodC5nZXQoInJvYW0iKSksby56b29tTGltaXQ9dC5nZXQoInNjYWxlTGltaXQiKSxvLnpvb209dC5jb29yZGluYXRlU3lzdGVtLmdldFpvb20oKSxyLm9mZigicGFuIikub2ZmKCJ6b29tIikub24oInBhbiIsKGZ1bmN0aW9uKGUpe09JKG8sZS5keCxlLmR5KSxuLmRpc3BhdGNoQWN0aW9uKHtzZXJpZXNJZDp0LmlkLHR5cGU6InRyZWVSb2FtIixkeDplLmR4LGR5OmUuZHl9KX0pKS5vbigiem9vbSIsKGZ1bmN0aW9uKGUpe1JJKG8sZS5zY2FsZSxlLm9yaWdpblgsZS5vcmlnaW5ZKSxuLmRpc3BhdGNoQWN0aW9uKHtzZXJpZXNJZDp0LmlkLHR5cGU6InRyZWVSb2FtIix6b29tOmUuc2NhbGUsb3JpZ2luWDplLm9yaWdpblgsb3JpZ2luWTplLm9yaWdpbll9KSxpLl91cGRhdGVOb2RlQW5kTGlua1NjYWxlKHQpLG4udXBkYXRlTGFiZWxMYXlvdXQoKX0pKX0sZS5wcm90b3R5cGUuX3VwZGF0ZU5vZGVBbmRMaW5rU2NhbGU9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCksbj10aGlzLl9nZXROb2RlR2xvYmFsU2NhbGUodCk7ZS5lYWNoSXRlbUdyYXBoaWNFbCgoZnVuY3Rpb24odCxlKXt0LnNldFN5bWJvbFNjYWxlKG4pfSkpfSxlLnByb3RvdHlwZS5fZ2V0Tm9kZUdsb2JhbFNjYWxlPWZ1bmN0aW9uKHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbTtpZigidmlldyIhPT1lLnR5cGUpcmV0dXJuIDE7dmFyIG49dGhpcy5fbm9kZVNjYWxlUmF0aW8saT1lLnNjYWxlWHx8MTtyZXR1cm4oKGUuZ2V0Wm9vbSgpLTEpKm4rMSkvaX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2NvbnRyb2xsZXImJnRoaXMuX2NvbnRyb2xsZXIuZGlzcG9zZSgpLHRoaXMuX2NvbnRyb2xsZXJIb3N0PW51bGx9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMuX21haW5Hcm91cC5yZW1vdmVBbGwoKSx0aGlzLl9kYXRhPW51bGx9LGUudHlwZT0idHJlZSIsZX0oeGcpO2Z1bmN0aW9uIHBDKHQsZSl7dmFyIG49dC5nZXRJdGVtTGF5b3V0KGUpO3JldHVybiBuJiYhaXNOYU4obi54KSYmIWlzTmFOKG4ueSl9ZnVuY3Rpb24gZEModCxlLG4saSxyKXt2YXIgbz0hbixhPXQudHJlZS5nZXROb2RlQnlEYXRhSW5kZXgoZSkscz1hLmdldE1vZGVsKCksbD1hLmdldFZpc3VhbCgic3R5bGUiKS5maWxsLHU9ITE9PT1hLmlzRXhwYW5kJiYwIT09YS5jaGlsZHJlbi5sZW5ndGg/bDoiI2ZmZiIsaD10LnRyZWUucm9vdCxjPWEucGFyZW50Tm9kZT09PWg/YTphLnBhcmVudE5vZGV8fGEscD10LmdldEl0ZW1HcmFwaGljRWwoYy5kYXRhSW5kZXgpLGQ9Yy5nZXRMYXlvdXQoKSxmPXA/e3g6cC5fX29sZFgseTpwLl9fb2xkWSxyYXdYOnAuX19yYWRpYWxPbGRSYXdYLHJhd1k6cC5fX3JhZGlhbE9sZFJhd1l9OmQsZz1hLmdldExheW91dCgpO28/KChuPW5ldyBIdyh0LGUsbnVsbCx7c3ltYm9sSW5uZXJDb2xvcjp1LHVzZU5hbWVMYWJlbDohMH0pKS54PWYueCxuLnk9Zi55KTpuLnVwZGF0ZURhdGEodCxlLG51bGwse3N5bWJvbElubmVyQ29sb3I6dSx1c2VOYW1lTGFiZWw6ITB9KSxuLl9fcmFkaWFsT2xkUmF3WD1uLl9fcmFkaWFsUmF3WCxuLl9fcmFkaWFsT2xkUmF3WT1uLl9fcmFkaWFsUmF3WSxuLl9fcmFkaWFsUmF3WD1nLnJhd1gsbi5fX3JhZGlhbFJhd1k9Zy5yYXdZLGkuYWRkKG4pLHQuc2V0SXRlbUdyYXBoaWNFbChlLG4pLG4uX19vbGRYPW4ueCxuLl9fb2xkWT1uLnkscmgobix7eDpnLngseTpnLnl9LHIpO3ZhciB5PW4uZ2V0U3ltYm9sUGF0aCgpO2lmKCJyYWRpYWwiPT09ci5nZXQoImxheW91dCIpKXt2YXIgdj1oLmNoaWxkcmVuWzBdLG09di5nZXRMYXlvdXQoKSx4PXYuY2hpbGRyZW4ubGVuZ3RoLF89dm9pZCAwLGI9dm9pZCAwO2lmKGcueD09PW0ueCYmITA9PT1hLmlzRXhwYW5kKXt2YXIgdz17eDoodi5jaGlsZHJlblswXS5nZXRMYXlvdXQoKS54K3YuY2hpbGRyZW5beC0xXS5nZXRMYXlvdXQoKS54KS8yLHk6KHYuY2hpbGRyZW5bMF0uZ2V0TGF5b3V0KCkueSt2LmNoaWxkcmVuW3gtMV0uZ2V0TGF5b3V0KCkueSkvMn07KF89TWF0aC5hdGFuMih3LnktbS55LHcueC1tLngpKTwwJiYoXz0yKk1hdGguUEkrXyksKGI9dy54PG0ueCkmJihfLT1NYXRoLlBJKX1lbHNlKF89TWF0aC5hdGFuMihnLnktbS55LGcueC1tLngpKTwwJiYoXz0yKk1hdGguUEkrXyksMD09PWEuY2hpbGRyZW4ubGVuZ3RofHwwIT09YS5jaGlsZHJlbi5sZW5ndGgmJiExPT09YS5pc0V4cGFuZD8oYj1nLng8bS54KSYmKF8tPU1hdGguUEkpOihiPWcueD5tLngpfHwoXy09TWF0aC5QSSk7dmFyIFM9Yj8ibGVmdCI6InJpZ2h0IixNPXMuZ2V0TW9kZWwoImxhYmVsIiksST1NLmdldCgicm90YXRlIiksVD1JKihNYXRoLlBJLzE4MCksQz15LmdldFRleHRDb250ZW50KCk7QyYmKHkuc2V0VGV4dENvbmZpZyh7cG9zaXRpb246TS5nZXQoInBvc2l0aW9uIil8fFMscm90YXRpb246bnVsbD09ST8tXzpULG9yaWdpbjoiY2VudGVyIn0pLEMuc2V0U3R5bGUoInZlcnRpY2FsQWxpZ24iLCJtaWRkbGUiKSl9dmFyIEQ9cy5nZXQoWyJlbXBoYXNpcyIsImZvY3VzIl0pLEE9ImFuY2VzdG9yIj09PUQ/YS5nZXRBbmNlc3RvcnNJbmRpY2VzKCk6ImRlc2NlbmRhbnQiPT09RD9hLmdldERlc2NlbmRhbnRJbmRpY2VzKCk6bnVsbDtBJiYoSHMobikuZm9jdXM9QSksZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzKXt2YXIgbD1lLmdldE1vZGVsKCksdT10LmdldCgiZWRnZVNoYXBlIiksaD10LmdldCgibGF5b3V0IiksYz10LmdldE9yaWVudCgpLHA9dC5nZXQoWyJsaW5lU3R5bGUiLCJjdXJ2ZW5lc3MiXSksZD10LmdldCgiZWRnZUZvcmtQb3NpdGlvbiIpLGY9bC5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCksZz1pLl9fZWRnZTtpZigiY3VydmUiPT09dSllLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZSE9PW4mJihnfHwoZz1pLl9fZWRnZT1uZXcgR3Uoe3NoYXBlOnZDKGgsYyxwLHIscil9KSkscmgoZyx7c2hhcGU6dkMoaCxjLHAsbyxhKX0sdCkpO2Vsc2UgaWYoInBvbHlsaW5lIj09PXUpaWYoIm9ydGhvZ29uYWwiPT09aCl7aWYoZSE9PW4mJmUuY2hpbGRyZW4mJjAhPT1lLmNoaWxkcmVuLmxlbmd0aCYmITA9PT1lLmlzRXhwYW5kKXtmb3IodmFyIHk9ZS5jaGlsZHJlbix2PVtdLG09MDttPHkubGVuZ3RoO20rKyl7dmFyIHg9eVttXS5nZXRMYXlvdXQoKTt2LnB1c2goW3gueCx4LnldKX1nfHwoZz1pLl9fZWRnZT1uZXcgaEMoe3NoYXBlOntwYXJlbnRQb2ludDpbYS54LGEueV0sY2hpbGRQb2ludHM6W1thLngsYS55XV0sb3JpZW50OmMsZm9ya1Bvc2l0aW9uOmR9fSkpLHJoKGcse3NoYXBlOntwYXJlbnRQb2ludDpbYS54LGEueV0sY2hpbGRQb2ludHM6dn19LHQpfX1lbHNlIDA7ZyYmKGcudXNlU3R5bGUoayh7c3Ryb2tlTm9TY2FsZTohMCxmaWxsOm51bGx9LGYpKSxWbChnLGwsImxpbmVTdHlsZSIpLHZsKGcpLHMuYWRkKGcpKX0ocixhLGgsbixmLGQsZyxpKSxuLl9fZWRnZSYmKG4ub25Ib3ZlclN0YXRlQ2hhbmdlPWZ1bmN0aW9uKGUpe2lmKCJibHVyIiE9PWUpe3ZhciBpPWEucGFyZW50Tm9kZSYmdC5nZXRJdGVtR3JhcGhpY0VsKGEucGFyZW50Tm9kZS5kYXRhSW5kZXgpO2kmJjE9PT1pLmhvdmVyU3RhdGV8fGdsKG4uX19lZGdlLGUpfX0pfWZ1bmN0aW9uIGZDKHQsZSxuLGkscil7dmFyIG89Z0MoZS50cmVlLnJvb3QsdCksYT1vLnNvdXJjZSxzPW8uc291cmNlTGF5b3V0LGw9ZS5nZXRJdGVtR3JhcGhpY0VsKHQuZGF0YUluZGV4KTtpZihsKXt2YXIgdT1lLmdldEl0ZW1HcmFwaGljRWwoYS5kYXRhSW5kZXgpLl9fZWRnZSxoPWwuX19lZGdlfHwoITE9PT1hLmlzRXhwYW5kfHwxPT09YS5jaGlsZHJlbi5sZW5ndGg/dTp2b2lkIDApLGM9aS5nZXQoImVkZ2VTaGFwZSIpLHA9aS5nZXQoImxheW91dCIpLGQ9aS5nZXQoIm9yaWVudCIpLGY9aS5nZXQoWyJsaW5lU3R5bGUiLCJjdXJ2ZW5lc3MiXSk7aCYmKCJjdXJ2ZSI9PT1jP3NoKGgse3NoYXBlOnZDKHAsZCxmLHMscyksc3R5bGU6e29wYWNpdHk6MH19LGkse2NiOmZ1bmN0aW9uKCl7bi5yZW1vdmUoaCl9LHJlbW92ZU9wdDpyfSk6InBvbHlsaW5lIj09PWMmJiJvcnRob2dvbmFsIj09PWkuZ2V0KCJsYXlvdXQiKSYmc2goaCx7c2hhcGU6e3BhcmVudFBvaW50OltzLngscy55XSxjaGlsZFBvaW50czpbW3MueCxzLnldXX0sc3R5bGU6e29wYWNpdHk6MH19LGkse2NiOmZ1bmN0aW9uKCl7bi5yZW1vdmUoaCl9LHJlbW92ZU9wdDpyfSkpfX1mdW5jdGlvbiBnQyh0LGUpe2Zvcih2YXIgbixpPWUucGFyZW50Tm9kZT09PXQ/ZTplLnBhcmVudE5vZGV8fGU7bnVsbD09KG49aS5nZXRMYXlvdXQoKSk7KWk9aS5wYXJlbnROb2RlPT09dD9pOmkucGFyZW50Tm9kZXx8aTtyZXR1cm57c291cmNlOmksc291cmNlTGF5b3V0Om59fWZ1bmN0aW9uIHlDKHQsZSxuLGkscil7dmFyIG89dC50cmVlLmdldE5vZGVCeURhdGFJbmRleChlKSxhPWdDKHQudHJlZS5yb290LG8pLnNvdXJjZUxheW91dCxzPXtkdXJhdGlvbjpyLmdldCgiYW5pbWF0aW9uRHVyYXRpb25VcGRhdGUiKSxlYXNpbmc6ci5nZXQoImFuaW1hdGlvbkVhc2luZ1VwZGF0ZSIpfTtzaChuLHt4OmEueCsxLHk6YS55KzF9LHIse2NiOmZ1bmN0aW9uKCl7aS5yZW1vdmUobiksdC5zZXRJdGVtR3JhcGhpY0VsKGUsbnVsbCl9LHJlbW92ZU9wdDpzfSksbi5mYWRlT3V0KG51bGwsdC5ob3N0TW9kZWwse2ZhZGVMYWJlbDohMCxhbmltYXRpb246c30pLG8uY2hpbGRyZW4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZkMoZSx0LGkscixzKX0pKSxmQyhvLHQsaSxyLHMpfWZ1bmN0aW9uIHZDKHQsZSxuLGkscil7dmFyIG8sYSxzLGwsdSxoLGMscDtpZigicmFkaWFsIj09PXQpe3U9aS5yYXdYLGM9aS5yYXdZLGg9ci5yYXdYLHA9ci5yYXdZO3ZhciBkPWlDKHUsYyksZj1pQyh1LGMrKHAtYykqbiksZz1pQyhoLHArKGMtcCkqbikseT1pQyhoLHApO3JldHVybnt4MTpkLnh8fDAseTE6ZC55fHwwLHgyOnkueHx8MCx5Mjp5Lnl8fDAsY3B4MTpmLnh8fDAsY3B5MTpmLnl8fDAsY3B4MjpnLnh8fDAsY3B5MjpnLnl8fDB9fXJldHVybiB1PWkueCxjPWkueSxoPXIueCxwPXIueSwiTFIiIT09ZSYmIlJMIiE9PWV8fChvPXUrKGgtdSkqbixhPWMscz1oKyh1LWgpKm4sbD1wKSwiVEIiIT09ZSYmIkJUIiE9PWV8fChvPXUsYT1jKyhwLWMpKm4scz1oLGw9cCsoYy1wKSpuKSx7eDE6dSx5MTpjLHgyOmgseTI6cCxjcHgxOm8sY3B5MTphLGNweDI6cyxjcHkyOmx9fXZhciBtQz1TbygpO2Z1bmN0aW9uIHhDKHQpe3ZhciBlPXQubWFpbkRhdGEsbj10LmRhdGFzO258fChuPXttYWluOmV9LHQuZGF0YXNBdHRyPXttYWluOiJkYXRhIn0pLHQuZGF0YXM9dC5tYWluRGF0YT1udWxsLElDKGUsbix0KSxFKG4sKGZ1bmN0aW9uKG4pe0UoZS5UUkFOU0ZFUkFCTEVfTUVUSE9EUywoZnVuY3Rpb24oZSl7bi53cmFwTWV0aG9kKGUsSChfQyx0KSl9KSl9KSksZS53cmFwTWV0aG9kKCJjbG9uZVNoYWxsb3ciLEgod0MsdCkpLEUoZS5DSEFOR0FCTEVfTUVUSE9EUywoZnVuY3Rpb24obil7ZS53cmFwTWV0aG9kKG4sSChiQyx0KSl9KSksbHQobltlLmRhdGFUeXBlXT09PWUpfWZ1bmN0aW9uIF9DKHQsZSl7aWYobUMoaT10aGlzKS5tYWluRGF0YT09PWkpe3ZhciBuPUEoe30sbUModGhpcykuZGF0YXMpO25bdGhpcy5kYXRhVHlwZV09ZSxJQyhlLG4sdCl9ZWxzZSBUQyhlLHRoaXMuZGF0YVR5cGUsbUModGhpcykubWFpbkRhdGEsdCk7dmFyIGk7cmV0dXJuIGV9ZnVuY3Rpb24gYkModCxlKXtyZXR1cm4gdC5zdHJ1Y3QmJnQuc3RydWN0LnVwZGF0ZSgpLGV9ZnVuY3Rpb24gd0ModCxlKXtyZXR1cm4gRShtQyhlKS5kYXRhcywoZnVuY3Rpb24obixpKXtuIT09ZSYmVEMobi5jbG9uZVNoYWxsb3coKSxpLGUsdCl9KSksZX1mdW5jdGlvbiBTQyh0KXt2YXIgZT1tQyh0aGlzKS5tYWluRGF0YTtyZXR1cm4gbnVsbD09dHx8bnVsbD09ZT9lOm1DKGUpLmRhdGFzW3RdfWZ1bmN0aW9uIE1DKCl7dmFyIHQ9bUModGhpcykubWFpbkRhdGE7cmV0dXJuIG51bGw9PXQ/W3tkYXRhOnR9XTp6KEcobUModCkuZGF0YXMpLChmdW5jdGlvbihlKXtyZXR1cm57dHlwZTplLGRhdGE6bUModCkuZGF0YXNbZV19fSkpfWZ1bmN0aW9uIElDKHQsZSxuKXttQyh0KS5kYXRhcz17fSxFKGUsKGZ1bmN0aW9uKGUsaSl7VEMoZSxpLHQsbil9KSl9ZnVuY3Rpb24gVEModCxlLG4saSl7bUMobikuZGF0YXNbZV09dCxtQyh0KS5tYWluRGF0YT1uLHQuZGF0YVR5cGU9ZSxpLnN0cnVjdCYmKHRbaS5zdHJ1Y3RBdHRyXT1pLnN0cnVjdCxpLnN0cnVjdFtpLmRhdGFzQXR0cltlXV09dCksdC5nZXRMaW5rZWREYXRhPVNDLHQuZ2V0TGlua2VkRGF0YUFsbD1NQ312YXIgQ0M9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5kZXB0aD0wLHRoaXMuaGVpZ2h0PTAsdGhpcy5kYXRhSW5kZXg9LTEsdGhpcy5jaGlsZHJlbj1bXSx0aGlzLnZpZXdDaGlsZHJlbj1bXSx0aGlzLmlzRXhwYW5kPSExLHRoaXMubmFtZT10fHwiIix0aGlzLmhvc3RUcmVlPWV9cmV0dXJuIHQucHJvdG90eXBlLmlzUmVtb3ZlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGFJbmRleDwwfSx0LnByb3RvdHlwZS5lYWNoTm9kZT1mdW5jdGlvbih0LGUsbil7VSh0KSYmKG49ZSxlPXQsdD1udWxsKSxYKHQ9dHx8e30pJiYodD17b3JkZXI6dH0pO3ZhciBpLHI9dC5vcmRlcnx8InByZW9yZGVyIixvPXRoaXNbdC5hdHRyfHwiY2hpbGRyZW4iXTsicHJlb3JkZXIiPT09ciYmKGk9ZS5jYWxsKG4sdGhpcykpO2Zvcih2YXIgYT0wOyFpJiZhPG8ubGVuZ3RoO2ErKylvW2FdLmVhY2hOb2RlKHQsZSxuKTsicG9zdG9yZGVyIj09PXImJmUuY2FsbChuLHRoaXMpfSx0LnByb3RvdHlwZS51cGRhdGVEZXB0aEFuZEhlaWdodD1mdW5jdGlvbih0KXt2YXIgZT0wO3RoaXMuZGVwdGg9dDtmb3IodmFyIG49MDtuPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO24rKyl7dmFyIGk9dGhpcy5jaGlsZHJlbltuXTtpLnVwZGF0ZURlcHRoQW5kSGVpZ2h0KHQrMSksaS5oZWlnaHQ+ZSYmKGU9aS5oZWlnaHQpfXRoaXMuaGVpZ2h0PWUrMX0sdC5wcm90b3R5cGUuZ2V0Tm9kZUJ5SWQ9ZnVuY3Rpb24odCl7aWYodGhpcy5nZXRJZCgpPT09dClyZXR1cm4gdGhpcztmb3IodmFyIGU9MCxuPXRoaXMuY2hpbGRyZW4saT1uLmxlbmd0aDtlPGk7ZSsrKXt2YXIgcj1uW2VdLmdldE5vZGVCeUlkKHQpO2lmKHIpcmV0dXJuIHJ9fSx0LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbih0KXtpZih0PT09dGhpcylyZXR1cm4hMDtmb3IodmFyIGU9MCxuPXRoaXMuY2hpbGRyZW4saT1uLmxlbmd0aDtlPGk7ZSsrKXt2YXIgcj1uW2VdLmNvbnRhaW5zKHQpO2lmKHIpcmV0dXJuIHJ9fSx0LnByb3RvdHlwZS5nZXRBbmNlc3RvcnM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49dD90aGlzOnRoaXMucGFyZW50Tm9kZTtuOyllLnB1c2gobiksbj1uLnBhcmVudE5vZGU7cmV0dXJuIGUucmV2ZXJzZSgpLGV9LHQucHJvdG90eXBlLmdldEFuY2VzdG9yc0luZGljZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT10aGlzO2U7KXQucHVzaChlLmRhdGFJbmRleCksZT1lLnBhcmVudE5vZGU7cmV0dXJuIHQucmV2ZXJzZSgpLHR9LHQucHJvdG90eXBlLmdldERlc2NlbmRhbnRJbmRpY2VzPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHRoaXMuZWFjaE5vZGUoKGZ1bmN0aW9uKGUpe3QucHVzaChlLmRhdGFJbmRleCl9KSksdH0sdC5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ob3N0VHJlZS5kYXRhO3JldHVybiBlLmdldFN0b3JlKCkuZ2V0KGUuZ2V0RGltZW5zaW9uSW5kZXgodHx8InZhbHVlIiksdGhpcy5kYXRhSW5kZXgpfSx0LnByb3RvdHlwZS5zZXRMYXlvdXQ9ZnVuY3Rpb24odCxlKXt0aGlzLmRhdGFJbmRleD49MCYmdGhpcy5ob3N0VHJlZS5kYXRhLnNldEl0ZW1MYXlvdXQodGhpcy5kYXRhSW5kZXgsdCxlKX0sdC5wcm90b3R5cGUuZ2V0TGF5b3V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaG9zdFRyZWUuZGF0YS5nZXRJdGVtTGF5b3V0KHRoaXMuZGF0YUluZGV4KX0sdC5wcm90b3R5cGUuZ2V0TW9kZWw9ZnVuY3Rpb24odCl7aWYoISh0aGlzLmRhdGFJbmRleDwwKSlyZXR1cm4gdGhpcy5ob3N0VHJlZS5kYXRhLmdldEl0ZW1Nb2RlbCh0aGlzLmRhdGFJbmRleCkuZ2V0TW9kZWwodCl9LHQucHJvdG90eXBlLmdldExldmVsTW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5ob3N0VHJlZS5sZXZlbE1vZGVsc3x8W10pW3RoaXMuZGVwdGhdfSx0LnByb3RvdHlwZS5zZXRWaXN1YWw9ZnVuY3Rpb24odCxlKXt0aGlzLmRhdGFJbmRleD49MCYmdGhpcy5ob3N0VHJlZS5kYXRhLnNldEl0ZW1WaXN1YWwodGhpcy5kYXRhSW5kZXgsdCxlKX0sdC5wcm90b3R5cGUuZ2V0VmlzdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhvc3RUcmVlLmRhdGEuZ2V0SXRlbVZpc3VhbCh0aGlzLmRhdGFJbmRleCx0KX0sdC5wcm90b3R5cGUuZ2V0UmF3SW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3N0VHJlZS5kYXRhLmdldFJhd0luZGV4KHRoaXMuZGF0YUluZGV4KX0sdC5wcm90b3R5cGUuZ2V0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3N0VHJlZS5kYXRhLmdldElkKHRoaXMuZGF0YUluZGV4KX0sdC5wcm90b3R5cGUuZ2V0Q2hpbGRJbmRleD1mdW5jdGlvbigpe2lmKHRoaXMucGFyZW50Tm9kZSl7Zm9yKHZhciB0PXRoaXMucGFyZW50Tm9kZS5jaGlsZHJlbixlPTA7ZTx0Lmxlbmd0aDsrK2UpaWYodFtlXT09PXRoaXMpcmV0dXJuIGU7cmV0dXJuLTF9cmV0dXJuLTF9LHQucHJvdG90eXBlLmlzQW5jZXN0b3JPZj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5wYXJlbnROb2RlO2U7KXtpZihlPT09dGhpcylyZXR1cm4hMDtlPWUucGFyZW50Tm9kZX1yZXR1cm4hMX0sdC5wcm90b3R5cGUuaXNEZXNjZW5kYW50T2Y9ZnVuY3Rpb24odCl7cmV0dXJuIHQhPT10aGlzJiZ0LmlzQW5jZXN0b3JPZih0aGlzKX0sdH0oKSxEQz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy50eXBlPSJ0cmVlIix0aGlzLl9ub2Rlcz1bXSx0aGlzLmhvc3RNb2RlbD10fXJldHVybiB0LnByb3RvdHlwZS5lYWNoTm9kZT1mdW5jdGlvbih0LGUsbil7dGhpcy5yb290LmVhY2hOb2RlKHQsZSxuKX0sdC5wcm90b3R5cGUuZ2V0Tm9kZUJ5RGF0YUluZGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZGF0YS5nZXRSYXdJbmRleCh0KTtyZXR1cm4gdGhpcy5fbm9kZXNbZV19LHQucHJvdG90eXBlLmdldE5vZGVCeUlkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJvb3QuZ2V0Tm9kZUJ5SWQodCl9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmRhdGEsZT10aGlzLl9ub2RlcyxuPTAsaT1lLmxlbmd0aDtuPGk7bisrKWVbbl0uZGF0YUluZGV4PS0xO2ZvcihuPTAsaT10LmNvdW50KCk7bjxpO24rKyllW3QuZ2V0UmF3SW5kZXgobildLmRhdGFJbmRleD1ufSx0LnByb3RvdHlwZS5jbGVhckxheW91dHM9ZnVuY3Rpb24oKXt0aGlzLmRhdGEuY2xlYXJJdGVtTGF5b3V0cygpfSx0LmNyZWF0ZVRyZWU9ZnVuY3Rpb24oZSxuLGkpe3ZhciByPW5ldyB0KG4pLG89W10sYT0xOyFmdW5jdGlvbiB0KGUsbil7dmFyIGk9ZS52YWx1ZTthPU1hdGgubWF4KGEsWShpKT9pLmxlbmd0aDoxKSxvLnB1c2goZSk7dmFyIHM9bmV3IENDKHhvKGUubmFtZSwiIikscik7bj9mdW5jdGlvbih0LGUpe3ZhciBuPWUuY2hpbGRyZW47aWYodC5wYXJlbnROb2RlPT09ZSlyZXR1cm47bi5wdXNoKHQpLHQucGFyZW50Tm9kZT1lfShzLG4pOnIucm9vdD1zLHIuX25vZGVzLnB1c2gocyk7dmFyIGw9ZS5jaGlsZHJlbjtpZihsKWZvcih2YXIgdT0wO3U8bC5sZW5ndGg7dSsrKXQobFt1XSxzKX0oZSksci5yb290LnVwZGF0ZURlcHRoQW5kSGVpZ2h0KDApO3ZhciBzPXFtKG8se2Nvb3JkRGltZW5zaW9uczpbInZhbHVlIl0sZGltZW5zaW9uc0NvdW50OmF9KS5kaW1lbnNpb25zLGw9bmV3IGptKHMsbik7cmV0dXJuIGwuaW5pdERhdGEobyksaSYmaShsKSx4Qyh7bWFpbkRhdGE6bCxzdHJ1Y3Q6cixzdHJ1Y3RBdHRyOiJ0cmVlIn0pLHIudXBkYXRlKCkscn0sdH0oKTtmdW5jdGlvbiBBQyh0LGUsbil7aWYodCYmUChlLHQudHlwZSk+PTApe3ZhciBpPW4uZ2V0RGF0YSgpLnRyZWUucm9vdCxyPXQudGFyZ2V0Tm9kZTtpZihYKHIpJiYocj1pLmdldE5vZGVCeUlkKHIpKSxyJiZpLmNvbnRhaW5zKHIpKXJldHVybntub2RlOnJ9O3ZhciBvPXQudGFyZ2V0Tm9kZUlkO2lmKG51bGwhPW8mJihyPWkuZ2V0Tm9kZUJ5SWQobykpKXJldHVybntub2RlOnJ9fX1mdW5jdGlvbiBrQyh0KXtmb3IodmFyIGU9W107dDspKHQ9dC5wYXJlbnROb2RlKSYmZS5wdXNoKHQpO3JldHVybiBlLnJldmVyc2UoKX1mdW5jdGlvbiBMQyh0LGUpe3JldHVybiBQKGtDKHQpLGUpPj0wfWZ1bmN0aW9uIFBDKHQsZSl7Zm9yKHZhciBuPVtdO3Q7KXt2YXIgaT10LmRhdGFJbmRleDtuLnB1c2goe25hbWU6dC5uYW1lLGRhdGFJbmRleDppLHZhbHVlOmUuZ2V0UmF3VmFsdWUoaSl9KSx0PXQucGFyZW50Tm9kZX1yZXR1cm4gbi5yZXZlcnNlKCksbn12YXIgT0M9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS5oYXNTeW1ib2xWaXN1YWw9ITAsZS5pZ25vcmVTdHlsZU9uRGF0YT0hMCxlfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24odCl7dmFyIGU9e25hbWU6dC5uYW1lLGNoaWxkcmVuOnQuZGF0YX0sbj10LmxlYXZlc3x8e30saT1uZXcgZGMobix0aGlzLHRoaXMuZWNNb2RlbCkscj1EQy5jcmVhdGVUcmVlKGUsdGhpcywoZnVuY3Rpb24odCl7dC53cmFwTWV0aG9kKCJnZXRJdGVtTW9kZWwiLChmdW5jdGlvbih0LGUpe3ZhciBuPXIuZ2V0Tm9kZUJ5RGF0YUluZGV4KGUpO3JldHVybiBuJiZuLmNoaWxkcmVuLmxlbmd0aCYmbi5pc0V4cGFuZHx8KHQucGFyZW50TW9kZWw9aSksdH0pKX0pKTt2YXIgbz0wO3IuZWFjaE5vZGUoInByZW9yZGVyIiwoZnVuY3Rpb24odCl7dC5kZXB0aD5vJiYobz10LmRlcHRoKX0pKTt2YXIgYT10LmV4cGFuZEFuZENvbGxhcHNlJiZ0LmluaXRpYWxUcmVlRGVwdGg+PTA/dC5pbml0aWFsVHJlZURlcHRoOm87cmV0dXJuIHIucm9vdC5lYWNoTm9kZSgicHJlb3JkZXIiLChmdW5jdGlvbih0KXt2YXIgZT10Lmhvc3RUcmVlLmRhdGEuZ2V0UmF3RGF0YUl0ZW0odC5kYXRhSW5kZXgpO3QuaXNFeHBhbmQ9ZSYmbnVsbCE9ZS5jb2xsYXBzZWQ/IWUuY29sbGFwc2VkOnQuZGVwdGg8PWF9KSksci5kYXRhfSxlLnByb3RvdHlwZS5nZXRPcmllbnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldCgib3JpZW50Iik7cmV0dXJuImhvcml6b250YWwiPT09dD90PSJMUiI6InZlcnRpY2FsIj09PXQmJih0PSJUQiIpLHR9LGUucHJvdG90eXBlLnNldFpvb209ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uem9vbT10fSxlLnByb3RvdHlwZS5zZXRDZW50ZXI9ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uY2VudGVyPXR9LGUucHJvdG90eXBlLmZvcm1hdFRvb2x0aXA9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10aGlzLmdldERhdGEoKS50cmVlLHI9aS5yb290LmNoaWxkcmVuWzBdLG89aS5nZXROb2RlQnlEYXRhSW5kZXgodCksYT1vLmdldFZhbHVlKCkscz1vLm5hbWU7byYmbyE9PXI7KXM9by5wYXJlbnROb2RlLm5hbWUrIi4iK3Msbz1vLnBhcmVudE5vZGU7cmV0dXJuIFhmKCJuYW1lVmFsdWUiLHtuYW1lOnMsdmFsdWU6YSxub1ZhbHVlOmlzTmFOKGEpfHxudWxsPT1hfSl9LGUucHJvdG90eXBlLmdldERhdGFQYXJhbXM9ZnVuY3Rpb24oZSl7dmFyIG49dC5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcy5hcHBseSh0aGlzLGFyZ3VtZW50cyksaT10aGlzLmdldERhdGEoKS50cmVlLmdldE5vZGVCeURhdGFJbmRleChlKTtyZXR1cm4gbi50cmVlQW5jZXN0b3JzPVBDKGksdGhpcyksbi5jb2xsYXBzZWQ9IWkuaXNFeHBhbmQsbn0sZS50eXBlPSJzZXJpZXMudHJlZSIsZS5sYXlvdXRNb2RlPSJib3giLGUuZGVmYXVsdE9wdGlvbj17ejoyLGNvb3JkaW5hdGVTeXN0ZW06InZpZXciLGxlZnQ6IjEyJSIsdG9wOiIxMiUiLHJpZ2h0OiIxMiUiLGJvdHRvbToiMTIlIixsYXlvdXQ6Im9ydGhvZ29uYWwiLGVkZ2VTaGFwZToiY3VydmUiLGVkZ2VGb3JrUG9zaXRpb246IjUwJSIscm9hbTohMSxub2RlU2NhbGVSYXRpbzouNCxjZW50ZXI6bnVsbCx6b29tOjEsb3JpZW50OiJMUiIsc3ltYm9sOiJlbXB0eUNpcmNsZSIsc3ltYm9sU2l6ZTo3LGV4cGFuZEFuZENvbGxhcHNlOiEwLGluaXRpYWxUcmVlRGVwdGg6MixsaW5lU3R5bGU6e2NvbG9yOiIjY2NjIix3aWR0aDoxLjUsY3VydmVuZXNzOi41fSxpdGVtU3R5bGU6e2NvbG9yOiJsaWdodHN0ZWVsYmx1ZSIsYm9yZGVyV2lkdGg6MS41fSxsYWJlbDp7c2hvdzohMH0sYW5pbWF0aW9uRWFzaW5nOiJsaW5lYXIiLGFuaW1hdGlvbkR1cmF0aW9uOjcwMCxhbmltYXRpb25EdXJhdGlvblVwZGF0ZTo1MDB9LGV9KHNnKTtmdW5jdGlvbiBSQyh0LGUpe2Zvcih2YXIgbixpPVt0XTtuPWkucG9wKCk7KWlmKGUobiksbi5pc0V4cGFuZCl7dmFyIHI9bi5jaGlsZHJlbjtpZihyLmxlbmd0aClmb3IodmFyIG89ci5sZW5ndGgtMTtvPj0wO28tLSlpLnB1c2gocltvXSl9fWZ1bmN0aW9uIE5DKHQsZSl7dC5lYWNoU2VyaWVzQnlUeXBlKCJ0cmVlIiwoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7dmFyIG49ZnVuY3Rpb24odCxlKXtyZXR1cm4geHAodC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSl9KHQsZSk7dC5sYXlvdXRJbmZvPW47dmFyIGk9dC5nZXQoImxheW91dCIpLHI9MCxvPTAsYT1udWxsOyJyYWRpYWwiPT09aT8ocj0yKk1hdGguUEksbz1NYXRoLm1pbihuLmhlaWdodCxuLndpZHRoKS8yLGE9bkMoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuKHQucGFyZW50Tm9kZT09PWUucGFyZW50Tm9kZT8xOjIpL3QuZGVwdGh9KSkpOihyPW4ud2lkdGgsbz1uLmhlaWdodCxhPW5DKCkpO3ZhciBzPXQuZ2V0RGF0YSgpLnRyZWUucm9vdCxsPXMuY2hpbGRyZW5bMF07aWYobCl7IWZ1bmN0aW9uKHQpe3ZhciBlPXQ7ZS5oaWVyTm9kZT17ZGVmYXVsdEFuY2VzdG9yOm51bGwsYW5jZXN0b3I6ZSxwcmVsaW06MCxtb2RpZmllcjowLGNoYW5nZTowLHNoaWZ0OjAsaTowLHRocmVhZDpudWxsfTtmb3IodmFyIG4saSxyPVtlXTtuPXIucG9wKCk7KWlmKGk9bi5jaGlsZHJlbixuLmlzRXhwYW5kJiZpLmxlbmd0aClmb3IodmFyIG89aS5sZW5ndGgtMTtvPj0wO28tLSl7dmFyIGE9aVtvXTthLmhpZXJOb2RlPXtkZWZhdWx0QW5jZXN0b3I6bnVsbCxhbmNlc3RvcjphLHByZWxpbTowLG1vZGlmaWVyOjAsY2hhbmdlOjAsc2hpZnQ6MCxpOm8sdGhyZWFkOm51bGx9LHIucHVzaChhKX19KHMpLGZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGkscj1bdF0sbz1bXTtpPXIucG9wKCk7KWlmKG8ucHVzaChpKSxpLmlzRXhwYW5kKXt2YXIgYT1pLmNoaWxkcmVuO2lmKGEubGVuZ3RoKWZvcih2YXIgcz0wO3M8YS5sZW5ndGg7cysrKXIucHVzaChhW3NdKX1mb3IoO2k9by5wb3AoKTspZShpLG4pfShsLHRDLGEpLHMuaGllck5vZGUubW9kaWZpZXI9LWwuaGllck5vZGUucHJlbGltLFJDKGwsZUMpO3ZhciB1PWwsaD1sLGM9bDtSQyhsLChmdW5jdGlvbih0KXt2YXIgZT10LmdldExheW91dCgpLng7ZTx1LmdldExheW91dCgpLngmJih1PXQpLGU+aC5nZXRMYXlvdXQoKS54JiYoaD10KSx0LmRlcHRoPmMuZGVwdGgmJihjPXQpfSkpO3ZhciBwPXU9PT1oPzE6YSh1LGgpLzIsZD1wLXUuZ2V0TGF5b3V0KCkueCxmPTAsZz0wLHk9MCx2PTA7aWYoInJhZGlhbCI9PT1pKWY9ci8oaC5nZXRMYXlvdXQoKS54K3ArZCksZz1vLyhjLmRlcHRoLTF8fDEpLFJDKGwsKGZ1bmN0aW9uKHQpe3k9KHQuZ2V0TGF5b3V0KCkueCtkKSpmLHY9KHQuZGVwdGgtMSkqZzt2YXIgZT1pQyh5LHYpO3Quc2V0TGF5b3V0KHt4OmUueCx5OmUueSxyYXdYOnkscmF3WTp2fSwhMCl9KSk7ZWxzZXt2YXIgbT10LmdldE9yaWVudCgpOyJSTCI9PT1tfHwiTFIiPT09bT8oZz1vLyhoLmdldExheW91dCgpLngrcCtkKSxmPXIvKGMuZGVwdGgtMXx8MSksUkMobCwoZnVuY3Rpb24odCl7dj0odC5nZXRMYXlvdXQoKS54K2QpKmcseT0iTFIiPT09bT8odC5kZXB0aC0xKSpmOnItKHQuZGVwdGgtMSkqZix0LnNldExheW91dCh7eDp5LHk6dn0sITApfSkpKToiVEIiIT09bSYmIkJUIiE9PW18fChmPXIvKGguZ2V0TGF5b3V0KCkueCtwK2QpLGc9by8oYy5kZXB0aC0xfHwxKSxSQyhsLChmdW5jdGlvbih0KXt5PSh0LmdldExheW91dCgpLngrZCkqZix2PSJUQiI9PT1tPyh0LmRlcHRoLTEpKmc6by0odC5kZXB0aC0xKSpnLHQuc2V0TGF5b3V0KHt4OnkseTp2fSwhMCl9KSkpfX19KHQsZSl9KSl9ZnVuY3Rpb24gRUModCl7dC5lYWNoU2VyaWVzQnlUeXBlKCJ0cmVlIiwoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCk7ZS50cmVlLmVhY2hOb2RlKChmdW5jdGlvbih0KXt2YXIgbj10LmdldE1vZGVsKCkuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpO0EoZS5lbnN1cmVVbmlxdWVJdGVtVmlzdWFsKHQuZGF0YUluZGV4LCJzdHlsZSIpLG4pfSkpfSkpfXZhciB6Qz1bInRyZWVtYXBab29tVG9Ob2RlIiwidHJlZW1hcFJlbmRlciIsInRyZWVtYXBNb3ZlIl07ZnVuY3Rpb24gVkModCl7dmFyIGU9dC5nZXREYXRhKCkudHJlZSxuPXt9O2UuZWFjaE5vZGUoKGZ1bmN0aW9uKGUpe2Zvcih2YXIgaT1lO2kmJmkuZGVwdGg+MTspaT1pLnBhcmVudE5vZGU7dmFyIHI9ZWQodC5lY01vZGVsLGkubmFtZXx8aS5kYXRhSW5kZXgrIiIsbik7ZS5zZXRWaXN1YWwoImRlY2FsIixyKX0pKX12YXIgQkM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLnByZXZlbnRVc2luZ0hvdmVyTGF5ZXI9ITAsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7dmFyIG49e25hbWU6dC5uYW1lLGNoaWxkcmVuOnQuZGF0YX07RkMobik7dmFyIGk9dC5sZXZlbHN8fFtdLHI9dGhpcy5kZXNpZ25hdGVkVmlzdWFsSXRlbVN0eWxlPXt9LG89bmV3IGRjKHtpdGVtU3R5bGU6cn0sdGhpcyxlKSxhPXooKGk9dC5sZXZlbHM9ZnVuY3Rpb24odCxlKXt2YXIgbixpLHI9aG8oZS5nZXQoImNvbG9yIikpLG89aG8oZS5nZXQoWyJhcmlhIiwiZGVjYWwiLCJkZWNhbHMiXSkpO2lmKCFyKXJldHVybjtFKHQ9dHx8W10sKGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBkYyh0KSxyPWUuZ2V0KCJjb2xvciIpLG89ZS5nZXQoImRlY2FsIik7KGUuZ2V0KFsiaXRlbVN0eWxlIiwiY29sb3IiXSl8fHImJiJub25lIiE9PXIpJiYobj0hMCksKGUuZ2V0KFsiaXRlbVN0eWxlIiwiZGVjYWwiXSl8fG8mJiJub25lIiE9PW8pJiYoaT0hMCl9KSk7dmFyIGE9dFswXXx8KHRbMF09e30pO258fChhLmNvbG9yPXIuc2xpY2UoKSk7IWkmJm8mJihhLmRlY2FsPW8uc2xpY2UoKSk7cmV0dXJuIHR9KGksZSkpfHxbXSwoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBkYyh0LG8sZSl9KSx0aGlzKSxzPURDLmNyZWF0ZVRyZWUobix0aGlzLChmdW5jdGlvbih0KXt0LndyYXBNZXRob2QoImdldEl0ZW1Nb2RlbCIsKGZ1bmN0aW9uKHQsZSl7dmFyIG49cy5nZXROb2RlQnlEYXRhSW5kZXgoZSksaT1uP2Fbbi5kZXB0aF06bnVsbDtyZXR1cm4gdC5wYXJlbnRNb2RlbD1pfHxvLHR9KSl9KSk7cmV0dXJuIHMuZGF0YX0sZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbigpe3RoaXMucmVzZXRWaWV3Um9vdCgpfSxlLnByb3RvdHlwZS5mb3JtYXRUb29sdGlwPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmdldERhdGEoKSxyPXRoaXMuZ2V0UmF3VmFsdWUodCk7cmV0dXJuIFhmKCJuYW1lVmFsdWUiLHtuYW1lOmkuZ2V0TmFtZSh0KSx2YWx1ZTpyfSl9LGUucHJvdG90eXBlLmdldERhdGFQYXJhbXM9ZnVuY3Rpb24oZSl7dmFyIG49dC5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcy5hcHBseSh0aGlzLGFyZ3VtZW50cyksaT10aGlzLmdldERhdGEoKS50cmVlLmdldE5vZGVCeURhdGFJbmRleChlKTtyZXR1cm4gbi50cmVlQW5jZXN0b3JzPVBDKGksdGhpcyksbi50cmVlUGF0aEluZm89bi50cmVlQW5jZXN0b3JzLG59LGUucHJvdG90eXBlLnNldExheW91dEluZm89ZnVuY3Rpb24odCl7dGhpcy5sYXlvdXRJbmZvPXRoaXMubGF5b3V0SW5mb3x8e30sQSh0aGlzLmxheW91dEluZm8sdCl9LGUucHJvdG90eXBlLm1hcElkVG9JbmRleD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9pZEluZGV4TWFwO2V8fChlPXRoaXMuX2lkSW5kZXhNYXA9ZnQoKSx0aGlzLl9pZEluZGV4TWFwQ291bnQ9MCk7dmFyIG49ZS5nZXQodCk7cmV0dXJuIG51bGw9PW4mJmUuc2V0KHQsbj10aGlzLl9pZEluZGV4TWFwQ291bnQrKyksbn0sZS5wcm90b3R5cGUuZ2V0Vmlld1Jvb3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlld1Jvb3R9LGUucHJvdG90eXBlLnJlc2V0Vmlld1Jvb3Q9ZnVuY3Rpb24odCl7dD90aGlzLl92aWV3Um9vdD10OnQ9dGhpcy5fdmlld1Jvb3Q7dmFyIGU9dGhpcy5nZXRSYXdEYXRhKCkudHJlZS5yb290O3QmJih0PT09ZXx8ZS5jb250YWlucyh0KSl8fCh0aGlzLl92aWV3Um9vdD1lKX0sZS5wcm90b3R5cGUuZW5hYmxlQXJpYURlY2FsPWZ1bmN0aW9uKCl7VkModGhpcyl9LGUudHlwZT0ic2VyaWVzLnRyZWVtYXAiLGUubGF5b3V0TW9kZT0iYm94IixlLmRlZmF1bHRPcHRpb249e3Byb2dyZXNzaXZlOjAsbGVmdDoiY2VudGVyIix0b3A6Im1pZGRsZSIsd2lkdGg6IjgwJSIsaGVpZ2h0OiI4MCUiLHNvcnQ6ITAsY2xpcFdpbmRvdzoib3JpZ2luIixzcXVhcmVSYXRpbzouNSooMStNYXRoLnNxcnQoNSkpLGxlYWZEZXB0aDpudWxsLGRyaWxsRG93bkljb246IuKWtiIsem9vbVRvTm9kZVJhdGlvOi4xMDI0LHJvYW06ITAsbm9kZUNsaWNrOiJ6b29tVG9Ob2RlIixhbmltYXRpb246ITAsYW5pbWF0aW9uRHVyYXRpb25VcGRhdGU6OTAwLGFuaW1hdGlvbkVhc2luZzoicXVpbnRpY0luT3V0IixicmVhZGNydW1iOntzaG93OiEwLGhlaWdodDoyMixsZWZ0OiJjZW50ZXIiLHRvcDoiYm90dG9tIixlbXB0eUl0ZW1XaWR0aDoyNSxpdGVtU3R5bGU6e2NvbG9yOiJyZ2JhKDAsMCwwLDAuNykiLHRleHRTdHlsZTp7Y29sb3I6IiNmZmYifX19LGxhYmVsOntzaG93OiEwLGRpc3RhbmNlOjAscGFkZGluZzo1LHBvc2l0aW9uOiJpbnNpZGUiLGNvbG9yOiIjZmZmIixvdmVyZmxvdzoidHJ1bmNhdGUifSx1cHBlckxhYmVsOntzaG93OiExLHBvc2l0aW9uOlswLCI1MCUiXSxoZWlnaHQ6MjAsb3ZlcmZsb3c6InRydW5jYXRlIix2ZXJ0aWNhbEFsaWduOiJtaWRkbGUifSxpdGVtU3R5bGU6e2NvbG9yOm51bGwsY29sb3JBbHBoYTpudWxsLGNvbG9yU2F0dXJhdGlvbjpudWxsLGJvcmRlcldpZHRoOjAsZ2FwV2lkdGg6MCxib3JkZXJDb2xvcjoiI2ZmZiIsYm9yZGVyQ29sb3JTYXR1cmF0aW9uOm51bGx9LGVtcGhhc2lzOnt1cHBlckxhYmVsOntzaG93OiEwLHBvc2l0aW9uOlswLCI1MCUiXSxvdmVyZmxvdzoidHJ1bmNhdGUiLHZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9fSx2aXN1YWxEaW1lbnNpb246MCx2aXN1YWxNaW46bnVsbCx2aXN1YWxNYXg6bnVsbCxjb2xvcjpbXSxjb2xvckFscGhhOm51bGwsY29sb3JTYXR1cmF0aW9uOm51bGwsY29sb3JNYXBwaW5nQnk6ImluZGV4Iix2aXNpYmxlTWluOjEwLGNoaWxkcmVuVmlzaWJsZU1pbjpudWxsLGxldmVsczpbXX0sZX0oc2cpO2Z1bmN0aW9uIEZDKHQpe3ZhciBlPTA7RSh0LmNoaWxkcmVuLChmdW5jdGlvbih0KXtGQyh0KTt2YXIgbj10LnZhbHVlO1kobikmJihuPW5bMF0pLGUrPW59KSk7dmFyIG49dC52YWx1ZTtZKG4pJiYobj1uWzBdKSwobnVsbD09bnx8aXNOYU4obikpJiYobj1lKSxuPDAmJihuPTApLFkodC52YWx1ZSk/dC52YWx1ZVswXT1uOnQudmFsdWU9bn12YXIgR0M9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuZ3JvdXA9bmV3IENyLHQuYWRkKHRoaXMuZ3JvdXApfXJldHVybiB0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dC5nZXRNb2RlbCgiYnJlYWRjcnVtYiIpLG89dGhpcy5ncm91cDtpZihvLnJlbW92ZUFsbCgpLHIuZ2V0KCJzaG93IikmJm4pe3ZhciBhPXIuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLHM9YS5nZXRNb2RlbCgidGV4dFN0eWxlIiksbD17cG9zOntsZWZ0OnIuZ2V0KCJsZWZ0IikscmlnaHQ6ci5nZXQoInJpZ2h0IiksdG9wOnIuZ2V0KCJ0b3AiKSxib3R0b206ci5nZXQoImJvdHRvbSIpfSxib3g6e3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0sZW1wdHlJdGVtV2lkdGg6ci5nZXQoImVtcHR5SXRlbVdpZHRoIiksdG90YWxXaWR0aDowLHJlbmRlckxpc3Q6W119O3RoaXMuX3ByZXBhcmUobixsLHMpLHRoaXMuX3JlbmRlckNvbnRlbnQodCxsLGEscyxpKSxfcChvLGwucG9zLGwuYm94KX19LHQucHJvdG90eXBlLl9wcmVwYXJlPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dDtpO2k9aS5wYXJlbnROb2RlKXt2YXIgcj14byhpLmdldE1vZGVsKCkuZ2V0KCJuYW1lIiksIiIpLG89bi5nZXRUZXh0UmVjdChyKSxhPU1hdGgubWF4KG8ud2lkdGgrMTYsZS5lbXB0eUl0ZW1XaWR0aCk7ZS50b3RhbFdpZHRoKz1hKzgsZS5yZW5kZXJMaXN0LnB1c2goe25vZGU6aSx0ZXh0OnIsd2lkdGg6YX0pfX0sdC5wcm90b3R5cGUuX3JlbmRlckNvbnRlbnQ9ZnVuY3Rpb24odCxlLG4saSxyKXtmb3IodmFyIG8sYSxzLGwsdSxoLGMscCxkLGY9MCxnPWUuZW1wdHlJdGVtV2lkdGgseT10LmdldChbImJyZWFkY3J1bWIiLCJoZWlnaHQiXSksdj0obz1lLnBvcyxhPWUuYm94LGw9YS53aWR0aCx1PWEuaGVpZ2h0LGg9RXIoby5sZWZ0LGwpLGM9RXIoby50b3AsdSkscD1FcihvLnJpZ2h0LGwpLGQ9RXIoby5ib3R0b20sdSksKGlzTmFOKGgpfHxpc05hTihwYXJzZUZsb2F0KG8ubGVmdCkpKSYmKGg9MCksKGlzTmFOKHApfHxpc05hTihwYXJzZUZsb2F0KG8ucmlnaHQpKSkmJihwPWwpLChpc05hTihjKXx8aXNOYU4ocGFyc2VGbG9hdChvLnRvcCkpKSYmKGM9MCksKGlzTmFOKGQpfHxpc05hTihwYXJzZUZsb2F0KG8uYm90dG9tKSkpJiYoZD11KSxzPWlwKHN8fDApLHt3aWR0aDpNYXRoLm1heChwLWgtc1sxXS1zWzNdLDApLGhlaWdodDpNYXRoLm1heChkLWMtc1swXS1zWzJdLDApfSksbT1lLnRvdGFsV2lkdGgseD1lLnJlbmRlckxpc3QsXz14Lmxlbmd0aC0xO18+PTA7Xy0tKXt2YXIgYj14W19dLHc9Yi5ub2RlLFM9Yi53aWR0aCxNPWIudGV4dDttPnYud2lkdGgmJihtLT1TLWcsUz1nLE09bnVsbCk7dmFyIEk9bmV3IFB1KHtzaGFwZTp7cG9pbnRzOldDKGYsMCxTLHksXz09PXgubGVuZ3RoLTEsMD09PV8pfSxzdHlsZTprKG4uZ2V0SXRlbVN0eWxlKCkse2xpbmVKb2luOiJiZXZlbCJ9KSx0ZXh0Q29udGVudDpuZXcga3Moe3N0eWxlOnt0ZXh0Ok0sZmlsbDppLmdldFRleHRDb2xvcigpLGZvbnQ6aS5nZXRGb250KCl9fSksdGV4dENvbmZpZzp7cG9zaXRpb246Imluc2lkZSJ9LHoyOjFlNSxvbmNsaWNrOkgocix3KX0pO0kuZGlzYWJsZUxhYmVsQW5pbWF0aW9uPSEwLHRoaXMuZ3JvdXAuYWRkKEkpLEhDKEksdCx3KSxmKz1TKzh9fSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSx0fSgpO2Z1bmN0aW9uIFdDKHQsZSxuLGkscixvKXt2YXIgYT1bW3I/dDp0LTUsZV0sW3QrbixlXSxbdCtuLGUraV0sW3I/dDp0LTUsZStpXV07cmV0dXJuIW8mJmEuc3BsaWNlKDIsMCxbdCtuKzUsZStpLzJdKSwhciYmYS5wdXNoKFt0LGUraS8yXSksYX1mdW5jdGlvbiBIQyh0LGUsbil7SHModCkuZXZlbnREYXRhPXtjb21wb25lbnRUeXBlOiJzZXJpZXMiLGNvbXBvbmVudFN1YlR5cGU6InRyZWVtYXAiLGNvbXBvbmVudEluZGV4OmUuY29tcG9uZW50SW5kZXgsc2VyaWVzSW5kZXg6ZS5zZXJpZXNJbmRleCxzZXJpZXNOYW1lOmUubmFtZSxzZXJpZXNUeXBlOiJ0cmVlbWFwIixzZWxmVHlwZToiYnJlYWRjcnVtYiIsbm9kZURhdGE6e2RhdGFJbmRleDpuJiZuLmRhdGFJbmRleCxuYW1lOm4mJm4ubmFtZX0sdHJlZVBhdGhJbmZvOm4mJlBDKG4sZSl9fXZhciBZQz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9zdG9yYWdlPVtdLHRoaXMuX2VsRXhpc3RzTWFwPXt9fXJldHVybiB0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlLG4saSxyKXtyZXR1cm4hdGhpcy5fZWxFeGlzdHNNYXBbdC5pZF0mJih0aGlzLl9lbEV4aXN0c01hcFt0LmlkXT0hMCx0aGlzLl9zdG9yYWdlLnB1c2goe2VsOnQsdGFyZ2V0OmUsZHVyYXRpb246bixkZWxheTppLGVhc2luZzpyfSksITApfSx0LnByb3RvdHlwZS5maW5pc2hlZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZmluaXNoZWRDYWxsYmFjaz10LHRoaXN9LHQucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMsZT10aGlzLl9zdG9yYWdlLmxlbmd0aCxuPWZ1bmN0aW9uKCl7LS1lPD0wJiYodC5fc3RvcmFnZS5sZW5ndGg9MCx0Ll9lbEV4aXN0c01hcD17fSx0Ll9maW5pc2hlZENhbGxiYWNrJiZ0Ll9maW5pc2hlZENhbGxiYWNrKCkpfSxpPTAscj10aGlzLl9zdG9yYWdlLmxlbmd0aDtpPHI7aSsrKXt2YXIgbz10aGlzLl9zdG9yYWdlW2ldO28uZWwuYW5pbWF0ZVRvKG8udGFyZ2V0LHtkdXJhdGlvbjpvLmR1cmF0aW9uLGRlbGF5Om8uZGVsYXksZWFzaW5nOm8uZWFzaW5nLHNldFRvRmluYWw6ITAsZG9uZTpuLGFib3J0ZWQ6bn0pfXJldHVybiB0aGlzfSx0fSgpO3ZhciBVQz1DcixYQz1DcyxaQz0ibGFiZWwiLGpDPSJ1cHBlckxhYmVsIixxQz1XbyhbWyJmaWxsIiwiY29sb3IiXSxbInN0cm9rZSIsInN0cm9rZUNvbG9yIl0sWyJsaW5lV2lkdGgiLCJzdHJva2VXaWR0aCJdLFsic2hhZG93Qmx1ciJdLFsic2hhZG93T2Zmc2V0WCJdLFsic2hhZG93T2Zmc2V0WSJdLFsic2hhZG93Q29sb3IiXV0pLEtDPWZ1bmN0aW9uKHQpe3ZhciBlPXFDKHQpO3JldHVybiBlLnN0cm9rZT1lLmZpbGw9ZS5saW5lV2lkdGg9bnVsbCxlfSwkQz1TbygpLEpDPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5fc3RhdGU9InJlYWR5IixuLl9zdG9yYWdlPXtub2RlR3JvdXA6W10sYmFja2dyb3VuZDpbXSxjb250ZW50OltdfSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe2lmKCEoUChlLmZpbmRDb21wb25lbnRzKHttYWluVHlwZToic2VyaWVzIixzdWJUeXBlOiJ0cmVlbWFwIixxdWVyeTppfSksdCk8MCkpe3RoaXMuc2VyaWVzTW9kZWw9dCx0aGlzLmFwaT1uLHRoaXMuZWNNb2RlbD1lO3ZhciByPUFDKGksWyJ0cmVlbWFwWm9vbVRvTm9kZSIsInRyZWVtYXBSb290VG9Ob2RlIl0sdCksbz1pJiZpLnR5cGUsYT10LmxheW91dEluZm8scz0hdGhpcy5fb2xkVHJlZSxsPXRoaXMuX3N0b3JhZ2UsdT0idHJlZW1hcFJvb3RUb05vZGUiPT09byYmciYmbD97cm9vdE5vZGVHcm91cDpsLm5vZGVHcm91cFtyLm5vZGUuZ2V0UmF3SW5kZXgoKV0sZGlyZWN0aW9uOmkuZGlyZWN0aW9ufTpudWxsLGg9dGhpcy5fZ2l2ZUNvbnRhaW5lckdyb3VwKGEpLGM9dC5nZXQoImFuaW1hdGlvbiIpLHA9dGhpcy5fZG9SZW5kZXIoaCx0LHUpOyFjfHxzfHxvJiYidHJlZW1hcFpvb21Ub05vZGUiIT09byYmInRyZWVtYXBSb290VG9Ob2RlIiE9PW8/cC5yZW5kZXJGaW5hbGx5KCk6dGhpcy5fZG9BbmltYXRpb24oaCxwLHQsdSksdGhpcy5fcmVzZXRDb250cm9sbGVyKG4pLHRoaXMuX3JlbmRlckJyZWFkY3J1bWIodCxuLHIpfX0sZS5wcm90b3R5cGUuX2dpdmVDb250YWluZXJHcm91cD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jb250YWluZXJHcm91cDtyZXR1cm4gZXx8KGU9dGhpcy5fY29udGFpbmVyR3JvdXA9bmV3IFVDLHRoaXMuX2luaXRFdmVudHMoZSksdGhpcy5ncm91cC5hZGQoZSkpLGUueD10LngsZS55PXQueSxlfSxlLnByb3RvdHlwZS5fZG9SZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPWUuZ2V0RGF0YSgpLnRyZWUscj10aGlzLl9vbGRUcmVlLG89e25vZGVHcm91cDpbXSxiYWNrZ3JvdW5kOltdLGNvbnRlbnQ6W119LGE9e25vZGVHcm91cDpbXSxiYWNrZ3JvdW5kOltdLGNvbnRlbnQ6W119LHM9dGhpcy5fc3RvcmFnZSxsPVtdO2Z1bmN0aW9uIHUodCxpLHIsdSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyxsLHUpe2lmKCFhKXJldHVybjt2YXIgaD1hLmdldExheW91dCgpLGM9dC5nZXREYXRhKCkscD1hLmdldE1vZGVsKCk7aWYoYy5zZXRJdGVtR3JhcGhpY0VsKGEuZGF0YUluZGV4LG51bGwpLCFofHwhaC5pc0luVmlldylyZXR1cm47dmFyIGQ9aC53aWR0aCxmPWguaGVpZ2h0LGc9aC5ib3JkZXJXaWR0aCx5PWguaW52aXNpYmxlLHY9YS5nZXRSYXdJbmRleCgpLG09cyYmcy5nZXRSYXdJbmRleCgpLHg9YS52aWV3Q2hpbGRyZW4sXz1oLnVwcGVySGVpZ2h0LGI9eCYmeC5sZW5ndGgsdz1wLmdldE1vZGVsKCJpdGVtU3R5bGUiKSxTPXAuZ2V0TW9kZWwoWyJlbXBoYXNpcyIsIml0ZW1TdHlsZSJdKSxNPXAuZ2V0TW9kZWwoWyJibHVyIiwiaXRlbVN0eWxlIl0pLEk9cC5nZXRNb2RlbChbInNlbGVjdCIsIml0ZW1TdHlsZSJdKSxUPXcuZ2V0KCJib3JkZXJSYWRpdXMiKXx8MCxDPUcoIm5vZGVHcm91cCIsVUMpO2lmKCFDKXJldHVybjtpZihsLmFkZChDKSxDLng9aC54fHwwLEMueT1oLnl8fDAsQy5tYXJrUmVkcmF3KCksJEMoQykubm9kZVdpZHRoPWQsJEMoQykubm9kZUhlaWdodD1mLGguaXNBYm92ZVZpZXdSb290KXJldHVybiBDO3ZhciBEPUcoImJhY2tncm91bmQiLFhDLHUsMjApO0QmJkUoQyxELGImJmgudXBwZXJMYWJlbEhlaWdodCk7dmFyIGs9cC5nZXRNb2RlbCgiZW1waGFzaXMiKSxMPWsuZ2V0KCJmb2N1cyIpLFA9ay5nZXQoImJsdXJTY29wZSIpLE89ay5nZXQoImRpc2FibGVkIiksUj0iYW5jZXN0b3IiPT09TD9hLmdldEFuY2VzdG9yc0luZGljZXMoKToiZGVzY2VuZGFudCI9PT1MP2EuZ2V0RGVzY2VuZGFudEluZGljZXMoKTpMO2lmKGIpRmwoQykmJkJsKEMsITEpLEQmJihCbChELCFPKSxjLnNldEl0ZW1HcmFwaGljRWwoYS5kYXRhSW5kZXgsRCksTmwoRCxSLFApKTtlbHNle3ZhciBOPUcoImNvbnRlbnQiLFhDLHUsMzApO04mJnooQyxOKSxELmRpc2FibGVNb3JwaGluZz0hMCxEJiZGbChEKSYmQmwoRCwhMSksQmwoQywhTyksYy5zZXRJdGVtR3JhcGhpY0VsKGEuZGF0YUluZGV4LEMpLE5sKEMsUixQKX1yZXR1cm4gQztmdW5jdGlvbiBFKGUsbixpKXt2YXIgcj1IcyhuKTtpZihyLmRhdGFJbmRleD1hLmRhdGFJbmRleCxyLnNlcmllc0luZGV4PXQuc2VyaWVzSW5kZXgsbi5zZXRTaGFwZSh7eDowLHk6MCx3aWR0aDpkLGhlaWdodDpmLHI6VH0pLHkpVihuKTtlbHNle24uaW52aXNpYmxlPSExO3ZhciBvPWEuZ2V0VmlzdWFsKCJzdHlsZSIpLHM9by5zdHJva2UsbD1LQyh3KTtsLmZpbGw9czt2YXIgdT1xQyhTKTt1LmZpbGw9Uy5nZXQoImJvcmRlckNvbG9yIik7dmFyIGg9cUMoTSk7aC5maWxsPU0uZ2V0KCJib3JkZXJDb2xvciIpO3ZhciBjPXFDKEkpO2lmKGMuZmlsbD1JLmdldCgiYm9yZGVyQ29sb3IiKSxpKXt2YXIgcD1kLTIqZztCKG4scyxvLm9wYWNpdHkse3g6Zyx5OjAsd2lkdGg6cCxoZWlnaHQ6X30pfWVsc2Ugbi5yZW1vdmVUZXh0Q29udGVudCgpO24uc2V0U3R5bGUobCksbi5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKS5zdHlsZT11LG4uZW5zdXJlU3RhdGUoImJsdXIiKS5zdHlsZT1oLG4uZW5zdXJlU3RhdGUoInNlbGVjdCIpLnN0eWxlPWMsdmwobil9ZS5hZGQobil9ZnVuY3Rpb24geihlLG4pe3ZhciBpPUhzKG4pO2kuZGF0YUluZGV4PWEuZGF0YUluZGV4LGkuc2VyaWVzSW5kZXg9dC5zZXJpZXNJbmRleDt2YXIgcj1NYXRoLm1heChkLTIqZywwKSxvPU1hdGgubWF4KGYtMipnLDApO2lmKG4uY3VsbGluZz0hMCxuLnNldFNoYXBlKHt4OmcseTpnLHdpZHRoOnIsaGVpZ2h0Om8scjpUfSkseSlWKG4pO2Vsc2V7bi5pbnZpc2libGU9ITE7dmFyIHM9YS5nZXRWaXN1YWwoInN0eWxlIiksbD1zLmZpbGwsdT1LQyh3KTt1LmZpbGw9bCx1LmRlY2FsPXMuZGVjYWw7dmFyIGg9cUMoUyksYz1xQyhNKSxwPXFDKEkpO0IobixsLHMub3BhY2l0eSxudWxsKSxuLnNldFN0eWxlKHUpLG4uZW5zdXJlU3RhdGUoImVtcGhhc2lzIikuc3R5bGU9aCxuLmVuc3VyZVN0YXRlKCJibHVyIikuc3R5bGU9YyxuLmVuc3VyZVN0YXRlKCJzZWxlY3QiKS5zdHlsZT1wLHZsKG4pfWUuYWRkKG4pfWZ1bmN0aW9uIFYodCl7IXQuaW52aXNpYmxlJiZvLnB1c2godCl9ZnVuY3Rpb24gQihlLG4saSxyKXt2YXIgbz1wLmdldE1vZGVsKHI/akM6WkMpLHM9eG8ocC5nZXQoIm5hbWUiKSxudWxsKSxsPW8uZ2V0U2hhbGxvdygic2hvdyIpO0hoKGUsWWgocCxyP2pDOlpDKSx7ZGVmYXVsdFRleHQ6bD9zOm51bGwsaW5oZXJpdENvbG9yOm4sZGVmYXVsdE9wYWNpdHk6aSxsYWJlbEZldGNoZXI6dCxsYWJlbERhdGFJbmRleDphLmRhdGFJbmRleH0pO3ZhciB1PWUuZ2V0VGV4dENvbnRlbnQoKTtpZih1KXt2YXIgYz11LnN0eWxlLGQ9c3QoYy5wYWRkaW5nfHwwKTtyJiYoZS5zZXRUZXh0Q29uZmlnKHtsYXlvdXRSZWN0OnJ9KSx1LmRpc2FibGVMYWJlbExheW91dD0hMCksdS5iZWZvcmVVcGRhdGU9ZnVuY3Rpb24oKXt2YXIgdD1NYXRoLm1heCgocj9yLndpZHRoOmUuc2hhcGUud2lkdGgpLWRbMV0tZFszXSwwKSxuPU1hdGgubWF4KChyP3IuaGVpZ2h0OmUuc2hhcGUuaGVpZ2h0KS1kWzBdLWRbMl0sMCk7Yy53aWR0aD09PXQmJmMuaGVpZ2h0PT09bnx8dS5zZXRTdHlsZSh7d2lkdGg6dCxoZWlnaHQ6bn0pfSxjLnRydW5jYXRlTWluQ2hhcj0yLGMubGluZU92ZXJmbG93PSJ0cnVuY2F0ZSIsRihjLHIsaCk7dmFyIGY9dS5nZXRTdGF0ZSgiZW1waGFzaXMiKTtGKGY/Zi5zdHlsZTpudWxsLHIsaCl9fWZ1bmN0aW9uIEYoZSxuLGkpe3ZhciByPWU/ZS50ZXh0Om51bGw7aWYoIW4mJmkuaXNMZWFmUm9vdCYmbnVsbCE9cil7dmFyIG89dC5nZXQoImRyaWxsRG93bkljb24iLCEwKTtlLnRleHQ9bz9vKyIgIityOnJ9fWZ1bmN0aW9uIEcodCxpLG8sYSl7dmFyIHM9bnVsbCE9bSYmblt0XVttXSxsPXJbdF07cmV0dXJuIHM/KG5bdF1bbV09bnVsbCxXKGwscykpOnl8fCgocz1uZXcgaSlpbnN0YW5jZW9mIGRhJiYocy56Mj1mdW5jdGlvbih0LGUpe3JldHVybiAxMDAqdCtlfShvLGEpKSxIKGwscykpLGVbdF1bdl09c31mdW5jdGlvbiBXKHQsZSl7dmFyIG49dFt2XT17fTtlIGluc3RhbmNlb2YgVUM/KG4ub2xkWD1lLngsbi5vbGRZPWUueSk6bi5vbGRTaGFwZT1BKHt9LGUuc2hhcGUpfWZ1bmN0aW9uIEgodCxlKXt2YXIgbj10W3ZdPXt9LG89YS5wYXJlbnROb2RlLHM9ZSBpbnN0YW5jZW9mIENyO2lmKG8mJighaXx8ImRyaWxsRG93biI9PT1pLmRpcmVjdGlvbikpe3ZhciBsPTAsdT0wLGg9ci5iYWNrZ3JvdW5kW28uZ2V0UmF3SW5kZXgoKV07IWkmJmgmJmgub2xkU2hhcGUmJihsPWgub2xkU2hhcGUud2lkdGgsdT1oLm9sZFNoYXBlLmhlaWdodCkscz8obi5vbGRYPTAsbi5vbGRZPXUpOm4ub2xkU2hhcGU9e3g6bCx5OnUsd2lkdGg6MCxoZWlnaHQ6MH19bi5mYWRlaW49IXN9fShlLGEscyxuLG8sbCx0LGkscix1KX0hZnVuY3Rpb24gdChlLG4saSxyLG8pe3I/KG49ZSxFKGUsKGZ1bmN0aW9uKHQsZSl7IXQuaXNSZW1vdmVkKCkmJnMoZSxlKX0pKSk6bmV3IE1tKG4sZSxhLGEpLmFkZChzKS51cGRhdGUocykucmVtb3ZlKEgocyxudWxsKSkuZXhlY3V0ZSgpO2Z1bmN0aW9uIGEodCl7cmV0dXJuIHQuZ2V0SWQoKX1mdW5jdGlvbiBzKGEscyl7dmFyIGw9bnVsbCE9YT9lW2FdOm51bGwsaD1udWxsIT1zP25bc106bnVsbCxjPXUobCxoLGksbyk7YyYmdChsJiZsLnZpZXdDaGlsZHJlbnx8W10saCYmaC52aWV3Q2hpbGRyZW58fFtdLGMscixvKzEpfX0oaS5yb290P1tpLnJvb3RdOltdLHImJnIucm9vdD9bci5yb290XTpbXSx0LGk9PT1yfHwhciwwKTt2YXIgaD1mdW5jdGlvbih0KXt2YXIgZT17bm9kZUdyb3VwOltdLGJhY2tncm91bmQ6W10sY29udGVudDpbXX07cmV0dXJuIHQmJkUodCwoZnVuY3Rpb24odCxuKXt2YXIgaT1lW25dO0UodCwoZnVuY3Rpb24odCl7dCYmKGkucHVzaCh0KSwkQyh0KS53aWxsRGVsZXRlPSEwKX0pKX0pKSxlfShzKTtyZXR1cm4gdGhpcy5fb2xkVHJlZT1pLHRoaXMuX3N0b3JhZ2U9YSx7bGFzdHNGb3JBbmltYXRpb246byx3aWxsRGVsZXRlRWxzOmgscmVuZGVyRmluYWxseTpmdW5jdGlvbigpe0UoaCwoZnVuY3Rpb24odCl7RSh0LChmdW5jdGlvbih0KXt0LnBhcmVudCYmdC5wYXJlbnQucmVtb3ZlKHQpfSkpfSkpLEUobCwoZnVuY3Rpb24odCl7dC5pbnZpc2libGU9ITAsdC5kaXJ0eSgpfSkpfX19LGUucHJvdG90eXBlLl9kb0FuaW1hdGlvbj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uLmdldCgiYW5pbWF0aW9uRHVyYXRpb25VcGRhdGUiKSxvPW4uZ2V0KCJhbmltYXRpb25FYXNpbmciKSxhPShVKHIpPzA6cil8fDAscz0oVShvKT9udWxsOm8pfHwiY3ViaWNPdXQiLGw9bmV3IFlDO0UoZS53aWxsRGVsZXRlRWxzLChmdW5jdGlvbih0LGUpe0UodCwoZnVuY3Rpb24odCxuKXtpZighdC5pbnZpc2libGUpe3ZhciByLG89dC5wYXJlbnQsdT0kQyhvKTtpZihpJiYiZHJpbGxEb3duIj09PWkuZGlyZWN0aW9uKXI9bz09PWkucm9vdE5vZGVHcm91cD97c2hhcGU6e3g6MCx5OjAsd2lkdGg6dS5ub2RlV2lkdGgsaGVpZ2h0OnUubm9kZUhlaWdodH0sc3R5bGU6e29wYWNpdHk6MH19OntzdHlsZTp7b3BhY2l0eTowfX07ZWxzZXt2YXIgaD0wLGM9MDt1LndpbGxEZWxldGV8fChoPXUubm9kZVdpZHRoLzIsYz11Lm5vZGVIZWlnaHQvMikscj0ibm9kZUdyb3VwIj09PWU/e3g6aCx5OmMsc3R5bGU6e29wYWNpdHk6MH19OntzaGFwZTp7eDpoLHk6Yyx3aWR0aDowLGhlaWdodDowfSxzdHlsZTp7b3BhY2l0eTowfX19ciYmbC5hZGQodCxyLGEsMCxzKX19KSl9KSksRSh0aGlzLl9zdG9yYWdlLChmdW5jdGlvbih0LG4pe0UodCwoZnVuY3Rpb24odCxpKXt2YXIgcj1lLmxhc3RzRm9yQW5pbWF0aW9uW25dW2ldLG89e307ciYmKHQgaW5zdGFuY2VvZiBDcj9udWxsIT1yLm9sZFgmJihvLng9dC54LG8ueT10LnksdC54PXIub2xkWCx0Lnk9ci5vbGRZKTooci5vbGRTaGFwZSYmKG8uc2hhcGU9QSh7fSx0LnNoYXBlKSx0LnNldFNoYXBlKHIub2xkU2hhcGUpKSxyLmZhZGVpbj8odC5zZXRTdHlsZSgib3BhY2l0eSIsMCksby5zdHlsZT17b3BhY2l0eToxfSk6MSE9PXQuc3R5bGUub3BhY2l0eSYmKG8uc3R5bGU9e29wYWNpdHk6MX0pKSxsLmFkZCh0LG8sYSwwLHMpKX0pKX0pLHRoaXMpLHRoaXMuX3N0YXRlPSJhbmltYXRpbmciLGwuZmluaXNoZWQoVygoZnVuY3Rpb24oKXt0aGlzLl9zdGF0ZT0icmVhZHkiLGUucmVuZGVyRmluYWxseSgpfSksdGhpcykpLnN0YXJ0KCl9LGUucHJvdG90eXBlLl9yZXNldENvbnRyb2xsZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY29udHJvbGxlcjtlfHwoKGU9dGhpcy5fY29udHJvbGxlcj1uZXcgQUkodC5nZXRacigpKSkuZW5hYmxlKHRoaXMuc2VyaWVzTW9kZWwuZ2V0KCJyb2FtIikpLGUub24oInBhbiIsVyh0aGlzLl9vblBhbix0aGlzKSksZS5vbigiem9vbSIsVyh0aGlzLl9vblpvb20sdGhpcykpKTt2YXIgbj1uZXcgc3IoMCwwLHQuZ2V0V2lkdGgoKSx0LmdldEhlaWdodCgpKTtlLnNldFBvaW50ZXJDaGVja2VyKChmdW5jdGlvbih0LGUsaSl7cmV0dXJuIG4uY29udGFpbihlLGkpfSkpfSxlLnByb3RvdHlwZS5fY2xlYXJDb250cm9sbGVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY29udHJvbGxlcjt0JiYodC5kaXNwb3NlKCksdD1udWxsKX0sZS5wcm90b3R5cGUuX29uUGFuPWZ1bmN0aW9uKHQpe2lmKCJhbmltYXRpbmciIT09dGhpcy5fc3RhdGUmJihNYXRoLmFicyh0LmR4KT4zfHxNYXRoLmFicyh0LmR5KT4zKSl7dmFyIGU9dGhpcy5zZXJpZXNNb2RlbC5nZXREYXRhKCkudHJlZS5yb290O2lmKCFlKXJldHVybjt2YXIgbj1lLmdldExheW91dCgpO2lmKCFuKXJldHVybjt0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToidHJlZW1hcE1vdmUiLGZyb206dGhpcy51aWQsc2VyaWVzSWQ6dGhpcy5zZXJpZXNNb2RlbC5pZCxyb290UmVjdDp7eDpuLngrdC5keCx5Om4ueSt0LmR5LHdpZHRoOm4ud2lkdGgsaGVpZ2h0Om4uaGVpZ2h0fX0pfX0sZS5wcm90b3R5cGUuX29uWm9vbT1mdW5jdGlvbih0KXt2YXIgZT10Lm9yaWdpblgsbj10Lm9yaWdpblk7aWYoImFuaW1hdGluZyIhPT10aGlzLl9zdGF0ZSl7dmFyIGk9dGhpcy5zZXJpZXNNb2RlbC5nZXREYXRhKCkudHJlZS5yb290O2lmKCFpKXJldHVybjt2YXIgcj1pLmdldExheW91dCgpO2lmKCFyKXJldHVybjt2YXIgbz1uZXcgc3Ioci54LHIueSxyLndpZHRoLHIuaGVpZ2h0KSxhPXRoaXMuc2VyaWVzTW9kZWwubGF5b3V0SW5mbyxzPVsxLDAsMCwxLDAsMF07RWkocyxzLFstKGUtPWEueCksLShuLT1hLnkpXSksVmkocyxzLFt0LnNjYWxlLHQuc2NhbGVdKSxFaShzLHMsW2Usbl0pLG8uYXBwbHlUcmFuc2Zvcm0ocyksdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InRyZWVtYXBSZW5kZXIiLGZyb206dGhpcy51aWQsc2VyaWVzSWQ6dGhpcy5zZXJpZXNNb2RlbC5pZCxyb290UmVjdDp7eDpvLngseTpvLnksd2lkdGg6by53aWR0aCxoZWlnaHQ6by5oZWlnaHR9fSl9fSxlLnByb3RvdHlwZS5faW5pdEV2ZW50cz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3Qub24oImNsaWNrIiwoZnVuY3Rpb24odCl7aWYoInJlYWR5Ij09PWUuX3N0YXRlKXt2YXIgbj1lLnNlcmllc01vZGVsLmdldCgibm9kZUNsaWNrIiwhMCk7aWYobil7dmFyIGk9ZS5maW5kVGFyZ2V0KHQub2Zmc2V0WCx0Lm9mZnNldFkpO2lmKGkpe3ZhciByPWkubm9kZTtpZihyLmdldExheW91dCgpLmlzTGVhZlJvb3QpZS5fcm9vdFRvTm9kZShpKTtlbHNlIGlmKCJ6b29tVG9Ob2RlIj09PW4pZS5fem9vbVRvTm9kZShpKTtlbHNlIGlmKCJsaW5rIj09PW4pe3ZhciBvPXIuaG9zdFRyZWUuZGF0YS5nZXRJdGVtTW9kZWwoci5kYXRhSW5kZXgpLGE9by5nZXQoImxpbmsiLCEwKSxzPW8uZ2V0KCJ0YXJnZXQiLCEwKXx8ImJsYW5rIjthJiZkcChhLHMpfX19fX0pLHRoaXMpfSxlLnByb3RvdHlwZS5fcmVuZGVyQnJlYWRjcnVtYj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcztufHwobj1udWxsIT10LmdldCgibGVhZkRlcHRoIiwhMCk/e25vZGU6dC5nZXRWaWV3Um9vdCgpfTp0aGlzLmZpbmRUYXJnZXQoZS5nZXRXaWR0aCgpLzIsZS5nZXRIZWlnaHQoKS8yKSl8fChuPXtub2RlOnQuZ2V0RGF0YSgpLnRyZWUucm9vdH0pLCh0aGlzLl9icmVhZGNydW1ifHwodGhpcy5fYnJlYWRjcnVtYj1uZXcgR0ModGhpcy5ncm91cCkpKS5yZW5kZXIodCxlLG4ubm9kZSwoZnVuY3Rpb24oZSl7ImFuaW1hdGluZyIhPT1pLl9zdGF0ZSYmKExDKHQuZ2V0Vmlld1Jvb3QoKSxlKT9pLl9yb290VG9Ob2RlKHtub2RlOmV9KTppLl96b29tVG9Ob2RlKHtub2RlOmV9KSl9KSl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFyQ29udHJvbGxlcigpLHRoaXMuX2NvbnRhaW5lckdyb3VwJiZ0aGlzLl9jb250YWluZXJHcm91cC5yZW1vdmVBbGwoKSx0aGlzLl9zdG9yYWdlPXtub2RlR3JvdXA6W10sYmFja2dyb3VuZDpbXSxjb250ZW50OltdfSx0aGlzLl9zdGF0ZT0icmVhZHkiLHRoaXMuX2JyZWFkY3J1bWImJnRoaXMuX2JyZWFkY3J1bWIucmVtb3ZlKCl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckNvbnRyb2xsZXIoKX0sZS5wcm90b3R5cGUuX3pvb21Ub05vZGU9ZnVuY3Rpb24odCl7dGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InRyZWVtYXBab29tVG9Ob2RlIixmcm9tOnRoaXMudWlkLHNlcmllc0lkOnRoaXMuc2VyaWVzTW9kZWwuaWQsdGFyZ2V0Tm9kZTp0Lm5vZGV9KX0sZS5wcm90b3R5cGUuX3Jvb3RUb05vZGU9ZnVuY3Rpb24odCl7dGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InRyZWVtYXBSb290VG9Ob2RlIixmcm9tOnRoaXMudWlkLHNlcmllc0lkOnRoaXMuc2VyaWVzTW9kZWwuaWQsdGFyZ2V0Tm9kZTp0Lm5vZGV9KX0sZS5wcm90b3R5cGUuZmluZFRhcmdldD1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiB0aGlzLnNlcmllc01vZGVsLmdldFZpZXdSb290KCkuZWFjaE5vZGUoe2F0dHI6InZpZXdDaGlsZHJlbiIsb3JkZXI6InByZW9yZGVyIn0sKGZ1bmN0aW9uKGkpe3ZhciByPXRoaXMuX3N0b3JhZ2UuYmFja2dyb3VuZFtpLmdldFJhd0luZGV4KCldO2lmKHIpe3ZhciBvPXIudHJhbnNmb3JtQ29vcmRUb0xvY2FsKHQsZSksYT1yLnNoYXBlO2lmKCEoYS54PD1vWzBdJiZvWzBdPD1hLngrYS53aWR0aCYmYS55PD1vWzFdJiZvWzFdPD1hLnkrYS5oZWlnaHQpKXJldHVybiExO249e25vZGU6aSxvZmZzZXRYOm9bMF0sb2Zmc2V0WTpvWzFdfX19KSx0aGlzKSxufSxlLnR5cGU9InRyZWVtYXAiLGV9KHhnKTt2YXIgUUM9RSx0RD1xLGVEPS0xLG5EPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1lLm1hcHBpbmdNZXRob2QsaT1lLnR5cGUscj10aGlzLm9wdGlvbj1UKGUpO3RoaXMudHlwZT1pLHRoaXMubWFwcGluZ01ldGhvZD1uLHRoaXMuX25vcm1hbGl6ZURhdGE9cERbbl07dmFyIG89dC52aXN1YWxIYW5kbGVyc1tpXTt0aGlzLmFwcGx5VmlzdWFsPW8uYXBwbHlWaXN1YWwsdGhpcy5nZXRDb2xvck1hcHBlcj1vLmdldENvbG9yTWFwcGVyLHRoaXMuX25vcm1hbGl6ZWRUb1Zpc3VhbD1vLl9ub3JtYWxpemVkVG9WaXN1YWxbbl0sInBpZWNld2lzZSI9PT1uPyhpRChyKSxmdW5jdGlvbih0KXt2YXIgZT10LnBpZWNlTGlzdDt0Lmhhc1NwZWNpYWxWaXN1YWw9ITEsRShlLChmdW5jdGlvbihlLG4pe2Uub3JpZ2luSW5kZXg9bixudWxsIT1lLnZpc3VhbCYmKHQuaGFzU3BlY2lhbFZpc3VhbD0hMCl9KSl9KHIpKToiY2F0ZWdvcnkiPT09bj9yLmNhdGVnb3JpZXM/ZnVuY3Rpb24odCl7dmFyIGU9dC5jYXRlZ29yaWVzLG49dC5jYXRlZ29yeU1hcD17fSxpPXQudmlzdWFsO2lmKFFDKGUsKGZ1bmN0aW9uKHQsZSl7blt0XT1lfSkpLCFZKGkpKXt2YXIgcj1bXTtxKGkpP1FDKGksKGZ1bmN0aW9uKHQsZSl7dmFyIGk9bltlXTtyW251bGwhPWk/aTplRF09dH0pKTpyWy0xXT1pLGk9Y0QodCxyKX1mb3IodmFyIG89ZS5sZW5ndGgtMTtvPj0wO28tLSludWxsPT1pW29dJiYoZGVsZXRlIG5bZVtvXV0sZS5wb3AoKSl9KHIpOmlEKHIsITApOihsdCgibGluZWFyIiE9PW58fHIuZGF0YUV4dGVudCksaUQocikpfXJldHVybiB0LnByb3RvdHlwZS5tYXBWYWx1ZVRvVmlzdWFsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX25vcm1hbGl6ZURhdGEodCk7cmV0dXJuIHRoaXMuX25vcm1hbGl6ZWRUb1Zpc3VhbChlLHQpfSx0LnByb3RvdHlwZS5nZXROb3JtYWxpemVyPWZ1bmN0aW9uKCl7cmV0dXJuIFcodGhpcy5fbm9ybWFsaXplRGF0YSx0aGlzKX0sdC5saXN0VmlzdWFsVHlwZXM9ZnVuY3Rpb24oKXtyZXR1cm4gRyh0LnZpc3VhbEhhbmRsZXJzKX0sdC5pc1ZhbGlkVHlwZT1mdW5jdGlvbihlKXtyZXR1cm4gdC52aXN1YWxIYW5kbGVycy5oYXNPd25Qcm9wZXJ0eShlKX0sdC5lYWNoVmlzdWFsPWZ1bmN0aW9uKHQsZSxuKXtxKHQpP0UodCxlLG4pOmUuY2FsbChuLHQpfSx0Lm1hcFZpc3VhbD1mdW5jdGlvbihlLG4saSl7dmFyIHIsbz1ZKGUpP1tdOnEoZSk/e306KHI9ITAsbnVsbCk7cmV0dXJuIHQuZWFjaFZpc3VhbChlLChmdW5jdGlvbih0LGUpe3ZhciBhPW4uY2FsbChpLHQsZSk7cj9vPWE6b1tlXT1hfSkpLG99LHQucmV0cmlldmVWaXN1YWxzPWZ1bmN0aW9uKGUpe3ZhciBuLGk9e307cmV0dXJuIGUmJlFDKHQudmlzdWFsSGFuZGxlcnMsKGZ1bmN0aW9uKHQscil7ZS5oYXNPd25Qcm9wZXJ0eShyKSYmKGlbcl09ZVtyXSxuPSEwKX0pKSxuP2k6bnVsbH0sdC5wcmVwYXJlVmlzdWFsVHlwZXM9ZnVuY3Rpb24odCl7aWYoWSh0KSl0PXQuc2xpY2UoKTtlbHNle2lmKCF0RCh0KSlyZXR1cm5bXTt2YXIgZT1bXTtRQyh0LChmdW5jdGlvbih0LG4pe2UucHVzaChuKX0pKSx0PWV9cmV0dXJuIHQuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4iY29sb3IiPT09ZSYmImNvbG9yIiE9PXQmJjA9PT10LmluZGV4T2YoImNvbG9yIik/MTotMX0pKSx0fSx0LmRlcGVuZHNPbj1mdW5jdGlvbih0LGUpe3JldHVybiJjb2xvciI9PT1lPyEoIXR8fDAhPT10LmluZGV4T2YoZSkpOnQ9PT1lfSx0LmZpbmRQaWVjZUluZGV4PWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGkscj0xLzAsbz0wLGE9ZS5sZW5ndGg7bzxhO28rKyl7dmFyIHM9ZVtvXS52YWx1ZTtpZihudWxsIT1zKXtpZihzPT09dHx8WChzKSYmcz09PXQrIiIpcmV0dXJuIG87biYmYyhzLG8pfX1mb3Iobz0wLGE9ZS5sZW5ndGg7bzxhO28rKyl7dmFyIGw9ZVtvXSx1PWwuaW50ZXJ2YWwsaD1sLmNsb3NlO2lmKHUpe2lmKHVbMF09PT0tMS8wKXtpZihkRChoWzFdLHQsdVsxXSkpcmV0dXJuIG99ZWxzZSBpZih1WzFdPT09MS8wKXtpZihkRChoWzBdLHVbMF0sdCkpcmV0dXJuIG99ZWxzZSBpZihkRChoWzBdLHVbMF0sdCkmJmREKGhbMV0sdCx1WzFdKSlyZXR1cm4gbztuJiZjKHVbMF0sbyksbiYmYyh1WzFdLG8pfX1pZihuKXJldHVybiB0PT09MS8wP2UubGVuZ3RoLTE6dD09PS0xLzA/MDppO2Z1bmN0aW9uIGMoZSxuKXt2YXIgbz1NYXRoLmFicyhlLXQpO288ciYmKHI9byxpPW4pfX0sdC52aXN1YWxIYW5kbGVycz17Y29sb3I6e2FwcGx5VmlzdWFsOmFEKCJjb2xvciIpLGdldENvbG9yTWFwcGVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb247cmV0dXJuIFcoImNhdGVnb3J5Ij09PXQubWFwcGluZ01ldGhvZD9mdW5jdGlvbih0LGUpe3JldHVybiFlJiYodD10aGlzLl9ub3JtYWxpemVEYXRhKHQpKSxzRC5jYWxsKHRoaXMsdCl9OmZ1bmN0aW9uKGUsbixpKXt2YXIgcj0hIWk7cmV0dXJuIW4mJihlPXRoaXMuX25vcm1hbGl6ZURhdGEoZSkpLGk9TW4oZSx0LnBhcnNlZFZpc3VhbCxpKSxyP2k6a24oaSwicmdiYSIpfSx0aGlzKX0sX25vcm1hbGl6ZWRUb1Zpc3VhbDp7bGluZWFyOmZ1bmN0aW9uKHQpe3JldHVybiBrbihNbih0LHRoaXMub3B0aW9uLnBhcnNlZFZpc3VhbCksInJnYmEiKX0sY2F0ZWdvcnk6c0QscGllY2V3aXNlOmZ1bmN0aW9uKHQsZSl7dmFyIG49aEQuY2FsbCh0aGlzLGUpO3JldHVybiBudWxsPT1uJiYobj1rbihNbih0LHRoaXMub3B0aW9uLnBhcnNlZFZpc3VhbCksInJnYmEiKSksbn0sZml4ZWQ6bER9fSxjb2xvckh1ZTpyRCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gRG4odCxlKX0pKSxjb2xvclNhdHVyYXRpb246ckQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIERuKHQsbnVsbCxlKX0pKSxjb2xvckxpZ2h0bmVzczpyRCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gRG4odCxudWxsLG51bGwsZSl9KSksY29sb3JBbHBoYTpyRCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gQW4odCxlKX0pKSxkZWNhbDp7YXBwbHlWaXN1YWw6YUQoImRlY2FsIiksX25vcm1hbGl6ZWRUb1Zpc3VhbDp7bGluZWFyOm51bGwsY2F0ZWdvcnk6c0QscGllY2V3aXNlOm51bGwsZml4ZWQ6bnVsbH19LG9wYWNpdHk6e2FwcGx5VmlzdWFsOmFEKCJvcGFjaXR5IiksX25vcm1hbGl6ZWRUb1Zpc3VhbDp1RChbMCwxXSl9LGxpZnRaOnthcHBseVZpc3VhbDphRCgibGlmdFoiKSxfbm9ybWFsaXplZFRvVmlzdWFsOntsaW5lYXI6bEQsY2F0ZWdvcnk6bEQscGllY2V3aXNlOmxELGZpeGVkOmxEfX0sc3ltYm9sOnthcHBseVZpc3VhbDpmdW5jdGlvbih0LGUsbil7bigic3ltYm9sIix0aGlzLm1hcFZhbHVlVG9WaXN1YWwodCkpfSxfbm9ybWFsaXplZFRvVmlzdWFsOntsaW5lYXI6b0QsY2F0ZWdvcnk6c0QscGllY2V3aXNlOmZ1bmN0aW9uKHQsZSl7dmFyIG49aEQuY2FsbCh0aGlzLGUpO3JldHVybiBudWxsPT1uJiYobj1vRC5jYWxsKHRoaXMsdCkpLG59LGZpeGVkOmxEfX0sc3ltYm9sU2l6ZTp7YXBwbHlWaXN1YWw6YUQoInN5bWJvbFNpemUiKSxfbm9ybWFsaXplZFRvVmlzdWFsOnVEKFswLDFdKX19LHR9KCk7ZnVuY3Rpb24gaUQodCxlKXt2YXIgbj10LnZpc3VhbCxpPVtdO3Eobik/UUMobiwoZnVuY3Rpb24odCl7aS5wdXNoKHQpfSkpOm51bGwhPW4mJmkucHVzaChuKTtlfHwxIT09aS5sZW5ndGh8fHtjb2xvcjoxLHN5bWJvbDoxfS5oYXNPd25Qcm9wZXJ0eSh0LnR5cGUpfHwoaVsxXT1pWzBdKSxjRCh0LGkpfWZ1bmN0aW9uIHJEKHQpe3JldHVybnthcHBseVZpc3VhbDpmdW5jdGlvbihlLG4saSl7dmFyIHI9dGhpcy5tYXBWYWx1ZVRvVmlzdWFsKGUpO2koImNvbG9yIix0KG4oImNvbG9yIikscikpfSxfbm9ybWFsaXplZFRvVmlzdWFsOnVEKFswLDFdKX19ZnVuY3Rpb24gb0QodCl7dmFyIGU9dGhpcy5vcHRpb24udmlzdWFsO3JldHVybiBlW01hdGgucm91bmQoTnIodCxbMCwxXSxbMCxlLmxlbmd0aC0xXSwhMCkpXXx8e319ZnVuY3Rpb24gYUQodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixpKXtpKHQsdGhpcy5tYXBWYWx1ZVRvVmlzdWFsKGUpKX19ZnVuY3Rpb24gc0QodCl7dmFyIGU9dGhpcy5vcHRpb24udmlzdWFsO3JldHVybiBlW3RoaXMub3B0aW9uLmxvb3AmJnQhPT1lRD90JWUubGVuZ3RoOnRdfWZ1bmN0aW9uIGxEKCl7cmV0dXJuIHRoaXMub3B0aW9uLnZpc3VhbFswXX1mdW5jdGlvbiB1RCh0KXtyZXR1cm57bGluZWFyOmZ1bmN0aW9uKGUpe3JldHVybiBOcihlLHQsdGhpcy5vcHRpb24udmlzdWFsLCEwKX0sY2F0ZWdvcnk6c0QscGllY2V3aXNlOmZ1bmN0aW9uKGUsbil7dmFyIGk9aEQuY2FsbCh0aGlzLG4pO3JldHVybiBudWxsPT1pJiYoaT1OcihlLHQsdGhpcy5vcHRpb24udmlzdWFsLCEwKSksaX0sZml4ZWQ6bER9fWZ1bmN0aW9uIGhEKHQpe3ZhciBlPXRoaXMub3B0aW9uLG49ZS5waWVjZUxpc3Q7aWYoZS5oYXNTcGVjaWFsVmlzdWFsKXt2YXIgaT1uW25ELmZpbmRQaWVjZUluZGV4KHQsbildO2lmKGkmJmkudmlzdWFsKXJldHVybiBpLnZpc3VhbFt0aGlzLnR5cGVdfX1mdW5jdGlvbiBjRCh0LGUpe3JldHVybiB0LnZpc3VhbD1lLCJjb2xvciI9PT10LnR5cGUmJih0LnBhcnNlZFZpc3VhbD16KGUsKGZ1bmN0aW9uKHQpe3ZhciBlPWJuKHQpO3JldHVybiBlfHxbMCwwLDAsMV19KSkpLGV9dmFyIHBEPXtsaW5lYXI6ZnVuY3Rpb24odCl7cmV0dXJuIE5yKHQsdGhpcy5vcHRpb24uZGF0YUV4dGVudCxbMCwxXSwhMCl9LHBpZWNld2lzZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbi5waWVjZUxpc3Qsbj1uRC5maW5kUGllY2VJbmRleCh0LGUsITApO2lmKG51bGwhPW4pcmV0dXJuIE5yKG4sWzAsZS5sZW5ndGgtMV0sWzAsMV0sITApfSxjYXRlZ29yeTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbi5jYXRlZ29yaWVzP3RoaXMub3B0aW9uLmNhdGVnb3J5TWFwW3RdOnQ7cmV0dXJuIG51bGw9PWU/ZUQ6ZX0sZml4ZWQ6eHR9O2Z1bmN0aW9uIGREKHQsZSxuKXtyZXR1cm4gdD9lPD1uOmU8bn12YXIgZkQ9U28oKSxnRD17c2VyaWVzVHlwZToidHJlZW1hcCIscmVzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCkudHJlZS5yb290O2UuaXNSZW1vdmVkKCl8fHlEKGUse30sdC5nZXRWaWV3Um9vdCgpLmdldEFuY2VzdG9ycygpLHQpfX07ZnVuY3Rpb24geUQodCxlLG4saSl7dmFyIHI9dC5nZXRNb2RlbCgpLG89dC5nZXRMYXlvdXQoKSxhPXQuaG9zdFRyZWUuZGF0YTtpZihvJiYhby5pbnZpc2libGUmJm8uaXNJblZpZXcpe3ZhciBzLGw9ci5nZXRNb2RlbCgiaXRlbVN0eWxlIiksdT1mdW5jdGlvbih0LGUsbil7dmFyIGk9QSh7fSxlKSxyPW4uZGVzaWduYXRlZFZpc3VhbEl0ZW1TdHlsZTtyZXR1cm4gRShbImNvbG9yIiwiY29sb3JBbHBoYSIsImNvbG9yU2F0dXJhdGlvbiJdLChmdW5jdGlvbihuKXtyW25dPWVbbl07dmFyIG89dC5nZXQobik7cltuXT1udWxsLG51bGwhPW8mJihpW25dPW8pfSkpLGl9KGwsZSxpKSxoPWEuZW5zdXJlVW5pcXVlSXRlbVZpc3VhbCh0LmRhdGFJbmRleCwic3R5bGUiKSxjPWwuZ2V0KCJib3JkZXJDb2xvciIpLHA9bC5nZXQoImJvcmRlckNvbG9yU2F0dXJhdGlvbiIpO251bGwhPXAmJihjPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGwhPWU/RG4oZSxudWxsLG51bGwsdCk6bnVsbH0ocCxzPXZEKHUpKSksaC5zdHJva2U9Yzt2YXIgZD10LnZpZXdDaGlsZHJlbjtpZihkJiZkLmxlbmd0aCl7dmFyIGY9ZnVuY3Rpb24odCxlLG4saSxyLG8pe2lmKCFvfHwhby5sZW5ndGgpcmV0dXJuO3ZhciBhPXhEKGUsImNvbG9yIil8fG51bGwhPXIuY29sb3ImJiJub25lIiE9PXIuY29sb3ImJih4RChlLCJjb2xvckFscGhhIil8fHhEKGUsImNvbG9yU2F0dXJhdGlvbiIpKTtpZighYSlyZXR1cm47dmFyIHM9ZS5nZXQoInZpc3VhbE1pbiIpLGw9ZS5nZXQoInZpc3VhbE1heCIpLHU9bi5kYXRhRXh0ZW50LnNsaWNlKCk7bnVsbCE9cyYmczx1WzBdJiYodVswXT1zKSxudWxsIT1sJiZsPnVbMV0mJih1WzFdPWwpO3ZhciBoPWUuZ2V0KCJjb2xvck1hcHBpbmdCeSIpLGM9e3R5cGU6YS5uYW1lLGRhdGFFeHRlbnQ6dSx2aXN1YWw6YS5yYW5nZX07ImNvbG9yIiE9PWMudHlwZXx8ImluZGV4IiE9PWgmJiJpZCIhPT1oP2MubWFwcGluZ01ldGhvZD0ibGluZWFyIjooYy5tYXBwaW5nTWV0aG9kPSJjYXRlZ29yeSIsYy5sb29wPSEwKTt2YXIgcD1uZXcgbkQoYyk7cmV0dXJuIGZEKHApLmRyQ29sb3JNYXBwaW5nQnk9aCxwfSgwLHIsbywwLHUsZCk7RShkLChmdW5jdGlvbih0LGUpe2lmKHQuZGVwdGg+PW4ubGVuZ3RofHx0PT09blt0LmRlcHRoXSl7dmFyIG89ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhPUEoe30sZSk7aWYocil7dmFyIHM9ci50eXBlLGw9ImNvbG9yIj09PXMmJmZEKHIpLmRyQ29sb3JNYXBwaW5nQnksdT0iaW5kZXgiPT09bD9pOiJpZCI9PT1sP28ubWFwSWRUb0luZGV4KG4uZ2V0SWQoKSk6bi5nZXRWYWx1ZSh0LmdldCgidmlzdWFsRGltZW5zaW9uIikpO2Fbc109ci5tYXBWYWx1ZVRvVmlzdWFsKHUpfXJldHVybiBhfShyLHUsdCxlLGYsaSk7eUQodCxvLG4saSl9fSkpfWVsc2Ugcz12RCh1KSxoLmZpbGw9c319ZnVuY3Rpb24gdkQodCl7dmFyIGU9bUQodCwiY29sb3IiKTtpZihlKXt2YXIgbj1tRCh0LCJjb2xvckFscGhhIiksaT1tRCh0LCJjb2xvclNhdHVyYXRpb24iKTtyZXR1cm4gaSYmKGU9RG4oZSxudWxsLG51bGwsaSkpLG4mJihlPUFuKGUsbikpLGV9fWZ1bmN0aW9uIG1EKHQsZSl7dmFyIG49dFtlXTtpZihudWxsIT1uJiYibm9uZSIhPT1uKXJldHVybiBufWZ1bmN0aW9uIHhEKHQsZSl7dmFyIG49dC5nZXQoZSk7cmV0dXJuIFkobikmJm4ubGVuZ3RoP3tuYW1lOmUscmFuZ2U6bn06bnVsbH12YXIgX0Q9TWF0aC5tYXgsYkQ9TWF0aC5taW4sd0Q9aXQsU0Q9RSxNRD1bIml0ZW1TdHlsZSIsImJvcmRlcldpZHRoIl0sSUQ9WyJpdGVtU3R5bGUiLCJnYXBXaWR0aCJdLFREPVsidXBwZXJMYWJlbCIsInNob3ciXSxDRD1bInVwcGVyTGFiZWwiLCJoZWlnaHQiXSxERD17c2VyaWVzVHlwZToidHJlZW1hcCIscmVzZXQ6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bi5nZXRXaWR0aCgpLG89bi5nZXRIZWlnaHQoKSxhPXQub3B0aW9uLHM9eHAodC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6bi5nZXRXaWR0aCgpLGhlaWdodDpuLmdldEhlaWdodCgpfSksbD1hLnNpemV8fFtdLHU9RXIod0Qocy53aWR0aCxsWzBdKSxyKSxoPUVyKHdEKHMuaGVpZ2h0LGxbMV0pLG8pLGM9aSYmaS50eXBlLHA9QUMoaSxbInRyZWVtYXBab29tVG9Ob2RlIiwidHJlZW1hcFJvb3RUb05vZGUiXSx0KSxkPSJ0cmVlbWFwUmVuZGVyIj09PWN8fCJ0cmVlbWFwTW92ZSI9PT1jP2kucm9vdFJlY3Q6bnVsbCxmPXQuZ2V0Vmlld1Jvb3QoKSxnPWtDKGYpO2lmKCJ0cmVlbWFwTW92ZSIhPT1jKXt2YXIgeT0idHJlZW1hcFpvb21Ub05vZGUiPT09Yz9mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvLGE9KGV8fHt9KS5ub2RlLHM9W2kscl07aWYoIWF8fGE9PT1uKXJldHVybiBzO3ZhciBsPWkqcix1PWwqdC5vcHRpb24uem9vbVRvTm9kZVJhdGlvO2Zvcig7bz1hLnBhcmVudE5vZGU7KXtmb3IodmFyIGg9MCxjPW8uY2hpbGRyZW4scD0wLGQ9Yy5sZW5ndGg7cDxkO3ArKyloKz1jW3BdLmdldFZhbHVlKCk7dmFyIGY9YS5nZXRWYWx1ZSgpO2lmKDA9PT1mKXJldHVybiBzO3UqPWgvZjt2YXIgZz1vLmdldE1vZGVsKCkseT1nLmdldChNRCk7KHUrPTQqeSp5KygzKnkrTWF0aC5tYXgoeSxPRChnKSkpKk1hdGgucG93KHUsLjUpKT5ZciYmKHU9WXIpLGE9b311PGwmJih1PWwpO3ZhciB2PU1hdGgucG93KHUvbCwuNSk7cmV0dXJuW2kqdixyKnZdfSh0LHAsZix1LGgpOmQ/W2Qud2lkdGgsZC5oZWlnaHRdOlt1LGhdLHY9YS5zb3J0O3YmJiJhc2MiIT09diYmImRlc2MiIT09diYmKHY9ImRlc2MiKTt2YXIgbT17c3F1YXJlUmF0aW86YS5zcXVhcmVSYXRpbyxzb3J0OnYsbGVhZkRlcHRoOmEubGVhZkRlcHRofTtmLmhvc3RUcmVlLmNsZWFyTGF5b3V0cygpO3ZhciB4PXt4OjAseTowLHdpZHRoOnlbMF0saGVpZ2h0OnlbMV0sYXJlYTp5WzBdKnlbMV19O2Yuc2V0TGF5b3V0KHgpLEFEKGYsbSwhMSwwKSx4PWYuZ2V0TGF5b3V0KCksU0QoZywoZnVuY3Rpb24odCxlKXt2YXIgbj0oZ1tlKzFdfHxmKS5nZXRWYWx1ZSgpO3Quc2V0TGF5b3V0KEEoe2RhdGFFeHRlbnQ6W24sbl0sYm9yZGVyV2lkdGg6MCx1cHBlckhlaWdodDowfSx4KSl9KSl9dmFyIF89dC5nZXREYXRhKCkudHJlZS5yb290O18uc2V0TGF5b3V0KGZ1bmN0aW9uKHQsZSxuKXtpZihlKXJldHVybnt4OmUueCx5OmUueX07dmFyIGk9e3g6MCx5OjB9O2lmKCFuKXJldHVybiBpO3ZhciByPW4ubm9kZSxvPXIuZ2V0TGF5b3V0KCk7aWYoIW8pcmV0dXJuIGk7dmFyIGE9W28ud2lkdGgvMixvLmhlaWdodC8yXSxzPXI7Zm9yKDtzOyl7dmFyIGw9cy5nZXRMYXlvdXQoKTthWzBdKz1sLngsYVsxXSs9bC55LHM9cy5wYXJlbnROb2RlfXJldHVybnt4OnQud2lkdGgvMi1hWzBdLHk6dC5oZWlnaHQvMi1hWzFdfX0ocyxkLHApLCEwKSx0LnNldExheW91dEluZm8ocyksUEQoXyxuZXcgc3IoLXMueCwtcy55LHIsbyksZyxmLDApfX07ZnVuY3Rpb24gQUQodCxlLG4saSl7dmFyIHIsbztpZighdC5pc1JlbW92ZWQoKSl7dmFyIGE9dC5nZXRMYXlvdXQoKTtyPWEud2lkdGgsbz1hLmhlaWdodDt2YXIgcz10LmdldE1vZGVsKCksbD1zLmdldChNRCksdT1zLmdldChJRCkvMixoPU9EKHMpLGM9TWF0aC5tYXgobCxoKSxwPWwtdSxkPWMtdTt0LnNldExheW91dCh7Ym9yZGVyV2lkdGg6bCx1cHBlckhlaWdodDpjLHVwcGVyTGFiZWxIZWlnaHQ6aH0sITApO3ZhciBmPShyPV9EKHItMipwLDApKSoobz1fRChvLXAtZCwwKSksZz1mdW5jdGlvbih0LGUsbixpLHIsbyl7dmFyIGE9dC5jaGlsZHJlbnx8W10scz1pLnNvcnQ7ImFzYyIhPT1zJiYiZGVzYyIhPT1zJiYocz1udWxsKTt2YXIgbD1udWxsIT1pLmxlYWZEZXB0aCYmaS5sZWFmRGVwdGg8PW87aWYociYmIWwpcmV0dXJuIHQudmlld0NoaWxkcmVuPVtdOyFmdW5jdGlvbih0LGUpe2UmJnQuc29ydCgoZnVuY3Rpb24odCxuKXt2YXIgaT0iYXNjIj09PWU/dC5nZXRWYWx1ZSgpLW4uZ2V0VmFsdWUoKTpuLmdldFZhbHVlKCktdC5nZXRWYWx1ZSgpO3JldHVybiAwPT09aT8iYXNjIj09PWU/dC5kYXRhSW5kZXgtbi5kYXRhSW5kZXg6bi5kYXRhSW5kZXgtdC5kYXRhSW5kZXg6aX0pKX0oYT1CKGEsKGZ1bmN0aW9uKHQpe3JldHVybiF0LmlzUmVtb3ZlZCgpfSkpLHMpO3ZhciB1PWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9MCxyPTAsbz1lLmxlbmd0aDtyPG87cisrKWkrPWVbcl0uZ2V0VmFsdWUoKTt2YXIgYSxzPXQuZ2V0KCJ2aXN1YWxEaW1lbnNpb24iKTtlJiZlLmxlbmd0aD8idmFsdWUiPT09cyYmbj8oYT1bZVtlLmxlbmd0aC0xXS5nZXRWYWx1ZSgpLGVbMF0uZ2V0VmFsdWUoKV0sImFzYyI9PT1uJiZhLnJldmVyc2UoKSk6KGE9WzEvMCwtMS8wXSxTRChlLChmdW5jdGlvbih0KXt2YXIgZT10LmdldFZhbHVlKHMpO2U8YVswXSYmKGFbMF09ZSksZT5hWzFdJiYoYVsxXT1lKX0pKSk6YT1bTmFOLE5hTl07cmV0dXJue3N1bTppLGRhdGFFeHRlbnQ6YX19KGUsYSxzKTtpZigwPT09dS5zdW0pcmV0dXJuIHQudmlld0NoaWxkcmVuPVtdO2lmKHUuc3VtPWZ1bmN0aW9uKHQsZSxuLGkscil7aWYoIWkpcmV0dXJuIG47Zm9yKHZhciBvPXQuZ2V0KCJ2aXNpYmxlTWluIiksYT1yLmxlbmd0aCxzPWEsbD1hLTE7bD49MDtsLS0pe3ZhciB1PXJbImFzYyI9PT1pP2EtbC0xOmxdLmdldFZhbHVlKCk7dS9uKmU8byYmKHM9bCxuLT11KX1yZXR1cm4iYXNjIj09PWk/ci5zcGxpY2UoMCxhLXMpOnIuc3BsaWNlKHMsYS1zKSxufShlLG4sdS5zdW0scyxhKSwwPT09dS5zdW0pcmV0dXJuIHQudmlld0NoaWxkcmVuPVtdO2Zvcih2YXIgaD0wLGM9YS5sZW5ndGg7aDxjO2grKyl7dmFyIHA9YVtoXS5nZXRWYWx1ZSgpL3Uuc3VtKm47YVtoXS5zZXRMYXlvdXQoe2FyZWE6cH0pfWwmJihhLmxlbmd0aCYmdC5zZXRMYXlvdXQoe2lzTGVhZlJvb3Q6ITB9LCEwKSxhLmxlbmd0aD0wKTtyZXR1cm4gdC52aWV3Q2hpbGRyZW49YSx0LnNldExheW91dCh7ZGF0YUV4dGVudDp1LmRhdGFFeHRlbnR9LCEwKSxhfSh0LHMsZixlLG4saSk7aWYoZy5sZW5ndGgpe3ZhciB5PXt4OnAseTpkLHdpZHRoOnIsaGVpZ2h0Om99LHY9YkQocixvKSxtPTEvMCx4PVtdO3guYXJlYT0wO2Zvcih2YXIgXz0wLGI9Zy5sZW5ndGg7XzxiOyl7dmFyIHc9Z1tfXTt4LnB1c2godykseC5hcmVhKz13LmdldExheW91dCgpLmFyZWE7dmFyIFM9a0QoeCx2LGUuc3F1YXJlUmF0aW8pO1M8PW0/KF8rKyxtPVMpOih4LmFyZWEtPXgucG9wKCkuZ2V0TGF5b3V0KCkuYXJlYSxMRCh4LHYseSx1LCExKSx2PWJEKHkud2lkdGgseS5oZWlnaHQpLHgubGVuZ3RoPXguYXJlYT0wLG09MS8wKX1pZih4Lmxlbmd0aCYmTEQoeCx2LHksdSwhMCksIW4pe3ZhciBNPXMuZ2V0KCJjaGlsZHJlblZpc2libGVNaW4iKTtudWxsIT1NJiZmPE0mJihuPSEwKX1mb3IoXz0wLGI9Zy5sZW5ndGg7XzxiO18rKylBRChnW19dLGUsbixpKzEpfX19ZnVuY3Rpb24ga0QodCxlLG4pe2Zvcih2YXIgaT0wLHI9MS8wLG89MCxhPXZvaWQgMCxzPXQubGVuZ3RoO288cztvKyspKGE9dFtvXS5nZXRMYXlvdXQoKS5hcmVhKSYmKGE8ciYmKHI9YSksYT5pJiYoaT1hKSk7dmFyIGw9dC5hcmVhKnQuYXJlYSx1PWUqZSpuO3JldHVybiBsP19EKHUqaS9sLGwvKHUqcikpOjEvMH1mdW5jdGlvbiBMRCh0LGUsbixpLHIpe3ZhciBvPWU9PT1uLndpZHRoPzA6MSxhPTEtbyxzPVsieCIsInkiXSxsPVsid2lkdGgiLCJoZWlnaHQiXSx1PW5bc1tvXV0saD1lP3QuYXJlYS9lOjA7KHJ8fGg+bltsW2FdXSkmJihoPW5bbFthXV0pO2Zvcih2YXIgYz0wLHA9dC5sZW5ndGg7YzxwO2MrKyl7dmFyIGQ9dFtjXSxmPXt9LGc9aD9kLmdldExheW91dCgpLmFyZWEvaDowLHk9ZltsW2FdXT1fRChoLTIqaSwwKSx2PW5bc1tvXV0rbltsW29dXS11LG09Yz09PXAtMXx8djxnP3Y6Zyx4PWZbbFtvXV09X0QobS0yKmksMCk7ZltzW2FdXT1uW3NbYV1dK2JEKGkseS8yKSxmW3Nbb11dPXUrYkQoaSx4LzIpLHUrPW0sZC5zZXRMYXlvdXQoZiwhMCl9bltzW2FdXSs9aCxuW2xbYV1dLT1ofWZ1bmN0aW9uIFBEKHQsZSxuLGkscil7dmFyIG89dC5nZXRMYXlvdXQoKSxhPW5bcl0scz1hJiZhPT09dDtpZighKGEmJiFzfHxyPT09bi5sZW5ndGgmJnQhPT1pKSl7dC5zZXRMYXlvdXQoe2lzSW5WaWV3OiEwLGludmlzaWJsZTohcyYmIWUuaW50ZXJzZWN0KG8pLGlzQWJvdmVWaWV3Um9vdDpzfSwhMCk7dmFyIGw9bmV3IHNyKGUueC1vLngsZS55LW8ueSxlLndpZHRoLGUuaGVpZ2h0KTtTRCh0LnZpZXdDaGlsZHJlbnx8W10sKGZ1bmN0aW9uKHQpe1BEKHQsbCxuLGkscisxKX0pKX19ZnVuY3Rpb24gT0QodCl7cmV0dXJuIHQuZ2V0KFREKT90LmdldChDRCk6MH1mdW5jdGlvbiBSRCh0KXt2YXIgZT10LmZpbmRDb21wb25lbnRzKHttYWluVHlwZToibGVnZW5kIn0pO2UmJmUubGVuZ3RoJiZ0LmVhY2hTZXJpZXNCeVR5cGUoImdyYXBoIiwoZnVuY3Rpb24odCl7dmFyIG49dC5nZXRDYXRlZ29yaWVzRGF0YSgpLGk9dC5nZXRHcmFwaCgpLmRhdGEscj1uLm1hcEFycmF5KG4uZ2V0TmFtZSk7aS5maWx0ZXJTZWxmKChmdW5jdGlvbih0KXt2YXIgbj1pLmdldEl0ZW1Nb2RlbCh0KS5nZXRTaGFsbG93KCJjYXRlZ29yeSIpO2lmKG51bGwhPW4pe2oobikmJihuPXJbbl0pO2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKWlmKCFlW29dLmlzU2VsZWN0ZWQobikpcmV0dXJuITF9cmV0dXJuITB9KSl9KSl9ZnVuY3Rpb24gTkQodCl7dmFyIGU9e307dC5lYWNoU2VyaWVzQnlUeXBlKCJncmFwaCIsKGZ1bmN0aW9uKHQpe3ZhciBuPXQuZ2V0Q2F0ZWdvcmllc0RhdGEoKSxpPXQuZ2V0RGF0YSgpLHI9e307bi5lYWNoKChmdW5jdGlvbihpKXt2YXIgbz1uLmdldE5hbWUoaSk7clsiZWMtIitvXT1pO3ZhciBhPW4uZ2V0SXRlbU1vZGVsKGkpLHM9YS5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCk7cy5maWxsfHwocy5maWxsPXQuZ2V0Q29sb3JGcm9tUGFsZXR0ZShvLGUpKSxuLnNldEl0ZW1WaXN1YWwoaSwic3R5bGUiLHMpO2Zvcih2YXIgbD1bInN5bWJvbCIsInN5bWJvbFNpemUiLCJzeW1ib2xLZWVwQXNwZWN0Il0sdT0wO3U8bC5sZW5ndGg7dSsrKXt2YXIgaD1hLmdldFNoYWxsb3cobFt1XSwhMCk7bnVsbCE9aCYmbi5zZXRJdGVtVmlzdWFsKGksbFt1XSxoKX19KSksbi5jb3VudCgpJiZpLmVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPWkuZ2V0SXRlbU1vZGVsKHQpLmdldFNoYWxsb3coImNhdGVnb3J5Iik7aWYobnVsbCE9ZSl7WChlKSYmKGU9clsiZWMtIitlXSk7dmFyIG89bi5nZXRJdGVtVmlzdWFsKGUsInN0eWxlIik7QShpLmVuc3VyZVVuaXF1ZUl0ZW1WaXN1YWwodCwic3R5bGUiKSxvKTtmb3IodmFyIGE9WyJzeW1ib2wiLCJzeW1ib2xTaXplIiwic3ltYm9sS2VlcEFzcGVjdCJdLHM9MDtzPGEubGVuZ3RoO3MrKylpLnNldEl0ZW1WaXN1YWwodCxhW3NdLG4uZ2V0SXRlbVZpc3VhbChlLGFbc10pKX19KSl9KSl9ZnVuY3Rpb24gRUQodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBBcnJheXx8KHQ9W3QsdF0pLHR9ZnVuY3Rpb24gekQodCl7dC5lYWNoU2VyaWVzQnlUeXBlKCJncmFwaCIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0R3JhcGgoKSxuPXQuZ2V0RWRnZURhdGEoKSxpPUVEKHQuZ2V0KCJlZGdlU3ltYm9sIikpLHI9RUQodC5nZXQoImVkZ2VTeW1ib2xTaXplIikpO24uc2V0VmlzdWFsKCJmcm9tU3ltYm9sIixpJiZpWzBdKSxuLnNldFZpc3VhbCgidG9TeW1ib2wiLGkmJmlbMV0pLG4uc2V0VmlzdWFsKCJmcm9tU3ltYm9sU2l6ZSIsciYmclswXSksbi5zZXRWaXN1YWwoInRvU3ltYm9sU2l6ZSIsciYmclsxXSksbi5zZXRWaXN1YWwoInN0eWxlIix0LmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSksbi5lYWNoKChmdW5jdGlvbih0KXt2YXIgaT1uLmdldEl0ZW1Nb2RlbCh0KSxyPWUuZ2V0RWRnZUJ5SW5kZXgodCksbz1FRChpLmdldFNoYWxsb3coInN5bWJvbCIsITApKSxhPUVEKGkuZ2V0U2hhbGxvdygic3ltYm9sU2l6ZSIsITApKSxzPWkuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLGw9bi5lbnN1cmVVbmlxdWVJdGVtVmlzdWFsKHQsInN0eWxlIik7c3dpdGNoKEEobCxzKSxsLnN0cm9rZSl7Y2FzZSJzb3VyY2UiOnZhciB1PXIubm9kZTEuZ2V0VmlzdWFsKCJzdHlsZSIpO2wuc3Ryb2tlPXUmJnUuZmlsbDticmVhaztjYXNlInRhcmdldCI6dT1yLm5vZGUyLmdldFZpc3VhbCgic3R5bGUiKTtsLnN0cm9rZT11JiZ1LmZpbGx9b1swXSYmci5zZXRWaXN1YWwoImZyb21TeW1ib2wiLG9bMF0pLG9bMV0mJnIuc2V0VmlzdWFsKCJ0b1N5bWJvbCIsb1sxXSksYVswXSYmci5zZXRWaXN1YWwoImZyb21TeW1ib2xTaXplIixhWzBdKSxhWzFdJiZyLnNldFZpc3VhbCgidG9TeW1ib2xTaXplIixhWzFdKX0pKX0pKX12YXIgVkQ9Ii0tXHgzZSIsQkQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0KCJhdXRvQ3VydmVuZXNzIil8fG51bGx9LEZEPWZ1bmN0aW9uKHQsZSl7dmFyIG49QkQodCksaT0yMCxyPVtdO2lmKGoobikpaT1uO2Vsc2UgaWYoWShuKSlyZXR1cm4gdm9pZCh0Ll9fY3VydmVuZXNzTGlzdD1uKTtlPmkmJihpPWUpO3ZhciBvPWklMj9pKzI6aSszO3I9W107Zm9yKHZhciBhPTA7YTxvO2ErKylyLnB1c2goKGElMj9hKzE6YSkvMTAqKGElMj8tMToxKSk7dC5fX2N1cnZlbmVzc0xpc3Q9cn0sR0Q9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPVt0LmlkLHQuZGF0YUluZGV4XS5qb2luKCIuIikscj1bZS5pZCxlLmRhdGFJbmRleF0uam9pbigiLiIpO3JldHVybltuLnVpZCxpLHJdLmpvaW4oVkQpfSxXRD1mdW5jdGlvbih0KXt2YXIgZT10LnNwbGl0KFZEKTtyZXR1cm5bZVswXSxlWzJdLGVbMV1dLmpvaW4oVkQpfSxIRD1mdW5jdGlvbih0LGUpe3ZhciBuPWUuX19lZGdlTWFwO3JldHVybiBuW3RdP25bdF0ubGVuZ3RoOjB9O2Z1bmN0aW9uIFlEKHQsZSxuLGkpe3ZhciByPUJEKGUpLG89WShyKTtpZighcilyZXR1cm4gbnVsbDt2YXIgYT1mdW5jdGlvbih0LGUpe3ZhciBuPUdEKHQubm9kZTEsdC5ub2RlMixlKTtyZXR1cm4gZS5fX2VkZ2VNYXBbbl19KHQsZSk7aWYoIWEpcmV0dXJuIG51bGw7Zm9yKHZhciBzPS0xLGw9MDtsPGEubGVuZ3RoO2wrKylpZihhW2xdPT09bil7cz1sO2JyZWFrfXZhciB1PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEhEKEdEKHQubm9kZTEsdC5ub2RlMixlKSxlKStIRChHRCh0Lm5vZGUyLHQubm9kZTEsZSksZSl9KHQsZSk7RkQoZSx1KSx0LmxpbmVTdHlsZT10LmxpbmVTdHlsZXx8e307dmFyIGg9R0QodC5ub2RlMSx0Lm5vZGUyLGUpLGM9ZS5fX2N1cnZlbmVzc0xpc3QscD1vfHx1JTI/MDoxO2lmKGEuaXNGb3J3YXJkKXJldHVybiBjW3Arc107dmFyIGQ9V0QoaCksZj1IRChkLGUpLGc9Y1tzK2YrcF07cmV0dXJuIGk/bz9yJiYwPT09clswXT8oZitwKSUyP2c6LWc6KChmJTI/MDoxKStwKSUyP2c6LWc6KGYrcCklMj9nOi1nOmNbcytmK3BdfWZ1bmN0aW9uIFVEKHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbTtpZighZXx8InZpZXciPT09ZS50eXBlKXt2YXIgbj10LmdldEdyYXBoKCk7bi5lYWNoTm9kZSgoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRNb2RlbCgpO3Quc2V0TGF5b3V0KFsrZS5nZXQoIngiKSwrZS5nZXQoInkiKV0pfSkpLFhEKG4sdCl9fWZ1bmN0aW9uIFhEKHQsZSl7dC5lYWNoRWRnZSgoZnVuY3Rpb24odCxuKXt2YXIgaT1vdCh0LmdldE1vZGVsKCkuZ2V0KFsibGluZVN0eWxlIiwiY3VydmVuZXNzIl0pLC1ZRCh0LGUsbiwhMCksMCkscj1NdCh0Lm5vZGUxLmdldExheW91dCgpKSxvPU10KHQubm9kZTIuZ2V0TGF5b3V0KCkpLGE9W3Isb107K2kmJmEucHVzaChbKHJbMF0rb1swXSkvMi0oclsxXS1vWzFdKSppLChyWzFdK29bMV0pLzItKG9bMF0tclswXSkqaV0pLHQuc2V0TGF5b3V0KGEpfSkpfWZ1bmN0aW9uIFpEKHQsZSl7dC5lYWNoU2VyaWVzQnlUeXBlKCJncmFwaCIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KCJsYXlvdXQiKSxuPXQuY29vcmRpbmF0ZVN5c3RlbTtpZihuJiYidmlldyIhPT1uLnR5cGUpe3ZhciBpPXQuZ2V0RGF0YSgpLHI9W107RShuLmRpbWVuc2lvbnMsKGZ1bmN0aW9uKHQpe3I9ci5jb25jYXQoaS5tYXBEaW1lbnNpb25zQWxsKHQpKX0pKTtmb3IodmFyIG89MDtvPGkuY291bnQoKTtvKyspe2Zvcih2YXIgYT1bXSxzPSExLGw9MDtsPHIubGVuZ3RoO2wrKyl7dmFyIHU9aS5nZXQocltsXSxvKTtpc05hTih1KXx8KHM9ITApLGEucHVzaCh1KX1zP2kuc2V0SXRlbUxheW91dChvLG4uZGF0YVRvUG9pbnQoYSkpOmkuc2V0SXRlbUxheW91dChvLFtOYU4sTmFOXSl9WEQoaS5ncmFwaCx0KX1lbHNlIGUmJiJub25lIiE9PWV8fFVEKHQpfSkpfWZ1bmN0aW9uIGpEKHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbTtpZigidmlldyIhPT1lLnR5cGUpcmV0dXJuIDE7dmFyIG49dC5vcHRpb24ubm9kZVNjYWxlUmF0aW8saT1lLnNjYWxlWDtyZXR1cm4oKGUuZ2V0Wm9vbSgpLTEpKm4rMSkvaX1mdW5jdGlvbiBxRCh0KXt2YXIgZT10LmdldFZpc3VhbCgic3ltYm9sU2l6ZSIpO3JldHVybiBlIGluc3RhbmNlb2YgQXJyYXkmJihlPShlWzBdK2VbMV0pLzIpLCtlfXZhciBLRD1NYXRoLlBJLCREPVtdO2Z1bmN0aW9uIEpEKHQsZSl7dmFyIG49dC5jb29yZGluYXRlU3lzdGVtO2lmKCFufHwidmlldyI9PT1uLnR5cGUpe3ZhciBpPW4uZ2V0Qm91bmRpbmdSZWN0KCkscj10LmdldERhdGEoKSxvPXIuZ3JhcGgsYT1pLndpZHRoLzIraS54LHM9aS5oZWlnaHQvMitpLnksbD1NYXRoLm1pbihpLndpZHRoLGkuaGVpZ2h0KS8yLHU9ci5jb3VudCgpO3Iuc2V0TGF5b3V0KHtjeDphLGN5OnN9KSx1JiYoUURbZV0odCxvLHIsbCxhLHMsdSksby5lYWNoRWRnZSgoZnVuY3Rpb24oZSxuKXt2YXIgaSxyPW90KGUuZ2V0TW9kZWwoKS5nZXQoWyJsaW5lU3R5bGUiLCJjdXJ2ZW5lc3MiXSksWUQoZSx0LG4pLDApLG89TXQoZS5ub2RlMS5nZXRMYXlvdXQoKSksbD1NdChlLm5vZGUyLmdldExheW91dCgpKSx1PShvWzBdK2xbMF0pLzIsaD0ob1sxXStsWzFdKS8yOytyJiYoaT1bYSoocio9MykrdSooMS1yKSxzKnIraCooMS1yKV0pLGUuc2V0TGF5b3V0KFtvLGwsaV0pfSkpKX19dmFyIFFEPXt2YWx1ZTpmdW5jdGlvbih0LGUsbixpLHIsbyxhKXt2YXIgcz0wLGw9bi5nZXRTdW0oInZhbHVlIiksdT0yKk1hdGguUEkvKGx8fGEpO2UuZWFjaE5vZGUoKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0VmFsdWUoInZhbHVlIiksbj11KihsP2U6MSkvMjtzKz1uLHQuc2V0TGF5b3V0KFtpKk1hdGguY29zKHMpK3IsaSpNYXRoLnNpbihzKStvXSkscys9bn0pKX0sc3ltYm9sU2l6ZTpmdW5jdGlvbih0LGUsbixpLHIsbyxhKXt2YXIgcz0wOyRELmxlbmd0aD1hO3ZhciBsPWpEKHQpO2UuZWFjaE5vZGUoKGZ1bmN0aW9uKHQpe3ZhciBlPXFEKHQpO2lzTmFOKGUpJiYoZT0yKSxlPDAmJihlPTApLGUqPWw7dmFyIG49TWF0aC5hc2luKGUvMi9pKTtpc05hTihuKSYmKG49S0QvMiksJERbdC5kYXRhSW5kZXhdPW4scys9MipufSkpO3ZhciB1PSgyKktELXMpL2EvMixoPTA7ZS5lYWNoTm9kZSgoZnVuY3Rpb24odCl7dmFyIGU9dSskRFt0LmRhdGFJbmRleF07aCs9ZSx0LnNldExheW91dChbaSpNYXRoLmNvcyhoKStyLGkqTWF0aC5zaW4oaCkrb10pLGgrPWV9KSl9fTtmdW5jdGlvbiB0QSh0KXt0LmVhY2hTZXJpZXNCeVR5cGUoImdyYXBoIiwoZnVuY3Rpb24odCl7ImNpcmN1bGFyIj09PXQuZ2V0KCJsYXlvdXQiKSYmSkQodCwic3ltYm9sU2l6ZSIpfSkpfXZhciBlQT1DdDtmdW5jdGlvbiBuQSh0KXt0LmVhY2hTZXJpZXNCeVR5cGUoImdyYXBoIiwoZnVuY3Rpb24odCl7dmFyIGU9dC5jb29yZGluYXRlU3lzdGVtO2lmKCFlfHwidmlldyI9PT1lLnR5cGUpaWYoImZvcmNlIj09PXQuZ2V0KCJsYXlvdXQiKSl7dmFyIG49dC5wcmVzZXJ2ZWRQb2ludHN8fHt9LGk9dC5nZXRHcmFwaCgpLHI9aS5kYXRhLG89aS5lZGdlRGF0YSxhPXQuZ2V0TW9kZWwoImZvcmNlIikscz1hLmdldCgiaW5pdExheW91dCIpO3QucHJlc2VydmVkUG9pbnRzP3IuZWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9ci5nZXRJZCh0KTtyLnNldEl0ZW1MYXlvdXQodCxuW2VdfHxbTmFOLE5hTl0pfSkpOnMmJiJub25lIiE9PXM/ImNpcmN1bGFyIj09PXMmJkpEKHQsInZhbHVlIik6VUQodCk7dmFyIGw9ci5nZXREYXRhRXh0ZW50KCJ2YWx1ZSIpLHU9by5nZXREYXRhRXh0ZW50KCJ2YWx1ZSIpLGg9YS5nZXQoInJlcHVsc2lvbiIpLGM9YS5nZXQoImVkZ2VMZW5ndGgiKSxwPVkoaCk/aDpbaCxoXSxkPVkoYyk/YzpbYyxjXTtkPVtkWzFdLGRbMF1dO3ZhciBmPXIubWFwQXJyYXkoInZhbHVlIiwoZnVuY3Rpb24odCxlKXt2YXIgbj1yLmdldEl0ZW1MYXlvdXQoZSksaT1Ocih0LGwscCk7cmV0dXJuIGlzTmFOKGkpJiYoaT0ocFswXStwWzFdKS8yKSx7dzppLHJlcDppLGZpeGVkOnIuZ2V0SXRlbU1vZGVsKGUpLmdldCgiZml4ZWQiKSxwOiFufHxpc05hTihuWzBdKXx8aXNOYU4oblsxXSk/bnVsbDpufX0pKSxnPW8ubWFwQXJyYXkoInZhbHVlIiwoZnVuY3Rpb24oZSxuKXt2YXIgcj1pLmdldEVkZ2VCeUluZGV4KG4pLG89TnIoZSx1LGQpO2lzTmFOKG8pJiYobz0oZFswXStkWzFdKS8yKTt2YXIgYT1yLmdldE1vZGVsKCkscz1vdChyLmdldE1vZGVsKCkuZ2V0KFsibGluZVN0eWxlIiwiY3VydmVuZXNzIl0pLC1ZRChyLHQsbiwhMCksMCk7cmV0dXJue24xOmZbci5ub2RlMS5kYXRhSW5kZXhdLG4yOmZbci5ub2RlMi5kYXRhSW5kZXhdLGQ6byxjdXJ2ZW5lc3M6cyxpZ25vcmVGb3JjZUxheW91dDphLmdldCgiaWdub3JlRm9yY2VMYXlvdXQiKX19KSkseT1lLmdldEJvdW5kaW5nUmVjdCgpLHY9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10LHI9ZSxvPW4ucmVjdCxhPW8ud2lkdGgscz1vLmhlaWdodCxsPVtvLngrYS8yLG8ueStzLzJdLHU9bnVsbD09bi5ncmF2aXR5Py4xOm4uZ3Jhdml0eSxoPTA7aDxpLmxlbmd0aDtoKyspe3ZhciBjPWlbaF07Yy5wfHwoYy5wPXd0KGEqKE1hdGgucmFuZG9tKCktLjUpK2xbMF0scyooTWF0aC5yYW5kb20oKS0uNSkrbFsxXSkpLGMucHA9TXQoYy5wKSxjLmVkZ2VzPW51bGx9dmFyIHAsZCxmPW51bGw9PW4uZnJpY3Rpb24/LjY6bi5mcmljdGlvbixnPWY7cmV0dXJue3dhcm1VcDpmdW5jdGlvbigpe2c9LjgqZn0sc2V0Rml4ZWQ6ZnVuY3Rpb24odCl7aVt0XS5maXhlZD0hMH0sc2V0VW5maXhlZDpmdW5jdGlvbih0KXtpW3RdLmZpeGVkPSExfSxiZWZvcmVTdGVwOmZ1bmN0aW9uKHQpe3A9dH0sYWZ0ZXJTdGVwOmZ1bmN0aW9uKHQpe2Q9dH0sc3RlcDpmdW5jdGlvbih0KXtwJiZwKGkscik7Zm9yKHZhciBlPVtdLG49aS5sZW5ndGgsbz0wO288ci5sZW5ndGg7bysrKXt2YXIgYT1yW29dO2lmKCFhLmlnbm9yZUZvcmNlTGF5b3V0KXt2YXIgcz1hLm4xO0R0KGUsKHk9YS5uMikucCxzLnApO3ZhciBoPUF0KGUpLWEuZCxjPXkudy8ocy53K3kudyk7aXNOYU4oYykmJihjPTApLFJ0KGUsZSksIXMuZml4ZWQmJmVBKHMucCxzLnAsZSxjKmgqZyksIXkuZml4ZWQmJmVBKHkucCx5LnAsZSwtKDEtYykqaCpnKX19Zm9yKG89MDtvPG47bysrKSh4PWlbb10pLmZpeGVkfHwoRHQoZSxsLHgucCksZUEoeC5wLHgucCxlLHUqZykpO2ZvcihvPTA7bzxuO28rKyl7cz1pW29dO2Zvcih2YXIgZj1vKzE7ZjxuO2YrKyl7dmFyIHk7RHQoZSwoeT1pW2ZdKS5wLHMucCksMD09PShoPUF0KGUpKSYmKEl0KGUsTWF0aC5yYW5kb20oKS0uNSxNYXRoLnJhbmRvbSgpLS41KSxoPTEpO3ZhciB2PShzLnJlcCt5LnJlcCkvaC9oOyFzLmZpeGVkJiZlQShzLnBwLHMucHAsZSx2KSwheS5maXhlZCYmZUEoeS5wcCx5LnBwLGUsLXYpfX12YXIgbT1bXTtmb3Iobz0wO288bjtvKyspe3ZhciB4Oyh4PWlbb10pLmZpeGVkfHwoRHQobSx4LnAseC5wcCksZUEoeC5wLHgucCxtLGcpLFN0KHgucHAseC5wKSl9dmFyIF89KGcqPS45OTIpPC4wMTtkJiZkKGkscixfKSx0JiZ0KF8pfX19KGYsZyx7cmVjdDp5LGdyYXZpdHk6YS5nZXQoImdyYXZpdHkiKSxmcmljdGlvbjphLmdldCgiZnJpY3Rpb24iKX0pO3YuYmVmb3JlU3RlcCgoZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MCxyPXQubGVuZ3RoO248cjtuKyspdFtuXS5maXhlZCYmU3QodFtuXS5wLGkuZ2V0Tm9kZUJ5SW5kZXgobikuZ2V0TGF5b3V0KCkpfSkpLHYuYWZ0ZXJTdGVwKChmdW5jdGlvbih0LGUsbyl7Zm9yKHZhciBhPTAscz10Lmxlbmd0aDthPHM7YSsrKXRbYV0uZml4ZWR8fGkuZ2V0Tm9kZUJ5SW5kZXgoYSkuc2V0TGF5b3V0KHRbYV0ucCksbltyLmdldElkKGEpXT10W2FdLnA7Zm9yKGE9MCxzPWUubGVuZ3RoO2E8czthKyspe3ZhciBsPWVbYV0sdT1pLmdldEVkZ2VCeUluZGV4KGEpLGg9bC5uMS5wLGM9bC5uMi5wLHA9dS5nZXRMYXlvdXQoKTsocD1wP3Auc2xpY2UoKTpbXSlbMF09cFswXXx8W10scFsxXT1wWzFdfHxbXSxTdChwWzBdLGgpLFN0KHBbMV0sYyksK2wuY3VydmVuZXNzJiYocFsyXT1bKGhbMF0rY1swXSkvMi0oaFsxXS1jWzFdKSpsLmN1cnZlbmVzcywoaFsxXStjWzFdKS8yLShjWzBdLWhbMF0pKmwuY3VydmVuZXNzXSksdS5zZXRMYXlvdXQocCl9fSkpLHQuZm9yY2VMYXlvdXQ9dix0LnByZXNlcnZlZFBvaW50cz1uLHYuc3RlcCgpfWVsc2UgdC5mb3JjZUxheW91dD1udWxsfSkpfWZ1bmN0aW9uIGlBKHQsZSl7dmFyIG49W107cmV0dXJuIHQuZWFjaFNlcmllc0J5VHlwZSgiZ3JhcGgiLChmdW5jdGlvbih0KXt2YXIgaT10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpO2lmKCFpfHwidmlldyI9PT1pKXt2YXIgcj10LmdldERhdGEoKSxvPVtdLGE9W107TWEoci5tYXBBcnJheSgoZnVuY3Rpb24odCl7dmFyIGU9ci5nZXRJdGVtTW9kZWwodCk7cmV0dXJuWytlLmdldCgieCIpLCtlLmdldCgieSIpXX0pKSxvLGEpLGFbMF0tb1swXT09MCYmKGFbMF0rPTEsb1swXS09MSksYVsxXS1vWzFdPT0wJiYoYVsxXSs9MSxvWzFdLT0xKTt2YXIgcz0oYVswXS1vWzBdKS8oYVsxXS1vWzFdKSxsPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4geHAoQSh0LmdldEJveExheW91dFBhcmFtcygpLHthc3BlY3Q6bn0pLHt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9KX0odCxlLHMpO2lzTmFOKHMpJiYobz1bbC54LGwueV0sYT1bbC54K2wud2lkdGgsbC55K2wuaGVpZ2h0XSk7dmFyIHU9YVswXS1vWzBdLGg9YVsxXS1vWzFdLGM9bC53aWR0aCxwPWwuaGVpZ2h0LGQ9dC5jb29yZGluYXRlU3lzdGVtPW5ldyBGVDtkLnpvb21MaW1pdD10LmdldCgic2NhbGVMaW1pdCIpLGQuc2V0Qm91bmRpbmdSZWN0KG9bMF0sb1sxXSx1LGgpLGQuc2V0Vmlld1JlY3QobC54LGwueSxjLHApLGQuc2V0Q2VudGVyKHQuZ2V0KCJjZW50ZXIiKSksZC5zZXRab29tKHQuZ2V0KCJ6b29tIikpLG4ucHVzaChkKX19KSksbn12YXIgckE9enUucHJvdG90eXBlLG9BPUd1LnByb3RvdHlwZSxhQT1mdW5jdGlvbigpe3RoaXMueDE9MCx0aGlzLnkxPTAsdGhpcy54Mj0wLHRoaXMueTI9MCx0aGlzLnBlcmNlbnQ9MX07IWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfW4oZSx0KX0oYUEpO2Z1bmN0aW9uIHNBKHQpe3JldHVybiBpc05hTigrdC5jcHgxKXx8aXNOYU4oK3QuY3B5MSl9dmFyIGxBPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIG4udHlwZT0iZWMtbGluZSIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTdHlsZT1mdW5jdGlvbigpe3JldHVybntzdHJva2U6IiMwMDAiLGZpbGw6bnVsbH19LGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgYUF9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3NBKGUpP3JBLmJ1aWxkUGF0aC5jYWxsKHRoaXMsdCxlKTpvQS5idWlsZFBhdGguY2FsbCh0aGlzLHQsZSl9LGUucHJvdG90eXBlLnBvaW50QXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHNBKHRoaXMuc2hhcGUpP3JBLnBvaW50QXQuY2FsbCh0aGlzLHQpOm9BLnBvaW50QXQuY2FsbCh0aGlzLHQpfSxlLnByb3RvdHlwZS50YW5nZW50QXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zaGFwZSxuPXNBKGUpP1tlLngyLWUueDEsZS55Mi1lLnkxXTpvQS50YW5nZW50QXQuY2FsbCh0aGlzLHQpO3JldHVybiBSdChuLG4pfSxlfShncyksdUE9WyJmcm9tU3ltYm9sIiwidG9TeW1ib2wiXTtmdW5jdGlvbiBoQSh0KXtyZXR1cm4iXyIrdCsiVHlwZSJ9ZnVuY3Rpb24gY0EodCxlLG4pe3ZhciBpPWUuZ2V0SXRlbVZpc3VhbChuLHQpO2lmKGkmJiJub25lIiE9PWkpe3ZhciByPWUuZ2V0SXRlbVZpc3VhbChuLHQrIlNpemUiKSxvPWUuZ2V0SXRlbVZpc3VhbChuLHQrIlJvdGF0ZSIpLGE9ZS5nZXRJdGVtVmlzdWFsKG4sdCsiT2Zmc2V0Iikscz1lLmdldEl0ZW1WaXN1YWwobix0KyJLZWVwQXNwZWN0IiksbD1QeShyKSx1PU95KGF8fDAsbCksaD1MeShpLC1sWzBdLzIrdVswXSwtbFsxXS8yK3VbMV0sbFswXSxsWzFdLG51bGwscyk7cmV0dXJuIGguX19zcGVjaWZpZWRSb3RhdGlvbj1udWxsPT1vfHxpc05hTihvKT92b2lkIDA6K28qTWF0aC5QSS8xODB8fDAsaC5uYW1lPXQsaH19ZnVuY3Rpb24gcEEodCxlKXt0LngxPWVbMF1bMF0sdC55MT1lWzBdWzFdLHQueDI9ZVsxXVswXSx0LnkyPWVbMV1bMV0sdC5wZXJjZW50PTE7dmFyIG49ZVsyXTtuPyh0LmNweDE9blswXSx0LmNweTE9blsxXSk6KHQuY3B4MT1OYU4sdC5jcHkxPU5hTil9dmFyIGRBPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZhciByPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5fY3JlYXRlTGluZShlLG4saSkscn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLl9jcmVhdGVMaW5lPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10Lmhvc3RNb2RlbCxyPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBsQSh7bmFtZToibGluZSIsc3ViUGl4ZWxPcHRpbWl6ZTohMH0pO3JldHVybiBwQShlLnNoYXBlLHQpLGV9KHQuZ2V0SXRlbUxheW91dChlKSk7ci5zaGFwZS5wZXJjZW50PTAsb2gocix7c2hhcGU6e3BlcmNlbnQ6MX19LGksZSksdGhpcy5hZGQociksRSh1QSwoZnVuY3Rpb24obil7dmFyIGk9Y0Eobix0LGUpO3RoaXMuYWRkKGkpLHRoaXNbaEEobildPXQuZ2V0SXRlbVZpc3VhbChlLG4pfSksdGhpcyksdGhpcy5fdXBkYXRlQ29tbW9uU3RsKHQsZSxuKX0sZS5wcm90b3R5cGUudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5ob3N0TW9kZWwscj10aGlzLmNoaWxkT2ZOYW1lKCJsaW5lIiksbz10LmdldEl0ZW1MYXlvdXQoZSksYT17c2hhcGU6e319O3BBKGEuc2hhcGUsbykscmgocixhLGksZSksRSh1QSwoZnVuY3Rpb24obil7dmFyIGk9dC5nZXRJdGVtVmlzdWFsKGUsbikscj1oQShuKTtpZih0aGlzW3JdIT09aSl7dGhpcy5yZW1vdmUodGhpcy5jaGlsZE9mTmFtZShuKSk7dmFyIG89Y0Eobix0LGUpO3RoaXMuYWRkKG8pfXRoaXNbcl09aX0pLHRoaXMpLHRoaXMuX3VwZGF0ZUNvbW1vblN0bCh0LGUsbil9LGUucHJvdG90eXBlLmdldExpbmVQYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hpbGRBdCgwKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUNvbW1vblN0bD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5ob3N0TW9kZWwscj10aGlzLmNoaWxkT2ZOYW1lKCJsaW5lIiksbz1uJiZuLmVtcGhhc2lzTGluZVN0eWxlLGE9biYmbi5ibHVyTGluZVN0eWxlLHM9biYmbi5zZWxlY3RMaW5lU3R5bGUsbD1uJiZuLmxhYmVsU3RhdGVzTW9kZWxzLHU9biYmbi5lbXBoYXNpc0Rpc2FibGVkLGg9biYmbi5mb2N1cyxjPW4mJm4uYmx1clNjb3BlO2lmKCFufHx0Lmhhc0l0ZW1PcHRpb24pe3ZhciBwPXQuZ2V0SXRlbU1vZGVsKGUpLGQ9cC5nZXRNb2RlbCgiZW1waGFzaXMiKTtvPWQuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLGE9cC5nZXRNb2RlbChbImJsdXIiLCJsaW5lU3R5bGUiXSkuZ2V0TGluZVN0eWxlKCkscz1wLmdldE1vZGVsKFsic2VsZWN0IiwibGluZVN0eWxlIl0pLmdldExpbmVTdHlsZSgpLHU9ZC5nZXQoImRpc2FibGVkIiksaD1kLmdldCgiZm9jdXMiKSxjPWQuZ2V0KCJibHVyU2NvcGUiKSxsPVloKHApfXZhciBmPXQuZ2V0SXRlbVZpc3VhbChlLCJzdHlsZSIpLGc9Zi5zdHJva2U7ci51c2VTdHlsZShmKSxyLnN0eWxlLmZpbGw9bnVsbCxyLnN0eWxlLnN0cm9rZU5vU2NhbGU9ITAsci5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKS5zdHlsZT1vLHIuZW5zdXJlU3RhdGUoImJsdXIiKS5zdHlsZT1hLHIuZW5zdXJlU3RhdGUoInNlbGVjdCIpLnN0eWxlPXMsRSh1QSwoZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jaGlsZE9mTmFtZSh0KTtpZihlKXtlLnNldENvbG9yKGcpLGUuc3R5bGUub3BhY2l0eT1mLm9wYWNpdHk7Zm9yKHZhciBuPTA7bjxxcy5sZW5ndGg7bisrKXt2YXIgaT1xc1tuXSxvPXIuZ2V0U3RhdGUoaSk7aWYobyl7dmFyIGE9by5zdHlsZXx8e30scz1lLmVuc3VyZVN0YXRlKGkpLGw9cy5zdHlsZXx8KHMuc3R5bGU9e30pO251bGwhPWEuc3Ryb2tlJiYobFtlLl9faXNFbXB0eUJydXNoPyJzdHJva2UiOiJmaWxsIl09YS5zdHJva2UpLG51bGwhPWEub3BhY2l0eSYmKGwub3BhY2l0eT1hLm9wYWNpdHkpfX1lLm1hcmtSZWRyYXcoKX19KSx0aGlzKTt2YXIgeT1pLmdldFJhd1ZhbHVlKGUpO0hoKHRoaXMsbCx7bGFiZWxEYXRhSW5kZXg6ZSxsYWJlbEZldGNoZXI6e2dldEZvcm1hdHRlZExhYmVsOmZ1bmN0aW9uKGUsbil7cmV0dXJuIGkuZ2V0Rm9ybWF0dGVkTGFiZWwoZSxuLHQuZGF0YVR5cGUpfX0saW5oZXJpdENvbG9yOmd8fCIjMDAwIixkZWZhdWx0T3BhY2l0eTpmLm9wYWNpdHksZGVmYXVsdFRleHQ6KG51bGw9PXk/dC5nZXROYW1lKGUpOmlzRmluaXRlKHkpP3pyKHkpOnkpKyIifSk7dmFyIHY9dGhpcy5nZXRUZXh0Q29udGVudCgpO2lmKHYpe3ZhciBtPWwubm9ybWFsO3YuX19hbGlnbj12LnN0eWxlLmFsaWduLHYuX192ZXJ0aWNhbEFsaWduPXYuc3R5bGUudmVydGljYWxBbGlnbix2Ll9fcG9zaXRpb249bS5nZXQoInBvc2l0aW9uIil8fCJtaWRkbGUiO3ZhciB4PW0uZ2V0KCJkaXN0YW5jZSIpO1koeCl8fCh4PVt4LHhdKSx2Ll9fbGFiZWxEaXN0YW5jZT14fXRoaXMuc2V0VGV4dENvbmZpZyh7cG9zaXRpb246bnVsbCxsb2NhbDohMCxpbnNpZGU6ITF9KSxSbCh0aGlzLGgsYyx1KX0sZS5wcm90b3R5cGUuaGlnaGxpZ2h0PWZ1bmN0aW9uKCl7X2wodGhpcyl9LGUucHJvdG90eXBlLmRvd25wbGF5PWZ1bmN0aW9uKCl7YmwodGhpcyl9LGUucHJvdG90eXBlLnVwZGF0ZUxheW91dD1mdW5jdGlvbih0LGUpe3RoaXMuc2V0TGluZVBvaW50cyh0LmdldEl0ZW1MYXlvdXQoZSkpfSxlLnByb3RvdHlwZS5zZXRMaW5lUG9pbnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2hpbGRPZk5hbWUoImxpbmUiKTtwQShlLnNoYXBlLHQpLGUuZGlydHkoKX0sZS5wcm90b3R5cGUuYmVmb3JlVXBkYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQuY2hpbGRPZk5hbWUoImZyb21TeW1ib2wiKSxuPXQuY2hpbGRPZk5hbWUoInRvU3ltYm9sIiksaT10LmdldFRleHRDb250ZW50KCk7aWYoZXx8bnx8aSYmIWkuaWdub3JlKXtmb3IodmFyIHI9MSxvPXRoaXMucGFyZW50O287KW8uc2NhbGVYJiYoci89by5zY2FsZVgpLG89by5wYXJlbnQ7dmFyIGE9dC5jaGlsZE9mTmFtZSgibGluZSIpO2lmKHRoaXMuX19kaXJ0eXx8YS5fX2RpcnR5KXt2YXIgcz1hLnNoYXBlLnBlcmNlbnQsbD1hLnBvaW50QXQoMCksdT1hLnBvaW50QXQocyksaD1EdChbXSx1LGwpO2lmKFJ0KGgsaCksZSYmKGUuc2V0UG9zaXRpb24obCksUyhlLDApLGUuc2NhbGVYPWUuc2NhbGVZPXIqcyxlLm1hcmtSZWRyYXcoKSksbiYmKG4uc2V0UG9zaXRpb24odSksUyhuLDEpLG4uc2NhbGVYPW4uc2NhbGVZPXIqcyxuLm1hcmtSZWRyYXcoKSksaSYmIWkuaWdub3JlKXtpLng9aS55PTAsaS5vcmlnaW5YPWkub3JpZ2luWT0wO3ZhciBjPXZvaWQgMCxwPXZvaWQgMCxkPWkuX19sYWJlbERpc3RhbmNlLGY9ZFswXSpyLGc9ZFsxXSpyLHk9cy8yLHY9YS50YW5nZW50QXQoeSksbT1bdlsxXSwtdlswXV0seD1hLnBvaW50QXQoeSk7bVsxXT4wJiYobVswXT0tbVswXSxtWzFdPS1tWzFdKTt2YXIgXz12WzBdPDA/LTE6MTtpZigic3RhcnQiIT09aS5fX3Bvc2l0aW9uJiYiZW5kIiE9PWkuX19wb3NpdGlvbil7dmFyIGI9LU1hdGguYXRhbjIodlsxXSx2WzBdKTt1WzBdPGxbMF0mJihiPU1hdGguUEkrYiksaS5yb3RhdGlvbj1ifXZhciB3PXZvaWQgMDtzd2l0Y2goaS5fX3Bvc2l0aW9uKXtjYXNlImluc2lkZVN0YXJ0VG9wIjpjYXNlImluc2lkZU1pZGRsZVRvcCI6Y2FzZSJpbnNpZGVFbmRUb3AiOmNhc2UibWlkZGxlIjp3PS1nLHA9ImJvdHRvbSI7YnJlYWs7Y2FzZSJpbnNpZGVTdGFydEJvdHRvbSI6Y2FzZSJpbnNpZGVNaWRkbGVCb3R0b20iOmNhc2UiaW5zaWRlRW5kQm90dG9tIjp3PWcscD0idG9wIjticmVhaztkZWZhdWx0Onc9MCxwPSJtaWRkbGUifXN3aXRjaChpLl9fcG9zaXRpb24pe2Nhc2UiZW5kIjppLng9aFswXSpmK3VbMF0saS55PWhbMV0qZyt1WzFdLGM9aFswXT4uOD8ibGVmdCI6aFswXTwtLjg/InJpZ2h0IjoiY2VudGVyIixwPWhbMV0+Ljg/InRvcCI6aFsxXTwtLjg/ImJvdHRvbSI6Im1pZGRsZSI7YnJlYWs7Y2FzZSJzdGFydCI6aS54PS1oWzBdKmYrbFswXSxpLnk9LWhbMV0qZytsWzFdLGM9aFswXT4uOD8icmlnaHQiOmhbMF08LS44PyJsZWZ0IjoiY2VudGVyIixwPWhbMV0+Ljg/ImJvdHRvbSI6aFsxXTwtLjg/InRvcCI6Im1pZGRsZSI7YnJlYWs7Y2FzZSJpbnNpZGVTdGFydFRvcCI6Y2FzZSJpbnNpZGVTdGFydCI6Y2FzZSJpbnNpZGVTdGFydEJvdHRvbSI6aS54PWYqXytsWzBdLGkueT1sWzFdK3csYz12WzBdPDA/InJpZ2h0IjoibGVmdCIsaS5vcmlnaW5YPS1mKl8saS5vcmlnaW5ZPS13O2JyZWFrO2Nhc2UiaW5zaWRlTWlkZGxlVG9wIjpjYXNlImluc2lkZU1pZGRsZSI6Y2FzZSJpbnNpZGVNaWRkbGVCb3R0b20iOmNhc2UibWlkZGxlIjppLng9eFswXSxpLnk9eFsxXSt3LGM9ImNlbnRlciIsaS5vcmlnaW5ZPS13O2JyZWFrO2Nhc2UiaW5zaWRlRW5kVG9wIjpjYXNlImluc2lkZUVuZCI6Y2FzZSJpbnNpZGVFbmRCb3R0b20iOmkueD0tZipfK3VbMF0saS55PXVbMV0rdyxjPXZbMF0+PTA/InJpZ2h0IjoibGVmdCIsaS5vcmlnaW5YPWYqXyxpLm9yaWdpblk9LXd9aS5zY2FsZVg9aS5zY2FsZVk9cixpLnNldFN0eWxlKHt2ZXJ0aWNhbEFsaWduOmkuX192ZXJ0aWNhbEFsaWdufHxwLGFsaWduOmkuX19hbGlnbnx8Y30pfX19ZnVuY3Rpb24gUyh0LGUpe3ZhciBuPXQuX19zcGVjaWZpZWRSb3RhdGlvbjtpZihudWxsPT1uKXt2YXIgaT1hLnRhbmdlbnRBdChlKTt0LmF0dHIoInJvdGF0aW9uIiwoMT09PWU/LTE6MSkqTWF0aC5QSS8yLU1hdGguYXRhbjIoaVsxXSxpWzBdKSl9ZWxzZSB0LmF0dHIoInJvdGF0aW9uIixuKX19LGV9KENyKSxmQT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5ncm91cD1uZXcgQ3IsdGhpcy5fTGluZUN0b3I9dHx8ZEF9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLl9wcm9ncmVzc2l2ZUVscz1udWxsO3ZhciBuPXRoaXMsaT1uLmdyb3VwLHI9bi5fbGluZURhdGE7bi5fbGluZURhdGE9dCxyfHxpLnJlbW92ZUFsbCgpO3ZhciBvPWdBKHQpO3QuZGlmZihyKS5hZGQoKGZ1bmN0aW9uKG4pe2UuX2RvQWRkKHQsbixvKX0pKS51cGRhdGUoKGZ1bmN0aW9uKG4saSl7ZS5fZG9VcGRhdGUocix0LGksbixvKX0pKS5yZW1vdmUoKGZ1bmN0aW9uKHQpe2kucmVtb3ZlKHIuZ2V0SXRlbUdyYXBoaWNFbCh0KSl9KSkuZXhlY3V0ZSgpfSx0LnByb3RvdHlwZS51cGRhdGVMYXlvdXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9saW5lRGF0YTt0JiZ0LmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbihlLG4pe2UudXBkYXRlTGF5b3V0KHQsbil9KSx0aGlzKX0sdC5wcm90b3R5cGUuaW5jcmVtZW50YWxQcmVwYXJlVXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX3Nlcmllc1Njb3BlPWdBKHQpLHRoaXMuX2xpbmVEYXRhPW51bGwsdGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sdC5wcm90b3R5cGUuaW5jcmVtZW50YWxVcGRhdGU9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQpe3QuaXNHcm91cHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQuYW5pbWF0b3JzJiZ0LmFuaW1hdG9ycy5sZW5ndGg+MH0odCl8fCh0LmluY3JlbWVudGFsPSEwLHQuZW5zdXJlU3RhdGUoImVtcGhhc2lzIikuaG92ZXJMYXllcj0hMCl9dGhpcy5fcHJvZ3Jlc3NpdmVFbHM9W107Zm9yKHZhciBpPXQuc3RhcnQ7aTx0LmVuZDtpKyspe2lmKHZBKGUuZ2V0SXRlbUxheW91dChpKSkpe3ZhciByPW5ldyB0aGlzLl9MaW5lQ3RvcihlLGksdGhpcy5fc2VyaWVzU2NvcGUpO3IudHJhdmVyc2UobiksdGhpcy5ncm91cC5hZGQociksZS5zZXRJdGVtR3JhcGhpY0VsKGksciksdGhpcy5fcHJvZ3Jlc3NpdmVFbHMucHVzaChyKX19fSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSx0LnByb3RvdHlwZS5lYWNoUmVuZGVyZWQ9ZnVuY3Rpb24odCl7VmgodGhpcy5fcHJvZ3Jlc3NpdmVFbHN8fHRoaXMuZ3JvdXAsdCl9LHQucHJvdG90eXBlLl9kb0FkZD1mdW5jdGlvbih0LGUsbil7aWYodkEodC5nZXRJdGVtTGF5b3V0KGUpKSl7dmFyIGk9bmV3IHRoaXMuX0xpbmVDdG9yKHQsZSxuKTt0LnNldEl0ZW1HcmFwaGljRWwoZSxpKSx0aGlzLmdyb3VwLmFkZChpKX19LHQucHJvdG90eXBlLl9kb1VwZGF0ZT1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPXQuZ2V0SXRlbUdyYXBoaWNFbChuKTt2QShlLmdldEl0ZW1MYXlvdXQoaSkpPyhvP28udXBkYXRlRGF0YShlLGkscik6bz1uZXcgdGhpcy5fTGluZUN0b3IoZSxpLHIpLGUuc2V0SXRlbUdyYXBoaWNFbChpLG8pLHRoaXMuZ3JvdXAuYWRkKG8pKTp0aGlzLmdyb3VwLnJlbW92ZShvKX0sdH0oKTtmdW5jdGlvbiBnQSh0KXt2YXIgZT10Lmhvc3RNb2RlbCxuPWUuZ2V0TW9kZWwoImVtcGhhc2lzIik7cmV0dXJue2xpbmVTdHlsZTplLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSxlbXBoYXNpc0xpbmVTdHlsZTpuLmdldE1vZGVsKFsibGluZVN0eWxlIl0pLmdldExpbmVTdHlsZSgpLGJsdXJMaW5lU3R5bGU6ZS5nZXRNb2RlbChbImJsdXIiLCJsaW5lU3R5bGUiXSkuZ2V0TGluZVN0eWxlKCksc2VsZWN0TGluZVN0eWxlOmUuZ2V0TW9kZWwoWyJzZWxlY3QiLCJsaW5lU3R5bGUiXSkuZ2V0TGluZVN0eWxlKCksZW1waGFzaXNEaXNhYmxlZDpuLmdldCgiZGlzYWJsZWQiKSxibHVyU2NvcGU6bi5nZXQoImJsdXJTY29wZSIpLGZvY3VzOm4uZ2V0KCJmb2N1cyIpLGxhYmVsU3RhdGVzTW9kZWxzOlloKGUpfX1mdW5jdGlvbiB5QSh0KXtyZXR1cm4gaXNOYU4odFswXSl8fGlzTmFOKHRbMV0pfWZ1bmN0aW9uIHZBKHQpe3JldHVybiB0JiYheUEodFswXSkmJiF5QSh0WzFdKX12YXIgbUE9W10seEE9W10sX0E9W10sYkE9S2Usd0E9VnQsU0E9TWF0aC5hYnM7ZnVuY3Rpb24gTUEodCxlLG4pe2Zvcih2YXIgaSxyPXRbMF0sbz10WzFdLGE9dFsyXSxzPTEvMCxsPW4qbix1PS4xLGg9LjE7aDw9Ljk7aCs9LjEpe21BWzBdPWJBKHJbMF0sb1swXSxhWzBdLGgpLG1BWzFdPWJBKHJbMV0sb1sxXSxhWzFdLGgpLChkPVNBKHdBKG1BLGUpLWwpKTxzJiYocz1kLGk9aCl9Zm9yKHZhciBjPTA7YzwzMjtjKyspe3ZhciBwPWkrdTt4QVswXT1iQShyWzBdLG9bMF0sYVswXSxpKSx4QVsxXT1iQShyWzFdLG9bMV0sYVsxXSxpKSxfQVswXT1iQShyWzBdLG9bMF0sYVswXSxwKSxfQVsxXT1iQShyWzFdLG9bMV0sYVsxXSxwKTt2YXIgZD13QSh4QSxlKS1sO2lmKFNBKGQpPC4wMSlicmVhazt2YXIgZj13QShfQSxlKS1sO3UvPTIsZDwwP2Y+PTA/aSs9dTppLT11OmY+PTA/aS09dTppKz11fXJldHVybiBpfWZ1bmN0aW9uIElBKHQsZSl7dmFyIG49W10saT1RZSxyPVtbXSxbXSxbXV0sbz1bW10sW11dLGE9W107ZS89Mix0LmVhY2hFZGdlKChmdW5jdGlvbih0LHMpe3ZhciBsPXQuZ2V0TGF5b3V0KCksdT10LmdldFZpc3VhbCgiZnJvbVN5bWJvbCIpLGg9dC5nZXRWaXN1YWwoInRvU3ltYm9sIik7bC5fX29yaWdpbmFsfHwobC5fX29yaWdpbmFsPVtNdChsWzBdKSxNdChsWzFdKV0sbFsyXSYmbC5fX29yaWdpbmFsLnB1c2goTXQobFsyXSkpKTt2YXIgYz1sLl9fb3JpZ2luYWw7aWYobnVsbCE9bFsyXSl7aWYoU3QoclswXSxjWzBdKSxTdChyWzFdLGNbMl0pLFN0KHJbMl0sY1sxXSksdSYmIm5vbmUiIT09dSl7dmFyIHA9cUQodC5ub2RlMSksZD1NQShyLGNbMF0scCplKTtpKHJbMF1bMF0sclsxXVswXSxyWzJdWzBdLGQsbiksclswXVswXT1uWzNdLHJbMV1bMF09bls0XSxpKHJbMF1bMV0sclsxXVsxXSxyWzJdWzFdLGQsbiksclswXVsxXT1uWzNdLHJbMV1bMV09bls0XX1pZihoJiYibm9uZSIhPT1oKXtwPXFEKHQubm9kZTIpLGQ9TUEocixjWzFdLHAqZSk7aShyWzBdWzBdLHJbMV1bMF0sclsyXVswXSxkLG4pLHJbMV1bMF09blsxXSxyWzJdWzBdPW5bMl0saShyWzBdWzFdLHJbMV1bMV0sclsyXVsxXSxkLG4pLHJbMV1bMV09blsxXSxyWzJdWzFdPW5bMl19U3QobFswXSxyWzBdKSxTdChsWzFdLHJbMl0pLFN0KGxbMl0sclsxXSl9ZWxzZXtpZihTdChvWzBdLGNbMF0pLFN0KG9bMV0sY1sxXSksRHQoYSxvWzFdLG9bMF0pLFJ0KGEsYSksdSYmIm5vbmUiIT09dSl7cD1xRCh0Lm5vZGUxKTtDdChvWzBdLG9bMF0sYSxwKmUpfWlmKGgmJiJub25lIiE9PWgpe3A9cUQodC5ub2RlMik7Q3Qob1sxXSxvWzFdLGEsLXAqZSl9U3QobFswXSxvWzBdKSxTdChsWzFdLG9bMV0pfX0pKX1mdW5jdGlvbiBUQSh0KXtyZXR1cm4idmlldyI9PT10LnR5cGV9dmFyIENBPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgancsaT1uZXcgZkEscj10aGlzLmdyb3VwO3RoaXMuX2NvbnRyb2xsZXI9bmV3IEFJKGUuZ2V0WnIoKSksdGhpcy5fY29udHJvbGxlckhvc3Q9e3RhcmdldDpyfSxyLmFkZChuLmdyb3VwKSxyLmFkZChpLmdyb3VwKSx0aGlzLl9zeW1ib2xEcmF3PW4sdGhpcy5fbGluZURyYXc9aSx0aGlzLl9maXJzdFJlbmRlcj0hMH0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLHI9dC5jb29yZGluYXRlU3lzdGVtO3RoaXMuX21vZGVsPXQ7dmFyIG89dGhpcy5fc3ltYm9sRHJhdyxhPXRoaXMuX2xpbmVEcmF3LHM9dGhpcy5ncm91cDtpZihUQShyKSl7dmFyIGw9e3g6ci54LHk6ci55LHNjYWxlWDpyLnNjYWxlWCxzY2FsZVk6ci5zY2FsZVl9O3RoaXMuX2ZpcnN0UmVuZGVyP3MuYXR0cihsKTpyaChzLGwsdCl9SUEodC5nZXRHcmFwaCgpLGpEKHQpKTt2YXIgdT10LmdldERhdGEoKTtvLnVwZGF0ZURhdGEodSk7dmFyIGg9dC5nZXRFZGdlRGF0YSgpO2EudXBkYXRlRGF0YShoKSx0aGlzLl91cGRhdGVOb2RlQW5kTGlua1NjYWxlKCksdGhpcy5fdXBkYXRlQ29udHJvbGxlcih0LGUsbiksY2xlYXJUaW1lb3V0KHRoaXMuX2xheW91dFRpbWVvdXQpO3ZhciBjPXQuZm9yY2VMYXlvdXQscD10LmdldChbImZvcmNlIiwibGF5b3V0QW5pbWF0aW9uIl0pO2MmJnRoaXMuX3N0YXJ0Rm9yY2VMYXlvdXRJdGVyYXRpb24oYyxwKSx1LmdyYXBoLmVhY2hOb2RlKChmdW5jdGlvbih0KXt2YXIgZT10LmRhdGFJbmRleCxuPXQuZ2V0R3JhcGhpY0VsKCkscj10LmdldE1vZGVsKCk7aWYobil7bi5vZmYoImRyYWciKS5vZmYoImRyYWdlbmQiKTt2YXIgbz1yLmdldCgiZHJhZ2dhYmxlIik7byYmbi5vbigiZHJhZyIsKGZ1bmN0aW9uKCl7YyYmKGMud2FybVVwKCksIWkuX2xheW91dGluZyYmaS5fc3RhcnRGb3JjZUxheW91dEl0ZXJhdGlvbihjLHApLGMuc2V0Rml4ZWQoZSksdS5zZXRJdGVtTGF5b3V0KGUsW24ueCxuLnldKSl9KSkub24oImRyYWdlbmQiLChmdW5jdGlvbigpe2MmJmMuc2V0VW5maXhlZChlKX0pKSxuLnNldERyYWdnYWJsZShvJiYhIWMpLCJhZGphY2VuY3kiPT09ci5nZXQoWyJlbXBoYXNpcyIsImZvY3VzIl0pJiYoSHMobikuZm9jdXM9dC5nZXRBZGphY2VudERhdGFJbmRpY2VzKCkpfX0pKSx1LmdyYXBoLmVhY2hFZGdlKChmdW5jdGlvbih0KXt2YXIgZT10LmdldEdyYXBoaWNFbCgpLG49dC5nZXRNb2RlbCgpLmdldChbImVtcGhhc2lzIiwiZm9jdXMiXSk7ZSYmImFkamFjZW5jeSI9PT1uJiYoSHMoZSkuZm9jdXM9e2VkZ2U6W3QuZGF0YUluZGV4XSxub2RlOlt0Lm5vZGUxLmRhdGFJbmRleCx0Lm5vZGUyLmRhdGFJbmRleF19KX0pKTt2YXIgZD0iY2lyY3VsYXIiPT09dC5nZXQoImxheW91dCIpJiZ0LmdldChbImNpcmN1bGFyIiwicm90YXRlTGFiZWwiXSksZj11LmdldExheW91dCgiY3giKSxnPXUuZ2V0TGF5b3V0KCJjeSIpO3UuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKHQsZSl7dmFyIG49dS5nZXRJdGVtTW9kZWwoZSkuZ2V0KFsibGFiZWwiLCJyb3RhdGUiXSl8fDAsaT10LmdldFN5bWJvbFBhdGgoKTtpZihkKXt2YXIgcj11LmdldEl0ZW1MYXlvdXQoZSksbz1NYXRoLmF0YW4yKHJbMV0tZyxyWzBdLWYpO288MCYmKG89MipNYXRoLlBJK28pO3ZhciBhPXJbMF08ZjthJiYoby09TWF0aC5QSSk7dmFyIHM9YT8ibGVmdCI6InJpZ2h0IjtpLnNldFRleHRDb25maWcoe3JvdGF0aW9uOi1vLHBvc2l0aW9uOnMsb3JpZ2luOiJjZW50ZXIifSk7dmFyIGw9aS5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKTtBKGwudGV4dENvbmZpZ3x8KGwudGV4dENvbmZpZz17fSkse3Bvc2l0aW9uOnN9KX1lbHNlIGkuc2V0VGV4dENvbmZpZyh7cm90YXRpb246bio9TWF0aC5QSS8xODB9KX0pKSx0aGlzLl9maXJzdFJlbmRlcj0hMX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2NvbnRyb2xsZXImJnRoaXMuX2NvbnRyb2xsZXIuZGlzcG9zZSgpLHRoaXMuX2NvbnRyb2xsZXJIb3N0PW51bGx9LGUucHJvdG90eXBlLl9zdGFydEZvcmNlTGF5b3V0SXRlcmF0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczshZnVuY3Rpb24gaSgpe3Quc3RlcCgoZnVuY3Rpb24odCl7bi51cGRhdGVMYXlvdXQobi5fbW9kZWwpLChuLl9sYXlvdXRpbmc9IXQpJiYoZT9uLl9sYXlvdXRUaW1lb3V0PXNldFRpbWVvdXQoaSwxNik6aSgpKX0pKX0oKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUNvbnRyb2xsZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMscj10aGlzLl9jb250cm9sbGVyLG89dGhpcy5fY29udHJvbGxlckhvc3QsYT10aGlzLmdyb3VwO3Iuc2V0UG9pbnRlckNoZWNrZXIoKGZ1bmN0aW9uKGUsaSxyKXt2YXIgbz1hLmdldEJvdW5kaW5nUmVjdCgpO3JldHVybiBvLmFwcGx5VHJhbnNmb3JtKGEudHJhbnNmb3JtKSxvLmNvbnRhaW4oaSxyKSYmIXpJKGUsbix0KX0pKSxUQSh0LmNvb3JkaW5hdGVTeXN0ZW0pPyhyLmVuYWJsZSh0LmdldCgicm9hbSIpKSxvLnpvb21MaW1pdD10LmdldCgic2NhbGVMaW1pdCIpLG8uem9vbT10LmNvb3JkaW5hdGVTeXN0ZW0uZ2V0Wm9vbSgpLHIub2ZmKCJwYW4iKS5vZmYoInpvb20iKS5vbigicGFuIiwoZnVuY3Rpb24oZSl7T0kobyxlLmR4LGUuZHkpLG4uZGlzcGF0Y2hBY3Rpb24oe3Nlcmllc0lkOnQuaWQsdHlwZToiZ3JhcGhSb2FtIixkeDplLmR4LGR5OmUuZHl9KX0pKS5vbigiem9vbSIsKGZ1bmN0aW9uKGUpe1JJKG8sZS5zY2FsZSxlLm9yaWdpblgsZS5vcmlnaW5ZKSxuLmRpc3BhdGNoQWN0aW9uKHtzZXJpZXNJZDp0LmlkLHR5cGU6ImdyYXBoUm9hbSIsem9vbTplLnNjYWxlLG9yaWdpblg6ZS5vcmlnaW5YLG9yaWdpblk6ZS5vcmlnaW5ZfSksaS5fdXBkYXRlTm9kZUFuZExpbmtTY2FsZSgpLElBKHQuZ2V0R3JhcGgoKSxqRCh0KSksaS5fbGluZURyYXcudXBkYXRlTGF5b3V0KCksbi51cGRhdGVMYWJlbExheW91dCgpfSkpKTpyLmRpc2FibGUoKX0sZS5wcm90b3R5cGUuX3VwZGF0ZU5vZGVBbmRMaW5rU2NhbGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tb2RlbCxlPXQuZ2V0RGF0YSgpLG49akQodCk7ZS5lYWNoSXRlbUdyYXBoaWNFbCgoZnVuY3Rpb24odCxlKXt0JiZ0LnNldFN5bWJvbFNjYWxlKG4pfSkpfSxlLnByb3RvdHlwZS51cGRhdGVMYXlvdXQ9ZnVuY3Rpb24odCl7SUEodC5nZXRHcmFwaCgpLGpEKHQpKSx0aGlzLl9zeW1ib2xEcmF3LnVwZGF0ZUxheW91dCgpLHRoaXMuX2xpbmVEcmF3LnVwZGF0ZUxheW91dCgpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXt0aGlzLl9zeW1ib2xEcmF3JiZ0aGlzLl9zeW1ib2xEcmF3LnJlbW92ZSgpLHRoaXMuX2xpbmVEcmF3JiZ0aGlzLl9saW5lRHJhdy5yZW1vdmUoKX0sZS50eXBlPSJncmFwaCIsZX0oeGcpO2Z1bmN0aW9uIERBKHQpe3JldHVybiJfRUNfIit0fXZhciBBQT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy50eXBlPSJncmFwaCIsdGhpcy5ub2Rlcz1bXSx0aGlzLmVkZ2VzPVtdLHRoaXMuX25vZGVzTWFwPXt9LHRoaXMuX2VkZ2VzTWFwPXt9LHRoaXMuX2RpcmVjdGVkPXR8fCExfXJldHVybiB0LnByb3RvdHlwZS5pc0RpcmVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RpcmVjdGVkfSx0LnByb3RvdHlwZS5hZGROb2RlPWZ1bmN0aW9uKHQsZSl7dD1udWxsPT10PyIiK2U6IiIrdDt2YXIgbj10aGlzLl9ub2Rlc01hcDtpZighbltEQSh0KV0pe3ZhciBpPW5ldyBrQSh0LGUpO3JldHVybiBpLmhvc3RHcmFwaD10aGlzLHRoaXMubm9kZXMucHVzaChpKSxuW0RBKHQpXT1pLGl9fSx0LnByb3RvdHlwZS5nZXROb2RlQnlJbmRleD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmRhdGEuZ2V0UmF3SW5kZXgodCk7cmV0dXJuIHRoaXMubm9kZXNbZV19LHQucHJvdG90eXBlLmdldE5vZGVCeUlkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9ub2Rlc01hcFtEQSh0KV19LHQucHJvdG90eXBlLmFkZEVkZ2U9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuX25vZGVzTWFwLHI9dGhpcy5fZWRnZXNNYXA7aWYoaih0KSYmKHQ9dGhpcy5ub2Rlc1t0XSksaihlKSYmKGU9dGhpcy5ub2Rlc1tlXSksdCBpbnN0YW5jZW9mIGtBfHwodD1pW0RBKHQpXSksZSBpbnN0YW5jZW9mIGtBfHwoZT1pW0RBKGUpXSksdCYmZSl7dmFyIG89dC5pZCsiLSIrZS5pZCxhPW5ldyBMQSh0LGUsbik7cmV0dXJuIGEuaG9zdEdyYXBoPXRoaXMsdGhpcy5fZGlyZWN0ZWQmJih0Lm91dEVkZ2VzLnB1c2goYSksZS5pbkVkZ2VzLnB1c2goYSkpLHQuZWRnZXMucHVzaChhKSx0IT09ZSYmZS5lZGdlcy5wdXNoKGEpLHRoaXMuZWRnZXMucHVzaChhKSxyW29dPWEsYX19LHQucHJvdG90eXBlLmdldEVkZ2VCeUluZGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZWRnZURhdGEuZ2V0UmF3SW5kZXgodCk7cmV0dXJuIHRoaXMuZWRnZXNbZV19LHQucHJvdG90eXBlLmdldEVkZ2U9ZnVuY3Rpb24odCxlKXt0IGluc3RhbmNlb2Yga0EmJih0PXQuaWQpLGUgaW5zdGFuY2VvZiBrQSYmKGU9ZS5pZCk7dmFyIG49dGhpcy5fZWRnZXNNYXA7cmV0dXJuIHRoaXMuX2RpcmVjdGVkP25bdCsiLSIrZV06blt0KyItIitlXXx8bltlKyItIit0XX0sdC5wcm90b3R5cGUuZWFjaE5vZGU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5ub2RlcyxpPW4ubGVuZ3RoLHI9MDtyPGk7cisrKW5bcl0uZGF0YUluZGV4Pj0wJiZ0LmNhbGwoZSxuW3JdLHIpfSx0LnByb3RvdHlwZS5lYWNoRWRnZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLmVkZ2VzLGk9bi5sZW5ndGgscj0wO3I8aTtyKyspbltyXS5kYXRhSW5kZXg+PTAmJm5bcl0ubm9kZTEuZGF0YUluZGV4Pj0wJiZuW3JdLm5vZGUyLmRhdGFJbmRleD49MCYmdC5jYWxsKGUsbltyXSxyKX0sdC5wcm90b3R5cGUuYnJlYWR0aEZpcnN0VHJhdmVyc2U9ZnVuY3Rpb24odCxlLG4saSl7aWYoZSBpbnN0YW5jZW9mIGtBfHwoZT10aGlzLl9ub2Rlc01hcFtEQShlKV0pLGUpe2Zvcih2YXIgcj0ib3V0Ij09PW4/Im91dEVkZ2VzIjoiaW4iPT09bj8iaW5FZGdlcyI6ImVkZ2VzIixvPTA7bzx0aGlzLm5vZGVzLmxlbmd0aDtvKyspdGhpcy5ub2Rlc1tvXS5fX3Zpc2l0ZWQ9ITE7aWYoIXQuY2FsbChpLGUsbnVsbCkpZm9yKHZhciBhPVtlXTthLmxlbmd0aDspe3ZhciBzPWEuc2hpZnQoKSxsPXNbcl07Zm9yKG89MDtvPGwubGVuZ3RoO28rKyl7dmFyIHU9bFtvXSxoPXUubm9kZTE9PT1zP3Uubm9kZTI6dS5ub2RlMTtpZighaC5fX3Zpc2l0ZWQpe2lmKHQuY2FsbChpLGgscykpcmV0dXJuO2EucHVzaChoKSxoLl9fdmlzaXRlZD0hMH19fX19LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmRhdGEsZT10aGlzLmVkZ2VEYXRhLG49dGhpcy5ub2RlcyxpPXRoaXMuZWRnZXMscj0wLG89bi5sZW5ndGg7cjxvO3IrKyluW3JdLmRhdGFJbmRleD0tMTtmb3Iocj0wLG89dC5jb3VudCgpO3I8bztyKyspblt0LmdldFJhd0luZGV4KHIpXS5kYXRhSW5kZXg9cjtlLmZpbHRlclNlbGYoKGZ1bmN0aW9uKHQpe3ZhciBuPWlbZS5nZXRSYXdJbmRleCh0KV07cmV0dXJuIG4ubm9kZTEuZGF0YUluZGV4Pj0wJiZuLm5vZGUyLmRhdGFJbmRleD49MH0pKTtmb3Iocj0wLG89aS5sZW5ndGg7cjxvO3IrKylpW3JdLmRhdGFJbmRleD0tMTtmb3Iocj0wLG89ZS5jb3VudCgpO3I8bztyKyspaVtlLmdldFJhd0luZGV4KHIpXS5kYXRhSW5kZXg9cn0sdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9bmV3IHQodGhpcy5fZGlyZWN0ZWQpLG49dGhpcy5ub2RlcyxpPXRoaXMuZWRnZXMscj0wO3I8bi5sZW5ndGg7cisrKWUuYWRkTm9kZShuW3JdLmlkLG5bcl0uZGF0YUluZGV4KTtmb3Iocj0wO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdO2UuYWRkRWRnZShvLm5vZGUxLmlkLG8ubm9kZTIuaWQsby5kYXRhSW5kZXgpfXJldHVybiBlfSx0fSgpLGtBPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuaW5FZGdlcz1bXSx0aGlzLm91dEVkZ2VzPVtdLHRoaXMuZWRnZXM9W10sdGhpcy5kYXRhSW5kZXg9LTEsdGhpcy5pZD1udWxsPT10PyIiOnQsdGhpcy5kYXRhSW5kZXg9bnVsbD09ZT8tMTplfXJldHVybiB0LnByb3RvdHlwZS5kZWdyZWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGdlcy5sZW5ndGh9LHQucHJvdG90eXBlLmluRGVncmVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5FZGdlcy5sZW5ndGh9LHQucHJvdG90eXBlLm91dERlZ3JlZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm91dEVkZ2VzLmxlbmd0aH0sdC5wcm90b3R5cGUuZ2V0TW9kZWw9ZnVuY3Rpb24odCl7aWYoISh0aGlzLmRhdGFJbmRleDwwKSlyZXR1cm4gdGhpcy5ob3N0R3JhcGguZGF0YS5nZXRJdGVtTW9kZWwodGhpcy5kYXRhSW5kZXgpLmdldE1vZGVsKHQpfSx0LnByb3RvdHlwZS5nZXRBZGphY2VudERhdGFJbmRpY2VzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXtlZGdlOltdLG5vZGU6W119LGU9MDtlPHRoaXMuZWRnZXMubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5lZGdlc1tlXTtuLmRhdGFJbmRleDwwfHwodC5lZGdlLnB1c2gobi5kYXRhSW5kZXgpLHQubm9kZS5wdXNoKG4ubm9kZTEuZGF0YUluZGV4LG4ubm9kZTIuZGF0YUluZGV4KSl9cmV0dXJuIHR9LHR9KCksTEE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLmRhdGFJbmRleD0tMSx0aGlzLm5vZGUxPXQsdGhpcy5ub2RlMj1lLHRoaXMuZGF0YUluZGV4PW51bGw9PW4/LTE6bn1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0TW9kZWw9ZnVuY3Rpb24odCl7aWYoISh0aGlzLmRhdGFJbmRleDwwKSlyZXR1cm4gdGhpcy5ob3N0R3JhcGguZWRnZURhdGEuZ2V0SXRlbU1vZGVsKHRoaXMuZGF0YUluZGV4KS5nZXRNb2RlbCh0KX0sdC5wcm90b3R5cGUuZ2V0QWRqYWNlbnREYXRhSW5kaWNlcz1mdW5jdGlvbigpe3JldHVybntlZGdlOlt0aGlzLmRhdGFJbmRleF0sbm9kZTpbdGhpcy5ub2RlMS5kYXRhSW5kZXgsdGhpcy5ub2RlMi5kYXRhSW5kZXhdfX0sdH0oKTtmdW5jdGlvbiBQQSh0LGUpe3JldHVybntnZXRWYWx1ZTpmdW5jdGlvbihuKXt2YXIgaT10aGlzW3RdW2VdO3JldHVybiBpLmdldFN0b3JlKCkuZ2V0KGkuZ2V0RGltZW5zaW9uSW5kZXgobnx8InZhbHVlIiksdGhpcy5kYXRhSW5kZXgpfSxzZXRWaXN1YWw6ZnVuY3Rpb24obixpKXt0aGlzLmRhdGFJbmRleD49MCYmdGhpc1t0XVtlXS5zZXRJdGVtVmlzdWFsKHRoaXMuZGF0YUluZGV4LG4saSl9LGdldFZpc3VhbDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpc1t0XVtlXS5nZXRJdGVtVmlzdWFsKHRoaXMuZGF0YUluZGV4LG4pfSxzZXRMYXlvdXQ6ZnVuY3Rpb24obixpKXt0aGlzLmRhdGFJbmRleD49MCYmdGhpc1t0XVtlXS5zZXRJdGVtTGF5b3V0KHRoaXMuZGF0YUluZGV4LG4saSl9LGdldExheW91dDpmdW5jdGlvbigpe3JldHVybiB0aGlzW3RdW2VdLmdldEl0ZW1MYXlvdXQodGhpcy5kYXRhSW5kZXgpfSxnZXRHcmFwaGljRWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1t0XVtlXS5nZXRJdGVtR3JhcGhpY0VsKHRoaXMuZGF0YUluZGV4KX0sZ2V0UmF3SW5kZXg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1t0XVtlXS5nZXRSYXdJbmRleCh0aGlzLmRhdGFJbmRleCl9fX1mdW5jdGlvbiBPQSh0LGUsbixpLHIpe2Zvcih2YXIgbz1uZXcgQUEoaSksYT0wO2E8dC5sZW5ndGg7YSsrKW8uYWRkTm9kZShpdCh0W2FdLmlkLHRbYV0ubmFtZSxhKSxhKTt2YXIgcz1bXSxsPVtdLHU9MDtmb3IoYT0wO2E8ZS5sZW5ndGg7YSsrKXt2YXIgaD1lW2FdLGM9aC5zb3VyY2UscD1oLnRhcmdldDtvLmFkZEVkZ2UoYyxwLHUpJiYobC5wdXNoKGgpLHMucHVzaChpdCh4byhoLmlkLG51bGwpLGMrIiA+ICIrcCkpLHUrKyl9dmFyIGQsZj1uLmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpO2lmKCJjYXJ0ZXNpYW4yZCI9PT1mfHwicG9sYXIiPT09ZilkPWl4KHQsbik7ZWxzZXt2YXIgZz1oZC5nZXQoZikseT1nJiZnLmRpbWVuc2lvbnN8fFtdO1AoeSwidmFsdWUiKTwwJiZ5LmNvbmNhdChbInZhbHVlIl0pO3ZhciB2PXFtKHQse2Nvb3JkRGltZW5zaW9uczp5LGVuY29kZURlZmluZTpuLmdldEVuY29kZSgpfSkuZGltZW5zaW9uczsoZD1uZXcgam0odixuKSkuaW5pdERhdGEodCl9dmFyIG09bmV3IGptKFsidmFsdWUiXSxuKTtyZXR1cm4gbS5pbml0RGF0YShsLHMpLHImJnIoZCxtKSx4Qyh7bWFpbkRhdGE6ZCxzdHJ1Y3Q6byxzdHJ1Y3RBdHRyOiJncmFwaCIsZGF0YXM6e25vZGU6ZCxlZGdlOm19LGRhdGFzQXR0cjp7bm9kZToiZGF0YSIsZWRnZToiZWRnZURhdGEifX0pLG8udXBkYXRlKCksb31SKGtBLFBBKCJob3N0R3JhcGgiLCJkYXRhIikpLFIoTEEsUEEoImhvc3RHcmFwaCIsImVkZ2VEYXRhIikpO3ZhciBSQT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uaGFzU3ltYm9sVmlzdWFsPSEwLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBuPXRoaXM7ZnVuY3Rpb24gaSgpe3JldHVybiBuLl9jYXRlZ29yaWVzRGF0YX10aGlzLmxlZ2VuZFZpc3VhbFByb3ZpZGVyPW5ldyB1TShpLGkpLHRoaXMuZmlsbERhdGFUZXh0U3R5bGUoZS5lZGdlc3x8ZS5saW5rcyksdGhpcy5fdXBkYXRlQ2F0ZWdvcmllc0RhdGEoKX0sZS5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUubWVyZ2VPcHRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuZmlsbERhdGFUZXh0U3R5bGUoZS5lZGdlc3x8ZS5saW5rcyksdGhpcy5fdXBkYXRlQ2F0ZWdvcmllc0RhdGEoKX0sZS5wcm90b3R5cGUubWVyZ2VEZWZhdWx0QW5kVGhlbWU9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUubWVyZ2VEZWZhdWx0QW5kVGhlbWUuYXBwbHkodGhpcyxhcmd1bWVudHMpLGNvKGUsImVkZ2VMYWJlbCIsWyJzaG93Il0pfSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBuLGk9dC5lZGdlc3x8dC5saW5rc3x8W10scj10LmRhdGF8fHQubm9kZXN8fFtdLG89dGhpcztpZihyJiZpKXtCRChuPXRoaXMpJiYobi5fX2N1cnZlbmVzc0xpc3Q9W10sbi5fX2VkZ2VNYXA9e30sRkQobikpO3ZhciBhPU9BKHIsaSx0aGlzLCEwLChmdW5jdGlvbih0LGUpe3Qud3JhcE1ldGhvZCgiZ2V0SXRlbU1vZGVsIiwoZnVuY3Rpb24odCl7dmFyIGU9by5fY2F0ZWdvcmllc01vZGVsc1t0LmdldFNoYWxsb3coImNhdGVnb3J5IildO3JldHVybiBlJiYoZS5wYXJlbnRNb2RlbD10LnBhcmVudE1vZGVsLHQucGFyZW50TW9kZWw9ZSksdH0pKTt2YXIgbj1kYy5wcm90b3R5cGUuZ2V0TW9kZWw7ZnVuY3Rpb24gaSh0LGUpe3ZhciBpPW4uY2FsbCh0aGlzLHQsZSk7cmV0dXJuIGkucmVzb2x2ZVBhcmVudFBhdGg9cixpfWZ1bmN0aW9uIHIodCl7aWYodCYmKCJsYWJlbCI9PT10WzBdfHwibGFiZWwiPT09dFsxXSkpe3ZhciBlPXQuc2xpY2UoKTtyZXR1cm4ibGFiZWwiPT09dFswXT9lWzBdPSJlZGdlTGFiZWwiOiJsYWJlbCI9PT10WzFdJiYoZVsxXT0iZWRnZUxhYmVsIiksZX1yZXR1cm4gdH1lLndyYXBNZXRob2QoImdldEl0ZW1Nb2RlbCIsKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlc29sdmVQYXJlbnRQYXRoPXIsdC5nZXRNb2RlbD1pLHR9KSl9KSk7cmV0dXJuIEUoYS5lZGdlcywoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSxuLGkpe2lmKEJEKG4pKXt2YXIgcj1HRCh0LGUsbiksbz1uLl9fZWRnZU1hcCxhPW9bV0QocildO29bcl0mJiFhP29bcl0uaXNGb3J3YXJkPSEwOmEmJm9bcl0mJihhLmlzRm9yd2FyZD0hMCxvW3JdLmlzRm9yd2FyZD0hMSksb1tyXT1vW3JdfHxbXSxvW3JdLnB1c2goaSl9fSh0Lm5vZGUxLHQubm9kZTIsdGhpcyx0LmRhdGFJbmRleCl9KSx0aGlzKSxhLmRhdGF9fSxlLnByb3RvdHlwZS5nZXRHcmFwaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldERhdGEoKS5ncmFwaH0sZS5wcm90b3R5cGUuZ2V0RWRnZURhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRHcmFwaCgpLmVkZ2VEYXRhfSxlLnByb3RvdHlwZS5nZXRDYXRlZ29yaWVzRGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYXRlZ29yaWVzRGF0YX0sZS5wcm90b3R5cGUuZm9ybWF0VG9vbHRpcD1mdW5jdGlvbih0LGUsbil7aWYoImVkZ2UiPT09bil7dmFyIGk9dGhpcy5nZXREYXRhKCkscj10aGlzLmdldERhdGFQYXJhbXModCxuKSxvPWkuZ3JhcGguZ2V0RWRnZUJ5SW5kZXgodCksYT1pLmdldE5hbWUoby5ub2RlMS5kYXRhSW5kZXgpLHM9aS5nZXROYW1lKG8ubm9kZTIuZGF0YUluZGV4KSxsPVtdO3JldHVybiBudWxsIT1hJiZsLnB1c2goYSksbnVsbCE9cyYmbC5wdXNoKHMpLFhmKCJuYW1lVmFsdWUiLHtuYW1lOmwuam9pbigiID4gIiksdmFsdWU6ci52YWx1ZSxub1ZhbHVlOm51bGw9PXIudmFsdWV9KX1yZXR1cm4gcmcoe3Nlcmllczp0aGlzLGRhdGFJbmRleDp0LG11bHRpcGxlU2VyaWVzOmV9KX0sZS5wcm90b3R5cGUuX3VwZGF0ZUNhdGVnb3JpZXNEYXRhPWZ1bmN0aW9uKCl7dmFyIHQ9eih0aGlzLm9wdGlvbi5jYXRlZ29yaWVzfHxbXSwoZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQudmFsdWU/dDpBKHt2YWx1ZTowfSx0KX0pKSxlPW5ldyBqbShbInZhbHVlIl0sdGhpcyk7ZS5pbml0RGF0YSh0KSx0aGlzLl9jYXRlZ29yaWVzRGF0YT1lLHRoaXMuX2NhdGVnb3JpZXNNb2RlbHM9ZS5tYXBBcnJheSgoZnVuY3Rpb24odCl7cmV0dXJuIGUuZ2V0SXRlbU1vZGVsKHQpfSkpfSxlLnByb3RvdHlwZS5zZXRab29tPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLnpvb209dH0sZS5wcm90b3R5cGUuc2V0Q2VudGVyPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLmNlbnRlcj10fSxlLnByb3RvdHlwZS5pc0FuaW1hdGlvbkVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdC5wcm90b3R5cGUuaXNBbmltYXRpb25FbmFibGVkLmNhbGwodGhpcykmJiEoImZvcmNlIj09PXRoaXMuZ2V0KCJsYXlvdXQiKSYmdGhpcy5nZXQoWyJmb3JjZSIsImxheW91dEFuaW1hdGlvbiJdKSl9LGUudHlwZT0ic2VyaWVzLmdyYXBoIixlLmRlcGVuZGVuY2llcz1bImdyaWQiLCJwb2xhciIsImdlbyIsInNpbmdsZUF4aXMiLCJjYWxlbmRhciJdLGUuZGVmYXVsdE9wdGlvbj17ejoyLGNvb3JkaW5hdGVTeXN0ZW06InZpZXciLGxlZ2VuZEhvdmVyTGluazohMCxsYXlvdXQ6bnVsbCxjaXJjdWxhcjp7cm90YXRlTGFiZWw6ITF9LGZvcmNlOntpbml0TGF5b3V0Om51bGwscmVwdWxzaW9uOlswLDUwXSxncmF2aXR5Oi4xLGZyaWN0aW9uOi42LGVkZ2VMZW5ndGg6MzAsbGF5b3V0QW5pbWF0aW9uOiEwfSxsZWZ0OiJjZW50ZXIiLHRvcDoiY2VudGVyIixzeW1ib2w6ImNpcmNsZSIsc3ltYm9sU2l6ZToxMCxlZGdlU3ltYm9sOlsibm9uZSIsIm5vbmUiXSxlZGdlU3ltYm9sU2l6ZToxMCxlZGdlTGFiZWw6e3Bvc2l0aW9uOiJtaWRkbGUiLGRpc3RhbmNlOjV9LGRyYWdnYWJsZTohMSxyb2FtOiExLGNlbnRlcjpudWxsLHpvb206MSxub2RlU2NhbGVSYXRpbzouNixsYWJlbDp7c2hvdzohMSxmb3JtYXR0ZXI6IntifSJ9LGl0ZW1TdHlsZTp7fSxsaW5lU3R5bGU6e2NvbG9yOiIjYWFhIix3aWR0aDoxLG9wYWNpdHk6LjV9LGVtcGhhc2lzOntzY2FsZTohMCxsYWJlbDp7c2hvdzohMH19LHNlbGVjdDp7aXRlbVN0eWxlOntib3JkZXJDb2xvcjoiIzIxMjEyMSJ9fX0sZX0oc2cpLE5BPXt0eXBlOiJncmFwaFJvYW0iLGV2ZW50OiJncmFwaFJvYW0iLHVwZGF0ZToibm9uZSJ9O3ZhciBFQT1mdW5jdGlvbigpe3RoaXMuYW5nbGU9MCx0aGlzLndpZHRoPTEwLHRoaXMucj0xMCx0aGlzLng9MCx0aGlzLnk9MH0sekE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi50eXBlPSJwb2ludGVyIixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBFQX0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG49TWF0aC5jb3MsaT1NYXRoLnNpbixyPWUucixvPWUud2lkdGgsYT1lLmFuZ2xlLHM9ZS54LW4oYSkqbyoobz49ci8zPzE6MiksbD1lLnktaShhKSpvKihvPj1yLzM/MToyKTthPWUuYW5nbGUtTWF0aC5QSS8yLHQubW92ZVRvKHMsbCksdC5saW5lVG8oZS54K24oYSkqbyxlLnkraShhKSpvKSx0LmxpbmVUbyhlLngrbihlLmFuZ2xlKSpyLGUueStpKGUuYW5nbGUpKnIpLHQubGluZVRvKGUueC1uKGEpKm8sZS55LWkoYSkqbyksdC5saW5lVG8ocyxsKX0sZX0oZ3MpO2Z1bmN0aW9uIFZBKHQsZSl7dmFyIG49bnVsbD09dD8iIjp0KyIiO3JldHVybiBlJiYoWChlKT9uPWUucmVwbGFjZSgie3ZhbHVlfSIsbik6VShlKSYmKG49ZSh0KSkpLG59dmFyIEJBPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dGhpcy5ncm91cC5yZW1vdmVBbGwoKTt2YXIgaT10LmdldChbImF4aXNMaW5lIiwibGluZVN0eWxlIiwiY29sb3IiXSkscj1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0KCJjZW50ZXIiKSxpPWUuZ2V0V2lkdGgoKSxyPWUuZ2V0SGVpZ2h0KCksbz1NYXRoLm1pbihpLHIpO3JldHVybntjeDpFcihuWzBdLGUuZ2V0V2lkdGgoKSksY3k6RXIoblsxXSxlLmdldEhlaWdodCgpKSxyOkVyKHQuZ2V0KCJyYWRpdXMiKSxvLzIpfX0odCxuKTt0aGlzLl9yZW5kZXJNYWluKHQsZSxuLGksciksdGhpcy5fZGF0YT10LmdldERhdGEoKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuX3JlbmRlck1haW49ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz10aGlzLmdyb3VwLGE9dC5nZXQoImNsb2Nrd2lzZSIpLHM9LXQuZ2V0KCJzdGFydEFuZ2xlIikvMTgwKk1hdGguUEksbD0tdC5nZXQoImVuZEFuZ2xlIikvMTgwKk1hdGguUEksdT10LmdldE1vZGVsKCJheGlzTGluZSIpLGg9dS5nZXQoInJvdW5kQ2FwIik/Q1M6Q3UsYz11LmdldCgic2hvdyIpLHA9dS5nZXRNb2RlbCgibGluZVN0eWxlIiksZD1wLmdldCgid2lkdGgiKSxmPVtzLGxdO2phKGYsIWEpO2Zvcih2YXIgZz0obD1mWzFdKS0ocz1mWzBdKSx5PXMsdj0wO2MmJnY8aS5sZW5ndGg7disrKXt2YXIgbT1uZXcgaCh7c2hhcGU6e3N0YXJ0QW5nbGU6eSxlbmRBbmdsZTpsPXMrZypNYXRoLm1pbihNYXRoLm1heChpW3ZdWzBdLDApLDEpLGN4OnIuY3gsY3k6ci5jeSxjbG9ja3dpc2U6YSxyMDpyLnItZCxyOnIucn0sc2lsZW50OiEwfSk7bS5zZXRTdHlsZSh7ZmlsbDppW3ZdWzFdfSksbS5zZXRTdHlsZShwLmdldExpbmVTdHlsZShbImNvbG9yIiwid2lkdGgiXSkpLG8uYWRkKG0pLHk9bH12YXIgeD1mdW5jdGlvbih0KXtpZih0PD0wKXJldHVybiBpWzBdWzFdO3ZhciBlO2ZvcihlPTA7ZTxpLmxlbmd0aDtlKyspaWYoaVtlXVswXT49dCYmKDA9PT1lPzA6aVtlLTFdWzBdKTx0KXJldHVybiBpW2VdWzFdO3JldHVybiBpW2UtMV1bMV19O3RoaXMuX3JlbmRlclRpY2tzKHQsZSxuLHgscixzLGwsYSxkKSx0aGlzLl9yZW5kZXJUaXRsZUFuZERldGFpbCh0LGUsbix4LHIpLHRoaXMuX3JlbmRlckFuY2hvcih0LHIpLHRoaXMuX3JlbmRlclBvaW50ZXIodCxlLG4seCxyLHMsbCxhLGQpfSxlLnByb3RvdHlwZS5fcmVuZGVyVGlja3M9ZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzLGwpe2Zvcih2YXIgdSxoLGM9dGhpcy5ncm91cCxwPXIuY3gsZD1yLmN5LGY9ci5yLGc9K3QuZ2V0KCJtaW4iKSx5PSt0LmdldCgibWF4Iiksdj10LmdldE1vZGVsKCJzcGxpdExpbmUiKSxtPXQuZ2V0TW9kZWwoImF4aXNUaWNrIikseD10LmdldE1vZGVsKCJheGlzTGFiZWwiKSxfPXQuZ2V0KCJzcGxpdE51bWJlciIpLGI9bS5nZXQoInNwbGl0TnVtYmVyIiksdz1Fcih2LmdldCgibGVuZ3RoIiksZiksUz1FcihtLmdldCgibGVuZ3RoIiksZiksTT1vLEk9KGEtbykvXyxUPUkvYixDPXYuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLEQ9bS5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCksQT12LmdldCgiZGlzdGFuY2UiKSxrPTA7azw9XztrKyspe2lmKHU9TWF0aC5jb3MoTSksaD1NYXRoLnNpbihNKSx2LmdldCgic2hvdyIpKXt2YXIgTD1uZXcgenUoe3NoYXBlOnt4MTp1KihmLShQPUE/QStsOmwpKStwLHkxOmgqKGYtUCkrZCx4Mjp1KihmLXctUCkrcCx5MjpoKihmLXctUCkrZH0sc3R5bGU6QyxzaWxlbnQ6ITB9KTsiYXV0byI9PT1DLnN0cm9rZSYmTC5zZXRTdHlsZSh7c3Ryb2tlOmkoay9fKX0pLGMuYWRkKEwpfWlmKHguZ2V0KCJzaG93Iikpe3ZhciBQPXguZ2V0KCJkaXN0YW5jZSIpK0EsTz1WQSh6cihrL18qKHktZykrZykseC5nZXQoImZvcm1hdHRlciIpKSxSPWkoay9fKTtjLmFkZChuZXcga3Moe3N0eWxlOlVoKHgse3RleHQ6Tyx4OnUqKGYtdy1QKStwLHk6aCooZi13LVApK2QsdmVydGljYWxBbGlnbjpoPC0uOD8idG9wIjpoPi44PyJib3R0b20iOiJtaWRkbGUiLGFsaWduOnU8LS40PyJsZWZ0Ijp1Pi40PyJyaWdodCI6ImNlbnRlciJ9LHtpbmhlcml0Q29sb3I6Un0pLHNpbGVudDohMH0pKX1pZihtLmdldCgic2hvdyIpJiZrIT09Xyl7UD0oUD1tLmdldCgiZGlzdGFuY2UiKSk/UCtsOmw7Zm9yKHZhciBOPTA7Tjw9YjtOKyspe3U9TWF0aC5jb3MoTSksaD1NYXRoLnNpbihNKTt2YXIgRT1uZXcgenUoe3NoYXBlOnt4MTp1KihmLVApK3AseTE6aCooZi1QKStkLHgyOnUqKGYtUy1QKStwLHkyOmgqKGYtUy1QKStkfSxzaWxlbnQ6ITAsc3R5bGU6RH0pOyJhdXRvIj09PUQuc3Ryb2tlJiZFLnNldFN0eWxlKHtzdHJva2U6aSgoaytOL2IpL18pfSksYy5hZGQoRSksTSs9VH1NLT1UfWVsc2UgTSs9SX19LGUucHJvdG90eXBlLl9yZW5kZXJQb2ludGVyPWZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyxsKXt2YXIgdT10aGlzLmdyb3VwLGg9dGhpcy5fZGF0YSxjPXRoaXMuX3Byb2dyZXNzRWxzLHA9W10sZD10LmdldChbInBvaW50ZXIiLCJzaG93Il0pLGY9dC5nZXRNb2RlbCgicHJvZ3Jlc3MiKSxnPWYuZ2V0KCJzaG93IikseT10LmdldERhdGEoKSx2PXkubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLG09K3QuZ2V0KCJtaW4iKSx4PSt0LmdldCgibWF4IiksXz1bbSx4XSxiPVtvLGFdO2Z1bmN0aW9uIHcoZSxuKXt2YXIgaSxvPXkuZ2V0SXRlbU1vZGVsKGUpLmdldE1vZGVsKCJwb2ludGVyIiksYT1FcihvLmdldCgid2lkdGgiKSxyLnIpLHM9RXIoby5nZXQoImxlbmd0aCIpLHIuciksbD10LmdldChbInBvaW50ZXIiLCJpY29uIl0pLHU9by5nZXQoIm9mZnNldENlbnRlciIpLGg9RXIodVswXSxyLnIpLGM9RXIodVsxXSxyLnIpLHA9by5nZXQoImtlZXBBc3BlY3QiKTtyZXR1cm4oaT1sP0x5KGwsaC1hLzIsYy1zLGEscyxudWxsLHApOm5ldyB6QSh7c2hhcGU6e2FuZ2xlOi1NYXRoLlBJLzIsd2lkdGg6YSxyOnMseDpoLHk6Y319KSkucm90YXRpb249LShuK01hdGguUEkvMiksaS54PXIuY3gsaS55PXIuY3ksaX1mdW5jdGlvbiBTKHQsZSl7dmFyIG49Zi5nZXQoInJvdW5kQ2FwIik/Q1M6Q3UsaT1mLmdldCgib3ZlcmxhcCIpLGE9aT9mLmdldCgid2lkdGgiKTpsL3kuY291bnQoKSx1PWk/ci5yLWE6ci5yLSh0KzEpKmEsaD1pP3IucjpyLnItdCphLGM9bmV3IG4oe3NoYXBlOntzdGFydEFuZ2xlOm8sZW5kQW5nbGU6ZSxjeDpyLmN4LGN5OnIuY3ksY2xvY2t3aXNlOnMscjA6dSxyOmh9fSk7cmV0dXJuIGkmJihjLnoyPXgteS5nZXQodix0KSV4KSxjfShnfHxkKSYmKHkuZGlmZihoKS5hZGQoKGZ1bmN0aW9uKGUpe3ZhciBuPXkuZ2V0KHYsZSk7aWYoZCl7dmFyIGk9dyhlLG8pO29oKGkse3JvdGF0aW9uOi0oKGlzTmFOKCtuKT9iWzBdOk5yKG4sXyxiLCEwKSkrTWF0aC5QSS8yKX0sdCksdS5hZGQoaSkseS5zZXRJdGVtR3JhcGhpY0VsKGUsaSl9aWYoZyl7dmFyIHI9UyhlLG8pLGE9Zi5nZXQoImNsaXAiKTtvaChyLHtzaGFwZTp7ZW5kQW5nbGU6TnIobixfLGIsYSl9fSx0KSx1LmFkZChyKSxZcyh0LnNlcmllc0luZGV4LHkuZGF0YVR5cGUsZSxyKSxwW2VdPXJ9fSkpLnVwZGF0ZSgoZnVuY3Rpb24oZSxuKXt2YXIgaT15LmdldCh2LGUpO2lmKGQpe3ZhciByPWguZ2V0SXRlbUdyYXBoaWNFbChuKSxhPXI/ci5yb3RhdGlvbjpvLHM9dyhlLGEpO3Mucm90YXRpb249YSxyaChzLHtyb3RhdGlvbjotKChpc05hTigraSk/YlswXTpOcihpLF8sYiwhMCkpK01hdGguUEkvMil9LHQpLHUuYWRkKHMpLHkuc2V0SXRlbUdyYXBoaWNFbChlLHMpfWlmKGcpe3ZhciBsPWNbbl0sbT1TKGUsbD9sLnNoYXBlLmVuZEFuZ2xlOm8pLHg9Zi5nZXQoImNsaXAiKTtyaChtLHtzaGFwZTp7ZW5kQW5nbGU6TnIoaSxfLGIseCl9fSx0KSx1LmFkZChtKSxZcyh0LnNlcmllc0luZGV4LHkuZGF0YVR5cGUsZSxtKSxwW2VdPW19fSkpLmV4ZWN1dGUoKSx5LmVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPXkuZ2V0SXRlbU1vZGVsKHQpLG49ZS5nZXRNb2RlbCgiZW1waGFzaXMiKSxyPW4uZ2V0KCJmb2N1cyIpLG89bi5nZXQoImJsdXJTY29wZSIpLGE9bi5nZXQoImRpc2FibGVkIik7aWYoZCl7dmFyIHM9eS5nZXRJdGVtR3JhcGhpY0VsKHQpLGw9eS5nZXRJdGVtVmlzdWFsKHQsInN0eWxlIiksdT1sLmZpbGw7aWYocyBpbnN0YW5jZW9mIF9zKXt2YXIgaD1zLnN0eWxlO3MudXNlU3R5bGUoQSh7aW1hZ2U6aC5pbWFnZSx4OmgueCx5OmgueSx3aWR0aDpoLndpZHRoLGhlaWdodDpoLmhlaWdodH0sbCkpfWVsc2Ugcy51c2VTdHlsZShsKSwicG9pbnRlciIhPT1zLnR5cGUmJnMuc2V0Q29sb3IodSk7cy5zZXRTdHlsZShlLmdldE1vZGVsKFsicG9pbnRlciIsIml0ZW1TdHlsZSJdKS5nZXRJdGVtU3R5bGUoKSksImF1dG8iPT09cy5zdHlsZS5maWxsJiZzLnNldFN0eWxlKCJmaWxsIixpKE5yKHkuZ2V0KHYsdCksXyxbMCwxXSwhMCkpKSxzLnoyRW1waGFzaXNMaWZ0PTAsVmwocyxlKSxSbChzLHIsbyxhKX1pZihnKXt2YXIgYz1wW3RdO2MudXNlU3R5bGUoeS5nZXRJdGVtVmlzdWFsKHQsInN0eWxlIikpLGMuc2V0U3R5bGUoZS5nZXRNb2RlbChbInByb2dyZXNzIiwiaXRlbVN0eWxlIl0pLmdldEl0ZW1TdHlsZSgpKSxjLnoyRW1waGFzaXNMaWZ0PTAsVmwoYyxlKSxSbChjLHIsbyxhKX19KSksdGhpcy5fcHJvZ3Jlc3NFbHM9cCl9LGUucHJvdG90eXBlLl9yZW5kZXJBbmNob3I9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldE1vZGVsKCJhbmNob3IiKTtpZihuLmdldCgic2hvdyIpKXt2YXIgaT1uLmdldCgic2l6ZSIpLHI9bi5nZXQoImljb24iKSxvPW4uZ2V0KCJvZmZzZXRDZW50ZXIiKSxhPW4uZ2V0KCJrZWVwQXNwZWN0Iikscz1MeShyLGUuY3gtaS8yK0VyKG9bMF0sZS5yKSxlLmN5LWkvMitFcihvWzFdLGUuciksaSxpLG51bGwsYSk7cy56Mj1uLmdldCgic2hvd0Fib3ZlIik/MTowLHMuc2V0U3R5bGUobi5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCkpLHRoaXMuZ3JvdXAuYWRkKHMpfX0sZS5wcm90b3R5cGUuX3JlbmRlclRpdGxlQW5kRGV0YWlsPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89dGhpcyxhPXQuZ2V0RGF0YSgpLHM9YS5tYXBEaW1lbnNpb24oInZhbHVlIiksbD0rdC5nZXQoIm1pbiIpLHU9K3QuZ2V0KCJtYXgiKSxoPW5ldyBDcixjPVtdLHA9W10sZD10LmlzQW5pbWF0aW9uRW5hYmxlZCgpLGY9dC5nZXQoWyJwb2ludGVyIiwic2hvd0Fib3ZlIl0pO2EuZGlmZih0aGlzLl9kYXRhKS5hZGQoKGZ1bmN0aW9uKHQpe2NbdF09bmV3IGtzKHtzaWxlbnQ6ITB9KSxwW3RdPW5ldyBrcyh7c2lsZW50OiEwfSl9KSkudXBkYXRlKChmdW5jdGlvbih0LGUpe2NbdF09by5fdGl0bGVFbHNbZV0scFt0XT1vLl9kZXRhaWxFbHNbZV19KSkuZXhlY3V0ZSgpLGEuZWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49YS5nZXRJdGVtTW9kZWwoZSksbz1hLmdldChzLGUpLGc9bmV3IENyLHk9aShOcihvLFtsLHVdLFswLDFdLCEwKSksdj1uLmdldE1vZGVsKCJ0aXRsZSIpO2lmKHYuZ2V0KCJzaG93Iikpe3ZhciBtPXYuZ2V0KCJvZmZzZXRDZW50ZXIiKSx4PXIuY3grRXIobVswXSxyLnIpLF89ci5jeStFcihtWzFdLHIucik7KEQ9Y1tlXSkuYXR0cih7ejI6Zj8wOjIsc3R5bGU6VWgodix7eDp4LHk6Xyx0ZXh0OmEuZ2V0TmFtZShlKSxhbGlnbjoiY2VudGVyIix2ZXJ0aWNhbEFsaWduOiJtaWRkbGUifSx7aW5oZXJpdENvbG9yOnl9KX0pLGcuYWRkKEQpfXZhciBiPW4uZ2V0TW9kZWwoImRldGFpbCIpO2lmKGIuZ2V0KCJzaG93Iikpe3ZhciB3PWIuZ2V0KCJvZmZzZXRDZW50ZXIiKSxTPXIuY3grRXIod1swXSxyLnIpLE09ci5jeStFcih3WzFdLHIuciksST1FcihiLmdldCgid2lkdGgiKSxyLnIpLFQ9RXIoYi5nZXQoImhlaWdodCIpLHIuciksQz10LmdldChbInByb2dyZXNzIiwic2hvdyJdKT9hLmdldEl0ZW1WaXN1YWwoZSwic3R5bGUiKS5maWxsOnksRD1wW2VdLEE9Yi5nZXQoImZvcm1hdHRlciIpO0QuYXR0cih7ejI6Zj8wOjIsc3R5bGU6VWgoYix7eDpTLHk6TSx0ZXh0OlZBKG8sQSksd2lkdGg6aXNOYU4oSSk/bnVsbDpJLGhlaWdodDppc05hTihUKT9udWxsOlQsYWxpZ246ImNlbnRlciIsdmVydGljYWxBbGlnbjoibWlkZGxlIn0se2luaGVyaXRDb2xvcjpDfSl9KSxRaChELHtub3JtYWw6Yn0sbywoZnVuY3Rpb24odCl7cmV0dXJuIFZBKHQsQSl9KSksZCYmdGMoRCxlLGEsdCx7Z2V0Rm9ybWF0dGVkTGFiZWw6ZnVuY3Rpb24odCxlLG4saSxyLGEpe3JldHVybiBWQShhP2EuaW50ZXJwb2xhdGVkVmFsdWU6byxBKX19KSxnLmFkZChEKX1oLmFkZChnKX0pKSx0aGlzLmdyb3VwLmFkZChoKSx0aGlzLl90aXRsZUVscz1jLHRoaXMuX2RldGFpbEVscz1wfSxlLnR5cGU9ImdhdWdlIixlfSh4ZyksRkE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLnZpc3VhbFN0eWxlQWNjZXNzUGF0aD0iaXRlbVN0eWxlIixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbE0odGhpcyxbInZhbHVlIl0pfSxlLnR5cGU9InNlcmllcy5nYXVnZSIsZS5kZWZhdWx0T3B0aW9uPXt6OjIsY29sb3JCeToiZGF0YSIsY2VudGVyOlsiNTAlIiwiNTAlIl0sbGVnZW5kSG92ZXJMaW5rOiEwLHJhZGl1czoiNzUlIixzdGFydEFuZ2xlOjIyNSxlbmRBbmdsZTotNDUsY2xvY2t3aXNlOiEwLG1pbjowLG1heDoxMDAsc3BsaXROdW1iZXI6MTAsYXhpc0xpbmU6e3Nob3c6ITAscm91bmRDYXA6ITEsbGluZVN0eWxlOntjb2xvcjpbWzEsIiNFNkVCRjgiXV0sd2lkdGg6MTB9fSxwcm9ncmVzczp7c2hvdzohMSxvdmVybGFwOiEwLHdpZHRoOjEwLHJvdW5kQ2FwOiExLGNsaXA6ITB9LHNwbGl0TGluZTp7c2hvdzohMCxsZW5ndGg6MTAsZGlzdGFuY2U6MTAsbGluZVN0eWxlOntjb2xvcjoiIzYzNjc3QSIsd2lkdGg6Myx0eXBlOiJzb2xpZCJ9fSxheGlzVGljazp7c2hvdzohMCxzcGxpdE51bWJlcjo1LGxlbmd0aDo2LGRpc3RhbmNlOjEwLGxpbmVTdHlsZTp7Y29sb3I6IiM2MzY3N0EiLHdpZHRoOjEsdHlwZToic29saWQifX0sYXhpc0xhYmVsOntzaG93OiEwLGRpc3RhbmNlOjE1LGNvbG9yOiIjNDY0NjQ2Iixmb250U2l6ZToxMn0scG9pbnRlcjp7aWNvbjpudWxsLG9mZnNldENlbnRlcjpbMCwwXSxzaG93OiEwLHNob3dBYm92ZTohMCxsZW5ndGg6IjYwJSIsd2lkdGg6NixrZWVwQXNwZWN0OiExfSxhbmNob3I6e3Nob3c6ITEsc2hvd0Fib3ZlOiExLHNpemU6NixpY29uOiJjaXJjbGUiLG9mZnNldENlbnRlcjpbMCwwXSxrZWVwQXNwZWN0OiExLGl0ZW1TdHlsZTp7Y29sb3I6IiNmZmYiLGJvcmRlcldpZHRoOjAsYm9yZGVyQ29sb3I6IiM1NDcwYzYifX0sdGl0bGU6e3Nob3c6ITAsb2Zmc2V0Q2VudGVyOlswLCIyMCUiXSxjb2xvcjoiIzQ2NDY0NiIsZm9udFNpemU6MTYsdmFsdWVBbmltYXRpb246ITF9LGRldGFpbDp7c2hvdzohMCxiYWNrZ3JvdW5kQ29sb3I6InJnYmEoMCwwLDAsMCkiLGJvcmRlcldpZHRoOjAsYm9yZGVyQ29sb3I6IiNjY2MiLHdpZHRoOjEwMCxoZWlnaHQ6bnVsbCxwYWRkaW5nOls1LDEwXSxvZmZzZXRDZW50ZXI6WzAsIjQwJSJdLGNvbG9yOiIjNDY0NjQ2Iixmb250U2l6ZTozMCxmb250V2VpZ2h0OiJib2xkIixsaW5lSGVpZ2h0OjMwLHZhbHVlQW5pbWF0aW9uOiExfX0sZX0oc2cpO3ZhciBHQT1bIml0ZW1TdHlsZSIsIm9wYWNpdHkiXSxXQT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzLHI9aSxvPW5ldyBSdSxhPW5ldyBrcztyZXR1cm4gci5zZXRUZXh0Q29udGVudChhKSxpLnNldFRleHRHdWlkZUxpbmUobyksaS51cGRhdGVEYXRhKGUsbiwhMCksaX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMscj10Lmhvc3RNb2RlbCxvPXQuZ2V0SXRlbU1vZGVsKGUpLGE9dC5nZXRJdGVtTGF5b3V0KGUpLHM9by5nZXRNb2RlbCgiZW1waGFzaXMiKSxsPW8uZ2V0KEdBKTtsPW51bGw9PWw/MTpsLG58fGhoKGkpLGkudXNlU3R5bGUodC5nZXRJdGVtVmlzdWFsKGUsInN0eWxlIikpLGkuc3R5bGUubGluZUpvaW49InJvdW5kIixuPyhpLnNldFNoYXBlKHtwb2ludHM6YS5wb2ludHN9KSxpLnN0eWxlLm9wYWNpdHk9MCxvaChpLHtzdHlsZTp7b3BhY2l0eTpsfX0scixlKSk6cmgoaSx7c3R5bGU6e29wYWNpdHk6bH0sc2hhcGU6e3BvaW50czphLnBvaW50c319LHIsZSksVmwoaSxvKSx0aGlzLl91cGRhdGVMYWJlbCh0LGUpLFJsKHRoaXMscy5nZXQoImZvY3VzIikscy5nZXQoImJsdXJTY29wZSIpLHMuZ2V0KCJkaXNhYmxlZCIpKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUxhYmVsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxpPXRoaXMuZ2V0VGV4dEd1aWRlTGluZSgpLHI9bi5nZXRUZXh0Q29udGVudCgpLG89dC5ob3N0TW9kZWwsYT10LmdldEl0ZW1Nb2RlbChlKSxzPXQuZ2V0SXRlbUxheW91dChlKS5sYWJlbCxsPXQuZ2V0SXRlbVZpc3VhbChlLCJzdHlsZSIpLHU9bC5maWxsO0hoKHIsWWgoYSkse2xhYmVsRmV0Y2hlcjp0Lmhvc3RNb2RlbCxsYWJlbERhdGFJbmRleDplLGRlZmF1bHRPcGFjaXR5Omwub3BhY2l0eSxkZWZhdWx0VGV4dDp0LmdldE5hbWUoZSl9LHtub3JtYWw6e2FsaWduOnMudGV4dEFsaWduLHZlcnRpY2FsQWxpZ246cy52ZXJ0aWNhbEFsaWdufX0pLG4uc2V0VGV4dENvbmZpZyh7bG9jYWw6ITAsaW5zaWRlOiEhcy5pbnNpZGUsaW5zaWRlU3Ryb2tlOnUsb3V0c2lkZUZpbGw6dX0pO3ZhciBoPXMubGluZVBvaW50cztpLnNldFNoYXBlKHtwb2ludHM6aH0pLG4udGV4dEd1aWRlTGluZUNvbmZpZz17YW5jaG9yOmg/bmV3IEppKGhbMF1bMF0saFswXVsxXSk6bnVsbH0scmgocix7c3R5bGU6e3g6cy54LHk6cy55fX0sbyxlKSxyLmF0dHIoe3JvdGF0aW9uOnMucm90YXRpb24sb3JpZ2luWDpzLngsb3JpZ2luWTpzLnksejI6MTB9KSxwYihuLGRiKGEpLHtzdHJva2U6dX0pfSxlfShQdSksSEE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmlnbm9yZUxhYmVsTGluZVVwZGF0ZT0hMCxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldERhdGEoKSxyPXRoaXMuX2RhdGEsbz10aGlzLmdyb3VwO2kuZGlmZihyKS5hZGQoKGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBXQShpLHQpO2kuc2V0SXRlbUdyYXBoaWNFbCh0LGUpLG8uYWRkKGUpfSkpLnVwZGF0ZSgoZnVuY3Rpb24odCxlKXt2YXIgbj1yLmdldEl0ZW1HcmFwaGljRWwoZSk7bi51cGRhdGVEYXRhKGksdCksby5hZGQobiksaS5zZXRJdGVtR3JhcGhpY0VsKHQsbil9KSkucmVtb3ZlKChmdW5jdGlvbihlKXt1aChyLmdldEl0ZW1HcmFwaGljRWwoZSksdCxlKX0pKS5leGVjdXRlKCksdGhpcy5fZGF0YT1pfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2RhdGE9bnVsbH0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe30sZS50eXBlPSJmdW5uZWwiLGV9KHhnKSxZQT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMubGVnZW5kVmlzdWFsUHJvdmlkZXI9bmV3IHVNKFcodGhpcy5nZXREYXRhLHRoaXMpLFcodGhpcy5nZXRSYXdEYXRhLHRoaXMpKSx0aGlzLl9kZWZhdWx0TGFiZWxMaW5lKGUpfSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiBsTSh0aGlzLHtjb29yZERpbWVuc2lvbnM6WyJ2YWx1ZSJdLGVuY29kZURlZmF1bHRlcjpIKFlwLHRoaXMpfSl9LGUucHJvdG90eXBlLl9kZWZhdWx0TGFiZWxMaW5lPWZ1bmN0aW9uKHQpe2NvKHQsImxhYmVsTGluZSIsWyJzaG93Il0pO3ZhciBlPXQubGFiZWxMaW5lLG49dC5lbXBoYXNpcy5sYWJlbExpbmU7ZS5zaG93PWUuc2hvdyYmdC5sYWJlbC5zaG93LG4uc2hvdz1uLnNob3cmJnQuZW1waGFzaXMubGFiZWwuc2hvd30sZS5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcz1mdW5jdGlvbihlKXt2YXIgbj10aGlzLmdldERhdGEoKSxpPXQucHJvdG90eXBlLmdldERhdGFQYXJhbXMuY2FsbCh0aGlzLGUpLHI9bi5tYXBEaW1lbnNpb24oInZhbHVlIiksbz1uLmdldFN1bShyKTtyZXR1cm4gaS5wZXJjZW50PW8/KyhuLmdldChyLGUpL28qMTAwKS50b0ZpeGVkKDIpOjAsaS4kdmFycy5wdXNoKCJwZXJjZW50IiksaX0sZS50eXBlPSJzZXJpZXMuZnVubmVsIixlLmRlZmF1bHRPcHRpb249e3o6MixsZWdlbmRIb3Zlckxpbms6ITAsY29sb3JCeToiZGF0YSIsbGVmdDo4MCx0b3A6NjAscmlnaHQ6ODAsYm90dG9tOjYwLG1pblNpemU6IjAlIixtYXhTaXplOiIxMDAlIixzb3J0OiJkZXNjZW5kaW5nIixvcmllbnQ6InZlcnRpY2FsIixnYXA6MCxmdW5uZWxBbGlnbjoiY2VudGVyIixsYWJlbDp7c2hvdzohMCxwb3NpdGlvbjoib3V0ZXIifSxsYWJlbExpbmU6e3Nob3c6ITAsbGVuZ3RoOjIwLGxpbmVTdHlsZTp7d2lkdGg6MX19LGl0ZW1TdHlsZTp7Ym9yZGVyQ29sb3I6IiNmZmYiLGJvcmRlcldpZHRoOjF9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMH19LHNlbGVjdDp7aXRlbVN0eWxlOntib3JkZXJDb2xvcjoiIzIxMjEyMSJ9fX0sZX0oc2cpO2Z1bmN0aW9uIFVBKHQsZSl7dC5lYWNoU2VyaWVzQnlUeXBlKCJmdW5uZWwiLChmdW5jdGlvbih0KXt2YXIgbj10LmdldERhdGEoKSxpPW4ubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLHI9dC5nZXQoInNvcnQiKSxvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHhwKHQuZ2V0Qm94TGF5b3V0UGFyYW1zKCkse3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0pfSh0LGUpLGE9dC5nZXQoIm9yaWVudCIpLHM9by53aWR0aCxsPW8uaGVpZ2h0LHU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC5tYXBEaW1lbnNpb24oInZhbHVlIiksaT10Lm1hcEFycmF5KG4sKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpLHI9W10sbz0iYXNjZW5kaW5nIj09PWUsYT0wLHM9dC5jb3VudCgpO2E8czthKyspclthXT1hO3JldHVybiBVKGUpP3Iuc29ydChlKToibm9uZSIhPT1lJiZyLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG8/aVt0XS1pW2VdOmlbZV0taVt0XX0pKSxyfShuLHIpLGg9by54LGM9by55LHA9Imhvcml6b250YWwiPT09YT9bRXIodC5nZXQoIm1pblNpemUiKSxsKSxFcih0LmdldCgibWF4U2l6ZSIpLGwpXTpbRXIodC5nZXQoIm1pblNpemUiKSxzKSxFcih0LmdldCgibWF4U2l6ZSIpLHMpXSxkPW4uZ2V0RGF0YUV4dGVudChpKSxmPXQuZ2V0KCJtaW4iKSxnPXQuZ2V0KCJtYXgiKTtudWxsPT1mJiYoZj1NYXRoLm1pbihkWzBdLDApKSxudWxsPT1nJiYoZz1kWzFdKTt2YXIgeT10LmdldCgiZnVubmVsQWxpZ24iKSx2PXQuZ2V0KCJnYXAiKSxtPSgoImhvcml6b250YWwiPT09YT9zOmwpLXYqKG4uY291bnQoKS0xKSkvbi5jb3VudCgpLHg9ZnVuY3Rpb24odCxlKXtpZigiaG9yaXpvbnRhbCI9PT1hKXt2YXIgcj1OcihuLmdldChpLHQpfHwwLFtmLGddLHAsITApLG89dm9pZCAwO3N3aXRjaCh5KXtjYXNlInRvcCI6bz1jO2JyZWFrO2Nhc2UiY2VudGVyIjpvPWMrKGwtcikvMjticmVhaztjYXNlImJvdHRvbSI6bz1jKyhsLXIpfXJldHVybltbZSxvXSxbZSxvK3JdXX12YXIgdSxkPU5yKG4uZ2V0KGksdCl8fDAsW2YsZ10scCwhMCk7c3dpdGNoKHkpe2Nhc2UibGVmdCI6dT1oO2JyZWFrO2Nhc2UiY2VudGVyIjp1PWgrKHMtZCkvMjticmVhaztjYXNlInJpZ2h0Ijp1PWgrcy1kfXJldHVybltbdSxlXSxbdStkLGVdXX07ImFzY2VuZGluZyI9PT1yJiYobT0tbSx2PS12LCJob3Jpem9udGFsIj09PWE/aCs9czpjKz1sLHU9dS5yZXZlcnNlKCkpO2Zvcih2YXIgXz0wO188dS5sZW5ndGg7XysrKXt2YXIgYj11W19dLHc9dVtfKzFdLFM9bi5nZXRJdGVtTW9kZWwoYik7aWYoImhvcml6b250YWwiPT09YSl7dmFyIE09Uy5nZXQoWyJpdGVtU3R5bGUiLCJ3aWR0aCJdKTtudWxsPT1NP009bTooTT1FcihNLHMpLCJhc2NlbmRpbmciPT09ciYmKE09LU0pKTt2YXIgST14KGIsaCksVD14KHcsaCtNKTtoKz1NK3Ysbi5zZXRJdGVtTGF5b3V0KGIse3BvaW50czpJLmNvbmNhdChULnNsaWNlKCkucmV2ZXJzZSgpKX0pfWVsc2V7dmFyIEM9Uy5nZXQoWyJpdGVtU3R5bGUiLCJoZWlnaHQiXSk7bnVsbD09Qz9DPW06KEM9RXIoQyxsKSwiYXNjZW5kaW5nIj09PXImJihDPS1DKSk7ST14KGIsYyksVD14KHcsYytDKTtjKz1DK3Ysbi5zZXRJdGVtTGF5b3V0KGIse3BvaW50czpJLmNvbmNhdChULnNsaWNlKCkucmV2ZXJzZSgpKX0pfX0hZnVuY3Rpb24odCl7dmFyIGU9dC5ob3N0TW9kZWwuZ2V0KCJvcmllbnQiKTt0LmVhY2goKGZ1bmN0aW9uKG4pe3ZhciBpLHIsbyxhLHM9dC5nZXRJdGVtTW9kZWwobiksbD1zLmdldE1vZGVsKCJsYWJlbCIpLmdldCgicG9zaXRpb24iKSx1PXMuZ2V0TW9kZWwoImxhYmVsTGluZSIpLGg9dC5nZXRJdGVtTGF5b3V0KG4pLGM9aC5wb2ludHMscD0iaW5uZXIiPT09bHx8Imluc2lkZSI9PT1sfHwiY2VudGVyIj09PWx8fCJpbnNpZGVMZWZ0Ij09PWx8fCJpbnNpZGVSaWdodCI9PT1sO2lmKHApImluc2lkZUxlZnQiPT09bD8ocj0oY1swXVswXStjWzNdWzBdKS8yKzUsbz0oY1swXVsxXStjWzNdWzFdKS8yLGk9ImxlZnQiKToiaW5zaWRlUmlnaHQiPT09bD8ocj0oY1sxXVswXStjWzJdWzBdKS8yLTUsbz0oY1sxXVsxXStjWzJdWzFdKS8yLGk9InJpZ2h0Iik6KHI9KGNbMF1bMF0rY1sxXVswXStjWzJdWzBdK2NbM11bMF0pLzQsbz0oY1swXVsxXStjWzFdWzFdK2NbMl1bMV0rY1szXVsxXSkvNCxpPSJjZW50ZXIiKSxhPVtbcixvXSxbcixvXV07ZWxzZXt2YXIgZD12b2lkIDAsZj12b2lkIDAsZz12b2lkIDAseT12b2lkIDAsdj11LmdldCgibGVuZ3RoIik7ImxlZnQiPT09bD8oZD0oY1szXVswXStjWzBdWzBdKS8yLGY9KGNbM11bMV0rY1swXVsxXSkvMixyPShnPWQtdiktNSxpPSJyaWdodCIpOiJyaWdodCI9PT1sPyhkPShjWzFdWzBdK2NbMl1bMF0pLzIsZj0oY1sxXVsxXStjWzJdWzFdKS8yLHI9KGc9ZCt2KSs1LGk9ImxlZnQiKToidG9wIj09PWw/KGQ9KGNbM11bMF0rY1swXVswXSkvMixvPSh5PShmPShjWzNdWzFdK2NbMF1bMV0pLzIpLXYpLTUsaT0iY2VudGVyIik6ImJvdHRvbSI9PT1sPyhkPShjWzFdWzBdK2NbMl1bMF0pLzIsbz0oeT0oZj0oY1sxXVsxXStjWzJdWzFdKS8yKSt2KSs1LGk9ImNlbnRlciIpOiJyaWdodFRvcCI9PT1sPyhkPSJob3Jpem9udGFsIj09PWU/Y1szXVswXTpjWzFdWzBdLGY9Imhvcml6b250YWwiPT09ZT9jWzNdWzFdOmNbMV1bMV0sImhvcml6b250YWwiPT09ZT8obz0oeT1mLXYpLTUsaT0iY2VudGVyIik6KHI9KGc9ZCt2KSs1LGk9InRvcCIpKToicmlnaHRCb3R0b20iPT09bD8oZD1jWzJdWzBdLGY9Y1syXVsxXSwiaG9yaXpvbnRhbCI9PT1lPyhvPSh5PWYrdikrNSxpPSJjZW50ZXIiKToocj0oZz1kK3YpKzUsaT0iYm90dG9tIikpOiJsZWZ0VG9wIj09PWw/KGQ9Y1swXVswXSxmPSJob3Jpem9udGFsIj09PWU/Y1swXVsxXTpjWzFdWzFdLCJob3Jpem9udGFsIj09PWU/KG89KHk9Zi12KS01LGk9ImNlbnRlciIpOihyPShnPWQtdiktNSxpPSJyaWdodCIpKToibGVmdEJvdHRvbSI9PT1sPyhkPSJob3Jpem9udGFsIj09PWU/Y1sxXVswXTpjWzNdWzBdLGY9Imhvcml6b250YWwiPT09ZT9jWzFdWzFdOmNbMl1bMV0sImhvcml6b250YWwiPT09ZT8obz0oeT1mK3YpKzUsaT0iY2VudGVyIik6KHI9KGc9ZC12KS01LGk9InJpZ2h0IikpOihkPShjWzFdWzBdK2NbMl1bMF0pLzIsZj0oY1sxXVsxXStjWzJdWzFdKS8yLCJob3Jpem9udGFsIj09PWU/KG89KHk9Zit2KSs1LGk9ImNlbnRlciIpOihyPShnPWQrdikrNSxpPSJsZWZ0IikpLCJob3Jpem9udGFsIj09PWU/cj1nPWQ6bz15PWYsYT1bW2QsZl0sW2cseV1dfWgubGFiZWw9e2xpbmVQb2ludHM6YSx4OnIseTpvLHZlcnRpY2FsQWxpZ246Im1pZGRsZSIsdGV4dEFsaWduOmksaW5zaWRlOnB9fSkpfShuKX0pKX12YXIgWEE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLl9kYXRhR3JvdXA9bmV3IENyLG4uX2luaXRpYWxpemVkPSExLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5ncm91cC5hZGQodGhpcy5fZGF0YUdyb3VwKX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMuX3Byb2dyZXNzaXZlRWxzPW51bGw7dmFyIHI9dGhpcy5fZGF0YUdyb3VwLG89dC5nZXREYXRhKCksYT10aGlzLl9kYXRhLHM9dC5jb29yZGluYXRlU3lzdGVtLGw9cy5kaW1lbnNpb25zLHU9cUEodCk7aWYoby5kaWZmKGEpLmFkZCgoZnVuY3Rpb24odCl7S0EoakEobyxyLHQsbCxzKSxvLHQsdSl9KSkudXBkYXRlKChmdW5jdGlvbihlLG4pe3ZhciBpPWEuZ2V0SXRlbUdyYXBoaWNFbChuKSxyPVpBKG8sZSxsLHMpO28uc2V0SXRlbUdyYXBoaWNFbChlLGkpLHJoKGkse3NoYXBlOntwb2ludHM6cn19LHQsZSksaGgoaSksS0EoaSxvLGUsdSl9KSkucmVtb3ZlKChmdW5jdGlvbih0KXt2YXIgZT1hLmdldEl0ZW1HcmFwaGljRWwodCk7ci5yZW1vdmUoZSl9KSkuZXhlY3V0ZSgpLCF0aGlzLl9pbml0aWFsaXplZCl7dGhpcy5faW5pdGlhbGl6ZWQ9ITA7dmFyIGg9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQubW9kZWwscj10LmdldFJlY3QoKSxvPW5ldyBDcyh7c2hhcGU6e3g6ci54LHk6ci55LHdpZHRoOnIud2lkdGgsaGVpZ2h0OnIuaGVpZ2h0fX0pLGE9Imhvcml6b250YWwiPT09aS5nZXQoImxheW91dCIpPyJ3aWR0aCI6ImhlaWdodCI7cmV0dXJuIG8uc2V0U2hhcGUoYSwwKSxvaChvLHtzaGFwZTp7d2lkdGg6ci53aWR0aCxoZWlnaHQ6ci5oZWlnaHR9fSxlLG4pLG99KHMsdCwoZnVuY3Rpb24oKXtzZXRUaW1lb3V0KChmdW5jdGlvbigpe3IucmVtb3ZlQ2xpcFBhdGgoKX0pKX0pKTtyLnNldENsaXBQYXRoKGgpfXRoaXMuX2RhdGE9b30sZS5wcm90b3R5cGUuaW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl9pbml0aWFsaXplZD0hMCx0aGlzLl9kYXRhPW51bGwsdGhpcy5fZGF0YUdyb3VwLnJlbW92ZUFsbCgpfSxlLnByb3RvdHlwZS5pbmNyZW1lbnRhbFJlbmRlcj1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPWUuZ2V0RGF0YSgpLHI9ZS5jb29yZGluYXRlU3lzdGVtLG89ci5kaW1lbnNpb25zLGE9cUEoZSkscz10aGlzLl9wcm9ncmVzc2l2ZUVscz1bXSxsPXQuc3RhcnQ7bDx0LmVuZDtsKyspe3ZhciB1PWpBKGksdGhpcy5fZGF0YUdyb3VwLGwsbyxyKTt1LmluY3JlbWVudGFsPSEwLEtBKHUsaSxsLGEpLHMucHVzaCh1KX19LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMuX2RhdGFHcm91cCYmdGhpcy5fZGF0YUdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2RhdGE9bnVsbH0sZS50eXBlPSJwYXJhbGxlbCIsZX0oeGcpO2Z1bmN0aW9uIFpBKHQsZSxuLGkpe2Zvcih2YXIgcixvPVtdLGE9MDthPG4ubGVuZ3RoO2ErKyl7dmFyIHM9blthXSxsPXQuZ2V0KHQubWFwRGltZW5zaW9uKHMpLGUpO3I9bCwoImNhdGVnb3J5Ij09PWkuZ2V0QXhpcyhzKS50eXBlP251bGw9PXI6bnVsbD09cnx8aXNOYU4ocikpfHxvLnB1c2goaS5kYXRhVG9Qb2ludChsLHMpKX1yZXR1cm4gb31mdW5jdGlvbiBqQSh0LGUsbixpLHIpe3ZhciBvPVpBKHQsbixpLHIpLGE9bmV3IFJ1KHtzaGFwZTp7cG9pbnRzOm99LHoyOjEwfSk7cmV0dXJuIGUuYWRkKGEpLHQuc2V0SXRlbUdyYXBoaWNFbChuLGEpLGF9ZnVuY3Rpb24gcUEodCl7dmFyIGU9dC5nZXQoInNtb290aCIsITApO3JldHVybiEwPT09ZSYmKGU9LjMpLG50KGU9dG8oZSkpJiYoZT0wKSx7c21vb3RoOmV9fWZ1bmN0aW9uIEtBKHQsZSxuLGkpe3QudXNlU3R5bGUoZS5nZXRJdGVtVmlzdWFsKG4sInN0eWxlIikpLHQuc3R5bGUuZmlsbD1udWxsLHQuc2V0U2hhcGUoInNtb290aCIsaS5zbW9vdGgpO3ZhciByPWUuZ2V0SXRlbU1vZGVsKG4pLG89ci5nZXRNb2RlbCgiZW1waGFzaXMiKTtWbCh0LHIsImxpbmVTdHlsZSIpLFJsKHQsby5nZXQoImZvY3VzIiksby5nZXQoImJsdXJTY29wZSIpLG8uZ2V0KCJkaXNhYmxlZCIpKX12YXIgJEE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLnZpc3VhbFN0eWxlQWNjZXNzUGF0aD0ibGluZVN0eWxlIixuLnZpc3VhbERyYXdUeXBlPSJzdHJva2UiLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiBpeChudWxsLHRoaXMse3VzZUVuY29kZURlZmF1bHRlcjpXKEpBLG51bGwsdGhpcyl9KX0sZS5wcm90b3R5cGUuZ2V0UmF3SW5kaWNlc0J5QWN0aXZlU3RhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb29yZGluYXRlU3lzdGVtLG49dGhpcy5nZXREYXRhKCksaT1bXTtyZXR1cm4gZS5lYWNoQWN0aXZlU3RhdGUobiwoZnVuY3Rpb24oZSxyKXt0PT09ZSYmaS5wdXNoKG4uZ2V0UmF3SW5kZXgocikpfSkpLGl9LGUudHlwZT0ic2VyaWVzLnBhcmFsbGVsIixlLmRlcGVuZGVuY2llcz1bInBhcmFsbGVsIl0sZS5kZWZhdWx0T3B0aW9uPXt6OjIsY29vcmRpbmF0ZVN5c3RlbToicGFyYWxsZWwiLHBhcmFsbGVsSW5kZXg6MCxsYWJlbDp7c2hvdzohMX0saW5hY3RpdmVPcGFjaXR5Oi4wNSxhY3RpdmVPcGFjaXR5OjEsbGluZVN0eWxlOnt3aWR0aDoxLG9wYWNpdHk6LjQ1LHR5cGU6InNvbGlkIn0sZW1waGFzaXM6e2xhYmVsOntzaG93OiExfX0scHJvZ3Jlc3NpdmU6NTAwLHNtb290aDohMSxhbmltYXRpb25FYXNpbmc6ImxpbmVhciJ9LGV9KHNnKTtmdW5jdGlvbiBKQSh0KXt2YXIgZT10LmVjTW9kZWwuZ2V0Q29tcG9uZW50KCJwYXJhbGxlbCIsdC5nZXQoInBhcmFsbGVsSW5kZXgiKSk7aWYoZSl7dmFyIG49e307cmV0dXJuIEUoZS5kaW1lbnNpb25zLChmdW5jdGlvbih0KXt2YXIgZT0rdC5yZXBsYWNlKCJkaW0iLCIiKTtuW3RdPWV9KSksbn19dmFyIFFBPVsibGluZVN0eWxlIiwib3BhY2l0eSJdLHRrPXtzZXJpZXNUeXBlOiJwYXJhbGxlbCIscmVzZXQ6ZnVuY3Rpb24odCxlKXt2YXIgbj10LmNvb3JkaW5hdGVTeXN0ZW0saT17bm9ybWFsOnQuZ2V0KFsibGluZVN0eWxlIiwib3BhY2l0eSJdKSxhY3RpdmU6dC5nZXQoImFjdGl2ZU9wYWNpdHkiKSxpbmFjdGl2ZTp0LmdldCgiaW5hY3RpdmVPcGFjaXR5Iil9O3JldHVybntwcm9ncmVzczpmdW5jdGlvbih0LGUpe24uZWFjaEFjdGl2ZVN0YXRlKGUsKGZ1bmN0aW9uKHQsbil7dmFyIHI9aVt0XTtpZigibm9ybWFsIj09PXQmJmUuaGFzSXRlbU9wdGlvbil7dmFyIG89ZS5nZXRJdGVtTW9kZWwobikuZ2V0KFFBLCEwKTtudWxsIT1vJiYocj1vKX1lLmVuc3VyZVVuaXF1ZUl0ZW1WaXN1YWwobiwic3R5bGUiKS5vcGFjaXR5PXJ9KSx0LnN0YXJ0LHQuZW5kKX19fX07ZnVuY3Rpb24gZWsodCl7IWZ1bmN0aW9uKHQpe2lmKHQucGFyYWxsZWwpcmV0dXJuO3ZhciBlPSExO0UodC5zZXJpZXMsKGZ1bmN0aW9uKHQpe3QmJiJwYXJhbGxlbCI9PT10LnR5cGUmJihlPSEwKX0pKSxlJiYodC5wYXJhbGxlbD1be31dKX0odCksZnVuY3Rpb24odCl7RShobyh0LnBhcmFsbGVsQXhpcyksKGZ1bmN0aW9uKGUpe2lmKHEoZSkpe3ZhciBuPWUucGFyYWxsZWxJbmRleHx8MCxpPWhvKHQucGFyYWxsZWwpW25dO2kmJmkucGFyYWxsZWxBeGlzRGVmYXVsdCYmQyhlLGkucGFyYWxsZWxBeGlzRGVmYXVsdCwhMSl9fSkpfSh0KX12YXIgbms9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl9tb2RlbD10LHRoaXMuX2FwaT1uLHRoaXMuX2hhbmRsZXJzfHwodGhpcy5faGFuZGxlcnM9e30sRShpaywoZnVuY3Rpb24odCxlKXtuLmdldFpyKCkub24oZSx0aGlzLl9oYW5kbGVyc1tlXT1XKHQsdGhpcykpfSksdGhpcykpLEFnKHRoaXMsIl90aHJvdHRsZWREaXNwYXRjaEV4cGFuZCIsdC5nZXQoImF4aXNFeHBhbmRSYXRlIiksImZpeFJhdGUiKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LGUpe2tnKHRoaXMsIl90aHJvdHRsZWREaXNwYXRjaEV4cGFuZCIpLEUodGhpcy5faGFuZGxlcnMsKGZ1bmN0aW9uKHQsbil7ZS5nZXRacigpLm9mZihuLHQpfSkpLHRoaXMuX2hhbmRsZXJzPW51bGx9LGUucHJvdG90eXBlLl90aHJvdHRsZWREaXNwYXRjaEV4cGFuZD1mdW5jdGlvbih0KXt0aGlzLl9kaXNwYXRjaEV4cGFuZCh0KX0sZS5wcm90b3R5cGUuX2Rpc3BhdGNoRXhwYW5kPWZ1bmN0aW9uKHQpe3QmJnRoaXMuX2FwaS5kaXNwYXRjaEFjdGlvbihBKHt0eXBlOiJwYXJhbGxlbEF4aXNFeHBhbmQifSx0KSl9LGUudHlwZT0icGFyYWxsZWwiLGV9KGdnKSxpaz17bW91c2Vkb3duOmZ1bmN0aW9uKHQpe3JrKHRoaXMsImNsaWNrIikmJih0aGlzLl9tb3VzZURvd25Qb2ludD1bdC5vZmZzZXRYLHQub2Zmc2V0WV0pfSxtb3VzZXVwOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21vdXNlRG93blBvaW50O2lmKHJrKHRoaXMsImNsaWNrIikmJmUpe3ZhciBuPVt0Lm9mZnNldFgsdC5vZmZzZXRZXTtpZihNYXRoLnBvdyhlWzBdLW5bMF0sMikrTWF0aC5wb3coZVsxXS1uWzFdLDIpPjUpcmV0dXJuO3ZhciBpPXRoaXMuX21vZGVsLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0U2xpZGVkQXhpc0V4cGFuZFdpbmRvdyhbdC5vZmZzZXRYLHQub2Zmc2V0WV0pOyJub25lIiE9PWkuYmVoYXZpb3ImJnRoaXMuX2Rpc3BhdGNoRXhwYW5kKHtheGlzRXhwYW5kV2luZG93OmkuYXhpc0V4cGFuZFdpbmRvd30pfXRoaXMuX21vdXNlRG93blBvaW50PW51bGx9LG1vdXNlbW92ZTpmdW5jdGlvbih0KXtpZighdGhpcy5fbW91c2VEb3duUG9pbnQmJnJrKHRoaXMsIm1vdXNlbW92ZSIpKXt2YXIgZT10aGlzLl9tb2RlbCxuPWUuY29vcmRpbmF0ZVN5c3RlbS5nZXRTbGlkZWRBeGlzRXhwYW5kV2luZG93KFt0Lm9mZnNldFgsdC5vZmZzZXRZXSksaT1uLmJlaGF2aW9yOyJqdW1wIj09PWkmJnRoaXMuX3Rocm90dGxlZERpc3BhdGNoRXhwYW5kLmRlYm91bmNlTmV4dENhbGwoZS5nZXQoImF4aXNFeHBhbmREZWJvdW5jZSIpKSx0aGlzLl90aHJvdHRsZWREaXNwYXRjaEV4cGFuZCgibm9uZSI9PT1pP251bGw6e2F4aXNFeHBhbmRXaW5kb3c6bi5heGlzRXhwYW5kV2luZG93LGFuaW1hdGlvbjoianVtcCI9PT1pP251bGw6e2R1cmF0aW9uOjB9fSl9fX07ZnVuY3Rpb24gcmsodCxlKXt2YXIgbj10Ll9tb2RlbDtyZXR1cm4gbi5nZXQoImF4aXNFeHBhbmRhYmxlIikmJm4uZ2V0KCJheGlzRXhwYW5kVHJpZ2dlck9uIik9PT1lfXZhciBvaz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5tZXJnZU9wdGlvbih7fSl9LGUucHJvdG90eXBlLm1lcmdlT3B0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uO3QmJkMoZSx0LCEwKSx0aGlzLl9pbml0RGltZW5zaW9ucygpfSxlLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0KCJwYXJhbGxlbEluZGV4Iik7cmV0dXJuIG51bGwhPW4mJmUuZ2V0Q29tcG9uZW50KCJwYXJhbGxlbCIsbik9PT10aGlzfSxlLnByb3RvdHlwZS5zZXRBeGlzRXhwYW5kPWZ1bmN0aW9uKHQpe0UoWyJheGlzRXhwYW5kYWJsZSIsImF4aXNFeHBhbmRDZW50ZXIiLCJheGlzRXhwYW5kQ291bnQiLCJheGlzRXhwYW5kV2lkdGgiLCJheGlzRXhwYW5kV2luZG93Il0sKGZ1bmN0aW9uKGUpe3QuaGFzT3duUHJvcGVydHkoZSkmJih0aGlzLm9wdGlvbltlXT10W2VdKX0pLHRoaXMpfSxlLnByb3RvdHlwZS5faW5pdERpbWVuc2lvbnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRpbWVuc2lvbnM9W10sZT10aGlzLnBhcmFsbGVsQXhpc0luZGV4PVtdO0UoQih0aGlzLmVjTW9kZWwucXVlcnlDb21wb25lbnRzKHttYWluVHlwZToicGFyYWxsZWxBeGlzIn0pLChmdW5jdGlvbih0KXtyZXR1cm4odC5nZXQoInBhcmFsbGVsSW5kZXgiKXx8MCk9PT10aGlzLmNvbXBvbmVudEluZGV4fSksdGhpcyksKGZ1bmN0aW9uKG4pe3QucHVzaCgiZGltIituLmdldCgiZGltIikpLGUucHVzaChuLmNvbXBvbmVudEluZGV4KX0pKX0sZS50eXBlPSJwYXJhbGxlbCIsZS5kZXBlbmRlbmNpZXM9WyJwYXJhbGxlbEF4aXMiXSxlLmxheW91dE1vZGU9ImJveCIsZS5kZWZhdWx0T3B0aW9uPXt6OjAsbGVmdDo4MCx0b3A6NjAscmlnaHQ6ODAsYm90dG9tOjYwLGxheW91dDoiaG9yaXpvbnRhbCIsYXhpc0V4cGFuZGFibGU6ITEsYXhpc0V4cGFuZENlbnRlcjpudWxsLGF4aXNFeHBhbmRDb3VudDowLGF4aXNFeHBhbmRXaWR0aDo1MCxheGlzRXhwYW5kUmF0ZToxNyxheGlzRXhwYW5kRGVib3VuY2U6NTAsYXhpc0V4cGFuZFNsaWRlVHJpZ2dlckFyZWE6Wy0uMTUsLjA1LC40XSxheGlzRXhwYW5kVHJpZ2dlck9uOiJjbGljayIscGFyYWxsZWxBeGlzRGVmYXVsdDpudWxsfSxlfShUcCksYWs9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSxyLG8pe3ZhciBhPXQuY2FsbCh0aGlzLGUsbixpKXx8dGhpcztyZXR1cm4gYS50eXBlPXJ8fCJ2YWx1ZSIsYS5heGlzSW5kZXg9byxhfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaXNIb3Jpem9udGFsPWZ1bmN0aW9uKCl7cmV0dXJuImhvcml6b250YWwiIT09dGhpcy5jb29yZGluYXRlU3lzdGVtLmdldE1vZGVsKCkuZ2V0KCJsYXlvdXQiKX0sZX0oV18pO2Z1bmN0aW9uIHNrKHQsZSxuLGkscixvKXt0PXR8fDA7dmFyIGE9blsxXS1uWzBdO2lmKG51bGwhPXImJihyPXVrKHIsWzAsYV0pKSxudWxsIT1vJiYobz1NYXRoLm1heChvLG51bGwhPXI/cjowKSksImFsbCI9PT1pKXt2YXIgcz1NYXRoLmFicyhlWzFdLWVbMF0pO3M9dWsocyxbMCxhXSkscj1vPXVrKHMsW3Isb10pLGk9MH1lWzBdPXVrKGVbMF0sbiksZVsxXT11ayhlWzFdLG4pO3ZhciBsPWxrKGUsaSk7ZVtpXSs9dDt2YXIgdSxoPXJ8fDAsYz1uLnNsaWNlKCk7cmV0dXJuIGwuc2lnbjwwP2NbMF0rPWg6Y1sxXS09aCxlW2ldPXVrKGVbaV0sYyksdT1sayhlLGkpLG51bGwhPXImJih1LnNpZ24hPT1sLnNpZ258fHUuc3BhbjxyKSYmKGVbMS1pXT1lW2ldK2wuc2lnbipyKSx1PWxrKGUsaSksbnVsbCE9byYmdS5zcGFuPm8mJihlWzEtaV09ZVtpXSt1LnNpZ24qbyksZX1mdW5jdGlvbiBsayh0LGUpe3ZhciBuPXRbZV0tdFsxLWVdO3JldHVybntzcGFuOk1hdGguYWJzKG4pLHNpZ246bj4wPy0xOm48MD8xOmU/LTE6MX19ZnVuY3Rpb24gdWsodCxlKXtyZXR1cm4gTWF0aC5taW4obnVsbCE9ZVsxXT9lWzFdOjEvMCxNYXRoLm1heChudWxsIT1lWzBdP2VbMF06LTEvMCx0KSl9dmFyIGhrPUUsY2s9TWF0aC5taW4scGs9TWF0aC5tYXgsZGs9TWF0aC5mbG9vcixmaz1NYXRoLmNlaWwsZ2s9enIseWs9TWF0aC5QSSx2az1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMudHlwZT0icGFyYWxsZWwiLHRoaXMuX2F4ZXNNYXA9ZnQoKSx0aGlzLl9heGVzTGF5b3V0PXt9LHRoaXMuZGltZW5zaW9ucz10LmRpbWVuc2lvbnMsdGhpcy5fbW9kZWw9dCx0aGlzLl9pbml0KHQsZSxuKX1yZXR1cm4gdC5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZGltZW5zaW9ucyxyPXQucGFyYWxsZWxBeGlzSW5kZXg7aGsoaSwoZnVuY3Rpb24odCxuKXt2YXIgaT1yW25dLG89ZS5nZXRDb21wb25lbnQoInBhcmFsbGVsQXhpcyIsaSksYT10aGlzLl9heGVzTWFwLnNldCh0LG5ldyBhayh0LHJfKG8pLFswLDBdLG8uZ2V0KCJ0eXBlIiksaSkpLHM9ImNhdGVnb3J5Ij09PWEudHlwZTthLm9uQmFuZD1zJiZvLmdldCgiYm91bmRhcnlHYXAiKSxhLmludmVyc2U9by5nZXQoImludmVyc2UiKSxvLmF4aXM9YSxhLm1vZGVsPW8sYS5jb29yZGluYXRlU3lzdGVtPW8uY29vcmRpbmF0ZVN5c3RlbT10aGlzfSksdGhpcyl9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe3RoaXMuX3VwZGF0ZUF4ZXNGcm9tU2VyaWVzKHRoaXMuX21vZGVsLHQpfSx0LnByb3RvdHlwZS5jb250YWluUG9pbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFrZUxheW91dEluZm8oKSxuPWUuYXhpc0Jhc2UsaT1lLmxheW91dEJhc2Uscj1lLnBpeGVsRGltSW5kZXgsbz10WzEtcl0sYT10W3JdO3JldHVybiBvPj1uJiZvPD1uK2UuYXhpc0xlbmd0aCYmYT49aSYmYTw9aStlLmxheW91dExlbmd0aH0sdC5wcm90b3R5cGUuZ2V0TW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9kZWx9LHQucHJvdG90eXBlLl91cGRhdGVBeGVzRnJvbVNlcmllcz1mdW5jdGlvbih0LGUpe2UuZWFjaFNlcmllcygoZnVuY3Rpb24obil7aWYodC5jb250YWlucyhuLGUpKXt2YXIgaT1uLmdldERhdGEoKTtoayh0aGlzLmRpbWVuc2lvbnMsKGZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2F4ZXNNYXAuZ2V0KHQpO2Uuc2NhbGUudW5pb25FeHRlbnRGcm9tRGF0YShpLGkubWFwRGltZW5zaW9uKHQpKSxpXyhlLnNjYWxlLGUubW9kZWwpfSksdGhpcyl9fSksdGhpcyl9LHQucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0LGUpe3RoaXMuX3JlY3Q9eHAodC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSksdGhpcy5fbGF5b3V0QXhlcygpfSx0LnByb3RvdHlwZS5nZXRSZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlY3R9LHQucHJvdG90eXBlLl9tYWtlTGF5b3V0SW5mbz1mdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5fbW9kZWwsbj10aGlzLl9yZWN0LGk9WyJ4IiwieSJdLHI9WyJ3aWR0aCIsImhlaWdodCJdLG89ZS5nZXQoImxheW91dCIpLGE9Imhvcml6b250YWwiPT09bz8wOjEscz1uW3JbYV1dLGw9WzAsc10sdT10aGlzLmRpbWVuc2lvbnMubGVuZ3RoLGg9bWsoZS5nZXQoImF4aXNFeHBhbmRXaWR0aCIpLGwpLGM9bWsoZS5nZXQoImF4aXNFeHBhbmRDb3VudCIpfHwwLFswLHVdKSxwPWUuZ2V0KCJheGlzRXhwYW5kYWJsZSIpJiZ1PjMmJnU+YyYmYz4xJiZoPjAmJnM+MCxkPWUuZ2V0KCJheGlzRXhwYW5kV2luZG93Iik7ZD8odD1tayhkWzFdLWRbMF0sbCksZFsxXT1kWzBdK3QpOih0PW1rKGgqKGMtMSksbCksKGQ9W2gqKGUuZ2V0KCJheGlzRXhwYW5kQ2VudGVyIil8fGRrKHUvMikpLXQvMl0pWzFdPWRbMF0rdCk7dmFyIGY9KHMtdCkvKHUtYyk7ZjwzJiYoZj0wKTt2YXIgZz1bZGsoZ2soZFswXS9oLDEpKSsxLGZrKGdrKGRbMV0vaCwxKSktMV0seT1mL2gqZFswXTtyZXR1cm57bGF5b3V0Om8scGl4ZWxEaW1JbmRleDphLGxheW91dEJhc2U6bltpW2FdXSxsYXlvdXRMZW5ndGg6cyxheGlzQmFzZTpuW2lbMS1hXV0sYXhpc0xlbmd0aDpuW3JbMS1hXV0sYXhpc0V4cGFuZGFibGU6cCxheGlzRXhwYW5kV2lkdGg6aCxheGlzQ29sbGFwc2VXaWR0aDpmLGF4aXNFeHBhbmRXaW5kb3c6ZCxheGlzQ291bnQ6dSx3aW5Jbm5lckluZGljZXM6ZyxheGlzRXhwYW5kV2luZG93MFBvczp5fX0sdC5wcm90b3R5cGUuX2xheW91dEF4ZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yZWN0LGU9dGhpcy5fYXhlc01hcCxuPXRoaXMuZGltZW5zaW9ucyxpPXRoaXMuX21ha2VMYXlvdXRJbmZvKCkscj1pLmxheW91dDtlLmVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPVswLGkuYXhpc0xlbmd0aF0sbj10LmludmVyc2U/MTowO3Quc2V0RXh0ZW50KGVbbl0sZVsxLW5dKX0pKSxoayhuLChmdW5jdGlvbihlLG4pe3ZhciBvPShpLmF4aXNFeHBhbmRhYmxlP19rOnhrKShuLGkpLGE9e2hvcml6b250YWw6e3g6by5wb3NpdGlvbix5OmkuYXhpc0xlbmd0aH0sdmVydGljYWw6e3g6MCx5Om8ucG9zaXRpb259fSxzPXtob3Jpem9udGFsOnlrLzIsdmVydGljYWw6MH0sbD1bYVtyXS54K3QueCxhW3JdLnkrdC55XSx1PXNbcl0saD1bMSwwLDAsMSwwLDBdO3ppKGgsaCx1KSxFaShoLGgsbCksdGhpcy5fYXhlc0xheW91dFtlXT17cG9zaXRpb246bCxyb3RhdGlvbjp1LHRyYW5zZm9ybTpoLGF4aXNOYW1lQXZhaWxhYmxlV2lkdGg6by5heGlzTmFtZUF2YWlsYWJsZVdpZHRoLGF4aXNMYWJlbFNob3c6by5heGlzTGFiZWxTaG93LG5hbWVUcnVuY2F0ZU1heFdpZHRoOm8ubmFtZVRydW5jYXRlTWF4V2lkdGgsdGlja0RpcmVjdGlvbjoxLGxhYmVsRGlyZWN0aW9uOjF9fSksdGhpcyl9LHQucHJvdG90eXBlLmdldEF4aXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2F4ZXNNYXAuZ2V0KHQpfSx0LnByb3RvdHlwZS5kYXRhVG9Qb2ludD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmF4aXNDb29yZFRvUG9pbnQodGhpcy5fYXhlc01hcC5nZXQoZSkuZGF0YVRvQ29vcmQodCksZSl9LHQucHJvdG90eXBlLmVhY2hBY3RpdmVTdGF0ZT1mdW5jdGlvbih0LGUsbixpKXtudWxsPT1uJiYobj0wKSxudWxsPT1pJiYoaT10LmNvdW50KCkpO3ZhciByPXRoaXMuX2F4ZXNNYXAsbz10aGlzLmRpbWVuc2lvbnMsYT1bXSxzPVtdO0UobywoZnVuY3Rpb24oZSl7YS5wdXNoKHQubWFwRGltZW5zaW9uKGUpKSxzLnB1c2goci5nZXQoZSkubW9kZWwpfSkpO2Zvcih2YXIgbD10aGlzLmhhc0F4aXNCcnVzaGVkKCksdT1uO3U8aTt1Kyspe3ZhciBoPXZvaWQgMDtpZihsKXtoPSJhY3RpdmUiO2Zvcih2YXIgYz10LmdldFZhbHVlcyhhLHUpLHA9MCxkPW8ubGVuZ3RoO3A8ZDtwKyspe2lmKCJpbmFjdGl2ZSI9PT1zW3BdLmdldEFjdGl2ZVN0YXRlKGNbcF0pKXtoPSJpbmFjdGl2ZSI7YnJlYWt9fX1lbHNlIGg9Im5vcm1hbCI7ZShoLHUpfX0sdC5wcm90b3R5cGUuaGFzQXhpc0JydXNoZWQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5kaW1lbnNpb25zLGU9dGhpcy5fYXhlc01hcCxuPSExLGk9MCxyPXQubGVuZ3RoO2k8cjtpKyspIm5vcm1hbCIhPT1lLmdldCh0W2ldKS5tb2RlbC5nZXRBY3RpdmVTdGF0ZSgpJiYobj0hMCk7cmV0dXJuIG59LHQucHJvdG90eXBlLmF4aXNDb29yZFRvUG9pbnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gVGgoW3QsMF0sdGhpcy5fYXhlc0xheW91dFtlXS50cmFuc2Zvcm0pfSx0LnByb3RvdHlwZS5nZXRBeGlzTGF5b3V0PWZ1bmN0aW9uKHQpe3JldHVybiBUKHRoaXMuX2F4ZXNMYXlvdXRbdF0pfSx0LnByb3RvdHlwZS5nZXRTbGlkZWRBeGlzRXhwYW5kV2luZG93PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21ha2VMYXlvdXRJbmZvKCksbj1lLnBpeGVsRGltSW5kZXgsaT1lLmF4aXNFeHBhbmRXaW5kb3cuc2xpY2UoKSxyPWlbMV0taVswXSxvPVswLGUuYXhpc0V4cGFuZFdpZHRoKihlLmF4aXNDb3VudC0xKV07aWYoIXRoaXMuY29udGFpblBvaW50KHQpKXJldHVybntiZWhhdmlvcjoibm9uZSIsYXhpc0V4cGFuZFdpbmRvdzppfTt2YXIgYSxzPXRbbl0tZS5sYXlvdXRCYXNlLWUuYXhpc0V4cGFuZFdpbmRvdzBQb3MsbD0ic2xpZGUiLHU9ZS5heGlzQ29sbGFwc2VXaWR0aCxoPXRoaXMuX21vZGVsLmdldCgiYXhpc0V4cGFuZFNsaWRlVHJpZ2dlckFyZWEiKSxjPW51bGwhPWhbMF07aWYodSljJiZ1JiZzPHIqaFswXT8obD0ianVtcCIsYT1zLXIqaFsyXSk6YyYmdSYmcz5yKigxLWhbMF0pPyhsPSJqdW1wIixhPXMtciooMS1oWzJdKSk6KGE9cy1yKmhbMV0pPj0wJiYoYT1zLXIqKDEtaFsxXSkpPD0wJiYoYT0wKSwoYSo9ZS5heGlzRXhwYW5kV2lkdGgvdSk/c2soYSxpLG8sImFsbCIpOmw9Im5vbmUiO2Vsc2V7dmFyIHA9aVsxXS1pWzBdOyhpPVtwaygwLG9bMV0qcy9wLXAvMildKVsxXT1jayhvWzFdLGlbMF0rcCksaVswXT1pWzFdLXB9cmV0dXJue2F4aXNFeHBhbmRXaW5kb3c6aSxiZWhhdmlvcjpsfX0sdH0oKTtmdW5jdGlvbiBtayh0LGUpe3JldHVybiBjayhwayh0LGVbMF0pLGVbMV0pfWZ1bmN0aW9uIHhrKHQsZSl7dmFyIG49ZS5sYXlvdXRMZW5ndGgvKGUuYXhpc0NvdW50LTEpO3JldHVybntwb3NpdGlvbjpuKnQsYXhpc05hbWVBdmFpbGFibGVXaWR0aDpuLGF4aXNMYWJlbFNob3c6ITB9fWZ1bmN0aW9uIF9rKHQsZSl7dmFyIG4saSxyPWUubGF5b3V0TGVuZ3RoLG89ZS5heGlzRXhwYW5kV2lkdGgsYT1lLmF4aXNDb3VudCxzPWUuYXhpc0NvbGxhcHNlV2lkdGgsbD1lLndpbklubmVySW5kaWNlcyx1PXMsaD0hMTtyZXR1cm4gdDxsWzBdPyhuPXQqcyxpPXMpOnQ8PWxbMV0/KG49ZS5heGlzRXhwYW5kV2luZG93MFBvcyt0Km8tZS5heGlzRXhwYW5kV2luZG93WzBdLHU9byxoPSEwKToobj1yLShhLTEtdCkqcyxpPXMpLHtwb3NpdGlvbjpuLGF4aXNOYW1lQXZhaWxhYmxlV2lkdGg6dSxheGlzTGFiZWxTaG93OmgsbmFtZVRydW5jYXRlTWF4V2lkdGg6aX19dmFyIGJrPXtjcmVhdGU6ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtyZXR1cm4gdC5lYWNoQ29tcG9uZW50KCJwYXJhbGxlbCIsKGZ1bmN0aW9uKGkscil7dmFyIG89bmV3IHZrKGksdCxlKTtvLm5hbWU9InBhcmFsbGVsXyIrcixvLnJlc2l6ZShpLGUpLGkuY29vcmRpbmF0ZVN5c3RlbT1vLG8ubW9kZWw9aSxuLnB1c2gobyl9KSksdC5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXtpZigicGFyYWxsZWwiPT09dC5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKSl7dmFyIGU9dC5nZXRSZWZlcnJpbmdDb21wb25lbnRzKCJwYXJhbGxlbCIsQ28pLm1vZGVsc1swXTt0LmNvb3JkaW5hdGVTeXN0ZW09ZS5jb29yZGluYXRlU3lzdGVtfX0pKSxufX0sd2s9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmFjdGl2ZUludGVydmFscz1bXSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0QXJlYVNlbGVjdFN0eWxlPWZ1bmN0aW9uKCl7cmV0dXJuIFdvKFtbImZpbGwiLCJjb2xvciJdLFsibGluZVdpZHRoIiwiYm9yZGVyV2lkdGgiXSxbInN0cm9rZSIsImJvcmRlckNvbG9yIl0sWyJ3aWR0aCIsIndpZHRoIl0sWyJvcGFjaXR5Iiwib3BhY2l0eSJdXSkodGhpcy5nZXRNb2RlbCgiYXJlYVNlbGVjdFN0eWxlIikpfSxlLnByb3RvdHlwZS5zZXRBY3RpdmVJbnRlcnZhbHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5hY3RpdmVJbnRlcnZhbHM9VCh0KTtpZihlKWZvcih2YXIgbj1lLmxlbmd0aC0xO24+PTA7bi0tKVZyKGVbbl0pfSxlLnByb3RvdHlwZS5nZXRBY3RpdmVTdGF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmFjdGl2ZUludGVydmFscztpZighZS5sZW5ndGgpcmV0dXJuIm5vcm1hbCI7aWYobnVsbD09dHx8aXNOYU4oK3QpKXJldHVybiJpbmFjdGl2ZSI7aWYoMT09PWUubGVuZ3RoKXt2YXIgbj1lWzBdO2lmKG5bMF08PXQmJnQ8PW5bMV0pcmV0dXJuImFjdGl2ZSJ9ZWxzZSBmb3IodmFyIGk9MCxyPWUubGVuZ3RoO2k8cjtpKyspaWYoZVtpXVswXTw9dCYmdDw9ZVtpXVsxXSlyZXR1cm4iYWN0aXZlIjtyZXR1cm4iaW5hY3RpdmUifSxlfShUcCk7Uih3ayxjXyk7dmFyIFNrPSEwLE1rPU1hdGgubWluLElrPU1hdGgubWF4LFRrPU1hdGgucG93LENrPSJnbG9iYWxQYW4iLERrPXt3OlswLDBdLGU6WzAsMV0sbjpbMSwwXSxzOlsxLDFdfSxBaz17dzoiZXciLGU6ImV3IixuOiJucyIsczoibnMiLG5lOiJuZXN3IixzdzoibmVzdyIsbnc6Im53c2UiLHNlOiJud3NlIn0sa2s9e2JydXNoU3R5bGU6e2xpbmVXaWR0aDoyLHN0cm9rZToicmdiYSgyMTAsMjE5LDIzOCwwLjMpIixmaWxsOiIjRDJEQkVFIn0sdHJhbnNmb3JtYWJsZTohMCxicnVzaE1vZGU6InNpbmdsZSIscmVtb3ZlT25DbGljazohMX0sTGs9MCxQaz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5fdHJhY2s9W10sbi5fY292ZXJzPVtdLG4uX2hhbmRsZXJzPXt9LG4uX3pyPWUsbi5ncm91cD1uZXcgQ3Isbi5fdWlkPSJicnVzaENvbnRyb2xsZXJfIitMaysrLEUob0wsKGZ1bmN0aW9uKHQsZSl7dGhpcy5faGFuZGxlcnNbZV09Vyh0LHRoaXMpfSksbiksbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmVuYWJsZUJydXNoPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9icnVzaFR5cGUmJnRoaXMuX2RvRGlzYWJsZUJydXNoKCksdC5icnVzaFR5cGUmJnRoaXMuX2RvRW5hYmxlQnJ1c2godCksdGhpc30sZS5wcm90b3R5cGUuX2RvRW5hYmxlQnJ1c2g9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fenI7dGhpcy5fZW5hYmxlR2xvYmFsUGFufHxmdW5jdGlvbih0LGUsbil7REkodClbZV09bn0oZSxDayx0aGlzLl91aWQpLEUodGhpcy5faGFuZGxlcnMsKGZ1bmN0aW9uKHQsbil7ZS5vbihuLHQpfSkpLHRoaXMuX2JydXNoVHlwZT10LmJydXNoVHlwZSx0aGlzLl9icnVzaE9wdGlvbj1DKFQoa2spLHQsITApfSxlLnByb3RvdHlwZS5fZG9EaXNhYmxlQnJ1c2g9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl96cjshZnVuY3Rpb24odCxlLG4pe3ZhciBpPURJKHQpO2lbZV09PT1uJiYoaVtlXT1udWxsKX0odCxDayx0aGlzLl91aWQpLEUodGhpcy5faGFuZGxlcnMsKGZ1bmN0aW9uKGUsbil7dC5vZmYobixlKX0pKSx0aGlzLl9icnVzaFR5cGU9dGhpcy5fYnJ1c2hPcHRpb249bnVsbH0sZS5wcm90b3R5cGUuc2V0UGFuZWxzPWZ1bmN0aW9uKHQpe2lmKHQmJnQubGVuZ3RoKXt2YXIgZT10aGlzLl9wYW5lbHM9e307RSh0LChmdW5jdGlvbih0KXtlW3QucGFuZWxJZF09VCh0KX0pKX1lbHNlIHRoaXMuX3BhbmVscz1udWxsO3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5tb3VudD1mdW5jdGlvbih0KXt0PXR8fHt9LHRoaXMuX2VuYWJsZUdsb2JhbFBhbj10LmVuYWJsZUdsb2JhbFBhbjt2YXIgZT10aGlzLmdyb3VwO3JldHVybiB0aGlzLl96ci5hZGQoZSksZS5hdHRyKHt4OnQueHx8MCx5OnQueXx8MCxyb3RhdGlvbjp0LnJvdGF0aW9ufHwwLHNjYWxlWDp0LnNjYWxlWHx8MSxzY2FsZVk6dC5zY2FsZVl8fDF9KSx0aGlzLl90cmFuc2Zvcm09ZS5nZXRMb2NhbFRyYW5zZm9ybSgpLHRoaXN9LGUucHJvdG90eXBlLnVwZGF0ZUNvdmVycz1mdW5jdGlvbih0KXt0PXoodCwoZnVuY3Rpb24odCl7cmV0dXJuIEMoVChrayksdCwhMCl9KSk7dmFyIGU9dGhpcy5fY292ZXJzLG49dGhpcy5fY292ZXJzPVtdLGk9dGhpcyxyPXRoaXMuX2NyZWF0aW5nQ292ZXI7cmV0dXJuIG5ldyBNbShlLHQsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG8odC5fX2JydXNoT3B0aW9uLGUpfSksbykuYWRkKGEpLnVwZGF0ZShhKS5yZW1vdmUoKGZ1bmN0aW9uKHQpe2VbdF0hPT1yJiZpLmdyb3VwLnJlbW92ZShlW3RdKX0pKS5leGVjdXRlKCksdGhpcztmdW5jdGlvbiBvKHQsZSl7cmV0dXJuKG51bGwhPXQuaWQ/dC5pZDoiXDAtYnJ1c2gtaW5kZXgtIitlKSsiLSIrdC5icnVzaFR5cGV9ZnVuY3Rpb24gYShvLGEpe3ZhciBzPXRbb107aWYobnVsbCE9YSYmZVthXT09PXIpbltvXT1lW2FdO2Vsc2V7dmFyIGw9bltvXT1udWxsIT1hPyhlW2FdLl9fYnJ1c2hPcHRpb249cyxlW2FdKTpSayhpLE9rKGkscykpO3prKGksbCl9fX0sZS5wcm90b3R5cGUudW5tb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZUJydXNoKCExKSxHayh0aGlzKSx0aGlzLl96ci5yZW1vdmUodGhpcy5ncm91cCksdGhpc30sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMudW5tb3VudCgpLHRoaXMub2ZmKCl9LGV9KFh0KTtmdW5jdGlvbiBPayh0LGUpe3ZhciBuPXNMW2UuYnJ1c2hUeXBlXS5jcmVhdGVDb3Zlcih0LGUpO3JldHVybiBuLl9fYnJ1c2hPcHRpb249ZSxFayhuLGUpLHQuZ3JvdXAuYWRkKG4pLG59ZnVuY3Rpb24gUmsodCxlKXt2YXIgbj1WayhlKTtyZXR1cm4gbi5lbmRDcmVhdGluZyYmKG4uZW5kQ3JlYXRpbmcodCxlKSxFayhlLGUuX19icnVzaE9wdGlvbikpLGV9ZnVuY3Rpb24gTmsodCxlKXt2YXIgbj1lLl9fYnJ1c2hPcHRpb247VmsoZSkudXBkYXRlQ292ZXJTaGFwZSh0LGUsbi5yYW5nZSxuKX1mdW5jdGlvbiBFayh0LGUpe3ZhciBuPWUuejtudWxsPT1uJiYobj0xZTQpLHQudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe3Quej1uLHQuejI9bn0pKX1mdW5jdGlvbiB6ayh0LGUpe1ZrKGUpLnVwZGF0ZUNvbW1vbih0LGUpLE5rKHQsZSl9ZnVuY3Rpb24gVmsodCl7cmV0dXJuIHNMW3QuX19icnVzaE9wdGlvbi5icnVzaFR5cGVdfWZ1bmN0aW9uIEJrKHQsZSxuKXt2YXIgaSxyPXQuX3BhbmVscztpZighcilyZXR1cm4gU2s7dmFyIG89dC5fdHJhbnNmb3JtO3JldHVybiBFKHIsKGZ1bmN0aW9uKHQpe3QuaXNUYXJnZXRCeUN1cnNvcihlLG4sbykmJihpPXQpfSkpLGl9ZnVuY3Rpb24gRmsodCxlKXt2YXIgbj10Ll9wYW5lbHM7aWYoIW4pcmV0dXJuIFNrO3ZhciBpPWUuX19icnVzaE9wdGlvbi5wYW5lbElkO3JldHVybiBudWxsIT1pP25baV06U2t9ZnVuY3Rpb24gR2sodCl7dmFyIGU9dC5fY292ZXJzLG49ZS5sZW5ndGg7cmV0dXJuIEUoZSwoZnVuY3Rpb24oZSl7dC5ncm91cC5yZW1vdmUoZSl9KSx0KSxlLmxlbmd0aD0wLCEhbn1mdW5jdGlvbiBXayh0LGUpe3ZhciBuPXoodC5fY292ZXJzLChmdW5jdGlvbih0KXt2YXIgZT10Ll9fYnJ1c2hPcHRpb24sbj1UKGUucmFuZ2UpO3JldHVybnticnVzaFR5cGU6ZS5icnVzaFR5cGUscGFuZWxJZDplLnBhbmVsSWQscmFuZ2U6bn19KSk7dC50cmlnZ2VyKCJicnVzaCIse2FyZWFzOm4saXNFbmQ6ISFlLmlzRW5kLHJlbW92ZU9uQ2xpY2s6ISFlLnJlbW92ZU9uQ2xpY2t9KX1mdW5jdGlvbiBIayh0KXt2YXIgZT10Lmxlbmd0aC0xO3JldHVybiBlPDAmJihlPTApLFt0WzBdLHRbZV1dfWZ1bmN0aW9uIFlrKHQsZSxuLGkpe3ZhciByPW5ldyBDcjtyZXR1cm4gci5hZGQobmV3IENzKHtuYW1lOiJtYWluIixzdHlsZTpqayhuKSxzaWxlbnQ6ITAsZHJhZ2dhYmxlOiEwLGN1cnNvcjoibW92ZSIsZHJpZnQ6SCgkayx0LGUscixbIm4iLCJzIiwidyIsImUiXSksb25kcmFnZW5kOkgoV2ssZSx7aXNFbmQ6ITB9KX0pKSxFKGksKGZ1bmN0aW9uKG4pe3IuYWRkKG5ldyBDcyh7bmFtZTpuLmpvaW4oIiIpLHN0eWxlOntvcGFjaXR5OjB9LGRyYWdnYWJsZTohMCxzaWxlbnQ6ITAsaW52aXNpYmxlOiEwLGRyaWZ0OkgoJGssdCxlLHIsbiksb25kcmFnZW5kOkgoV2ssZSx7aXNFbmQ6ITB9KX0pKX0pKSxyfWZ1bmN0aW9uIFVrKHQsZSxuLGkpe3ZhciByPWkuYnJ1c2hTdHlsZS5saW5lV2lkdGh8fDAsbz1JayhyLDYpLGE9blswXVswXSxzPW5bMV1bMF0sbD1hLXIvMix1PXMtci8yLGg9blswXVsxXSxjPW5bMV1bMV0scD1oLW8rci8yLGQ9Yy1vK3IvMixmPWgtYSxnPWMtcyx5PWYrcix2PWcrcjtaayh0LGUsIm1haW4iLGEscyxmLGcpLGkudHJhbnNmb3JtYWJsZSYmKFprKHQsZSwidyIsbCx1LG8sdiksWmsodCxlLCJlIixwLHUsbyx2KSxaayh0LGUsIm4iLGwsdSx5LG8pLFprKHQsZSwicyIsbCxkLHksbyksWmsodCxlLCJudyIsbCx1LG8sbyksWmsodCxlLCJuZSIscCx1LG8sbyksWmsodCxlLCJzdyIsbCxkLG8sbyksWmsodCxlLCJzZSIscCxkLG8sbykpfWZ1bmN0aW9uIFhrKHQsZSl7dmFyIG49ZS5fX2JydXNoT3B0aW9uLGk9bi50cmFuc2Zvcm1hYmxlLHI9ZS5jaGlsZEF0KDApO3IudXNlU3R5bGUoamsobikpLHIuYXR0cih7c2lsZW50OiFpLGN1cnNvcjppPyJtb3ZlIjoiZGVmYXVsdCJ9KSxFKFtbInciXSxbImUiXSxbIm4iXSxbInMiXSxbInMiLCJlIl0sWyJzIiwidyJdLFsibiIsImUiXSxbIm4iLCJ3Il1dLChmdW5jdGlvbihuKXt2YXIgcj1lLmNoaWxkT2ZOYW1lKG4uam9pbigiIikpLG89MT09PW4ubGVuZ3RoP0trKHQsblswXSk6ZnVuY3Rpb24odCxlKXt2YXIgbj1bS2sodCxlWzBdKSxLayh0LGVbMV0pXTtyZXR1cm4oImUiPT09blswXXx8InciPT09blswXSkmJm4ucmV2ZXJzZSgpLG4uam9pbigiIil9KHQsbik7ciYmci5hdHRyKHtzaWxlbnQ6IWksaW52aXNpYmxlOiFpLGN1cnNvcjppP0FrW29dKyItcmVzaXplIjpudWxsfSl9KSl9ZnVuY3Rpb24gWmsodCxlLG4saSxyLG8sYSl7dmFyIHM9ZS5jaGlsZE9mTmFtZShuKTtzJiZzLnNldFNoYXBlKGZ1bmN0aW9uKHQpe3ZhciBlPU1rKHRbMF1bMF0sdFsxXVswXSksbj1Nayh0WzBdWzFdLHRbMV1bMV0pLGk9SWsodFswXVswXSx0WzFdWzBdKSxyPUlrKHRbMF1bMV0sdFsxXVsxXSk7cmV0dXJue3g6ZSx5Om4sd2lkdGg6aS1lLGhlaWdodDpyLW59fSh0TCh0LGUsW1tpLHJdLFtpK28scithXV0pKSl9ZnVuY3Rpb24gamsodCl7cmV0dXJuIGsoe3N0cm9rZU5vU2NhbGU6ITB9LHQuYnJ1c2hTdHlsZSl9ZnVuY3Rpb24gcWsodCxlLG4saSl7dmFyIHI9W01rKHQsbiksTWsoZSxpKV0sbz1bSWsodCxuKSxJayhlLGkpXTtyZXR1cm5bW3JbMF0sb1swXV0sW3JbMV0sb1sxXV1dfWZ1bmN0aW9uIEtrKHQsZSl7cmV0dXJue2xlZnQ6InciLHJpZ2h0OiJlIix0b3A6Im4iLGJvdHRvbToicyJ9W0NoKHt3OiJsZWZ0IixlOiJyaWdodCIsbjoidG9wIixzOiJib3R0b20ifVtlXSxmdW5jdGlvbih0KXtyZXR1cm4gSWgodC5ncm91cCl9KHQpKV19ZnVuY3Rpb24gJGsodCxlLG4saSxyLG8pe3ZhciBhPW4uX19icnVzaE9wdGlvbixzPXQudG9SZWN0UmFuZ2UoYS5yYW5nZSksbD1RayhlLHIsbyk7RShpLChmdW5jdGlvbih0KXt2YXIgZT1Ea1t0XTtzW2VbMF1dW2VbMV1dKz1sW2VbMF1dfSkpLGEucmFuZ2U9dC5mcm9tUmVjdFJhbmdlKHFrKHNbMF1bMF0sc1sxXVswXSxzWzBdWzFdLHNbMV1bMV0pKSx6ayhlLG4pLFdrKGUse2lzRW5kOiExfSl9ZnVuY3Rpb24gSmsodCxlLG4saSl7dmFyIHI9ZS5fX2JydXNoT3B0aW9uLnJhbmdlLG89UWsodCxuLGkpO0UociwoZnVuY3Rpb24odCl7dFswXSs9b1swXSx0WzFdKz1vWzFdfSkpLHprKHQsZSksV2sodCx7aXNFbmQ6ITF9KX1mdW5jdGlvbiBRayh0LGUsbil7dmFyIGk9dC5ncm91cCxyPWkudHJhbnNmb3JtQ29vcmRUb0xvY2FsKGUsbiksbz1pLnRyYW5zZm9ybUNvb3JkVG9Mb2NhbCgwLDApO3JldHVybltyWzBdLW9bMF0sclsxXS1vWzFdXX1mdW5jdGlvbiB0TCh0LGUsbil7dmFyIGk9RmsodCxlKTtyZXR1cm4gaSYmaSE9PVNrP2kuY2xpcFBhdGgobix0Ll90cmFuc2Zvcm0pOlQobil9ZnVuY3Rpb24gZUwodCl7dmFyIGU9dC5ldmVudDtlLnByZXZlbnREZWZhdWx0JiZlLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gbkwodCxlLG4pe3JldHVybiB0LmNoaWxkT2ZOYW1lKCJtYWluIikuY29udGFpbihlLG4pfWZ1bmN0aW9uIGlMKHQsZSxuLGkpe3ZhciByLG89dC5fY3JlYXRpbmdDb3ZlcixhPXQuX2NyZWF0aW5nUGFuZWwscz10Ll9icnVzaE9wdGlvbjtpZih0Ll90cmFjay5wdXNoKG4uc2xpY2UoKSksZnVuY3Rpb24odCl7dmFyIGU9dC5fdHJhY2s7aWYoIWUubGVuZ3RoKXJldHVybiExO3ZhciBuPWVbZS5sZW5ndGgtMV0saT1lWzBdLHI9blswXS1pWzBdLG89blsxXS1pWzFdO3JldHVybiBUayhyKnIrbypvLC41KT42fSh0KXx8byl7aWYoYSYmIW8peyJzaW5nbGUiPT09cy5icnVzaE1vZGUmJkdrKHQpO3ZhciBsPVQocyk7bC5icnVzaFR5cGU9ckwobC5icnVzaFR5cGUsYSksbC5wYW5lbElkPWE9PT1Taz9udWxsOmEucGFuZWxJZCxvPXQuX2NyZWF0aW5nQ292ZXI9T2sodCxsKSx0Ll9jb3ZlcnMucHVzaChvKX1pZihvKXt2YXIgdT1zTFtyTCh0Ll9icnVzaFR5cGUsYSldO28uX19icnVzaE9wdGlvbi5yYW5nZT11LmdldENyZWF0aW5nUmFuZ2UodEwodCxvLHQuX3RyYWNrKSksaSYmKFJrKHQsbyksdS51cGRhdGVDb21tb24odCxvKSksTmsodCxvKSxyPXtpc0VuZDppfX19ZWxzZSBpJiYic2luZ2xlIj09PXMuYnJ1c2hNb2RlJiZzLnJlbW92ZU9uQ2xpY2smJkJrKHQsZSxuKSYmR2sodCkmJihyPXtpc0VuZDppLHJlbW92ZU9uQ2xpY2s6ITB9KTtyZXR1cm4gcn1mdW5jdGlvbiByTCh0LGUpe3JldHVybiJhdXRvIj09PXQ/ZS5kZWZhdWx0QnJ1c2hUeXBlOnR9dmFyIG9MPXttb3VzZWRvd246ZnVuY3Rpb24odCl7aWYodGhpcy5fZHJhZ2dpbmcpYUwodGhpcyx0KTtlbHNlIGlmKCF0LnRhcmdldHx8IXQudGFyZ2V0LmRyYWdnYWJsZSl7ZUwodCk7dmFyIGU9dGhpcy5ncm91cC50cmFuc2Zvcm1Db29yZFRvTG9jYWwodC5vZmZzZXRYLHQub2Zmc2V0WSk7dGhpcy5fY3JlYXRpbmdDb3Zlcj1udWxsLCh0aGlzLl9jcmVhdGluZ1BhbmVsPUJrKHRoaXMsdCxlKSkmJih0aGlzLl9kcmFnZ2luZz0hMCx0aGlzLl90cmFjaz1bZS5zbGljZSgpXSl9fSxtb3VzZW1vdmU6ZnVuY3Rpb24odCl7dmFyIGU9dC5vZmZzZXRYLG49dC5vZmZzZXRZLGk9dGhpcy5ncm91cC50cmFuc2Zvcm1Db29yZFRvTG9jYWwoZSxuKTtpZihmdW5jdGlvbih0LGUsbil7aWYodC5fYnJ1c2hUeXBlJiYhZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuX3pyO3JldHVybiBlPDB8fGU+aS5nZXRXaWR0aCgpfHxuPDB8fG4+aS5nZXRIZWlnaHQoKX0odCxlLm9mZnNldFgsZS5vZmZzZXRZKSl7dmFyIGk9dC5fenIscj10Ll9jb3ZlcnMsbz1Cayh0LGUsbik7aWYoIXQuX2RyYWdnaW5nKWZvcih2YXIgYT0wO2E8ci5sZW5ndGg7YSsrKXt2YXIgcz1yW2FdLl9fYnJ1c2hPcHRpb247aWYobyYmKG89PT1Ta3x8cy5wYW5lbElkPT09by5wYW5lbElkKSYmc0xbcy5icnVzaFR5cGVdLmNvbnRhaW4oclthXSxuWzBdLG5bMV0pKXJldHVybn1vJiZpLnNldEN1cnNvclN0eWxlKCJjcm9zc2hhaXIiKX19KHRoaXMsdCxpKSx0aGlzLl9kcmFnZ2luZyl7ZUwodCk7dmFyIHI9aUwodGhpcyx0LGksITEpO3ImJldrKHRoaXMscil9fSxtb3VzZXVwOmZ1bmN0aW9uKHQpe2FMKHRoaXMsdCl9fTtmdW5jdGlvbiBhTCh0LGUpe2lmKHQuX2RyYWdnaW5nKXtlTChlKTt2YXIgbj1lLm9mZnNldFgsaT1lLm9mZnNldFkscj10Lmdyb3VwLnRyYW5zZm9ybUNvb3JkVG9Mb2NhbChuLGkpLG89aUwodCxlLHIsITApO3QuX2RyYWdnaW5nPSExLHQuX3RyYWNrPVtdLHQuX2NyZWF0aW5nQ292ZXI9bnVsbCxvJiZXayh0LG8pfX12YXIgc0w9e2xpbmVYOmxMKDApLGxpbmVZOmxMKDEpLHJlY3Q6e2NyZWF0ZUNvdmVyOmZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdH1yZXR1cm4gWWsoe3RvUmVjdFJhbmdlOm4sZnJvbVJlY3RSYW5nZTpufSx0LGUsW1sidyJdLFsiZSJdLFsibiJdLFsicyJdLFsicyIsImUiXSxbInMiLCJ3Il0sWyJuIiwiZSJdLFsibiIsInciXV0pfSxnZXRDcmVhdGluZ1JhbmdlOmZ1bmN0aW9uKHQpe3ZhciBlPUhrKHQpO3JldHVybiBxayhlWzFdWzBdLGVbMV1bMV0sZVswXVswXSxlWzBdWzFdKX0sdXBkYXRlQ292ZXJTaGFwZTpmdW5jdGlvbih0LGUsbixpKXtVayh0LGUsbixpKX0sdXBkYXRlQ29tbW9uOlhrLGNvbnRhaW46bkx9LHBvbHlnb246e2NyZWF0ZUNvdmVyOmZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IENyO3JldHVybiBuLmFkZChuZXcgUnUoe25hbWU6Im1haW4iLHN0eWxlOmprKGUpLHNpbGVudDohMH0pKSxufSxnZXRDcmVhdGluZ1JhbmdlOmZ1bmN0aW9uKHQpe3JldHVybiB0fSxlbmRDcmVhdGluZzpmdW5jdGlvbih0LGUpe2UucmVtb3ZlKGUuY2hpbGRBdCgwKSksZS5hZGQobmV3IFB1KHtuYW1lOiJtYWluIixkcmFnZ2FibGU6ITAsZHJpZnQ6SChKayx0LGUpLG9uZHJhZ2VuZDpIKFdrLHQse2lzRW5kOiEwfSl9KSl9LHVwZGF0ZUNvdmVyU2hhcGU6ZnVuY3Rpb24odCxlLG4saSl7ZS5jaGlsZEF0KDApLnNldFNoYXBlKHtwb2ludHM6dEwodCxlLG4pfSl9LHVwZGF0ZUNvbW1vbjpYayxjb250YWluOm5MfX07ZnVuY3Rpb24gbEwodCl7cmV0dXJue2NyZWF0ZUNvdmVyOmZ1bmN0aW9uKGUsbil7cmV0dXJuIFlrKHt0b1JlY3RSYW5nZTpmdW5jdGlvbihlKXt2YXIgbj1bZSxbMCwxMDBdXTtyZXR1cm4gdCYmbi5yZXZlcnNlKCksbn0sZnJvbVJlY3RSYW5nZTpmdW5jdGlvbihlKXtyZXR1cm4gZVt0XX19LGUsbixbW1sidyJdLFsiZSJdXSxbWyJuIl0sWyJzIl1dXVt0XSl9LGdldENyZWF0aW5nUmFuZ2U6ZnVuY3Rpb24oZSl7dmFyIG49SGsoZSk7cmV0dXJuW01rKG5bMF1bdF0sblsxXVt0XSksSWsoblswXVt0XSxuWzFdW3RdKV19LHVwZGF0ZUNvdmVyU2hhcGU6ZnVuY3Rpb24oZSxuLGkscil7dmFyIG8sYT1GayhlLG4pO2lmKGEhPT1TayYmYS5nZXRMaW5lYXJCcnVzaE90aGVyRXh0ZW50KW89YS5nZXRMaW5lYXJCcnVzaE90aGVyRXh0ZW50KHQpO2Vsc2V7dmFyIHM9ZS5fenI7bz1bMCxbcy5nZXRXaWR0aCgpLHMuZ2V0SGVpZ2h0KCldWzEtdF1dfXZhciBsPVtpLG9dO3QmJmwucmV2ZXJzZSgpLFVrKGUsbixsLHIpfSx1cGRhdGVDb21tb246WGssY29udGFpbjpuTH19ZnVuY3Rpb24gdUwodCl7cmV0dXJuIHQ9cEwodCksZnVuY3Rpb24oZSl7cmV0dXJuIGtoKGUsdCl9fWZ1bmN0aW9uIGhMKHQsZSl7cmV0dXJuIHQ9cEwodCksZnVuY3Rpb24obil7dmFyIGk9bnVsbCE9ZT9lOm4scj1pP3Qud2lkdGg6dC5oZWlnaHQsbz1pP3QueDp0Lnk7cmV0dXJuW28sbysocnx8MCldfX1mdW5jdGlvbiBjTCh0LGUsbil7dmFyIGk9cEwodCk7cmV0dXJuIGZ1bmN0aW9uKHQscil7cmV0dXJuIGkuY29udGFpbihyWzBdLHJbMV0pJiYhekkodCxlLG4pfX1mdW5jdGlvbiBwTCh0KXtyZXR1cm4gc3IuY3JlYXRlKHQpfXZhciBkTD1bImF4aXNMaW5lIiwiYXhpc1RpY2tMYWJlbCIsImF4aXNOYW1lIl0sZkw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlLG4pe3QucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLCh0aGlzLl9icnVzaENvbnRyb2xsZXI9bmV3IFBrKG4uZ2V0WnIoKSkpLm9uKCJicnVzaCIsVyh0aGlzLl9vbkJydXNoLHRoaXMpKX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe2lmKCFmdW5jdGlvbih0LGUsbil7cmV0dXJuIG4mJiJheGlzQXJlYVNlbGVjdCI9PT1uLnR5cGUmJmUuZmluZENvbXBvbmVudHMoe21haW5UeXBlOiJwYXJhbGxlbEF4aXMiLHF1ZXJ5Om59KVswXT09PXR9KHQsZSxpKSl7dGhpcy5heGlzTW9kZWw9dCx0aGlzLmFwaT1uLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCk7dmFyIHI9dGhpcy5fYXhpc0dyb3VwO2lmKHRoaXMuX2F4aXNHcm91cD1uZXcgQ3IsdGhpcy5ncm91cC5hZGQodGhpcy5fYXhpc0dyb3VwKSx0LmdldCgic2hvdyIpKXt2YXIgbz1mdW5jdGlvbih0LGUpe3JldHVybiBlLmdldENvbXBvbmVudCgicGFyYWxsZWwiLHQuZ2V0KCJwYXJhbGxlbEluZGV4IikpfSh0LGUpLGE9by5jb29yZGluYXRlU3lzdGVtLHM9dC5nZXRBcmVhU2VsZWN0U3R5bGUoKSxsPXMud2lkdGgsdT10LmF4aXMuZGltLGg9QSh7c3Ryb2tlQ29udGFpblRocmVzaG9sZDpsfSxhLmdldEF4aXNMYXlvdXQodSkpLGM9bmV3IEZNKHQsaCk7RShkTCxjLmFkZCxjKSx0aGlzLl9heGlzR3JvdXAuYWRkKGMuZ2V0R3JvdXAoKSksdGhpcy5fcmVmcmVzaEJydXNoQ29udHJvbGxlcihoLHMsdCxvLGwsbiksQWgocix0aGlzLl9heGlzR3JvdXAsdCl9fX0sZS5wcm90b3R5cGUuX3JlZnJlc2hCcnVzaENvbnRyb2xsZXI9ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhPW4uYXhpcy5nZXRFeHRlbnQoKSxzPWFbMV0tYVswXSxsPU1hdGgubWluKDMwLC4xKk1hdGguYWJzKHMpKSx1PXNyLmNyZWF0ZSh7eDphWzBdLHk6LXIvMix3aWR0aDpzLGhlaWdodDpyfSk7dS54LT1sLHUud2lkdGgrPTIqbCx0aGlzLl9icnVzaENvbnRyb2xsZXIubW91bnQoe2VuYWJsZUdsb2JhbFBhbjohMCxyb3RhdGlvbjp0LnJvdGF0aW9uLHg6dC5wb3NpdGlvblswXSx5OnQucG9zaXRpb25bMV19KS5zZXRQYW5lbHMoW3twYW5lbElkOiJwbCIsY2xpcFBhdGg6dUwodSksaXNUYXJnZXRCeUN1cnNvcjpjTCh1LG8saSksZ2V0TGluZWFyQnJ1c2hPdGhlckV4dGVudDpoTCh1LDApfV0pLmVuYWJsZUJydXNoKHticnVzaFR5cGU6ImxpbmVYIixicnVzaFN0eWxlOmUscmVtb3ZlT25DbGljazohMH0pLnVwZGF0ZUNvdmVycyhmdW5jdGlvbih0KXt2YXIgZT10LmF4aXM7cmV0dXJuIHoodC5hY3RpdmVJbnRlcnZhbHMsKGZ1bmN0aW9uKHQpe3JldHVybnticnVzaFR5cGU6ImxpbmVYIixwYW5lbElkOiJwbCIscmFuZ2U6W2UuZGF0YVRvQ29vcmQodFswXSwhMCksZS5kYXRhVG9Db29yZCh0WzFdLCEwKV19fSkpfShuKSl9LGUucHJvdG90eXBlLl9vbkJydXNoPWZ1bmN0aW9uKHQpe3ZhciBlPXQuYXJlYXMsbj10aGlzLmF4aXNNb2RlbCxpPW4uYXhpcyxyPXooZSwoZnVuY3Rpb24odCl7cmV0dXJuW2kuY29vcmRUb0RhdGEodC5yYW5nZVswXSwhMCksaS5jb29yZFRvRGF0YSh0LnJhbmdlWzFdLCEwKV19KSk7KCFuLm9wdGlvbi5yZWFsdGltZT09PXQuaXNFbmR8fHQucmVtb3ZlT25DbGljaykmJnRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJheGlzQXJlYVNlbGVjdCIscGFyYWxsZWxBeGlzSWQ6bi5pZCxpbnRlcnZhbHM6cn0pfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fYnJ1c2hDb250cm9sbGVyLmRpc3Bvc2UoKX0sZS50eXBlPSJwYXJhbGxlbEF4aXMiLGV9KGdnKTt2YXIgZ0w9e3R5cGU6ImF4aXNBcmVhU2VsZWN0IixldmVudDoiYXhpc0FyZWFTZWxlY3RlZCJ9O3ZhciB5TD17dHlwZToidmFsdWUiLGFyZWFTZWxlY3RTdHlsZTp7d2lkdGg6MjAsYm9yZGVyV2lkdGg6MSxib3JkZXJDb2xvcjoicmdiYSgxNjAsMTk3LDIzMikiLGNvbG9yOiJyZ2JhKDE2MCwxOTcsMjMyKSIsb3BhY2l0eTouM30scmVhbHRpbWU6ITAsejoxMH07ZnVuY3Rpb24gdkwodCl7dC5yZWdpc3RlckNvbXBvbmVudFZpZXcobmspLHQucmVnaXN0ZXJDb21wb25lbnRNb2RlbChvayksdC5yZWdpc3RlckNvb3JkaW5hdGVTeXN0ZW0oInBhcmFsbGVsIixiayksdC5yZWdpc3RlclByZXByb2Nlc3NvcihlayksdC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKHdrKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhmTCksU00odCwicGFyYWxsZWwiLHdrLHlMKSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQWN0aW9uKGdMLChmdW5jdGlvbih0LGUpe2UuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InBhcmFsbGVsQXhpcyIscXVlcnk6dH0sKGZ1bmN0aW9uKGUpe2UuYXhpcy5tb2RlbC5zZXRBY3RpdmVJbnRlcnZhbHModC5pbnRlcnZhbHMpfSkpfSkpLHQucmVnaXN0ZXJBY3Rpb24oInBhcmFsbGVsQXhpc0V4cGFuZCIsKGZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToicGFyYWxsZWwiLHF1ZXJ5OnR9LChmdW5jdGlvbihlKXtlLnNldEF4aXNFeHBhbmQodCl9KSl9KSl9KHQpfXZhciBtTD1mdW5jdGlvbigpe3RoaXMueDE9MCx0aGlzLnkxPTAsdGhpcy54Mj0wLHRoaXMueTI9MCx0aGlzLmNweDE9MCx0aGlzLmNweTE9MCx0aGlzLmNweDI9MCx0aGlzLmNweTI9MCx0aGlzLmV4dGVudD0wfSx4TD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgbUx9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuPWUuZXh0ZW50O3QubW92ZVRvKGUueDEsZS55MSksdC5iZXppZXJDdXJ2ZVRvKGUuY3B4MSxlLmNweTEsZS5jcHgyLGUuY3B5MixlLngyLGUueTIpLCJ2ZXJ0aWNhbCI9PT1lLm9yaWVudD8odC5saW5lVG8oZS54MituLGUueTIpLHQuYmV6aWVyQ3VydmVUbyhlLmNweDIrbixlLmNweTIsZS5jcHgxK24sZS5jcHkxLGUueDErbixlLnkxKSk6KHQubGluZVRvKGUueDIsZS55MituKSx0LmJlemllckN1cnZlVG8oZS5jcHgyLGUuY3B5MituLGUuY3B4MSxlLmNweTErbixlLngxLGUueTErbikpLHQuY2xvc2VQYXRoKCl9LGUucHJvdG90eXBlLmhpZ2hsaWdodD1mdW5jdGlvbigpe19sKHRoaXMpfSxlLnByb3RvdHlwZS5kb3ducGxheT1mdW5jdGlvbigpe2JsKHRoaXMpfSxlfShncyksX0w9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLl9mb2N1c0FkamFjZW5jeURpc2FibGVkPSExLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMscj10LmdldEdyYXBoKCksbz10aGlzLmdyb3VwLGE9dC5sYXlvdXRJbmZvLHM9YS53aWR0aCxsPWEuaGVpZ2h0LHU9dC5nZXREYXRhKCksaD10LmdldERhdGEoImVkZ2UiKSxjPXQuZ2V0KCJvcmllbnQiKTt0aGlzLl9tb2RlbD10LG8ucmVtb3ZlQWxsKCksby54PWEueCxvLnk9YS55LHIuZWFjaEVkZ2UoKGZ1bmN0aW9uKGUpe3ZhciBuPW5ldyB4TCxpPUhzKG4pO2kuZGF0YUluZGV4PWUuZGF0YUluZGV4LGkuc2VyaWVzSW5kZXg9dC5zZXJpZXNJbmRleCxpLmRhdGFUeXBlPSJlZGdlIjt2YXIgcixhLHUscCxkLGYsZyx5LHY9ZS5nZXRNb2RlbCgpLG09di5nZXRNb2RlbCgibGluZVN0eWxlIikseD1tLmdldCgiY3VydmVuZXNzIiksXz1lLm5vZGUxLmdldExheW91dCgpLGI9ZS5ub2RlMS5nZXRNb2RlbCgpLHc9Yi5nZXQoImxvY2FsWCIpLFM9Yi5nZXQoImxvY2FsWSIpLE09ZS5ub2RlMi5nZXRMYXlvdXQoKSxJPWUubm9kZTIuZ2V0TW9kZWwoKSxUPUkuZ2V0KCJsb2NhbFgiKSxDPUkuZ2V0KCJsb2NhbFkiKSxEPWUuZ2V0TGF5b3V0KCk7c3dpdGNoKG4uc2hhcGUuZXh0ZW50PU1hdGgubWF4KDEsRC5keSksbi5zaGFwZS5vcmllbnQ9YywidmVydGljYWwiPT09Yz8ocj0obnVsbCE9dz93KnM6Xy54KStELnN5LGE9KG51bGwhPVM/UypsOl8ueSkrXy5keSx1PShudWxsIT1UP1QqczpNLngpK0QudHksZD1yLGY9YSooMS14KSsocD1udWxsIT1DP0MqbDpNLnkpKngsZz11LHk9YSp4K3AqKDEteCkpOihyPShudWxsIT13P3cqczpfLngpK18uZHgsYT0obnVsbCE9Uz9TKmw6Xy55KStELnN5LGQ9ciooMS14KSsodT1udWxsIT1UP1QqczpNLngpKngsZj1hLGc9cip4K3UqKDEteCkseT1wPShudWxsIT1DP0MqbDpNLnkpK0QudHkpLG4uc2V0U2hhcGUoe3gxOnIseTE6YSx4Mjp1LHkyOnAsY3B4MTpkLGNweTE6ZixjcHgyOmcsY3B5Mjp5fSksbi51c2VTdHlsZShtLmdldEl0ZW1TdHlsZSgpKSxuLnN0eWxlLmZpbGwpe2Nhc2Uic291cmNlIjpuLnN0eWxlLmZpbGw9ZS5ub2RlMS5nZXRWaXN1YWwoImNvbG9yIiksbi5zdHlsZS5kZWNhbD1lLm5vZGUxLmdldFZpc3VhbCgic3R5bGUiKS5kZWNhbDticmVhaztjYXNlInRhcmdldCI6bi5zdHlsZS5maWxsPWUubm9kZTIuZ2V0VmlzdWFsKCJjb2xvciIpLG4uc3R5bGUuZGVjYWw9ZS5ub2RlMi5nZXRWaXN1YWwoInN0eWxlIikuZGVjYWw7YnJlYWs7Y2FzZSJncmFkaWVudCI6dmFyIEE9ZS5ub2RlMS5nZXRWaXN1YWwoImNvbG9yIiksaz1lLm5vZGUyLmdldFZpc3VhbCgiY29sb3IiKTtYKEEpJiZYKGspJiYobi5zdHlsZS5maWxsPW5ldyBYdSgwLDAsKygiaG9yaXpvbnRhbCI9PT1jKSwrKCJ2ZXJ0aWNhbCI9PT1jKSxbe2NvbG9yOkEsb2Zmc2V0OjB9LHtjb2xvcjprLG9mZnNldDoxfV0pKX12YXIgTD12LmdldE1vZGVsKCJlbXBoYXNpcyIpO1ZsKG4sdiwibGluZVN0eWxlIiwoZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0SXRlbVN0eWxlKCl9KSksby5hZGQobiksaC5zZXRJdGVtR3JhcGhpY0VsKGUuZGF0YUluZGV4LG4pO3ZhciBQPUwuZ2V0KCJmb2N1cyIpO1JsKG4sImFkamFjZW5jeSI9PT1QP2UuZ2V0QWRqYWNlbnREYXRhSW5kaWNlcygpOlAsTC5nZXQoImJsdXJTY29wZSIpLEwuZ2V0KCJkaXNhYmxlZCIpKSxIcyhuKS5kYXRhVHlwZT0iZWRnZSJ9KSksci5lYWNoTm9kZSgoZnVuY3Rpb24oZSl7dmFyIG49ZS5nZXRMYXlvdXQoKSxpPWUuZ2V0TW9kZWwoKSxyPWkuZ2V0KCJsb2NhbFgiKSxhPWkuZ2V0KCJsb2NhbFkiKSxoPWkuZ2V0TW9kZWwoImVtcGhhc2lzIiksYz1uZXcgQ3Moe3NoYXBlOnt4Om51bGwhPXI/cipzOm4ueCx5Om51bGwhPWE/YSpsOm4ueSx3aWR0aDpuLmR4LGhlaWdodDpuLmR5fSxzdHlsZTppLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSx6MjoxMH0pO0hoKGMsWWgoaSkse2xhYmVsRmV0Y2hlcjp0LGxhYmVsRGF0YUluZGV4OmUuZGF0YUluZGV4LGRlZmF1bHRUZXh0OmUuaWR9KSxjLmRpc2FibGVMYWJlbEFuaW1hdGlvbj0hMCxjLnNldFN0eWxlKCJmaWxsIixlLmdldFZpc3VhbCgiY29sb3IiKSksYy5zZXRTdHlsZSgiZGVjYWwiLGUuZ2V0VmlzdWFsKCJzdHlsZSIpLmRlY2FsKSxWbChjLGkpLG8uYWRkKGMpLHUuc2V0SXRlbUdyYXBoaWNFbChlLmRhdGFJbmRleCxjKSxIcyhjKS5kYXRhVHlwZT0ibm9kZSI7dmFyIHA9aC5nZXQoImZvY3VzIik7UmwoYywiYWRqYWNlbmN5Ij09PXA/ZS5nZXRBZGphY2VudERhdGFJbmRpY2VzKCk6cCxoLmdldCgiYmx1clNjb3BlIiksaC5nZXQoImRpc2FibGVkIikpfSkpLHUuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKGUscil7dS5nZXRJdGVtTW9kZWwocikuZ2V0KCJkcmFnZ2FibGUiKSYmKGUuZHJpZnQ9ZnVuY3Rpb24oZSxvKXtpLl9mb2N1c0FkamFjZW5jeURpc2FibGVkPSEwLHRoaXMuc2hhcGUueCs9ZSx0aGlzLnNoYXBlLnkrPW8sdGhpcy5kaXJ0eSgpLG4uZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImRyYWdOb2RlIixzZXJpZXNJZDp0LmlkLGRhdGFJbmRleDp1LmdldFJhd0luZGV4KHIpLGxvY2FsWDp0aGlzLnNoYXBlLngvcyxsb2NhbFk6dGhpcy5zaGFwZS55L2x9KX0sZS5vbmRyYWdlbmQ9ZnVuY3Rpb24oKXtpLl9mb2N1c0FkamFjZW5jeURpc2FibGVkPSExfSxlLmRyYWdnYWJsZT0hMCxlLmN1cnNvcj0ibW92ZSIpfSkpLCF0aGlzLl9kYXRhJiZ0LmlzQW5pbWF0aW9uRW5hYmxlZCgpJiZvLnNldENsaXBQYXRoKGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uZXcgQ3Moe3NoYXBlOnt4OnQueC0xMCx5OnQueS0xMCx3aWR0aDowLGhlaWdodDp0LmhlaWdodCsyMH19KTtyZXR1cm4gb2goaSx7c2hhcGU6e3dpZHRoOnQud2lkdGgrMjB9fSxlLG4pLGl9KG8uZ2V0Qm91bmRpbmdSZWN0KCksdCwoZnVuY3Rpb24oKXtvLnJlbW92ZUNsaXBQYXRoKCl9KSkpLHRoaXMuX2RhdGE9dC5nZXREYXRhKCl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt9LGUudHlwZT0ic2Fua2V5IixlfSh4Zyk7dmFyIGJMPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5lZGdlc3x8dC5saW5rcyxpPXQuZGF0YXx8dC5ub2RlcyxyPXQubGV2ZWxzO3RoaXMubGV2ZWxNb2RlbHM9W107Zm9yKHZhciBvPXRoaXMubGV2ZWxNb2RlbHMsYT0wO2E8ci5sZW5ndGg7YSsrKW51bGwhPXJbYV0uZGVwdGgmJnJbYV0uZGVwdGg+PTAmJihvW3JbYV0uZGVwdGhdPW5ldyBkYyhyW2FdLHRoaXMsZSkpO2lmKGkmJm4pcmV0dXJuIE9BKGksbix0aGlzLCEwLChmdW5jdGlvbih0LGUpe3Qud3JhcE1ldGhvZCgiZ2V0SXRlbU1vZGVsIiwoZnVuY3Rpb24odCxlKXt2YXIgbj10LnBhcmVudE1vZGVsLGk9bi5nZXREYXRhKCkuZ2V0SXRlbUxheW91dChlKTtpZihpKXt2YXIgcj1pLmRlcHRoLG89bi5sZXZlbE1vZGVsc1tyXTtvJiYodC5wYXJlbnRNb2RlbD1vKX1yZXR1cm4gdH0pKSxlLndyYXBNZXRob2QoImdldEl0ZW1Nb2RlbCIsKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5wYXJlbnRNb2RlbCxpPW4uZ2V0R3JhcGgoKS5nZXRFZGdlQnlJbmRleChlKS5ub2RlMS5nZXRMYXlvdXQoKTtpZihpKXt2YXIgcj1pLmRlcHRoLG89bi5sZXZlbE1vZGVsc1tyXTtvJiYodC5wYXJlbnRNb2RlbD1vKX1yZXR1cm4gdH0pKX0pKS5kYXRhfSxlLnByb3RvdHlwZS5zZXROb2RlUG9zaXRpb249ZnVuY3Rpb24odCxlKXt2YXIgbj0odGhpcy5vcHRpb24uZGF0YXx8dGhpcy5vcHRpb24ubm9kZXMpW3RdO24ubG9jYWxYPWVbMF0sbi5sb2NhbFk9ZVsxXX0sZS5wcm90b3R5cGUuZ2V0R3JhcGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXREYXRhKCkuZ3JhcGh9LGUucHJvdG90eXBlLmdldEVkZ2VEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0R3JhcGgoKS5lZGdlRGF0YX0sZS5wcm90b3R5cGUuZm9ybWF0VG9vbHRpcD1mdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gaXNOYU4odCl8fG51bGw9PXR9aWYoImVkZ2UiPT09bil7dmFyIHI9dGhpcy5nZXREYXRhUGFyYW1zKHQsbiksbz1yLmRhdGEsYT1yLnZhbHVlO3JldHVybiBYZigibmFtZVZhbHVlIix7bmFtZTpvLnNvdXJjZSsiIC0tICIrby50YXJnZXQsdmFsdWU6YSxub1ZhbHVlOmkoYSl9KX12YXIgcz10aGlzLmdldEdyYXBoKCkuZ2V0Tm9kZUJ5SW5kZXgodCkuZ2V0TGF5b3V0KCkudmFsdWUsbD10aGlzLmdldERhdGFQYXJhbXModCxuKS5kYXRhLm5hbWU7cmV0dXJuIFhmKCJuYW1lVmFsdWUiLHtuYW1lOm51bGwhPWw/bCsiIjpudWxsLHZhbHVlOnMsbm9WYWx1ZTppKHMpfSl9LGUucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQ9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmdldERhdGFQYXJhbXM9ZnVuY3Rpb24oZSxuKXt2YXIgaT10LnByb3RvdHlwZS5nZXREYXRhUGFyYW1zLmNhbGwodGhpcyxlLG4pO2lmKG51bGw9PWkudmFsdWUmJiJub2RlIj09PW4pe3ZhciByPXRoaXMuZ2V0R3JhcGgoKS5nZXROb2RlQnlJbmRleChlKS5nZXRMYXlvdXQoKS52YWx1ZTtpLnZhbHVlPXJ9cmV0dXJuIGl9LGUudHlwZT0ic2VyaWVzLnNhbmtleSIsZS5kZWZhdWx0T3B0aW9uPXt6OjIsY29vcmRpbmF0ZVN5c3RlbToidmlldyIsbGVmdDoiNSUiLHRvcDoiNSUiLHJpZ2h0OiIyMCUiLGJvdHRvbToiNSUiLG9yaWVudDoiaG9yaXpvbnRhbCIsbm9kZVdpZHRoOjIwLG5vZGVHYXA6OCxkcmFnZ2FibGU6ITAsbGF5b3V0SXRlcmF0aW9uczozMixsYWJlbDp7c2hvdzohMCxwb3NpdGlvbjoicmlnaHQiLGZvbnRTaXplOjEyfSxsZXZlbHM6W10sbm9kZUFsaWduOiJqdXN0aWZ5IixsaW5lU3R5bGU6e2NvbG9yOiIjMzE0NjU2IixvcGFjaXR5Oi4yLGN1cnZlbmVzczouNX0sZW1waGFzaXM6e2xhYmVsOntzaG93OiEwfSxsaW5lU3R5bGU6e29wYWNpdHk6LjV9fSxzZWxlY3Q6e2l0ZW1TdHlsZTp7Ym9yZGVyQ29sb3I6IiMyMTIxMjEifX0sYW5pbWF0aW9uRWFzaW5nOiJsaW5lYXIiLGFuaW1hdGlvbkR1cmF0aW9uOjFlM30sZX0oc2cpO2Z1bmN0aW9uIHdMKHQsZSl7dC5lYWNoU2VyaWVzQnlUeXBlKCJzYW5rZXkiLChmdW5jdGlvbih0KXt2YXIgbj10LmdldCgibm9kZVdpZHRoIiksaT10LmdldCgibm9kZUdhcCIpLHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4geHAodC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSl9KHQsZSk7dC5sYXlvdXRJbmZvPXI7dmFyIG89ci53aWR0aCxhPXIuaGVpZ2h0LHM9dC5nZXRHcmFwaCgpLGw9cy5ub2Rlcyx1PXMuZWRnZXM7IWZ1bmN0aW9uKHQpe0UodCwoZnVuY3Rpb24odCl7dmFyIGU9UEwodC5vdXRFZGdlcyxMTCksbj1QTCh0LmluRWRnZXMsTEwpLGk9dC5nZXRWYWx1ZSgpfHwwLHI9TWF0aC5tYXgoZSxuLGkpO3Quc2V0TGF5b3V0KHt2YWx1ZTpyfSwhMCl9KSl9KGwpLGZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyxsKXsoZnVuY3Rpb24odCxlLG4saSxyLG8sYSl7Zm9yKHZhciBzPVtdLGw9W10sdT1bXSxoPVtdLGM9MCxwPTA7cDxlLmxlbmd0aDtwKyspc1twXT0xO2ZvcihwPTA7cDx0Lmxlbmd0aDtwKyspbFtwXT10W3BdLmluRWRnZXMubGVuZ3RoLDA9PT1sW3BdJiZ1LnB1c2godFtwXSk7dmFyIGQ9LTE7Zm9yKDt1Lmxlbmd0aDspe2Zvcih2YXIgZj0wO2Y8dS5sZW5ndGg7ZisrKXt2YXIgZz11W2ZdLHk9Zy5ob3N0R3JhcGguZGF0YS5nZXRSYXdEYXRhSXRlbShnLmRhdGFJbmRleCksdj1udWxsIT15LmRlcHRoJiZ5LmRlcHRoPj0wO3YmJnkuZGVwdGg+ZCYmKGQ9eS5kZXB0aCksZy5zZXRMYXlvdXQoe2RlcHRoOnY/eS5kZXB0aDpjfSwhMCksInZlcnRpY2FsIj09PW8/Zy5zZXRMYXlvdXQoe2R5Om59LCEwKTpnLnNldExheW91dCh7ZHg6bn0sITApO2Zvcih2YXIgbT0wO208Zy5vdXRFZGdlcy5sZW5ndGg7bSsrKXt2YXIgeD1nLm91dEVkZ2VzW21dO3NbZS5pbmRleE9mKHgpXT0wO3ZhciBfPXgubm9kZTI7MD09LS1sW3QuaW5kZXhPZihfKV0mJmguaW5kZXhPZihfKTwwJiZoLnB1c2goXyl9fSsrYyx1PWgsaD1bXX1mb3IocD0wO3A8cy5sZW5ndGg7cCsrKWlmKDE9PT1zW3BdKXRocm93IG5ldyBFcnJvcigiU2Fua2V5IGlzIGEgREFHLCB0aGUgb3JpZ2luYWwgZGF0YSBoYXMgY3ljbGUhIik7dmFyIGI9ZD5jLTE/ZDpjLTE7YSYmImxlZnQiIT09YSYmZnVuY3Rpb24odCxlLG4saSl7aWYoInJpZ2h0Ij09PWUpe2Zvcih2YXIgcj1bXSxvPXQsYT0wO28ubGVuZ3RoOyl7Zm9yKHZhciBzPTA7czxvLmxlbmd0aDtzKyspe3ZhciBsPW9bc107bC5zZXRMYXlvdXQoe3NrTm9kZUhlaWdodDphfSwhMCk7Zm9yKHZhciB1PTA7dTxsLmluRWRnZXMubGVuZ3RoO3UrKyl7dmFyIGg9bC5pbkVkZ2VzW3VdO3IuaW5kZXhPZihoLm5vZGUxKTwwJiZyLnB1c2goaC5ub2RlMSl9fW89cixyPVtdLCsrYX1FKHQsKGZ1bmN0aW9uKHQpe1NMKHQpfHx0LnNldExheW91dCh7ZGVwdGg6TWF0aC5tYXgoMCxpLXQuZ2V0TGF5b3V0KCkuc2tOb2RlSGVpZ2h0KX0sITApfSkpfWVsc2UianVzdGlmeSI9PT1lJiZmdW5jdGlvbih0LGUpe0UodCwoZnVuY3Rpb24odCl7U0wodCl8fHQub3V0RWRnZXMubGVuZ3RofHx0LnNldExheW91dCh7ZGVwdGg6ZX0sITApfSkpfSh0LGkpfSh0LGEsMCxiKTshZnVuY3Rpb24odCxlLG4pe0UodCwoZnVuY3Rpb24odCl7dmFyIGk9dC5nZXRMYXlvdXQoKS5kZXB0aCplOyJ2ZXJ0aWNhbCI9PT1uP3Quc2V0TGF5b3V0KHt5Oml9LCEwKTp0LnNldExheW91dCh7eDppfSwhMCl9KSl9KHQsInZlcnRpY2FsIj09PW8/KHItbikvYjooaS1uKS9iLG8pfSkodCxlLG4scixvLHMsbCksZnVuY3Rpb24odCxlLG4saSxyLG8sYSl7dmFyIHM9ZnVuY3Rpb24odCxlKXt2YXIgbj1bXSxpPSJ2ZXJ0aWNhbCI9PT1lPyJ5IjoieCIscj1Mbyh0LChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRMYXlvdXQoKVtpXX0pKTtyZXR1cm4gci5rZXlzLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQtZX0pKSxFKHIua2V5cywoZnVuY3Rpb24odCl7bi5wdXNoKHIuYnVja2V0cy5nZXQodCkpfSkpLG59KHQsYSk7KGZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYT0xLzA7RSh0LChmdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aCxzPTA7RSh0LChmdW5jdGlvbih0KXtzKz10LmdldExheW91dCgpLnZhbHVlfSkpO3ZhciBsPSJ2ZXJ0aWNhbCI9PT1vPyhpLShlLTEpKnIpL3M6KG4tKGUtMSkqcikvcztsPGEmJihhPWwpfSkpLEUodCwoZnVuY3Rpb24odCl7RSh0LChmdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0TGF5b3V0KCkudmFsdWUqYTsidmVydGljYWwiPT09bz8odC5zZXRMYXlvdXQoe3g6ZX0sITApLHQuc2V0TGF5b3V0KHtkeDpufSwhMCkpOih0LnNldExheW91dCh7eTplfSwhMCksdC5zZXRMYXlvdXQoe2R5Om59LCEwKSl9KSl9KSksRShlLChmdW5jdGlvbih0KXt2YXIgZT0rdC5nZXRWYWx1ZSgpKmE7dC5zZXRMYXlvdXQoe2R5OmV9LCEwKX0pKX0pKHMsZSxuLGkscixhKSxNTChzLHIsbixpLGEpO2Zvcih2YXIgbD0xO28+MDtvLS0pSUwocyxsKj0uOTksYSksTUwocyxyLG4saSxhKSxPTChzLGwsYSksTUwocyxyLG4saSxhKX0odCxlLG8scixpLGEscyksZnVuY3Rpb24odCxlKXt2YXIgbj0idmVydGljYWwiPT09ZT8ieCI6InkiO0UodCwoZnVuY3Rpb24odCl7dC5vdXRFZGdlcy5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0Lm5vZGUyLmdldExheW91dCgpW25dLWUubm9kZTIuZ2V0TGF5b3V0KClbbl19KSksdC5pbkVkZ2VzLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubm9kZTEuZ2V0TGF5b3V0KClbbl0tZS5ub2RlMS5nZXRMYXlvdXQoKVtuXX0pKX0pKSxFKHQsKGZ1bmN0aW9uKHQpe3ZhciBlPTAsbj0wO0UodC5vdXRFZGdlcywoZnVuY3Rpb24odCl7dC5zZXRMYXlvdXQoe3N5OmV9LCEwKSxlKz10LmdldExheW91dCgpLmR5fSkpLEUodC5pbkVkZ2VzLChmdW5jdGlvbih0KXt0LnNldExheW91dCh7dHk6bn0sITApLG4rPXQuZ2V0TGF5b3V0KCkuZHl9KSl9KSl9KHQscyl9KGwsdSxuLGksbyxhLDAhPT1CKGwsKGZ1bmN0aW9uKHQpe3JldHVybiAwPT09dC5nZXRMYXlvdXQoKS52YWx1ZX0pKS5sZW5ndGg/MDp0LmdldCgibGF5b3V0SXRlcmF0aW9ucyIpLHQuZ2V0KCJvcmllbnQiKSx0LmdldCgibm9kZUFsaWduIikpfSkpfWZ1bmN0aW9uIFNMKHQpe3ZhciBlPXQuaG9zdEdyYXBoLmRhdGEuZ2V0UmF3RGF0YUl0ZW0odC5kYXRhSW5kZXgpO3JldHVybiBudWxsIT1lLmRlcHRoJiZlLmRlcHRoPj0wfWZ1bmN0aW9uIE1MKHQsZSxuLGkscil7dmFyIG89InZlcnRpY2FsIj09PXI/IngiOiJ5IjtFKHQsKGZ1bmN0aW9uKHQpe3ZhciBhLHMsbDt0LnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZ2V0TGF5b3V0KClbb10tZS5nZXRMYXlvdXQoKVtvXX0pKTtmb3IodmFyIHU9MCxoPXQubGVuZ3RoLGM9InZlcnRpY2FsIj09PXI/ImR4IjoiZHkiLHA9MDtwPGg7cCsrKShsPXUtKHM9dFtwXSkuZ2V0TGF5b3V0KClbb10pPjAmJihhPXMuZ2V0TGF5b3V0KClbb10rbCwidmVydGljYWwiPT09cj9zLnNldExheW91dCh7eDphfSwhMCk6cy5zZXRMYXlvdXQoe3k6YX0sITApKSx1PXMuZ2V0TGF5b3V0KClbb10rcy5nZXRMYXlvdXQoKVtjXStlO2lmKChsPXUtZS0oInZlcnRpY2FsIj09PXI/aTpuKSk+MCl7YT1zLmdldExheW91dCgpW29dLWwsInZlcnRpY2FsIj09PXI/cy5zZXRMYXlvdXQoe3g6YX0sITApOnMuc2V0TGF5b3V0KHt5OmF9LCEwKSx1PWE7Zm9yKHA9aC0yO3A+PTA7LS1wKShsPShzPXRbcF0pLmdldExheW91dCgpW29dK3MuZ2V0TGF5b3V0KClbY10rZS11KT4wJiYoYT1zLmdldExheW91dCgpW29dLWwsInZlcnRpY2FsIj09PXI/cy5zZXRMYXlvdXQoe3g6YX0sITApOnMuc2V0TGF5b3V0KHt5OmF9LCEwKSksdT1zLmdldExheW91dCgpW29dfX0pKX1mdW5jdGlvbiBJTCh0LGUsbil7RSh0LnNsaWNlKCkucmV2ZXJzZSgpLChmdW5jdGlvbih0KXtFKHQsKGZ1bmN0aW9uKHQpe2lmKHQub3V0RWRnZXMubGVuZ3RoKXt2YXIgaT1QTCh0Lm91dEVkZ2VzLFRMLG4pL1BMKHQub3V0RWRnZXMsTEwpO2lmKGlzTmFOKGkpKXt2YXIgcj10Lm91dEVkZ2VzLmxlbmd0aDtpPXI/UEwodC5vdXRFZGdlcyxDTCxuKS9yOjB9aWYoInZlcnRpY2FsIj09PW4pe3ZhciBvPXQuZ2V0TGF5b3V0KCkueCsoaS1rTCh0LG4pKSplO3Quc2V0TGF5b3V0KHt4Om99LCEwKX1lbHNle3ZhciBhPXQuZ2V0TGF5b3V0KCkueSsoaS1rTCh0LG4pKSplO3Quc2V0TGF5b3V0KHt5OmF9LCEwKX19fSkpfSkpfWZ1bmN0aW9uIFRMKHQsZSl7cmV0dXJuIGtMKHQubm9kZTIsZSkqdC5nZXRWYWx1ZSgpfWZ1bmN0aW9uIENMKHQsZSl7cmV0dXJuIGtMKHQubm9kZTIsZSl9ZnVuY3Rpb24gREwodCxlKXtyZXR1cm4ga0wodC5ub2RlMSxlKSp0LmdldFZhbHVlKCl9ZnVuY3Rpb24gQUwodCxlKXtyZXR1cm4ga0wodC5ub2RlMSxlKX1mdW5jdGlvbiBrTCh0LGUpe3JldHVybiJ2ZXJ0aWNhbCI9PT1lP3QuZ2V0TGF5b3V0KCkueCt0LmdldExheW91dCgpLmR4LzI6dC5nZXRMYXlvdXQoKS55K3QuZ2V0TGF5b3V0KCkuZHkvMn1mdW5jdGlvbiBMTCh0KXtyZXR1cm4gdC5nZXRWYWx1ZSgpfWZ1bmN0aW9uIFBMKHQsZSxuKXtmb3IodmFyIGk9MCxyPXQubGVuZ3RoLG89LTE7KytvPHI7KXt2YXIgYT0rZSh0W29dLG4pO2lzTmFOKGEpfHwoaSs9YSl9cmV0dXJuIGl9ZnVuY3Rpb24gT0wodCxlLG4pe0UodCwoZnVuY3Rpb24odCl7RSh0LChmdW5jdGlvbih0KXtpZih0LmluRWRnZXMubGVuZ3RoKXt2YXIgaT1QTCh0LmluRWRnZXMsREwsbikvUEwodC5pbkVkZ2VzLExMKTtpZihpc05hTihpKSl7dmFyIHI9dC5pbkVkZ2VzLmxlbmd0aDtpPXI/UEwodC5pbkVkZ2VzLEFMLG4pL3I6MH1pZigidmVydGljYWwiPT09bil7dmFyIG89dC5nZXRMYXlvdXQoKS54KyhpLWtMKHQsbikpKmU7dC5zZXRMYXlvdXQoe3g6b30sITApfWVsc2V7dmFyIGE9dC5nZXRMYXlvdXQoKS55KyhpLWtMKHQsbikpKmU7dC5zZXRMYXlvdXQoe3k6YX0sITApfX19KSl9KSl9ZnVuY3Rpb24gUkwodCl7dC5lYWNoU2VyaWVzQnlUeXBlKCJzYW5rZXkiLChmdW5jdGlvbih0KXt2YXIgZT10LmdldEdyYXBoKCkubm9kZXM7aWYoZS5sZW5ndGgpe3ZhciBuPTEvMCxpPS0xLzA7RShlLChmdW5jdGlvbih0KXt2YXIgZT10LmdldExheW91dCgpLnZhbHVlO2U8biYmKG49ZSksZT5pJiYoaT1lKX0pKSxFKGUsKGZ1bmN0aW9uKGUpe3ZhciByPW5ldyBuRCh7dHlwZToiY29sb3IiLG1hcHBpbmdNZXRob2Q6ImxpbmVhciIsZGF0YUV4dGVudDpbbixpXSx2aXN1YWw6dC5nZXQoImNvbG9yIil9KS5tYXBWYWx1ZVRvVmlzdWFsKGUuZ2V0TGF5b3V0KCkudmFsdWUpLG89ZS5nZXRNb2RlbCgpLmdldChbIml0ZW1TdHlsZSIsImNvbG9yIl0pO251bGwhPW8/KGUuc2V0VmlzdWFsKCJjb2xvciIsbyksZS5zZXRWaXN1YWwoInN0eWxlIix7ZmlsbDpvfSkpOihlLnNldFZpc3VhbCgiY29sb3IiLHIpLGUuc2V0VmlzdWFsKCJzdHlsZSIse2ZpbGw6cn0pKX0pKX19KSl9dmFyIE5MPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24odCxlKXt2YXIgbixpLHI9ZS5nZXRDb21wb25lbnQoInhBeGlzIix0aGlzLmdldCgieEF4aXNJbmRleCIpKSxvPWUuZ2V0Q29tcG9uZW50KCJ5QXhpcyIsdGhpcy5nZXQoInlBeGlzSW5kZXgiKSksYT1yLmdldCgidHlwZSIpLHM9by5nZXQoInR5cGUiKTsiY2F0ZWdvcnkiPT09YT8odC5sYXlvdXQ9Imhvcml6b250YWwiLG49ci5nZXRPcmRpbmFsTWV0YSgpLGk9ITApOiJjYXRlZ29yeSI9PT1zPyh0LmxheW91dD0idmVydGljYWwiLG49by5nZXRPcmRpbmFsTWV0YSgpLGk9ITApOnQubGF5b3V0PXQubGF5b3V0fHwiaG9yaXpvbnRhbCI7dmFyIGw9WyJ4IiwieSJdLHU9Imhvcml6b250YWwiPT09dC5sYXlvdXQ/MDoxLGg9dGhpcy5fYmFzZUF4aXNEaW09bFt1XSxjPWxbMS11XSxwPVtyLG9dLGQ9cFt1XS5nZXQoInR5cGUiKSxmPXBbMS11XS5nZXQoInR5cGUiKSxnPXQuZGF0YTtpZihnJiZpKXt2YXIgeT1bXTtFKGcsKGZ1bmN0aW9uKHQsZSl7dmFyIG47WSh0KT8obj10LnNsaWNlKCksdC51bnNoaWZ0KGUpKTpZKHQudmFsdWUpPygobj1BKHt9LHQpKS52YWx1ZT1uLnZhbHVlLnNsaWNlKCksdC52YWx1ZS51bnNoaWZ0KGUpKTpuPXQseS5wdXNoKG4pfSkpLHQuZGF0YT15fXZhciB2PXRoaXMuZGVmYXVsdFZhbHVlRGltZW5zaW9ucyxtPVt7bmFtZTpoLHR5cGU6Q20oZCksb3JkaW5hbE1ldGE6bixvdGhlckRpbXM6e3Rvb2x0aXA6ITEsaXRlbU5hbWU6MH0sZGltc0RlZjpbImJhc2UiXX0se25hbWU6Yyx0eXBlOkNtKGYpLGRpbXNEZWY6di5zbGljZSgpfV07cmV0dXJuIGxNKHRoaXMse2Nvb3JkRGltZW5zaW9uczptLGRpbWVuc2lvbnNDb3VudDp2Lmxlbmd0aCsxLGVuY29kZURlZmF1bHRlcjpIKEhwLG0sdGhpcyl9KX0sdC5wcm90b3R5cGUuZ2V0QmFzZUF4aXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9iYXNlQXhpc0RpbTtyZXR1cm4gdGhpcy5lY01vZGVsLmdldENvbXBvbmVudCh0KyJBeGlzIix0aGlzLmdldCh0KyJBeGlzSW5kZXgiKSkuYXhpc30sdH0oKSxFTD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uZGVmYXVsdFZhbHVlRGltZW5zaW9ucz1be25hbWU6Im1pbiIsZGVmYXVsdFRvb2x0aXA6ITB9LHtuYW1lOiJRMSIsZGVmYXVsdFRvb2x0aXA6ITB9LHtuYW1lOiJtZWRpYW4iLGRlZmF1bHRUb29sdGlwOiEwfSx7bmFtZToiUTMiLGRlZmF1bHRUb29sdGlwOiEwfSx7bmFtZToibWF4IixkZWZhdWx0VG9vbHRpcDohMH1dLG4udmlzdWFsRHJhd1R5cGU9InN0cm9rZSIsbn1yZXR1cm4gbihlLHQpLGUudHlwZT0ic2VyaWVzLmJveHBsb3QiLGUuZGVwZW5kZW5jaWVzPVsieEF4aXMiLCJ5QXhpcyIsImdyaWQiXSxlLmRlZmF1bHRPcHRpb249e3o6Mixjb29yZGluYXRlU3lzdGVtOiJjYXJ0ZXNpYW4yZCIsbGVnZW5kSG92ZXJMaW5rOiEwLGxheW91dDpudWxsLGJveFdpZHRoOls3LDUwXSxpdGVtU3R5bGU6e2NvbG9yOiIjZmZmIixib3JkZXJXaWR0aDoxfSxlbXBoYXNpczp7c2NhbGU6ITAsaXRlbVN0eWxlOntib3JkZXJXaWR0aDoyLHNoYWRvd0JsdXI6NSxzaGFkb3dPZmZzZXRYOjEsc2hhZG93T2Zmc2V0WToxLHNoYWRvd0NvbG9yOiJyZ2JhKDAsMCwwLDAuMikifX0sYW5pbWF0aW9uRHVyYXRpb246ODAwfSxlfShzZyk7UihFTCxOTCwhMCk7dmFyIHpMPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5nZXREYXRhKCkscj10aGlzLmdyb3VwLG89dGhpcy5fZGF0YTt0aGlzLl9kYXRhfHxyLnJlbW92ZUFsbCgpO3ZhciBhPSJob3Jpem9udGFsIj09PXQuZ2V0KCJsYXlvdXQiKT8xOjA7aS5kaWZmKG8pLmFkZCgoZnVuY3Rpb24odCl7aWYoaS5oYXNWYWx1ZSh0KSl7dmFyIGU9RkwoaS5nZXRJdGVtTGF5b3V0KHQpLGksdCxhLCEwKTtpLnNldEl0ZW1HcmFwaGljRWwodCxlKSxyLmFkZChlKX19KSkudXBkYXRlKChmdW5jdGlvbih0LGUpe3ZhciBuPW8uZ2V0SXRlbUdyYXBoaWNFbChlKTtpZihpLmhhc1ZhbHVlKHQpKXt2YXIgcz1pLmdldEl0ZW1MYXlvdXQodCk7bj8oaGgobiksR0wocyxuLGksdCkpOm49RkwocyxpLHQsYSksci5hZGQobiksaS5zZXRJdGVtR3JhcGhpY0VsKHQsbil9ZWxzZSByLnJlbW92ZShuKX0pKS5yZW1vdmUoKGZ1bmN0aW9uKHQpe3ZhciBlPW8uZ2V0SXRlbUdyYXBoaWNFbCh0KTtlJiZyLnJlbW92ZShlKX0pKS5leGVjdXRlKCksdGhpcy5fZGF0YT1pfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ncm91cCxuPXRoaXMuX2RhdGE7dGhpcy5fZGF0YT1udWxsLG4mJm4uZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKHQpe3QmJmUucmVtb3ZlKHQpfSkpfSxlLnR5cGU9ImJveHBsb3QiLGV9KHhnKSxWTD1mdW5jdGlvbigpe30sQkw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi50eXBlPSJib3hwbG90Qm94UGF0aCIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgVkx9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuPWUucG9pbnRzLGk9MDtmb3IodC5tb3ZlVG8obltpXVswXSxuW2ldWzFdKSxpKys7aTw0O2krKyl0LmxpbmVUbyhuW2ldWzBdLG5baV1bMV0pO2Zvcih0LmNsb3NlUGF0aCgpO2k8bi5sZW5ndGg7aSsrKXQubW92ZVRvKG5baV1bMF0sbltpXVsxXSksaSsrLHQubGluZVRvKG5baV1bMF0sbltpXVsxXSl9LGV9KGdzKTtmdW5jdGlvbiBGTCh0LGUsbixpLHIpe3ZhciBvPXQuZW5kcyxhPW5ldyBCTCh7c2hhcGU6e3BvaW50czpyP1dMKG8saSx0KTpvfX0pO3JldHVybiBHTCh0LGEsZSxuLHIpLGF9ZnVuY3Rpb24gR0wodCxlLG4saSxyKXt2YXIgbz1uLmhvc3RNb2RlbDsoMCxCaFtyPyJpbml0UHJvcHMiOiJ1cGRhdGVQcm9wcyJdKShlLHtzaGFwZTp7cG9pbnRzOnQuZW5kc319LG8saSksZS51c2VTdHlsZShuLmdldEl0ZW1WaXN1YWwoaSwic3R5bGUiKSksZS5zdHlsZS5zdHJva2VOb1NjYWxlPSEwLGUuejI9MTAwO3ZhciBhPW4uZ2V0SXRlbU1vZGVsKGkpLHM9YS5nZXRNb2RlbCgiZW1waGFzaXMiKTtWbChlLGEpLFJsKGUscy5nZXQoImZvY3VzIikscy5nZXQoImJsdXJTY29wZSIpLHMuZ2V0KCJkaXNhYmxlZCIpKX1mdW5jdGlvbiBXTCh0LGUsbil7cmV0dXJuIHoodCwoZnVuY3Rpb24odCl7cmV0dXJuKHQ9dC5zbGljZSgpKVtlXT1uLmluaXRCYXNlbGluZSx0fSkpfWZ1bmN0aW9uIEhMKHQsZSl7fXZhciBZTD1FO2Z1bmN0aW9uIFVMKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe3ZhciBlPVtdLG49W107cmV0dXJuIHQuZWFjaFNlcmllc0J5VHlwZSgiYm94cGxvdCIsKGZ1bmN0aW9uKHQpe3ZhciBpPXQuZ2V0QmFzZUF4aXMoKSxyPVAobixpKTtyPDAmJihyPW4ubGVuZ3RoLG5bcl09aSxlW3JdPXtheGlzOmksc2VyaWVzTW9kZWxzOltdfSksZVtyXS5zZXJpZXNNb2RlbHMucHVzaCh0KX0pKSxlfSh0KTtZTChlLChmdW5jdGlvbih0KXt2YXIgZT10LnNlcmllc01vZGVscztlLmxlbmd0aCYmKCFmdW5jdGlvbih0KXt2YXIgZSxuPXQuYXhpcyxpPXQuc2VyaWVzTW9kZWxzLHI9aS5sZW5ndGgsbz10LmJveFdpZHRoTGlzdD1bXSxhPXQuYm94T2Zmc2V0TGlzdD1bXSxzPVtdO2lmKCJjYXRlZ29yeSI9PT1uLnR5cGUpZT1uLmdldEJhbmRXaWR0aCgpO2Vsc2V7dmFyIGw9MDtZTChpLChmdW5jdGlvbih0KXtsPU1hdGgubWF4KGwsdC5nZXREYXRhKCkuY291bnQoKSl9KSk7dmFyIHU9bi5nZXRFeHRlbnQoKTtlPU1hdGguYWJzKHVbMV0tdVswXSkvbH1ZTChpLChmdW5jdGlvbih0KXt2YXIgbj10LmdldCgiYm94V2lkdGgiKTtZKG4pfHwobj1bbixuXSkscy5wdXNoKFtFcihuWzBdLGUpfHwwLEVyKG5bMV0sZSl8fDBdKX0pKTt2YXIgaD0uOCplLTIsYz1oL3IqLjMscD0oaC1jKihyLTEpKS9yLGQ9cC8yLWgvMjtZTChpLChmdW5jdGlvbih0LGUpe2EucHVzaChkKSxkKz1jK3Asby5wdXNoKE1hdGgubWluKE1hdGgubWF4KHAsc1tlXVswXSksc1tlXVsxXSkpfSkpfSh0KSxZTChlLChmdW5jdGlvbihlLG4peyFmdW5jdGlvbih0LGUsbil7dmFyIGk9dC5jb29yZGluYXRlU3lzdGVtLHI9dC5nZXREYXRhKCksbz1uLzIsYT0iaG9yaXpvbnRhbCI9PT10LmdldCgibGF5b3V0Iik/MDoxLHM9MS1hLGw9WyJ4IiwieSJdLHU9ci5tYXBEaW1lbnNpb24obFthXSksaD1yLm1hcERpbWVuc2lvbnNBbGwobFtzXSk7aWYobnVsbD09dXx8aC5sZW5ndGg8NSlyZXR1cm47Zm9yKHZhciBjPTA7YzxyLmNvdW50KCk7YysrKXt2YXIgcD1yLmdldCh1LGMpLGQ9eChwLGhbMl0sYyksZj14KHAsaFswXSxjKSxnPXgocCxoWzFdLGMpLHk9eChwLGhbM10sYyksdj14KHAsaFs0XSxjKSxtPVtdO18obSxnLCExKSxfKG0seSwhMCksbS5wdXNoKGYsZyx2LHkpLGIobSxmKSxiKG0sdiksYihtLGQpLHIuc2V0SXRlbUxheW91dChjLHtpbml0QmFzZWxpbmU6ZFtzXSxlbmRzOm19KX1mdW5jdGlvbiB4KHQsbixvKXt2YXIgbCx1PXIuZ2V0KG4sbyksaD1bXTtyZXR1cm4gaFthXT10LGhbc109dSxpc05hTih0KXx8aXNOYU4odSk/bD1bTmFOLE5hTl06KGw9aS5kYXRhVG9Qb2ludChoKSlbYV0rPWUsbH1mdW5jdGlvbiBfKHQsZSxuKXt2YXIgaT1lLnNsaWNlKCkscj1lLnNsaWNlKCk7aVthXSs9byxyW2FdLT1vLG4/dC5wdXNoKGkscik6dC5wdXNoKHIsaSl9ZnVuY3Rpb24gYih0LGUpe3ZhciBuPWUuc2xpY2UoKSxpPWUuc2xpY2UoKTtuW2FdLT1vLGlbYV0rPW8sdC5wdXNoKG4saSl9fShlLHQuYm94T2Zmc2V0TGlzdFtuXSx0LmJveFdpZHRoTGlzdFtuXSl9KSkpfSkpfXZhciBYTD17dHlwZToiZWNoYXJ0czpib3hwbG90Iix0cmFuc2Zvcm06ZnVuY3Rpb24odCl7dmFyIGU9dC51cHN0cmVhbTtpZihlLnNvdXJjZUZvcm1hdCE9PVBwKXt2YXIgbj0iIjswLGFvKG4pfXZhciBpPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtdLGk9W10scj0oZT1lfHx7fSkuYm91bmRJUVIsbz0ibm9uZSI9PT1yfHwwPT09cixhPTA7YTx0Lmxlbmd0aDthKyspe3ZhciBzPVZyKHRbYV0uc2xpY2UoKSksbD1KcihzLC4yNSksdT1KcihzLC41KSxoPUpyKHMsLjc1KSxjPXNbMF0scD1zW3MubGVuZ3RoLTFdLGQ9KG51bGw9PXI/MS41OnIpKihoLWwpLGY9bz9jOk1hdGgubWF4KGMsbC1kKSxnPW8/cDpNYXRoLm1pbihwLGgrZCkseT1lLml0ZW1OYW1lRm9ybWF0dGVyLHY9VSh5KT95KHt2YWx1ZTphfSk6WCh5KT95LnJlcGxhY2UoInt2YWx1ZX0iLGErIiIpOmErIiI7bi5wdXNoKFt2LGYsbCx1LGgsZ10pO2Zvcih2YXIgbT0wO208cy5sZW5ndGg7bSsrKXt2YXIgeD1zW21dO2lmKHg8Znx8eD5nKXt2YXIgXz1bdix4XTtpLnB1c2goXyl9fX1yZXR1cm57Ym94RGF0YTpuLG91dGxpZXJzOml9fShlLmdldFJhd0RhdGEoKSx0LmNvbmZpZyk7cmV0dXJuW3tkaW1lbnNpb25zOlsiSXRlbU5hbWUiLCJMb3ciLCJRMSIsIlEyIiwiUTMiLCJIaWdoIl0sZGF0YTppLmJveERhdGF9LHtkYXRhOmkub3V0bGllcnN9XX19O3ZhciBaTD1bImNvbG9yIiwiYm9yZGVyQ29sb3IiXSxqTD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3RoaXMuZ3JvdXAucmVtb3ZlQ2xpcFBhdGgoKSx0aGlzLl9wcm9ncmVzc2l2ZUVscz1udWxsLHRoaXMuX3VwZGF0ZURyYXdNb2RlKHQpLHRoaXMuX2lzTGFyZ2VEcmF3P3RoaXMuX3JlbmRlckxhcmdlKHQpOnRoaXMuX3JlbmRlck5vcm1hbCh0KX0sZS5wcm90b3R5cGUuaW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl9jbGVhcigpLHRoaXMuX3VwZGF0ZURyYXdNb2RlKHQpfSxlLnByb3RvdHlwZS5pbmNyZW1lbnRhbFJlbmRlcj1mdW5jdGlvbih0LGUsbixpKXt0aGlzLl9wcm9ncmVzc2l2ZUVscz1bXSx0aGlzLl9pc0xhcmdlRHJhdz90aGlzLl9pbmNyZW1lbnRhbFJlbmRlckxhcmdlKHQsZSk6dGhpcy5faW5jcmVtZW50YWxSZW5kZXJOb3JtYWwodCxlKX0sZS5wcm90b3R5cGUuZWFjaFJlbmRlcmVkPWZ1bmN0aW9uKHQpe1ZoKHRoaXMuX3Byb2dyZXNzaXZlRWxzfHx0aGlzLmdyb3VwLHQpfSxlLnByb3RvdHlwZS5fdXBkYXRlRHJhd01vZGU9ZnVuY3Rpb24odCl7dmFyIGU9dC5waXBlbGluZUNvbnRleHQubGFyZ2U7bnVsbCE9dGhpcy5faXNMYXJnZURyYXcmJmU9PT10aGlzLl9pc0xhcmdlRHJhd3x8KHRoaXMuX2lzTGFyZ2VEcmF3PWUsdGhpcy5fY2xlYXIoKSl9LGUucHJvdG90eXBlLl9yZW5kZXJOb3JtYWw9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCksbj10aGlzLl9kYXRhLGk9dGhpcy5ncm91cCxyPWUuZ2V0TGF5b3V0KCJpc1NpbXBsZUJveCIpLG89dC5nZXQoImNsaXAiLCEwKSxhPXQuY29vcmRpbmF0ZVN5c3RlbSxzPWEuZ2V0QXJlYSYmYS5nZXRBcmVhKCk7dGhpcy5fZGF0YXx8aS5yZW1vdmVBbGwoKSxlLmRpZmYobikuYWRkKChmdW5jdGlvbihuKXtpZihlLmhhc1ZhbHVlKG4pKXt2YXIgYT1lLmdldEl0ZW1MYXlvdXQobik7aWYobyYmSkwocyxhKSlyZXR1cm47dmFyIGw9JEwoYSxuLCEwKTtvaChsLHtzaGFwZTp7cG9pbnRzOmEuZW5kc319LHQsbiksUUwobCxlLG4sciksaS5hZGQobCksZS5zZXRJdGVtR3JhcGhpY0VsKG4sbCl9fSkpLnVwZGF0ZSgoZnVuY3Rpb24oYSxsKXt2YXIgdT1uLmdldEl0ZW1HcmFwaGljRWwobCk7aWYoZS5oYXNWYWx1ZShhKSl7dmFyIGg9ZS5nZXRJdGVtTGF5b3V0KGEpO28mJkpMKHMsaCk/aS5yZW1vdmUodSk6KHU/KHJoKHUse3NoYXBlOntwb2ludHM6aC5lbmRzfX0sdCxhKSxoaCh1KSk6dT0kTChoKSxRTCh1LGUsYSxyKSxpLmFkZCh1KSxlLnNldEl0ZW1HcmFwaGljRWwoYSx1KSl9ZWxzZSBpLnJlbW92ZSh1KX0pKS5yZW1vdmUoKGZ1bmN0aW9uKHQpe3ZhciBlPW4uZ2V0SXRlbUdyYXBoaWNFbCh0KTtlJiZpLnJlbW92ZShlKX0pKS5leGVjdXRlKCksdGhpcy5fZGF0YT1lfSxlLnByb3RvdHlwZS5fcmVuZGVyTGFyZ2U9ZnVuY3Rpb24odCl7dGhpcy5fY2xlYXIoKSxpUCh0LHRoaXMuZ3JvdXApO3ZhciBlPXQuZ2V0KCJjbGlwIiwhMCk/c1ModC5jb29yZGluYXRlU3lzdGVtLCExLHQpOm51bGw7ZT90aGlzLmdyb3VwLnNldENsaXBQYXRoKGUpOnRoaXMuZ3JvdXAucmVtb3ZlQ2xpcFBhdGgoKX0sZS5wcm90b3R5cGUuX2luY3JlbWVudGFsUmVuZGVyTm9ybWFsPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuLGk9ZS5nZXREYXRhKCkscj1pLmdldExheW91dCgiaXNTaW1wbGVCb3giKTtudWxsIT0obj10Lm5leHQoKSk7KXt2YXIgbz0kTChpLmdldEl0ZW1MYXlvdXQobikpO1FMKG8saSxuLHIpLG8uaW5jcmVtZW50YWw9ITAsdGhpcy5ncm91cC5hZGQobyksdGhpcy5fcHJvZ3Jlc3NpdmVFbHMucHVzaChvKX19LGUucHJvdG90eXBlLl9pbmNyZW1lbnRhbFJlbmRlckxhcmdlPWZ1bmN0aW9uKHQsZSl7aVAoZSx0aGlzLmdyb3VwLHRoaXMuX3Byb2dyZXNzaXZlRWxzLCEwKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3RoaXMuX2NsZWFyKCl9LGUucHJvdG90eXBlLl9jbGVhcj1mdW5jdGlvbigpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fZGF0YT1udWxsfSxlLnR5cGU9ImNhbmRsZXN0aWNrIixlfSh4ZykscUw9ZnVuY3Rpb24oKXt9LEtMPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIG4udHlwZT0ibm9ybWFsQ2FuZGxlc3RpY2tCb3giLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHFMfSxlLnByb3RvdHlwZS5idWlsZFBhdGg9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLnBvaW50czt0aGlzLl9fc2ltcGxlQm94Pyh0Lm1vdmVUbyhuWzRdWzBdLG5bNF1bMV0pLHQubGluZVRvKG5bNl1bMF0sbls2XVsxXSkpOih0Lm1vdmVUbyhuWzBdWzBdLG5bMF1bMV0pLHQubGluZVRvKG5bMV1bMF0sblsxXVsxXSksdC5saW5lVG8oblsyXVswXSxuWzJdWzFdKSx0LmxpbmVUbyhuWzNdWzBdLG5bM11bMV0pLHQuY2xvc2VQYXRoKCksdC5tb3ZlVG8obls0XVswXSxuWzRdWzFdKSx0LmxpbmVUbyhuWzVdWzBdLG5bNV1bMV0pLHQubW92ZVRvKG5bNl1bMF0sbls2XVsxXSksdC5saW5lVG8obls3XVswXSxuWzddWzFdKSl9LGV9KGdzKTtmdW5jdGlvbiAkTCh0LGUsbil7dmFyIGk9dC5lbmRzO3JldHVybiBuZXcgS0woe3NoYXBlOntwb2ludHM6bj90UChpLHQpOml9LHoyOjEwMH0pfWZ1bmN0aW9uIEpMKHQsZSl7Zm9yKHZhciBuPSEwLGk9MDtpPGUuZW5kcy5sZW5ndGg7aSsrKWlmKHQuY29udGFpbihlLmVuZHNbaV1bMF0sZS5lbmRzW2ldWzFdKSl7bj0hMTticmVha31yZXR1cm4gbn1mdW5jdGlvbiBRTCh0LGUsbixpKXt2YXIgcj1lLmdldEl0ZW1Nb2RlbChuKTt0LnVzZVN0eWxlKGUuZ2V0SXRlbVZpc3VhbChuLCJzdHlsZSIpKSx0LnN0eWxlLnN0cm9rZU5vU2NhbGU9ITAsdC5fX3NpbXBsZUJveD1pLFZsKHQscil9ZnVuY3Rpb24gdFAodCxlKXtyZXR1cm4geih0LChmdW5jdGlvbih0KXtyZXR1cm4odD10LnNsaWNlKCkpWzFdPWUuaW5pdEJhc2VsaW5lLHR9KSl9dmFyIGVQPWZ1bmN0aW9uKCl7fSxuUD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGUpfHx0aGlzO3JldHVybiBuLnR5cGU9ImxhcmdlQ2FuZGxlc3RpY2tCb3giLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGVQfSxlLnByb3RvdHlwZS5idWlsZFBhdGg9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ZS5wb2ludHMsaT0wO2k8bi5sZW5ndGg7KWlmKHRoaXMuX19zaWduPT09bltpKytdKXt2YXIgcj1uW2krK107dC5tb3ZlVG8ocixuW2krK10pLHQubGluZVRvKHIsbltpKytdKX1lbHNlIGkrPTN9LGV9KGdzKTtmdW5jdGlvbiBpUCh0LGUsbixpKXt2YXIgcj10LmdldERhdGEoKS5nZXRMYXlvdXQoImxhcmdlUG9pbnRzIiksbz1uZXcgblAoe3NoYXBlOntwb2ludHM6cn0sX19zaWduOjF9KTtlLmFkZChvKTt2YXIgYT1uZXcgblAoe3NoYXBlOntwb2ludHM6cn0sX19zaWduOi0xfSk7ZS5hZGQoYSksclAoMSxvLHQpLHJQKC0xLGEsdCksaSYmKG8uaW5jcmVtZW50YWw9ITAsYS5pbmNyZW1lbnRhbD0hMCksbiYmbi5wdXNoKG8sYSl9ZnVuY3Rpb24gclAodCxlLG4saSl7dmFyIHI9bi5nZXQoWyJpdGVtU3R5bGUiLHQ+MD8iYm9yZGVyQ29sb3IiOiJib3JkZXJDb2xvcjAiXSl8fG4uZ2V0KFsiaXRlbVN0eWxlIix0PjA/ImNvbG9yIjoiY29sb3IwIl0pLG89bi5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKFpMKTtlLnVzZVN0eWxlKG8pLGUuc3R5bGUuZmlsbD1udWxsLGUuc3R5bGUuc3Ryb2tlPXJ9dmFyIG9QPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5kZWZhdWx0VmFsdWVEaW1lbnNpb25zPVt7bmFtZToib3BlbiIsZGVmYXVsdFRvb2x0aXA6ITB9LHtuYW1lOiJjbG9zZSIsZGVmYXVsdFRvb2x0aXA6ITB9LHtuYW1lOiJsb3dlc3QiLGRlZmF1bHRUb29sdGlwOiEwfSx7bmFtZToiaGlnaGVzdCIsZGVmYXVsdFRvb2x0aXA6ITB9XSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0U2hhZG93RGltPWZ1bmN0aW9uKCl7cmV0dXJuIm9wZW4ifSxlLnByb3RvdHlwZS5icnVzaFNlbGVjdG9yPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lLmdldEl0ZW1MYXlvdXQodCk7cmV0dXJuIGkmJm4ucmVjdChpLmJydXNoUmVjdCl9LGUudHlwZT0ic2VyaWVzLmNhbmRsZXN0aWNrIixlLmRlcGVuZGVuY2llcz1bInhBeGlzIiwieUF4aXMiLCJncmlkIl0sZS5kZWZhdWx0T3B0aW9uPXt6OjIsY29vcmRpbmF0ZVN5c3RlbToiY2FydGVzaWFuMmQiLGxlZ2VuZEhvdmVyTGluazohMCxsYXlvdXQ6bnVsbCxjbGlwOiEwLGl0ZW1TdHlsZTp7Y29sb3I6IiNlYjU0NTQiLGNvbG9yMDoiIzQ3YjI2MiIsYm9yZGVyQ29sb3I6IiNlYjU0NTQiLGJvcmRlckNvbG9yMDoiIzQ3YjI2MiIsYm9yZGVyV2lkdGg6MX0sZW1waGFzaXM6e3NjYWxlOiEwLGl0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6Mn19LGJhck1heFdpZHRoOm51bGwsYmFyTWluV2lkdGg6bnVsbCxiYXJXaWR0aDpudWxsLGxhcmdlOiEwLGxhcmdlVGhyZXNob2xkOjYwMCxwcm9ncmVzc2l2ZTozZTMscHJvZ3Jlc3NpdmVUaHJlc2hvbGQ6MWU0LHByb2dyZXNzaXZlQ2h1bmtNb2RlOiJtb2QiLGFuaW1hdGlvbkVhc2luZzoibGluZWFyIixhbmltYXRpb25EdXJhdGlvbjozMDB9LGV9KHNnKTtmdW5jdGlvbiBhUCh0KXt0JiZZKHQuc2VyaWVzKSYmRSh0LnNlcmllcywoZnVuY3Rpb24odCl7cSh0KSYmImsiPT09dC50eXBlJiYodC50eXBlPSJjYW5kbGVzdGljayIpfSkpfVIob1AsTkwsITApO3ZhciBzUD1bIml0ZW1TdHlsZSIsImJvcmRlckNvbG9yIl0sbFA9WyJpdGVtU3R5bGUiLCJib3JkZXJDb2xvcjAiXSx1UD1bIml0ZW1TdHlsZSIsImNvbG9yIl0saFA9WyJpdGVtU3R5bGUiLCJjb2xvcjAiXSxjUD17c2VyaWVzVHlwZToiY2FuZGxlc3RpY2siLHBsYW46eWcoKSxwZXJmb3JtUmF3U2VyaWVzOiEwLHJlc2V0OmZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0LGUpe3JldHVybiBlLmdldCh0PjA/dVA6aFApfWZ1bmN0aW9uIGkodCxlKXtyZXR1cm4gZS5nZXQodD4wP3NQOmxQKX1pZighZS5pc1Nlcmllc0ZpbHRlcmVkKHQpKXJldHVybiF0LnBpcGVsaW5lQ29udGV4dC5sYXJnZSYme3Byb2dyZXNzOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByO251bGwhPShyPXQubmV4dCgpKTspe3ZhciBvPWUuZ2V0SXRlbU1vZGVsKHIpLGE9ZS5nZXRJdGVtTGF5b3V0KHIpLnNpZ24scz1vLmdldEl0ZW1TdHlsZSgpO3MuZmlsbD1uKGEsbykscy5zdHJva2U9aShhLG8pfHxzLmZpbGwsQShlLmVuc3VyZVVuaXF1ZUl0ZW1WaXN1YWwociwic3R5bGUiKSxzKX19fX19LHBQPXtzZXJpZXNUeXBlOiJjYW5kbGVzdGljayIscGxhbjp5ZygpLHJlc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbSxuPXQuZ2V0RGF0YSgpLGk9ZnVuY3Rpb24odCxlKXt2YXIgbixpPXQuZ2V0QmFzZUF4aXMoKSxyPSJjYXRlZ29yeSI9PT1pLnR5cGU/aS5nZXRCYW5kV2lkdGgoKToobj1pLmdldEV4dGVudCgpLE1hdGguYWJzKG5bMV0tblswXSkvZS5jb3VudCgpKSxvPUVyKHJ0KHQuZ2V0KCJiYXJNYXhXaWR0aCIpLHIpLHIpLGE9RXIocnQodC5nZXQoImJhck1pbldpZHRoIiksMSkscikscz10LmdldCgiYmFyV2lkdGgiKTtyZXR1cm4gbnVsbCE9cz9FcihzLHIpOk1hdGgubWF4KE1hdGgubWluKHIvMixvKSxhKX0odCxuKSxyPVsieCIsInkiXSxvPW4uZ2V0RGltZW5zaW9uSW5kZXgobi5tYXBEaW1lbnNpb24oclswXSkpLGE9eihuLm1hcERpbWVuc2lvbnNBbGwoclsxXSksbi5nZXREaW1lbnNpb25JbmRleCxuKSxzPWFbMF0sbD1hWzFdLHU9YVsyXSxoPWFbM107aWYobi5zZXRMYXlvdXQoe2NhbmRsZVdpZHRoOmksaXNTaW1wbGVCb3g6aTw9MS4zfSksIShvPDB8fGEubGVuZ3RoPDQpKXJldHVybntwcm9ncmVzczp0LnBpcGVsaW5lQ29udGV4dC5sYXJnZT9mdW5jdGlvbih0LG4pe3ZhciBpLHIsYT1ieCg0KnQuY291bnQpLGM9MCxwPVtdLGQ9W10sZj1uLmdldFN0b3JlKCk7Zm9yKDtudWxsIT0ocj10Lm5leHQoKSk7KXt2YXIgZz1mLmdldChvLHIpLHk9Zi5nZXQocyxyKSx2PWYuZ2V0KGwsciksbT1mLmdldCh1LHIpLHg9Zi5nZXQoaCxyKTtpc05hTihnKXx8aXNOYU4obSl8fGlzTmFOKHgpPyhhW2MrK109TmFOLGMrPTMpOihhW2MrK109ZFAoZixyLHksdixsKSxwWzBdPWcscFsxXT1tLGk9ZS5kYXRhVG9Qb2ludChwLG51bGwsZCksYVtjKytdPWk/aVswXTpOYU4sYVtjKytdPWk/aVsxXTpOYU4scFsxXT14LGk9ZS5kYXRhVG9Qb2ludChwLG51bGwsZCksYVtjKytdPWk/aVsxXTpOYU4pfW4uc2V0TGF5b3V0KCJsYXJnZVBvaW50cyIsYSl9OmZ1bmN0aW9uKHQsbil7dmFyIHIsYT1uLmdldFN0b3JlKCk7Zm9yKDtudWxsIT0ocj10Lm5leHQoKSk7KXt2YXIgYz1hLmdldChvLHIpLHA9YS5nZXQocyxyKSxkPWEuZ2V0KGwsciksZj1hLmdldCh1LHIpLGc9YS5nZXQoaCxyKSx5PU1hdGgubWluKHAsZCksdj1NYXRoLm1heChwLGQpLG09Uyh5LGMpLHg9Uyh2LGMpLF89UyhmLGMpLGI9UyhnLGMpLHc9W107TSh3LHgsMCksTSh3LG0sMSksdy5wdXNoKFQoYiksVCh4KSxUKF8pLFQobSkpLG4uc2V0SXRlbUxheW91dChyLHtzaWduOmRQKGEscixwLGQsbCksaW5pdEJhc2VsaW5lOnA+ZD94WzFdOm1bMV0sZW5kczp3LGJydXNoUmVjdDpJKGYsZyxjKX0pfWZ1bmN0aW9uIFModCxuKXt2YXIgaT1bXTtyZXR1cm4gaVswXT1uLGlbMV09dCxpc05hTihuKXx8aXNOYU4odCk/W05hTixOYU5dOmUuZGF0YVRvUG9pbnQoaSl9ZnVuY3Rpb24gTSh0LGUsbil7dmFyIHI9ZS5zbGljZSgpLG89ZS5zbGljZSgpO3JbMF09TWgoclswXStpLzIsMSwhMSksb1swXT1NaChvWzBdLWkvMiwxLCEwKSxuP3QucHVzaChyLG8pOnQucHVzaChvLHIpfWZ1bmN0aW9uIEkodCxlLG4pe3ZhciByPVModCxuKSxvPVMoZSxuKTtyZXR1cm4gclswXS09aS8yLG9bMF0tPWkvMix7eDpyWzBdLHk6clsxXSx3aWR0aDppLGhlaWdodDpvWzFdLXJbMV19fWZ1bmN0aW9uIFQodCl7cmV0dXJuIHRbMF09TWgodFswXSwxKSx0fX19fX07ZnVuY3Rpb24gZFAodCxlLG4saSxyKXtyZXR1cm4gbj5pPy0xOm48aT8xOmU+MD90LmdldChyLGUtMSk8PWk/MTotMToxfWZ1bmN0aW9uIGZQKHQsZSl7dmFyIG49ZS5yaXBwbGVFZmZlY3RDb2xvcnx8ZS5jb2xvcjt0LmVhY2hDaGlsZCgoZnVuY3Rpb24odCl7dC5hdHRyKHt6OmUueix6bGV2ZWw6ZS56bGV2ZWwsc3R5bGU6e3N0cm9rZToic3Ryb2tlIj09PWUuYnJ1c2hUeXBlP246bnVsbCxmaWxsOiJmaWxsIj09PWUuYnJ1c2hUeXBlP246bnVsbH19KX0pKX12YXIgZ1A9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZhciBpPXQuY2FsbCh0aGlzKXx8dGhpcyxyPW5ldyBIdyhlLG4pLG89bmV3IENyO3JldHVybiBpLmFkZChyKSxpLmFkZChvKSxpLnVwZGF0ZURhdGEoZSxuKSxpfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuc3RvcEVmZmVjdEFuaW1hdGlvbj1mdW5jdGlvbigpe3RoaXMuY2hpbGRBdCgxKS5yZW1vdmVBbGwoKX0sZS5wcm90b3R5cGUuc3RhcnRFZmZlY3RBbmltYXRpb249ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuc3ltYm9sVHlwZSxuPXQuY29sb3IsaT10LnJpcHBsZU51bWJlcixyPXRoaXMuY2hpbGRBdCgxKSxvPTA7bzxpO28rKyl7dmFyIGE9THkoZSwtMSwtMSwyLDIsbik7YS5hdHRyKHtzdHlsZTp7c3Ryb2tlTm9TY2FsZTohMH0sejI6OTksc2lsZW50OiEwLHNjYWxlWDouNSxzY2FsZVk6LjV9KTt2YXIgcz0tby9pKnQucGVyaW9kK3QuZWZmZWN0T2Zmc2V0O2EuYW5pbWF0ZSgiIiwhMCkud2hlbih0LnBlcmlvZCx7c2NhbGVYOnQucmlwcGxlU2NhbGUvMixzY2FsZVk6dC5yaXBwbGVTY2FsZS8yfSkuZGVsYXkocykuc3RhcnQoKSxhLmFuaW1hdGVTdHlsZSghMCkud2hlbih0LnBlcmlvZCx7b3BhY2l0eTowfSkuZGVsYXkocykuc3RhcnQoKSxyLmFkZChhKX1mUChyLHQpfSxlLnByb3RvdHlwZS51cGRhdGVFZmZlY3RBbmltYXRpb249ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2VmZmVjdENmZyxuPXRoaXMuY2hpbGRBdCgxKSxpPVsic3ltYm9sVHlwZSIsInBlcmlvZCIsInJpcHBsZVNjYWxlIiwicmlwcGxlTnVtYmVyIl0scj0wO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdO2lmKGVbb10hPT10W29dKXJldHVybiB0aGlzLnN0b3BFZmZlY3RBbmltYXRpb24oKSx2b2lkIHRoaXMuc3RhcnRFZmZlY3RBbmltYXRpb24odCl9ZlAobix0KX0sZS5wcm90b3R5cGUuaGlnaGxpZ2h0PWZ1bmN0aW9uKCl7X2wodGhpcyl9LGUucHJvdG90eXBlLmRvd25wbGF5PWZ1bmN0aW9uKCl7YmwodGhpcyl9LGUucHJvdG90eXBlLmdldFN5bWJvbFR5cGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNoaWxkQXQoMCk7cmV0dXJuIHQmJnQuZ2V0U3ltYm9sVHlwZSgpfSxlLnByb3RvdHlwZS51cGRhdGVEYXRhPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxpPXQuaG9zdE1vZGVsO3RoaXMuY2hpbGRBdCgwKS51cGRhdGVEYXRhKHQsZSk7dmFyIHI9dGhpcy5jaGlsZEF0KDEpLG89dC5nZXRJdGVtTW9kZWwoZSksYT10LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sIikscz1QeSh0LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sU2l6ZSIpKSxsPXQuZ2V0SXRlbVZpc3VhbChlLCJzdHlsZSIpLHU9bCYmbC5maWxsLGg9by5nZXRNb2RlbCgiZW1waGFzaXMiKTtyLnNldFNjYWxlKHMpLHIudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe3Quc2V0U3R5bGUoImZpbGwiLHUpfSkpO3ZhciBjPU95KHQuZ2V0SXRlbVZpc3VhbChlLCJzeW1ib2xPZmZzZXQiKSxzKTtjJiYoci54PWNbMF0sci55PWNbMV0pO3ZhciBwPXQuZ2V0SXRlbVZpc3VhbChlLCJzeW1ib2xSb3RhdGUiKTtyLnJvdGF0aW9uPShwfHwwKSpNYXRoLlBJLzE4MHx8MDt2YXIgZD17fTtkLnNob3dFZmZlY3RPbj1pLmdldCgic2hvd0VmZmVjdE9uIiksZC5yaXBwbGVTY2FsZT1vLmdldChbInJpcHBsZUVmZmVjdCIsInNjYWxlIl0pLGQuYnJ1c2hUeXBlPW8uZ2V0KFsicmlwcGxlRWZmZWN0IiwiYnJ1c2hUeXBlIl0pLGQucGVyaW9kPTFlMypvLmdldChbInJpcHBsZUVmZmVjdCIsInBlcmlvZCJdKSxkLmVmZmVjdE9mZnNldD1lL3QuY291bnQoKSxkLno9aS5nZXRTaGFsbG93KCJ6Iil8fDAsZC56bGV2ZWw9aS5nZXRTaGFsbG93KCJ6bGV2ZWwiKXx8MCxkLnN5bWJvbFR5cGU9YSxkLmNvbG9yPXUsZC5yaXBwbGVFZmZlY3RDb2xvcj1vLmdldChbInJpcHBsZUVmZmVjdCIsImNvbG9yIl0pLGQucmlwcGxlTnVtYmVyPW8uZ2V0KFsicmlwcGxlRWZmZWN0IiwibnVtYmVyIl0pLCJyZW5kZXIiPT09ZC5zaG93RWZmZWN0T24/KHRoaXMuX2VmZmVjdENmZz90aGlzLnVwZGF0ZUVmZmVjdEFuaW1hdGlvbihkKTp0aGlzLnN0YXJ0RWZmZWN0QW5pbWF0aW9uKGQpLHRoaXMuX2VmZmVjdENmZz1kKToodGhpcy5fZWZmZWN0Q2ZnPW51bGwsdGhpcy5zdG9wRWZmZWN0QW5pbWF0aW9uKCksdGhpcy5vbkhvdmVyU3RhdGVDaGFuZ2U9ZnVuY3Rpb24odCl7ImVtcGhhc2lzIj09PXQ/InJlbmRlciIhPT1kLnNob3dFZmZlY3RPbiYmbi5zdGFydEVmZmVjdEFuaW1hdGlvbihkKToibm9ybWFsIj09PXQmJiJyZW5kZXIiIT09ZC5zaG93RWZmZWN0T24mJm4uc3RvcEVmZmVjdEFuaW1hdGlvbigpfSksdGhpcy5fZWZmZWN0Q2ZnPWQsUmwodGhpcyxoLmdldCgiZm9jdXMiKSxoLmdldCgiYmx1clNjb3BlIiksaC5nZXQoImRpc2FibGVkIikpfSxlLnByb3RvdHlwZS5mYWRlT3V0PWZ1bmN0aW9uKHQpe3QmJnQoKX0sZX0oQ3IpLHlQPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLl9zeW1ib2xEcmF3PW5ldyBqdyhnUCl9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5nZXREYXRhKCkscj10aGlzLl9zeW1ib2xEcmF3O3IudXBkYXRlRGF0YShpLHtjbGlwU2hhcGU6dGhpcy5fZ2V0Q2xpcFNoYXBlKHQpfSksdGhpcy5ncm91cC5hZGQoci5ncm91cCl9LGUucHJvdG90eXBlLl9nZXRDbGlwU2hhcGU9ZnVuY3Rpb24odCl7dmFyIGU9dC5jb29yZGluYXRlU3lzdGVtLG49ZSYmZS5nZXRBcmVhJiZlLmdldEFyZWEoKTtyZXR1cm4gdC5nZXQoImNsaXAiLCEwKT9uOm51bGx9LGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5nZXREYXRhKCk7dGhpcy5ncm91cC5kaXJ0eSgpO3ZhciByPV9TKCIiKS5yZXNldCh0LGUsbik7ci5wcm9ncmVzcyYmci5wcm9ncmVzcyh7c3RhcnQ6MCxlbmQ6aS5jb3VudCgpLGNvdW50OmkuY291bnQoKX0saSksdGhpcy5fc3ltYm9sRHJhdy51cGRhdGVMYXlvdXQoKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUdyb3VwVHJhbnNmb3JtPWZ1bmN0aW9uKHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbTtlJiZlLmdldFJvYW1UcmFuc2Zvcm0mJih0aGlzLmdyb3VwLnRyYW5zZm9ybT1GaShlLmdldFJvYW1UcmFuc2Zvcm0oKSksdGhpcy5ncm91cC5kZWNvbXBvc2VUcmFuc2Zvcm0oKSl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3RoaXMuX3N5bWJvbERyYXcmJnRoaXMuX3N5bWJvbERyYXcucmVtb3ZlKCEwKX0sZS50eXBlPSJlZmZlY3RTY2F0dGVyIixlfSh4ZyksdlA9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmhhc1N5bWJvbFZpc3VhbD0hMCxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaXgobnVsbCx0aGlzLHt1c2VFbmNvZGVEZWZhdWx0ZXI6ITB9KX0sZS5wcm90b3R5cGUuYnJ1c2hTZWxlY3Rvcj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG4ucG9pbnQoZS5nZXRJdGVtTGF5b3V0KHQpKX0sZS50eXBlPSJzZXJpZXMuZWZmZWN0U2NhdHRlciIsZS5kZXBlbmRlbmNpZXM9WyJncmlkIiwicG9sYXIiXSxlLmRlZmF1bHRPcHRpb249e2Nvb3JkaW5hdGVTeXN0ZW06ImNhcnRlc2lhbjJkIix6OjIsbGVnZW5kSG92ZXJMaW5rOiEwLGVmZmVjdFR5cGU6InJpcHBsZSIscHJvZ3Jlc3NpdmU6MCxzaG93RWZmZWN0T246InJlbmRlciIsY2xpcDohMCxyaXBwbGVFZmZlY3Q6e3BlcmlvZDo0LHNjYWxlOjIuNSxicnVzaFR5cGU6ImZpbGwiLG51bWJlcjozfSx1bml2ZXJzYWxUcmFuc2l0aW9uOntkaXZpZGVTaGFwZToiY2xvbmUifSxzeW1ib2xTaXplOjEwfSxlfShzZyk7dmFyIG1QPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZhciByPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5hZGQoci5jcmVhdGVMaW5lKGUsbixpKSksci5fdXBkYXRlRWZmZWN0U3ltYm9sKGUsbikscn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmNyZWF0ZUxpbmU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcgZEEodCxlLG4pfSxlLnByb3RvdHlwZS5fdXBkYXRlRWZmZWN0U3ltYm9sPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRJdGVtTW9kZWwoZSkuZ2V0TW9kZWwoImVmZmVjdCIpLGk9bi5nZXQoInN5bWJvbFNpemUiKSxyPW4uZ2V0KCJzeW1ib2wiKTtZKGkpfHwoaT1baSxpXSk7dmFyIG89dC5nZXRJdGVtVmlzdWFsKGUsInN0eWxlIiksYT1uLmdldCgiY29sb3IiKXx8byYmby5zdHJva2Uscz10aGlzLmNoaWxkQXQoMSk7dGhpcy5fc3ltYm9sVHlwZSE9PXImJih0aGlzLnJlbW92ZShzKSwocz1MeShyLC0uNSwtLjUsMSwxLGEpKS56Mj0xMDAscy5jdWxsaW5nPSEwLHRoaXMuYWRkKHMpKSxzJiYocy5zZXRTdHlsZSgic2hhZG93Q29sb3IiLGEpLHMuc2V0U3R5bGUobi5nZXRJdGVtU3R5bGUoWyJjb2xvciJdKSkscy5zY2FsZVg9aVswXSxzLnNjYWxlWT1pWzFdLHMuc2V0Q29sb3IoYSksdGhpcy5fc3ltYm9sVHlwZT1yLHRoaXMuX3N5bWJvbFNjYWxlPWksdGhpcy5fdXBkYXRlRWZmZWN0QW5pbWF0aW9uKHQsbixlKSl9LGUucHJvdG90eXBlLl91cGRhdGVFZmZlY3RBbmltYXRpb249ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuY2hpbGRBdCgxKTtpZihpKXt2YXIgcj10LmdldEl0ZW1MYXlvdXQobiksbz0xZTMqZS5nZXQoInBlcmlvZCIpLGE9ZS5nZXQoImxvb3AiKSxzPWUuZ2V0KCJjb25zdGFudFNwZWVkIiksbD1pdChlLmdldCgiZGVsYXkiKSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUvdC5jb3VudCgpKm8vM30pKTtpZihpLmlnbm9yZT0hMCx0aGlzLl91cGRhdGVBbmltYXRpb25Qb2ludHMoaSxyKSxzPjAmJihvPXRoaXMuX2dldExpbmVMZW5ndGgoaSkvcyoxZTMpLG8hPT10aGlzLl9wZXJpb2R8fGEhPT10aGlzLl9sb29wKXtpLnN0b3BBbmltYXRpb24oKTt2YXIgdT12b2lkIDA7dT1VKGwpP2wobik6bCxpLl9fdD4wJiYodT0tbyppLl9fdCksdGhpcy5fYW5pbWF0ZVN5bWJvbChpLG8sdSxhKX10aGlzLl9wZXJpb2Q9byx0aGlzLl9sb29wPWF9fSxlLnByb3RvdHlwZS5fYW5pbWF0ZVN5bWJvbD1mdW5jdGlvbih0LGUsbixpKXtpZihlPjApe3QuX190PTA7dmFyIHI9dGhpcyxvPXQuYW5pbWF0ZSgiIixpKS53aGVuKGUse19fdDoxfSkuZGVsYXkobikuZHVyaW5nKChmdW5jdGlvbigpe3IuX3VwZGF0ZVN5bWJvbFBvc2l0aW9uKHQpfSkpO2l8fG8uZG9uZSgoZnVuY3Rpb24oKXtyLnJlbW92ZSh0KX0pKSxvLnN0YXJ0KCl9fSxlLnByb3RvdHlwZS5fZ2V0TGluZUxlbmd0aD1mdW5jdGlvbih0KXtyZXR1cm4gRXQodC5fX3AxLHQuX19jcDEpK0V0KHQuX19jcDEsdC5fX3AyKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUFuaW1hdGlvblBvaW50cz1mdW5jdGlvbih0LGUpe3QuX19wMT1lWzBdLHQuX19wMj1lWzFdLHQuX19jcDE9ZVsyXXx8WyhlWzBdWzBdK2VbMV1bMF0pLzIsKGVbMF1bMV0rZVsxXVsxXSkvMl19LGUucHJvdG90eXBlLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCxlLG4pe3RoaXMuY2hpbGRBdCgwKS51cGRhdGVEYXRhKHQsZSxuKSx0aGlzLl91cGRhdGVFZmZlY3RTeW1ib2wodCxlKX0sZS5wcm90b3R5cGUuX3VwZGF0ZVN5bWJvbFBvc2l0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXQuX19wMSxuPXQuX19wMixpPXQuX19jcDEscj10Ll9fdCxvPVt0LngsdC55XSxhPW8uc2xpY2UoKSxzPUtlLGw9JGU7b1swXT1zKGVbMF0saVswXSxuWzBdLHIpLG9bMV09cyhlWzFdLGlbMV0sblsxXSxyKTt2YXIgdT1sKGVbMF0saVswXSxuWzBdLHIpLGg9bChlWzFdLGlbMV0sblsxXSxyKTt0LnJvdGF0aW9uPS1NYXRoLmF0YW4yKGgsdSktTWF0aC5QSS8yLCJsaW5lIiE9PXRoaXMuX3N5bWJvbFR5cGUmJiJyZWN0IiE9PXRoaXMuX3N5bWJvbFR5cGUmJiJyb3VuZFJlY3QiIT09dGhpcy5fc3ltYm9sVHlwZXx8KHZvaWQgMCE9PXQuX19sYXN0VCYmdC5fX2xhc3RUPHQuX190Pyh0LnNjYWxlWT0xLjA1KkV0KGEsbyksMT09PXImJihvWzBdPWFbMF0rKG9bMF0tYVswXSkvMixvWzFdPWFbMV0rKG9bMV0tYVsxXSkvMikpOjE9PT10Ll9fbGFzdFQ/dC5zY2FsZVk9MipFdChlLG8pOnQuc2NhbGVZPXRoaXMuX3N5bWJvbFNjYWxlWzFdKSx0Ll9fbGFzdFQ9dC5fX3QsdC5pZ25vcmU9ITEsdC54PW9bMF0sdC55PW9bMV19LGUucHJvdG90eXBlLnVwZGF0ZUxheW91dD1mdW5jdGlvbih0LGUpe3RoaXMuY2hpbGRBdCgwKS51cGRhdGVMYXlvdXQodCxlKTt2YXIgbj10LmdldEl0ZW1Nb2RlbChlKS5nZXRNb2RlbCgiZWZmZWN0Iik7dGhpcy5fdXBkYXRlRWZmZWN0QW5pbWF0aW9uKHQsbixlKX0sZX0oQ3IpLHhQPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZhciByPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5fY3JlYXRlUG9seWxpbmUoZSxuLGkpLHJ9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5fY3JlYXRlUG9seWxpbmU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0SXRlbUxheW91dChlKSxyPW5ldyBSdSh7c2hhcGU6e3BvaW50czppfX0pO3RoaXMuYWRkKHIpLHRoaXMuX3VwZGF0ZUNvbW1vblN0bCh0LGUsbil9LGUucHJvdG90eXBlLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuaG9zdE1vZGVsO3JoKHRoaXMuY2hpbGRBdCgwKSx7c2hhcGU6e3BvaW50czp0LmdldEl0ZW1MYXlvdXQoZSl9fSxpLGUpLHRoaXMuX3VwZGF0ZUNvbW1vblN0bCh0LGUsbil9LGUucHJvdG90eXBlLl91cGRhdGVDb21tb25TdGw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuY2hpbGRBdCgwKSxyPXQuZ2V0SXRlbU1vZGVsKGUpLG89biYmbi5lbXBoYXNpc0xpbmVTdHlsZSxhPW4mJm4uZm9jdXMscz1uJiZuLmJsdXJTY29wZSxsPW4mJm4uZW1waGFzaXNEaXNhYmxlZDtpZighbnx8dC5oYXNJdGVtT3B0aW9uKXt2YXIgdT1yLmdldE1vZGVsKCJlbXBoYXNpcyIpO289dS5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCksbD11LmdldCgiZGlzYWJsZWQiKSxhPXUuZ2V0KCJmb2N1cyIpLHM9dS5nZXQoImJsdXJTY29wZSIpfWkudXNlU3R5bGUodC5nZXRJdGVtVmlzdWFsKGUsInN0eWxlIikpLGkuc3R5bGUuZmlsbD1udWxsLGkuc3R5bGUuc3Ryb2tlTm9TY2FsZT0hMCxpLmVuc3VyZVN0YXRlKCJlbXBoYXNpcyIpLnN0eWxlPW8sUmwodGhpcyxhLHMsbCl9LGUucHJvdG90eXBlLnVwZGF0ZUxheW91dD1mdW5jdGlvbih0LGUpe3RoaXMuY2hpbGRBdCgwKS5zZXRTaGFwZSgicG9pbnRzIix0LmdldEl0ZW1MYXlvdXQoZSkpfSxlfShDciksX1A9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS5fbGFzdEZyYW1lPTAsZS5fbGFzdEZyYW1lUGVyY2VudD0wLGV9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5jcmVhdGVMaW5lPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IHhQKHQsZSxuKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUFuaW1hdGlvblBvaW50cz1mdW5jdGlvbih0LGUpe3RoaXMuX3BvaW50cz1lO2Zvcih2YXIgbj1bMF0saT0wLHI9MTtyPGUubGVuZ3RoO3IrKyl7dmFyIG89ZVtyLTFdLGE9ZVtyXTtpKz1FdChvLGEpLG4ucHVzaChpKX1pZigwIT09aSl7Zm9yKHI9MDtyPG4ubGVuZ3RoO3IrKyluW3JdLz1pO3RoaXMuX29mZnNldHM9bix0aGlzLl9sZW5ndGg9aX1lbHNlIHRoaXMuX2xlbmd0aD0wfSxlLnByb3RvdHlwZS5fZ2V0TGluZUxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sZW5ndGh9LGUucHJvdG90eXBlLl91cGRhdGVTeW1ib2xQb3NpdGlvbj1mdW5jdGlvbih0KXt2YXIgZT10Ll9fdCxuPXRoaXMuX3BvaW50cyxpPXRoaXMuX29mZnNldHMscj1uLmxlbmd0aDtpZihpKXt2YXIgbyxhPXRoaXMuX2xhc3RGcmFtZTtpZihlPHRoaXMuX2xhc3RGcmFtZVBlcmNlbnQpe2ZvcihvPU1hdGgubWluKGErMSxyLTEpO28+PTAmJiEoaVtvXTw9ZSk7by0tKTtvPU1hdGgubWluKG8sci0yKX1lbHNle2ZvcihvPWE7bzxyJiYhKGlbb10+ZSk7bysrKTtvPU1hdGgubWluKG8tMSxyLTIpfXZhciBzPShlLWlbb10pLyhpW28rMV0taVtvXSksbD1uW29dLHU9bltvKzFdO3QueD1sWzBdKigxLXMpK3MqdVswXSx0Lnk9bFsxXSooMS1zKStzKnVbMV07dmFyIGg9dVswXS1sWzBdLGM9dVsxXS1sWzFdO3Qucm90YXRpb249LU1hdGguYXRhbjIoYyxoKS1NYXRoLlBJLzIsdGhpcy5fbGFzdEZyYW1lPW8sdGhpcy5fbGFzdEZyYW1lUGVyY2VudD1lLHQuaWdub3JlPSExfX0sZX0obVApLGJQPWZ1bmN0aW9uKCl7dGhpcy5wb2x5bGluZT0hMSx0aGlzLmN1cnZlbmVzcz0wLHRoaXMuc2Vncz1bXX0sd1A9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi5fb2ZmPTAsbi5ob3ZlckRhdGFJZHg9LTEsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5ub3RDbGVhcj0hMSx0aGlzLl9vZmY9MH0sZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFN0eWxlPWZ1bmN0aW9uKCl7cmV0dXJue3N0cm9rZToiIzAwMCIsZmlsbDpudWxsfX0sZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBiUH0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG4saT1lLnNlZ3Mscj1lLmN1cnZlbmVzcztpZihlLnBvbHlsaW5lKWZvcihuPXRoaXMuX29mZjtuPGkubGVuZ3RoOyl7dmFyIG89aVtuKytdO2lmKG8+MCl7dC5tb3ZlVG8oaVtuKytdLGlbbisrXSk7Zm9yKHZhciBhPTE7YTxvO2ErKyl0LmxpbmVUbyhpW24rK10saVtuKytdKX19ZWxzZSBmb3Iobj10aGlzLl9vZmY7bjxpLmxlbmd0aDspe3ZhciBzPWlbbisrXSxsPWlbbisrXSx1PWlbbisrXSxoPWlbbisrXTtpZih0Lm1vdmVUbyhzLGwpLHI+MCl7dmFyIGM9KHMrdSkvMi0obC1oKSpyLHA9KGwraCkvMi0odS1zKSpyO3QucXVhZHJhdGljQ3VydmVUbyhjLHAsdSxoKX1lbHNlIHQubGluZVRvKHUsaCl9dGhpcy5pbmNyZW1lbnRhbCYmKHRoaXMuX29mZj1uLHRoaXMubm90Q2xlYXI9ITApfSxlLnByb3RvdHlwZS5maW5kRGF0YUluZGV4PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5zaGFwZSxpPW4uc2VncyxyPW4uY3VydmVuZXNzLG89dGhpcy5zdHlsZS5saW5lV2lkdGg7aWYobi5wb2x5bGluZSlmb3IodmFyIGE9MCxzPTA7czxpLmxlbmd0aDspe3ZhciBsPWlbcysrXTtpZihsPjApZm9yKHZhciB1PWlbcysrXSxoPWlbcysrXSxjPTE7YzxsO2MrKyl7aWYoS2EodSxoLHA9aVtzKytdLGQ9aVtzKytdLG8sdCxlKSlyZXR1cm4gYX1hKyt9ZWxzZSBmb3IoYT0wLHM9MDtzPGkubGVuZ3RoOyl7dT1pW3MrK10saD1pW3MrK107dmFyIHA9aVtzKytdLGQ9aVtzKytdO2lmKHI+MCl7aWYoSmEodSxoLCh1K3ApLzItKGgtZCkqciwoaCtkKS8yLShwLXUpKnIscCxkLG8sdCxlKSlyZXR1cm4gYX1lbHNlIGlmKEthKHUsaCxwLGQsbyx0LGUpKXJldHVybiBhO2ErK31yZXR1cm4tMX0sZS5wcm90b3R5cGUuY29udGFpbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMudHJhbnNmb3JtQ29vcmRUb0xvY2FsKHQsZSksaT10aGlzLmdldEJvdW5kaW5nUmVjdCgpO3JldHVybiB0PW5bMF0sZT1uWzFdLGkuY29udGFpbih0LGUpPyh0aGlzLmhvdmVyRGF0YUlkeD10aGlzLmZpbmREYXRhSW5kZXgodCxlKSk+PTA6KHRoaXMuaG92ZXJEYXRhSWR4PS0xLCExKX0sZS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcmVjdDtpZighdCl7Zm9yKHZhciBlPXRoaXMuc2hhcGUuc2VncyxuPTEvMCxpPTEvMCxyPS0xLzAsbz0tMS8wLGE9MDthPGUubGVuZ3RoOyl7dmFyIHM9ZVthKytdLGw9ZVthKytdO249TWF0aC5taW4ocyxuKSxyPU1hdGgubWF4KHMsciksaT1NYXRoLm1pbihsLGkpLG89TWF0aC5tYXgobCxvKX10PXRoaXMuX3JlY3Q9bmV3IHNyKG4saSxyLG8pfXJldHVybiB0fSxlfShncyksU1A9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5ncm91cD1uZXcgQ3J9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCl7dGhpcy5fY2xlYXIoKTt2YXIgZT10aGlzLl9jcmVhdGUoKTtlLnNldFNoYXBlKHtzZWdzOnQuZ2V0TGF5b3V0KCJsaW5lc1BvaW50cyIpfSksdGhpcy5fc2V0Q29tbW9uKGUsdCl9LHQucHJvdG90eXBlLmluY3JlbWVudGFsUHJlcGFyZVVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2NsZWFyKCl9LHQucHJvdG90eXBlLmluY3JlbWVudGFsVXBkYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fbmV3QWRkZWRbMF0saT1lLmdldExheW91dCgibGluZXNQb2ludHMiKSxyPW4mJm4uc2hhcGUuc2VncztpZihyJiZyLmxlbmd0aDwyZTQpe3ZhciBvPXIubGVuZ3RoLGE9bmV3IEZsb2F0MzJBcnJheShvK2kubGVuZ3RoKTthLnNldChyKSxhLnNldChpLG8pLG4uc2V0U2hhcGUoe3NlZ3M6YX0pfWVsc2V7dGhpcy5fbmV3QWRkZWQ9W107dmFyIHM9dGhpcy5fY3JlYXRlKCk7cy5pbmNyZW1lbnRhbD0hMCxzLnNldFNoYXBlKHtzZWdzOml9KSx0aGlzLl9zZXRDb21tb24ocyxlKSxzLl9fc3RhcnRJbmRleD10LnN0YXJ0fX0sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXIoKX0sdC5wcm90b3R5cGUuZWFjaFJlbmRlcmVkPWZ1bmN0aW9uKHQpe3RoaXMuX25ld0FkZGVkWzBdJiZ0KHRoaXMuX25ld0FkZGVkWzBdKX0sdC5wcm90b3R5cGUuX2NyZWF0ZT1mdW5jdGlvbigpe3ZhciB0PW5ldyB3UCh7Y3Vyc29yOiJkZWZhdWx0In0pO3JldHVybiB0aGlzLl9uZXdBZGRlZC5wdXNoKHQpLHRoaXMuZ3JvdXAuYWRkKHQpLHR9LHQucHJvdG90eXBlLl9zZXRDb21tb249ZnVuY3Rpb24odCxlLG4pe3ZhciBpPWUuaG9zdE1vZGVsO3Quc2V0U2hhcGUoe3BvbHlsaW5lOmkuZ2V0KCJwb2x5bGluZSIpLGN1cnZlbmVzczppLmdldChbImxpbmVTdHlsZSIsImN1cnZlbmVzcyJdKX0pLHQudXNlU3R5bGUoaS5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCkpLHQuc3R5bGUuc3Ryb2tlTm9TY2FsZT0hMDt2YXIgcj1lLmdldFZpc3VhbCgic3R5bGUiKTtyJiZyLnN0cm9rZSYmdC5zZXRTdHlsZSgic3Ryb2tlIixyLnN0cm9rZSksdC5zZXRTdHlsZSgiZmlsbCIsbnVsbCk7dmFyIG89SHModCk7by5zZXJpZXNJbmRleD1pLnNlcmllc0luZGV4LHQub24oIm1vdXNlbW92ZSIsKGZ1bmN0aW9uKGUpe28uZGF0YUluZGV4PW51bGw7dmFyIG49dC5ob3ZlckRhdGFJZHg7bj4wJiYoby5kYXRhSW5kZXg9bit0Ll9fc3RhcnRJbmRleCl9KSl9LHQucHJvdG90eXBlLl9jbGVhcj1mdW5jdGlvbigpe3RoaXMuX25ld0FkZGVkPVtdLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9LHR9KCksTVA9e3Nlcmllc1R5cGU6ImxpbmVzIixwbGFuOnlnKCkscmVzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5jb29yZGluYXRlU3lzdGVtO2lmKGUpe3ZhciBuPXQuZ2V0KCJwb2x5bGluZSIpLGk9dC5waXBlbGluZUNvbnRleHQubGFyZ2U7cmV0dXJue3Byb2dyZXNzOmZ1bmN0aW9uKHIsbyl7dmFyIGE9W107aWYoaSl7dmFyIHM9dm9pZCAwLGw9ci5lbmQtci5zdGFydDtpZihuKXtmb3IodmFyIHU9MCxoPXIuc3RhcnQ7aDxyLmVuZDtoKyspdSs9dC5nZXRMaW5lQ29vcmRzQ291bnQoaCk7cz1uZXcgRmxvYXQzMkFycmF5KGwrMip1KX1lbHNlIHM9bmV3IEZsb2F0MzJBcnJheSg0KmwpO3ZhciBjPTAscD1bXTtmb3IoaD1yLnN0YXJ0O2g8ci5lbmQ7aCsrKXt2YXIgZD10LmdldExpbmVDb29yZHMoaCxhKTtuJiYoc1tjKytdPWQpO2Zvcih2YXIgZj0wO2Y8ZDtmKyspcD1lLmRhdGFUb1BvaW50KGFbZl0sITEscCksc1tjKytdPXBbMF0sc1tjKytdPXBbMV19by5zZXRMYXlvdXQoImxpbmVzUG9pbnRzIixzKX1lbHNlIGZvcihoPXIuc3RhcnQ7aDxyLmVuZDtoKyspe3ZhciBnPW8uZ2V0SXRlbU1vZGVsKGgpLHk9KGQ9dC5nZXRMaW5lQ29vcmRzKGgsYSksW10pO2lmKG4pZm9yKHZhciB2PTA7djxkO3YrKyl5LnB1c2goZS5kYXRhVG9Qb2ludChhW3ZdKSk7ZWxzZXt5WzBdPWUuZGF0YVRvUG9pbnQoYVswXSkseVsxXT1lLmRhdGFUb1BvaW50KGFbMV0pO3ZhciBtPWcuZ2V0KFsibGluZVN0eWxlIiwiY3VydmVuZXNzIl0pOyttJiYoeVsyXT1bKHlbMF1bMF0reVsxXVswXSkvMi0oeVswXVsxXS15WzFdWzFdKSptLCh5WzBdWzFdK3lbMV1bMV0pLzItKHlbMV1bMF0teVswXVswXSkqbV0pfW8uc2V0SXRlbUxheW91dChoLHkpfX19fX19LElQPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5nZXREYXRhKCkscj10aGlzLl91cGRhdGVMaW5lRHJhdyhpLHQpLG89dC5nZXQoInpsZXZlbCIpLGE9dC5nZXQoWyJlZmZlY3QiLCJ0cmFpbExlbmd0aCJdKSxzPW4uZ2V0WnIoKSxsPSJzdmciPT09cy5wYWludGVyLmdldFR5cGUoKTtsfHxzLnBhaW50ZXIuZ2V0TGF5ZXIobykuY2xlYXIoITApLG51bGw9PXRoaXMuX2xhc3RabGV2ZWx8fGx8fHMuY29uZmlnTGF5ZXIodGhpcy5fbGFzdFpsZXZlbCx7bW90aW9uQmx1cjohMX0pLHRoaXMuX3Nob3dFZmZlY3QodCkmJmE+MCYmKGx8fHMuY29uZmlnTGF5ZXIobyx7bW90aW9uQmx1cjohMCxsYXN0RnJhbWVBbHBoYTpNYXRoLm1heChNYXRoLm1pbihhLzEwKy45LDEpLDApfSkpLHIudXBkYXRlRGF0YShpKTt2YXIgdT10LmdldCgiY2xpcCIsITApJiZzUyh0LmNvb3JkaW5hdGVTeXN0ZW0sITEsdCk7dT90aGlzLmdyb3VwLnNldENsaXBQYXRoKHUpOnRoaXMuZ3JvdXAucmVtb3ZlQ2xpcFBhdGgoKSx0aGlzLl9sYXN0WmxldmVsPW8sdGhpcy5fZmluaXNoZWQ9ITB9LGUucHJvdG90eXBlLmluY3JlbWVudGFsUHJlcGFyZVJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5nZXREYXRhKCk7dGhpcy5fdXBkYXRlTGluZURyYXcoaSx0KS5pbmNyZW1lbnRhbFByZXBhcmVVcGRhdGUoaSksdGhpcy5fY2xlYXJMYXllcihuKSx0aGlzLl9maW5pc2hlZD0hMX0sZS5wcm90b3R5cGUuaW5jcmVtZW50YWxSZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX2xpbmVEcmF3LmluY3JlbWVudGFsVXBkYXRlKHQsZS5nZXREYXRhKCkpLHRoaXMuX2ZpbmlzaGVkPXQuZW5kPT09ZS5nZXREYXRhKCkuY291bnQoKX0sZS5wcm90b3R5cGUuZWFjaFJlbmRlcmVkPWZ1bmN0aW9uKHQpe3RoaXMuX2xpbmVEcmF3JiZ0aGlzLl9saW5lRHJhdy5lYWNoUmVuZGVyZWQodCl9LGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5nZXREYXRhKCkscj10LnBpcGVsaW5lQ29udGV4dDtpZighdGhpcy5fZmluaXNoZWR8fHIubGFyZ2V8fHIucHJvZ3Jlc3NpdmVSZW5kZXIpcmV0dXJue3VwZGF0ZTohMH07dmFyIG89TVAucmVzZXQodCxlLG4pO28ucHJvZ3Jlc3MmJm8ucHJvZ3Jlc3Moe3N0YXJ0OjAsZW5kOmkuY291bnQoKSxjb3VudDppLmNvdW50KCl9LGkpLHRoaXMuX2xpbmVEcmF3LnVwZGF0ZUxheW91dCgpLHRoaXMuX2NsZWFyTGF5ZXIobil9LGUucHJvdG90eXBlLl91cGRhdGVMaW5lRHJhdz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2xpbmVEcmF3LGk9dGhpcy5fc2hvd0VmZmVjdChlKSxyPSEhZS5nZXQoInBvbHlsaW5lIiksbz1lLnBpcGVsaW5lQ29udGV4dC5sYXJnZTtyZXR1cm4gbiYmaT09PXRoaXMuX2hhc0VmZmV0JiZyPT09dGhpcy5faXNQb2x5bGluZSYmbz09PXRoaXMuX2lzTGFyZ2VEcmF3fHwobiYmbi5yZW1vdmUoKSxuPXRoaXMuX2xpbmVEcmF3PW8/bmV3IFNQOm5ldyBmQShyP2k/X1A6eFA6aT9tUDpkQSksdGhpcy5faGFzRWZmZXQ9aSx0aGlzLl9pc1BvbHlsaW5lPXIsdGhpcy5faXNMYXJnZURyYXc9byksdGhpcy5ncm91cC5hZGQobi5ncm91cCksbn0sZS5wcm90b3R5cGUuX3Nob3dFZmZlY3Q9ZnVuY3Rpb24odCl7cmV0dXJuISF0LmdldChbImVmZmVjdCIsInNob3ciXSl9LGUucHJvdG90eXBlLl9jbGVhckxheWVyPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0WnIoKTsic3ZnIj09PWUucGFpbnRlci5nZXRUeXBlKCl8fG51bGw9PXRoaXMuX2xhc3RabGV2ZWx8fGUucGFpbnRlci5nZXRMYXllcih0aGlzLl9sYXN0WmxldmVsKS5jbGVhcighMCl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3RoaXMuX2xpbmVEcmF3JiZ0aGlzLl9saW5lRHJhdy5yZW1vdmUoKSx0aGlzLl9saW5lRHJhdz1udWxsLHRoaXMuX2NsZWFyTGF5ZXIoZSl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCxlKXt0aGlzLnJlbW92ZSh0LGUpfSxlLnR5cGU9ImxpbmVzIixlfSh4ZyksVFA9InVuZGVmaW5lZCI9PXR5cGVvZiBVaW50MzJBcnJheT9BcnJheTpVaW50MzJBcnJheSxDUD0idW5kZWZpbmVkIj09dHlwZW9mIEZsb2F0NjRBcnJheT9BcnJheTpGbG9hdDY0QXJyYXk7ZnVuY3Rpb24gRFAodCl7dmFyIGU9dC5kYXRhO2UmJmVbMF0mJmVbMF1bMF0mJmVbMF1bMF0uY29vcmQmJih0LmRhdGE9eihlLChmdW5jdGlvbih0KXt2YXIgZT17Y29vcmRzOlt0WzBdLmNvb3JkLHRbMV0uY29vcmRdfTtyZXR1cm4gdFswXS5uYW1lJiYoZS5mcm9tTmFtZT10WzBdLm5hbWUpLHRbMV0ubmFtZSYmKGUudG9OYW1lPXRbMV0ubmFtZSksRChbZSx0WzBdLHRbMV1dKX0pKSl9dmFyIEFQPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi52aXN1YWxTdHlsZUFjY2Vzc1BhdGg9ImxpbmVTdHlsZSIsbi52aXN1YWxEcmF3VHlwZT0ic3Ryb2tlIixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXtlLmRhdGE9ZS5kYXRhfHxbXSxEUChlKTt2YXIgbj10aGlzLl9wcm9jZXNzRmxhdENvb3Jkc0FycmF5KGUuZGF0YSk7dGhpcy5fZmxhdENvb3Jkcz1uLmZsYXRDb29yZHMsdGhpcy5fZmxhdENvb3Jkc09mZnNldD1uLmZsYXRDb29yZHNPZmZzZXQsbi5mbGF0Q29vcmRzJiYoZS5kYXRhPW5ldyBGbG9hdDMyQXJyYXkobi5jb3VudCkpLHQucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLnByb3RvdHlwZS5tZXJnZU9wdGlvbj1mdW5jdGlvbihlKXtpZihEUChlKSxlLmRhdGEpe3ZhciBuPXRoaXMuX3Byb2Nlc3NGbGF0Q29vcmRzQXJyYXkoZS5kYXRhKTt0aGlzLl9mbGF0Q29vcmRzPW4uZmxhdENvb3Jkcyx0aGlzLl9mbGF0Q29vcmRzT2Zmc2V0PW4uZmxhdENvb3Jkc09mZnNldCxuLmZsYXRDb29yZHMmJihlLmRhdGE9bmV3IEZsb2F0MzJBcnJheShuLmNvdW50KSl9dC5wcm90b3R5cGUubWVyZ2VPcHRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLnByb3RvdHlwZS5hcHBlbmREYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3Byb2Nlc3NGbGF0Q29vcmRzQXJyYXkodC5kYXRhKTtlLmZsYXRDb29yZHMmJih0aGlzLl9mbGF0Q29vcmRzPyh0aGlzLl9mbGF0Q29vcmRzPWd0KHRoaXMuX2ZsYXRDb29yZHMsZS5mbGF0Q29vcmRzKSx0aGlzLl9mbGF0Q29vcmRzT2Zmc2V0PWd0KHRoaXMuX2ZsYXRDb29yZHNPZmZzZXQsZS5mbGF0Q29vcmRzT2Zmc2V0KSk6KHRoaXMuX2ZsYXRDb29yZHM9ZS5mbGF0Q29vcmRzLHRoaXMuX2ZsYXRDb29yZHNPZmZzZXQ9ZS5mbGF0Q29vcmRzT2Zmc2V0KSx0LmRhdGE9bmV3IEZsb2F0MzJBcnJheShlLmNvdW50KSksdGhpcy5nZXRSYXdEYXRhKCkuYXBwZW5kRGF0YSh0LmRhdGEpfSxlLnByb3RvdHlwZS5fZ2V0Q29vcmRzRnJvbUl0ZW1Nb2RlbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERhdGEoKS5nZXRJdGVtTW9kZWwodCksbj1lLm9wdGlvbiBpbnN0YW5jZW9mIEFycmF5P2Uub3B0aW9uOmUuZ2V0U2hhbGxvdygiY29vcmRzIik7cmV0dXJuIG59LGUucHJvdG90eXBlLmdldExpbmVDb29yZHNDb3VudD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZmxhdENvb3Jkc09mZnNldD90aGlzLl9mbGF0Q29vcmRzT2Zmc2V0WzIqdCsxXTp0aGlzLl9nZXRDb29yZHNGcm9tSXRlbU1vZGVsKHQpLmxlbmd0aH0sZS5wcm90b3R5cGUuZ2V0TGluZUNvb3Jkcz1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX2ZsYXRDb29yZHNPZmZzZXQpe2Zvcih2YXIgbj10aGlzLl9mbGF0Q29vcmRzT2Zmc2V0WzIqdF0saT10aGlzLl9mbGF0Q29vcmRzT2Zmc2V0WzIqdCsxXSxyPTA7cjxpO3IrKyllW3JdPWVbcl18fFtdLGVbcl1bMF09dGhpcy5fZmxhdENvb3Jkc1tuKzIqcl0sZVtyXVsxXT10aGlzLl9mbGF0Q29vcmRzW24rMipyKzFdO3JldHVybiBpfXZhciBvPXRoaXMuX2dldENvb3Jkc0Zyb21JdGVtTW9kZWwodCk7Zm9yKHI9MDtyPG8ubGVuZ3RoO3IrKyllW3JdPWVbcl18fFtdLGVbcl1bMF09b1tyXVswXSxlW3JdWzFdPW9bcl1bMV07cmV0dXJuIG8ubGVuZ3RofSxlLnByb3RvdHlwZS5fcHJvY2Vzc0ZsYXRDb29yZHNBcnJheT1mdW5jdGlvbih0KXt2YXIgZT0wO2lmKHRoaXMuX2ZsYXRDb29yZHMmJihlPXRoaXMuX2ZsYXRDb29yZHMubGVuZ3RoKSxqKHRbMF0pKXtmb3IodmFyIG49dC5sZW5ndGgsaT1uZXcgVFAobikscj1uZXcgQ1Aobiksbz0wLGE9MCxzPTAsbD0wO2w8bjspe3MrKzt2YXIgdT10W2wrK107aVthKytdPW8rZSxpW2ErK109dTtmb3IodmFyIGg9MDtoPHU7aCsrKXt2YXIgYz10W2wrK10scD10W2wrK107cltvKytdPWMscltvKytdPXB9fXJldHVybntmbGF0Q29vcmRzT2Zmc2V0Om5ldyBVaW50MzJBcnJheShpLmJ1ZmZlciwwLGEpLGZsYXRDb29yZHM6cixjb3VudDpzfX1yZXR1cm57ZmxhdENvb3Jkc09mZnNldDpudWxsLGZsYXRDb29yZHM6bnVsbCxjb3VudDp0Lmxlbmd0aH19LGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IGptKFsidmFsdWUiXSx0aGlzKTtyZXR1cm4gbi5oYXNJdGVtT3B0aW9uPSExLG4uaW5pdERhdGEodC5kYXRhLFtdLChmdW5jdGlvbih0LGUsaSxyKXtpZih0IGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuIE5hTjtuLmhhc0l0ZW1PcHRpb249ITA7dmFyIG89dC52YWx1ZTtyZXR1cm4gbnVsbCE9bz9vIGluc3RhbmNlb2YgQXJyYXk/b1tyXTpvOnZvaWQgMH0pKSxufSxlLnByb3RvdHlwZS5mb3JtYXRUb29sdGlwPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmdldERhdGEoKS5nZXRJdGVtTW9kZWwodCkscj1pLmdldCgibmFtZSIpO2lmKHIpcmV0dXJuIHI7dmFyIG89aS5nZXQoImZyb21OYW1lIiksYT1pLmdldCgidG9OYW1lIikscz1bXTtyZXR1cm4gbnVsbCE9byYmcy5wdXNoKG8pLG51bGwhPWEmJnMucHVzaChhKSxYZigibmFtZVZhbHVlIix7bmFtZTpzLmpvaW4oIiA+ICIpfSl9LGUucHJvdG90eXBlLnByZXZlbnRJbmNyZW1lbnRhbD1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5nZXQoWyJlZmZlY3QiLCJzaG93Il0pfSxlLnByb3RvdHlwZS5nZXRQcm9ncmVzc2l2ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uLnByb2dyZXNzaXZlO3JldHVybiBudWxsPT10P3RoaXMub3B0aW9uLmxhcmdlPzFlNDp0aGlzLmdldCgicHJvZ3Jlc3NpdmUiKTp0fSxlLnByb3RvdHlwZS5nZXRQcm9ncmVzc2l2ZVRocmVzaG9sZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uLnByb2dyZXNzaXZlVGhyZXNob2xkO3JldHVybiBudWxsPT10P3RoaXMub3B0aW9uLmxhcmdlPzJlNDp0aGlzLmdldCgicHJvZ3Jlc3NpdmVUaHJlc2hvbGQiKTp0fSxlLnByb3RvdHlwZS5nZXRaTGV2ZWxLZXk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldE1vZGVsKCJlZmZlY3QiKSxlPXQuZ2V0KCJ0cmFpbExlbmd0aCIpO3JldHVybiB0aGlzLmdldERhdGEoKS5jb3VudCgpPnRoaXMuZ2V0UHJvZ3Jlc3NpdmVUaHJlc2hvbGQoKT90aGlzLmlkOnQuZ2V0KCJzaG93IikmJmU+MD9lKyIiOiIifSxlLnR5cGU9InNlcmllcy5saW5lcyIsZS5kZXBlbmRlbmNpZXM9WyJncmlkIiwicG9sYXIiLCJnZW8iLCJjYWxlbmRhciJdLGUuZGVmYXVsdE9wdGlvbj17Y29vcmRpbmF0ZVN5c3RlbToiZ2VvIix6OjIsbGVnZW5kSG92ZXJMaW5rOiEwLHhBeGlzSW5kZXg6MCx5QXhpc0luZGV4OjAsc3ltYm9sOlsibm9uZSIsIm5vbmUiXSxzeW1ib2xTaXplOlsxMCwxMF0sZ2VvSW5kZXg6MCxlZmZlY3Q6e3Nob3c6ITEscGVyaW9kOjQsY29uc3RhbnRTcGVlZDowLHN5bWJvbDoiY2lyY2xlIixzeW1ib2xTaXplOjMsbG9vcDohMCx0cmFpbExlbmd0aDouMn0sbGFyZ2U6ITEsbGFyZ2VUaHJlc2hvbGQ6MmUzLHBvbHlsaW5lOiExLGNsaXA6ITAsbGFiZWw6e3Nob3c6ITEscG9zaXRpb246ImVuZCJ9LGxpbmVTdHlsZTp7b3BhY2l0eTouNX19LGV9KHNnKTtmdW5jdGlvbiBrUCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEFycmF5fHwodD1bdCx0XSksdH12YXIgTFA9e3Nlcmllc1R5cGU6ImxpbmVzIixyZXNldDpmdW5jdGlvbih0KXt2YXIgZT1rUCh0LmdldCgic3ltYm9sIikpLG49a1AodC5nZXQoInN5bWJvbFNpemUiKSksaT10LmdldERhdGEoKTtyZXR1cm4gaS5zZXRWaXN1YWwoImZyb21TeW1ib2wiLGUmJmVbMF0pLGkuc2V0VmlzdWFsKCJ0b1N5bWJvbCIsZSYmZVsxXSksaS5zZXRWaXN1YWwoImZyb21TeW1ib2xTaXplIixuJiZuWzBdKSxpLnNldFZpc3VhbCgidG9TeW1ib2xTaXplIixuJiZuWzFdKSx7ZGF0YUVhY2g6aS5oYXNJdGVtT3B0aW9uP2Z1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRJdGVtTW9kZWwoZSksaT1rUChuLmdldFNoYWxsb3coInN5bWJvbCIsITApKSxyPWtQKG4uZ2V0U2hhbGxvdygic3ltYm9sU2l6ZSIsITApKTtpWzBdJiZ0LnNldEl0ZW1WaXN1YWwoZSwiZnJvbVN5bWJvbCIsaVswXSksaVsxXSYmdC5zZXRJdGVtVmlzdWFsKGUsInRvU3ltYm9sIixpWzFdKSxyWzBdJiZ0LnNldEl0ZW1WaXN1YWwoZSwiZnJvbVN5bWJvbFNpemUiLHJbMF0pLHJbMV0mJnQuc2V0SXRlbVZpc3VhbChlLCJ0b1N5bWJvbFNpemUiLHJbMV0pfTpudWxsfX19O3ZhciBQUD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmJsdXJTaXplPTMwLHRoaXMucG9pbnRTaXplPTIwLHRoaXMubWF4T3BhY2l0eT0xLHRoaXMubWluT3BhY2l0eT0wLHRoaXMuX2dyYWRpZW50UGl4ZWxzPXtpblJhbmdlOm51bGwsb3V0T2ZSYW5nZTpudWxsfTt2YXIgdD1oLmNyZWF0ZUNhbnZhcygpO3RoaXMuY2FudmFzPXR9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUsbixpLHIsbyl7dmFyIGE9dGhpcy5fZ2V0QnJ1c2goKSxzPXRoaXMuX2dldEdyYWRpZW50KHIsImluUmFuZ2UiKSxsPXRoaXMuX2dldEdyYWRpZW50KHIsIm91dE9mUmFuZ2UiKSx1PXRoaXMucG9pbnRTaXplK3RoaXMuYmx1clNpemUsaD10aGlzLmNhbnZhcyxjPWguZ2V0Q29udGV4dCgiMmQiKSxwPXQubGVuZ3RoO2gud2lkdGg9ZSxoLmhlaWdodD1uO2Zvcih2YXIgZD0wO2Q8cDsrK2Qpe3ZhciBmPXRbZF0sZz1mWzBdLHk9ZlsxXSx2PWkoZlsyXSk7Yy5nbG9iYWxBbHBoYT12LGMuZHJhd0ltYWdlKGEsZy11LHktdSl9aWYoIWgud2lkdGh8fCFoLmhlaWdodClyZXR1cm4gaDtmb3IodmFyIG09Yy5nZXRJbWFnZURhdGEoMCwwLGgud2lkdGgsaC5oZWlnaHQpLHg9bS5kYXRhLF89MCxiPXgubGVuZ3RoLHc9dGhpcy5taW5PcGFjaXR5LFM9dGhpcy5tYXhPcGFjaXR5LXc7XzxiOyl7dj14W18rM10vMjU2O3ZhciBNPTQqTWF0aC5mbG9vcigyNTUqdik7aWYodj4wKXt2YXIgST1vKHYpP3M6bDt2PjAmJih2PXYqUyt3KSx4W18rK109SVtNXSx4W18rK109SVtNKzFdLHhbXysrXT1JW00rMl0seFtfKytdPUlbTSszXSp2KjI1Nn1lbHNlIF8rPTR9cmV0dXJuIGMucHV0SW1hZ2VEYXRhKG0sMCwwKSxofSx0LnByb3RvdHlwZS5fZ2V0QnJ1c2g9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9icnVzaENhbnZhc3x8KHRoaXMuX2JydXNoQ2FudmFzPWguY3JlYXRlQ2FudmFzKCkpLGU9dGhpcy5wb2ludFNpemUrdGhpcy5ibHVyU2l6ZSxuPTIqZTt0LndpZHRoPW4sdC5oZWlnaHQ9bjt2YXIgaT10LmdldENvbnRleHQoIjJkIik7cmV0dXJuIGkuY2xlYXJSZWN0KDAsMCxuLG4pLGkuc2hhZG93T2Zmc2V0WD1uLGkuc2hhZG93Qmx1cj10aGlzLmJsdXJTaXplLGkuc2hhZG93Q29sb3I9IiMwMDAiLGkuYmVnaW5QYXRoKCksaS5hcmMoLWUsZSx0aGlzLnBvaW50U2l6ZSwwLDIqTWF0aC5QSSwhMCksaS5jbG9zZVBhdGgoKSxpLmZpbGwoKSx0fSx0LnByb3RvdHlwZS5fZ2V0R3JhZGllbnQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5fZ3JhZGllbnRQaXhlbHMsaT1uW2VdfHwobltlXT1uZXcgVWludDhDbGFtcGVkQXJyYXkoMTAyNCkpLHI9WzAsMCwwLDBdLG89MCxhPTA7YTwyNTY7YSsrKXRbZV0oYS8yNTUsITAsciksaVtvKytdPXJbMF0saVtvKytdPXJbMV0saVtvKytdPXJbMl0saVtvKytdPXJbM107cmV0dXJuIGl9LHR9KCk7ZnVuY3Rpb24gT1AodCl7dmFyIGU9dC5kaW1lbnNpb25zO3JldHVybiJsbmciPT09ZVswXSYmImxhdCI9PT1lWzFdfXZhciBSUD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpO2UuZWFjaENvbXBvbmVudCgidmlzdWFsTWFwIiwoZnVuY3Rpb24oZSl7ZS5lYWNoVGFyZ2V0U2VyaWVzKChmdW5jdGlvbihuKXtuPT09dCYmKGk9ZSl9KSl9KSksdGhpcy5fcHJvZ3Jlc3NpdmVFbHM9bnVsbCx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpO3ZhciByPXQuY29vcmRpbmF0ZVN5c3RlbTsiY2FydGVzaWFuMmQiPT09ci50eXBlfHwiY2FsZW5kYXIiPT09ci50eXBlP3RoaXMuX3JlbmRlck9uQ2FydGVzaWFuQW5kQ2FsZW5kYXIodCxuLDAsdC5nZXREYXRhKCkuY291bnQoKSk6T1AocikmJnRoaXMuX3JlbmRlck9uR2VvKHIsdCxpLG4pfSxlLnByb3RvdHlwZS5pbmNyZW1lbnRhbFByZXBhcmVSZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9LGUucHJvdG90eXBlLmluY3JlbWVudGFsUmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWUuY29vcmRpbmF0ZVN5c3RlbTtyJiYoT1Aocik/dGhpcy5yZW5kZXIoZSxuLGkpOih0aGlzLl9wcm9ncmVzc2l2ZUVscz1bXSx0aGlzLl9yZW5kZXJPbkNhcnRlc2lhbkFuZENhbGVuZGFyKGUsaSx0LnN0YXJ0LHQuZW5kLCEwKSkpfSxlLnByb3RvdHlwZS5lYWNoUmVuZGVyZWQ9ZnVuY3Rpb24odCl7VmgodGhpcy5fcHJvZ3Jlc3NpdmVFbHN8fHRoaXMuZ3JvdXAsdCl9LGUucHJvdG90eXBlLl9yZW5kZXJPbkNhcnRlc2lhbkFuZENhbGVuZGFyPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG8sYSxzLGwsdT10LmNvb3JkaW5hdGVTeXN0ZW0saD1sUyh1LCJjYXJ0ZXNpYW4yZCIpO2lmKGgpe3ZhciBjPXUuZ2V0QXhpcygieCIpLHA9dS5nZXRBeGlzKCJ5Iik7MCxvPWMuZ2V0QmFuZFdpZHRoKCkrLjUsYT1wLmdldEJhbmRXaWR0aCgpKy41LHM9Yy5zY2FsZS5nZXRFeHRlbnQoKSxsPXAuc2NhbGUuZ2V0RXh0ZW50KCl9Zm9yKHZhciBkPXRoaXMuZ3JvdXAsZj10LmdldERhdGEoKSxnPXQuZ2V0TW9kZWwoWyJlbXBoYXNpcyIsIml0ZW1TdHlsZSJdKS5nZXRJdGVtU3R5bGUoKSx5PXQuZ2V0TW9kZWwoWyJibHVyIiwiaXRlbVN0eWxlIl0pLmdldEl0ZW1TdHlsZSgpLHY9dC5nZXRNb2RlbChbInNlbGVjdCIsIml0ZW1TdHlsZSJdKS5nZXRJdGVtU3R5bGUoKSxtPXQuZ2V0KFsiaXRlbVN0eWxlIiwiYm9yZGVyUmFkaXVzIl0pLHg9WWgodCksXz10LmdldE1vZGVsKCJlbXBoYXNpcyIpLGI9Xy5nZXQoImZvY3VzIiksdz1fLmdldCgiYmx1clNjb3BlIiksUz1fLmdldCgiZGlzYWJsZWQiKSxNPWg/W2YubWFwRGltZW5zaW9uKCJ4IiksZi5tYXBEaW1lbnNpb24oInkiKSxmLm1hcERpbWVuc2lvbigidmFsdWUiKV06W2YubWFwRGltZW5zaW9uKCJ0aW1lIiksZi5tYXBEaW1lbnNpb24oInZhbHVlIildLEk9bjtJPGk7SSsrKXt2YXIgVD12b2lkIDAsQz1mLmdldEl0ZW1WaXN1YWwoSSwic3R5bGUiKTtpZihoKXt2YXIgRD1mLmdldChNWzBdLEkpLEE9Zi5nZXQoTVsxXSxJKTtpZihpc05hTihmLmdldChNWzJdLEkpKXx8RDxzWzBdfHxEPnNbMV18fEE8bFswXXx8QT5sWzFdKWNvbnRpbnVlO3ZhciBrPXUuZGF0YVRvUG9pbnQoW0QsQV0pO1Q9bmV3IENzKHtzaGFwZTp7eDprWzBdLW8vMix5OmtbMV0tYS8yLHdpZHRoOm8saGVpZ2h0OmF9LHN0eWxlOkN9KX1lbHNle2lmKGlzTmFOKGYuZ2V0KE1bMV0sSSkpKWNvbnRpbnVlO1Q9bmV3IENzKHt6MjoxLHNoYXBlOnUuZGF0YVRvUmVjdChbZi5nZXQoTVswXSxJKV0pLmNvbnRlbnRTaGFwZSxzdHlsZTpDfSl9aWYoZi5oYXNJdGVtT3B0aW9uKXt2YXIgTD1mLmdldEl0ZW1Nb2RlbChJKSxQPUwuZ2V0TW9kZWwoImVtcGhhc2lzIik7Zz1QLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSx5PUwuZ2V0TW9kZWwoWyJibHVyIiwiaXRlbVN0eWxlIl0pLmdldEl0ZW1TdHlsZSgpLHY9TC5nZXRNb2RlbChbInNlbGVjdCIsIml0ZW1TdHlsZSJdKS5nZXRJdGVtU3R5bGUoKSxtPUwuZ2V0KFsiaXRlbVN0eWxlIiwiYm9yZGVyUmFkaXVzIl0pLGI9UC5nZXQoImZvY3VzIiksdz1QLmdldCgiYmx1clNjb3BlIiksUz1QLmdldCgiZGlzYWJsZWQiKSx4PVloKEwpfVQuc2hhcGUucj1tO3ZhciBPPXQuZ2V0UmF3VmFsdWUoSSksUj0iLSI7TyYmbnVsbCE9T1syXSYmKFI9T1syXSsiIiksSGgoVCx4LHtsYWJlbEZldGNoZXI6dCxsYWJlbERhdGFJbmRleDpJLGRlZmF1bHRPcGFjaXR5OkMub3BhY2l0eSxkZWZhdWx0VGV4dDpSfSksVC5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKS5zdHlsZT1nLFQuZW5zdXJlU3RhdGUoImJsdXIiKS5zdHlsZT15LFQuZW5zdXJlU3RhdGUoInNlbGVjdCIpLnN0eWxlPXYsUmwoVCxiLHcsUyksVC5pbmNyZW1lbnRhbD1yLHImJihULnN0YXRlcy5lbXBoYXNpcy5ob3ZlckxheWVyPSEwKSxkLmFkZChUKSxmLnNldEl0ZW1HcmFwaGljRWwoSSxUKSx0aGlzLl9wcm9ncmVzc2l2ZUVscyYmdGhpcy5fcHJvZ3Jlc3NpdmVFbHMucHVzaChUKX19LGUucHJvdG90eXBlLl9yZW5kZXJPbkdlbz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uLnRhcmdldFZpc3VhbHMuaW5SYW5nZSxvPW4udGFyZ2V0VmlzdWFscy5vdXRPZlJhbmdlLGE9ZS5nZXREYXRhKCkscz10aGlzLl9obUxheWVyfHx0aGlzLl9obUxheWVyfHxuZXcgUFA7cy5ibHVyU2l6ZT1lLmdldCgiYmx1clNpemUiKSxzLnBvaW50U2l6ZT1lLmdldCgicG9pbnRTaXplIikscy5taW5PcGFjaXR5PWUuZ2V0KCJtaW5PcGFjaXR5Iikscy5tYXhPcGFjaXR5PWUuZ2V0KCJtYXhPcGFjaXR5Iik7dmFyIGw9dC5nZXRWaWV3UmVjdCgpLmNsb25lKCksdT10LmdldFJvYW1UcmFuc2Zvcm0oKTtsLmFwcGx5VHJhbnNmb3JtKHUpO3ZhciBoPU1hdGgubWF4KGwueCwwKSxjPU1hdGgubWF4KGwueSwwKSxwPU1hdGgubWluKGwud2lkdGgrbC54LGkuZ2V0V2lkdGgoKSksZD1NYXRoLm1pbihsLmhlaWdodCtsLnksaS5nZXRIZWlnaHQoKSksZj1wLWgsZz1kLWMseT1bYS5tYXBEaW1lbnNpb24oImxuZyIpLGEubWFwRGltZW5zaW9uKCJsYXQiKSxhLm1hcERpbWVuc2lvbigidmFsdWUiKV0sdj1hLm1hcEFycmF5KHksKGZ1bmN0aW9uKGUsbixpKXt2YXIgcj10LmRhdGFUb1BvaW50KFtlLG5dKTtyZXR1cm4gclswXS09aCxyWzFdLT1jLHIucHVzaChpKSxyfSkpLG09bi5nZXRFeHRlbnQoKSx4PSJ2aXN1YWxNYXAuY29udGludW91cyI9PT1uLnR5cGU/ZnVuY3Rpb24odCxlKXt2YXIgbj10WzFdLXRbMF07cmV0dXJuIGU9WyhlWzBdLXRbMF0pL24sKGVbMV0tdFswXSkvbl0sZnVuY3Rpb24odCl7cmV0dXJuIHQ+PWVbMF0mJnQ8PWVbMV19fShtLG4ub3B0aW9uLnJhbmdlKTpmdW5jdGlvbih0LGUsbil7dmFyIGk9dFsxXS10WzBdLHI9KGU9eihlLChmdW5jdGlvbihlKXtyZXR1cm57aW50ZXJ2YWw6WyhlLmludGVydmFsWzBdLXRbMF0pL2ksKGUuaW50ZXJ2YWxbMV0tdFswXSkvaV19fSkpKS5sZW5ndGgsbz0wO3JldHVybiBmdW5jdGlvbih0KXt2YXIgaTtmb3IoaT1vO2k8cjtpKyspaWYoKGE9ZVtpXS5pbnRlcnZhbClbMF08PXQmJnQ8PWFbMV0pe289aTticmVha31pZihpPT09cilmb3IoaT1vLTE7aT49MDtpLS0pe3ZhciBhO2lmKChhPWVbaV0uaW50ZXJ2YWwpWzBdPD10JiZ0PD1hWzFdKXtvPWk7YnJlYWt9fXJldHVybiBpPj0wJiZpPHImJm5baV19fShtLG4uZ2V0UGllY2VMaXN0KCksbi5vcHRpb24uc2VsZWN0ZWQpO3MudXBkYXRlKHYsZixnLHIuY29sb3IuZ2V0Tm9ybWFsaXplcigpLHtpblJhbmdlOnIuY29sb3IuZ2V0Q29sb3JNYXBwZXIoKSxvdXRPZlJhbmdlOm8uY29sb3IuZ2V0Q29sb3JNYXBwZXIoKX0seCk7dmFyIF89bmV3IF9zKHtzdHlsZTp7d2lkdGg6ZixoZWlnaHQ6Zyx4OmgseTpjLGltYWdlOnMuY2FudmFzfSxzaWxlbnQ6ITB9KTt0aGlzLmdyb3VwLmFkZChfKX0sZS50eXBlPSJoZWF0bWFwIixlfSh4ZyksTlA9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaXgobnVsbCx0aGlzLHtnZW5lcmF0ZUNvb3JkOiJ2YWx1ZSJ9KX0sZS5wcm90b3R5cGUucHJldmVudEluY3JlbWVudGFsPWZ1bmN0aW9uKCl7dmFyIHQ9aGQuZ2V0KHRoaXMuZ2V0KCJjb29yZGluYXRlU3lzdGVtIikpO2lmKHQmJnQuZGltZW5zaW9ucylyZXR1cm4ibG5nIj09PXQuZGltZW5zaW9uc1swXSYmImxhdCI9PT10LmRpbWVuc2lvbnNbMV19LGUudHlwZT0ic2VyaWVzLmhlYXRtYXAiLGUuZGVwZW5kZW5jaWVzPVsiZ3JpZCIsImdlbyIsImNhbGVuZGFyIl0sZS5kZWZhdWx0T3B0aW9uPXtjb29yZGluYXRlU3lzdGVtOiJjYXJ0ZXNpYW4yZCIsejoyLGdlb0luZGV4OjAsYmx1clNpemU6MzAscG9pbnRTaXplOjIwLG1heE9wYWNpdHk6MSxtaW5PcGFjaXR5OjAsc2VsZWN0OntpdGVtU3R5bGU6e2JvcmRlckNvbG9yOiIjMjEyMTIxIn19fSxlfShzZyk7dmFyIEVQPVsiaXRlbVN0eWxlIiwiYm9yZGVyV2lkdGgiXSx6UD1be3h5OiJ4Iix3aDoid2lkdGgiLGluZGV4OjAscG9zRGVzYzpbImxlZnQiLCJyaWdodCJdfSx7eHk6InkiLHdoOiJoZWlnaHQiLGluZGV4OjEscG9zRGVzYzpbInRvcCIsImJvdHRvbSJdfV0sVlA9bmV3IGh1LEJQPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5ncm91cCxyPXQuZ2V0RGF0YSgpLG89dGhpcy5fZGF0YSxhPXQuY29vcmRpbmF0ZVN5c3RlbSxzPWEuZ2V0QmFzZUF4aXMoKS5pc0hvcml6b250YWwoKSxsPWEubWFzdGVyLmdldFJlY3QoKSx1PXtlY1NpemU6e3dpZHRoOm4uZ2V0V2lkdGgoKSxoZWlnaHQ6bi5nZXRIZWlnaHQoKX0sc2VyaWVzTW9kZWw6dCxjb29yZFN5czphLGNvb3JkU3lzRXh0ZW50OltbbC54LGwueCtsLndpZHRoXSxbbC55LGwueStsLmhlaWdodF1dLGlzSG9yaXpvbnRhbDpzLHZhbHVlRGltOnpQWytzXSxjYXRlZ29yeURpbTp6UFsxLStzXX07cmV0dXJuIHIuZGlmZihvKS5hZGQoKGZ1bmN0aW9uKHQpe2lmKHIuaGFzVmFsdWUodCkpe3ZhciBlPVpQKHIsdCksbj1GUChyLHQsZSx1KSxvPUtQKHIsdSxuKTtyLnNldEl0ZW1HcmFwaGljRWwodCxvKSxpLmFkZChvKSxlTyhvLHUsbil9fSkpLnVwZGF0ZSgoZnVuY3Rpb24odCxlKXt2YXIgbj1vLmdldEl0ZW1HcmFwaGljRWwoZSk7aWYoci5oYXNWYWx1ZSh0KSl7dmFyIGE9WlAocix0KSxzPUZQKHIsdCxhLHUpLGw9SlAocixzKTtuJiZsIT09bi5fX3BpY3RvcmlhbFNoYXBlU3RyJiYoaS5yZW1vdmUobiksci5zZXRJdGVtR3JhcGhpY0VsKHQsbnVsbCksbj1udWxsKSxuP2Z1bmN0aW9uKHQsZSxuKXt2YXIgaT1uLmFuaW1hdGlvbk1vZGVsLHI9bi5kYXRhSW5kZXg7cmgodC5fX3BpY3RvcmlhbEJ1bmRsZSx7eDpuLmJ1bmRsZVBvc2l0aW9uWzBdLHk6bi5idW5kbGVQb3NpdGlvblsxXX0saSxyKSxuLnN5bWJvbFJlcGVhdD9IUCh0LGUsbiwhMCk6WVAodCxlLG4sITApO1VQKHQsbiwhMCksWFAodCxlLG4sITApfShuLHUscyk6bj1LUChyLHUscywhMCksci5zZXRJdGVtR3JhcGhpY0VsKHQsbiksbi5fX3BpY3RvcmlhbFN5bWJvbE1ldGE9cyxpLmFkZChuKSxlTyhuLHUscyl9ZWxzZSBpLnJlbW92ZShuKX0pKS5yZW1vdmUoKGZ1bmN0aW9uKHQpe3ZhciBlPW8uZ2V0SXRlbUdyYXBoaWNFbCh0KTtlJiYkUChvLHQsZS5fX3BpY3RvcmlhbFN5bWJvbE1ldGEuYW5pbWF0aW9uTW9kZWwsZSl9KSkuZXhlY3V0ZSgpLHRoaXMuX2RhdGE9cix0aGlzLmdyb3VwfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdyb3VwLGk9dGhpcy5fZGF0YTt0LmdldCgiYW5pbWF0aW9uIik/aSYmaS5lYWNoSXRlbUdyYXBoaWNFbCgoZnVuY3Rpb24oZSl7JFAoaSxIcyhlKS5kYXRhSW5kZXgsdCxlKX0pKTpuLnJlbW92ZUFsbCgpfSxlLnR5cGU9InBpY3RvcmlhbEJhciIsZX0oeGcpO2Z1bmN0aW9uIEZQKHQsZSxuLGkpe3ZhciByPXQuZ2V0SXRlbUxheW91dChlKSxvPW4uZ2V0KCJzeW1ib2xSZXBlYXQiKSxhPW4uZ2V0KCJzeW1ib2xDbGlwIikscz1uLmdldCgic3ltYm9sUG9zaXRpb24iKXx8InN0YXJ0IixsPShuLmdldCgic3ltYm9sUm90YXRlIil8fDApKk1hdGguUEkvMTgwfHwwLHU9bi5nZXQoInN5bWJvbFBhdHRlcm5TaXplIil8fDIsaD1uLmlzQW5pbWF0aW9uRW5hYmxlZCgpLGM9e2RhdGFJbmRleDplLGxheW91dDpyLGl0ZW1Nb2RlbDpuLHN5bWJvbFR5cGU6dC5nZXRJdGVtVmlzdWFsKGUsInN5bWJvbCIpfHwiY2lyY2xlIixzdHlsZTp0LmdldEl0ZW1WaXN1YWwoZSwic3R5bGUiKSxzeW1ib2xDbGlwOmEsc3ltYm9sUmVwZWF0Om8sc3ltYm9sUmVwZWF0RGlyZWN0aW9uOm4uZ2V0KCJzeW1ib2xSZXBlYXREaXJlY3Rpb24iKSxzeW1ib2xQYXR0ZXJuU2l6ZTp1LHJvdGF0aW9uOmwsYW5pbWF0aW9uTW9kZWw6aD9uOm51bGwsaG92ZXJTY2FsZTpoJiZuLmdldChbImVtcGhhc2lzIiwic2NhbGUiXSksejI6bi5nZXRTaGFsbG93KCJ6IiwhMCl8fDB9OyFmdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvLGE9aS52YWx1ZURpbSxzPXQuZ2V0KCJzeW1ib2xCb3VuZGluZ0RhdGEiKSxsPWkuY29vcmRTeXMuZ2V0T3RoZXJBeGlzKGkuY29vcmRTeXMuZ2V0QmFzZUF4aXMoKSksdT1sLnRvR2xvYmFsQ29vcmQobC5kYXRhVG9Db29yZCgwKSksaD0xLSsoblthLndoXTw9MCk7aWYoWShzKSl7dmFyIGM9W0dQKGwsc1swXSktdSxHUChsLHNbMV0pLXVdO2NbMV08Y1swXSYmYy5yZXZlcnNlKCksbz1jW2hdfWVsc2Ugbz1udWxsIT1zP0dQKGwscyktdTplP2kuY29vcmRTeXNFeHRlbnRbYS5pbmRleF1baF0tdTpuW2Eud2hdO3IuYm91bmRpbmdMZW5ndGg9byxlJiYoci5yZXBlYXRDdXRMZW5ndGg9blthLndoXSk7ci5weFNpZ249bz4wPzE6LTF9KG4sbyxyLGksYyksZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzLGwsdSl7dmFyIGgsYz1sLnZhbHVlRGltLHA9bC5jYXRlZ29yeURpbSxkPU1hdGguYWJzKG5bcC53aF0pLGY9dC5nZXRJdGVtVmlzdWFsKGUsInN5bWJvbFNpemUiKTtoPVkoZik/Zi5zbGljZSgpOm51bGw9PWY/WyIxMDAlIiwiMTAwJSJdOltmLGZdO2hbcC5pbmRleF09RXIoaFtwLmluZGV4XSxkKSxoW2MuaW5kZXhdPUVyKGhbYy5pbmRleF0saT9kOk1hdGguYWJzKG8pKSx1LnN5bWJvbFNpemU9aCwodS5zeW1ib2xTY2FsZT1baFswXS9zLGhbMV0vc10pW2MuaW5kZXhdKj0obC5pc0hvcml6b250YWw/LTE6MSkqYX0odCxlLHIsbywwLGMuYm91bmRpbmdMZW5ndGgsYy5weFNpZ24sdSxpLGMpLGZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89dC5nZXQoRVApfHwwO28mJihWUC5hdHRyKHtzY2FsZVg6ZVswXSxzY2FsZVk6ZVsxXSxyb3RhdGlvbjpufSksVlAudXBkYXRlVHJhbnNmb3JtKCksby89VlAuZ2V0TGluZVNjYWxlKCksbyo9ZVtpLnZhbHVlRGltLmluZGV4XSk7ci52YWx1ZUxpbmVXaWR0aD1vfHwwfShuLGMuc3ltYm9sU2NhbGUsbCxpLGMpO3ZhciBwPWMuc3ltYm9sU2l6ZSxkPU95KG4uZ2V0KCJzeW1ib2xPZmZzZXQiKSxwKTtyZXR1cm4gZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzLGwsdSxoLGMpe3ZhciBwPWguY2F0ZWdvcnlEaW0sZD1oLnZhbHVlRGltLGY9Yy5weFNpZ24sZz1NYXRoLm1heChlW2QuaW5kZXhdK3MsMCkseT1nO2lmKGkpe3ZhciB2PU1hdGguYWJzKGwpLG09aXQodC5nZXQoInN5bWJvbE1hcmdpbiIpLCIxNSUiKSsiIix4PSExO20ubGFzdEluZGV4T2YoIiEiKT09PW0ubGVuZ3RoLTEmJih4PSEwLG09bS5zbGljZSgwLG0ubGVuZ3RoLTEpKTt2YXIgXz1FcihtLGVbZC5pbmRleF0pLGI9TWF0aC5tYXgoZysyKl8sMCksdz14PzA6MipfLFM9ZW8oaSksTT1TP2k6bk8oKHYrdykvYik7Yj1nKzIqKF89KHYtTSpnKS8yLyh4P006TWF0aC5tYXgoTS0xLDEpKSksdz14PzA6MipfLFN8fCJmaXhlZCI9PT1pfHwoTT11P25PKChNYXRoLmFicyh1KSt3KS9iKTowKSx5PU0qYi13LGMucmVwZWF0VGltZXM9TSxjLnN5bWJvbE1hcmdpbj1ffXZhciBJPWYqKHkvMiksVD1jLnBhdGhQb3NpdGlvbj1bXTtUW3AuaW5kZXhdPW5bcC53aF0vMixUW2QuaW5kZXhdPSJzdGFydCI9PT1hP0k6ImVuZCI9PT1hP2wtSTpsLzIsbyYmKFRbMF0rPW9bMF0sVFsxXSs9b1sxXSk7dmFyIEM9Yy5idW5kbGVQb3NpdGlvbj1bXTtDW3AuaW5kZXhdPW5bcC54eV0sQ1tkLmluZGV4XT1uW2QueHldO3ZhciBEPWMuYmFyUmVjdFNoYXBlPUEoe30sbik7RFtkLndoXT1mKk1hdGgubWF4KE1hdGguYWJzKG5bZC53aF0pLE1hdGguYWJzKFRbZC5pbmRleF0rSSkpLERbcC53aF09bltwLndoXTt2YXIgaz1jLmNsaXBTaGFwZT17fTtrW3AueHldPS1uW3AueHldLGtbcC53aF09aC5lY1NpemVbcC53aF0sa1tkLnh5XT0wLGtbZC53aF09bltkLndoXX0obixwLHIsbywwLGQscyxjLnZhbHVlTGluZVdpZHRoLGMuYm91bmRpbmdMZW5ndGgsYy5yZXBlYXRDdXRMZW5ndGgsaSxjKSxjfWZ1bmN0aW9uIEdQKHQsZSl7cmV0dXJuIHQudG9HbG9iYWxDb29yZCh0LmRhdGFUb0Nvb3JkKHQuc2NhbGUucGFyc2UoZSkpKX1mdW5jdGlvbiBXUCh0KXt2YXIgZT10LnN5bWJvbFBhdHRlcm5TaXplLG49THkodC5zeW1ib2xUeXBlLC1lLzIsLWUvMixlLGUpO3JldHVybiBuLmF0dHIoe2N1bGxpbmc6ITB9KSwiaW1hZ2UiIT09bi50eXBlJiZuLnNldFN0eWxlKHtzdHJva2VOb1NjYWxlOiEwfSksbn1mdW5jdGlvbiBIUCh0LGUsbixpKXt2YXIgcj10Ll9fcGljdG9yaWFsQnVuZGxlLG89bi5zeW1ib2xTaXplLGE9bi52YWx1ZUxpbmVXaWR0aCxzPW4ucGF0aFBvc2l0aW9uLGw9ZS52YWx1ZURpbSx1PW4ucmVwZWF0VGltZXN8fDAsaD0wLGM9b1tlLnZhbHVlRGltLmluZGV4XSthKzIqbi5zeW1ib2xNYXJnaW47Zm9yKFFQKHQsKGZ1bmN0aW9uKHQpe3QuX19waWN0b3JpYWxBbmltYXRpb25JbmRleD1oLHQuX19waWN0b3JpYWxSZXBlYXRUaW1lcz11LGg8dT90Tyh0LG51bGwsZihoKSxuLGkpOnRPKHQsbnVsbCx7c2NhbGVYOjAsc2NhbGVZOjB9LG4saSwoZnVuY3Rpb24oKXtyLnJlbW92ZSh0KX0pKSxoKyt9KSk7aDx1O2grKyl7dmFyIHA9V1Aobik7cC5fX3BpY3RvcmlhbEFuaW1hdGlvbkluZGV4PWgscC5fX3BpY3RvcmlhbFJlcGVhdFRpbWVzPXUsci5hZGQocCk7dmFyIGQ9ZihoKTt0TyhwLHt4OmQueCx5OmQueSxzY2FsZVg6MCxzY2FsZVk6MH0se3NjYWxlWDpkLnNjYWxlWCxzY2FsZVk6ZC5zY2FsZVkscm90YXRpb246ZC5yb3RhdGlvbn0sbixpKX1mdW5jdGlvbiBmKHQpe3ZhciBlPXMuc2xpY2UoKSxpPW4ucHhTaWduLHI9dDtyZXR1cm4oInN0YXJ0Ij09PW4uc3ltYm9sUmVwZWF0RGlyZWN0aW9uP2k+MDppPDApJiYocj11LTEtdCksZVtsLmluZGV4XT1jKihyLXUvMisuNSkrc1tsLmluZGV4XSx7eDplWzBdLHk6ZVsxXSxzY2FsZVg6bi5zeW1ib2xTY2FsZVswXSxzY2FsZVk6bi5zeW1ib2xTY2FsZVsxXSxyb3RhdGlvbjpuLnJvdGF0aW9ufX19ZnVuY3Rpb24gWVAodCxlLG4saSl7dmFyIHI9dC5fX3BpY3RvcmlhbEJ1bmRsZSxvPXQuX19waWN0b3JpYWxNYWluUGF0aDtvP3RPKG8sbnVsbCx7eDpuLnBhdGhQb3NpdGlvblswXSx5Om4ucGF0aFBvc2l0aW9uWzFdLHNjYWxlWDpuLnN5bWJvbFNjYWxlWzBdLHNjYWxlWTpuLnN5bWJvbFNjYWxlWzFdLHJvdGF0aW9uOm4ucm90YXRpb259LG4saSk6KG89dC5fX3BpY3RvcmlhbE1haW5QYXRoPVdQKG4pLHIuYWRkKG8pLHRPKG8se3g6bi5wYXRoUG9zaXRpb25bMF0seTpuLnBhdGhQb3NpdGlvblsxXSxzY2FsZVg6MCxzY2FsZVk6MCxyb3RhdGlvbjpuLnJvdGF0aW9ufSx7c2NhbGVYOm4uc3ltYm9sU2NhbGVbMF0sc2NhbGVZOm4uc3ltYm9sU2NhbGVbMV19LG4saSkpfWZ1bmN0aW9uIFVQKHQsZSxuKXt2YXIgaT1BKHt9LGUuYmFyUmVjdFNoYXBlKSxyPXQuX19waWN0b3JpYWxCYXJSZWN0O3I/dE8ocixudWxsLHtzaGFwZTppfSxlLG4pOigocj10Ll9fcGljdG9yaWFsQmFyUmVjdD1uZXcgQ3Moe3oyOjIsc2hhcGU6aSxzaWxlbnQ6ITAsc3R5bGU6e3N0cm9rZToidHJhbnNwYXJlbnQiLGZpbGw6InRyYW5zcGFyZW50IixsaW5lV2lkdGg6MH19KSkuZGlzYWJsZU1vcnBoaW5nPSEwLHQuYWRkKHIpKX1mdW5jdGlvbiBYUCh0LGUsbixpKXtpZihuLnN5bWJvbENsaXApe3ZhciByPXQuX19waWN0b3JpYWxDbGlwUGF0aCxvPUEoe30sbi5jbGlwU2hhcGUpLGE9ZS52YWx1ZURpbSxzPW4uYW5pbWF0aW9uTW9kZWwsbD1uLmRhdGFJbmRleDtpZihyKXJoKHIse3NoYXBlOm99LHMsbCk7ZWxzZXtvW2Eud2hdPTAscj1uZXcgQ3Moe3NoYXBlOm99KSx0Ll9fcGljdG9yaWFsQnVuZGxlLnNldENsaXBQYXRoKHIpLHQuX19waWN0b3JpYWxDbGlwUGF0aD1yO3ZhciB1PXt9O3VbYS53aF09bi5jbGlwU2hhcGVbYS53aF0sQmhbaT8idXBkYXRlUHJvcHMiOiJpbml0UHJvcHMiXShyLHtzaGFwZTp1fSxzLGwpfX19ZnVuY3Rpb24gWlAodCxlKXt2YXIgbj10LmdldEl0ZW1Nb2RlbChlKTtyZXR1cm4gbi5nZXRBbmltYXRpb25EZWxheVBhcmFtcz1qUCxuLmlzQW5pbWF0aW9uRW5hYmxlZD1xUCxufWZ1bmN0aW9uIGpQKHQpe3JldHVybntpbmRleDp0Ll9fcGljdG9yaWFsQW5pbWF0aW9uSW5kZXgsY291bnQ6dC5fX3BpY3RvcmlhbFJlcGVhdFRpbWVzfX1mdW5jdGlvbiBxUCgpe3JldHVybiB0aGlzLnBhcmVudE1vZGVsLmlzQW5pbWF0aW9uRW5hYmxlZCgpJiYhIXRoaXMuZ2V0U2hhbGxvdygiYW5pbWF0aW9uIil9ZnVuY3Rpb24gS1AodCxlLG4saSl7dmFyIHI9bmV3IENyLG89bmV3IENyO3JldHVybiByLmFkZChvKSxyLl9fcGljdG9yaWFsQnVuZGxlPW8sby54PW4uYnVuZGxlUG9zaXRpb25bMF0sby55PW4uYnVuZGxlUG9zaXRpb25bMV0sbi5zeW1ib2xSZXBlYXQ/SFAocixlLG4pOllQKHIsMCxuKSxVUChyLG4saSksWFAocixlLG4saSksci5fX3BpY3RvcmlhbFNoYXBlU3RyPUpQKHQsbiksci5fX3BpY3RvcmlhbFN5bWJvbE1ldGE9bixyfWZ1bmN0aW9uICRQKHQsZSxuLGkpe3ZhciByPWkuX19waWN0b3JpYWxCYXJSZWN0O3ImJnIucmVtb3ZlVGV4dENvbnRlbnQoKTt2YXIgbz1bXTtRUChpLChmdW5jdGlvbih0KXtvLnB1c2godCl9KSksaS5fX3BpY3RvcmlhbE1haW5QYXRoJiZvLnB1c2goaS5fX3BpY3RvcmlhbE1haW5QYXRoKSxpLl9fcGljdG9yaWFsQ2xpcFBhdGgmJihuPW51bGwpLEUobywoZnVuY3Rpb24odCl7c2godCx7c2NhbGVYOjAsc2NhbGVZOjB9LG4sZSwoZnVuY3Rpb24oKXtpLnBhcmVudCYmaS5wYXJlbnQucmVtb3ZlKGkpfSkpfSkpLHQuc2V0SXRlbUdyYXBoaWNFbChlLG51bGwpfWZ1bmN0aW9uIEpQKHQsZSl7cmV0dXJuW3QuZ2V0SXRlbVZpc3VhbChlLmRhdGFJbmRleCwic3ltYm9sIil8fCJub25lIiwhIWUuc3ltYm9sUmVwZWF0LCEhZS5zeW1ib2xDbGlwXS5qb2luKCI6Iil9ZnVuY3Rpb24gUVAodCxlLG4pe0UodC5fX3BpY3RvcmlhbEJ1bmRsZS5jaGlsZHJlbigpLChmdW5jdGlvbihpKXtpIT09dC5fX3BpY3RvcmlhbEJhclJlY3QmJmUuY2FsbChuLGkpfSkpfWZ1bmN0aW9uIHRPKHQsZSxuLGkscixvKXtlJiZ0LmF0dHIoZSksaS5zeW1ib2xDbGlwJiYhcj9uJiZ0LmF0dHIobik6biYmQmhbcj8idXBkYXRlUHJvcHMiOiJpbml0UHJvcHMiXSh0LG4saS5hbmltYXRpb25Nb2RlbCxpLmRhdGFJbmRleCxvKX1mdW5jdGlvbiBlTyh0LGUsbil7dmFyIGk9bi5kYXRhSW5kZXgscj1uLml0ZW1Nb2RlbCxvPXIuZ2V0TW9kZWwoImVtcGhhc2lzIiksYT1vLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSxzPXIuZ2V0TW9kZWwoWyJibHVyIiwiaXRlbVN0eWxlIl0pLmdldEl0ZW1TdHlsZSgpLGw9ci5nZXRNb2RlbChbInNlbGVjdCIsIml0ZW1TdHlsZSJdKS5nZXRJdGVtU3R5bGUoKSx1PXIuZ2V0U2hhbGxvdygiY3Vyc29yIiksaD1vLmdldCgiZm9jdXMiKSxjPW8uZ2V0KCJibHVyU2NvcGUiKSxwPW8uZ2V0KCJzY2FsZSIpO1FQKHQsKGZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBfcyl7dmFyIGU9dC5zdHlsZTt0LnVzZVN0eWxlKEEoe2ltYWdlOmUuaW1hZ2UseDplLngseTplLnksd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHR9LG4uc3R5bGUpKX1lbHNlIHQudXNlU3R5bGUobi5zdHlsZSk7dmFyIGk9dC5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKTtpLnN0eWxlPWEscCYmKGkuc2NhbGVYPTEuMSp0LnNjYWxlWCxpLnNjYWxlWT0xLjEqdC5zY2FsZVkpLHQuZW5zdXJlU3RhdGUoImJsdXIiKS5zdHlsZT1zLHQuZW5zdXJlU3RhdGUoInNlbGVjdCIpLnN0eWxlPWwsdSYmKHQuY3Vyc29yPXUpLHQuejI9bi56Mn0pKTt2YXIgZD1lLnZhbHVlRGltLnBvc0Rlc2NbKyhuLmJvdW5kaW5nTGVuZ3RoPjApXTtIaCh0Ll9fcGljdG9yaWFsQmFyUmVjdCxZaChyKSx7bGFiZWxGZXRjaGVyOmUuc2VyaWVzTW9kZWwsbGFiZWxEYXRhSW5kZXg6aSxkZWZhdWx0VGV4dDpHdyhlLnNlcmllc01vZGVsLmdldERhdGEoKSxpKSxpbmhlcml0Q29sb3I6bi5zdHlsZS5maWxsLGRlZmF1bHRPcGFjaXR5Om4uc3R5bGUub3BhY2l0eSxkZWZhdWx0T3V0c2lkZVBvc2l0aW9uOmR9KSxSbCh0LGgsYyxvLmdldCgiZGlzYWJsZWQiKSl9ZnVuY3Rpb24gbk8odCl7dmFyIGU9TWF0aC5yb3VuZCh0KTtyZXR1cm4gTWF0aC5hYnModC1lKTwxZS00P2U6TWF0aC5jZWlsKHQpfXZhciBpTz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uaGFzU3ltYm9sVmlzdWFsPSEwLG4uZGVmYXVsdFN5bWJvbD0icm91bmRSZWN0IixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhY2s9bnVsbCx0LnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUudHlwZT0ic2VyaWVzLnBpY3RvcmlhbEJhciIsZS5kZXBlbmRlbmNpZXM9WyJncmlkIl0sZS5kZWZhdWx0T3B0aW9uPXljKE1TLmRlZmF1bHRPcHRpb24se3N5bWJvbDoiY2lyY2xlIixzeW1ib2xTaXplOm51bGwsc3ltYm9sUm90YXRlOm51bGwsc3ltYm9sUG9zaXRpb246bnVsbCxzeW1ib2xPZmZzZXQ6bnVsbCxzeW1ib2xNYXJnaW46bnVsbCxzeW1ib2xSZXBlYXQ6ITEsc3ltYm9sUmVwZWF0RGlyZWN0aW9uOiJlbmQiLHN5bWJvbENsaXA6ITEsc3ltYm9sQm91bmRpbmdEYXRhOm51bGwsc3ltYm9sUGF0dGVyblNpemU6NDAwLGJhckdhcDoiLTEwMCUiLHByb2dyZXNzaXZlOjAsZW1waGFzaXM6e3NjYWxlOiExfSxzZWxlY3Q6e2l0ZW1TdHlsZTp7Ym9yZGVyQ29sb3I6IiMyMTIxMjEifX19KSxlfShNUyk7dmFyIHJPPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5fbGF5ZXJzPVtdLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0RGF0YSgpLHI9dGhpcyxvPXRoaXMuZ3JvdXAsYT10LmdldExheWVyU2VyaWVzKCkscz1pLmdldExheW91dCgibGF5b3V0SW5mbyIpLGw9cy5yZWN0LHU9cy5ib3VuZGFyeUdhcDtmdW5jdGlvbiBoKHQpe3JldHVybiB0Lm5hbWV9by54PTAsby55PWwueSt1WzBdO3ZhciBjPW5ldyBNbSh0aGlzLl9sYXllcnNTZXJpZXN8fFtdLGEsaCxoKSxwPVtdO2Z1bmN0aW9uIGQoZSxuLHMpe3ZhciBsPXIuX2xheWVycztpZigicmVtb3ZlIiE9PWUpe2Zvcih2YXIgdSxoLGM9W10sZD1bXSxmPWFbbl0uaW5kaWNlcyxnPTA7ZzxmLmxlbmd0aDtnKyspe3ZhciB5PWkuZ2V0SXRlbUxheW91dChmW2ddKSx2PXkueCxtPXkueTAseD15Lnk7Yy5wdXNoKHYsbSksZC5wdXNoKHYsbSt4KSx1PWkuZ2V0SXRlbVZpc3VhbChmW2ddLCJzdHlsZSIpfXZhciBfPWkuZ2V0SXRlbUxheW91dChmWzBdKSxiPXQuZ2V0TW9kZWwoImxhYmVsIikuZ2V0KCJtYXJnaW4iKSx3PXQuZ2V0TW9kZWwoImVtcGhhc2lzIik7aWYoImFkZCI9PT1lKXt2YXIgUz1wW25dPW5ldyBDcjtoPW5ldyByUyh7c2hhcGU6e3BvaW50czpjLHN0YWNrZWRPblBvaW50czpkLHNtb290aDouNCxzdGFja2VkT25TbW9vdGg6LjQsc21vb3RoQ29uc3RyYWludDohMX0sejI6MH0pLFMuYWRkKGgpLG8uYWRkKFMpLHQuaXNBbmltYXRpb25FbmFibGVkKCkmJmguc2V0Q2xpcFBhdGgoZnVuY3Rpb24odCxlLG4pe3ZhciBpPW5ldyBDcyh7c2hhcGU6e3g6dC54LTEwLHk6dC55LTEwLHdpZHRoOjAsaGVpZ2h0OnQuaGVpZ2h0KzIwfX0pO3JldHVybiBvaChpLHtzaGFwZTp7eDp0LngtNTAsd2lkdGg6dC53aWR0aCsxMDAsaGVpZ2h0OnQuaGVpZ2h0KzIwfX0sZSxuKSxpfShoLmdldEJvdW5kaW5nUmVjdCgpLHQsKGZ1bmN0aW9uKCl7aC5yZW1vdmVDbGlwUGF0aCgpfSkpKX1lbHNle1M9bFtzXTtoPVMuY2hpbGRBdCgwKSxvLmFkZChTKSxwW25dPVMscmgoaCx7c2hhcGU6e3BvaW50czpjLHN0YWNrZWRPblBvaW50czpkfX0sdCksaGgoaCl9SGgoaCxZaCh0KSx7bGFiZWxEYXRhSW5kZXg6ZltnLTFdLGRlZmF1bHRUZXh0OmkuZ2V0TmFtZShmW2ctMV0pLGluaGVyaXRDb2xvcjp1LmZpbGx9LHtub3JtYWw6e3ZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9fSksaC5zZXRUZXh0Q29uZmlnKHtwb3NpdGlvbjpudWxsLGxvY2FsOiEwfSk7dmFyIE09aC5nZXRUZXh0Q29udGVudCgpO00mJihNLng9Xy54LWIsTS55PV8ueTArXy55LzIpLGgudXNlU3R5bGUodSksaS5zZXRJdGVtR3JhcGhpY0VsKG4saCksVmwoaCx0KSxSbChoLHcuZ2V0KCJmb2N1cyIpLHcuZ2V0KCJibHVyU2NvcGUiKSx3LmdldCgiZGlzYWJsZWQiKSl9ZWxzZSBvLnJlbW92ZShsW25dKX1jLmFkZChXKGQsdGhpcywiYWRkIikpLnVwZGF0ZShXKGQsdGhpcywidXBkYXRlIikpLnJlbW92ZShXKGQsdGhpcywicmVtb3ZlIikpLmV4ZWN1dGUoKSx0aGlzLl9sYXllcnNTZXJpZXM9YSx0aGlzLl9sYXllcnM9cH0sZS50eXBlPSJ0aGVtZVJpdmVyIixlfSh4Zyk7dmFyIG9PPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5sZWdlbmRWaXN1YWxQcm92aWRlcj1uZXcgdU0oVyh0aGlzLmdldERhdGEsdGhpcyksVyh0aGlzLmdldFJhd0RhdGEsdGhpcykpfSxlLnByb3RvdHlwZS5maXhEYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXQubGVuZ3RoLG49e30saT1Mbyh0LChmdW5jdGlvbih0KXtyZXR1cm4gbi5oYXNPd25Qcm9wZXJ0eSh0WzBdKyIiKXx8KG5bdFswXSsiIl09LTEpLHRbMl19KSkscj1bXTtpLmJ1Y2tldHMuZWFjaCgoZnVuY3Rpb24odCxlKXtyLnB1c2goe25hbWU6ZSxkYXRhTGlzdDp0fSl9KSk7Zm9yKHZhciBvPXIubGVuZ3RoLGE9MDthPG87KythKXtmb3IodmFyIHM9clthXS5uYW1lLGw9MDtsPHJbYV0uZGF0YUxpc3QubGVuZ3RoOysrbCl7dmFyIHU9clthXS5kYXRhTGlzdFtsXVswXSsiIjtuW3VdPWF9Zm9yKHZhciB1IGluIG4pbi5oYXNPd25Qcm9wZXJ0eSh1KSYmblt1XSE9PWEmJihuW3VdPWEsdFtlXT1bdSwwLHNdLGUrKyl9cmV0dXJuIHR9LGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygic2luZ2xlQXhpcyIsQ28pLm1vZGVsc1swXS5nZXQoInR5cGUiKSxpPUIodC5kYXRhLChmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dFsyXX0pKSxyPXRoaXMuZml4RGF0YShpfHxbXSksbz1bXSxhPXRoaXMubmFtZU1hcD1mdCgpLHM9MCxsPTA7bDxyLmxlbmd0aDsrK2wpby5wdXNoKHJbbF1bMl0pLGEuZ2V0KHJbbF1bMl0pfHwoYS5zZXQocltsXVsyXSxzKSxzKyspO3ZhciB1PXFtKHIse2Nvb3JkRGltZW5zaW9uczpbInNpbmdsZSJdLGRpbWVuc2lvbnNEZWZpbmU6W3tuYW1lOiJ0aW1lIix0eXBlOkNtKG4pfSx7bmFtZToidmFsdWUiLHR5cGU6ImZsb2F0In0se25hbWU6Im5hbWUiLHR5cGU6Im9yZGluYWwifV0sZW5jb2RlRGVmaW5lOntzaW5nbGU6MCx2YWx1ZToxLGl0ZW1OYW1lOjJ9fSkuZGltZW5zaW9ucyxoPW5ldyBqbSh1LHRoaXMpO3JldHVybiBoLmluaXREYXRhKHIpLGh9LGUucHJvdG90eXBlLmdldExheWVyU2VyaWVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZ2V0RGF0YSgpLGU9dC5jb3VudCgpLG49W10saT0wO2k8ZTsrK2kpbltpXT1pO3ZhciByPXQubWFwRGltZW5zaW9uKCJzaW5nbGUiKSxvPUxvKG4sKGZ1bmN0aW9uKGUpe3JldHVybiB0LmdldCgibmFtZSIsZSl9KSksYT1bXTtyZXR1cm4gby5idWNrZXRzLmVhY2goKGZ1bmN0aW9uKGUsbil7ZS5zb3J0KChmdW5jdGlvbihlLG4pe3JldHVybiB0LmdldChyLGUpLXQuZ2V0KHIsbil9KSksYS5wdXNoKHtuYW1lOm4saW5kaWNlczplfSl9KSksYX0sZS5wcm90b3R5cGUuZ2V0QXhpc1Rvb2x0aXBEYXRhPWZ1bmN0aW9uKHQsZSxuKXtZKHQpfHwodD10P1t0XTpbXSk7Zm9yKHZhciBpLHI9dGhpcy5nZXREYXRhKCksbz10aGlzLmdldExheWVyU2VyaWVzKCksYT1bXSxzPW8ubGVuZ3RoLGw9MDtsPHM7KytsKXtmb3IodmFyIHU9TnVtYmVyLk1BWF9WQUxVRSxoPS0xLGM9b1tsXS5pbmRpY2VzLmxlbmd0aCxwPTA7cDxjOysrcCl7dmFyIGQ9ci5nZXQodFswXSxvW2xdLmluZGljZXNbcF0pLGY9TWF0aC5hYnMoZC1lKTtmPD11JiYoaT1kLHU9ZixoPW9bbF0uaW5kaWNlc1twXSl9YS5wdXNoKGgpfXJldHVybntkYXRhSW5kaWNlczphLG5lc3Rlc3RWYWx1ZTppfX0sZS5wcm90b3R5cGUuZm9ybWF0VG9vbHRpcD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5nZXREYXRhKCk7cmV0dXJuIFhmKCJuYW1lVmFsdWUiLHtuYW1lOmkuZ2V0TmFtZSh0KSx2YWx1ZTppLmdldChpLm1hcERpbWVuc2lvbigidmFsdWUiKSx0KX0pfSxlLnR5cGU9InNlcmllcy50aGVtZVJpdmVyIixlLmRlcGVuZGVuY2llcz1bInNpbmdsZUF4aXMiXSxlLmRlZmF1bHRPcHRpb249e3o6Mixjb2xvckJ5OiJkYXRhIixjb29yZGluYXRlU3lzdGVtOiJzaW5nbGVBeGlzIixib3VuZGFyeUdhcDpbIjEwJSIsIjEwJSJdLHNpbmdsZUF4aXNJbmRleDowLGFuaW1hdGlvbkVhc2luZzoibGluZWFyIixsYWJlbDp7bWFyZ2luOjQsc2hvdzohMCxwb3NpdGlvbjoibGVmdCIsZm9udFNpemU6MTF9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMH19fSxlfShzZyk7ZnVuY3Rpb24gYU8odCxlKXt0LmVhY2hTZXJpZXNCeVR5cGUoInRoZW1lUml2ZXIiLChmdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoKSxuPXQuY29vcmRpbmF0ZVN5c3RlbSxpPXt9LHI9bi5nZXRSZWN0KCk7aS5yZWN0PXI7dmFyIG89dC5nZXQoImJvdW5kYXJ5R2FwIiksYT1uLmdldEF4aXMoKTsoaS5ib3VuZGFyeUdhcD1vLCJob3Jpem9udGFsIj09PWEub3JpZW50KT8ob1swXT1FcihvWzBdLHIuaGVpZ2h0KSxvWzFdPUVyKG9bMV0sci5oZWlnaHQpLHNPKGUsdCxyLmhlaWdodC1vWzBdLW9bMV0pKToob1swXT1FcihvWzBdLHIud2lkdGgpLG9bMV09RXIob1sxXSxyLndpZHRoKSxzTyhlLHQsci53aWR0aC1vWzBdLW9bMV0pKTtlLnNldExheW91dCgibGF5b3V0SW5mbyIsaSl9KSl9ZnVuY3Rpb24gc08odCxlLG4pe2lmKHQuY291bnQoKSlmb3IodmFyIGkscj1lLmNvb3JkaW5hdGVTeXN0ZW0sbz1lLmdldExheWVyU2VyaWVzKCksYT10Lm1hcERpbWVuc2lvbigic2luZ2xlIikscz10Lm1hcERpbWVuc2lvbigidmFsdWUiKSxsPXoobywoZnVuY3Rpb24oZSl7cmV0dXJuIHooZS5pbmRpY2VzLChmdW5jdGlvbihlKXt2YXIgbj1yLmRhdGFUb1BvaW50KHQuZ2V0KGEsZSkpO3JldHVybiBuWzFdPXQuZ2V0KHMsZSksbn0pKX0pKSx1PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lmxlbmd0aCxuPXRbMF0ubGVuZ3RoLGk9W10scj1bXSxvPTAsYT0wO2E8bjsrK2Epe2Zvcih2YXIgcz0wLGw9MDtsPGU7KytsKXMrPXRbbF1bYV1bMV07cz5vJiYobz1zKSxpLnB1c2gocyl9Zm9yKHZhciB1PTA7dTxuOysrdSlyW3VdPShvLWlbdV0pLzI7bz0wO2Zvcih2YXIgaD0wO2g8bjsrK2gpe3ZhciBjPWlbaF0rcltoXTtjPm8mJihvPWMpfXJldHVybnt5MDpyLG1heDpvfX0obCksaD11LnkwLGM9bi91Lm1heCxwPW8ubGVuZ3RoLGQ9b1swXS5pbmRpY2VzLmxlbmd0aCxmPTA7ZjxkOysrZil7aT1oW2ZdKmMsdC5zZXRJdGVtTGF5b3V0KG9bMF0uaW5kaWNlc1tmXSx7bGF5ZXJJbmRleDowLHg6bFswXVtmXVswXSx5MDppLHk6bFswXVtmXVsxXSpjfSk7Zm9yKHZhciBnPTE7ZzxwOysrZylpKz1sW2ctMV1bZl1bMV0qYyx0LnNldEl0ZW1MYXlvdXQob1tnXS5pbmRpY2VzW2ZdLHtsYXllckluZGV4OmcseDpsW2ddW2ZdWzBdLHkwOmkseTpsW2ddW2ZdWzFdKmN9KX19dmFyIGxPPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscil7dmFyIG89dC5jYWxsKHRoaXMpfHx0aGlzO28uejI9MixvLnRleHRDb25maWc9e2luc2lkZTohMH0sSHMobykuc2VyaWVzSW5kZXg9bi5zZXJpZXNJbmRleDt2YXIgYT1uZXcga3Moe3oyOjQsc2lsZW50OmUuZ2V0TW9kZWwoKS5nZXQoWyJsYWJlbCIsInNpbGVudCJdKX0pO3JldHVybiBvLnNldFRleHRDb250ZW50KGEpLG8udXBkYXRlRGF0YSghMCxlLG4saSxyKSxvfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUsbixpLHIpe3RoaXMubm9kZT1lLGUucGllY2U9dGhpcyxuPW58fHRoaXMuX3Nlcmllc01vZGVsLGk9aXx8dGhpcy5fZWNNb2RlbDt2YXIgbz10aGlzO0hzKG8pLmRhdGFJbmRleD1lLmRhdGFJbmRleDt2YXIgYT1lLmdldE1vZGVsKCkscz1hLmdldE1vZGVsKCJlbXBoYXNpcyIpLGw9ZS5nZXRMYXlvdXQoKSx1PUEoe30sbCk7dS5sYWJlbD1udWxsO3ZhciBoPWUuZ2V0VmlzdWFsKCJzdHlsZSIpO2gubGluZUpvaW49ImJldmVsIjt2YXIgYz1lLmdldFZpc3VhbCgiZGVjYWwiKTtjJiYoaC5kZWNhbD1pdihjLHIpKTt2YXIgcD1vTShhLmdldE1vZGVsKCJpdGVtU3R5bGUiKSx1LCEwKTtBKHUscCksRShxcywoZnVuY3Rpb24odCl7dmFyIGU9by5lbnN1cmVTdGF0ZSh0KSxuPWEuZ2V0TW9kZWwoW3QsIml0ZW1TdHlsZSJdKTtlLnN0eWxlPW4uZ2V0SXRlbVN0eWxlKCk7dmFyIGk9b00obix1KTtpJiYoZS5zaGFwZT1pKX0pKSx0PyhvLnNldFNoYXBlKHUpLG8uc2hhcGUucj1sLnIwLHJoKG8se3NoYXBlOntyOmwucn19LG4sZS5kYXRhSW5kZXgpKToocmgobyx7c2hhcGU6dX0sbiksaGgobykpLG8udXNlU3R5bGUoaCksdGhpcy5fdXBkYXRlTGFiZWwobik7dmFyIGQ9YS5nZXRTaGFsbG93KCJjdXJzb3IiKTtkJiZvLmF0dHIoImN1cnNvciIsZCksdGhpcy5fc2VyaWVzTW9kZWw9bnx8dGhpcy5fc2VyaWVzTW9kZWwsdGhpcy5fZWNNb2RlbD1pfHx0aGlzLl9lY01vZGVsO3ZhciBmPXMuZ2V0KCJmb2N1cyIpO1JsKHRoaXMsImFuY2VzdG9yIj09PWY/ZS5nZXRBbmNlc3RvcnNJbmRpY2VzKCk6ImRlc2NlbmRhbnQiPT09Zj9lLmdldERlc2NlbmRhbnRJbmRpY2VzKCk6ZixzLmdldCgiYmx1clNjb3BlIikscy5nZXQoImRpc2FibGVkIikpfSxlLnByb3RvdHlwZS5fdXBkYXRlTGFiZWw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMubm9kZS5nZXRNb2RlbCgpLGk9bi5nZXRNb2RlbCgibGFiZWwiKSxyPXRoaXMubm9kZS5nZXRMYXlvdXQoKSxvPXIuZW5kQW5nbGUtci5zdGFydEFuZ2xlLGE9KHIuc3RhcnRBbmdsZStyLmVuZEFuZ2xlKS8yLHM9TWF0aC5jb3MoYSksbD1NYXRoLnNpbihhKSx1PXRoaXMsaD11LmdldFRleHRDb250ZW50KCksYz10aGlzLm5vZGUuZGF0YUluZGV4LHA9aS5nZXQoIm1pbkFuZ2xlIikvMTgwKk1hdGguUEksZD1pLmdldCgic2hvdyIpJiYhKG51bGwhPXAmJk1hdGguYWJzKG8pPHApO2Z1bmN0aW9uIGYodCxlKXt2YXIgbj10LmdldChlKTtyZXR1cm4gbnVsbD09bj9pLmdldChlKTpufWguaWdub3JlPSFkLEUoS3MsKGZ1bmN0aW9uKGkpe3ZhciBwPSJub3JtYWwiPT09aT9uLmdldE1vZGVsKCJsYWJlbCIpOm4uZ2V0TW9kZWwoW2ksImxhYmVsIl0pLGQ9Im5vcm1hbCI9PT1pLGc9ZD9oOmguZW5zdXJlU3RhdGUoaSkseT10LmdldEZvcm1hdHRlZExhYmVsKGMsaSk7ZCYmKHk9eXx8ZS5ub2RlLm5hbWUpLGcuc3R5bGU9VWgocCx7fSxudWxsLCJub3JtYWwiIT09aSwhMCkseSYmKGcuc3R5bGUudGV4dD15KTt2YXIgdj1wLmdldCgic2hvdyIpO251bGw9PXZ8fGR8fChnLmlnbm9yZT0hdik7dmFyIG0seD1mKHAsInBvc2l0aW9uIiksXz1kP3U6dS5zdGF0ZXNbaV0sYj1fLnN0eWxlLmZpbGw7Xy50ZXh0Q29uZmlnPXtvdXRzaWRlRmlsbDoiaW5oZXJpdCI9PT1wLmdldCgiY29sb3IiKT9iOm51bGwsaW5zaWRlOiJvdXRzaWRlIiE9PXh9O3ZhciB3PWYocCwiZGlzdGFuY2UiKXx8MCxTPWYocCwiYWxpZ24iKTsib3V0c2lkZSI9PT14PyhtPXIucit3LFM9YT5NYXRoLlBJLzI/InJpZ2h0IjoibGVmdCIpOlMmJiJjZW50ZXIiIT09Uz8ibGVmdCI9PT1TPyhtPXIucjArdyxhPk1hdGguUEkvMiYmKFM9InJpZ2h0IikpOiJyaWdodCI9PT1TJiYobT1yLnItdyxhPk1hdGguUEkvMiYmKFM9ImxlZnQiKSk6KG09bz09PTIqTWF0aC5QSSYmMD09PXIucjA/MDooci5yK3IucjApLzIsUz0iY2VudGVyIiksZy5zdHlsZS5hbGlnbj1TLGcuc3R5bGUudmVydGljYWxBbGlnbj1mKHAsInZlcnRpY2FsQWxpZ24iKXx8Im1pZGRsZSIsZy54PW0qcytyLmN4LGcueT1tKmwrci5jeTt2YXIgTT1mKHAsInJvdGF0ZSIpLEk9MDsicmFkaWFsIj09PU0/KEk9LWEpPC1NYXRoLlBJLzImJihJKz1NYXRoLlBJKToidGFuZ2VudGlhbCI9PT1NPyhJPU1hdGguUEkvMi1hKT5NYXRoLlBJLzI/SS09TWF0aC5QSTpJPC1NYXRoLlBJLzImJihJKz1NYXRoLlBJKTpqKE0pJiYoST1NKk1hdGguUEkvMTgwKSxnLnJvdGF0aW9uPUl9KSksaC5kaXJ0eVN0eWxlKCl9LGV9KEN1KSx1Tz0ic3VuYnVyc3RSb290VG9Ob2RlIixoTz0ic3VuYnVyc3RIaWdobGlnaHQiO3ZhciBjTz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpczt0aGlzLnNlcmllc01vZGVsPXQsdGhpcy5hcGk9bix0aGlzLmVjTW9kZWw9ZTt2YXIgbz10LmdldERhdGEoKSxhPW8udHJlZS5yb290LHM9dC5nZXRWaWV3Um9vdCgpLGw9dGhpcy5ncm91cCx1PXQuZ2V0KCJyZW5kZXJMYWJlbEZvclplcm9EYXRhIiksaD1bXTtzLmVhY2hOb2RlKChmdW5jdGlvbih0KXtoLnB1c2godCl9KSk7dmFyIGM9dGhpcy5fb2xkQ2hpbGRyZW58fFtdOyFmdW5jdGlvbihpLHIpe2lmKDA9PT1pLmxlbmd0aCYmMD09PXIubGVuZ3RoKXJldHVybjtmdW5jdGlvbiBzKHQpe3JldHVybiB0LmdldElkKCl9ZnVuY3Rpb24gaChzLGgpeyFmdW5jdGlvbihpLHIpe3V8fCFpfHxpLmdldFZhbHVlKCl8fChpPW51bGwpO2lmKGkhPT1hJiZyIT09YSlpZihyJiZyLnBpZWNlKWk/KHIucGllY2UudXBkYXRlRGF0YSghMSxpLHQsZSxuKSxvLnNldEl0ZW1HcmFwaGljRWwoaS5kYXRhSW5kZXgsci5waWVjZSkpOmZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybjt0LnBpZWNlJiYobC5yZW1vdmUodC5waWVjZSksdC5waWVjZT1udWxsKX0ocik7ZWxzZSBpZihpKXt2YXIgcz1uZXcgbE8oaSx0LGUsbik7bC5hZGQocyksby5zZXRJdGVtR3JhcGhpY0VsKGkuZGF0YUluZGV4LHMpfX0obnVsbD09cz9udWxsOmlbc10sbnVsbD09aD9udWxsOnJbaF0pfW5ldyBNbShyLGkscyxzKS5hZGQoaCkudXBkYXRlKGgpLnJlbW92ZShIKGgsbnVsbCkpLmV4ZWN1dGUoKX0oaCxjKSxmdW5jdGlvbihpLG8pe28uZGVwdGg+MD8oci52aXJ0dWFsUGllY2U/ci52aXJ0dWFsUGllY2UudXBkYXRlRGF0YSghMSxpLHQsZSxuKTooci52aXJ0dWFsUGllY2U9bmV3IGxPKGksdCxlLG4pLGwuYWRkKHIudmlydHVhbFBpZWNlKSksby5waWVjZS5vZmYoImNsaWNrIiksci52aXJ0dWFsUGllY2Uub24oImNsaWNrIiwoZnVuY3Rpb24odCl7ci5fcm9vdFRvTm9kZShvLnBhcmVudE5vZGUpfSkpKTpyLnZpcnR1YWxQaWVjZSYmKGwucmVtb3ZlKHIudmlydHVhbFBpZWNlKSxyLnZpcnR1YWxQaWVjZT1udWxsKX0oYSxzKSx0aGlzLl9pbml0RXZlbnRzKCksdGhpcy5fb2xkQ2hpbGRyZW49aH0sZS5wcm90b3R5cGUuX2luaXRFdmVudHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZ3JvdXAub2ZmKCJjbGljayIpLHRoaXMuZ3JvdXAub24oImNsaWNrIiwoZnVuY3Rpb24oZSl7dmFyIG49ITE7dC5zZXJpZXNNb2RlbC5nZXRWaWV3Um9vdCgpLmVhY2hOb2RlKChmdW5jdGlvbihpKXtpZighbiYmaS5waWVjZSYmaS5waWVjZT09PWUudGFyZ2V0KXt2YXIgcj1pLmdldE1vZGVsKCkuZ2V0KCJub2RlQ2xpY2siKTtpZigicm9vdFRvTm9kZSI9PT1yKXQuX3Jvb3RUb05vZGUoaSk7ZWxzZSBpZigibGluayI9PT1yKXt2YXIgbz1pLmdldE1vZGVsKCksYT1vLmdldCgibGluayIpO2lmKGEpZHAoYSxvLmdldCgidGFyZ2V0IiwhMCl8fCJfYmxhbmsiKX1uPSEwfX0pKX0pKX0sZS5wcm90b3R5cGUuX3Jvb3RUb05vZGU9ZnVuY3Rpb24odCl7dCE9PXRoaXMuc2VyaWVzTW9kZWwuZ2V0Vmlld1Jvb3QoKSYmdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6dU8sZnJvbTp0aGlzLnVpZCxzZXJpZXNJZDp0aGlzLnNlcmllc01vZGVsLmlkLHRhcmdldE5vZGU6dH0pfSxlLnByb3RvdHlwZS5jb250YWluUG9pbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmdldERhdGEoKS5nZXRJdGVtTGF5b3V0KDApO2lmKG4pe3ZhciBpPXRbMF0tbi5jeCxyPXRbMV0tbi5jeSxvPU1hdGguc3FydChpKmkrcipyKTtyZXR1cm4gbzw9bi5yJiZvPj1uLnIwfX0sZS50eXBlPSJzdW5idXJzdCIsZX0oeGcpLHBPPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5pZ25vcmVTdHlsZU9uRGF0YT0hMCxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24odCxlKXt2YXIgbj17bmFtZTp0Lm5hbWUsY2hpbGRyZW46dC5kYXRhfTtkTyhuKTt2YXIgaT10aGlzLl9sZXZlbE1vZGVscz16KHQubGV2ZWxzfHxbXSwoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBkYyh0LHRoaXMsZSl9KSx0aGlzKSxyPURDLmNyZWF0ZVRyZWUobix0aGlzLChmdW5jdGlvbih0KXt0LndyYXBNZXRob2QoImdldEl0ZW1Nb2RlbCIsKGZ1bmN0aW9uKHQsZSl7dmFyIG49ci5nZXROb2RlQnlEYXRhSW5kZXgoZSksbz1pW24uZGVwdGhdO3JldHVybiBvJiYodC5wYXJlbnRNb2RlbD1vKSx0fSkpfSkpO3JldHVybiByLmRhdGF9LGUucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQ9ZnVuY3Rpb24oKXt0aGlzLnJlc2V0Vmlld1Jvb3QoKX0sZS5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcz1mdW5jdGlvbihlKXt2YXIgbj10LnByb3RvdHlwZS5nZXREYXRhUGFyYW1zLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxpPXRoaXMuZ2V0RGF0YSgpLnRyZWUuZ2V0Tm9kZUJ5RGF0YUluZGV4KGUpO3JldHVybiBuLnRyZWVQYXRoSW5mbz1QQyhpLHRoaXMpLG59LGUucHJvdG90eXBlLmdldExldmVsTW9kZWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2xldmVsTW9kZWxzJiZ0aGlzLl9sZXZlbE1vZGVsc1t0LmRlcHRoXX0sZS5wcm90b3R5cGUuZ2V0Vmlld1Jvb3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlld1Jvb3R9LGUucHJvdG90eXBlLnJlc2V0Vmlld1Jvb3Q9ZnVuY3Rpb24odCl7dD90aGlzLl92aWV3Um9vdD10OnQ9dGhpcy5fdmlld1Jvb3Q7dmFyIGU9dGhpcy5nZXRSYXdEYXRhKCkudHJlZS5yb290O3QmJih0PT09ZXx8ZS5jb250YWlucyh0KSl8fCh0aGlzLl92aWV3Um9vdD1lKX0sZS5wcm90b3R5cGUuZW5hYmxlQXJpYURlY2FsPWZ1bmN0aW9uKCl7VkModGhpcyl9LGUudHlwZT0ic2VyaWVzLnN1bmJ1cnN0IixlLmRlZmF1bHRPcHRpb249e3o6MixjZW50ZXI6WyI1MCUiLCI1MCUiXSxyYWRpdXM6WzAsIjc1JSJdLGNsb2Nrd2lzZTohMCxzdGFydEFuZ2xlOjkwLG1pbkFuZ2xlOjAsc3RpbGxTaG93WmVyb1N1bTohMCxub2RlQ2xpY2s6InJvb3RUb05vZGUiLHJlbmRlckxhYmVsRm9yWmVyb0RhdGE6ITEsbGFiZWw6e3JvdGF0ZToicmFkaWFsIixzaG93OiEwLG9wYWNpdHk6MSxhbGlnbjoiY2VudGVyIixwb3NpdGlvbjoiaW5zaWRlIixkaXN0YW5jZTo1LHNpbGVudDohMH0saXRlbVN0eWxlOntib3JkZXJXaWR0aDoxLGJvcmRlckNvbG9yOiJ3aGl0ZSIsYm9yZGVyVHlwZToic29saWQiLHNoYWRvd0JsdXI6MCxzaGFkb3dDb2xvcjoicmdiYSgwLCAwLCAwLCAwLjIpIixzaGFkb3dPZmZzZXRYOjAsc2hhZG93T2Zmc2V0WTowLG9wYWNpdHk6MX0sZW1waGFzaXM6e2ZvY3VzOiJkZXNjZW5kYW50In0sYmx1cjp7aXRlbVN0eWxlOntvcGFjaXR5Oi4yfSxsYWJlbDp7b3BhY2l0eTouMX19LGFuaW1hdGlvblR5cGU6ImV4cGFuc2lvbiIsYW5pbWF0aW9uRHVyYXRpb246MWUzLGFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlOjUwMCxkYXRhOltdLHNvcnQ6ImRlc2MifSxlfShzZyk7ZnVuY3Rpb24gZE8odCl7dmFyIGU9MDtFKHQuY2hpbGRyZW4sKGZ1bmN0aW9uKHQpe2RPKHQpO3ZhciBuPXQudmFsdWU7WShuKSYmKG49blswXSksZSs9bn0pKTt2YXIgbj10LnZhbHVlO1kobikmJihuPW5bMF0pLChudWxsPT1ufHxpc05hTihuKSkmJihuPWUpLG48MCYmKG49MCksWSh0LnZhbHVlKT90LnZhbHVlWzBdPW46dC52YWx1ZT1ufXZhciBmTz1NYXRoLlBJLzE4MDtmdW5jdGlvbiBnTyh0LGUsbil7ZS5lYWNoU2VyaWVzQnlUeXBlKHQsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KCJjZW50ZXIiKSxpPXQuZ2V0KCJyYWRpdXMiKTtZKGkpfHwoaT1bMCxpXSksWShlKXx8KGU9W2UsZV0pO3ZhciByPW4uZ2V0V2lkdGgoKSxvPW4uZ2V0SGVpZ2h0KCksYT1NYXRoLm1pbihyLG8pLHM9RXIoZVswXSxyKSxsPUVyKGVbMV0sbyksdT1FcihpWzBdLGEvMiksaD1FcihpWzFdLGEvMiksYz0tdC5nZXQoInN0YXJ0QW5nbGUiKSpmTyxwPXQuZ2V0KCJtaW5BbmdsZSIpKmZPLGQ9dC5nZXREYXRhKCkudHJlZS5yb290LGY9dC5nZXRWaWV3Um9vdCgpLGc9Zi5kZXB0aCx5PXQuZ2V0KCJzb3J0Iik7bnVsbCE9eSYmeU8oZix5KTt2YXIgdj0wO0UoZi5jaGlsZHJlbiwoZnVuY3Rpb24odCl7IWlzTmFOKHQuZ2V0VmFsdWUoKSkmJnYrK30pKTt2YXIgbT1mLmdldFZhbHVlKCkseD1NYXRoLlBJLyhtfHx2KSoyLF89Zi5kZXB0aD4wLGI9Zi5oZWlnaHQtKF8/LTE6MSksdz0oaC11KS8oYnx8MSksUz10LmdldCgiY2xvY2t3aXNlIiksTT10LmdldCgic3RpbGxTaG93WmVyb1N1bSIpLEk9Uz8xOi0xLFQ9ZnVuY3Rpb24oZSxuKXtpZihlKXt2YXIgaT1uO2lmKGUhPT1kKXt2YXIgcj1lLmdldFZhbHVlKCksbz0wPT09bSYmTT94OnIqeDtvPHAmJihvPXApLGk9bitJKm87dmFyIGg9ZS5kZXB0aC1nLShfPy0xOjEpLGM9dSt3KmgsZj11K3cqKGgrMSkseT10LmdldExldmVsTW9kZWwoZSk7aWYoeSl7dmFyIHY9eS5nZXQoInIwIiwhMCksYj15LmdldCgiciIsITApLEM9eS5nZXQoInJhZGl1cyIsITApO251bGwhPUMmJih2PUNbMF0sYj1DWzFdKSxudWxsIT12JiYoYz1Fcih2LGEvMikpLG51bGwhPWImJihmPUVyKGIsYS8yKSl9ZS5zZXRMYXlvdXQoe2FuZ2xlOm8sc3RhcnRBbmdsZTpuLGVuZEFuZ2xlOmksY2xvY2t3aXNlOlMsY3g6cyxjeTpsLHIwOmMscjpmfSl9aWYoZS5jaGlsZHJlbiYmZS5jaGlsZHJlbi5sZW5ndGgpe3ZhciBEPTA7RShlLmNoaWxkcmVuLChmdW5jdGlvbih0KXtEKz1UKHQsbitEKX0pKX1yZXR1cm4gaS1ufX07aWYoXyl7dmFyIEM9dSxEPXUrdyxBPTIqTWF0aC5QSTtkLnNldExheW91dCh7YW5nbGU6QSxzdGFydEFuZ2xlOmMsZW5kQW5nbGU6YytBLGNsb2Nrd2lzZTpTLGN4OnMsY3k6bCxyMDpDLHI6RH0pfVQoZixjKX0pKX1mdW5jdGlvbiB5Tyh0LGUpe3ZhciBuPXQuY2hpbGRyZW58fFtdO3QuY2hpbGRyZW49ZnVuY3Rpb24odCxlKXtpZihVKGUpKXt2YXIgbj16KHQsKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRWYWx1ZSgpO3JldHVybntwYXJhbXM6e2RlcHRoOnQuZGVwdGgsaGVpZ2h0OnQuaGVpZ2h0LGRhdGFJbmRleDp0LmRhdGFJbmRleCxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiBufX0saW5kZXg6ZX19KSk7cmV0dXJuIG4uc29ydCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gZSh0LnBhcmFtcyxuLnBhcmFtcyl9KSkseihuLChmdW5jdGlvbihlKXtyZXR1cm4gdFtlLmluZGV4XX0pKX12YXIgaT0iYXNjIj09PWU7cmV0dXJuIHQuc29ydCgoZnVuY3Rpb24odCxlKXt2YXIgbj0odC5nZXRWYWx1ZSgpLWUuZ2V0VmFsdWUoKSkqKGk/MTotMSk7cmV0dXJuIDA9PT1uPyh0LmRhdGFJbmRleC1lLmRhdGFJbmRleCkqKGk/LTE6MSk6bn0pKX0obixlKSxuLmxlbmd0aCYmRSh0LmNoaWxkcmVuLChmdW5jdGlvbih0KXt5Tyh0LGUpfSkpfWZ1bmN0aW9uIHZPKHQpe3ZhciBlPXt9O3QuZWFjaFNlcmllc0J5VHlwZSgic3VuYnVyc3QiLChmdW5jdGlvbih0KXt2YXIgbj10LmdldERhdGEoKSxpPW4udHJlZTtpLmVhY2hOb2RlKChmdW5jdGlvbihyKXt2YXIgbz1yLmdldE1vZGVsKCkuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpO28uZmlsbHx8KG8uZmlsbD1mdW5jdGlvbih0LG4saSl7Zm9yKHZhciByPXQ7ciYmci5kZXB0aD4xOylyPXIucGFyZW50Tm9kZTt2YXIgbz1uLmdldENvbG9yRnJvbVBhbGV0dGUoci5uYW1lfHxyLmRhdGFJbmRleCsiIixlKTtyZXR1cm4gdC5kZXB0aD4xJiZYKG8pJiYobz1TbihvLCh0LmRlcHRoLTEpLyhpLTEpKi41KSksb30ocix0LGkucm9vdC5oZWlnaHQpKSxBKG4uZW5zdXJlVW5pcXVlSXRlbVZpc3VhbChyLmRhdGFJbmRleCwic3R5bGUiKSxvKX0pKX0pKX12YXIgbU89e2NvbG9yOiJmaWxsIixib3JkZXJDb2xvcjoic3Ryb2tlIn0seE89e3N5bWJvbDoxLHN5bWJvbFNpemU6MSxzeW1ib2xLZWVwQXNwZWN0OjEsbGVnZW5kSWNvbjoxLHZpc3VhbE1ldGE6MSxsaWZ0WjoxLGRlY2FsOjF9LF9PPVNvKCksYk89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbigpe3RoaXMuY3VycmVudFpMZXZlbD10aGlzLmdldCgiemxldmVsIiwhMCksdGhpcy5jdXJyZW50Wj10aGlzLmdldCgieiIsITApfSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiBpeChudWxsLHRoaXMpfSxlLnByb3RvdHlwZS5nZXREYXRhUGFyYW1zPWZ1bmN0aW9uKGUsbixpKXt2YXIgcj10LnByb3RvdHlwZS5nZXREYXRhUGFyYW1zLmNhbGwodGhpcyxlLG4pO3JldHVybiBpJiYoci5pbmZvPV9PKGkpLmluZm8pLHJ9LGUudHlwZT0ic2VyaWVzLmN1c3RvbSIsZS5kZXBlbmRlbmNpZXM9WyJncmlkIiwicG9sYXIiLCJnZW8iLCJzaW5nbGVBeGlzIiwiY2FsZW5kYXIiXSxlLmRlZmF1bHRPcHRpb249e2Nvb3JkaW5hdGVTeXN0ZW06ImNhcnRlc2lhbjJkIix6OjIsbGVnZW5kSG92ZXJMaW5rOiEwLGNsaXA6ITF9LGV9KHNnKTtmdW5jdGlvbiB3Tyh0LGUpe3JldHVybiBlPWV8fFswLDBdLHooWyJ4IiwieSJdLChmdW5jdGlvbihuLGkpe3ZhciByPXRoaXMuZ2V0QXhpcyhuKSxvPWVbaV0sYT10W2ldLzI7cmV0dXJuImNhdGVnb3J5Ij09PXIudHlwZT9yLmdldEJhbmRXaWR0aCgpOk1hdGguYWJzKHIuZGF0YVRvQ29vcmQoby1hKS1yLmRhdGFUb0Nvb3JkKG8rYSkpfSksdGhpcyl9ZnVuY3Rpb24gU08odCxlKXtyZXR1cm4gZT1lfHxbMCwwXSx6KFswLDFdLChmdW5jdGlvbihuKXt2YXIgaT1lW25dLHI9dFtuXS8yLG89W10sYT1bXTtyZXR1cm4gb1tuXT1pLXIsYVtuXT1pK3Isb1sxLW5dPWFbMS1uXT1lWzEtbl0sTWF0aC5hYnModGhpcy5kYXRhVG9Qb2ludChvKVtuXS10aGlzLmRhdGFUb1BvaW50KGEpW25dKX0pLHRoaXMpfWZ1bmN0aW9uIE1PKHQsZSl7dmFyIG49dGhpcy5nZXRBeGlzKCksaT1lIGluc3RhbmNlb2YgQXJyYXk/ZVswXTplLHI9KHQgaW5zdGFuY2VvZiBBcnJheT90WzBdOnQpLzI7cmV0dXJuImNhdGVnb3J5Ij09PW4udHlwZT9uLmdldEJhbmRXaWR0aCgpOk1hdGguYWJzKG4uZGF0YVRvQ29vcmQoaS1yKS1uLmRhdGFUb0Nvb3JkKGkrcikpfWZ1bmN0aW9uIElPKHQsZSl7cmV0dXJuIGU9ZXx8WzAsMF0seihbIlJhZGl1cyIsIkFuZ2xlIl0sKGZ1bmN0aW9uKG4saSl7dmFyIHI9dGhpc1siZ2V0IituKyJBeGlzIl0oKSxvPWVbaV0sYT10W2ldLzIscz0iY2F0ZWdvcnkiPT09ci50eXBlP3IuZ2V0QmFuZFdpZHRoKCk6TWF0aC5hYnMoci5kYXRhVG9Db29yZChvLWEpLXIuZGF0YVRvQ29vcmQobythKSk7cmV0dXJuIkFuZ2xlIj09PW4mJihzPXMqTWF0aC5QSS8xODApLHN9KSx0aGlzKX1mdW5jdGlvbiBUTyh0LGUsbixpKXtyZXR1cm4gdCYmKHQubGVnYWN5fHwhMSE9PXQubGVnYWN5JiYhbiYmIWkmJiJ0c3BhbiIhPT1lJiYoInRleHQiPT09ZXx8bXQodCwidGV4dCIpKSl9ZnVuY3Rpb24gQ08odCxlLG4pe3ZhciBpLHIsbyxhPXQ7aWYoInRleHQiPT09ZSlvPWE7ZWxzZXtvPXt9LG10KGEsInRleHQiKSYmKG8udGV4dD1hLnRleHQpLG10KGEsInJpY2giKSYmKG8ucmljaD1hLnJpY2gpLG10KGEsInRleHRGaWxsIikmJihvLmZpbGw9YS50ZXh0RmlsbCksbXQoYSwidGV4dFN0cm9rZSIpJiYoby5zdHJva2U9YS50ZXh0U3Ryb2tlKSxtdChhLCJmb250RmFtaWx5IikmJihvLmZvbnRGYW1pbHk9YS5mb250RmFtaWx5KSxtdChhLCJmb250U2l6ZSIpJiYoby5mb250U2l6ZT1hLmZvbnRTaXplKSxtdChhLCJmb250U3R5bGUiKSYmKG8uZm9udFN0eWxlPWEuZm9udFN0eWxlKSxtdChhLCJmb250V2VpZ2h0IikmJihvLmZvbnRXZWlnaHQ9YS5mb250V2VpZ2h0KSxyPXt0eXBlOiJ0ZXh0IixzdHlsZTpvLHNpbGVudDohMH0saT17fTt2YXIgcz1tdChhLCJ0ZXh0UG9zaXRpb24iKTtuP2kucG9zaXRpb249cz9hLnRleHRQb3NpdGlvbjoiaW5zaWRlIjpzJiYoaS5wb3NpdGlvbj1hLnRleHRQb3NpdGlvbiksbXQoYSwidGV4dFBvc2l0aW9uIikmJihpLnBvc2l0aW9uPWEudGV4dFBvc2l0aW9uKSxtdChhLCJ0ZXh0T2Zmc2V0IikmJihpLm9mZnNldD1hLnRleHRPZmZzZXQpLG10KGEsInRleHRSb3RhdGlvbiIpJiYoaS5yb3RhdGlvbj1hLnRleHRSb3RhdGlvbiksbXQoYSwidGV4dERpc3RhbmNlIikmJihpLmRpc3RhbmNlPWEudGV4dERpc3RhbmNlKX1yZXR1cm4gRE8obyx0KSxFKG8ucmljaCwoZnVuY3Rpb24odCl7RE8odCx0KX0pKSx7dGV4dENvbmZpZzppLHRleHRDb250ZW50OnJ9fWZ1bmN0aW9uIERPKHQsZSl7ZSYmKGUuZm9udD1lLnRleHRGb250fHxlLmZvbnQsbXQoZSwidGV4dFN0cm9rZVdpZHRoIikmJih0LmxpbmVXaWR0aD1lLnRleHRTdHJva2VXaWR0aCksbXQoZSwidGV4dEFsaWduIikmJih0LmFsaWduPWUudGV4dEFsaWduKSxtdChlLCJ0ZXh0VmVydGljYWxBbGlnbiIpJiYodC52ZXJ0aWNhbEFsaWduPWUudGV4dFZlcnRpY2FsQWxpZ24pLG10KGUsInRleHRMaW5lSGVpZ2h0IikmJih0LmxpbmVIZWlnaHQ9ZS50ZXh0TGluZUhlaWdodCksbXQoZSwidGV4dFdpZHRoIikmJih0LndpZHRoPWUudGV4dFdpZHRoKSxtdChlLCJ0ZXh0SGVpZ2h0IikmJih0LmhlaWdodD1lLnRleHRIZWlnaHQpLG10KGUsInRleHRCYWNrZ3JvdW5kQ29sb3IiKSYmKHQuYmFja2dyb3VuZENvbG9yPWUudGV4dEJhY2tncm91bmRDb2xvciksbXQoZSwidGV4dFBhZGRpbmciKSYmKHQucGFkZGluZz1lLnRleHRQYWRkaW5nKSxtdChlLCJ0ZXh0Qm9yZGVyQ29sb3IiKSYmKHQuYm9yZGVyQ29sb3I9ZS50ZXh0Qm9yZGVyQ29sb3IpLG10KGUsInRleHRCb3JkZXJXaWR0aCIpJiYodC5ib3JkZXJXaWR0aD1lLnRleHRCb3JkZXJXaWR0aCksbXQoZSwidGV4dEJvcmRlclJhZGl1cyIpJiYodC5ib3JkZXJSYWRpdXM9ZS50ZXh0Qm9yZGVyUmFkaXVzKSxtdChlLCJ0ZXh0Qm94U2hhZG93Q29sb3IiKSYmKHQuc2hhZG93Q29sb3I9ZS50ZXh0Qm94U2hhZG93Q29sb3IpLG10KGUsInRleHRCb3hTaGFkb3dCbHVyIikmJih0LnNoYWRvd0JsdXI9ZS50ZXh0Qm94U2hhZG93Qmx1ciksbXQoZSwidGV4dEJveFNoYWRvd09mZnNldFgiKSYmKHQuc2hhZG93T2Zmc2V0WD1lLnRleHRCb3hTaGFkb3dPZmZzZXRYKSxtdChlLCJ0ZXh0Qm94U2hhZG93T2Zmc2V0WSIpJiYodC5zaGFkb3dPZmZzZXRZPWUudGV4dEJveFNoYWRvd09mZnNldFkpKX1mdW5jdGlvbiBBTyh0LGUsbil7dmFyIGk9dDtpLnRleHRQb3NpdGlvbj1pLnRleHRQb3NpdGlvbnx8bi5wb3NpdGlvbnx8Imluc2lkZSIsbnVsbCE9bi5vZmZzZXQmJihpLnRleHRPZmZzZXQ9bi5vZmZzZXQpLG51bGwhPW4ucm90YXRpb24mJihpLnRleHRSb3RhdGlvbj1uLnJvdGF0aW9uKSxudWxsIT1uLmRpc3RhbmNlJiYoaS50ZXh0RGlzdGFuY2U9bi5kaXN0YW5jZSk7dmFyIHI9aS50ZXh0UG9zaXRpb24uaW5kZXhPZigiaW5zaWRlIik+PTAsbz10LmZpbGx8fCIjMDAwIjtrTyhpLGUpO3ZhciBhPW51bGw9PWkudGV4dEZpbGw7cmV0dXJuIHI/YSYmKGkudGV4dEZpbGw9bi5pbnNpZGVGaWxsfHwiI2ZmZiIsIWkudGV4dFN0cm9rZSYmbi5pbnNpZGVTdHJva2UmJihpLnRleHRTdHJva2U9bi5pbnNpZGVTdHJva2UpLCFpLnRleHRTdHJva2UmJihpLnRleHRTdHJva2U9byksbnVsbD09aS50ZXh0U3Ryb2tlV2lkdGgmJihpLnRleHRTdHJva2VXaWR0aD0yKSk6KGEmJihpLnRleHRGaWxsPXQuZmlsbHx8bi5vdXRzaWRlRmlsbHx8IiMwMDAiKSwhaS50ZXh0U3Ryb2tlJiZuLm91dHNpZGVTdHJva2UmJihpLnRleHRTdHJva2U9bi5vdXRzaWRlU3Ryb2tlKSksaS50ZXh0PWUudGV4dCxpLnJpY2g9ZS5yaWNoLEUoZS5yaWNoLChmdW5jdGlvbih0KXtrTyh0LHQpfSkpLGl9ZnVuY3Rpb24ga08odCxlKXtlJiYobXQoZSwiZmlsbCIpJiYodC50ZXh0RmlsbD1lLmZpbGwpLG10KGUsInN0cm9rZSIpJiYodC50ZXh0U3Ryb2tlPWUuZmlsbCksbXQoZSwibGluZVdpZHRoIikmJih0LnRleHRTdHJva2VXaWR0aD1lLmxpbmVXaWR0aCksbXQoZSwiZm9udCIpJiYodC5mb250PWUuZm9udCksbXQoZSwiZm9udFN0eWxlIikmJih0LmZvbnRTdHlsZT1lLmZvbnRTdHlsZSksbXQoZSwiZm9udFdlaWdodCIpJiYodC5mb250V2VpZ2h0PWUuZm9udFdlaWdodCksbXQoZSwiZm9udFNpemUiKSYmKHQuZm9udFNpemU9ZS5mb250U2l6ZSksbXQoZSwiZm9udEZhbWlseSIpJiYodC5mb250RmFtaWx5PWUuZm9udEZhbWlseSksbXQoZSwiYWxpZ24iKSYmKHQudGV4dEFsaWduPWUuYWxpZ24pLG10KGUsInZlcnRpY2FsQWxpZ24iKSYmKHQudGV4dFZlcnRpY2FsQWxpZ249ZS52ZXJ0aWNhbEFsaWduKSxtdChlLCJsaW5lSGVpZ2h0IikmJih0LnRleHRMaW5lSGVpZ2h0PWUubGluZUhlaWdodCksbXQoZSwid2lkdGgiKSYmKHQudGV4dFdpZHRoPWUud2lkdGgpLG10KGUsImhlaWdodCIpJiYodC50ZXh0SGVpZ2h0PWUuaGVpZ2h0KSxtdChlLCJiYWNrZ3JvdW5kQ29sb3IiKSYmKHQudGV4dEJhY2tncm91bmRDb2xvcj1lLmJhY2tncm91bmRDb2xvciksbXQoZSwicGFkZGluZyIpJiYodC50ZXh0UGFkZGluZz1lLnBhZGRpbmcpLG10KGUsImJvcmRlckNvbG9yIikmJih0LnRleHRCb3JkZXJDb2xvcj1lLmJvcmRlckNvbG9yKSxtdChlLCJib3JkZXJXaWR0aCIpJiYodC50ZXh0Qm9yZGVyV2lkdGg9ZS5ib3JkZXJXaWR0aCksbXQoZSwiYm9yZGVyUmFkaXVzIikmJih0LnRleHRCb3JkZXJSYWRpdXM9ZS5ib3JkZXJSYWRpdXMpLG10KGUsInNoYWRvd0NvbG9yIikmJih0LnRleHRCb3hTaGFkb3dDb2xvcj1lLnNoYWRvd0NvbG9yKSxtdChlLCJzaGFkb3dCbHVyIikmJih0LnRleHRCb3hTaGFkb3dCbHVyPWUuc2hhZG93Qmx1ciksbXQoZSwic2hhZG93T2Zmc2V0WCIpJiYodC50ZXh0Qm94U2hhZG93T2Zmc2V0WD1lLnNoYWRvd09mZnNldFgpLG10KGUsInNoYWRvd09mZnNldFkiKSYmKHQudGV4dEJveFNoYWRvd09mZnNldFk9ZS5zaGFkb3dPZmZzZXRZKSxtdChlLCJ0ZXh0U2hhZG93Q29sb3IiKSYmKHQudGV4dFNoYWRvd0NvbG9yPWUudGV4dFNoYWRvd0NvbG9yKSxtdChlLCJ0ZXh0U2hhZG93Qmx1ciIpJiYodC50ZXh0U2hhZG93Qmx1cj1lLnRleHRTaGFkb3dCbHVyKSxtdChlLCJ0ZXh0U2hhZG93T2Zmc2V0WCIpJiYodC50ZXh0U2hhZG93T2Zmc2V0WD1lLnRleHRTaGFkb3dPZmZzZXRYKSxtdChlLCJ0ZXh0U2hhZG93T2Zmc2V0WSIpJiYodC50ZXh0U2hhZG93T2Zmc2V0WT1lLnRleHRTaGFkb3dPZmZzZXRZKSl9dmFyIExPPXtwb3NpdGlvbjpbIngiLCJ5Il0sc2NhbGU6WyJzY2FsZVgiLCJzY2FsZVkiXSxvcmlnaW46WyJvcmlnaW5YIiwib3JpZ2luWSJdfSxQTz1HKExPKSxPTz0oVihLaSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdFtlXT0xLHR9KSx7fSksS2kuam9pbigiLCAiKSxbIiIsInN0eWxlIiwic2hhcGUiLCJleHRyYSJdKSxSTz1TbygpO2Z1bmN0aW9uIE5PKHQsZSxuLGkscil7dmFyIG89dCsiQW5pbWF0aW9uIixhPW5oKHQsaSxyKXx8e30scz1STyhlKS51c2VyRHVyaW5nO3JldHVybiBhLmR1cmF0aW9uPjAmJihhLmR1cmluZz1zP1coV08se2VsOmUsdXNlckR1cmluZzpzfSk6bnVsbCxhLnNldFRvRmluYWw9ITAsYS5zY29wZT10KSxBKGEsbltvXSksYX1mdW5jdGlvbiBFTyh0LGUsbixpKXt2YXIgcj0oaT1pfHx7fSkuZGF0YUluZGV4LG89aS5pc0luaXQsYT1pLmNsZWFyU3R5bGUscz1uLmlzQW5pbWF0aW9uRW5hYmxlZCgpLGw9Uk8odCksdT1lLnN0eWxlO2wudXNlckR1cmluZz1lLmR1cmluZzt2YXIgaD17fSxjPXt9O2lmKGZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9MDtpPFBPLmxlbmd0aDtpKyspe3ZhciByPVBPW2ldLG89TE9bcl0sYT1lW3JdO2EmJihuW29bMF1dPWFbMF0sbltvWzFdXT1hWzFdKX1mb3IoaT0wO2k8S2kubGVuZ3RoO2krKyl7dmFyIHM9S2lbaV07bnVsbCE9ZVtzXSYmKG5bc109ZVtzXSl9fSgwLGUsYyksWU8oInNoYXBlIixlLGMpLFlPKCJleHRyYSIsZSxjKSwhbyYmcyYmKGZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9ZS50cmFuc2l0aW9uLHI9Qk8oaSk/S2k6aG8oaXx8W10pLG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIGE9cltvXTtpZigic3R5bGUiIT09YSYmInNoYXBlIiE9PWEmJiJleHRyYSIhPT1hKXt2YXIgcz10W2FdOzAsblthXT1zfX19KHQsZSxoKSxITygic2hhcGUiLHQsZSxoKSxITygiZXh0cmEiLHQsZSxoKSxmdW5jdGlvbih0LGUsbixpKXtpZighbilyZXR1cm47dmFyIHIsbz10LnN0eWxlO2lmKG8pe3ZhciBhPW4udHJhbnNpdGlvbixzPWUudHJhbnNpdGlvbjtpZihhJiYhQk8oYSkpe3ZhciBsPWhvKGEpOyFyJiYocj1pLnN0eWxlPXt9KTtmb3IodmFyIHU9MDt1PGwubGVuZ3RoO3UrKyl7dmFyIGg9b1tmPWxbdV1dO3JbZl09aH19ZWxzZSBpZih0LmdldEFuaW1hdGlvblN0eWxlUHJvcHMmJihCTyhzKXx8Qk8oYSl8fFAocywic3R5bGUiKT49MCkpe3ZhciBjPXQuZ2V0QW5pbWF0aW9uU3R5bGVQcm9wcygpLHA9Yz9jLnN0eWxlOm51bGw7aWYocCl7IXImJihyPWkuc3R5bGU9e30pO3ZhciBkPUcobik7Zm9yKHU9MDt1PGQubGVuZ3RoO3UrKyl7dmFyIGY7aWYocFtmPWRbdV1dKXtoPW9bZl07cltmXT1ofX19fX19KHQsZSx1LGgpKSxjLnN0eWxlPXUsZnVuY3Rpb24odCxlLG4pe3ZhciBpPWUuc3R5bGU7aWYoIXQuaXNHcm91cCYmaSl7aWYobil7dC51c2VTdHlsZSh7fSk7Zm9yKHZhciByPXQuYW5pbWF0b3JzLG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIGE9cltvXTsic3R5bGUiPT09YS50YXJnZXROYW1lJiZhLmNoYW5nZVRhcmdldCh0LnN0eWxlKX19dC5zZXRTdHlsZShpKX1lJiYoZS5zdHlsZT1udWxsLGUmJnQuYXR0cihlKSxlLnN0eWxlPWkpfSh0LGMsYSksZnVuY3Rpb24odCxlKXttdChlLCJzaWxlbnQiKSYmKHQuc2lsZW50PWUuc2lsZW50KSxtdChlLCJpZ25vcmUiKSYmKHQuaWdub3JlPWUuaWdub3JlKSx0IGluc3RhbmNlb2YgZGEmJm10KGUsImludmlzaWJsZSIpJiYodC5pbnZpc2libGU9ZS5pbnZpc2libGUpO3QgaW5zdGFuY2VvZiBncyYmbXQoZSwiYXV0b0JhdGNoIikmJih0LmF1dG9CYXRjaD1lLmF1dG9CYXRjaCl9KHQsZSkscylpZihvKXt2YXIgcD17fTtFKE9PLChmdW5jdGlvbih0KXt2YXIgbj10P2VbdF06ZTtuJiZuLmVudGVyRnJvbSYmKHQmJihwW3RdPXBbdF18fHt9KSxBKHQ/cFt0XTpwLG4uZW50ZXJGcm9tKSl9KSk7dmFyIGQ9Tk8oImVudGVyIix0LGUsbixyKTtkLmR1cmF0aW9uPjAmJnQuYW5pbWF0ZUZyb20ocCxkKX1lbHNlIWZ1bmN0aW9uKHQsZSxuLGkscil7aWYocil7dmFyIG89Tk8oInVwZGF0ZSIsdCxlLGksbik7by5kdXJhdGlvbj4wJiZ0LmFuaW1hdGVGcm9tKHIsbyl9fSh0LGUscnx8MCxuLGgpO3pPKHQsZSksdT90LmRpcnR5KCk6dC5tYXJrUmVkcmF3KCl9ZnVuY3Rpb24gek8odCxlKXtmb3IodmFyIG49Uk8odCkubGVhdmVUb1Byb3BzLGk9MDtpPE9PLmxlbmd0aDtpKyspe3ZhciByPU9PW2ldLG89cj9lW3JdOmU7byYmby5sZWF2ZVRvJiYobnx8KG49Uk8odCkubGVhdmVUb1Byb3BzPXt9KSxyJiYobltyXT1uW3JdfHx7fSksQShyP25bcl06bixvLmxlYXZlVG8pKX19ZnVuY3Rpb24gVk8odCxlLG4saSl7aWYodCl7dmFyIHI9dC5wYXJlbnQsbz1STyh0KS5sZWF2ZVRvUHJvcHM7aWYobyl7dmFyIGE9Tk8oInVwZGF0ZSIsdCxlLG4sMCk7YS5kb25lPWZ1bmN0aW9uKCl7ci5yZW1vdmUodCksaSYmaSgpfSx0LmFuaW1hdGVUbyhvLGEpfWVsc2Ugci5yZW1vdmUodCksaSYmaSgpfX1mdW5jdGlvbiBCTyh0KXtyZXR1cm4iYWxsIj09PXR9dmFyIEZPPXt9LEdPPXtzZXRUcmFuc2Zvcm06ZnVuY3Rpb24odCxlKXtyZXR1cm4gRk8uZWxbdF09ZSx0aGlzfSxnZXRUcmFuc2Zvcm06ZnVuY3Rpb24odCl7cmV0dXJuIEZPLmVsW3RdfSxzZXRTaGFwZTpmdW5jdGlvbih0LGUpe3ZhciBuPUZPLmVsO3JldHVybihuLnNoYXBlfHwobi5zaGFwZT17fSkpW3RdPWUsbi5kaXJ0eVNoYXBlJiZuLmRpcnR5U2hhcGUoKSx0aGlzfSxnZXRTaGFwZTpmdW5jdGlvbih0KXt2YXIgZT1GTy5lbC5zaGFwZTtpZihlKXJldHVybiBlW3RdfSxzZXRTdHlsZTpmdW5jdGlvbih0LGUpe3ZhciBuPUZPLmVsLGk9bi5zdHlsZTtyZXR1cm4gaSYmKGlbdF09ZSxuLmRpcnR5U3R5bGUmJm4uZGlydHlTdHlsZSgpKSx0aGlzfSxnZXRTdHlsZTpmdW5jdGlvbih0KXt2YXIgZT1GTy5lbC5zdHlsZTtpZihlKXJldHVybiBlW3RdfSxzZXRFeHRyYTpmdW5jdGlvbih0LGUpe3JldHVybihGTy5lbC5leHRyYXx8KEZPLmVsLmV4dHJhPXt9KSlbdF09ZSx0aGlzfSxnZXRFeHRyYTpmdW5jdGlvbih0KXt2YXIgZT1GTy5lbC5leHRyYTtpZihlKXJldHVybiBlW3RdfX07ZnVuY3Rpb24gV08oKXt2YXIgdD10aGlzLGU9dC5lbDtpZihlKXt2YXIgbj1STyhlKS51c2VyRHVyaW5nLGk9dC51c2VyRHVyaW5nO249PT1pPyhGTy5lbD1lLGkoR08pKTp0LmVsPXQudXNlckR1cmluZz1udWxsfX1mdW5jdGlvbiBITyh0LGUsbixpKXt2YXIgcj1uW3RdO2lmKHIpe3ZhciBvLGE9ZVt0XTtpZihhKXt2YXIgcz1uLnRyYW5zaXRpb24sbD1yLnRyYW5zaXRpb247aWYobClpZighbyYmKG89aVt0XT17fSksQk8obCkpQShvLGEpO2Vsc2UgZm9yKHZhciB1PWhvKGwpLGg9MDtoPHUubGVuZ3RoO2grKyl7dmFyIGM9YVtkPXVbaF1dO29bZF09Y31lbHNlIGlmKEJPKHMpfHxQKHMsdCk+PTApeyFvJiYobz1pW3RdPXt9KTt2YXIgcD1HKGEpO2ZvcihoPTA7aDxwLmxlbmd0aDtoKyspe3ZhciBkO2M9YVtkPXBbaF1dO1VPKHJbZF0sYykmJihvW2RdPWMpfX19fX1mdW5jdGlvbiBZTyh0LGUsbil7dmFyIGk9ZVt0XTtpZihpKWZvcih2YXIgcj1uW3RdPXt9LG89RyhpKSxhPTA7YTxvLmxlbmd0aDthKyspe3ZhciBzPW9bYV07cltzXT10aShpW3NdKX19ZnVuY3Rpb24gVU8odCxlKXtyZXR1cm4gTih0KT90IT09ZTpudWxsIT10JiZpc0Zpbml0ZSh0KX12YXIgWE89U28oKSxaTz1bInBlcmNlbnQiLCJlYXNpbmciLCJzaGFwZSIsInN0eWxlIiwiZXh0cmEiXTtmdW5jdGlvbiBqTyh0KXt0LnN0b3BBbmltYXRpb24oImtleWZyYW1lIiksdC5hdHRyKFhPKHQpKX1mdW5jdGlvbiBxTyh0LGUsbil7aWYobi5pc0FuaW1hdGlvbkVuYWJsZWQoKSYmZSlpZihZKGUpKUUoZSwoZnVuY3Rpb24oZSl7cU8odCxlLG4pfSkpO2Vsc2V7dmFyIGk9ZS5rZXlmcmFtZXMscj1lLmR1cmF0aW9uO2lmKG4mJm51bGw9PXIpe3ZhciBvPW5oKCJlbnRlciIsbiwwKTtyPW8mJm8uZHVyYXRpb259aWYoaSYmcil7dmFyIGE9WE8odCk7RShPTywoZnVuY3Rpb24obil7aWYoIW58fHRbbl0pe3ZhciBvO2kuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5wZXJjZW50LWUucGVyY2VudH0pKSxFKGksKGZ1bmN0aW9uKGkpe3ZhciBzPXQuYW5pbWF0b3JzLGw9bj9pW25dOmk7aWYobCl7dmFyIHU9RyhsKTtpZihufHwodT1CKHUsKGZ1bmN0aW9uKHQpe3JldHVybiBQKFpPLHQpPDB9KSkpLHUubGVuZ3RoKXtvfHwoKG89dC5hbmltYXRlKG4sZS5sb29wLCEwKSkuc2NvcGU9ImtleWZyYW1lIik7Zm9yKHZhciBoPTA7aDxzLmxlbmd0aDtoKyspc1toXSE9PW8mJnNbaF0udGFyZ2V0TmFtZT09PW8udGFyZ2V0TmFtZSYmc1toXS5zdG9wVHJhY2tzKHUpO24mJihhW25dPWFbbl18fHt9KTt2YXIgYz1uP2Fbbl06YTtFKHUsKGZ1bmN0aW9uKGUpe2NbZV09KChuP3Rbbl06dCl8fHt9KVtlXX0pKSxvLndoZW5XaXRoS2V5cyhyKmkucGVyY2VudCxsLHUsaS5lYXNpbmcpfX19KSksbyYmby5kZWxheShlLmRlbGF5fHwwKS5kdXJhdGlvbihyKS5zdGFydChlLmVhc2luZyl9fSkpfX19dmFyIEtPPSJlbXBoYXNpcyIsJE89Im5vcm1hbCIsSk89ImJsdXIiLFFPPSJzZWxlY3QiLHRSPVskTyxLTyxKTyxRT10sZVI9e25vcm1hbDpbIml0ZW1TdHlsZSJdLGVtcGhhc2lzOltLTywiaXRlbVN0eWxlIl0sYmx1cjpbSk8sIml0ZW1TdHlsZSJdLHNlbGVjdDpbUU8sIml0ZW1TdHlsZSJdfSxuUj17bm9ybWFsOlsibGFiZWwiXSxlbXBoYXNpczpbS08sImxhYmVsIl0sYmx1cjpbSk8sImxhYmVsIl0sc2VsZWN0OltRTywibGFiZWwiXX0saVI9WyJ4IiwieSJdLHJSPXtub3JtYWw6e30sZW1waGFzaXM6e30sYmx1cjp7fSxzZWxlY3Q6e319LG9SPXtjYXJ0ZXNpYW4yZDpmdW5jdGlvbih0KXt2YXIgZT10Lm1hc3Rlci5nZXRSZWN0KCk7cmV0dXJue2Nvb3JkU3lzOnt0eXBlOiJjYXJ0ZXNpYW4yZCIseDplLngseTplLnksd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHR9LGFwaTp7Y29vcmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZGF0YVRvUG9pbnQoZSl9LHNpemU6Vyh3Tyx0KX19fSxnZW86ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRCb3VuZGluZ1JlY3QoKTtyZXR1cm57Y29vcmRTeXM6e3R5cGU6ImdlbyIseDplLngseTplLnksd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsem9vbTp0LmdldFpvb20oKX0sYXBpOntjb29yZDpmdW5jdGlvbihlKXtyZXR1cm4gdC5kYXRhVG9Qb2ludChlKX0sc2l6ZTpXKFNPLHQpfX19LHNpbmdsZUF4aXM6ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRSZWN0KCk7cmV0dXJue2Nvb3JkU3lzOnt0eXBlOiJzaW5nbGVBeGlzIix4OmUueCx5OmUueSx3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodH0sYXBpOntjb29yZDpmdW5jdGlvbihlKXtyZXR1cm4gdC5kYXRhVG9Qb2ludChlKX0sc2l6ZTpXKE1PLHQpfX19LHBvbGFyOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0UmFkaXVzQXhpcygpLG49dC5nZXRBbmdsZUF4aXMoKSxpPWUuZ2V0RXh0ZW50KCk7cmV0dXJuIGlbMF0+aVsxXSYmaS5yZXZlcnNlKCkse2Nvb3JkU3lzOnt0eXBlOiJwb2xhciIsY3g6dC5jeCxjeTp0LmN5LHI6aVsxXSxyMDppWzBdfSxhcGk6e2Nvb3JkOmZ1bmN0aW9uKGkpe3ZhciByPWUuZGF0YVRvUmFkaXVzKGlbMF0pLG89bi5kYXRhVG9BbmdsZShpWzFdKSxhPXQuY29vcmRUb1BvaW50KFtyLG9dKTtyZXR1cm4gYS5wdXNoKHIsbypNYXRoLlBJLzE4MCksYX0sc2l6ZTpXKElPLHQpfX19LGNhbGVuZGFyOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0UmVjdCgpLG49dC5nZXRSYW5nZUluZm8oKTtyZXR1cm57Y29vcmRTeXM6e3R5cGU6ImNhbGVuZGFyIix4OmUueCx5OmUueSx3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodCxjZWxsV2lkdGg6dC5nZXRDZWxsV2lkdGgoKSxjZWxsSGVpZ2h0OnQuZ2V0Q2VsbEhlaWdodCgpLHJhbmdlSW5mbzp7c3RhcnQ6bi5zdGFydCxlbmQ6bi5lbmQsd2Vla3M6bi53ZWVrcyxkYXlDb3VudDpuLmFsbERheX19LGFwaTp7Y29vcmQ6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5kYXRhVG9Qb2ludChlLG4pfX19fX07ZnVuY3Rpb24gYVIodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBnc31mdW5jdGlvbiBzUih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGRhfXZhciBsUj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5fcHJvZ3Jlc3NpdmVFbHM9bnVsbDt2YXIgcj10aGlzLl9kYXRhLG89dC5nZXREYXRhKCksYT10aGlzLmdyb3VwLHM9ZFIodCxvLGUsbik7cnx8YS5yZW1vdmVBbGwoKSxvLmRpZmYocikuYWRkKChmdW5jdGlvbihlKXtnUihuLG51bGwsZSxzKGUsaSksdCxhLG8pfSkpLnJlbW92ZSgoZnVuY3Rpb24oZSl7dmFyIG49ci5nZXRJdGVtR3JhcGhpY0VsKGUpO1ZPKG4sX08obikub3B0aW9uLHQpfSkpLnVwZGF0ZSgoZnVuY3Rpb24oZSxsKXt2YXIgdT1yLmdldEl0ZW1HcmFwaGljRWwobCk7Z1Iobix1LGUscyhlLGkpLHQsYSxvKX0pKS5leGVjdXRlKCk7dmFyIGw9dC5nZXQoImNsaXAiLCEwKT9zUyh0LmNvb3JkaW5hdGVTeXN0ZW0sITEsdCk6bnVsbDtsP2Euc2V0Q2xpcFBhdGgobCk6YS5yZW1vdmVDbGlwUGF0aCgpLHRoaXMuX2RhdGE9b30sZS5wcm90b3R5cGUuaW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2RhdGE9bnVsbH0sZS5wcm90b3R5cGUuaW5jcmVtZW50YWxSZW5kZXI9ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1lLmdldERhdGEoKSxhPWRSKGUsbyxuLGkpLHM9dGhpcy5fcHJvZ3Jlc3NpdmVFbHM9W107ZnVuY3Rpb24gbCh0KXt0LmlzR3JvdXB8fCh0LmluY3JlbWVudGFsPSEwLHQuZW5zdXJlU3RhdGUoImVtcGhhc2lzIikuaG92ZXJMYXllcj0hMCl9Zm9yKHZhciB1PXQuc3RhcnQ7dTx0LmVuZDt1Kyspe3ZhciBoPWdSKG51bGwsbnVsbCx1LGEodSxyKSxlLHRoaXMuZ3JvdXAsbyk7aCYmKGgudHJhdmVyc2UobCkscy5wdXNoKGgpKX19LGUucHJvdG90eXBlLmVhY2hSZW5kZXJlZD1mdW5jdGlvbih0KXtWaCh0aGlzLl9wcm9ncmVzc2l2ZUVsc3x8dGhpcy5ncm91cCx0KX0sZS5wcm90b3R5cGUuZmlsdGVyRm9yRXhwb3NlZEV2ZW50PWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWUuZWxlbWVudDtpZihudWxsPT1yfHxuLm5hbWU9PT1yKXJldHVybiEwO2Zvcig7KG49bi5fX2hvc3RUYXJnZXR8fG4ucGFyZW50KSYmbiE9PXRoaXMuZ3JvdXA7KWlmKG4ubmFtZT09PXIpcmV0dXJuITA7cmV0dXJuITF9LGUudHlwZT0iY3VzdG9tIixlfSh4Zyk7ZnVuY3Rpb24gdVIodCl7dmFyIGUsbj10LnR5cGU7aWYoInBhdGgiPT09bil7dmFyIGk9dC5zaGFwZSxyPW51bGwhPWkud2lkdGgmJm51bGwhPWkuaGVpZ2h0P3t4OmkueHx8MCx5OmkueXx8MCx3aWR0aDppLndpZHRoLGhlaWdodDppLmhlaWdodH06bnVsbCxvPU1SKGkpO2U9eGgobyxudWxsLHIsaS5sYXlvdXR8fCJjZW50ZXIiKSxfTyhlKS5jdXN0b21QYXRoRGF0YT1vfWVsc2UgaWYoImltYWdlIj09PW4pZT1uZXcgX3Moe30pLF9PKGUpLmN1c3RvbUltYWdlUGF0aD10LnN0eWxlLmltYWdlO2Vsc2UgaWYoInRleHQiPT09billPW5ldyBrcyh7fSk7ZWxzZSBpZigiZ3JvdXAiPT09billPW5ldyBDcjtlbHNle2lmKCJjb21wb3VuZFBhdGgiPT09bil0aHJvdyBuZXcgRXJyb3IoJyJjb21wb3VuZFBhdGgiIGlzIG5vdCBzdXBwb3J0ZWQgeWV0LicpO3ZhciBhPW1oKG4pO2lmKCFhKXt2YXIgcz0iIjswLGFvKHMpfWU9bmV3IGF9cmV0dXJuIF9PKGUpLmN1c3RvbUdyYXBoaWNUeXBlPW4sZS5uYW1lPXQubmFtZSxlLnoyRW1waGFzaXNMaWZ0PTEsZS56MlNlbGVjdExpZnQ9MSxlfWZ1bmN0aW9uIGhSKHQsZSxuLGkscixvLGEpe2pPKGUpO3ZhciBzPXImJnIubm9ybWFsLmNmZztzJiZlLnNldFRleHRDb25maWcocyksaSYmbnVsbD09aS50cmFuc2l0aW9uJiYoaS50cmFuc2l0aW9uPWlSKTt2YXIgbD1pJiZpLnN0eWxlO2lmKGwpe2lmKCJ0ZXh0Ij09PWUudHlwZSl7dmFyIHU9bDttdCh1LCJ0ZXh0RmlsbCIpJiYodS5maWxsPXUudGV4dEZpbGwpLG10KHUsInRleHRTdHJva2UiKSYmKHUuc3Ryb2tlPXUudGV4dFN0cm9rZSl9dmFyIGg9dm9pZCAwLGM9YVIoZSk/bC5kZWNhbDpudWxsO3QmJmMmJihjLmRpcnR5PSEwLGg9aXYoYyx0KSksbC5fX2RlY2FsUGF0dGVybj1ofXNSKGUpJiYobCYmKGg9bC5fX2RlY2FsUGF0dGVybikmJihsLmRlY2FsPWgpKTtFTyhlLGksbyx7ZGF0YUluZGV4Om4saXNJbml0OmEsY2xlYXJTdHlsZTohMH0pLHFPKGUsaS5rZXlmcmFtZUFuaW1hdGlvbixvKX1mdW5jdGlvbiBjUih0LGUsbixpLHIpe3ZhciBvPWUuaXNHcm91cD9udWxsOmUsYT1yJiZyW3RdLmNmZztpZihvKXt2YXIgcz1vLmVuc3VyZVN0YXRlKHQpO2lmKCExPT09aSl7dmFyIGw9by5nZXRTdGF0ZSh0KTtsJiYobC5zdHlsZT1udWxsKX1lbHNlIHMuc3R5bGU9aXx8bnVsbDthJiYocy50ZXh0Q29uZmlnPWEpLHZsKG8pfX1mdW5jdGlvbiBwUih0LGUsbil7dmFyIGk9bj09PSRPLHI9aT9lOnhSKGUsbiksbz1yP3IuejI6bnVsbDtudWxsIT1vJiYoKGk/dDp0LmVuc3VyZVN0YXRlKG4pKS56Mj1vfHwwKX1mdW5jdGlvbiBkUih0LGUsbixpKXt2YXIgcj10LmdldCgicmVuZGVySXRlbSIpLG89dC5jb29yZGluYXRlU3lzdGVtLGE9e307byYmKGE9by5wcmVwYXJlQ3VzdG9tcz9vLnByZXBhcmVDdXN0b21zKG8pOm9SW28udHlwZV0obykpO2Zvcih2YXIgcyxsLHU9ayh7Z2V0V2lkdGg6aS5nZXRXaWR0aCxnZXRIZWlnaHQ6aS5nZXRIZWlnaHQsZ2V0WnI6aS5nZXRacixnZXREZXZpY2VQaXhlbFJhdGlvOmkuZ2V0RGV2aWNlUGl4ZWxSYXRpbyx2YWx1ZTpmdW5jdGlvbih0LG4pe3JldHVybiBudWxsPT1uJiYobj1zKSxlLmdldFN0b3JlKCkuZ2V0KGUuZ2V0RGltZW5zaW9uSW5kZXgodHx8MCksbil9LHN0eWxlOmZ1bmN0aW9uKG4saSl7MDtudWxsPT1pJiYoaT1zKTt2YXIgcj1lLmdldEl0ZW1WaXN1YWwoaSwic3R5bGUiKSxvPXImJnIuZmlsbCxhPXImJnIub3BhY2l0eSxsPW0oaSwkTykuZ2V0SXRlbVN0eWxlKCk7bnVsbCE9byYmKGwuZmlsbD1vKSxudWxsIT1hJiYobC5vcGFjaXR5PWEpO3ZhciB1PXtpbmhlcml0Q29sb3I6WChvKT9vOiIjMDAwIn0saD14KGksJE8pLGM9VWgoaCxudWxsLHUsITEsITApO2MudGV4dD1oLmdldFNoYWxsb3coInNob3ciKT9ydCh0LmdldEZvcm1hdHRlZExhYmVsKGksJE8pLEd3KGUsaSkpOm51bGw7dmFyIHA9WGgoaCx1LCExKTtyZXR1cm4gYihuLGwpLGw9QU8obCxjLHApLG4mJl8obCxuKSxsLmxlZ2FjeT0hMCxsfSxvcmRpbmFsUmF3VmFsdWU6ZnVuY3Rpb24odCxuKXtudWxsPT1uJiYobj1zKSx0PXR8fDA7dmFyIGk9ZS5nZXREaW1lbnNpb25JbmZvKHQpO2lmKCFpKXt2YXIgcj1lLmdldERpbWVuc2lvbkluZGV4KHQpO3JldHVybiByPj0wP2UuZ2V0U3RvcmUoKS5nZXQocixuKTp2b2lkIDB9dmFyIG89ZS5nZXQoaS5uYW1lLG4pLGE9aSYmaS5vcmRpbmFsTWV0YTtyZXR1cm4gYT9hLmNhdGVnb3JpZXNbb106b30sc3R5bGVFbXBoYXNpczpmdW5jdGlvbihuLGkpezA7bnVsbD09aSYmKGk9cyk7dmFyIHI9bShpLEtPKS5nZXRJdGVtU3R5bGUoKSxvPXgoaSxLTyksYT1VaChvLG51bGwsbnVsbCwhMCwhMCk7YS50ZXh0PW8uZ2V0U2hhbGxvdygic2hvdyIpP290KHQuZ2V0Rm9ybWF0dGVkTGFiZWwoaSxLTyksdC5nZXRGb3JtYXR0ZWRMYWJlbChpLCRPKSxHdyhlLGkpKTpudWxsO3ZhciBsPVhoKG8sbnVsbCwhMCk7cmV0dXJuIGIobixyKSxyPUFPKHIsYSxsKSxuJiZfKHIsbiksci5sZWdhY3k9ITAscn0sdmlzdWFsOmZ1bmN0aW9uKHQsbil7aWYobnVsbD09biYmKG49cyksbXQobU8sdCkpe3ZhciBpPWUuZ2V0SXRlbVZpc3VhbChuLCJzdHlsZSIpO3JldHVybiBpP2lbbU9bdF1dOm51bGx9aWYobXQoeE8sdCkpcmV0dXJuIGUuZ2V0SXRlbVZpc3VhbChuLHQpfSxiYXJMYXlvdXQ6ZnVuY3Rpb24odCl7aWYoImNhcnRlc2lhbjJkIj09PW8udHlwZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPVtdLG49dC5heGlzLGk9ImF4aXMwIjtpZigiY2F0ZWdvcnkiPT09bi50eXBlKXtmb3IodmFyIHI9bi5nZXRCYW5kV2lkdGgoKSxvPTA7bzx0LmNvdW50O28rKyllLnB1c2goayh7YmFuZFdpZHRoOnIsYXhpc0tleTppLHN0YWNrSWQ6U3grb30sdCkpO3ZhciBhPUR4KGUpLHM9W107Zm9yKG89MDtvPHQuY291bnQ7bysrKXt2YXIgbD1hLmF4aXMwW1N4K29dO2wub2Zmc2V0Q2VudGVyPWwub2Zmc2V0K2wud2lkdGgvMixzLnB1c2gobCl9cmV0dXJuIHN9fShrKHtheGlzOm8uZ2V0QmFzZUF4aXMoKX0sdCkpfX0sY3VycmVudFNlcmllc0luZGljZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbi5nZXRDdXJyZW50U2VyaWVzSW5kaWNlcygpfSxmb250OmZ1bmN0aW9uKHQpe3JldHVybiAkaCh0LG4pfX0sYS5hcGl8fHt9KSxoPXtjb250ZXh0Ont9LHNlcmllc0lkOnQuaWQsc2VyaWVzTmFtZTp0Lm5hbWUsc2VyaWVzSW5kZXg6dC5zZXJpZXNJbmRleCxjb29yZFN5czphLmNvb3JkU3lzLGRhdGFJbnNpZGVMZW5ndGg6ZS5jb3VudCgpLGVuY29kZTpmUih0LmdldERhdGEoKSl9LGM9e30scD17fSxkPXt9LGY9e30sZz0wO2c8dFIubGVuZ3RoO2crKyl7dmFyIHk9dFJbZ107ZFt5XT10LmdldE1vZGVsKGVSW3ldKSxmW3ldPXQuZ2V0TW9kZWwoblJbeV0pfWZ1bmN0aW9uIHYodCl7cmV0dXJuIHQ9PT1zP2x8fChsPWUuZ2V0SXRlbU1vZGVsKHQpKTplLmdldEl0ZW1Nb2RlbCh0KX1mdW5jdGlvbiBtKHQsbil7cmV0dXJuIGUuaGFzSXRlbU9wdGlvbj90PT09cz9jW25dfHwoY1tuXT12KHQpLmdldE1vZGVsKGVSW25dKSk6dih0KS5nZXRNb2RlbChlUltuXSk6ZFtuXX1mdW5jdGlvbiB4KHQsbil7cmV0dXJuIGUuaGFzSXRlbU9wdGlvbj90PT09cz9wW25dfHwocFtuXT12KHQpLmdldE1vZGVsKG5SW25dKSk6dih0KS5nZXRNb2RlbChuUltuXSk6ZltuXX1yZXR1cm4gZnVuY3Rpb24odCxuKXtyZXR1cm4gcz10LGw9bnVsbCxjPXt9LHA9e30sciYmcihrKHtkYXRhSW5kZXhJbnNpZGU6dCxkYXRhSW5kZXg6ZS5nZXRSYXdJbmRleCh0KSxhY3Rpb25UeXBlOm4/bi50eXBlOm51bGx9LGgpLHUpfTtmdW5jdGlvbiBfKHQsZSl7Zm9yKHZhciBuIGluIGUpbXQoZSxuKSYmKHRbbl09ZVtuXSl9ZnVuY3Rpb24gYih0LGUpe3QmJih0LnRleHRGaWxsJiYoZS50ZXh0RmlsbD10LnRleHRGaWxsKSx0LnRleHRQb3NpdGlvbiYmKGUudGV4dFBvc2l0aW9uPXQudGV4dFBvc2l0aW9uKSl9fWZ1bmN0aW9uIGZSKHQpe3ZhciBlPXt9O3JldHVybiBFKHQuZGltZW5zaW9ucywoZnVuY3Rpb24obil7dmFyIGk9dC5nZXREaW1lbnNpb25JbmZvKG4pO2lmKCFpLmlzRXh0cmFDb29yZCl7dmFyIHI9aS5jb29yZERpbTsoZVtyXT1lW3JdfHxbXSlbaS5jb29yZERpbUluZGV4XT10LmdldERpbWVuc2lvbkluZGV4KG4pfX0pKSxlfWZ1bmN0aW9uIGdSKHQsZSxuLGkscixvLGEpe2lmKGkpe3ZhciBzPXlSKHQsZSxuLGkscixvKTtyZXR1cm4gcyYmYS5zZXRJdGVtR3JhcGhpY0VsKG4scykscyYmUmwocyxpLmZvY3VzLGkuYmx1clNjb3BlLGkuZW1waGFzaXNEaXNhYmxlZCksc31vLnJlbW92ZShlKX1mdW5jdGlvbiB5Uih0LGUsbixpLHIsbyl7dmFyIGE9LTEscz1lO2UmJnZSKGUsaSxyKSYmKGE9UChvLmNoaWxkcmVuUmVmKCksZSksZT1udWxsKTt2YXIgbCx1LGg9IWUsYz1lO2M/Yy5jbGVhclN0YXRlcygpOihjPXVSKGkpLHMmJihsPXMsKHU9YykuY29weVRyYW5zZm9ybShsKSxzUih1KSYmc1IobCkmJih1LnNldFN0eWxlKGwuc3R5bGUpLHUuej1sLnosdS56Mj1sLnoyLHUuemxldmVsPWwuemxldmVsLHUuaW52aXNpYmxlPWwuaW52aXNpYmxlLHUuaWdub3JlPWwuaWdub3JlLGFSKHUpJiZhUihsKSYmdS5zZXRTaGFwZShsLnNoYXBlKSkpKSwhMT09PWkubW9ycGg/Yy5kaXNhYmxlTW9ycGhpbmc9ITA6Yy5kaXNhYmxlTW9ycGhpbmcmJihjLmRpc2FibGVNb3JwaGluZz0hMSksclIubm9ybWFsLmNmZz1yUi5ub3JtYWwuY29uT3B0PXJSLmVtcGhhc2lzLmNmZz1yUi5lbXBoYXNpcy5jb25PcHQ9clIuYmx1ci5jZmc9clIuYmx1ci5jb25PcHQ9clIuc2VsZWN0LmNmZz1yUi5zZWxlY3QuY29uT3B0PW51bGwsclIuaXNMZWdhY3k9ITEsZnVuY3Rpb24odCxlLG4saSxyLG8pe2lmKHQuaXNHcm91cClyZXR1cm47bVIobixudWxsLG8pLG1SKG4sS08sbyk7dmFyIGE9by5ub3JtYWwuY29uT3B0LHM9by5lbXBoYXNpcy5jb25PcHQsbD1vLmJsdXIuY29uT3B0LHU9by5zZWxlY3QuY29uT3B0O2lmKG51bGwhPWF8fG51bGwhPXN8fG51bGwhPXV8fG51bGwhPWwpe3ZhciBoPXQuZ2V0VGV4dENvbnRlbnQoKTtpZighMT09PWEpaCYmdC5yZW1vdmVUZXh0Q29udGVudCgpO2Vsc2V7YT1vLm5vcm1hbC5jb25PcHQ9YXx8e3R5cGU6InRleHQifSxoP2guY2xlYXJTdGF0ZXMoKTooaD11UihhKSx0LnNldFRleHRDb250ZW50KGgpKSxoUihudWxsLGgsZSxhLG51bGwsaSxyKTtmb3IodmFyIGM9YSYmYS5zdHlsZSxwPTA7cDx0Ui5sZW5ndGg7cCsrKXt2YXIgZD10UltwXTtpZihkIT09JE8pe3ZhciBmPW9bZF0uY29uT3B0O2NSKGQsaCwwLF9SKGEsZixkKSxudWxsKX19Yz9oLmRpcnR5KCk6aC5tYXJrUmVkcmF3KCl9fX0oYyxuLGkscixoLHJSKSxmdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPW4uY2xpcFBhdGg7aWYoITE9PT1vKXQmJnQuZ2V0Q2xpcFBhdGgoKSYmdC5yZW1vdmVDbGlwUGF0aCgpO2Vsc2UgaWYobyl7dmFyIGE9dC5nZXRDbGlwUGF0aCgpO2EmJnZSKGEsbyxpKSYmKGE9bnVsbCksYXx8KGE9dVIobyksdC5zZXRDbGlwUGF0aChhKSksaFIobnVsbCxhLGUsbyxudWxsLGkscil9fShjLG4saSxyLGgpLGhSKHQsYyxuLGksclIscixoKSxtdChpLCJpbmZvIikmJihfTyhjKS5pbmZvPWkuaW5mbyk7Zm9yKHZhciBwPTA7cDx0Ui5sZW5ndGg7cCsrKXt2YXIgZD10UltwXTtpZihkIT09JE8pe3ZhciBmPXhSKGksZCk7Y1IoZCxjLDAsX1IoaSxmLGQpLHJSKX19cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtpZighdC5pc0dyb3VwKXt2YXIgaT10LHI9bi5jdXJyZW50WixvPW4uY3VycmVudFpMZXZlbDtpLno9cixpLnpsZXZlbD1vO3ZhciBhPWUuejI7bnVsbCE9YSYmKGkuejI9YXx8MCk7Zm9yKHZhciBzPTA7czx0Ui5sZW5ndGg7cysrKXBSKGksZSx0UltzXSl9fShjLGksciksImdyb3VwIj09PWkudHlwZSYmZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1pLmNoaWxkcmVuLGE9bz9vLmxlbmd0aDowLHM9aS4kbWVyZ2VDaGlsZHJlbixsPSJieU5hbWUiPT09c3x8aS5kaWZmQ2hpbGRyZW5CeU5hbWUsdT0hMT09PXM7aWYoIWEmJiFsJiYhdSlyZXR1cm47aWYobClyZXR1cm4gaD17YXBpOnQsb2xkQ2hpbGRyZW46ZS5jaGlsZHJlbigpfHxbXSxuZXdDaGlsZHJlbjpvfHxbXSxkYXRhSW5kZXg6bixzZXJpZXNNb2RlbDpyLGdyb3VwOmV9LHZvaWQgbmV3IE1tKGgub2xkQ2hpbGRyZW4saC5uZXdDaGlsZHJlbixiUixiUixoKS5hZGQod1IpLnVwZGF0ZSh3UikucmVtb3ZlKFNSKS5leGVjdXRlKCk7dmFyIGg7dSYmZS5yZW1vdmVBbGwoKTtmb3IodmFyIGM9MDtjPGE7YysrKW9bY10mJnlSKHQsZS5jaGlsZEF0KGMpLG4sb1tjXSxyLGUpO2Zvcih2YXIgcD1lLmNoaWxkQ291bnQoKS0xO3A+PWM7cC0tKXtWTyhlLmNoaWxkQXQocCksX08oZSkub3B0aW9uLHIpfX0odCxjLG4saSxyKSxhPj0wP28ucmVwbGFjZUF0KGMsYSk6by5hZGQoYyksY31mdW5jdGlvbiB2Uih0LGUsbil7dmFyIGkscj1fTyh0KSxvPWUudHlwZSxhPWUuc2hhcGUscz1lLnN0eWxlO3JldHVybiBuLmlzVW5pdmVyc2FsVHJhbnNpdGlvbkVuYWJsZWQoKXx8bnVsbCE9byYmbyE9PXIuY3VzdG9tR3JhcGhpY1R5cGV8fCJwYXRoIj09PW8mJigoaT1hKSYmKG10KGksInBhdGhEYXRhIil8fG10KGksImQiKSkpJiZNUihhKSE9PXIuY3VzdG9tUGF0aERhdGF8fCJpbWFnZSI9PT1vJiZtdChzLCJpbWFnZSIpJiZzLmltYWdlIT09ci5jdXN0b21JbWFnZVBhdGh9ZnVuY3Rpb24gbVIodCxlLG4pe3ZhciBpPWU/eFIodCxlKTp0LHI9ZT9fUih0LGksS08pOnQuc3R5bGUsbz10LnR5cGUsYT1pP2kudGV4dENvbmZpZzpudWxsLHM9dC50ZXh0Q29udGVudCxsPXM/ZT94UihzLGUpOnM6bnVsbDtpZihyJiYobi5pc0xlZ2FjeXx8VE8ocixvLCEhYSwhIWwpKSl7bi5pc0xlZ2FjeT0hMDt2YXIgdT1DTyhyLG8sIWUpOyFhJiZ1LnRleHRDb25maWcmJihhPXUudGV4dENvbmZpZyksIWwmJnUudGV4dENvbnRlbnQmJihsPXUudGV4dENvbnRlbnQpfWlmKCFlJiZsKXt2YXIgaD1sOyFoLnR5cGUmJihoLnR5cGU9InRleHQiKX12YXIgYz1lP25bZV06bi5ub3JtYWw7Yy5jZmc9YSxjLmNvbk9wdD1sfWZ1bmN0aW9uIHhSKHQsZSl7cmV0dXJuIGU/dD90W2VdOm51bGw6dH1mdW5jdGlvbiBfUih0LGUsbil7dmFyIGk9ZSYmZS5zdHlsZTtyZXR1cm4gbnVsbD09aSYmbj09PUtPJiZ0JiYoaT10LnN0eWxlRW1waGFzaXMpLGl9ZnVuY3Rpb24gYlIodCxlKXt2YXIgbj10JiZ0Lm5hbWU7cmV0dXJuIG51bGwhPW4/bjoiZVwwXDAiK2V9ZnVuY3Rpb24gd1IodCxlKXt2YXIgbj10aGlzLmNvbnRleHQsaT1udWxsIT10P24ubmV3Q2hpbGRyZW5bdF06bnVsbCxyPW51bGwhPWU/bi5vbGRDaGlsZHJlbltlXTpudWxsO3lSKG4uYXBpLHIsbi5kYXRhSW5kZXgsaSxuLnNlcmllc01vZGVsLG4uZ3JvdXApfWZ1bmN0aW9uIFNSKHQpe3ZhciBlPXRoaXMuY29udGV4dCxuPWUub2xkQ2hpbGRyZW5bdF07Vk8obixfTyhuKS5vcHRpb24sZS5zZXJpZXNNb2RlbCl9ZnVuY3Rpb24gTVIodCl7cmV0dXJuIHQmJih0LnBhdGhEYXRhfHx0LmQpfXZhciBJUj1TbygpLFRSPVQsQ1I9VyxEUj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9kcmFnZ2luZz0hMSx0aGlzLmFuaW1hdGlvblRocmVzaG9sZD0xNX1yZXR1cm4gdC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWUuZ2V0KCJ2YWx1ZSIpLG89ZS5nZXQoInN0YXR1cyIpO2lmKHRoaXMuX2F4aXNNb2RlbD10LHRoaXMuX2F4aXNQb2ludGVyTW9kZWw9ZSx0aGlzLl9hcGk9bixpfHx0aGlzLl9sYXN0VmFsdWUhPT1yfHx0aGlzLl9sYXN0U3RhdHVzIT09byl7dGhpcy5fbGFzdFZhbHVlPXIsdGhpcy5fbGFzdFN0YXR1cz1vO3ZhciBhPXRoaXMuX2dyb3VwLHM9dGhpcy5faGFuZGxlO2lmKCFvfHwiaGlkZSI9PT1vKXJldHVybiBhJiZhLmhpZGUoKSx2b2lkKHMmJnMuaGlkZSgpKTthJiZhLnNob3coKSxzJiZzLnNob3coKTt2YXIgbD17fTt0aGlzLm1ha2VFbE9wdGlvbihsLHIsdCxlLG4pO3ZhciB1PWwuZ3JhcGhpY0tleTt1IT09dGhpcy5fbGFzdEdyYXBoaWNLZXkmJnRoaXMuY2xlYXIobiksdGhpcy5fbGFzdEdyYXBoaWNLZXk9dTt2YXIgaD10aGlzLl9tb3ZlQW5pbWF0aW9uPXRoaXMuZGV0ZXJtaW5lQW5pbWF0aW9uKHQsZSk7aWYoYSl7dmFyIGM9SChBUixlLGgpO3RoaXMudXBkYXRlUG9pbnRlckVsKGEsbCxjKSx0aGlzLnVwZGF0ZUxhYmVsRWwoYSxsLGMsZSl9ZWxzZSBhPXRoaXMuX2dyb3VwPW5ldyBDcix0aGlzLmNyZWF0ZVBvaW50ZXJFbChhLGwsdCxlKSx0aGlzLmNyZWF0ZUxhYmVsRWwoYSxsLHQsZSksbi5nZXRacigpLmFkZChhKTtPUihhLGUsITApLHRoaXMuX3JlbmRlckhhbmRsZShyKX19LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt0aGlzLmNsZWFyKHQpfSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQpe3RoaXMuY2xlYXIodCl9LHQucHJvdG90eXBlLmRldGVybWluZUFuaW1hdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuPWUuZ2V0KCJhbmltYXRpb24iKSxpPXQuYXhpcyxyPSJjYXRlZ29yeSI9PT1pLnR5cGUsbz1lLmdldCgic25hcCIpO2lmKCFvJiYhcilyZXR1cm4hMTtpZigiYXV0byI9PT1ufHxudWxsPT1uKXt2YXIgYT10aGlzLmFuaW1hdGlvblRocmVzaG9sZDtpZihyJiZpLmdldEJhbmRXaWR0aCgpPmEpcmV0dXJuITA7aWYobyl7dmFyIHM9cU0odCkuc2VyaWVzRGF0YUNvdW50LGw9aS5nZXRFeHRlbnQoKTtyZXR1cm4gTWF0aC5hYnMobFswXS1sWzFdKS9zPmF9cmV0dXJuITF9cmV0dXJuITA9PT1ufSx0LnByb3RvdHlwZS5tYWtlRWxPcHRpb249ZnVuY3Rpb24odCxlLG4saSxyKXt9LHQucHJvdG90eXBlLmNyZWF0ZVBvaW50ZXJFbD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1lLnBvaW50ZXI7aWYocil7dmFyIG89SVIodCkucG9pbnRlckVsPW5ldyBCaFtyLnR5cGVdKFRSKGUucG9pbnRlcikpO3QuYWRkKG8pfX0sdC5wcm90b3R5cGUuY3JlYXRlTGFiZWxFbD1mdW5jdGlvbih0LGUsbixpKXtpZihlLmxhYmVsKXt2YXIgcj1JUih0KS5sYWJlbEVsPW5ldyBrcyhUUihlLmxhYmVsKSk7dC5hZGQociksTFIocixpKX19LHQucHJvdG90eXBlLnVwZGF0ZVBvaW50ZXJFbD1mdW5jdGlvbih0LGUsbil7dmFyIGk9SVIodCkucG9pbnRlckVsO2kmJmUucG9pbnRlciYmKGkuc2V0U3R5bGUoZS5wb2ludGVyLnN0eWxlKSxuKGkse3NoYXBlOmUucG9pbnRlci5zaGFwZX0pKX0sdC5wcm90b3R5cGUudXBkYXRlTGFiZWxFbD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1JUih0KS5sYWJlbEVsO3ImJihyLnNldFN0eWxlKGUubGFiZWwuc3R5bGUpLG4ocix7eDplLmxhYmVsLngseTplLmxhYmVsLnl9KSxMUihyLGkpKX0sdC5wcm90b3R5cGUuX3JlbmRlckhhbmRsZT1mdW5jdGlvbih0KXtpZighdGhpcy5fZHJhZ2dpbmcmJnRoaXMudXBkYXRlSGFuZGxlVHJhbnNmb3JtKXt2YXIgZSxuPXRoaXMuX2F4aXNQb2ludGVyTW9kZWwsaT10aGlzLl9hcGkuZ2V0WnIoKSxyPXRoaXMuX2hhbmRsZSxvPW4uZ2V0TW9kZWwoImhhbmRsZSIpLGE9bi5nZXQoInN0YXR1cyIpO2lmKCFvLmdldCgic2hvdyIpfHwhYXx8ImhpZGUiPT09YSlyZXR1cm4gciYmaS5yZW1vdmUociksdm9pZCh0aGlzLl9oYW5kbGU9bnVsbCk7dGhpcy5faGFuZGxlfHwoZT0hMCxyPXRoaXMuX2hhbmRsZT1QaChvLmdldCgiaWNvbiIpLHtjdXJzb3I6Im1vdmUiLGRyYWdnYWJsZTohMCxvbm1vdXNlbW92ZTpmdW5jdGlvbih0KXtzZSh0LmV2ZW50KX0sb25tb3VzZWRvd246Q1IodGhpcy5fb25IYW5kbGVEcmFnTW92ZSx0aGlzLDAsMCksZHJpZnQ6Q1IodGhpcy5fb25IYW5kbGVEcmFnTW92ZSx0aGlzKSxvbmRyYWdlbmQ6Q1IodGhpcy5fb25IYW5kbGVEcmFnRW5kLHRoaXMpfSksaS5hZGQocikpLE9SKHIsbiwhMSksci5zZXRTdHlsZShvLmdldEl0ZW1TdHlsZShudWxsLFsiY29sb3IiLCJib3JkZXJDb2xvciIsImJvcmRlcldpZHRoIiwib3BhY2l0eSIsInNoYWRvd0NvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJzaGFkb3dPZmZzZXRZIl0pKTt2YXIgcz1vLmdldCgic2l6ZSIpO1kocyl8fChzPVtzLHNdKSxyLnNjYWxlWD1zWzBdLzIsci5zY2FsZVk9c1sxXS8yLEFnKHRoaXMsIl9kb0Rpc3BhdGNoQXhpc1BvaW50ZXIiLG8uZ2V0KCJ0aHJvdHRsZSIpfHwwLCJmaXhSYXRlIiksdGhpcy5fbW92ZUhhbmRsZVRvVmFsdWUodCxlKX19LHQucHJvdG90eXBlLl9tb3ZlSGFuZGxlVG9WYWx1ZT1mdW5jdGlvbih0LGUpe0FSKHRoaXMuX2F4aXNQb2ludGVyTW9kZWwsIWUmJnRoaXMuX21vdmVBbmltYXRpb24sdGhpcy5faGFuZGxlLFBSKHRoaXMuZ2V0SGFuZGxlVHJhbnNmb3JtKHQsdGhpcy5fYXhpc01vZGVsLHRoaXMuX2F4aXNQb2ludGVyTW9kZWwpKSl9LHQucHJvdG90eXBlLl9vbkhhbmRsZURyYWdNb3ZlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5faGFuZGxlO2lmKG4pe3RoaXMuX2RyYWdnaW5nPSEwO3ZhciBpPXRoaXMudXBkYXRlSGFuZGxlVHJhbnNmb3JtKFBSKG4pLFt0LGVdLHRoaXMuX2F4aXNNb2RlbCx0aGlzLl9heGlzUG9pbnRlck1vZGVsKTt0aGlzLl9wYXlsb2FkSW5mbz1pLG4uc3RvcEFuaW1hdGlvbigpLG4uYXR0cihQUihpKSksSVIobikubGFzdFByb3A9bnVsbCx0aGlzLl9kb0Rpc3BhdGNoQXhpc1BvaW50ZXIoKX19LHQucHJvdG90eXBlLl9kb0Rpc3BhdGNoQXhpc1BvaW50ZXI9ZnVuY3Rpb24oKXtpZih0aGlzLl9oYW5kbGUpe3ZhciB0PXRoaXMuX3BheWxvYWRJbmZvLGU9dGhpcy5fYXhpc01vZGVsO3RoaXMuX2FwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToidXBkYXRlQXhpc1BvaW50ZXIiLHg6dC5jdXJzb3JQb2ludFswXSx5OnQuY3Vyc29yUG9pbnRbMV0sdG9vbHRpcE9wdGlvbjp0LnRvb2x0aXBPcHRpb24sYXhlc0luZm86W3theGlzRGltOmUuYXhpcy5kaW0sYXhpc0luZGV4OmUuY29tcG9uZW50SW5kZXh9XX0pfX0sdC5wcm90b3R5cGUuX29uSGFuZGxlRHJhZ0VuZD1mdW5jdGlvbigpe2lmKHRoaXMuX2RyYWdnaW5nPSExLHRoaXMuX2hhbmRsZSl7dmFyIHQ9dGhpcy5fYXhpc1BvaW50ZXJNb2RlbC5nZXQoInZhbHVlIik7dGhpcy5fbW92ZUhhbmRsZVRvVmFsdWUodCksdGhpcy5fYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJoaWRlVGlwIn0pfX0sdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24odCl7dGhpcy5fbGFzdFZhbHVlPW51bGwsdGhpcy5fbGFzdFN0YXR1cz1udWxsO3ZhciBlPXQuZ2V0WnIoKSxuPXRoaXMuX2dyb3VwLGk9dGhpcy5faGFuZGxlO2UmJm4mJih0aGlzLl9sYXN0R3JhcGhpY0tleT1udWxsLG4mJmUucmVtb3ZlKG4pLGkmJmUucmVtb3ZlKGkpLHRoaXMuX2dyb3VwPW51bGwsdGhpcy5faGFuZGxlPW51bGwsdGhpcy5fcGF5bG9hZEluZm89bnVsbCksa2codGhpcywiX2RvRGlzcGF0Y2hBeGlzUG9pbnRlciIpfSx0LnByb3RvdHlwZS5kb0NsZWFyPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5idWlsZExhYmVsPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm57eDp0W249bnx8MF0seTp0WzEtbl0sd2lkdGg6ZVtuXSxoZWlnaHQ6ZVsxLW5dfX0sdH0oKTtmdW5jdGlvbiBBUih0LGUsbixpKXtrUihJUihuKS5sYXN0UHJvcCxpKXx8KElSKG4pLmxhc3RQcm9wPWksZT9yaChuLGksdCk6KG4uc3RvcEFuaW1hdGlvbigpLG4uYXR0cihpKSkpfWZ1bmN0aW9uIGtSKHQsZSl7aWYocSh0KSYmcShlKSl7dmFyIG49ITA7cmV0dXJuIEUoZSwoZnVuY3Rpb24oZSxpKXtuPW4mJmtSKHRbaV0sZSl9KSksISFufXJldHVybiB0PT09ZX1mdW5jdGlvbiBMUih0LGUpe3RbZS5nZXQoWyJsYWJlbCIsInNob3ciXSk/InNob3ciOiJoaWRlIl0oKX1mdW5jdGlvbiBQUih0KXtyZXR1cm57eDp0Lnh8fDAseTp0Lnl8fDAscm90YXRpb246dC5yb3RhdGlvbnx8MH19ZnVuY3Rpb24gT1IodCxlLG4pe3ZhciBpPWUuZ2V0KCJ6Iikscj1lLmdldCgiemxldmVsIik7dCYmdC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7Imdyb3VwIiE9PXQudHlwZSYmKG51bGwhPWkmJih0Lno9aSksbnVsbCE9ciYmKHQuemxldmVsPXIpLHQuc2lsZW50PW4pfSkpfWZ1bmN0aW9uIFJSKHQpe3ZhciBlLG49dC5nZXQoInR5cGUiKSxpPXQuZ2V0TW9kZWwobisiU3R5bGUiKTtyZXR1cm4ibGluZSI9PT1uPyhlPWkuZ2V0TGluZVN0eWxlKCkpLmZpbGw9bnVsbDoic2hhZG93Ij09PW4mJigoZT1pLmdldEFyZWFTdHlsZSgpKS5zdHJva2U9bnVsbCksZX1mdW5jdGlvbiBOUih0LGUsbixpLHIpe3ZhciBvPUVSKG4uZ2V0KCJ2YWx1ZSIpLGUuYXhpcyxlLmVjTW9kZWwsbi5nZXQoInNlcmllc0RhdGFJbmRpY2VzIikse3ByZWNpc2lvbjpuLmdldChbImxhYmVsIiwicHJlY2lzaW9uIl0pLGZvcm1hdHRlcjpuLmdldChbImxhYmVsIiwiZm9ybWF0dGVyIl0pfSksYT1uLmdldE1vZGVsKCJsYWJlbCIpLHM9aXAoYS5nZXQoInBhZGRpbmciKXx8MCksbD1hLmdldEZvbnQoKSx1PWNyKG8sbCksaD1yLnBvc2l0aW9uLGM9dS53aWR0aCtzWzFdK3NbM10scD11LmhlaWdodCtzWzBdK3NbMl0sZD1yLmFsaWduOyJyaWdodCI9PT1kJiYoaFswXS09YyksImNlbnRlciI9PT1kJiYoaFswXS09Yy8yKTt2YXIgZj1yLnZlcnRpY2FsQWxpZ247ImJvdHRvbSI9PT1mJiYoaFsxXS09cCksIm1pZGRsZSI9PT1mJiYoaFsxXS09cC8yKSxmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1pLmdldFdpZHRoKCksbz1pLmdldEhlaWdodCgpO3RbMF09TWF0aC5taW4odFswXStlLHIpLWUsdFsxXT1NYXRoLm1pbih0WzFdK24sbyktbix0WzBdPU1hdGgubWF4KHRbMF0sMCksdFsxXT1NYXRoLm1heCh0WzFdLDApfShoLGMscCxpKTt2YXIgZz1hLmdldCgiYmFja2dyb3VuZENvbG9yIik7ZyYmImF1dG8iIT09Z3x8KGc9ZS5nZXQoWyJheGlzTGluZSIsImxpbmVTdHlsZSIsImNvbG9yIl0pKSx0LmxhYmVsPXt4OmhbMF0seTpoWzFdLHN0eWxlOlVoKGEse3RleHQ6byxmb250OmwsZmlsbDphLmdldFRleHRDb2xvcigpLHBhZGRpbmc6cyxiYWNrZ3JvdW5kQ29sb3I6Z30pLHoyOjEwfX1mdW5jdGlvbiBFUih0LGUsbixpLHIpe3Q9ZS5zY2FsZS5wYXJzZSh0KTt2YXIgbz1lLnNjYWxlLmdldExhYmVsKHt2YWx1ZTp0fSx7cHJlY2lzaW9uOnIucHJlY2lzaW9ufSksYT1yLmZvcm1hdHRlcjtpZihhKXt2YXIgcz17dmFsdWU6YV8oZSx7dmFsdWU6dH0pLGF4aXNEaW1lbnNpb246ZS5kaW0sYXhpc0luZGV4OmUuaW5kZXgsc2VyaWVzRGF0YTpbXX07RShpLChmdW5jdGlvbih0KXt2YXIgZT1uLmdldFNlcmllc0J5SW5kZXgodC5zZXJpZXNJbmRleCksaT10LmRhdGFJbmRleEluc2lkZSxyPWUmJmUuZ2V0RGF0YVBhcmFtcyhpKTtyJiZzLnNlcmllc0RhdGEucHVzaChyKX0pKSxYKGEpP289YS5yZXBsYWNlKCJ7dmFsdWV9IixvKTpVKGEpJiYobz1hKHMpKX1yZXR1cm4gb31mdW5jdGlvbiB6Uih0LGUsbil7dmFyIGk9WzEsMCwwLDEsMCwwXTtyZXR1cm4gemkoaSxpLG4ucm90YXRpb24pLEVpKGksaSxuLnBvc2l0aW9uKSxUaChbdC5kYXRhVG9Db29yZChlKSwobi5sYWJlbE9mZnNldHx8MCkrKG4ubGFiZWxEaXJlY3Rpb258fDEpKihuLmxhYmVsTWFyZ2lufHwwKV0saSl9ZnVuY3Rpb24gVlIodCxlLG4saSxyLG8pe3ZhciBhPUZNLmlubmVyVGV4dExheW91dChuLnJvdGF0aW9uLDAsbi5sYWJlbERpcmVjdGlvbik7bi5sYWJlbE1hcmdpbj1yLmdldChbImxhYmVsIiwibWFyZ2luIl0pLE5SKGUsaSxyLG8se3Bvc2l0aW9uOnpSKGkuYXhpcyx0LG4pLGFsaWduOmEudGV4dEFsaWduLHZlcnRpY2FsQWxpZ246YS50ZXh0VmVydGljYWxBbGlnbn0pfWZ1bmN0aW9uIEJSKHQsZSxuKXtyZXR1cm57eDE6dFtuPW58fDBdLHkxOnRbMS1uXSx4MjplW25dLHkyOmVbMS1uXX19ZnVuY3Rpb24gRlIodCxlLG4pe3JldHVybnt4OnRbbj1ufHwwXSx5OnRbMS1uXSx3aWR0aDplW25dLGhlaWdodDplWzEtbl19fWZ1bmN0aW9uIEdSKHQsZSxuLGkscixvKXtyZXR1cm57Y3g6dCxjeTplLHIwOm4scjppLHN0YXJ0QW5nbGU6cixlbmRBbmdsZTpvLGNsb2Nrd2lzZTohMH19dmFyIFdSPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUubWFrZUVsT3B0aW9uPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89bi5heGlzLGE9by5ncmlkLHM9aS5nZXQoInR5cGUiKSxsPUhSKGEsbykuZ2V0T3RoZXJBeGlzKG8pLmdldEdsb2JhbEV4dGVudCgpLHU9by50b0dsb2JhbENvb3JkKG8uZGF0YVRvQ29vcmQoZSwhMCkpO2lmKHMmJiJub25lIiE9PXMpe3ZhciBoPVJSKGkpLGM9WVJbc10obyx1LGwpO2Muc3R5bGU9aCx0LmdyYXBoaWNLZXk9Yy50eXBlLHQucG9pbnRlcj1jfVZSKGUsdCxrTShhLm1vZGVsLG4pLG4saSxyKX0sZS5wcm90b3R5cGUuZ2V0SGFuZGxlVHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1rTShlLmF4aXMuZ3JpZC5tb2RlbCxlLHtsYWJlbEluc2lkZTohMX0pO2kubGFiZWxNYXJnaW49bi5nZXQoWyJoYW5kbGUiLCJtYXJnaW4iXSk7dmFyIHI9elIoZS5heGlzLHQsaSk7cmV0dXJue3g6clswXSx5OnJbMV0scm90YXRpb246aS5yb3RhdGlvbisoaS5sYWJlbERpcmVjdGlvbjwwP01hdGguUEk6MCl9fSxlLnByb3RvdHlwZS51cGRhdGVIYW5kbGVUcmFuc2Zvcm09ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bi5heGlzLG89ci5ncmlkLGE9ci5nZXRHbG9iYWxFeHRlbnQoITApLHM9SFIobyxyKS5nZXRPdGhlckF4aXMocikuZ2V0R2xvYmFsRXh0ZW50KCksbD0ieCI9PT1yLmRpbT8wOjEsdT1bdC54LHQueV07dVtsXSs9ZVtsXSx1W2xdPU1hdGgubWluKGFbMV0sdVtsXSksdVtsXT1NYXRoLm1heChhWzBdLHVbbF0pO3ZhciBoPShzWzFdK3NbMF0pLzIsYz1baCxoXTtjW2xdPXVbbF07cmV0dXJue3g6dVswXSx5OnVbMV0scm90YXRpb246dC5yb3RhdGlvbixjdXJzb3JQb2ludDpjLHRvb2x0aXBPcHRpb246W3t2ZXJ0aWNhbEFsaWduOiJtaWRkbGUifSx7YWxpZ246ImNlbnRlciJ9XVtsXX19LGV9KERSKTtmdW5jdGlvbiBIUih0LGUpe3ZhciBuPXt9O3JldHVybiBuW2UuZGltKyJBeGlzSW5kZXgiXT1lLmluZGV4LHQuZ2V0Q2FydGVzaWFuKG4pfXZhciBZUj17bGluZTpmdW5jdGlvbih0LGUsbil7cmV0dXJue3R5cGU6IkxpbmUiLHN1YlBpeGVsT3B0aW1pemU6ITAsc2hhcGU6QlIoW2UsblswXV0sW2UsblsxXV0sVVIodCkpfX0sc2hhZG93OmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1NYXRoLm1heCgxLHQuZ2V0QmFuZFdpZHRoKCkpLHI9blsxXS1uWzBdO3JldHVybnt0eXBlOiJSZWN0IixzaGFwZTpGUihbZS1pLzIsblswXV0sW2kscl0sVVIodCkpfX19O2Z1bmN0aW9uIFVSKHQpe3JldHVybiJ4Ij09PXQuZGltPzA6MX12YXIgWFI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS50eXBlPSJheGlzUG9pbnRlciIsZS5kZWZhdWx0T3B0aW9uPXtzaG93OiJhdXRvIix6OjUwLHR5cGU6ImxpbmUiLHNuYXA6ITEsdHJpZ2dlclRvb2x0aXA6ITAsdmFsdWU6bnVsbCxzdGF0dXM6bnVsbCxsaW5rOltdLGFuaW1hdGlvbjpudWxsLGFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlOjIwMCxsaW5lU3R5bGU6e2NvbG9yOiIjQjlCRUM5Iix3aWR0aDoxLHR5cGU6ImRhc2hlZCJ9LHNoYWRvd1N0eWxlOntjb2xvcjoicmdiYSgyMTAsMjE5LDIzOCwwLjIpIn0sbGFiZWw6e3Nob3c6ITAsZm9ybWF0dGVyOm51bGwscHJlY2lzaW9uOiJhdXRvIixtYXJnaW46Myxjb2xvcjoiI2ZmZiIscGFkZGluZzpbNSw3LDUsN10sYmFja2dyb3VuZENvbG9yOiJhdXRvIixib3JkZXJDb2xvcjpudWxsLGJvcmRlcldpZHRoOjAsYm9yZGVyUmFkaXVzOjN9LGhhbmRsZTp7c2hvdzohMSxpY29uOiJNMTAuNywxMS45di0xLjNIOS4zdjEuM2MtNC45LDAuMy04LjgsNC40LTguOCw5LjRjMCw1LDMuOSw5LjEsOC44LDkuNGgxLjNjNC45LTAuMyw4LjgtNC40LDguOC05LjRDMTkuNSwxNi4zLDE1LjYsMTIuMiwxMC43LDExLjl6IE0xMy4zLDI0LjRINi43di0xLjJoNi42eiBNMTMuMywyMkg2Ljd2LTEuMmg2LjZ6IE0xMy4zLDE5LjZINi43di0xLjJoNi42eiIsc2l6ZTo0NSxtYXJnaW46NTAsY29sb3I6IiMzMzMiLHNoYWRvd0JsdXI6MyxzaGFkb3dDb2xvcjoiI2FhYSIsc2hhZG93T2Zmc2V0WDowLHNoYWRvd09mZnNldFk6Mix0aHJvdHRsZTo0MH19LGV9KFRwKSxaUj1TbygpLGpSPUU7ZnVuY3Rpb24gcVIodCxlLG4pe2lmKCFyLm5vZGUpe3ZhciBpPWUuZ2V0WnIoKTtaUihpKS5yZWNvcmRzfHwoWlIoaSkucmVjb3Jkcz17fSksZnVuY3Rpb24odCxlKXtpZihaUih0KS5pbml0aWFsaXplZClyZXR1cm47ZnVuY3Rpb24gbihuLGkpe3Qub24obiwoZnVuY3Rpb24obil7dmFyIHI9ZnVuY3Rpb24odCl7dmFyIGU9e3Nob3dUaXA6W10saGlkZVRpcDpbXX0sbj1mdW5jdGlvbihpKXt2YXIgcj1lW2kudHlwZV07cj9yLnB1c2goaSk6KGkuZGlzcGF0Y2hBY3Rpb249bix0LmRpc3BhdGNoQWN0aW9uKGkpKX07cmV0dXJue2Rpc3BhdGNoQWN0aW9uOm4scGVuZGluZ3M6ZX19KGUpO2pSKFpSKHQpLnJlY29yZHMsKGZ1bmN0aW9uKHQpe3QmJmkodCxuLHIuZGlzcGF0Y2hBY3Rpb24pfSkpLGZ1bmN0aW9uKHQsZSl7dmFyIG4saT10LnNob3dUaXAubGVuZ3RoLHI9dC5oaWRlVGlwLmxlbmd0aDtpP249dC5zaG93VGlwW2ktMV06ciYmKG49dC5oaWRlVGlwW3ItMV0pO24mJihuLmRpc3BhdGNoQWN0aW9uPW51bGwsZS5kaXNwYXRjaEFjdGlvbihuKSl9KHIucGVuZGluZ3MsZSl9KSl9WlIodCkuaW5pdGlhbGl6ZWQ9ITAsbigiY2xpY2siLEgoJFIsImNsaWNrIikpLG4oIm1vdXNlbW92ZSIsSCgkUiwibW91c2Vtb3ZlIikpLG4oImdsb2JhbG91dCIsS1IpfShpLGUpLChaUihpKS5yZWNvcmRzW3RdfHwoWlIoaSkucmVjb3Jkc1t0XT17fSkpLmhhbmRsZXI9bn19ZnVuY3Rpb24gS1IodCxlLG4pe3QuaGFuZGxlcigibGVhdmUiLG51bGwsbil9ZnVuY3Rpb24gJFIodCxlLG4saSl7ZS5oYW5kbGVyKHQsbixpKX1mdW5jdGlvbiBKUih0LGUpe2lmKCFyLm5vZGUpe3ZhciBuPWUuZ2V0WnIoKTsoWlIobikucmVjb3Jkc3x8e30pW3RdJiYoWlIobikucmVjb3Jkc1t0XT1udWxsKX19dmFyIFFSPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9ZS5nZXRDb21wb25lbnQoInRvb2x0aXAiKSxyPXQuZ2V0KCJ0cmlnZ2VyT24iKXx8aSYmaS5nZXQoInRyaWdnZXJPbiIpfHwibW91c2Vtb3ZlfGNsaWNrIjtxUigiYXhpc1BvaW50ZXIiLG4sKGZ1bmN0aW9uKHQsZSxuKXsibm9uZSIhPT1yJiYoImxlYXZlIj09PXR8fHIuaW5kZXhPZih0KT49MCkmJm4oe3R5cGU6InVwZGF0ZUF4aXNQb2ludGVyIixjdXJyVHJpZ2dlcjp0LHg6ZSYmZS5vZmZzZXRYLHk6ZSYmZS5vZmZzZXRZfSl9KSl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe0pSKCJheGlzUG9pbnRlciIsZSl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCxlKXtKUigiYXhpc1BvaW50ZXIiLGUpfSxlLnR5cGU9ImF4aXNQb2ludGVyIixlfShnZyk7ZnVuY3Rpb24gdE4odCxlKXt2YXIgbixpPVtdLHI9dC5zZXJpZXNJbmRleDtpZihudWxsPT1yfHwhKG49ZS5nZXRTZXJpZXNCeUluZGV4KHIpKSlyZXR1cm57cG9pbnQ6W119O3ZhciBvPW4uZ2V0RGF0YSgpLGE9d28obyx0KTtpZihudWxsPT1hfHxhPDB8fFkoYSkpcmV0dXJue3BvaW50OltdfTt2YXIgcz1vLmdldEl0ZW1HcmFwaGljRWwoYSksbD1uLmNvb3JkaW5hdGVTeXN0ZW07aWYobi5nZXRUb29sdGlwUG9zaXRpb24paT1uLmdldFRvb2x0aXBQb3NpdGlvbihhKXx8W107ZWxzZSBpZihsJiZsLmRhdGFUb1BvaW50KWlmKHQuaXNTdGFja2VkKXt2YXIgdT1sLmdldEJhc2VBeGlzKCksaD1sLmdldE90aGVyQXhpcyh1KS5kaW0sYz11LmRpbSxwPSJ4Ij09PWh8fCJyYWRpdXMiPT09aD8xOjAsZD1vLm1hcERpbWVuc2lvbihjKSxmPVtdO2ZbcF09by5nZXQoZCxhKSxmWzEtcF09by5nZXQoby5nZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrUmVzdWx0RGltZW5zaW9uIiksYSksaT1sLmRhdGFUb1BvaW50KGYpfHxbXX1lbHNlIGk9bC5kYXRhVG9Qb2ludChvLmdldFZhbHVlcyh6KGwuZGltZW5zaW9ucywoZnVuY3Rpb24odCl7cmV0dXJuIG8ubWFwRGltZW5zaW9uKHQpfSkpLGEpKXx8W107ZWxzZSBpZihzKXt2YXIgZz1zLmdldEJvdW5kaW5nUmVjdCgpLmNsb25lKCk7Zy5hcHBseVRyYW5zZm9ybShzLnRyYW5zZm9ybSksaT1bZy54K2cud2lkdGgvMixnLnkrZy5oZWlnaHQvMl19cmV0dXJue3BvaW50OmksZWw6c319dmFyIGVOPVNvKCk7ZnVuY3Rpb24gbk4odCxlLG4pe3ZhciBpPXQuY3VyclRyaWdnZXIscj1bdC54LHQueV0sbz10LGE9dC5kaXNwYXRjaEFjdGlvbnx8VyhuLmRpc3BhdGNoQWN0aW9uLG4pLHM9ZS5nZXRDb21wb25lbnQoImF4aXNQb2ludGVyIikuY29vcmRTeXNBeGVzSW5mbztpZihzKXtzTihyKSYmKHI9dE4oe3Nlcmllc0luZGV4Om8uc2VyaWVzSW5kZXgsZGF0YUluZGV4Om8uZGF0YUluZGV4fSxlKS5wb2ludCk7dmFyIGw9c04ociksdT1vLmF4ZXNJbmZvLGg9cy5heGVzSW5mbyxjPSJsZWF2ZSI9PT1pfHxzTihyKSxwPXt9LGQ9e30sZj17bGlzdDpbXSxtYXA6e319LGc9e3Nob3dQb2ludGVyOkgock4sZCksc2hvd1Rvb2x0aXA6SChvTixmKX07RShzLmNvb3JkU3lzTWFwLChmdW5jdGlvbih0LGUpe3ZhciBuPWx8fHQuY29udGFpblBvaW50KHIpO0Uocy5jb29yZFN5c0F4ZXNJbmZvW2VdLChmdW5jdGlvbih0LGUpe3ZhciBpPXQuYXhpcyxvPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjwodHx8W10pLmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aWYoZS5heGlzLmRpbT09PWkuYXhpc0RpbSYmZS5heGlzLm1vZGVsLmNvbXBvbmVudEluZGV4PT09aS5heGlzSW5kZXgpcmV0dXJuIGl9fSh1LHQpO2lmKCFjJiZuJiYoIXV8fG8pKXt2YXIgYT1vJiZvLnZhbHVlO251bGwhPWF8fGx8fChhPWkucG9pbnRUb0RhdGEocikpLG51bGwhPWEmJmlOKHQsYSxnLCExLHApfX0pKX0pKTt2YXIgeT17fTtyZXR1cm4gRShoLChmdW5jdGlvbih0LGUpe3ZhciBuPXQubGlua0dyb3VwO24mJiFkW2VdJiZFKG4uYXhlc0luZm8sKGZ1bmN0aW9uKGUsaSl7dmFyIHI9ZFtpXTtpZihlIT09dCYmcil7dmFyIG89ci52YWx1ZTtuLm1hcHBlciYmKG89dC5heGlzLnNjYWxlLnBhcnNlKG4ubWFwcGVyKG8sYU4oZSksYU4odCkpKSkseVt0LmtleV09b319KSl9KSksRSh5LChmdW5jdGlvbih0LGUpe2lOKGhbZV0sdCxnLCEwLHApfSkpLGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uLmF4ZXNJbmZvPVtdO0UoZSwoZnVuY3Rpb24oZSxuKXt2YXIgcj1lLmF4aXNQb2ludGVyTW9kZWwub3B0aW9uLG89dFtuXTtvPyghZS51c2VIYW5kbGUmJihyLnN0YXR1cz0ic2hvdyIpLHIudmFsdWU9by52YWx1ZSxyLnNlcmllc0RhdGFJbmRpY2VzPShvLnBheWxvYWRCYXRjaHx8W10pLnNsaWNlKCkpOiFlLnVzZUhhbmRsZSYmKHIuc3RhdHVzPSJoaWRlIiksInNob3ciPT09ci5zdGF0dXMmJmkucHVzaCh7YXhpc0RpbTplLmF4aXMuZGltLGF4aXNJbmRleDplLmF4aXMubW9kZWwuY29tcG9uZW50SW5kZXgsdmFsdWU6ci52YWx1ZX0pfSkpfShkLGgscCksZnVuY3Rpb24odCxlLG4saSl7aWYoc04oZSl8fCF0Lmxpc3QubGVuZ3RoKXJldHVybiB2b2lkIGkoe3R5cGU6ImhpZGVUaXAifSk7dmFyIHI9KCh0Lmxpc3RbMF0uZGF0YUJ5QXhpc1swXXx8e30pLnNlcmllc0RhdGFJbmRpY2VzfHxbXSlbMF18fHt9O2koe3R5cGU6InNob3dUaXAiLGVzY2FwZUNvbm5lY3Q6ITAseDplWzBdLHk6ZVsxXSx0b29sdGlwT3B0aW9uOm4udG9vbHRpcE9wdGlvbixwb3NpdGlvbjpuLnBvc2l0aW9uLGRhdGFJbmRleEluc2lkZTpyLmRhdGFJbmRleEluc2lkZSxkYXRhSW5kZXg6ci5kYXRhSW5kZXgsc2VyaWVzSW5kZXg6ci5zZXJpZXNJbmRleCxkYXRhQnlDb29yZFN5czp0Lmxpc3R9KX0oZixyLHQsYSksZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4uZ2V0WnIoKSxyPSJheGlzUG9pbnRlckxhc3RIaWdobGlnaHRzIixvPWVOKGkpW3JdfHx7fSxhPWVOKGkpW3JdPXt9O0UodCwoZnVuY3Rpb24odCxlKXt2YXIgbj10LmF4aXNQb2ludGVyTW9kZWwub3B0aW9uOyJzaG93Ij09PW4uc3RhdHVzJiZFKG4uc2VyaWVzRGF0YUluZGljZXMsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuc2VyaWVzSW5kZXgrIiB8ICIrdC5kYXRhSW5kZXg7YVtlXT10fSkpfSkpO3ZhciBzPVtdLGw9W107RShvLChmdW5jdGlvbih0LGUpeyFhW2VdJiZsLnB1c2godCl9KSksRShhLChmdW5jdGlvbih0LGUpeyFvW2VdJiZzLnB1c2godCl9KSksbC5sZW5ndGgmJm4uZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImRvd25wbGF5Iixlc2NhcGVDb25uZWN0OiEwLG5vdEJsdXI6ITAsYmF0Y2g6bH0pLHMubGVuZ3RoJiZuLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJoaWdobGlnaHQiLGVzY2FwZUNvbm5lY3Q6ITAsbm90Qmx1cjohMCxiYXRjaDpzfSl9KGgsMCxuKSxwfX1mdW5jdGlvbiBpTih0LGUsbixpLHIpe3ZhciBvPXQuYXhpcztpZighby5zY2FsZS5pc0JsYW5rKCkmJm8uY29udGFpbkRhdGEoZSkpaWYodC5pbnZvbHZlU2VyaWVzKXt2YXIgYT1mdW5jdGlvbih0LGUpe3ZhciBuPWUuYXhpcyxpPW4uZGltLHI9dCxvPVtdLGE9TnVtYmVyLk1BWF9WQUxVRSxzPS0xO3JldHVybiBFKGUuc2VyaWVzTW9kZWxzLChmdW5jdGlvbihlLGwpe3ZhciB1LGgsYz1lLmdldERhdGEoKS5tYXBEaW1lbnNpb25zQWxsKGkpO2lmKGUuZ2V0QXhpc1Rvb2x0aXBEYXRhKXt2YXIgcD1lLmdldEF4aXNUb29sdGlwRGF0YShjLHQsbik7aD1wLmRhdGFJbmRpY2VzLHU9cC5uZXN0ZXN0VmFsdWV9ZWxzZXtpZighKGg9ZS5nZXREYXRhKCkuaW5kaWNlc09mTmVhcmVzdChjWzBdLHQsImNhdGVnb3J5Ij09PW4udHlwZT8uNTpudWxsKSkubGVuZ3RoKXJldHVybjt1PWUuZ2V0RGF0YSgpLmdldChjWzBdLGhbMF0pfWlmKG51bGwhPXUmJmlzRmluaXRlKHUpKXt2YXIgZD10LXUsZj1NYXRoLmFicyhkKTtmPD1hJiYoKGY8YXx8ZD49MCYmczwwKSYmKGE9ZixzPWQscj11LG8ubGVuZ3RoPTApLEUoaCwoZnVuY3Rpb24odCl7by5wdXNoKHtzZXJpZXNJbmRleDplLnNlcmllc0luZGV4LGRhdGFJbmRleEluc2lkZTp0LGRhdGFJbmRleDplLmdldERhdGEoKS5nZXRSYXdJbmRleCh0KX0pfSkpKX19KSkse3BheWxvYWRCYXRjaDpvLHNuYXBUb1ZhbHVlOnJ9fShlLHQpLHM9YS5wYXlsb2FkQmF0Y2gsbD1hLnNuYXBUb1ZhbHVlO3NbMF0mJm51bGw9PXIuc2VyaWVzSW5kZXgmJkEocixzWzBdKSwhaSYmdC5zbmFwJiZvLmNvbnRhaW5EYXRhKGwpJiZudWxsIT1sJiYoZT1sKSxuLnNob3dQb2ludGVyKHQsZSxzKSxuLnNob3dUb29sdGlwKHQsYSxsKX1lbHNlIG4uc2hvd1BvaW50ZXIodCxlKX1mdW5jdGlvbiByTih0LGUsbixpKXt0W2Uua2V5XT17dmFsdWU6bixwYXlsb2FkQmF0Y2g6aX19ZnVuY3Rpb24gb04odCxlLG4saSl7dmFyIHI9bi5wYXlsb2FkQmF0Y2gsbz1lLmF4aXMsYT1vLm1vZGVsLHM9ZS5heGlzUG9pbnRlck1vZGVsO2lmKGUudHJpZ2dlclRvb2x0aXAmJnIubGVuZ3RoKXt2YXIgbD1lLmNvb3JkU3lzLm1vZGVsLHU9JE0obCksaD10Lm1hcFt1XTtofHwoaD10Lm1hcFt1XT17Y29vcmRTeXNJZDpsLmlkLGNvb3JkU3lzSW5kZXg6bC5jb21wb25lbnRJbmRleCxjb29yZFN5c1R5cGU6bC50eXBlLGNvb3JkU3lzTWFpblR5cGU6bC5tYWluVHlwZSxkYXRhQnlBeGlzOltdfSx0Lmxpc3QucHVzaChoKSksaC5kYXRhQnlBeGlzLnB1c2goe2F4aXNEaW06by5kaW0sYXhpc0luZGV4OmEuY29tcG9uZW50SW5kZXgsYXhpc1R5cGU6YS50eXBlLGF4aXNJZDphLmlkLHZhbHVlOmksdmFsdWVMYWJlbE9wdDp7cHJlY2lzaW9uOnMuZ2V0KFsibGFiZWwiLCJwcmVjaXNpb24iXSksZm9ybWF0dGVyOnMuZ2V0KFsibGFiZWwiLCJmb3JtYXR0ZXIiXSl9LHNlcmllc0RhdGFJbmRpY2VzOnIuc2xpY2UoKX0pfX1mdW5jdGlvbiBhTih0KXt2YXIgZT10LmF4aXMubW9kZWwsbj17fSxpPW4uYXhpc0RpbT10LmF4aXMuZGltO3JldHVybiBuLmF4aXNJbmRleD1uW2krIkF4aXNJbmRleCJdPWUuY29tcG9uZW50SW5kZXgsbi5heGlzTmFtZT1uW2krIkF4aXNOYW1lIl09ZS5uYW1lLG4uYXhpc0lkPW5baSsiQXhpc0lkIl09ZS5pZCxufWZ1bmN0aW9uIHNOKHQpe3JldHVybiF0fHxudWxsPT10WzBdfHxpc05hTih0WzBdKXx8bnVsbD09dFsxXXx8aXNOYU4odFsxXSl9ZnVuY3Rpb24gbE4odCl7UU0ucmVnaXN0ZXJBeGlzUG9pbnRlckNsYXNzKCJDYXJ0ZXNpYW5BeGlzUG9pbnRlciIsV1IpLHQucmVnaXN0ZXJDb21wb25lbnRNb2RlbChYUiksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoUVIpLHQucmVnaXN0ZXJQcmVwcm9jZXNzb3IoKGZ1bmN0aW9uKHQpe2lmKHQpeyghdC5heGlzUG9pbnRlcnx8MD09PXQuYXhpc1BvaW50ZXIubGVuZ3RoKSYmKHQuYXhpc1BvaW50ZXI9e30pO3ZhciBlPXQuYXhpc1BvaW50ZXIubGluaztlJiYhWShlKSYmKHQuYXhpc1BvaW50ZXIubGluaz1bZV0pfX0pKSx0LnJlZ2lzdGVyUHJvY2Vzc29yKHQuUFJJT1JJVFkuUFJPQ0VTU09SLlNUQVRJU1RJQywoZnVuY3Rpb24odCxlKXt0LmdldENvbXBvbmVudCgiYXhpc1BvaW50ZXIiKS5jb29yZFN5c0F4ZXNJbmZvPVhNKHQsZSl9KSksdC5yZWdpc3RlckFjdGlvbih7dHlwZToidXBkYXRlQXhpc1BvaW50ZXIiLGV2ZW50OiJ1cGRhdGVBeGlzUG9pbnRlciIsdXBkYXRlOiI6dXBkYXRlQXhpc1BvaW50ZXIifSxuTil9dmFyIHVOPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUubWFrZUVsT3B0aW9uPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89bi5heGlzOyJhbmdsZSI9PT1vLmRpbSYmKHRoaXMuYW5pbWF0aW9uVGhyZXNob2xkPU1hdGguUEkvMTgpO3ZhciBhPW8ucG9sYXIscz1hLmdldE90aGVyQXhpcyhvKS5nZXRFeHRlbnQoKSxsPW8uZGF0YVRvQ29vcmQoZSksdT1pLmdldCgidHlwZSIpO2lmKHUmJiJub25lIiE9PXUpe3ZhciBoPVJSKGkpLGM9aE5bdV0obyxhLGwscyk7Yy5zdHlsZT1oLHQuZ3JhcGhpY0tleT1jLnR5cGUsdC5wb2ludGVyPWN9dmFyIHA9ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1lLmF4aXMsYT1vLmRhdGFUb0Nvb3JkKHQpLHM9aS5nZXRBbmdsZUF4aXMoKS5nZXRFeHRlbnQoKVswXTtzPXMvMTgwKk1hdGguUEk7dmFyIGwsdSxoLGM9aS5nZXRSYWRpdXNBeGlzKCkuZ2V0RXh0ZW50KCk7aWYoInJhZGl1cyI9PT1vLmRpbSl7dmFyIHA9WzEsMCwwLDEsMCwwXTt6aShwLHAscyksRWkocCxwLFtpLmN4LGkuY3ldKSxsPVRoKFthLC1yXSxwKTt2YXIgZD1lLmdldE1vZGVsKCJheGlzTGFiZWwiKS5nZXQoInJvdGF0ZSIpfHwwLGY9Rk0uaW5uZXJUZXh0TGF5b3V0KHMsZCpNYXRoLlBJLzE4MCwtMSk7dT1mLnRleHRBbGlnbixoPWYudGV4dFZlcnRpY2FsQWxpZ259ZWxzZXt2YXIgZz1jWzFdO2w9aS5jb29yZFRvUG9pbnQoW2crcixhXSk7dmFyIHk9aS5jeCx2PWkuY3k7dT1NYXRoLmFicyhsWzBdLXkpL2c8LjM/ImNlbnRlciI6bFswXT55PyJsZWZ0IjoicmlnaHQiLGg9TWF0aC5hYnMobFsxXS12KS9nPC4zPyJtaWRkbGUiOmxbMV0+dj8idG9wIjoiYm90dG9tIn1yZXR1cm57cG9zaXRpb246bCxhbGlnbjp1LHZlcnRpY2FsQWxpZ246aH19KGUsbiwwLGEsaS5nZXQoWyJsYWJlbCIsIm1hcmdpbiJdKSk7TlIodCxuLGkscixwKX0sZX0oRFIpO3ZhciBoTj17bGluZTpmdW5jdGlvbih0LGUsbixpKXtyZXR1cm4iYW5nbGUiPT09dC5kaW0/e3R5cGU6IkxpbmUiLHNoYXBlOkJSKGUuY29vcmRUb1BvaW50KFtpWzBdLG5dKSxlLmNvb3JkVG9Qb2ludChbaVsxXSxuXSkpfTp7dHlwZToiQ2lyY2xlIixzaGFwZTp7Y3g6ZS5jeCxjeTplLmN5LHI6bn19fSxzaGFkb3c6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9TWF0aC5tYXgoMSx0LmdldEJhbmRXaWR0aCgpKSxvPU1hdGguUEkvMTgwO3JldHVybiJhbmdsZSI9PT10LmRpbT97dHlwZToiU2VjdG9yIixzaGFwZTpHUihlLmN4LGUuY3ksaVswXSxpWzFdLCgtbi1yLzIpKm8sKHIvMi1uKSpvKX06e3R5cGU6IlNlY3RvciIsc2hhcGU6R1IoZS5jeCxlLmN5LG4tci8yLG4rci8yLDAsMipNYXRoLlBJKX19fSxjTj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5maW5kQXhpc01vZGVsPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB0aGlzLmVjTW9kZWwuZWFjaENvbXBvbmVudCh0LChmdW5jdGlvbih0KXt0LmdldENvb3JkU3lzTW9kZWwoKT09PXRoaXMmJihlPXQpfSksdGhpcyksZX0sZS50eXBlPSJwb2xhciIsZS5kZXBlbmRlbmNpZXM9WyJyYWRpdXNBeGlzIiwiYW5nbGVBeGlzIl0sZS5kZWZhdWx0T3B0aW9uPXt6OjAsY2VudGVyOlsiNTAlIiwiNTAlIl0scmFkaXVzOiI4MCUifSxlfShUcCkscE49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRDb29yZFN5c01vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygicG9sYXIiLENvKS5tb2RlbHNbMF19LGUudHlwZT0icG9sYXJBeGlzIixlfShUcCk7UihwTixjXyk7dmFyIGROPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUudHlwZT0iYW5nbGVBeGlzIixlfShwTiksZk49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS50eXBlPSJyYWRpdXNBeGlzIixlfShwTiksZ049ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3JldHVybiB0LmNhbGwodGhpcywicmFkaXVzIixlLG4pfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucG9pbnRUb0RhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5wb2xhci5wb2ludFRvRGF0YSh0LGUpWyJyYWRpdXMiPT09dGhpcy5kaW0/MDoxXX0sZX0oV18pO2dOLnByb3RvdHlwZS5kYXRhVG9SYWRpdXM9V18ucHJvdG90eXBlLmRhdGFUb0Nvb3JkLGdOLnByb3RvdHlwZS5yYWRpdXNUb0RhdGE9V18ucHJvdG90eXBlLmNvb3JkVG9EYXRhO3ZhciB5Tj1TbygpLHZOPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXtyZXR1cm4gdC5jYWxsKHRoaXMsImFuZ2xlIixlLG58fFswLDM2MF0pfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucG9pbnRUb0RhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5wb2xhci5wb2ludFRvRGF0YSh0LGUpWyJyYWRpdXMiPT09dGhpcy5kaW0/MDoxXX0sZS5wcm90b3R5cGUuY2FsY3VsYXRlQ2F0ZWdvcnlJbnRlcnZhbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10LmdldExhYmVsTW9kZWwoKSxuPXQuc2NhbGUsaT1uLmdldEV4dGVudCgpLHI9bi5jb3VudCgpO2lmKGlbMV0taVswXTwxKXJldHVybiAwO3ZhciBvPWlbMF0sYT10LmRhdGFUb0Nvb3JkKG8rMSktdC5kYXRhVG9Db29yZChvKSxzPU1hdGguYWJzKGEpLGw9Y3IobnVsbD09bz8iIjpvKyIiLGUuZ2V0Rm9udCgpLCJjZW50ZXIiLCJ0b3AiKSx1PU1hdGgubWF4KGwuaGVpZ2h0LDcpL3M7aXNOYU4odSkmJih1PTEvMCk7dmFyIGg9TWF0aC5tYXgoMCxNYXRoLmZsb29yKHUpKSxjPXlOKHQubW9kZWwpLHA9Yy5sYXN0QXV0b0ludGVydmFsLGQ9Yy5sYXN0VGlja0NvdW50O3JldHVybiBudWxsIT1wJiZudWxsIT1kJiZNYXRoLmFicyhwLWgpPD0xJiZNYXRoLmFicyhkLXIpPD0xJiZwPmg/aD1wOihjLmxhc3RUaWNrQ291bnQ9cixjLmxhc3RBdXRvSW50ZXJ2YWw9aCksaH0sZX0oV18pO3ZOLnByb3RvdHlwZS5kYXRhVG9BbmdsZT1XXy5wcm90b3R5cGUuZGF0YVRvQ29vcmQsdk4ucHJvdG90eXBlLmFuZ2xlVG9EYXRhPVdfLnByb3RvdHlwZS5jb29yZFRvRGF0YTt2YXIgbU49WyJyYWRpdXMiLCJhbmdsZSJdLHhOPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmRpbWVuc2lvbnM9bU4sdGhpcy50eXBlPSJwb2xhciIsdGhpcy5jeD0wLHRoaXMuY3k9MCx0aGlzLl9yYWRpdXNBeGlzPW5ldyBnTix0aGlzLl9hbmdsZUF4aXM9bmV3IHZOLHRoaXMuYXhpc1BvaW50ZXJFbmFibGVkPSEwLHRoaXMubmFtZT10fHwiIix0aGlzLl9yYWRpdXNBeGlzLnBvbGFyPXRoaXMuX2FuZ2xlQXhpcy5wb2xhcj10aGlzfXJldHVybiB0LnByb3RvdHlwZS5jb250YWluUG9pbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wb2ludFRvQ29vcmQodCk7cmV0dXJuIHRoaXMuX3JhZGl1c0F4aXMuY29udGFpbihlWzBdKSYmdGhpcy5fYW5nbGVBeGlzLmNvbnRhaW4oZVsxXSl9LHQucHJvdG90eXBlLmNvbnRhaW5EYXRhPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yYWRpdXNBeGlzLmNvbnRhaW5EYXRhKHRbMF0pJiZ0aGlzLl9hbmdsZUF4aXMuY29udGFpbkRhdGEodFsxXSl9LHQucHJvdG90eXBlLmdldEF4aXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbIl8iK3QrIkF4aXMiXX0sdC5wcm90b3R5cGUuZ2V0QXhlcz1mdW5jdGlvbigpe3JldHVyblt0aGlzLl9yYWRpdXNBeGlzLHRoaXMuX2FuZ2xlQXhpc119LHQucHJvdG90eXBlLmdldEF4ZXNCeVNjYWxlPWZ1bmN0aW9uKHQpe3ZhciBlPVtdLG49dGhpcy5fYW5nbGVBeGlzLGk9dGhpcy5fcmFkaXVzQXhpcztyZXR1cm4gbi5zY2FsZS50eXBlPT09dCYmZS5wdXNoKG4pLGkuc2NhbGUudHlwZT09PXQmJmUucHVzaChpKSxlfSx0LnByb3RvdHlwZS5nZXRBbmdsZUF4aXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYW5nbGVBeGlzfSx0LnByb3RvdHlwZS5nZXRSYWRpdXNBeGlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JhZGl1c0F4aXN9LHQucHJvdG90eXBlLmdldE90aGVyQXhpcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9hbmdsZUF4aXM7cmV0dXJuIHQ9PT1lP3RoaXMuX3JhZGl1c0F4aXM6ZX0sdC5wcm90b3R5cGUuZ2V0QmFzZUF4aXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBeGVzQnlTY2FsZSgib3JkaW5hbCIpWzBdfHx0aGlzLmdldEF4ZXNCeVNjYWxlKCJ0aW1lIilbMF18fHRoaXMuZ2V0QW5nbGVBeGlzKCl9LHQucHJvdG90eXBlLmdldFRvb2x0aXBBeGVzPWZ1bmN0aW9uKHQpe3ZhciBlPW51bGwhPXQmJiJhdXRvIiE9PXQ/dGhpcy5nZXRBeGlzKHQpOnRoaXMuZ2V0QmFzZUF4aXMoKTtyZXR1cm57YmFzZUF4ZXM6W2VdLG90aGVyQXhlczpbdGhpcy5nZXRPdGhlckF4aXMoZSldfX0sdC5wcm90b3R5cGUuZGF0YVRvUG9pbnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jb29yZFRvUG9pbnQoW3RoaXMuX3JhZGl1c0F4aXMuZGF0YVRvUmFkaXVzKHRbMF0sZSksdGhpcy5fYW5nbGVBeGlzLmRhdGFUb0FuZ2xlKHRbMV0sZSldKX0sdC5wcm90b3R5cGUucG9pbnRUb0RhdGE9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnBvaW50VG9Db29yZCh0KTtyZXR1cm5bdGhpcy5fcmFkaXVzQXhpcy5yYWRpdXNUb0RhdGEoblswXSxlKSx0aGlzLl9hbmdsZUF4aXMuYW5nbGVUb0RhdGEoblsxXSxlKV19LHQucHJvdG90eXBlLnBvaW50VG9Db29yZD1mdW5jdGlvbih0KXt2YXIgZT10WzBdLXRoaXMuY3gsbj10WzFdLXRoaXMuY3ksaT10aGlzLmdldEFuZ2xlQXhpcygpLHI9aS5nZXRFeHRlbnQoKSxvPU1hdGgubWluKHJbMF0sclsxXSksYT1NYXRoLm1heChyWzBdLHJbMV0pO2kuaW52ZXJzZT9vPWEtMzYwOmE9byszNjA7dmFyIHM9TWF0aC5zcXJ0KGUqZStuKm4pO2UvPXMsbi89cztmb3IodmFyIGw9TWF0aC5hdGFuMigtbixlKS9NYXRoLlBJKjE4MCx1PWw8bz8xOi0xO2w8b3x8bD5hOylsKz0zNjAqdTtyZXR1cm5bcyxsXX0sdC5wcm90b3R5cGUuY29vcmRUb1BvaW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRbMF0sbj10WzFdLzE4MCpNYXRoLlBJO3JldHVybltNYXRoLmNvcyhuKSplK3RoaXMuY3gsLU1hdGguc2luKG4pKmUrdGhpcy5jeV19LHQucHJvdG90eXBlLmdldEFyZWE9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEFuZ2xlQXhpcygpLGU9dGhpcy5nZXRSYWRpdXNBeGlzKCkuZ2V0RXh0ZW50KCkuc2xpY2UoKTtlWzBdPmVbMV0mJmUucmV2ZXJzZSgpO3ZhciBuPXQuZ2V0RXh0ZW50KCksaT1NYXRoLlBJLzE4MDtyZXR1cm57Y3g6dGhpcy5jeCxjeTp0aGlzLmN5LHIwOmVbMF0scjplWzFdLHN0YXJ0QW5nbGU6LW5bMF0qaSxlbmRBbmdsZTotblsxXSppLGNsb2Nrd2lzZTp0LmludmVyc2UsY29udGFpbjpmdW5jdGlvbih0LGUpe3ZhciBuPXQtdGhpcy5jeCxpPWUtdGhpcy5jeSxyPW4qbitpKmktMWUtNCxvPXRoaXMucixhPXRoaXMucjA7cmV0dXJuIHI8PW8qbyYmcj49YSphfX19LHQucHJvdG90eXBlLmNvbnZlcnRUb1BpeGVsPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gX04oZSk9PT10aGlzP3RoaXMuZGF0YVRvUG9pbnQobik6bnVsbH0sdC5wcm90b3R5cGUuY29udmVydEZyb21QaXhlbD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIF9OKGUpPT09dGhpcz90aGlzLnBvaW50VG9EYXRhKG4pOm51bGx9LHR9KCk7ZnVuY3Rpb24gX04odCl7dmFyIGU9dC5zZXJpZXNNb2RlbCxuPXQucG9sYXJNb2RlbDtyZXR1cm4gbiYmbi5jb29yZGluYXRlU3lzdGVtfHxlJiZlLmNvb3JkaW5hdGVTeXN0ZW19ZnVuY3Rpb24gYk4odCxlKXt2YXIgbj10aGlzLGk9bi5nZXRBbmdsZUF4aXMoKSxyPW4uZ2V0UmFkaXVzQXhpcygpO2lmKGkuc2NhbGUuc2V0RXh0ZW50KDEvMCwtMS8wKSxyLnNjYWxlLnNldEV4dGVudCgxLzAsLTEvMCksdC5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXtpZih0LmNvb3JkaW5hdGVTeXN0ZW09PT1uKXt2YXIgZT10LmdldERhdGEoKTtFKGhfKGUsInJhZGl1cyIpLChmdW5jdGlvbih0KXtyLnNjYWxlLnVuaW9uRXh0ZW50RnJvbURhdGEoZSx0KX0pKSxFKGhfKGUsImFuZ2xlIiksKGZ1bmN0aW9uKHQpe2kuc2NhbGUudW5pb25FeHRlbnRGcm9tRGF0YShlLHQpfSkpfX0pKSxpXyhpLnNjYWxlLGkubW9kZWwpLGlfKHIuc2NhbGUsci5tb2RlbCksImNhdGVnb3J5Ij09PWkudHlwZSYmIWkub25CYW5kKXt2YXIgbz1pLmdldEV4dGVudCgpLGE9MzYwL2kuc2NhbGUuY291bnQoKTtpLmludmVyc2U/b1sxXSs9YTpvWzFdLT1hLGkuc2V0RXh0ZW50KG9bMF0sb1sxXSl9fWZ1bmN0aW9uIHdOKHQsZSl7aWYodC50eXBlPWUuZ2V0KCJ0eXBlIiksdC5zY2FsZT1yXyhlKSx0Lm9uQmFuZD1lLmdldCgiYm91bmRhcnlHYXAiKSYmImNhdGVnb3J5Ij09PXQudHlwZSx0LmludmVyc2U9ZS5nZXQoImludmVyc2UiKSxmdW5jdGlvbih0KXtyZXR1cm4iYW5nbGVBeGlzIj09PXQubWFpblR5cGV9KGUpKXt0LmludmVyc2U9dC5pbnZlcnNlIT09ZS5nZXQoImNsb2Nrd2lzZSIpO3ZhciBuPWUuZ2V0KCJzdGFydEFuZ2xlIik7dC5zZXRFeHRlbnQobixuKyh0LmludmVyc2U/LTM2MDozNjApKX1lLmF4aXM9dCx0Lm1vZGVsPWV9dmFyIFNOPXtkaW1lbnNpb25zOm1OLGNyZWF0ZTpmdW5jdGlvbih0LGUpe3ZhciBuPVtdO3JldHVybiB0LmVhY2hDb21wb25lbnQoInBvbGFyIiwoZnVuY3Rpb24odCxpKXt2YXIgcj1uZXcgeE4oaSsiIik7ci51cGRhdGU9Yk47dmFyIG89ci5nZXRSYWRpdXNBeGlzKCksYT1yLmdldEFuZ2xlQXhpcygpLHM9dC5maW5kQXhpc01vZGVsKCJyYWRpdXNBeGlzIiksbD10LmZpbmRBeGlzTW9kZWwoImFuZ2xlQXhpcyIpO3dOKG8scyksd04oYSxsKSxmdW5jdGlvbih0LGUsbil7dmFyIGk9ZS5nZXQoImNlbnRlciIpLHI9bi5nZXRXaWR0aCgpLG89bi5nZXRIZWlnaHQoKTt0LmN4PUVyKGlbMF0sciksdC5jeT1FcihpWzFdLG8pO3ZhciBhPXQuZ2V0UmFkaXVzQXhpcygpLHM9TWF0aC5taW4ocixvKS8yLGw9ZS5nZXQoInJhZGl1cyIpO251bGw9PWw/bD1bMCwiMTAwJSJdOlkobCl8fChsPVswLGxdKTt2YXIgdT1bRXIobFswXSxzKSxFcihsWzFdLHMpXTthLmludmVyc2U/YS5zZXRFeHRlbnQodVsxXSx1WzBdKTphLnNldEV4dGVudCh1WzBdLHVbMV0pfShyLHQsZSksbi5wdXNoKHIpLHQuY29vcmRpbmF0ZVN5c3RlbT1yLHIubW9kZWw9dH0pKSx0LmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe2lmKCJwb2xhciI9PT10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpKXt2YXIgZT10LmdldFJlZmVycmluZ0NvbXBvbmVudHMoInBvbGFyIixDbykubW9kZWxzWzBdOzAsdC5jb29yZGluYXRlU3lzdGVtPWUuY29vcmRpbmF0ZVN5c3RlbX19KSksbn19LE1OPVsiYXhpc0xpbmUiLCJheGlzTGFiZWwiLCJheGlzVGljayIsIm1pbm9yVGljayIsInNwbGl0TGluZSIsIm1pbm9yU3BsaXRMaW5lIiwic3BsaXRBcmVhIl07ZnVuY3Rpb24gSU4odCxlLG4pe2VbMV0+ZVswXSYmKGU9ZS5zbGljZSgpLnJldmVyc2UoKSk7dmFyIGk9dC5jb29yZFRvUG9pbnQoW2VbMF0sbl0pLHI9dC5jb29yZFRvUG9pbnQoW2VbMV0sbl0pO3JldHVybnt4MTppWzBdLHkxOmlbMV0seDI6clswXSx5MjpyWzFdfX1mdW5jdGlvbiBUTih0KXtyZXR1cm4gdC5nZXRSYWRpdXNBeGlzKCkuaW52ZXJzZT8wOjF9ZnVuY3Rpb24gQ04odCl7dmFyIGU9dFswXSxuPXRbdC5sZW5ndGgtMV07ZSYmbiYmTWF0aC5hYnMoTWF0aC5hYnMoZS5jb29yZC1uLmNvb3JkKS0zNjApPDFlLTQmJnQucG9wKCl9dmFyIEROPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5heGlzUG9pbnRlckNsYXNzPSJQb2xhckF4aXNQb2ludGVyIixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0LmdldCgic2hvdyIpKXt2YXIgbj10LmF4aXMsaT1uLnBvbGFyLHI9aS5nZXRSYWRpdXNBeGlzKCkuZ2V0RXh0ZW50KCksbz1uLmdldFRpY2tzQ29vcmRzKCksYT1uLmdldE1pbm9yVGlja3NDb29yZHMoKSxzPXoobi5nZXRWaWV3TGFiZWxzKCksKGZ1bmN0aW9uKHQpe3Q9VCh0KTt2YXIgZT1uLnNjYWxlLGk9Im9yZGluYWwiPT09ZS50eXBlP2UuZ2V0UmF3T3JkaW5hbE51bWJlcih0LnRpY2tWYWx1ZSk6dC50aWNrVmFsdWU7cmV0dXJuIHQuY29vcmQ9bi5kYXRhVG9Db29yZChpKSx0fSkpO0NOKHMpLENOKG8pLEUoTU4sKGZ1bmN0aW9uKGUpeyF0LmdldChbZSwic2hvdyJdKXx8bi5zY2FsZS5pc0JsYW5rKCkmJiJheGlzTGluZSIhPT1lfHxBTltlXSh0aGlzLmdyb3VwLHQsaSxvLGEscixzKX0pLHRoaXMpfX0sZS50eXBlPSJhbmdsZUF4aXMiLGV9KFFNKSxBTj17YXhpc0xpbmU6ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhLHM9ZS5nZXRNb2RlbChbImF4aXNMaW5lIiwibGluZVN0eWxlIl0pLGw9VE4obiksdT1sPzA6MTsoYT0wPT09b1t1XT9uZXcgaHUoe3NoYXBlOntjeDpuLmN4LGN5Om4uY3kscjpvW2xdfSxzdHlsZTpzLmdldExpbmVTdHlsZSgpLHoyOjEsc2lsZW50OiEwfSk6bmV3IEF1KHtzaGFwZTp7Y3g6bi5jeCxjeTpuLmN5LHI6b1tsXSxyMDpvW3VdfSxzdHlsZTpzLmdldExpbmVTdHlsZSgpLHoyOjEsc2lsZW50OiEwfSkpLnN0eWxlLmZpbGw9bnVsbCx0LmFkZChhKX0sYXhpc1RpY2s6ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhPWUuZ2V0TW9kZWwoImF4aXNUaWNrIikscz0oYS5nZXQoImluc2lkZSIpPy0xOjEpKmEuZ2V0KCJsZW5ndGgiKSxsPW9bVE4obildLHU9eihpLChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IHp1KHtzaGFwZTpJTihuLFtsLGwrc10sdC5jb29yZCl9KX0pKTt0LmFkZCh3aCh1LHtzdHlsZTprKGEuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLHtzdHJva2U6ZS5nZXQoWyJheGlzTGluZSIsImxpbmVTdHlsZSIsImNvbG9yIl0pfSl9KSl9LG1pbm9yVGljazpmdW5jdGlvbih0LGUsbixpLHIsbyl7aWYoci5sZW5ndGgpe2Zvcih2YXIgYT1lLmdldE1vZGVsKCJheGlzVGljayIpLHM9ZS5nZXRNb2RlbCgibWlub3JUaWNrIiksbD0oYS5nZXQoImluc2lkZSIpPy0xOjEpKnMuZ2V0KCJsZW5ndGgiKSx1PW9bVE4obildLGg9W10sYz0wO2M8ci5sZW5ndGg7YysrKWZvcih2YXIgcD0wO3A8cltjXS5sZW5ndGg7cCsrKWgucHVzaChuZXcgenUoe3NoYXBlOklOKG4sW3UsdStsXSxyW2NdW3BdLmNvb3JkKX0pKTt0LmFkZCh3aChoLHtzdHlsZTprKHMuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLGsoYS5nZXRMaW5lU3R5bGUoKSx7c3Ryb2tlOmUuZ2V0KFsiYXhpc0xpbmUiLCJsaW5lU3R5bGUiLCJjb2xvciJdKX0pKX0pKX19LGF4aXNMYWJlbDpmdW5jdGlvbih0LGUsbixpLHIsbyxhKXt2YXIgcz1lLmdldENhdGVnb3JpZXMoITApLGw9ZS5nZXRNb2RlbCgiYXhpc0xhYmVsIiksdT1sLmdldCgibWFyZ2luIiksaD1lLmdldCgidHJpZ2dlckV2ZW50Iik7RShhLChmdW5jdGlvbihpLHIpe3ZhciBhPWwsYz1pLnRpY2tWYWx1ZSxwPW9bVE4obildLGQ9bi5jb29yZFRvUG9pbnQoW3ArdSxpLmNvb3JkXSksZj1uLmN4LGc9bi5jeSx5PU1hdGguYWJzKGRbMF0tZikvcDwuMz8iY2VudGVyIjpkWzBdPmY/ImxlZnQiOiJyaWdodCIsdj1NYXRoLmFicyhkWzFdLWcpL3A8LjM/Im1pZGRsZSI6ZFsxXT5nPyJ0b3AiOiJib3R0b20iO2lmKHMmJnNbY10pe3ZhciBtPXNbY107cShtKSYmbS50ZXh0U3R5bGUmJihhPW5ldyBkYyhtLnRleHRTdHlsZSxsLGwuZWNNb2RlbCkpfXZhciB4PW5ldyBrcyh7c2lsZW50OkZNLmlzTGFiZWxTaWxlbnQoZSksc3R5bGU6VWgoYSx7eDpkWzBdLHk6ZFsxXSxmaWxsOmEuZ2V0VGV4dENvbG9yKCl8fGUuZ2V0KFsiYXhpc0xpbmUiLCJsaW5lU3R5bGUiLCJjb2xvciJdKSx0ZXh0OmkuZm9ybWF0dGVkTGFiZWwsYWxpZ246eSx2ZXJ0aWNhbEFsaWduOnZ9KX0pO2lmKHQuYWRkKHgpLGgpe3ZhciBfPUZNLm1ha2VBeGlzRXZlbnREYXRhQmFzZShlKTtfLnRhcmdldFR5cGU9ImF4aXNMYWJlbCIsXy52YWx1ZT1pLnJhd0xhYmVsLEhzKHgpLmV2ZW50RGF0YT1ffX0pLHRoaXMpfSxzcGxpdExpbmU6ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhPWUuZ2V0TW9kZWwoInNwbGl0TGluZSIpLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxzPWEuZ2V0KCJjb2xvciIpLGw9MDtzPXMgaW5zdGFuY2VvZiBBcnJheT9zOltzXTtmb3IodmFyIHU9W10saD0wO2g8aS5sZW5ndGg7aCsrKXt2YXIgYz1sKyslcy5sZW5ndGg7dVtjXT11W2NdfHxbXSx1W2NdLnB1c2gobmV3IHp1KHtzaGFwZTpJTihuLG8saVtoXS5jb29yZCl9KSl9Zm9yKGg9MDtoPHUubGVuZ3RoO2grKyl0LmFkZCh3aCh1W2hdLHtzdHlsZTprKHtzdHJva2U6c1toJXMubGVuZ3RoXX0sYS5nZXRMaW5lU3R5bGUoKSksc2lsZW50OiEwLHo6ZS5nZXQoInoiKX0pKX0sbWlub3JTcGxpdExpbmU6ZnVuY3Rpb24odCxlLG4saSxyLG8pe2lmKHIubGVuZ3RoKXtmb3IodmFyIGE9ZS5nZXRNb2RlbCgibWlub3JTcGxpdExpbmUiKS5nZXRNb2RlbCgibGluZVN0eWxlIikscz1bXSxsPTA7bDxyLmxlbmd0aDtsKyspZm9yKHZhciB1PTA7dTxyW2xdLmxlbmd0aDt1Kyspcy5wdXNoKG5ldyB6dSh7c2hhcGU6SU4obixvLHJbbF1bdV0uY29vcmQpfSkpO3QuYWRkKHdoKHMse3N0eWxlOmEuZ2V0TGluZVN0eWxlKCksc2lsZW50OiEwLHo6ZS5nZXQoInoiKX0pKX19LHNwbGl0QXJlYTpmdW5jdGlvbih0LGUsbixpLHIsbyl7aWYoaS5sZW5ndGgpe3ZhciBhPWUuZ2V0TW9kZWwoInNwbGl0QXJlYSIpLmdldE1vZGVsKCJhcmVhU3R5bGUiKSxzPWEuZ2V0KCJjb2xvciIpLGw9MDtzPXMgaW5zdGFuY2VvZiBBcnJheT9zOltzXTtmb3IodmFyIHU9W10saD1NYXRoLlBJLzE4MCxjPS1pWzBdLmNvb3JkKmgscD1NYXRoLm1pbihvWzBdLG9bMV0pLGQ9TWF0aC5tYXgob1swXSxvWzFdKSxmPWUuZ2V0KCJjbG9ja3dpc2UiKSxnPTEseT1pLmxlbmd0aDtnPD15O2crKyl7dmFyIHY9Zz09PXk/aVswXS5jb29yZDppW2ddLmNvb3JkLG09bCsrJXMubGVuZ3RoO3VbbV09dVttXXx8W10sdVttXS5wdXNoKG5ldyBDdSh7c2hhcGU6e2N4Om4uY3gsY3k6bi5jeSxyMDpwLHI6ZCxzdGFydEFuZ2xlOmMsZW5kQW5nbGU6LXYqaCxjbG9ja3dpc2U6Zn0sc2lsZW50OiEwfSkpLGM9LXYqaH1mb3IoZz0wO2c8dS5sZW5ndGg7ZysrKXQuYWRkKHdoKHVbZ10se3N0eWxlOmsoe2ZpbGw6c1tnJXMubGVuZ3RoXX0sYS5nZXRBcmVhU3R5bGUoKSksc2lsZW50OiEwfSkpfX19LGtOPVsiYXhpc0xpbmUiLCJheGlzVGlja0xhYmVsIiwiYXhpc05hbWUiXSxMTj1bInNwbGl0TGluZSIsInNwbGl0QXJlYSIsIm1pbm9yU3BsaXRMaW5lIl0sUE49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmF4aXNQb2ludGVyQ2xhc3M9IlBvbGFyQXhpc1BvaW50ZXIiLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlKXtpZih0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHQuZ2V0KCJzaG93Iikpe3ZhciBuPXRoaXMuX2F4aXNHcm91cCxpPXRoaXMuX2F4aXNHcm91cD1uZXcgQ3I7dGhpcy5ncm91cC5hZGQoaSk7dmFyIHI9dC5heGlzLG89ci5wb2xhcixhPW8uZ2V0QW5nbGVBeGlzKCkscz1yLmdldFRpY2tzQ29vcmRzKCksbD1yLmdldE1pbm9yVGlja3NDb29yZHMoKSx1PWEuZ2V0RXh0ZW50KClbMF0saD1yLmdldEV4dGVudCgpLGM9ZnVuY3Rpb24odCxlLG4pe3JldHVybntwb3NpdGlvbjpbdC5jeCx0LmN5XSxyb3RhdGlvbjpuLzE4MCpNYXRoLlBJLGxhYmVsRGlyZWN0aW9uOi0xLHRpY2tEaXJlY3Rpb246LTEsbmFtZURpcmVjdGlvbjoxLGxhYmVsUm90YXRlOmUuZ2V0TW9kZWwoImF4aXNMYWJlbCIpLmdldCgicm90YXRlIiksejI6MX19KG8sdCx1KSxwPW5ldyBGTSh0LGMpO0Uoa04scC5hZGQscCksaS5hZGQocC5nZXRHcm91cCgpKSxBaChuLGksdCksRShMTiwoZnVuY3Rpb24oZSl7dC5nZXQoW2UsInNob3ciXSkmJiFyLnNjYWxlLmlzQmxhbmsoKSYmT05bZV0odGhpcy5ncm91cCx0LG8sdSxoLHMsbCl9KSx0aGlzKX19LGUudHlwZT0icmFkaXVzQXhpcyIsZX0oUU0pLE9OPXtzcGxpdExpbmU6ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhPWUuZ2V0TW9kZWwoInNwbGl0TGluZSIpLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxzPWEuZ2V0KCJjb2xvciIpLGw9MDtzPXMgaW5zdGFuY2VvZiBBcnJheT9zOltzXTtmb3IodmFyIHU9W10saD0wO2g8by5sZW5ndGg7aCsrKXt2YXIgYz1sKyslcy5sZW5ndGg7dVtjXT11W2NdfHxbXSx1W2NdLnB1c2gobmV3IGh1KHtzaGFwZTp7Y3g6bi5jeCxjeTpuLmN5LHI6TWF0aC5tYXgob1toXS5jb29yZCwwKX19KSl9Zm9yKGg9MDtoPHUubGVuZ3RoO2grKyl0LmFkZCh3aCh1W2hdLHtzdHlsZTprKHtzdHJva2U6c1toJXMubGVuZ3RoXSxmaWxsOm51bGx9LGEuZ2V0TGluZVN0eWxlKCkpLHNpbGVudDohMH0pKX0sbWlub3JTcGxpdExpbmU6ZnVuY3Rpb24odCxlLG4saSxyLG8sYSl7aWYoYS5sZW5ndGgpe2Zvcih2YXIgcz1lLmdldE1vZGVsKCJtaW5vclNwbGl0TGluZSIpLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxsPVtdLHU9MDt1PGEubGVuZ3RoO3UrKylmb3IodmFyIGg9MDtoPGFbdV0ubGVuZ3RoO2grKylsLnB1c2gobmV3IGh1KHtzaGFwZTp7Y3g6bi5jeCxjeTpuLmN5LHI6YVt1XVtoXS5jb29yZH19KSk7dC5hZGQod2gobCx7c3R5bGU6ayh7ZmlsbDpudWxsfSxzLmdldExpbmVTdHlsZSgpKSxzaWxlbnQ6ITB9KSl9fSxzcGxpdEFyZWE6ZnVuY3Rpb24odCxlLG4saSxyLG8pe2lmKG8ubGVuZ3RoKXt2YXIgYT1lLmdldE1vZGVsKCJzcGxpdEFyZWEiKS5nZXRNb2RlbCgiYXJlYVN0eWxlIikscz1hLmdldCgiY29sb3IiKSxsPTA7cz1zIGluc3RhbmNlb2YgQXJyYXk/czpbc107Zm9yKHZhciB1PVtdLGg9b1swXS5jb29yZCxjPTE7YzxvLmxlbmd0aDtjKyspe3ZhciBwPWwrKyVzLmxlbmd0aDt1W3BdPXVbcF18fFtdLHVbcF0ucHVzaChuZXcgQ3Uoe3NoYXBlOntjeDpuLmN4LGN5Om4uY3kscjA6aCxyOm9bY10uY29vcmQsc3RhcnRBbmdsZTowLGVuZEFuZ2xlOjIqTWF0aC5QSX0sc2lsZW50OiEwfSkpLGg9b1tjXS5jb29yZH1mb3IoYz0wO2M8dS5sZW5ndGg7YysrKXQuYWRkKHdoKHVbY10se3N0eWxlOmsoe2ZpbGw6c1tjJXMubGVuZ3RoXX0sYS5nZXRBcmVhU3R5bGUoKSksc2lsZW50OiEwfSkpfX19O2Z1bmN0aW9uIFJOKHQpe3JldHVybiB0LmdldCgic3RhY2siKXx8Il9fZWNfc3RhY2tfIit0LnNlcmllc0luZGV4fWZ1bmN0aW9uIE5OKHQsZSl7cmV0dXJuIGUuZGltK3QubW9kZWwuY29tcG9uZW50SW5kZXh9ZnVuY3Rpb24gRU4odCxlLG4pe3ZhciBpPXt9LHI9ZnVuY3Rpb24odCl7dmFyIGU9e307RSh0LChmdW5jdGlvbih0LG4pe3ZhciBpPXQuZ2V0RGF0YSgpLHI9dC5jb29yZGluYXRlU3lzdGVtLG89ci5nZXRCYXNlQXhpcygpLGE9Tk4ocixvKSxzPW8uZ2V0RXh0ZW50KCksbD0iY2F0ZWdvcnkiPT09by50eXBlP28uZ2V0QmFuZFdpZHRoKCk6TWF0aC5hYnMoc1sxXS1zWzBdKS9pLmNvdW50KCksdT1lW2FdfHx7YmFuZFdpZHRoOmwscmVtYWluZWRXaWR0aDpsLGF1dG9XaWR0aENvdW50OjAsY2F0ZWdvcnlHYXA6IjIwJSIsZ2FwOiIzMCUiLHN0YWNrczp7fX0saD11LnN0YWNrcztlW2FdPXU7dmFyIGM9Uk4odCk7aFtjXXx8dS5hdXRvV2lkdGhDb3VudCsrLGhbY109aFtjXXx8e3dpZHRoOjAsbWF4V2lkdGg6MH07dmFyIHA9RXIodC5nZXQoImJhcldpZHRoIiksbCksZD1Fcih0LmdldCgiYmFyTWF4V2lkdGgiKSxsKSxmPXQuZ2V0KCJiYXJHYXAiKSxnPXQuZ2V0KCJiYXJDYXRlZ29yeUdhcCIpO3AmJiFoW2NdLndpZHRoJiYocD1NYXRoLm1pbih1LnJlbWFpbmVkV2lkdGgscCksaFtjXS53aWR0aD1wLHUucmVtYWluZWRXaWR0aC09cCksZCYmKGhbY10ubWF4V2lkdGg9ZCksbnVsbCE9ZiYmKHUuZ2FwPWYpLG51bGwhPWcmJih1LmNhdGVnb3J5R2FwPWcpfSkpO3ZhciBuPXt9O3JldHVybiBFKGUsKGZ1bmN0aW9uKHQsZSl7bltlXT17fTt2YXIgaT10LnN0YWNrcyxyPXQuYmFuZFdpZHRoLG89RXIodC5jYXRlZ29yeUdhcCxyKSxhPUVyKHQuZ2FwLDEpLHM9dC5yZW1haW5lZFdpZHRoLGw9dC5hdXRvV2lkdGhDb3VudCx1PShzLW8pLyhsKyhsLTEpKmEpO3U9TWF0aC5tYXgodSwwKSxFKGksKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5tYXhXaWR0aDtuJiZuPHUmJihuPU1hdGgubWluKG4scyksdC53aWR0aCYmKG49TWF0aC5taW4obix0LndpZHRoKSkscy09bix0LndpZHRoPW4sbC0tKX0pKSx1PShzLW8pLyhsKyhsLTEpKmEpLHU9TWF0aC5tYXgodSwwKTt2YXIgaCxjPTA7RShpLChmdW5jdGlvbih0LGUpe3Qud2lkdGh8fCh0LndpZHRoPXUpLGg9dCxjKz10LndpZHRoKigxK2EpfSkpLGgmJihjLT1oLndpZHRoKmEpO3ZhciBwPS1jLzI7RShpLChmdW5jdGlvbih0LGkpe25bZV1baV09bltlXVtpXXx8e29mZnNldDpwLHdpZHRoOnQud2lkdGh9LHArPXQud2lkdGgqKDErYSl9KSl9KSksbn0oQihlLmdldFNlcmllc0J5VHlwZSh0KSwoZnVuY3Rpb24odCl7cmV0dXJuIWUuaXNTZXJpZXNGaWx0ZXJlZCh0KSYmdC5jb29yZGluYXRlU3lzdGVtJiYicG9sYXIiPT09dC5jb29yZGluYXRlU3lzdGVtLnR5cGV9KSkpO2UuZWFjaFNlcmllc0J5VHlwZSh0LChmdW5jdGlvbih0KXtpZigicG9sYXIiPT09dC5jb29yZGluYXRlU3lzdGVtLnR5cGUpe3ZhciBlPXQuZ2V0RGF0YSgpLG49dC5jb29yZGluYXRlU3lzdGVtLG89bi5nZXRCYXNlQXhpcygpLGE9Tk4obixvKSxzPVJOKHQpLGw9clthXVtzXSx1PWwub2Zmc2V0LGg9bC53aWR0aCxjPW4uZ2V0T3RoZXJBeGlzKG8pLHA9dC5jb29yZGluYXRlU3lzdGVtLmN4LGQ9dC5jb29yZGluYXRlU3lzdGVtLmN5LGY9dC5nZXQoImJhck1pbkhlaWdodCIpfHwwLGc9dC5nZXQoImJhck1pbkFuZ2xlIil8fDA7aVtzXT1pW3NdfHxbXTtmb3IodmFyIHk9ZS5tYXBEaW1lbnNpb24oYy5kaW0pLHY9ZS5tYXBEaW1lbnNpb24oby5kaW0pLG09ZXgoZSx5KSx4PSJyYWRpdXMiIT09by5kaW18fCF0LmdldCgicm91bmRDYXAiLCEwKSxfPWMuZGF0YVRvQ29vcmQoMCksYj0wLHc9ZS5jb3VudCgpO2I8dztiKyspe3ZhciBTPWUuZ2V0KHksYiksTT1lLmdldCh2LGIpLEk9Uz49MD8icCI6Im4iLFQ9XzttJiYoaVtzXVtNXXx8KGlbc11bTV09e3A6XyxuOl99KSxUPWlbc11bTV1bSV0pO3ZhciBDPXZvaWQgMCxEPXZvaWQgMCxBPXZvaWQgMCxrPXZvaWQgMDtpZigicmFkaXVzIj09PWMuZGltKXt2YXIgTD1jLmRhdGFUb0Nvb3JkKFMpLV8sUD1vLmRhdGFUb0Nvb3JkKE0pO01hdGguYWJzKEwpPGYmJihMPShMPDA/LTE6MSkqZiksQz1ULEQ9VCtMLGs9KEE9UC11KS1oLG0mJihpW3NdW01dW0ldPUQpfWVsc2V7dmFyIE89Yy5kYXRhVG9Db29yZChTLHgpLV8sUj1vLmRhdGFUb0Nvb3JkKE0pO01hdGguYWJzKE8pPGcmJihPPShPPDA/LTE6MSkqZyksRD0oQz1SK3UpK2gsQT1ULGs9VCtPLG0mJihpW3NdW01dW0ldPWspfWUuc2V0SXRlbUxheW91dChiLHtjeDpwLGN5OmQscjA6QyxyOkQsc3RhcnRBbmdsZTotQSpNYXRoLlBJLzE4MCxlbmRBbmdsZTotaypNYXRoLlBJLzE4MCxjbG9ja3dpc2U6QT49a30pfX19KSl9dmFyIHpOPXtzdGFydEFuZ2xlOjkwLGNsb2Nrd2lzZTohMCxzcGxpdE51bWJlcjoxMixheGlzTGFiZWw6e3JvdGF0ZTowfX0sVk49e3NwbGl0TnVtYmVyOjV9LEJOPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUudHlwZT0icG9sYXIiLGV9KGdnKTtmdW5jdGlvbiBGTih0LGUpe2U9ZXx8e307dmFyIG49dC5jb29yZGluYXRlU3lzdGVtLGk9dC5heGlzLHI9e30sbz1pLnBvc2l0aW9uLGE9aS5vcmllbnQscz1uLmdldFJlY3QoKSxsPVtzLngscy54K3Mud2lkdGgscy55LHMueStzLmhlaWdodF0sdT17aG9yaXpvbnRhbDp7dG9wOmxbMl0sYm90dG9tOmxbM119LHZlcnRpY2FsOntsZWZ0OmxbMF0scmlnaHQ6bFsxXX19O3IucG9zaXRpb249WyJ2ZXJ0aWNhbCI9PT1hP3UudmVydGljYWxbb106bFswXSwiaG9yaXpvbnRhbCI9PT1hP3UuaG9yaXpvbnRhbFtvXTpsWzNdXTtyLnJvdGF0aW9uPU1hdGguUEkvMip7aG9yaXpvbnRhbDowLHZlcnRpY2FsOjF9W2FdO3IubGFiZWxEaXJlY3Rpb249ci50aWNrRGlyZWN0aW9uPXIubmFtZURpcmVjdGlvbj17dG9wOi0xLGJvdHRvbToxLHJpZ2h0OjEsbGVmdDotMX1bb10sdC5nZXQoWyJheGlzVGljayIsImluc2lkZSJdKSYmKHIudGlja0RpcmVjdGlvbj0tci50aWNrRGlyZWN0aW9uKSxpdChlLmxhYmVsSW5zaWRlLHQuZ2V0KFsiYXhpc0xhYmVsIiwiaW5zaWRlIl0pKSYmKHIubGFiZWxEaXJlY3Rpb249LXIubGFiZWxEaXJlY3Rpb24pO3ZhciBoPWUucm90YXRlO3JldHVybiBudWxsPT1oJiYoaD10LmdldChbImF4aXNMYWJlbCIsInJvdGF0ZSJdKSksci5sYWJlbFJvdGF0aW9uPSJ0b3AiPT09bz8taDpoLHIuejI9MSxyfXZhciBHTj1bImF4aXNMaW5lIiwiYXhpc1RpY2tMYWJlbCIsImF4aXNOYW1lIl0sV049WyJzcGxpdEFyZWEiLCJzcGxpdExpbmUiXSxITj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uYXhpc1BvaW50ZXJDbGFzcz0iU2luZ2xlQXhpc1BvaW50ZXIiLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oZSxuLGkscil7dmFyIG89dGhpcy5ncm91cDtvLnJlbW92ZUFsbCgpO3ZhciBhPXRoaXMuX2F4aXNHcm91cDt0aGlzLl9heGlzR3JvdXA9bmV3IENyO3ZhciBzPUZOKGUpLGw9bmV3IEZNKGUscyk7RShHTixsLmFkZCxsKSxvLmFkZCh0aGlzLl9heGlzR3JvdXApLG8uYWRkKGwuZ2V0R3JvdXAoKSksRShXTiwoZnVuY3Rpb24odCl7ZS5nZXQoW3QsInNob3ciXSkmJllOW3RdKHRoaXMsdGhpcy5ncm91cCx0aGlzLl9heGlzR3JvdXAsZSl9KSx0aGlzKSxBaChhLHRoaXMuX2F4aXNHcm91cCxlKSx0LnByb3RvdHlwZS5yZW5kZXIuY2FsbCh0aGlzLGUsbixpLHIpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXtuSSh0aGlzKX0sZS50eXBlPSJzaW5nbGVBeGlzIixlfShRTSksWU49e3NwbGl0TGluZTpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1pLmF4aXM7aWYoIXIuc2NhbGUuaXNCbGFuaygpKXt2YXIgbz1pLmdldE1vZGVsKCJzcGxpdExpbmUiKSxhPW8uZ2V0TW9kZWwoImxpbmVTdHlsZSIpLHM9YS5nZXQoImNvbG9yIik7cz1zIGluc3RhbmNlb2YgQXJyYXk/czpbc107Zm9yKHZhciBsPWkuY29vcmRpbmF0ZVN5c3RlbS5nZXRSZWN0KCksdT1yLmlzSG9yaXpvbnRhbCgpLGg9W10sYz0wLHA9ci5nZXRUaWNrc0Nvb3Jkcyh7dGlja01vZGVsOm99KSxkPVtdLGY9W10sZz0wO2c8cC5sZW5ndGg7KytnKXt2YXIgeT1yLnRvR2xvYmFsQ29vcmQocFtnXS5jb29yZCk7dT8oZFswXT15LGRbMV09bC55LGZbMF09eSxmWzFdPWwueStsLmhlaWdodCk6KGRbMF09bC54LGRbMV09eSxmWzBdPWwueCtsLndpZHRoLGZbMV09eSk7dmFyIHY9YysrJXMubGVuZ3RoO2hbdl09aFt2XXx8W10saFt2XS5wdXNoKG5ldyB6dSh7c3ViUGl4ZWxPcHRpbWl6ZTohMCxzaGFwZTp7eDE6ZFswXSx5MTpkWzFdLHgyOmZbMF0seTI6ZlsxXX0sc2lsZW50OiEwfSkpfXZhciBtPWEuZ2V0TGluZVN0eWxlKFsiY29sb3IiXSk7Zm9yKGc9MDtnPGgubGVuZ3RoOysrZyllLmFkZCh3aChoW2ddLHtzdHlsZTprKHtzdHJva2U6c1tnJXMubGVuZ3RoXX0sbSksc2lsZW50OiEwfSkpfX0sc3BsaXRBcmVhOmZ1bmN0aW9uKHQsZSxuLGkpe2VJKHQsbixpLGkpfX0sVU49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0Q29vcmRTeXNNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxlLnR5cGU9InNpbmdsZUF4aXMiLGUubGF5b3V0TW9kZT0iYm94IixlLmRlZmF1bHRPcHRpb249e2xlZnQ6IjUlIix0b3A6IjUlIixyaWdodDoiNSUiLGJvdHRvbToiNSUiLHR5cGU6InZhbHVlIixwb3NpdGlvbjoiYm90dG9tIixvcmllbnQ6Imhvcml6b250YWwiLGF4aXNMaW5lOntzaG93OiEwLGxpbmVTdHlsZTp7d2lkdGg6MSx0eXBlOiJzb2xpZCJ9fSx0b29sdGlwOntzaG93OiEwfSxheGlzVGljazp7c2hvdzohMCxsZW5ndGg6NixsaW5lU3R5bGU6e3dpZHRoOjF9fSxheGlzTGFiZWw6e3Nob3c6ITAsaW50ZXJ2YWw6ImF1dG8ifSxzcGxpdExpbmU6e3Nob3c6ITAsbGluZVN0eWxlOnt0eXBlOiJkYXNoZWQiLG9wYWNpdHk6LjJ9fX0sZX0oVHApO1IoVU4sY18ucHJvdG90eXBlKTt2YXIgWE49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSxyLG8pe3ZhciBhPXQuY2FsbCh0aGlzLGUsbixpKXx8dGhpcztyZXR1cm4gYS50eXBlPXJ8fCJ2YWx1ZSIsYS5wb3NpdGlvbj1vfHwiYm90dG9tIixhfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaXNIb3Jpem9udGFsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wb3NpdGlvbjtyZXR1cm4idG9wIj09PXR8fCJib3R0b20iPT09dH0sZS5wcm90b3R5cGUucG9pbnRUb0RhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jb29yZGluYXRlU3lzdGVtLnBvaW50VG9EYXRhKHQpWzBdfSxlfShXXyksWk49WyJzaW5nbGUiXSxqTj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMudHlwZT0ic2luZ2xlIix0aGlzLmRpbWVuc2lvbj0ic2luZ2xlIix0aGlzLmRpbWVuc2lvbnM9Wk4sdGhpcy5heGlzUG9pbnRlckVuYWJsZWQ9ITAsdGhpcy5tb2RlbD10LHRoaXMuX2luaXQodCxlLG4pfXJldHVybiB0LnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5kaW1lbnNpb24scj1uZXcgWE4oaSxyXyh0KSxbMCwwXSx0LmdldCgidHlwZSIpLHQuZ2V0KCJwb3NpdGlvbiIpKSxvPSJjYXRlZ29yeSI9PT1yLnR5cGU7ci5vbkJhbmQ9byYmdC5nZXQoImJvdW5kYXJ5R2FwIiksci5pbnZlcnNlPXQuZ2V0KCJpbnZlcnNlIiksci5vcmllbnQ9dC5nZXQoIm9yaWVudCIpLHQuYXhpcz1yLHIubW9kZWw9dCxyLmNvb3JkaW5hdGVTeXN0ZW09dGhpcyx0aGlzLl9heGlzPXJ9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe3QuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7aWYodC5jb29yZGluYXRlU3lzdGVtPT09dGhpcyl7dmFyIGU9dC5nZXREYXRhKCk7RShlLm1hcERpbWVuc2lvbnNBbGwodGhpcy5kaW1lbnNpb24pLChmdW5jdGlvbih0KXt0aGlzLl9heGlzLnNjYWxlLnVuaW9uRXh0ZW50RnJvbURhdGEoZSx0KX0pLHRoaXMpLGlfKHRoaXMuX2F4aXMuc2NhbGUsdGhpcy5fYXhpcy5tb2RlbCl9fSksdGhpcyl9LHQucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0LGUpe3RoaXMuX3JlY3Q9eHAoe2xlZnQ6dC5nZXQoImxlZnQiKSx0b3A6dC5nZXQoInRvcCIpLHJpZ2h0OnQuZ2V0KCJyaWdodCIpLGJvdHRvbTp0LmdldCgiYm90dG9tIiksd2lkdGg6dC5nZXQoIndpZHRoIiksaGVpZ2h0OnQuZ2V0KCJoZWlnaHQiKX0se3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0pLHRoaXMuX2FkanVzdEF4aXMoKX0sdC5wcm90b3R5cGUuZ2V0UmVjdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWN0fSx0LnByb3RvdHlwZS5fYWRqdXN0QXhpcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3JlY3QsZT10aGlzLl9heGlzLG49ZS5pc0hvcml6b250YWwoKSxpPW4/WzAsdC53aWR0aF06WzAsdC5oZWlnaHRdLHI9ZS5yZXZlcnNlPzE6MDtlLnNldEV4dGVudChpW3JdLGlbMS1yXSksdGhpcy5fdXBkYXRlQXhpc1RyYW5zZm9ybShlLG4/dC54OnQueSl9LHQucHJvdG90eXBlLl91cGRhdGVBeGlzVHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRFeHRlbnQoKSxpPW5bMF0rblsxXSxyPXQuaXNIb3Jpem9udGFsKCk7dC50b0dsb2JhbENvb3JkPXI/ZnVuY3Rpb24odCl7cmV0dXJuIHQrZX06ZnVuY3Rpb24odCl7cmV0dXJuIGktdCtlfSx0LnRvTG9jYWxDb29yZD1yP2Z1bmN0aW9uKHQpe3JldHVybiB0LWV9OmZ1bmN0aW9uKHQpe3JldHVybiBpLXQrZX19LHQucHJvdG90eXBlLmdldEF4aXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXhpc30sdC5wcm90b3R5cGUuZ2V0QmFzZUF4aXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXhpc30sdC5wcm90b3R5cGUuZ2V0QXhlcz1mdW5jdGlvbigpe3JldHVyblt0aGlzLl9heGlzXX0sdC5wcm90b3R5cGUuZ2V0VG9vbHRpcEF4ZXM9ZnVuY3Rpb24oKXtyZXR1cm57YmFzZUF4ZXM6W3RoaXMuZ2V0QXhpcygpXSxvdGhlckF4ZXM6W119fSx0LnByb3RvdHlwZS5jb250YWluUG9pbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRSZWN0KCksbj10aGlzLmdldEF4aXMoKTtyZXR1cm4iaG9yaXpvbnRhbCI9PT1uLm9yaWVudD9uLmNvbnRhaW4obi50b0xvY2FsQ29vcmQodFswXSkpJiZ0WzFdPj1lLnkmJnRbMV08PWUueStlLmhlaWdodDpuLmNvbnRhaW4obi50b0xvY2FsQ29vcmQodFsxXSkpJiZ0WzBdPj1lLnkmJnRbMF08PWUueStlLmhlaWdodH0sdC5wcm90b3R5cGUucG9pbnRUb0RhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRBeGlzKCk7cmV0dXJuW2UuY29vcmRUb0RhdGEoZS50b0xvY2FsQ29vcmQodFsiaG9yaXpvbnRhbCI9PT1lLm9yaWVudD8wOjFdKSldfSx0LnByb3RvdHlwZS5kYXRhVG9Qb2ludD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEF4aXMoKSxuPXRoaXMuZ2V0UmVjdCgpLGk9W10scj0iaG9yaXpvbnRhbCI9PT1lLm9yaWVudD8wOjE7cmV0dXJuIHQgaW5zdGFuY2VvZiBBcnJheSYmKHQ9dFswXSksaVtyXT1lLnRvR2xvYmFsQ29vcmQoZS5kYXRhVG9Db29yZCgrdCkpLGlbMS1yXT0wPT09cj9uLnkrbi5oZWlnaHQvMjpuLngrbi53aWR0aC8yLGl9LHQucHJvdG90eXBlLmNvbnZlcnRUb1BpeGVsPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gcU4oZSk9PT10aGlzP3RoaXMuZGF0YVRvUG9pbnQobik6bnVsbH0sdC5wcm90b3R5cGUuY29udmVydEZyb21QaXhlbD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHFOKGUpPT09dGhpcz90aGlzLnBvaW50VG9EYXRhKG4pOm51bGx9LHR9KCk7ZnVuY3Rpb24gcU4odCl7dmFyIGU9dC5zZXJpZXNNb2RlbCxuPXQuc2luZ2xlQXhpc01vZGVsO3JldHVybiBuJiZuLmNvb3JkaW5hdGVTeXN0ZW18fGUmJmUuY29vcmRpbmF0ZVN5c3RlbX12YXIgS049e2NyZWF0ZTpmdW5jdGlvbih0LGUpe3ZhciBuPVtdO3JldHVybiB0LmVhY2hDb21wb25lbnQoInNpbmdsZUF4aXMiLChmdW5jdGlvbihpLHIpe3ZhciBvPW5ldyBqTihpLHQsZSk7by5uYW1lPSJzaW5nbGVfIityLG8ucmVzaXplKGksZSksaS5jb29yZGluYXRlU3lzdGVtPW8sbi5wdXNoKG8pfSkpLHQuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7aWYoInNpbmdsZUF4aXMiPT09dC5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKSl7dmFyIGU9dC5nZXRSZWZlcnJpbmdDb21wb25lbnRzKCJzaW5nbGVBeGlzIixDbykubW9kZWxzWzBdO3QuY29vcmRpbmF0ZVN5c3RlbT1lJiZlLmNvb3JkaW5hdGVTeXN0ZW19fSkpLG59LGRpbWVuc2lvbnM6Wk59LCROPVsieCIsInkiXSxKTj1bIndpZHRoIiwiaGVpZ2h0Il0sUU49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5tYWtlRWxPcHRpb249ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1uLmF4aXMsYT1vLmNvb3JkaW5hdGVTeXN0ZW0scz1uRShhLDEtZUUobykpLGw9YS5kYXRhVG9Qb2ludChlKVswXSx1PWkuZ2V0KCJ0eXBlIik7aWYodSYmIm5vbmUiIT09dSl7dmFyIGg9UlIoaSksYz10RVt1XShvLGwscyk7Yy5zdHlsZT1oLHQuZ3JhcGhpY0tleT1jLnR5cGUsdC5wb2ludGVyPWN9VlIoZSx0LEZOKG4pLG4saSxyKX0sZS5wcm90b3R5cGUuZ2V0SGFuZGxlVHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1GTihlLHtsYWJlbEluc2lkZTohMX0pO2kubGFiZWxNYXJnaW49bi5nZXQoWyJoYW5kbGUiLCJtYXJnaW4iXSk7dmFyIHI9elIoZS5heGlzLHQsaSk7cmV0dXJue3g6clswXSx5OnJbMV0scm90YXRpb246aS5yb3RhdGlvbisoaS5sYWJlbERpcmVjdGlvbjwwP01hdGguUEk6MCl9fSxlLnByb3RvdHlwZS51cGRhdGVIYW5kbGVUcmFuc2Zvcm09ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bi5heGlzLG89ci5jb29yZGluYXRlU3lzdGVtLGE9ZUUocikscz1uRShvLGEpLGw9W3QueCx0LnldO2xbYV0rPWVbYV0sbFthXT1NYXRoLm1pbihzWzFdLGxbYV0pLGxbYV09TWF0aC5tYXgoc1swXSxsW2FdKTt2YXIgdT1uRShvLDEtYSksaD0odVsxXSt1WzBdKS8yLGM9W2gsaF07cmV0dXJuIGNbYV09bFthXSx7eDpsWzBdLHk6bFsxXSxyb3RhdGlvbjp0LnJvdGF0aW9uLGN1cnNvclBvaW50OmMsdG9vbHRpcE9wdGlvbjp7dmVydGljYWxBbGlnbjoibWlkZGxlIn19fSxlfShEUiksdEU9e2xpbmU6ZnVuY3Rpb24odCxlLG4pe3JldHVybnt0eXBlOiJMaW5lIixzdWJQaXhlbE9wdGltaXplOiEwLHNoYXBlOkJSKFtlLG5bMF1dLFtlLG5bMV1dLGVFKHQpKX19LHNoYWRvdzpmdW5jdGlvbih0LGUsbil7dmFyIGk9dC5nZXRCYW5kV2lkdGgoKSxyPW5bMV0tblswXTtyZXR1cm57dHlwZToiUmVjdCIsc2hhcGU6RlIoW2UtaS8yLG5bMF1dLFtpLHJdLGVFKHQpKX19fTtmdW5jdGlvbiBlRSh0KXtyZXR1cm4gdC5pc0hvcml6b250YWwoKT8wOjF9ZnVuY3Rpb24gbkUodCxlKXt2YXIgbj10LmdldFJlY3QoKTtyZXR1cm5bblskTltlXV0sblskTltlXV0rbltKTltlXV1dfXZhciBpRT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnR5cGU9InNpbmdsZSIsZX0oZ2cpO3ZhciByRT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUsbixpKXt2YXIgcj1TcChlKTt0LnByb3RvdHlwZS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxvRShlLHIpfSxlLnByb3RvdHlwZS5tZXJnZU9wdGlvbj1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5tZXJnZU9wdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyksb0UodGhpcy5vcHRpb24sZSl9LGUucHJvdG90eXBlLmdldENlbGxTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uLmNlbGxTaXplfSxlLnR5cGU9ImNhbGVuZGFyIixlLmRlZmF1bHRPcHRpb249e3o6MixsZWZ0OjgwLHRvcDo2MCxjZWxsU2l6ZToyMCxvcmllbnQ6Imhvcml6b250YWwiLHNwbGl0TGluZTp7c2hvdzohMCxsaW5lU3R5bGU6e2NvbG9yOiIjMDAwIix3aWR0aDoxLHR5cGU6InNvbGlkIn19LGl0ZW1TdHlsZTp7Y29sb3I6IiNmZmYiLGJvcmRlcldpZHRoOjEsYm9yZGVyQ29sb3I6IiNjY2MifSxkYXlMYWJlbDp7c2hvdzohMCxmaXJzdERheTowLHBvc2l0aW9uOiJzdGFydCIsbWFyZ2luOiI1MCUiLGNvbG9yOiIjMDAwIn0sbW9udGhMYWJlbDp7c2hvdzohMCxwb3NpdGlvbjoic3RhcnQiLG1hcmdpbjo1LGFsaWduOiJjZW50ZXIiLGZvcm1hdHRlcjpudWxsLGNvbG9yOiIjMDAwIn0seWVhckxhYmVsOntzaG93OiEwLHBvc2l0aW9uOm51bGwsbWFyZ2luOjMwLGZvcm1hdHRlcjpudWxsLGNvbG9yOiIjY2NjIixmb250RmFtaWx5OiJzYW5zLXNlcmlmIixmb250V2VpZ2h0OiJib2xkZXIiLGZvbnRTaXplOjIwfX0sZX0oVHApO2Z1bmN0aW9uIG9FKHQsZSl7dmFyIG4saT10LmNlbGxTaXplOzE9PT0obj1ZKGkpP2k6dC5jZWxsU2l6ZT1baSxpXSkubGVuZ3RoJiYoblsxXT1uWzBdKTt2YXIgcj16KFswLDFdLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbCE9dFt5cFtlXVswXV18fG51bGwhPXRbeXBbZV1bMV1dJiZudWxsIT10W3lwW2VdWzJdXX0oZSx0KSYmKG5bdF09ImF1dG8iKSxudWxsIT1uW3RdJiYiYXV0byIhPT1uW3RdfSkpO3dwKHQsZSx7dHlwZToiYm94IixpZ25vcmVTaXplOnJ9KX12YXIgYUU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmdyb3VwO2kucmVtb3ZlQWxsKCk7dmFyIHI9dC5jb29yZGluYXRlU3lzdGVtLG89ci5nZXRSYW5nZUluZm8oKSxhPXIuZ2V0T3JpZW50KCkscz1lLmdldExvY2FsZU1vZGVsKCk7dGhpcy5fcmVuZGVyRGF5UmVjdCh0LG8saSksdGhpcy5fcmVuZGVyTGluZXModCxvLGEsaSksdGhpcy5fcmVuZGVyWWVhclRleHQodCxvLGEsaSksdGhpcy5fcmVuZGVyTW9udGhUZXh0KHQscyxhLGkpLHRoaXMuX3JlbmRlcldlZWtUZXh0KHQscyxvLGEsaSl9LGUucHJvdG90eXBlLl9yZW5kZXJEYXlSZWN0PWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dC5jb29yZGluYXRlU3lzdGVtLHI9dC5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCksbz1pLmdldENlbGxXaWR0aCgpLGE9aS5nZXRDZWxsSGVpZ2h0KCkscz1lLnN0YXJ0LnRpbWU7czw9ZS5lbmQudGltZTtzPWkuZ2V0TmV4dE5EYXkocywxKS50aW1lKXt2YXIgbD1pLmRhdGFUb1JlY3QoW3NdLCExKS50bCx1PW5ldyBDcyh7c2hhcGU6e3g6bFswXSx5OmxbMV0sd2lkdGg6byxoZWlnaHQ6YX0sY3Vyc29yOiJkZWZhdWx0IixzdHlsZTpyfSk7bi5hZGQodSl9fSxlLnByb3RvdHlwZS5fcmVuZGVyTGluZXM9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcyxvPXQuY29vcmRpbmF0ZVN5c3RlbSxhPXQuZ2V0TW9kZWwoWyJzcGxpdExpbmUiLCJsaW5lU3R5bGUiXSkuZ2V0TGluZVN0eWxlKCkscz10LmdldChbInNwbGl0TGluZSIsInNob3ciXSksbD1hLmxpbmVXaWR0aDt0aGlzLl90bHBvaW50cz1bXSx0aGlzLl9ibHBvaW50cz1bXSx0aGlzLl9maXJzdERheU9mTW9udGg9W10sdGhpcy5fZmlyc3REYXlQb2ludHM9W107Zm9yKHZhciB1PWUuc3RhcnQsaD0wO3UudGltZTw9ZS5lbmQudGltZTtoKyspe3AodS5mb3JtYXRlZERhdGUpLDA9PT1oJiYodT1vLmdldERhdGVJbmZvKGUuc3RhcnQueSsiLSIrZS5zdGFydC5tKSk7dmFyIGM9dS5kYXRlO2Muc2V0TW9udGgoYy5nZXRNb250aCgpKzEpLHU9by5nZXREYXRlSW5mbyhjKX1mdW5jdGlvbiBwKGUpe3IuX2ZpcnN0RGF5T2ZNb250aC5wdXNoKG8uZ2V0RGF0ZUluZm8oZSkpLHIuX2ZpcnN0RGF5UG9pbnRzLnB1c2goby5kYXRhVG9SZWN0KFtlXSwhMSkudGwpO3ZhciBsPXIuX2dldExpbmVQb2ludHNPZk9uZVdlZWsodCxlLG4pO3IuX3RscG9pbnRzLnB1c2gobFswXSksci5fYmxwb2ludHMucHVzaChsW2wubGVuZ3RoLTFdKSxzJiZyLl9kcmF3U3BsaXRsaW5lKGwsYSxpKX1wKG8uZ2V0TmV4dE5EYXkoZS5lbmQudGltZSwxKS5mb3JtYXRlZERhdGUpLHMmJnRoaXMuX2RyYXdTcGxpdGxpbmUoci5fZ2V0RWRnZXNQb2ludHMoci5fdGxwb2ludHMsbCxuKSxhLGkpLHMmJnRoaXMuX2RyYXdTcGxpdGxpbmUoci5fZ2V0RWRnZXNQb2ludHMoci5fYmxwb2ludHMsbCxuKSxhLGkpfSxlLnByb3RvdHlwZS5fZ2V0RWRnZXNQb2ludHM9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPVt0WzBdLnNsaWNlKCksdFt0Lmxlbmd0aC0xXS5zbGljZSgpXSxyPSJob3Jpem9udGFsIj09PW4/MDoxO3JldHVybiBpWzBdW3JdPWlbMF1bcl0tZS8yLGlbMV1bcl09aVsxXVtyXStlLzIsaX0sZS5wcm90b3R5cGUuX2RyYXdTcGxpdGxpbmU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPW5ldyBSdSh7ejI6MjAsc2hhcGU6e3BvaW50czp0fSxzdHlsZTplfSk7bi5hZGQoaSl9LGUucHJvdG90eXBlLl9nZXRMaW5lUG9pbnRzT2ZPbmVXZWVrPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dC5jb29yZGluYXRlU3lzdGVtLHI9aS5nZXREYXRlSW5mbyhlKSxvPVtdLGE9MDthPDc7YSsrKXt2YXIgcz1pLmdldE5leHRORGF5KHIudGltZSxhKSxsPWkuZGF0YVRvUmVjdChbcy50aW1lXSwhMSk7b1syKnMuZGF5XT1sLnRsLG9bMipzLmRheSsxXT1sWyJob3Jpem9udGFsIj09PW4/ImJsIjoidHIiXX1yZXR1cm4gb30sZS5wcm90b3R5cGUuX2Zvcm1hdHRlckxhYmVsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFgodCkmJnQ/KG49dCxFKGUsKGZ1bmN0aW9uKHQsZSl7bj1uLnJlcGxhY2UoInsiK2UrIn0iLGk/YXAodCk6dCl9KSksbik6VSh0KT90KGUpOmUubmFtZU1hcDt2YXIgbixpfSxlLnByb3RvdHlwZS5feWVhclRleHRQb3NpdGlvbkNvbnRyb2w9ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1lWzBdLGE9ZVsxXSxzPVsiY2VudGVyIiwiYm90dG9tIl07ImJvdHRvbSI9PT1pPyhhKz1yLHM9WyJjZW50ZXIiLCJ0b3AiXSk6ImxlZnQiPT09aT9vLT1yOiJyaWdodCI9PT1pPyhvKz1yLHM9WyJjZW50ZXIiLCJ0b3AiXSk6YS09cjt2YXIgbD0wO3JldHVybiJsZWZ0IiE9PWkmJiJyaWdodCIhPT1pfHwobD1NYXRoLlBJLzIpLHtyb3RhdGlvbjpsLHg6byx5OmEsc3R5bGU6e2FsaWduOnNbMF0sdmVydGljYWxBbGlnbjpzWzFdfX19LGUucHJvdG90eXBlLl9yZW5kZXJZZWFyVGV4dD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmdldE1vZGVsKCJ5ZWFyTGFiZWwiKTtpZihyLmdldCgic2hvdyIpKXt2YXIgbz1yLmdldCgibWFyZ2luIiksYT1yLmdldCgicG9zaXRpb24iKTthfHwoYT0iaG9yaXpvbnRhbCIhPT1uPyJ0b3AiOiJsZWZ0Iik7dmFyIHM9W3RoaXMuX3RscG9pbnRzW3RoaXMuX3RscG9pbnRzLmxlbmd0aC0xXSx0aGlzLl9ibHBvaW50c1swXV0sbD0oc1swXVswXStzWzFdWzBdKS8yLHU9KHNbMF1bMV0rc1sxXVsxXSkvMixoPSJob3Jpem9udGFsIj09PW4/MDoxLGM9e3RvcDpbbCxzW2hdWzFdXSxib3R0b206W2wsc1sxLWhdWzFdXSxsZWZ0OltzWzEtaF1bMF0sdV0scmlnaHQ6W3NbaF1bMF0sdV19LHA9ZS5zdGFydC55OytlLmVuZC55PitlLnN0YXJ0LnkmJihwPXArIi0iK2UuZW5kLnkpO3ZhciBkPXIuZ2V0KCJmb3JtYXR0ZXIiKSxmPXtzdGFydDplLnN0YXJ0LnksZW5kOmUuZW5kLnksbmFtZU1hcDpwfSxnPXRoaXMuX2Zvcm1hdHRlckxhYmVsKGQsZikseT1uZXcga3Moe3oyOjMwLHN0eWxlOlVoKHIse3RleHQ6Z30pfSk7eS5hdHRyKHRoaXMuX3llYXJUZXh0UG9zaXRpb25Db250cm9sKHksY1thXSxuLGEsbykpLGkuYWRkKHkpfX0sZS5wcm90b3R5cGUuX21vbnRoVGV4dFBvc2l0aW9uQ29udHJvbD1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPSJsZWZ0IixhPSJ0b3AiLHM9dFswXSxsPXRbMV07cmV0dXJuImhvcml6b250YWwiPT09bj8obCs9cixlJiYobz0iY2VudGVyIiksInN0YXJ0Ij09PWkmJihhPSJib3R0b20iKSk6KHMrPXIsZSYmKGE9Im1pZGRsZSIpLCJzdGFydCI9PT1pJiYobz0icmlnaHQiKSkse3g6cyx5OmwsYWxpZ246byx2ZXJ0aWNhbEFsaWduOmF9fSxlLnByb3RvdHlwZS5fcmVuZGVyTW9udGhUZXh0PWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXQuZ2V0TW9kZWwoIm1vbnRoTGFiZWwiKTtpZihyLmdldCgic2hvdyIpKXt2YXIgbz1yLmdldCgibmFtZU1hcCIpLGE9ci5nZXQoIm1hcmdpbiIpLHM9ci5nZXQoInBvc2l0aW9uIiksbD1yLmdldCgiYWxpZ24iKSx1PVt0aGlzLl90bHBvaW50cyx0aGlzLl9ibHBvaW50c107byYmIVgobyl8fChvJiYoZT1NYyhvKXx8ZSksbz1lLmdldChbInRpbWUiLCJtb250aEFiYnIiXSl8fFtdKTt2YXIgaD0ic3RhcnQiPT09cz8wOjEsYz0iaG9yaXpvbnRhbCI9PT1uPzA6MTthPSJzdGFydCI9PT1zPy1hOmE7Zm9yKHZhciBwPSJjZW50ZXIiPT09bCxkPTA7ZDx1W2hdLmxlbmd0aC0xO2QrKyl7dmFyIGY9dVtoXVtkXS5zbGljZSgpLGc9dGhpcy5fZmlyc3REYXlPZk1vbnRoW2RdO2lmKHApe3ZhciB5PXRoaXMuX2ZpcnN0RGF5UG9pbnRzW2RdO2ZbY109KHlbY10rdVswXVtkKzFdW2NdKS8yfXZhciB2PXIuZ2V0KCJmb3JtYXR0ZXIiKSxtPW9bK2cubS0xXSx4PXt5eXl5OmcueSx5eTooZy55KyIiKS5zbGljZSgyKSxNTTpnLm0sTTorZy5tLG5hbWVNYXA6bX0sXz10aGlzLl9mb3JtYXR0ZXJMYWJlbCh2LHgpLGI9bmV3IGtzKHt6MjozMCxzdHlsZTpBKFVoKHIse3RleHQ6X30pLHRoaXMuX21vbnRoVGV4dFBvc2l0aW9uQ29udHJvbChmLHAsbixzLGEpKX0pO2kuYWRkKGIpfX19LGUucHJvdG90eXBlLl93ZWVrVGV4dFBvc2l0aW9uQ29udHJvbD1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPSJjZW50ZXIiLGE9Im1pZGRsZSIscz10WzBdLGw9dFsxXSx1PSJzdGFydCI9PT1uO3JldHVybiJob3Jpem9udGFsIj09PWU/KHM9cytpKyh1PzE6LTEpKnJbMF0vMixvPXU/InJpZ2h0IjoibGVmdCIpOihsPWwraSsodT8xOi0xKSpyWzFdLzIsYT11PyJib3R0b20iOiJ0b3AiKSx7eDpzLHk6bCxhbGlnbjpvLHZlcnRpY2FsQWxpZ246YX19LGUucHJvdG90eXBlLl9yZW5kZXJXZWVrVGV4dD1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPXQuZ2V0TW9kZWwoImRheUxhYmVsIik7aWYoby5nZXQoInNob3ciKSl7dmFyIGE9dC5jb29yZGluYXRlU3lzdGVtLHM9by5nZXQoInBvc2l0aW9uIiksbD1vLmdldCgibmFtZU1hcCIpLHU9by5nZXQoIm1hcmdpbiIpLGg9YS5nZXRGaXJzdERheU9mV2VlaygpO2lmKCFsfHxYKGwpKWwmJihlPU1jKGwpfHxlKSxsPWUuZ2V0KFsidGltZSIsImRheU9mV2Vla1Nob3J0Il0pfHx6KGUuZ2V0KFsidGltZSIsImRheU9mV2Vla0FiYnIiXSksKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfSkpO3ZhciBjPWEuZ2V0TmV4dE5EYXkobi5lbmQudGltZSw3LW4ubHdlZWspLnRpbWUscD1bYS5nZXRDZWxsV2lkdGgoKSxhLmdldENlbGxIZWlnaHQoKV07dT1Fcih1LE1hdGgubWluKHBbMV0scFswXSkpLCJzdGFydCI9PT1zJiYoYz1hLmdldE5leHRORGF5KG4uc3RhcnQudGltZSwtKDcrbi5md2VlaykpLnRpbWUsdT0tdSk7Zm9yKHZhciBkPTA7ZDw3O2QrKyl7dmFyIGYsZz1hLmdldE5leHRORGF5KGMsZCkseT1hLmRhdGFUb1JlY3QoW2cudGltZV0sITEpLmNlbnRlcjtmPU1hdGguYWJzKChkK2gpJTcpO3ZhciB2PW5ldyBrcyh7ejI6MzAsc3R5bGU6QShVaChvLHt0ZXh0OmxbZl19KSx0aGlzLl93ZWVrVGV4dFBvc2l0aW9uQ29udHJvbCh5LGkscyx1LHApKX0pO3IuYWRkKHYpfX19LGUudHlwZT0iY2FsZW5kYXIiLGV9KGdnKSxzRT04NjRlNSxsRT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuLGkpe3RoaXMudHlwZT0iY2FsZW5kYXIiLHRoaXMuZGltZW5zaW9ucz10LmRpbWVuc2lvbnMsdGhpcy5nZXREaW1lbnNpb25zSW5mbz10LmdldERpbWVuc2lvbnNJbmZvLHRoaXMuX21vZGVsPWV9cmV0dXJuIHQuZ2V0RGltZW5zaW9uc0luZm89ZnVuY3Rpb24oKXtyZXR1cm5be25hbWU6InRpbWUiLHR5cGU6InRpbWUifSwidmFsdWUiXX0sdC5wcm90b3R5cGUuZ2V0UmFuZ2VJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JhbmdlSW5mb30sdC5wcm90b3R5cGUuZ2V0TW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9kZWx9LHQucHJvdG90eXBlLmdldFJlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVjdH0sdC5wcm90b3R5cGUuZ2V0Q2VsbFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N3fSx0LnByb3RvdHlwZS5nZXRDZWxsSGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NofSx0LnByb3RvdHlwZS5nZXRPcmllbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3JpZW50fSx0LnByb3RvdHlwZS5nZXRGaXJzdERheU9mV2Vlaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9maXJzdERheU9mV2Vla30sdC5wcm90b3R5cGUuZ2V0RGF0ZUluZm89ZnVuY3Rpb24odCl7dmFyIGU9KHQ9anIodCkpLmdldEZ1bGxZZWFyKCksbj10LmdldE1vbnRoKCkrMSxpPW48MTA/IjAiK246IiIrbixyPXQuZ2V0RGF0ZSgpLG89cjwxMD8iMCIrcjoiIityLGE9dC5nZXREYXkoKTtyZXR1cm57eTplKyIiLG06aSxkOm8sZGF5OmE9TWF0aC5hYnMoKGErNy10aGlzLmdldEZpcnN0RGF5T2ZXZWVrKCkpJTcpLHRpbWU6dC5nZXRUaW1lKCksZm9ybWF0ZWREYXRlOmUrIi0iK2krIi0iK28sZGF0ZTp0fX0sdC5wcm90b3R5cGUuZ2V0TmV4dE5EYXk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gMD09PShlPWV8fDApfHwodD1uZXcgRGF0ZSh0aGlzLmdldERhdGVJbmZvKHQpLnRpbWUpKS5zZXREYXRlKHQuZ2V0RGF0ZSgpK2UpLHRoaXMuZ2V0RGF0ZUluZm8odCl9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe3RoaXMuX2ZpcnN0RGF5T2ZXZWVrPSt0aGlzLl9tb2RlbC5nZXRNb2RlbCgiZGF5TGFiZWwiKS5nZXQoImZpcnN0RGF5IiksdGhpcy5fb3JpZW50PXRoaXMuX21vZGVsLmdldCgib3JpZW50IiksdGhpcy5fbGluZVdpZHRoPXRoaXMuX21vZGVsLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKS5saW5lV2lkdGh8fDAsdGhpcy5fcmFuZ2VJbmZvPXRoaXMuX2dldFJhbmdlSW5mbyh0aGlzLl9pbml0UmFuZ2VPcHRpb24oKSk7dmFyIG49dGhpcy5fcmFuZ2VJbmZvLndlZWtzfHwxLGk9WyJ3aWR0aCIsImhlaWdodCJdLHI9dGhpcy5fbW9kZWwuZ2V0Q2VsbFNpemUoKS5zbGljZSgpLG89dGhpcy5fbW9kZWwuZ2V0Qm94TGF5b3V0UGFyYW1zKCksYT0iaG9yaXpvbnRhbCI9PT10aGlzLl9vcmllbnQ/W24sN106Wzcsbl07RShbMCwxXSwoZnVuY3Rpb24odCl7dShyLHQpJiYob1tpW3RdXT1yW3RdKmFbdF0pfSkpO3ZhciBzPXt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9LGw9dGhpcy5fcmVjdD14cChvLHMpO2Z1bmN0aW9uIHUodCxlKXtyZXR1cm4gbnVsbCE9dFtlXSYmImF1dG8iIT09dFtlXX1FKFswLDFdLChmdW5jdGlvbih0KXt1KHIsdCl8fChyW3RdPWxbaVt0XV0vYVt0XSl9KSksdGhpcy5fc3c9clswXSx0aGlzLl9zaD1yWzFdfSx0LnByb3RvdHlwZS5kYXRhVG9Qb2ludD1mdW5jdGlvbih0LGUpe1kodCkmJih0PXRbMF0pLG51bGw9PWUmJihlPSEwKTt2YXIgbj10aGlzLmdldERhdGVJbmZvKHQpLGk9dGhpcy5fcmFuZ2VJbmZvLHI9bi5mb3JtYXRlZERhdGU7aWYoZSYmIShuLnRpbWU+PWkuc3RhcnQudGltZSYmbi50aW1lPGkuZW5kLnRpbWUrc0UpKXJldHVybltOYU4sTmFOXTt2YXIgbz1uLmRheSxhPXRoaXMuX2dldFJhbmdlSW5mbyhbaS5zdGFydC50aW1lLHJdKS5udGhXZWVrO3JldHVybiJ2ZXJ0aWNhbCI9PT10aGlzLl9vcmllbnQ/W3RoaXMuX3JlY3QueCtvKnRoaXMuX3N3K3RoaXMuX3N3LzIsdGhpcy5fcmVjdC55K2EqdGhpcy5fc2grdGhpcy5fc2gvMl06W3RoaXMuX3JlY3QueCthKnRoaXMuX3N3K3RoaXMuX3N3LzIsdGhpcy5fcmVjdC55K28qdGhpcy5fc2grdGhpcy5fc2gvMl19LHQucHJvdG90eXBlLnBvaW50VG9EYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucG9pbnRUb0RhdGUodCk7cmV0dXJuIGUmJmUudGltZX0sdC5wcm90b3R5cGUuZGF0YVRvUmVjdD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZGF0YVRvUG9pbnQodCxlKTtyZXR1cm57Y29udGVudFNoYXBlOnt4Om5bMF0tKHRoaXMuX3N3LXRoaXMuX2xpbmVXaWR0aCkvMix5Om5bMV0tKHRoaXMuX3NoLXRoaXMuX2xpbmVXaWR0aCkvMix3aWR0aDp0aGlzLl9zdy10aGlzLl9saW5lV2lkdGgsaGVpZ2h0OnRoaXMuX3NoLXRoaXMuX2xpbmVXaWR0aH0sY2VudGVyOm4sdGw6W25bMF0tdGhpcy5fc3cvMixuWzFdLXRoaXMuX3NoLzJdLHRyOltuWzBdK3RoaXMuX3N3LzIsblsxXS10aGlzLl9zaC8yXSxicjpbblswXSt0aGlzLl9zdy8yLG5bMV0rdGhpcy5fc2gvMl0sYmw6W25bMF0tdGhpcy5fc3cvMixuWzFdK3RoaXMuX3NoLzJdfX0sdC5wcm90b3R5cGUucG9pbnRUb0RhdGU9ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5mbG9vcigodFswXS10aGlzLl9yZWN0LngpL3RoaXMuX3N3KSsxLG49TWF0aC5mbG9vcigodFsxXS10aGlzLl9yZWN0LnkpL3RoaXMuX3NoKSsxLGk9dGhpcy5fcmFuZ2VJbmZvLnJhbmdlO3JldHVybiJ2ZXJ0aWNhbCI9PT10aGlzLl9vcmllbnQ/dGhpcy5fZ2V0RGF0ZUJ5V2Vla3NBbmREYXkobixlLTEsaSk6dGhpcy5fZ2V0RGF0ZUJ5V2Vla3NBbmREYXkoZSxuLTEsaSl9LHQucHJvdG90eXBlLmNvbnZlcnRUb1BpeGVsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT11RShlKTtyZXR1cm4gaT09PXRoaXM/aS5kYXRhVG9Qb2ludChuKTpudWxsfSx0LnByb3RvdHlwZS5jb252ZXJ0RnJvbVBpeGVsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT11RShlKTtyZXR1cm4gaT09PXRoaXM/aS5wb2ludFRvRGF0YShuKTpudWxsfSx0LnByb3RvdHlwZS5jb250YWluUG9pbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiTm90IGltcGxlbWVudGVkLiIpLCExfSx0LnByb3RvdHlwZS5faW5pdFJhbmdlT3B0aW9uPWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLl9tb2RlbC5nZXQoInJhbmdlIik7aWYoWShlKSYmMT09PWUubGVuZ3RoJiYoZT1lWzBdKSxZKGUpKXQ9ZTtlbHNle3ZhciBuPWUudG9TdHJpbmcoKTtpZigvXlxkezR9JC8udGVzdChuKSYmKHQ9W24rIi0wMS0wMSIsbisiLTEyLTMxIl0pLC9eXGR7NH1bXC98LV1cZHsxLDJ9JC8udGVzdChuKSl7dmFyIGk9dGhpcy5nZXREYXRlSW5mbyhuKSxyPWkuZGF0ZTtyLnNldE1vbnRoKHIuZ2V0TW9udGgoKSsxKTt2YXIgbz10aGlzLmdldE5leHRORGF5KHIsLTEpO3Q9W2kuZm9ybWF0ZWREYXRlLG8uZm9ybWF0ZWREYXRlXX0vXlxkezR9W1wvfC1dXGR7MSwyfVtcL3wtXVxkezEsMn0kLy50ZXN0KG4pJiYodD1bbixuXSl9aWYoIXQpcmV0dXJuIGU7dmFyIGE9dGhpcy5fZ2V0UmFuZ2VJbmZvKHQpO3JldHVybiBhLnN0YXJ0LnRpbWU+YS5lbmQudGltZSYmdC5yZXZlcnNlKCksdH0sdC5wcm90b3R5cGUuX2dldFJhbmdlSW5mbz1mdW5jdGlvbih0KXt2YXIgZSxuPVt0aGlzLmdldERhdGVJbmZvKHRbMF0pLHRoaXMuZ2V0RGF0ZUluZm8odFsxXSldO25bMF0udGltZT5uWzFdLnRpbWUmJihlPSEwLG4ucmV2ZXJzZSgpKTt2YXIgaT1NYXRoLmZsb29yKG5bMV0udGltZS9zRSktTWF0aC5mbG9vcihuWzBdLnRpbWUvc0UpKzEscj1uZXcgRGF0ZShuWzBdLnRpbWUpLG89ci5nZXREYXRlKCksYT1uWzFdLmRhdGUuZ2V0RGF0ZSgpO3Iuc2V0RGF0ZShvK2ktMSk7dmFyIHM9ci5nZXREYXRlKCk7aWYocyE9PWEpZm9yKHZhciBsPXIuZ2V0VGltZSgpLW5bMV0udGltZT4wPzE6LTE7KHM9ci5nZXREYXRlKCkpIT09YSYmKHIuZ2V0VGltZSgpLW5bMV0udGltZSkqbD4wOylpLT1sLHIuc2V0RGF0ZShzLWwpO3ZhciB1PU1hdGguZmxvb3IoKGkrblswXS5kYXkrNikvNyksaD1lPzEtdTp1LTE7cmV0dXJuIGUmJm4ucmV2ZXJzZSgpLHtyYW5nZTpbblswXS5mb3JtYXRlZERhdGUsblsxXS5mb3JtYXRlZERhdGVdLHN0YXJ0Om5bMF0sZW5kOm5bMV0sYWxsRGF5Omksd2Vla3M6dSxudGhXZWVrOmgsZndlZWs6blswXS5kYXksbHdlZWs6blsxXS5kYXl9fSx0LnByb3RvdHlwZS5fZ2V0RGF0ZUJ5V2Vla3NBbmREYXk9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuX2dldFJhbmdlSW5mbyhuKTtpZih0Pmkud2Vla3N8fDA9PT10JiZlPGkuZndlZWt8fHQ9PT1pLndlZWtzJiZlPmkubHdlZWspcmV0dXJuIG51bGw7dmFyIHI9NyoodC0xKS1pLmZ3ZWVrK2Usbz1uZXcgRGF0ZShpLnN0YXJ0LnRpbWUpO3JldHVybiBvLnNldERhdGUoK2kuc3RhcnQuZCtyKSx0aGlzLmdldERhdGVJbmZvKG8pfSx0LmNyZWF0ZT1mdW5jdGlvbihlLG4pe3ZhciBpPVtdO3JldHVybiBlLmVhY2hDb21wb25lbnQoImNhbGVuZGFyIiwoZnVuY3Rpb24ocil7dmFyIG89bmV3IHQocixlLG4pO2kucHVzaChvKSxyLmNvb3JkaW5hdGVTeXN0ZW09b30pKSxlLmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpeyJjYWxlbmRhciI9PT10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpJiYodC5jb29yZGluYXRlU3lzdGVtPWlbdC5nZXQoImNhbGVuZGFySW5kZXgiKXx8MF0pfSkpLGl9LHQuZGltZW5zaW9ucz1bInRpbWUiLCJ2YWx1ZSJdLHR9KCk7ZnVuY3Rpb24gdUUodCl7dmFyIGU9dC5jYWxlbmRhck1vZGVsLG49dC5zZXJpZXNNb2RlbDtyZXR1cm4gZT9lLmNvb3JkaW5hdGVTeXN0ZW06bj9uLmNvb3JkaW5hdGVTeXN0ZW06bnVsbH1mdW5jdGlvbiBoRSh0LGUpe3ZhciBuO3JldHVybiBFKGUsKGZ1bmN0aW9uKGUpe251bGwhPXRbZV0mJiJhdXRvIiE9PXRbZV0mJihuPSEwKX0pKSxufXZhciBjRT1bInRyYW5zaXRpb24iLCJlbnRlckZyb20iLCJsZWF2ZVRvIl0scEU9Y0UuY29uY2F0KFsiZW50ZXJBbmltYXRpb24iLCJ1cGRhdGVBbmltYXRpb24iLCJsZWF2ZUFuaW1hdGlvbiJdKTtmdW5jdGlvbiBkRSh0LGUsbil7aWYobiYmKCF0W25dJiZlW25dJiYodFtuXT17fSksdD10W25dLGU9ZVtuXSksdCYmZSlmb3IodmFyIGk9bj9jRTpwRSxyPTA7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl07bnVsbD09dFtvXSYmbnVsbCE9ZVtvXSYmKHRbb109ZVtvXSl9fXZhciBmRT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4ucHJldmVudEF1dG9aPSEwLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5tZXJnZU9wdGlvbj1mdW5jdGlvbihlLG4pe3ZhciBpPXRoaXMub3B0aW9uLmVsZW1lbnRzO3RoaXMub3B0aW9uLmVsZW1lbnRzPW51bGwsdC5wcm90b3R5cGUubWVyZ2VPcHRpb24uY2FsbCh0aGlzLGUsbiksdGhpcy5vcHRpb24uZWxlbWVudHM9aX0sZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMub3B0aW9uLGk9KGU/bjp0KS5lbGVtZW50cyxyPW4uZWxlbWVudHM9ZT9bXTpuLmVsZW1lbnRzLG89W107dGhpcy5fZmxhdHRlbihpLG8sbnVsbCk7dmFyIGE9eW8ocixvLCJub3JtYWxNZXJnZSIpLHM9dGhpcy5fZWxPcHRpb25zVG9VcGRhdGU9W107RShhLChmdW5jdGlvbih0LGUpe3ZhciBuPXQubmV3T3B0aW9uO24mJihzLnB1c2gobiksZnVuY3Rpb24odCxlKXt2YXIgbj10LmV4aXN0aW5nO2lmKGUuaWQ9dC5rZXlJbmZvLmlkLCFlLnR5cGUmJm4mJihlLnR5cGU9bi50eXBlKSxudWxsPT1lLnBhcmVudElkKXt2YXIgaT1lLnBhcmVudE9wdGlvbjtpP2UucGFyZW50SWQ9aS5pZDpuJiYoZS5wYXJlbnRJZD1uLnBhcmVudElkKX1lLnBhcmVudE9wdGlvbj1udWxsfSh0LG4pLGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1BKHt9LG4pLHI9dFtlXSxvPW4uJGFjdGlvbnx8Im1lcmdlIjsibWVyZ2UiPT09bz9yPyhDKHIsaSwhMCksd3AocixpLHtpZ25vcmVTaXplOiEwfSksTXAobixyKSxkRShuLHIpLGRFKG4sciwic2hhcGUiKSxkRShuLHIsInN0eWxlIiksZEUobixyLCJleHRyYSIpLG4uY2xpcFBhdGg9ci5jbGlwUGF0aCk6dFtlXT1pOiJyZXBsYWNlIj09PW8/dFtlXT1pOiJyZW1vdmUiPT09byYmciYmKHRbZV09bnVsbCl9KHIsZSxuKSxmdW5jdGlvbih0LGUpe2lmKHQmJih0Lmh2PWUuaHY9W2hFKGUsWyJsZWZ0IiwicmlnaHQiXSksaEUoZSxbInRvcCIsImJvdHRvbSJdKV0sImdyb3VwIj09PXQudHlwZSkpe3ZhciBuPXQsaT1lO251bGw9PW4ud2lkdGgmJihuLndpZHRoPWkud2lkdGg9MCksbnVsbD09bi5oZWlnaHQmJihuLmhlaWdodD1pLmhlaWdodD0wKX19KHJbZV0sbikpfSksdGhpcyksbi5lbGVtZW50cz1CKHIsKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZkZWxldGUgdC4kYWN0aW9uLG51bGwhPXR9KSl9LGUucHJvdG90eXBlLl9mbGF0dGVuPWZ1bmN0aW9uKHQsZSxuKXtFKHQsKGZ1bmN0aW9uKHQpe2lmKHQpe24mJih0LnBhcmVudE9wdGlvbj1uKSxlLnB1c2godCk7dmFyIGk9dC5jaGlsZHJlbjsiZ3JvdXAiPT09dC50eXBlJiZpJiZ0aGlzLl9mbGF0dGVuKGksZSx0KSxkZWxldGUgdC5jaGlsZHJlbn19KSx0aGlzKX0sZS5wcm90b3R5cGUudXNlRWxPcHRpb25zVG9VcGRhdGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9lbE9wdGlvbnNUb1VwZGF0ZTtyZXR1cm4gdGhpcy5fZWxPcHRpb25zVG9VcGRhdGU9bnVsbCx0fSxlLnR5cGU9ImdyYXBoaWMiLGUuZGVmYXVsdE9wdGlvbj17ZWxlbWVudHM6W119LGV9KFRwKSxnRT17cGF0aDpudWxsLGNvbXBvdW5kUGF0aDpudWxsLGdyb3VwOkNyLGltYWdlOl9zLHRleHQ6a3N9LHlFPVNvKCksdkU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMuX2VsTWFwPWZ0KCl9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dCE9PXRoaXMuX2xhc3RHcmFwaGljTW9kZWwmJnRoaXMuX2NsZWFyKCksdGhpcy5fbGFzdEdyYXBoaWNNb2RlbD10LHRoaXMuX3VwZGF0ZUVsZW1lbnRzKHQpLHRoaXMuX3JlbG9jYXRlKHQsbil9LGUucHJvdG90eXBlLl91cGRhdGVFbGVtZW50cz1mdW5jdGlvbih0KXt2YXIgZT10LnVzZUVsT3B0aW9uc1RvVXBkYXRlKCk7aWYoZSl7dmFyIG49dGhpcy5fZWxNYXAsaT10aGlzLmdyb3VwLHI9dC5nZXQoInoiKSxvPXQuZ2V0KCJ6bGV2ZWwiKTtFKGUsKGZ1bmN0aW9uKGUpe3ZhciBhPXhvKGUuaWQsbnVsbCkscz1udWxsIT1hP24uZ2V0KGEpOm51bGwsbD14byhlLnBhcmVudElkLG51bGwpLHU9bnVsbCE9bD9uLmdldChsKTppLGg9ZS50eXBlLGM9ZS5zdHlsZTsidGV4dCI9PT1oJiZjJiZlLmh2JiZlLmh2WzFdJiYoYy50ZXh0VmVydGljYWxBbGlnbj1jLnRleHRCYXNlbGluZT1jLnZlcnRpY2FsQWxpZ249Yy5hbGlnbj1udWxsKTt2YXIgcD1lLnRleHRDb250ZW50LGQ9ZS50ZXh0Q29uZmlnO2lmKGMmJlRPKGMsaCwhIWQsISFwKSl7dmFyIGY9Q08oYyxoLCEwKTshZCYmZi50ZXh0Q29uZmlnJiYoZD1lLnRleHRDb25maWc9Zi50ZXh0Q29uZmlnKSwhcCYmZi50ZXh0Q29udGVudCYmKHA9Zi50ZXh0Q29udGVudCl9dmFyIGc9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9QSh7fSx0KSxFKFsiaWQiLCJwYXJlbnRJZCIsIiRhY3Rpb24iLCJodiIsImJvdW5kaW5nIiwidGV4dENvbnRlbnQiLCJjbGlwUGF0aCJdLmNvbmNhdChncCksKGZ1bmN0aW9uKGUpe2RlbGV0ZSB0W2VdfSkpLHR9KGUpO3ZhciB5PWUuJGFjdGlvbnx8Im1lcmdlIix2PSJtZXJnZSI9PT15LG09InJlcGxhY2UiPT09eTtpZih2KXt2YXIgeD1zOyhUPSFzKT94PXhFKGEsdSxlLnR5cGUsbik6KHgmJih5RSh4KS5pc05ldz0hMSksak8oeCkpLHgmJihFTyh4LGcsdCx7aXNJbml0OlR9KSxiRSh4LGUscixvKSl9ZWxzZSBpZihtKXtfRShzLGUsbix0KTt2YXIgXz14RShhLHUsZS50eXBlLG4pO18mJihFTyhfLGcsdCx7aXNJbml0OiEwfSksYkUoXyxlLHIsbykpfWVsc2UicmVtb3ZlIj09PXkmJih6TyhzLGUpLF9FKHMsZSxuLHQpKTt2YXIgYj1uLmdldChhKTtpZihiJiZwKWlmKHYpe3ZhciB3PWIuZ2V0VGV4dENvbnRlbnQoKTt3P3cuYXR0cihwKTpiLnNldFRleHRDb250ZW50KG5ldyBrcyhwKSl9ZWxzZSBtJiZiLnNldFRleHRDb250ZW50KG5ldyBrcyhwKSk7aWYoYil7dmFyIFM9ZS5jbGlwUGF0aDtpZihTKXt2YXIgTT1TLnR5cGUsST12b2lkIDAsVD0hMTtpZih2KXt2YXIgQz1iLmdldENsaXBQYXRoKCk7ST0oVD0hQ3x8eUUoQykudHlwZSE9PU0pP21FKE0pOkN9ZWxzZSBtJiYoVD0hMCxJPW1FKE0pKTtiLnNldENsaXBQYXRoKEkpLEVPKEksUyx0LHtpc0luaXQ6VH0pLHFPKEksUy5rZXlmcmFtZUFuaW1hdGlvbix0KX12YXIgRD15RShiKTtiLnNldFRleHRDb25maWcoZCksRC5vcHRpb249ZSxmdW5jdGlvbih0LGUsbil7dmFyIGk9SHModCkuZXZlbnREYXRhO3Quc2lsZW50fHx0Lmlnbm9yZXx8aXx8KGk9SHModCkuZXZlbnREYXRhPXtjb21wb25lbnRUeXBlOiJncmFwaGljIixjb21wb25lbnRJbmRleDplLmNvbXBvbmVudEluZGV4LG5hbWU6dC5uYW1lfSk7aSYmKGkuaW5mbz1uLmluZm8pfShiLHQsZSksRWgoe2VsOmIsY29tcG9uZW50TW9kZWw6dCxpdGVtTmFtZTpiLm5hbWUsaXRlbVRvb2x0aXBPcHRpb246ZS50b29sdGlwfSkscU8oYixlLmtleWZyYW1lQW5pbWF0aW9uLHQpfX0pKX19LGUucHJvdG90eXBlLl9yZWxvY2F0ZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10Lm9wdGlvbi5lbGVtZW50cyxpPXRoaXMuZ3JvdXAscj10aGlzLl9lbE1hcCxvPWUuZ2V0V2lkdGgoKSxhPWUuZ2V0SGVpZ2h0KCkscz1bIngiLCJ5Il0sbD0wO2w8bi5sZW5ndGg7bCsrKXtpZigoZj1udWxsIT0oZD14bygocD1uW2xdKS5pZCxudWxsKSk/ci5nZXQoZCk6bnVsbCkmJmYuaXNHcm91cCl7dmFyIHU9KGc9Zi5wYXJlbnQpPT09aSxoPXlFKGYpLGM9eUUoZyk7aC53aWR0aD1FcihoLm9wdGlvbi53aWR0aCx1P286Yy53aWR0aCl8fDAsaC5oZWlnaHQ9RXIoaC5vcHRpb24uaGVpZ2h0LHU/YTpjLmhlaWdodCl8fDB9fWZvcihsPW4ubGVuZ3RoLTE7bD49MDtsLS0pe3ZhciBwLGQsZjtpZihmPW51bGwhPShkPXhvKChwPW5bbF0pLmlkLG51bGwpKT9yLmdldChkKTpudWxsKXt2YXIgZz1mLnBhcmVudCx5PShjPXlFKGcpLHt9KSx2PV9wKGYscCxnPT09aT97d2lkdGg6byxoZWlnaHQ6YX06e3dpZHRoOmMud2lkdGgsaGVpZ2h0OmMuaGVpZ2h0fSxudWxsLHtodjpwLmh2LGJvdW5kaW5nTW9kZTpwLmJvdW5kaW5nfSx5KTtpZigheUUoZikuaXNOZXcmJnYpe2Zvcih2YXIgbT1wLnRyYW5zaXRpb24seD17fSxfPTA7XzxzLmxlbmd0aDtfKyspe3ZhciBiPXNbX10sdz15W2JdO20mJihCTyhtKXx8UChtLGIpPj0wKT94W2JdPXc6ZltiXT13fXJoKGYseCx0LDApfWVsc2UgZi5hdHRyKHkpfX19LGUucHJvdG90eXBlLl9jbGVhcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLl9lbE1hcDtlLmVhY2goKGZ1bmN0aW9uKG4pe19FKG4seUUobikub3B0aW9uLGUsdC5fbGFzdEdyYXBoaWNNb2RlbCl9KSksdGhpcy5fZWxNYXA9ZnQoKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFyKCl9LGUudHlwZT0iZ3JhcGhpYyIsZX0oZ2cpO2Z1bmN0aW9uIG1FKHQpe3ZhciBlPW10KGdFLHQpP2dFW3RdOm1oKHQpO3ZhciBuPW5ldyBlKHt9KTtyZXR1cm4geUUobikudHlwZT10LG59ZnVuY3Rpb24geEUodCxlLG4saSl7dmFyIHI9bUUobik7cmV0dXJuIGUuYWRkKHIpLGkuc2V0KHQscikseUUocikuaWQ9dCx5RShyKS5pc05ldz0hMCxyfWZ1bmN0aW9uIF9FKHQsZSxuLGkpe3QmJnQucGFyZW50JiYoImdyb3VwIj09PXQudHlwZSYmdC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7X0UodCxlLG4saSl9KSksVk8odCxlLGkpLG4ucmVtb3ZlS2V5KHlFKHQpLmlkKSl9ZnVuY3Rpb24gYkUodCxlLG4saSl7aWYoIXQuaXNHcm91cCl7dmFyIHI9dDtyLmN1cnNvcj1ydChlLmN1cnNvcixkYS5wcm90b3R5cGUuY3Vyc29yKSxyLno9cnQoZS56LG58fDApLHIuemxldmVsPXJ0KGUuemxldmVsLGl8fDApO3ZhciBvPWUuejI7bnVsbCE9byYmKHIuejI9b3x8MCl9RShHKGUpLChmdW5jdGlvbihuKXt2YXIgaT1lW25dOzA9PT1uLmluZGV4T2YoIm9uIikmJlUoaSkmJih0W25dPWkpfSkpLHQuZHJhZ2dhYmxlPWUuZHJhZ2dhYmxlLG51bGwhPWUubmFtZSYmKHQubmFtZT1lLm5hbWUpLG51bGwhPWUuaWQmJih0LmlkPWUuaWQpfXZhciB3RT1bIngiLCJ5IiwicmFkaXVzIiwiYW5nbGUiLCJzaW5nbGUiXSxTRT1bImNhcnRlc2lhbjJkIiwicG9sYXIiLCJzaW5nbGVBeGlzIl07ZnVuY3Rpb24gTUUodCl7cmV0dXJuIHQrIkF4aXMifWZ1bmN0aW9uIElFKHQsZSl7dmFyIG4saT1mdCgpLHI9W10sbz1mdCgpO3QuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6ImRhdGFab29tIixxdWVyeTplfSwoZnVuY3Rpb24odCl7by5nZXQodC51aWQpfHxzKHQpfSkpO2Rve249ITEsdC5lYWNoQ29tcG9uZW50KCJkYXRhWm9vbSIsYSl9d2hpbGUobik7ZnVuY3Rpb24gYSh0KXshby5nZXQodC51aWQpJiZmdW5jdGlvbih0KXt2YXIgZT0hMTtyZXR1cm4gdC5lYWNoVGFyZ2V0QXhpcygoZnVuY3Rpb24odCxuKXt2YXIgcj1pLmdldCh0KTtyJiZyW25dJiYoZT0hMCl9KSksZX0odCkmJihzKHQpLG49ITApfWZ1bmN0aW9uIHModCl7by5zZXQodC51aWQsITApLHIucHVzaCh0KSx0LmVhY2hUYXJnZXRBeGlzKChmdW5jdGlvbih0LGUpeyhpLmdldCh0KXx8aS5zZXQodCxbXSkpW2VdPSEwfSkpfXJldHVybiByfWZ1bmN0aW9uIFRFKHQpe3ZhciBlPXQuZWNNb2RlbCxuPXtpbmZvTGlzdDpbXSxpbmZvTWFwOmZ0KCl9O3JldHVybiB0LmVhY2hUYXJnZXRBeGlzKChmdW5jdGlvbih0LGkpe3ZhciByPWUuZ2V0Q29tcG9uZW50KE1FKHQpLGkpO2lmKHIpe3ZhciBvPXIuZ2V0Q29vcmRTeXNNb2RlbCgpO2lmKG8pe3ZhciBhPW8udWlkLHM9bi5pbmZvTWFwLmdldChhKTtzfHwocz17bW9kZWw6byxheGlzTW9kZWxzOltdfSxuLmluZm9MaXN0LnB1c2gocyksbi5pbmZvTWFwLnNldChhLHMpKSxzLmF4aXNNb2RlbHMucHVzaChyKX19fSkpLG59dmFyIENFPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuaW5kZXhMaXN0PVtdLHRoaXMuaW5kZXhNYXA9W119cmV0dXJuIHQucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt0aGlzLmluZGV4TWFwW3RdfHwodGhpcy5pbmRleExpc3QucHVzaCh0KSx0aGlzLmluZGV4TWFwW3RdPSEwKX0sdH0oKSxERT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uX2F1dG9UaHJvdHRsZT0hMCxuLl9ub1RhcmdldD0hMCxuLl9yYW5nZVByb3BNb2RlPVsicGVyY2VudCIsInBlcmNlbnQiXSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUsbil7dmFyIGk9QUUodCk7dGhpcy5zZXR0bGVkT3B0aW9uPWksdGhpcy5tZXJnZURlZmF1bHRBbmRUaGVtZSh0LG4pLHRoaXMuX2RvSW5pdChpKX0sZS5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24odCl7dmFyIGU9QUUodCk7Qyh0aGlzLm9wdGlvbix0LCEwKSxDKHRoaXMuc2V0dGxlZE9wdGlvbixlLCEwKSx0aGlzLl9kb0luaXQoZSl9LGUucHJvdG90eXBlLl9kb0luaXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb247dGhpcy5fc2V0RGVmYXVsdFRocm90dGxlKHQpLHRoaXMuX3VwZGF0ZVJhbmdlVXNlKHQpO3ZhciBuPXRoaXMuc2V0dGxlZE9wdGlvbjtFKFtbInN0YXJ0Iiwic3RhcnRWYWx1ZSJdLFsiZW5kIiwiZW5kVmFsdWUiXV0sKGZ1bmN0aW9uKHQsaSl7InZhbHVlIj09PXRoaXMuX3JhbmdlUHJvcE1vZGVbaV0mJihlW3RbMF1dPW5bdFswXV09bnVsbCl9KSx0aGlzKSx0aGlzLl9yZXNldFRhcmdldCgpfSxlLnByb3RvdHlwZS5fcmVzZXRUYXJnZXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldCgib3JpZW50IiwhMCksZT10aGlzLl90YXJnZXRBeGlzSW5mb01hcD1mdCgpO3RoaXMuX2ZpbGxTcGVjaWZpZWRUYXJnZXRBeGlzKGUpP3RoaXMuX29yaWVudD10fHx0aGlzLl9tYWtlQXV0b09yaWVudEJ5VGFyZ2V0QXhpcygpOih0aGlzLl9vcmllbnQ9dHx8Imhvcml6b250YWwiLHRoaXMuX2ZpbGxBdXRvVGFyZ2V0QXhpc0J5T3JpZW50KGUsdGhpcy5fb3JpZW50KSksdGhpcy5fbm9UYXJnZXQ9ITAsZS5lYWNoKChmdW5jdGlvbih0KXt0LmluZGV4TGlzdC5sZW5ndGgmJih0aGlzLl9ub1RhcmdldD0hMSl9KSx0aGlzKX0sZS5wcm90b3R5cGUuX2ZpbGxTcGVjaWZpZWRUYXJnZXRBeGlzPWZ1bmN0aW9uKHQpe3ZhciBlPSExO3JldHVybiBFKHdFLChmdW5jdGlvbihuKXt2YXIgaT10aGlzLmdldFJlZmVycmluZ0NvbXBvbmVudHMoTUUobiksRG8pO2lmKGkuc3BlY2lmaWVkKXtlPSEwO3ZhciByPW5ldyBDRTtFKGkubW9kZWxzLChmdW5jdGlvbih0KXtyLmFkZCh0LmNvbXBvbmVudEluZGV4KX0pKSx0LnNldChuLHIpfX0pLHRoaXMpLGV9LGUucHJvdG90eXBlLl9maWxsQXV0b1RhcmdldEF4aXNCeU9yaWVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZWNNb2RlbCxpPSEwO2lmKGkpe3ZhciByPSJ2ZXJ0aWNhbCI9PT1lPyJ5IjoieCI7byhuLmZpbmRDb21wb25lbnRzKHttYWluVHlwZTpyKyJBeGlzIn0pLHIpfWkmJm8obi5maW5kQ29tcG9uZW50cyh7bWFpblR5cGU6InNpbmdsZUF4aXMiLGZpbHRlcjpmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXQoIm9yaWVudCIsITApPT09ZX19KSwic2luZ2xlIik7ZnVuY3Rpb24gbyhlLG4pe3ZhciByPWVbMF07aWYocil7dmFyIG89bmV3IENFO2lmKG8uYWRkKHIuY29tcG9uZW50SW5kZXgpLHQuc2V0KG4sbyksaT0hMSwieCI9PT1ufHwieSI9PT1uKXt2YXIgYT1yLmdldFJlZmVycmluZ0NvbXBvbmVudHMoImdyaWQiLENvKS5tb2RlbHNbMF07YSYmRShlLChmdW5jdGlvbih0KXtyLmNvbXBvbmVudEluZGV4IT09dC5jb21wb25lbnRJbmRleCYmYT09PXQuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygiZ3JpZCIsQ28pLm1vZGVsc1swXSYmby5hZGQodC5jb21wb25lbnRJbmRleCl9KSl9fX1pJiZFKHdFLChmdW5jdGlvbihlKXtpZihpKXt2YXIgcj1uLmZpbmRDb21wb25lbnRzKHttYWluVHlwZTpNRShlKSxmaWx0ZXI6ZnVuY3Rpb24odCl7cmV0dXJuImNhdGVnb3J5Ij09PXQuZ2V0KCJ0eXBlIiwhMCl9fSk7aWYoclswXSl7dmFyIG89bmV3IENFO28uYWRkKHJbMF0uY29tcG9uZW50SW5kZXgpLHQuc2V0KGUsbyksaT0hMX19fSksdGhpcyl9LGUucHJvdG90eXBlLl9tYWtlQXV0b09yaWVudEJ5VGFyZ2V0QXhpcz1mdW5jdGlvbigpe3ZhciB0O3JldHVybiB0aGlzLmVhY2hUYXJnZXRBeGlzKChmdW5jdGlvbihlKXshdCYmKHQ9ZSl9KSx0aGlzKSwieSI9PT10PyJ2ZXJ0aWNhbCI6Imhvcml6b250YWwifSxlLnByb3RvdHlwZS5fc2V0RGVmYXVsdFRocm90dGxlPWZ1bmN0aW9uKHQpe2lmKHQuaGFzT3duUHJvcGVydHkoInRocm90dGxlIikmJih0aGlzLl9hdXRvVGhyb3R0bGU9ITEpLHRoaXMuX2F1dG9UaHJvdHRsZSl7dmFyIGU9dGhpcy5lY01vZGVsLm9wdGlvbjt0aGlzLm9wdGlvbi50aHJvdHRsZT1lLmFuaW1hdGlvbiYmZS5hbmltYXRpb25EdXJhdGlvblVwZGF0ZT4wPzEwMDoyMH19LGUucHJvdG90eXBlLl91cGRhdGVSYW5nZVVzZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9yYW5nZVByb3BNb2RlLG49dGhpcy5nZXQoInJhbmdlTW9kZSIpO0UoW1sic3RhcnQiLCJzdGFydFZhbHVlIl0sWyJlbmQiLCJlbmRWYWx1ZSJdXSwoZnVuY3Rpb24oaSxyKXt2YXIgbz1udWxsIT10W2lbMF1dLGE9bnVsbCE9dFtpWzFdXTtvJiYhYT9lW3JdPSJwZXJjZW50IjohbyYmYT9lW3JdPSJ2YWx1ZSI6bj9lW3JdPW5bcl06byYmKGVbcl09InBlcmNlbnQiKX0pKX0sZS5wcm90b3R5cGUubm9UYXJnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9UYXJnZXR9LGUucHJvdG90eXBlLmdldEZpcnN0VGFyZ2V0QXhpc01vZGVsPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHRoaXMuZWFjaFRhcmdldEF4aXMoKGZ1bmN0aW9uKGUsbil7bnVsbD09dCYmKHQ9dGhpcy5lY01vZGVsLmdldENvbXBvbmVudChNRShlKSxuKSl9KSx0aGlzKSx0fSxlLnByb3RvdHlwZS5lYWNoVGFyZ2V0QXhpcz1mdW5jdGlvbih0LGUpe3RoaXMuX3RhcmdldEF4aXNJbmZvTWFwLmVhY2goKGZ1bmN0aW9uKG4saSl7RShuLmluZGV4TGlzdCwoZnVuY3Rpb24obil7dC5jYWxsKGUsaSxuKX0pKX0pKX0sZS5wcm90b3R5cGUuZ2V0QXhpc1Byb3h5PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXRBeGlzTW9kZWwodCxlKTtpZihuKXJldHVybiBuLl9fZHpBeGlzUHJveHl9LGUucHJvdG90eXBlLmdldEF4aXNNb2RlbD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX3RhcmdldEF4aXNJbmZvTWFwLmdldCh0KTtpZihuJiZuLmluZGV4TWFwW2VdKXJldHVybiB0aGlzLmVjTW9kZWwuZ2V0Q29tcG9uZW50KE1FKHQpLGUpfSxlLnByb3RvdHlwZS5zZXRSYXdSYW5nZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbixuPXRoaXMuc2V0dGxlZE9wdGlvbjtFKFtbInN0YXJ0Iiwic3RhcnRWYWx1ZSJdLFsiZW5kIiwiZW5kVmFsdWUiXV0sKGZ1bmN0aW9uKGkpe251bGw9PXRbaVswXV0mJm51bGw9PXRbaVsxXV18fChlW2lbMF1dPW5baVswXV09dFtpWzBdXSxlW2lbMV1dPW5baVsxXV09dFtpWzFdXSl9KSx0aGlzKSx0aGlzLl91cGRhdGVSYW5nZVVzZSh0KX0sZS5wcm90b3R5cGUuc2V0Q2FsY3VsYXRlZFJhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uO0UoWyJzdGFydCIsInN0YXJ0VmFsdWUiLCJlbmQiLCJlbmRWYWx1ZSJdLChmdW5jdGlvbihuKXtlW25dPXRbbl19KSl9LGUucHJvdG90eXBlLmdldFBlcmNlbnRSYW5nZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZmluZFJlcHJlc2VudGF0aXZlQXhpc1Byb3h5KCk7aWYodClyZXR1cm4gdC5nZXREYXRhUGVyY2VudFdpbmRvdygpfSxlLnByb3RvdHlwZS5nZXRWYWx1ZVJhbmdlPWZ1bmN0aW9uKHQsZSl7aWYobnVsbCE9dHx8bnVsbCE9ZSlyZXR1cm4gdGhpcy5nZXRBeGlzUHJveHkodCxlKS5nZXREYXRhVmFsdWVXaW5kb3coKTt2YXIgbj10aGlzLmZpbmRSZXByZXNlbnRhdGl2ZUF4aXNQcm94eSgpO3JldHVybiBuP24uZ2V0RGF0YVZhbHVlV2luZG93KCk6dm9pZCAwfSxlLnByb3RvdHlwZS5maW5kUmVwcmVzZW50YXRpdmVBeGlzUHJveHk9ZnVuY3Rpb24odCl7aWYodClyZXR1cm4gdC5fX2R6QXhpc1Byb3h5O2Zvcih2YXIgZSxuPXRoaXMuX3RhcmdldEF4aXNJbmZvTWFwLmtleXMoKSxpPTA7aTxuLmxlbmd0aDtpKyspZm9yKHZhciByPW5baV0sbz10aGlzLl90YXJnZXRBeGlzSW5mb01hcC5nZXQociksYT0wO2E8by5pbmRleExpc3QubGVuZ3RoO2ErKyl7dmFyIHM9dGhpcy5nZXRBeGlzUHJveHkocixvLmluZGV4TGlzdFthXSk7aWYocy5ob3N0ZWRCeSh0aGlzKSlyZXR1cm4gcztlfHwoZT1zKX1yZXR1cm4gZX0sZS5wcm90b3R5cGUuZ2V0UmFuZ2VQcm9wTW9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZVByb3BNb2RlLnNsaWNlKCl9LGUucHJvdG90eXBlLmdldE9yaWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcmllbnR9LGUudHlwZT0iZGF0YVpvb20iLGUuZGVwZW5kZW5jaWVzPVsieEF4aXMiLCJ5QXhpcyIsInJhZGl1c0F4aXMiLCJhbmdsZUF4aXMiLCJzaW5nbGVBeGlzIiwic2VyaWVzIiwidG9vbGJveCJdLGUuZGVmYXVsdE9wdGlvbj17ejo0LGZpbHRlck1vZGU6ImZpbHRlciIsc3RhcnQ6MCxlbmQ6MTAwfSxlfShUcCk7ZnVuY3Rpb24gQUUodCl7dmFyIGU9e307cmV0dXJuIEUoWyJzdGFydCIsImVuZCIsInN0YXJ0VmFsdWUiLCJlbmRWYWx1ZSIsInRocm90dGxlIl0sKGZ1bmN0aW9uKG4pe3QuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkpLGV9dmFyIGtFPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUudHlwZT0iZGF0YVpvb20uc2VsZWN0IixlfShERSksTEU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMuZGF0YVpvb21Nb2RlbD10LHRoaXMuZWNNb2RlbD1lLHRoaXMuYXBpPW59LGUudHlwZT0iZGF0YVpvb20iLGV9KGdnKSxQRT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnR5cGU9ImRhdGFab29tLnNlbGVjdCIsZX0oTEUpLE9FPUUsUkU9VnIsTkU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLGkpe3RoaXMuX2RpbU5hbWU9dCx0aGlzLl9heGlzSW5kZXg9ZSx0aGlzLmVjTW9kZWw9aSx0aGlzLl9kYXRhWm9vbU1vZGVsPW59cmV0dXJuIHQucHJvdG90eXBlLmhvc3RlZEJ5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kYXRhWm9vbU1vZGVsPT09dH0sdC5wcm90b3R5cGUuZ2V0RGF0YVZhbHVlV2luZG93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlV2luZG93LnNsaWNlKCl9LHQucHJvdG90eXBlLmdldERhdGFQZXJjZW50V2luZG93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BlcmNlbnRXaW5kb3cuc2xpY2UoKX0sdC5wcm90b3R5cGUuZ2V0VGFyZ2V0U2VyaWVzTW9kZWxzPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHRoaXMuZWNNb2RlbC5lYWNoU2VyaWVzKChmdW5jdGlvbihlKXtpZihmdW5jdGlvbih0KXt2YXIgZT10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpO3JldHVybiBQKFNFLGUpPj0wfShlKSl7dmFyIG49TUUodGhpcy5fZGltTmFtZSksaT1lLmdldFJlZmVycmluZ0NvbXBvbmVudHMobixDbykubW9kZWxzWzBdO2kmJnRoaXMuX2F4aXNJbmRleD09PWkuY29tcG9uZW50SW5kZXgmJnQucHVzaChlKX19KSx0aGlzKSx0fSx0LnByb3RvdHlwZS5nZXRBeGlzTW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lY01vZGVsLmdldENvbXBvbmVudCh0aGlzLl9kaW1OYW1lKyJBeGlzIix0aGlzLl9heGlzSW5kZXgpfSx0LnByb3RvdHlwZS5nZXRNaW5NYXhTcGFuPWZ1bmN0aW9uKCl7cmV0dXJuIFQodGhpcy5fbWluTWF4U3Bhbil9LHQucHJvdG90eXBlLmNhbGN1bGF0ZURhdGFXaW5kb3c9ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLl9kYXRhRXh0ZW50LGk9dGhpcy5nZXRBeGlzTW9kZWwoKS5heGlzLnNjYWxlLHI9dGhpcy5fZGF0YVpvb21Nb2RlbC5nZXRSYW5nZVByb3BNb2RlKCksbz1bMCwxMDBdLGE9W10scz1bXTtPRShbInN0YXJ0IiwiZW5kIl0sKGZ1bmN0aW9uKGwsdSl7dmFyIGg9dFtsXSxjPXRbbCsiVmFsdWUiXTsicGVyY2VudCI9PT1yW3VdPyhudWxsPT1oJiYoaD1vW3VdKSxjPWkucGFyc2UoTnIoaCxvLG4pKSk6KGU9ITAsaD1OcihjPW51bGw9PWM/blt1XTppLnBhcnNlKGMpLG4sbykpLHNbdV09YyxhW3VdPWh9KSksUkUocyksUkUoYSk7dmFyIGw9dGhpcy5fbWluTWF4U3BhbjtmdW5jdGlvbiB1KHQsZSxuLHIsbyl7dmFyIGE9bz8iU3BhbiI6IlZhbHVlU3BhbiI7c2soMCx0LG4sImFsbCIsbFsibWluIithXSxsWyJtYXgiK2FdKTtmb3IodmFyIHM9MDtzPDI7cysrKWVbc109TnIodFtzXSxuLHIsITApLG8mJihlW3NdPWkucGFyc2UoZVtzXSkpfXJldHVybiBlP3UocyxhLG4sbywhMSk6dShhLHMsbyxuLCEwKSx7dmFsdWVXaW5kb3c6cyxwZXJjZW50V2luZG93OmF9fSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbih0KXtpZih0PT09dGhpcy5fZGF0YVpvb21Nb2RlbCl7dmFyIGU9dGhpcy5nZXRUYXJnZXRTZXJpZXNNb2RlbHMoKTt0aGlzLl9kYXRhRXh0ZW50PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1bMS8wLC0xLzBdO09FKG4sKGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUsbil7ZSYmRShoXyhlLG4pLChmdW5jdGlvbihuKXt2YXIgaT1lLmdldEFwcHJveGltYXRlRXh0ZW50KG4pO2lbMF08dFswXSYmKHRbMF09aVswXSksaVsxXT50WzFdJiYodFsxXT1pWzFdKX0pKX0oaSx0LmdldERhdGEoKSxlKX0pKTt2YXIgcj10LmdldEF4aXNNb2RlbCgpLG89dF8oci5heGlzLnNjYWxlLHIsaSkuY2FsY3VsYXRlKCk7cmV0dXJuW28ubWluLG8ubWF4XX0odGhpcyx0aGlzLl9kaW1OYW1lLGUpLHRoaXMuX3VwZGF0ZU1pbk1heFNwYW4oKTt2YXIgbj10aGlzLmNhbGN1bGF0ZURhdGFXaW5kb3codC5zZXR0bGVkT3B0aW9uKTt0aGlzLl92YWx1ZVdpbmRvdz1uLnZhbHVlV2luZG93LHRoaXMuX3BlcmNlbnRXaW5kb3c9bi5wZXJjZW50V2luZG93LHRoaXMuX3NldEF4aXNNb2RlbCgpfX0sdC5wcm90b3R5cGUuZmlsdGVyRGF0YT1mdW5jdGlvbih0LGUpe2lmKHQ9PT10aGlzLl9kYXRhWm9vbU1vZGVsKXt2YXIgbj10aGlzLl9kaW1OYW1lLGk9dGhpcy5nZXRUYXJnZXRTZXJpZXNNb2RlbHMoKSxyPXQuZ2V0KCJmaWx0ZXJNb2RlIiksbz10aGlzLl92YWx1ZVdpbmRvdzsibm9uZSIhPT1yJiZPRShpLChmdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoKSxpPWUubWFwRGltZW5zaW9uc0FsbChuKTtpZihpLmxlbmd0aCl7aWYoIndlYWtGaWx0ZXIiPT09cil7dmFyIGE9ZS5nZXRTdG9yZSgpLHM9eihpLChmdW5jdGlvbih0KXtyZXR1cm4gZS5nZXREaW1lbnNpb25JbmRleCh0KX0pLGUpO2UuZmlsdGVyU2VsZigoZnVuY3Rpb24odCl7Zm9yKHZhciBlLG4scixsPTA7bDxpLmxlbmd0aDtsKyspe3ZhciB1PWEuZ2V0KHNbbF0sdCksaD0haXNOYU4odSksYz11PG9bMF0scD11Pm9bMV07aWYoaCYmIWMmJiFwKXJldHVybiEwO2gmJihyPSEwKSxjJiYoZT0hMCkscCYmKG49ITApfXJldHVybiByJiZlJiZufSkpfWVsc2UgT0UoaSwoZnVuY3Rpb24obil7aWYoImVtcHR5Ij09PXIpdC5zZXREYXRhKGU9ZS5tYXAobiwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0Pj1vWzBdJiZ0PD1vWzFdfSh0KT90Ok5hTn0pKSk7ZWxzZXt2YXIgaT17fTtpW25dPW8sZS5zZWxlY3RSYW5nZShpKX19KSk7T0UoaSwoZnVuY3Rpb24odCl7ZS5zZXRBcHByb3hpbWF0ZUV4dGVudChvLHQpfSkpfX0pKX19LHQucHJvdG90eXBlLl91cGRhdGVNaW5NYXhTcGFuPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWluTWF4U3Bhbj17fSxlPXRoaXMuX2RhdGFab29tTW9kZWwsbj10aGlzLl9kYXRhRXh0ZW50O09FKFsibWluIiwibWF4Il0sKGZ1bmN0aW9uKGkpe3ZhciByPWUuZ2V0KGkrIlNwYW4iKSxvPWUuZ2V0KGkrIlZhbHVlU3BhbiIpO251bGwhPW8mJihvPXRoaXMuZ2V0QXhpc01vZGVsKCkuYXhpcy5zY2FsZS5wYXJzZShvKSksbnVsbCE9bz9yPU5yKG5bMF0rbyxuLFswLDEwMF0sITApOm51bGwhPXImJihvPU5yKHIsWzAsMTAwXSxuLCEwKS1uWzBdKSx0W2krIlNwYW4iXT1yLHRbaSsiVmFsdWVTcGFuIl09b30pLHRoaXMpfSx0LnByb3RvdHlwZS5fc2V0QXhpc01vZGVsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRBeGlzTW9kZWwoKSxlPXRoaXMuX3BlcmNlbnRXaW5kb3csbj10aGlzLl92YWx1ZVdpbmRvdztpZihlKXt2YXIgaT1HcihuLFswLDUwMF0pO2k9TWF0aC5taW4oaSwyMCk7dmFyIHI9dC5heGlzLnNjYWxlLnJhd0V4dGVudEluZm87MCE9PWVbMF0mJnIuc2V0RGV0ZXJtaW5lZE1pbk1heCgibWluIiwrblswXS50b0ZpeGVkKGkpKSwxMDAhPT1lWzFdJiZyLnNldERldGVybWluZWRNaW5NYXgoIm1heCIsK25bMV0udG9GaXhlZChpKSksci5mcmVlemUoKX19LHR9KCk7dmFyIEVFPXtnZXRUYXJnZXRTZXJpZXM6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmVhY2hDb21wb25lbnQoImRhdGFab29tIiwoZnVuY3Rpb24obil7bi5lYWNoVGFyZ2V0QXhpcygoZnVuY3Rpb24oaSxyKXt2YXIgbz10LmdldENvbXBvbmVudChNRShpKSxyKTtlKGkscixvLG4pfSkpfSkpfWUoKGZ1bmN0aW9uKHQsZSxuLGkpe24uX19kekF4aXNQcm94eT1udWxsfSkpO3ZhciBuPVtdO2UoKGZ1bmN0aW9uKGUsaSxyLG8pe3IuX19kekF4aXNQcm94eXx8KHIuX19kekF4aXNQcm94eT1uZXcgTkUoZSxpLG8sdCksbi5wdXNoKHIuX19kekF4aXNQcm94eSkpfSkpO3ZhciBpPWZ0KCk7cmV0dXJuIEUobiwoZnVuY3Rpb24odCl7RSh0LmdldFRhcmdldFNlcmllc01vZGVscygpLChmdW5jdGlvbih0KXtpLnNldCh0LnVpZCx0KX0pKX0pKSxpfSxvdmVyYWxsUmVzZXQ6ZnVuY3Rpb24odCxlKXt0LmVhY2hDb21wb25lbnQoImRhdGFab29tIiwoZnVuY3Rpb24odCl7dC5lYWNoVGFyZ2V0QXhpcygoZnVuY3Rpb24oZSxuKXt0LmdldEF4aXNQcm94eShlLG4pLnJlc2V0KHQpfSkpLHQuZWFjaFRhcmdldEF4aXMoKGZ1bmN0aW9uKG4saSl7dC5nZXRBeGlzUHJveHkobixpKS5maWx0ZXJEYXRhKHQsZSl9KSl9KSksdC5lYWNoQ29tcG9uZW50KCJkYXRhWm9vbSIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZmluZFJlcHJlc2VudGF0aXZlQXhpc1Byb3h5KCk7aWYoZSl7dmFyIG49ZS5nZXREYXRhUGVyY2VudFdpbmRvdygpLGk9ZS5nZXREYXRhVmFsdWVXaW5kb3coKTt0LnNldENhbGN1bGF0ZWRSYW5nZSh7c3RhcnQ6blswXSxlbmQ6blsxXSxzdGFydFZhbHVlOmlbMF0sZW5kVmFsdWU6aVsxXX0pfX0pKX19O3ZhciB6RT0hMTtmdW5jdGlvbiBWRSh0KXt6RXx8KHpFPSEwLHQucmVnaXN0ZXJQcm9jZXNzb3IodC5QUklPUklUWS5QUk9DRVNTT1IuRklMVEVSLEVFKSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQWN0aW9uKCJkYXRhWm9vbSIsKGZ1bmN0aW9uKHQsZSl7RShJRShlLHQpLChmdW5jdGlvbihlKXtlLnNldFJhd1JhbmdlKHtzdGFydDp0LnN0YXJ0LGVuZDp0LmVuZCxzdGFydFZhbHVlOnQuc3RhcnRWYWx1ZSxlbmRWYWx1ZTp0LmVuZFZhbHVlfSl9KSl9KSl9KHQpLHQucmVnaXN0ZXJTdWJUeXBlRGVmYXVsdGVyKCJkYXRhWm9vbSIsKGZ1bmN0aW9uKCl7cmV0dXJuInNsaWRlciJ9KSkpfWZ1bmN0aW9uIEJFKHQpe3QucmVnaXN0ZXJDb21wb25lbnRNb2RlbChrRSksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoUEUpLFZFKHQpfXZhciBGRT1mdW5jdGlvbigpe30sR0U9e307ZnVuY3Rpb24gV0UodCxlKXtHRVt0XT1lfWZ1bmN0aW9uIEhFKHQpe3JldHVybiBHRVt0XX12YXIgWUU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbigpe3QucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBlPXRoaXMuZWNNb2RlbDtFKHRoaXMub3B0aW9uLmZlYXR1cmUsKGZ1bmN0aW9uKHQsbil7dmFyIGk9SEUobik7aSYmKGkuZ2V0RGVmYXVsdE9wdGlvbiYmKGkuZGVmYXVsdE9wdGlvbj1pLmdldERlZmF1bHRPcHRpb24oZSkpLEModCxpLmRlZmF1bHRPcHRpb24pKX0pKX0sZS50eXBlPSJ0b29sYm94IixlLmxheW91dE1vZGU9e3R5cGU6ImJveCIsaWdub3JlU2l6ZTohMH0sZS5kZWZhdWx0T3B0aW9uPXtzaG93OiEwLHo6NixvcmllbnQ6Imhvcml6b250YWwiLGxlZnQ6InJpZ2h0Iix0b3A6InRvcCIsYmFja2dyb3VuZENvbG9yOiJ0cmFuc3BhcmVudCIsYm9yZGVyQ29sb3I6IiNjY2MiLGJvcmRlclJhZGl1czowLGJvcmRlcldpZHRoOjAscGFkZGluZzo1LGl0ZW1TaXplOjE1LGl0ZW1HYXA6OCxzaG93VGl0bGU6ITAsaWNvblN0eWxlOntib3JkZXJDb2xvcjoiIzY2NiIsY29sb3I6Im5vbmUifSxlbXBoYXNpczp7aWNvblN0eWxlOntib3JkZXJDb2xvcjoiIzNFOThDNSJ9fSx0b29sdGlwOntzaG93OiExLHBvc2l0aW9uOiJib3R0b20ifX0sZX0oVHApO2Z1bmN0aW9uIFVFKHQsZSl7dmFyIG49aXAoZS5nZXQoInBhZGRpbmciKSksaT1lLmdldEl0ZW1TdHlsZShbImNvbG9yIiwib3BhY2l0eSJdKTtyZXR1cm4gaS5maWxsPWUuZ2V0KCJiYWNrZ3JvdW5kQ29sb3IiKSx0PW5ldyBDcyh7c2hhcGU6e3g6dC54LW5bM10seTp0LnktblswXSx3aWR0aDp0LndpZHRoK25bMV0rblszXSxoZWlnaHQ6dC5oZWlnaHQrblswXStuWzJdLHI6ZS5nZXQoImJvcmRlclJhZGl1cyIpfSxzdHlsZTppLHNpbGVudDohMCx6MjotMX0pfXZhciBYRT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLmdyb3VwO2lmKHIucmVtb3ZlQWxsKCksdC5nZXQoInNob3ciKSl7dmFyIG89K3QuZ2V0KCJpdGVtU2l6ZSIpLGE9InZlcnRpY2FsIj09PXQuZ2V0KCJvcmllbnQiKSxzPXQuZ2V0KCJmZWF0dXJlIil8fHt9LGw9dGhpcy5fZmVhdHVyZXN8fCh0aGlzLl9mZWF0dXJlcz17fSksdT1bXTtFKHMsKGZ1bmN0aW9uKHQsZSl7dS5wdXNoKGUpfSkpLG5ldyBNbSh0aGlzLl9mZWF0dXJlTmFtZXN8fFtdLHUpLmFkZChoKS51cGRhdGUoaCkucmVtb3ZlKEgoaCxudWxsKSkuZXhlY3V0ZSgpLHRoaXMuX2ZlYXR1cmVOYW1lcz11LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lLmdldEJveExheW91dFBhcmFtcygpLHI9ZS5nZXQoInBhZGRpbmciKSxvPXt3aWR0aDpuLmdldFdpZHRoKCksaGVpZ2h0Om4uZ2V0SGVpZ2h0KCl9LGE9eHAoaSxvLHIpO21wKGUuZ2V0KCJvcmllbnQiKSx0LGUuZ2V0KCJpdGVtR2FwIiksYS53aWR0aCxhLmhlaWdodCksX3AodCxpLG8scil9KHIsdCxuKSxyLmFkZChVRShyLmdldEJvdW5kaW5nUmVjdCgpLHQpKSxhfHxyLmVhY2hDaGlsZCgoZnVuY3Rpb24odCl7dmFyIGU9dC5fX3RpdGxlLGk9dC5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKSxhPWkudGV4dENvbmZpZ3x8KGkudGV4dENvbmZpZz17fSkscz10LmdldFRleHRDb250ZW50KCksbD1zJiZzLmVuc3VyZVN0YXRlKCJlbXBoYXNpcyIpO2lmKGwmJiFVKGwpJiZlKXt2YXIgdT1sLnN0eWxlfHwobC5zdHlsZT17fSksaD1jcihlLGtzLm1ha2VGb250KHUpKSxjPXQueCtyLngscD0hMTt0Lnkrci55K28raC5oZWlnaHQ+bi5nZXRIZWlnaHQoKSYmKGEucG9zaXRpb249InRvcCIscD0hMCk7dmFyIGQ9cD8tNS1oLmhlaWdodDpvKzEwO2MraC53aWR0aC8yPm4uZ2V0V2lkdGgoKT8oYS5wb3NpdGlvbj1bIjEwMCUiLGRdLHUuYWxpZ249InJpZ2h0Iik6Yy1oLndpZHRoLzI8MCYmKGEucG9zaXRpb249WzAsZF0sdS5hbGlnbj0ibGVmdCIpfX0pKX1mdW5jdGlvbiBoKGgsYyl7dmFyIHAsZD11W2hdLGY9dVtjXSxnPXNbZF0seT1uZXcgZGMoZyx0LHQuZWNNb2RlbCk7aWYoaSYmbnVsbCE9aS5uZXdUaXRsZSYmaS5mZWF0dXJlTmFtZT09PWQmJihnLnRpdGxlPWkubmV3VGl0bGUpLGQmJiFmKXtpZihmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQuaW5kZXhPZigibXkiKX0oZCkpcD17b25jbGljazp5Lm9wdGlvbi5vbmNsaWNrLGZlYXR1cmVOYW1lOmR9O2Vsc2V7dmFyIHY9SEUoZCk7aWYoIXYpcmV0dXJuO3A9bmV3IHZ9bFtkXT1wfWVsc2UgaWYoIShwPWxbZl0pKXJldHVybjtwLnVpZD1nYygidG9vbGJveC1mZWF0dXJlIikscC5tb2RlbD15LHAuZWNNb2RlbD1lLHAuYXBpPW47dmFyIG09cCBpbnN0YW5jZW9mIEZFO2R8fCFmPyF5LmdldCgic2hvdyIpfHxtJiZwLnVudXNhYmxlP20mJnAucmVtb3ZlJiZwLnJlbW92ZShlLG4pOighZnVuY3Rpb24oaSxzLGwpe3ZhciB1LGgsYz1pLmdldE1vZGVsKCJpY29uU3R5bGUiKSxwPWkuZ2V0TW9kZWwoWyJlbXBoYXNpcyIsImljb25TdHlsZSJdKSxkPXMgaW5zdGFuY2VvZiBGRSYmcy5nZXRJY29ucz9zLmdldEljb25zKCk6aS5nZXQoImljb24iKSxmPWkuZ2V0KCJ0aXRsZSIpfHx7fTtYKGQpPyh1PXt9KVtsXT1kOnU9ZDtYKGYpPyhoPXt9KVtsXT1mOmg9Zjt2YXIgZz1pLmljb25QYXRocz17fTtFKHUsKGZ1bmN0aW9uKGwsdSl7dmFyIGQ9UGgobCx7fSx7eDotby8yLHk6LW8vMix3aWR0aDpvLGhlaWdodDpvfSk7ZC5zZXRTdHlsZShjLmdldEl0ZW1TdHlsZSgpKSxkLmVuc3VyZVN0YXRlKCJlbXBoYXNpcyIpLnN0eWxlPXAuZ2V0SXRlbVN0eWxlKCk7dmFyIGY9bmV3IGtzKHtzdHlsZTp7dGV4dDpoW3VdLGFsaWduOnAuZ2V0KCJ0ZXh0QWxpZ24iKSxib3JkZXJSYWRpdXM6cC5nZXQoInRleHRCb3JkZXJSYWRpdXMiKSxwYWRkaW5nOnAuZ2V0KCJ0ZXh0UGFkZGluZyIpLGZpbGw6bnVsbH0saWdub3JlOiEwfSk7ZC5zZXRUZXh0Q29udGVudChmKSxFaCh7ZWw6ZCxjb21wb25lbnRNb2RlbDp0LGl0ZW1OYW1lOnUsZm9ybWF0dGVyUGFyYW1zRXh0cmE6e3RpdGxlOmhbdV19fSksZC5fX3RpdGxlPWhbdV0sZC5vbigibW91c2VvdmVyIiwoZnVuY3Rpb24oKXt2YXIgZT1wLmdldEl0ZW1TdHlsZSgpLGk9YT9udWxsPT10LmdldCgicmlnaHQiKSYmInJpZ2h0IiE9PXQuZ2V0KCJsZWZ0Iik/InJpZ2h0IjoibGVmdCI6bnVsbD09dC5nZXQoImJvdHRvbSIpJiYiYm90dG9tIiE9PXQuZ2V0KCJ0b3AiKT8iYm90dG9tIjoidG9wIjtmLnNldFN0eWxlKHtmaWxsOnAuZ2V0KCJ0ZXh0RmlsbCIpfHxlLmZpbGx8fGUuc3Ryb2tlfHwiIzAwMCIsYmFja2dyb3VuZENvbG9yOnAuZ2V0KCJ0ZXh0QmFja2dyb3VuZENvbG9yIil9KSxkLnNldFRleHRDb25maWcoe3Bvc2l0aW9uOnAuZ2V0KCJ0ZXh0UG9zaXRpb24iKXx8aX0pLGYuaWdub3JlPSF0LmdldCgic2hvd1RpdGxlIiksbi5lbnRlckVtcGhhc2lzKHRoaXMpfSkpLm9uKCJtb3VzZW91dCIsKGZ1bmN0aW9uKCl7ImVtcGhhc2lzIiE9PWkuZ2V0KFsiaWNvblN0YXR1cyIsdV0pJiZuLmxlYXZlRW1waGFzaXModGhpcyksZi5oaWRlKCl9KSksKCJlbXBoYXNpcyI9PT1pLmdldChbImljb25TdGF0dXMiLHVdKT9fbDpibCkoZCksci5hZGQoZCksZC5vbigiY2xpY2siLFcocy5vbmNsaWNrLHMsZSxuLHUpKSxnW3VdPWR9KSl9KHkscCxkKSx5LnNldEljb25TdGF0dXM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm9wdGlvbixpPXRoaXMuaWNvblBhdGhzO24uaWNvblN0YXR1cz1uLmljb25TdGF0dXN8fHt9LG4uaWNvblN0YXR1c1t0XT1lLGlbdF0mJigiZW1waGFzaXMiPT09ZT9fbDpibCkoaVt0XSl9LHAgaW5zdGFuY2VvZiBGRSYmcC5yZW5kZXImJnAucmVuZGVyKHksZSxuLGkpKTptJiZwLmRpc3Bvc2UmJnAuZGlzcG9zZShlLG4pfX0sZS5wcm90b3R5cGUudXBkYXRlVmlldz1mdW5jdGlvbih0LGUsbixpKXtFKHRoaXMuX2ZlYXR1cmVzLChmdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgRkUmJnQudXBkYXRlVmlldyYmdC51cGRhdGVWaWV3KHQubW9kZWwsZSxuLGkpfSkpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXtFKHRoaXMuX2ZlYXR1cmVzLChmdW5jdGlvbihuKXtuIGluc3RhbmNlb2YgRkUmJm4ucmVtb3ZlJiZuLnJlbW92ZSh0LGUpfSkpLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCxlKXtFKHRoaXMuX2ZlYXR1cmVzLChmdW5jdGlvbihuKXtuIGluc3RhbmNlb2YgRkUmJm4uZGlzcG9zZSYmbi5kaXNwb3NlKHQsZSl9KSl9LGUudHlwZT0idG9vbGJveCIsZX0oZ2cpO3ZhciBaRT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLm9uY2xpY2s9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm1vZGVsLGk9bi5nZXQoIm5hbWUiKXx8dC5nZXQoInRpdGxlLjAudGV4dCIpfHwiZWNoYXJ0cyIsbz0ic3ZnIj09PWUuZ2V0WnIoKS5wYWludGVyLmdldFR5cGUoKSxhPW8/InN2ZyI6bi5nZXQoInR5cGUiLCEwKXx8InBuZyIscz1lLmdldENvbm5lY3RlZERhdGFVUkwoe3R5cGU6YSxiYWNrZ3JvdW5kQ29sb3I6bi5nZXQoImJhY2tncm91bmRDb2xvciIsITApfHx0LmdldCgiYmFja2dyb3VuZENvbG9yIil8fCIjZmZmIixjb25uZWN0ZWRCYWNrZ3JvdW5kQ29sb3I6bi5nZXQoImNvbm5lY3RlZEJhY2tncm91bmRDb2xvciIpLGV4Y2x1ZGVDb21wb25lbnRzOm4uZ2V0KCJleGNsdWRlQ29tcG9uZW50cyIpLHBpeGVsUmF0aW86bi5nZXQoInBpeGVsUmF0aW8iKX0pLGw9ci5icm93c2VyO2lmKFUoTW91c2VFdmVudCkmJihsLm5ld0VkZ2V8fCFsLmllJiYhbC5lZGdlKSl7dmFyIHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO3UuZG93bmxvYWQ9aSsiLiIrYSx1LnRhcmdldD0iX2JsYW5rIix1LmhyZWY9czt2YXIgaD1uZXcgTW91c2VFdmVudCgiY2xpY2siLHt2aWV3OmRvY3VtZW50LmRlZmF1bHRWaWV3LGJ1YmJsZXM6ITAsY2FuY2VsYWJsZTohMX0pO3UuZGlzcGF0Y2hFdmVudChoKX1lbHNlIGlmKHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYnx8byl7dmFyIGM9cy5zcGxpdCgiLCIpLHA9Y1swXS5pbmRleE9mKCJiYXNlNjQiKT4tMSxkPW8/ZGVjb2RlVVJJQ29tcG9uZW50KGNbMV0pOmNbMV07cCYmKGQ9d2luZG93LmF0b2IoZCkpO3ZhciBmPWkrIi4iK2E7aWYod2luZG93Lm5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKXtmb3IodmFyIGc9ZC5sZW5ndGgseT1uZXcgVWludDhBcnJheShnKTtnLS07KXlbZ109ZC5jaGFyQ29kZUF0KGcpO3ZhciB2PW5ldyBCbG9iKFt5XSk7d2luZG93Lm5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKHYsZil9ZWxzZXt2YXIgbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG0pO3ZhciB4PW0uY29udGVudFdpbmRvdyxfPXguZG9jdW1lbnQ7Xy5vcGVuKCJpbWFnZS9zdmcreG1sIiwicmVwbGFjZSIpLF8ud3JpdGUoZCksXy5jbG9zZSgpLHguZm9jdXMoKSxfLmV4ZWNDb21tYW5kKCJTYXZlQXMiLCEwLGYpLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobSl9fWVsc2V7dmFyIGI9bi5nZXQoImxhbmciKSx3PSc8Ym9keSBzdHlsZT0ibWFyZ2luOjA7Ij48aW1nIHNyYz0iJytzKyciIHN0eWxlPSJtYXgtd2lkdGg6MTAwJTsiIHRpdGxlPSInKyhiJiZiWzBdfHwiIikrJyIgLz48L2JvZHk+JyxTPXdpbmRvdy5vcGVuKCk7Uy5kb2N1bWVudC53cml0ZSh3KSxTLmRvY3VtZW50LnRpdGxlPWl9fSxlLmdldERlZmF1bHRPcHRpb249ZnVuY3Rpb24odCl7cmV0dXJue3Nob3c6ITAsaWNvbjoiTTQuNywyMi45TDI5LjMsNDUuNUw1NC43LDIzLjRNNC42LDQzLjZMNC42LDU4TDUzLjgsNThMNTMuOCw0My42TTI5LjIsNDUuMUwyOS4yLDAiLHRpdGxlOnQuZ2V0TG9jYWxlTW9kZWwoKS5nZXQoWyJ0b29sYm94Iiwic2F2ZUFzSW1hZ2UiLCJ0aXRsZSJdKSx0eXBlOiJwbmciLGNvbm5lY3RlZEJhY2tncm91bmRDb2xvcjoiI2ZmZiIsbmFtZToiIixleGNsdWRlQ29tcG9uZW50czpbInRvb2xib3giXSxsYW5nOnQuZ2V0TG9jYWxlTW9kZWwoKS5nZXQoWyJ0b29sYm94Iiwic2F2ZUFzSW1hZ2UiLCJsYW5nIl0pfX0sZX0oRkUpLGpFPSJfX2VjX21hZ2ljVHlwZV9zdGFja19fIixxRT1bWyJsaW5lIiwiYmFyIl0sWyJzdGFjayJdXSxLRT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEljb25zPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5tb2RlbCxlPXQuZ2V0KCJpY29uIiksbj17fTtyZXR1cm4gRSh0LmdldCgidHlwZSIpLChmdW5jdGlvbih0KXtlW3RdJiYoblt0XT1lW3RdKX0pKSxufSxlLmdldERlZmF1bHRPcHRpb249ZnVuY3Rpb24odCl7cmV0dXJue3Nob3c6ITAsdHlwZTpbXSxpY29uOntsaW5lOiJNNC4xLDI4LjloNy4xbDkuMy0yMmw3LjQsMzhsOS43LTE5LjdsMywxMi44aDE0LjlNNC4xLDU4aDUxLjQiLGJhcjoiTTYuNywyMi45aDEwVjQ4aC0xMFYyMi45ek0yNC45LDEzaDEwdjM1aC0xMFYxM3pNNDMuMiwyaDEwdjQ2aC0xMFYyek0zLjEsNThoNTMuNyIsc3RhY2s6Ik04LjIsMzguNGwtOC40LDQuMWwzMC42LDE1LjNMNjAsNDIuNWwtOC4xLTQuMWwtMjEuNSwxMUw4LjIsMzguNHogTTUxLjksMzBsLTguMSw0LjJsLTEzLjQsNi45bC0xMy45LTYuOUw4LjIsMzBsLTguNCw0LjJsOC40LDQuMmwyMi4yLDExbDIxLjUtMTFsOC4xLTQuMkw1MS45LDMweiBNNTEuOSwyMS43bC04LjEsNC4yTDM1LjcsMzBsLTUuMywyLjhMMjQuOSwzMGwtOC40LTQuMWwtOC4zLTQuMmwtOC40LDQuMkw4LjIsMzBsOC4zLDQuMmwxMy45LDYuOWwxMy40LTYuOWw4LjEtNC4ybDguMS00LjFMNTEuOSwyMS43ek0zMC40LDIuMkwtMC4yLDE3LjVsOC40LDQuMWw4LjMsNC4ybDguNCw0LjJsNS41LDIuN2w1LjMtMi43bDguMS00LjJsOC4xLTQuMmw4LjEtNC4xTDMwLjQsMi4yeiJ9LHRpdGxlOnQuZ2V0TG9jYWxlTW9kZWwoKS5nZXQoWyJ0b29sYm94IiwibWFnaWNUeXBlIiwidGl0bGUiXSksb3B0aW9uOnt9LHNlcmllc0luZGV4Ont9fX0sZS5wcm90b3R5cGUub25jbGljaz1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5tb2RlbCxyPWkuZ2V0KFsic2VyaWVzSW5kZXgiLG5dKTtpZigkRVtuXSl7dmFyIG8sYT17c2VyaWVzOltdfTtFKHFFLChmdW5jdGlvbih0KXtQKHQsbik+PTAmJkUodCwoZnVuY3Rpb24odCl7aS5zZXRJY29uU3RhdHVzKHQsIm5vcm1hbCIpfSkpfSkpLGkuc2V0SWNvblN0YXR1cyhuLCJlbXBoYXNpcyIpLHQuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InNlcmllcyIscXVlcnk6bnVsbD09cj9udWxsOntzZXJpZXNJbmRleDpyfX0sKGZ1bmN0aW9uKHQpe3ZhciBlPXQuc3ViVHlwZSxyPXQuaWQsbz0kRVtuXShlLHIsdCxpKTtvJiYoayhvLHQub3B0aW9uKSxhLnNlcmllcy5wdXNoKG8pKTt2YXIgcz10LmNvb3JkaW5hdGVTeXN0ZW07aWYocyYmImNhcnRlc2lhbjJkIj09PXMudHlwZSYmKCJsaW5lIj09PW58fCJiYXIiPT09bikpe3ZhciBsPXMuZ2V0QXhlc0J5U2NhbGUoIm9yZGluYWwiKVswXTtpZihsKXt2YXIgdT1sLmRpbSsiQXhpcyIsaD10LmdldFJlZmVycmluZ0NvbXBvbmVudHModSxDbykubW9kZWxzWzBdLmNvbXBvbmVudEluZGV4O2FbdV09YVt1XXx8W107Zm9yKHZhciBjPTA7Yzw9aDtjKyspYVt1XVtoXT1hW3VdW2hdfHx7fTthW3VdW2hdLmJvdW5kYXJ5R2FwPSJiYXIiPT09bn19fSkpO3ZhciBzPW47InN0YWNrIj09PW4mJihvPUMoe3N0YWNrOmkub3B0aW9uLnRpdGxlLnRpbGVkLHRpbGVkOmkub3B0aW9uLnRpdGxlLnN0YWNrfSxpLm9wdGlvbi50aXRsZSksImVtcGhhc2lzIiE9PWkuZ2V0KFsiaWNvblN0YXR1cyIsbl0pJiYocz0idGlsZWQiKSksZS5kaXNwYXRjaEFjdGlvbih7dHlwZToiY2hhbmdlTWFnaWNUeXBlIixjdXJyZW50VHlwZTpzLG5ld09wdGlvbjphLG5ld1RpdGxlOm8sZmVhdHVyZU5hbWU6Im1hZ2ljVHlwZSJ9KX19LGV9KEZFKSwkRT17bGluZTpmdW5jdGlvbih0LGUsbixpKXtpZigiYmFyIj09PXQpcmV0dXJuIEMoe2lkOmUsdHlwZToibGluZSIsZGF0YTpuLmdldCgiZGF0YSIpLHN0YWNrOm4uZ2V0KCJzdGFjayIpLG1hcmtQb2ludDpuLmdldCgibWFya1BvaW50IiksbWFya0xpbmU6bi5nZXQoIm1hcmtMaW5lIil9LGkuZ2V0KFsib3B0aW9uIiwibGluZSJdKXx8e30sITApfSxiYXI6ZnVuY3Rpb24odCxlLG4saSl7aWYoImxpbmUiPT09dClyZXR1cm4gQyh7aWQ6ZSx0eXBlOiJiYXIiLGRhdGE6bi5nZXQoImRhdGEiKSxzdGFjazpuLmdldCgic3RhY2siKSxtYXJrUG9pbnQ6bi5nZXQoIm1hcmtQb2ludCIpLG1hcmtMaW5lOm4uZ2V0KCJtYXJrTGluZSIpfSxpLmdldChbIm9wdGlvbiIsImJhciJdKXx8e30sITApfSxzdGFjazpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uLmdldCgic3RhY2siKT09PWpFO2lmKCJsaW5lIj09PXR8fCJiYXIiPT09dClyZXR1cm4gaS5zZXRJY29uU3RhdHVzKCJzdGFjayIscj8ibm9ybWFsIjoiZW1waGFzaXMiKSxDKHtpZDplLHN0YWNrOnI/IiI6akV9LGkuZ2V0KFsib3B0aW9uIiwic3RhY2siXSl8fHt9LCEwKX19O2htKHt0eXBlOiJjaGFuZ2VNYWdpY1R5cGUiLGV2ZW50OiJtYWdpY1R5cGVDaGFuZ2VkIix1cGRhdGU6InByZXBhcmVBbmRVcGRhdGUifSwoZnVuY3Rpb24odCxlKXtlLm1lcmdlT3B0aW9uKHQubmV3T3B0aW9uKX0pKTt2YXIgSkU9bmV3IEFycmF5KDYwKS5qb2luKCItIiksUUU9Ilx0IjtmdW5jdGlvbiB0eih0KXtyZXR1cm4gdC5yZXBsYWNlKC9eXHNccyovLCIiKS5yZXBsYWNlKC9cc1xzKiQvLCIiKX12YXIgZXo9bmV3IFJlZ0V4cCgiW1x0XSsiLCJnIik7ZnVuY3Rpb24gbnoodCxlKXt2YXIgbj10LnNwbGl0KG5ldyBSZWdFeHAoIlxuKiIrSkUrIlxuKiIsImciKSksaT17c2VyaWVzOltdfTtyZXR1cm4gRShuLChmdW5jdGlvbih0LG4pe2lmKGZ1bmN0aW9uKHQpe2lmKHQuc2xpY2UoMCx0LmluZGV4T2YoIlxuIikpLmluZGV4T2YoUUUpPj0wKXJldHVybiEwfSh0KSl7dmFyIHI9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuc3BsaXQoL1xuKy9nKSxuPVtdLGk9eih0eihlLnNoaWZ0KCkpLnNwbGl0KGV6KSwoZnVuY3Rpb24odCl7cmV0dXJue25hbWU6dCxkYXRhOltdfX0pKSxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBvPXR6KGVbcl0pLnNwbGl0KGV6KTtuLnB1c2goby5zaGlmdCgpKTtmb3IodmFyIGE9MDthPG8ubGVuZ3RoO2ErKylpW2FdJiYoaVthXS5kYXRhW3JdPW9bYV0pfXJldHVybntzZXJpZXM6aSxjYXRlZ29yaWVzOm59fSh0KSxvPWVbbl0sYT1vLmF4aXNEaW0rIkF4aXMiO28mJihpW2FdPWlbYV18fFtdLGlbYV1bby5heGlzSW5kZXhdPXtkYXRhOnIuY2F0ZWdvcmllc30saS5zZXJpZXM9aS5zZXJpZXMuY29uY2F0KHIuc2VyaWVzKSl9ZWxzZXtyPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnNwbGl0KC9cbisvZyksbj10eihlLnNoaWZ0KCkpLGk9W10scj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz10eihlW3JdKTtpZihvKXt2YXIgYT1vLnNwbGl0KGV6KSxzPSIiLGw9dm9pZCAwLHU9ITE7aXNOYU4oYVswXSk/KHU9ITAscz1hWzBdLGE9YS5zbGljZSgxKSxpW3JdPXtuYW1lOnMsdmFsdWU6W119LGw9aVtyXS52YWx1ZSk6bD1pW3JdPVtdO2Zvcih2YXIgaD0wO2g8YS5sZW5ndGg7aCsrKWwucHVzaCgrYVtoXSk7MT09PWwubGVuZ3RoJiYodT9pW3JdLnZhbHVlPWxbMF06aVtyXT1sWzBdKX19cmV0dXJue25hbWU6bixkYXRhOml9fSh0KTtpLnNlcmllcy5wdXNoKHIpfX0pKSxpfXZhciBpej1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLm9uY2xpY2s9ZnVuY3Rpb24odCxlKXtzZXRUaW1lb3V0KChmdW5jdGlvbigpe2UuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImhpZGVUaXAifSl9KSk7dmFyIG49ZS5nZXREb20oKSxpPXRoaXMubW9kZWw7dGhpcy5fZG9tJiZuLnJlbW92ZUNoaWxkKHRoaXMuX2RvbSk7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ci5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtsZWZ0OjA7cmlnaHQ6MDtwYWRkaW5nOjVweCIsci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9aS5nZXQoImJhY2tncm91bmRDb2xvciIpfHwiI2ZmZiI7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaDQiKSxhPWkuZ2V0KCJsYW5nIil8fFtdO28uaW5uZXJIVE1MPWFbMF18fGkuZ2V0KCJ0aXRsZSIpLG8uc3R5bGUuY3NzVGV4dD0ibWFyZ2luOjEwcHggMjBweCIsby5zdHlsZS5jb2xvcj1pLmdldCgidGV4dENvbG9yIik7dmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpO3Muc3R5bGUuY3NzVGV4dD0ib3ZlcmZsb3c6YXV0byI7dmFyIHU9aS5nZXQoIm9wdGlvblRvQ29udGVudCIpLGg9aS5nZXQoImNvbnRlbnRUb09wdGlvbiIpLGM9ZnVuY3Rpb24odCl7dmFyIGUsbixpLHI9ZnVuY3Rpb24odCl7dmFyIGU9e30sbj1bXSxpPVtdO3JldHVybiB0LmVhY2hSYXdTZXJpZXMoKGZ1bmN0aW9uKHQpe3ZhciByPXQuY29vcmRpbmF0ZVN5c3RlbTtpZighcnx8ImNhcnRlc2lhbjJkIiE9PXIudHlwZSYmInBvbGFyIiE9PXIudHlwZSluLnB1c2godCk7ZWxzZXt2YXIgbz1yLmdldEJhc2VBeGlzKCk7aWYoImNhdGVnb3J5Ij09PW8udHlwZSl7dmFyIGE9by5kaW0rIl8iK28uaW5kZXg7ZVthXXx8KGVbYV09e2NhdGVnb3J5QXhpczpvLHZhbHVlQXhpczpyLmdldE90aGVyQXhpcyhvKSxzZXJpZXM6W119LGkucHVzaCh7YXhpc0RpbTpvLmRpbSxheGlzSW5kZXg6by5pbmRleH0pKSxlW2FdLnNlcmllcy5wdXNoKHQpfWVsc2Ugbi5wdXNoKHQpfX0pKSx7c2VyaWVzR3JvdXBCeUNhdGVnb3J5QXhpczplLG90aGVyOm4sbWV0YTppfX0odCk7cmV0dXJue3ZhbHVlOkIoWyhuPXIuc2VyaWVzR3JvdXBCeUNhdGVnb3J5QXhpcyxpPVtdLEUobiwoZnVuY3Rpb24odCxlKXt2YXIgbj10LmNhdGVnb3J5QXhpcyxyPXQudmFsdWVBeGlzLmRpbSxvPVsiICJdLmNvbmNhdCh6KHQuc2VyaWVzLChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lfSkpKSxhPVtuLm1vZGVsLmdldENhdGVnb3JpZXMoKV07RSh0LnNlcmllcywoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRSYXdEYXRhKCk7YS5wdXNoKHQuZ2V0UmF3RGF0YSgpLm1hcEFycmF5KGUubWFwRGltZW5zaW9uKHIpLChmdW5jdGlvbih0KXtyZXR1cm4gdH0pKSl9KSk7Zm9yKHZhciBzPVtvLmpvaW4oUUUpXSxsPTA7bDxhWzBdLmxlbmd0aDtsKyspe2Zvcih2YXIgdT1bXSxoPTA7aDxhLmxlbmd0aDtoKyspdS5wdXNoKGFbaF1bbF0pO3MucHVzaCh1LmpvaW4oUUUpKX1pLnB1c2gocy5qb2luKCJcbiIpKX0pKSxpLmpvaW4oIlxuXG4iK0pFKyJcblxuIikpLChlPXIub3RoZXIseihlLChmdW5jdGlvbih0KXt2YXIgZT10LmdldFJhd0RhdGEoKSxuPVt0Lm5hbWVdLGk9W107cmV0dXJuIGUuZWFjaChlLmRpbWVuc2lvbnMsKGZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgscj1hcmd1bWVudHNbdC0xXSxvPWUuZ2V0TmFtZShyKSxhPTA7YTx0LTE7YSsrKWlbYV09YXJndW1lbnRzW2FdO24ucHVzaCgobz9vK1FFOiIiKStpLmpvaW4oUUUpKX0pKSxuLmpvaW4oIlxuIil9KSkuam9pbigiXG5cbiIrSkUrIlxuXG4iKSldLChmdW5jdGlvbih0KXtyZXR1cm4hIXQucmVwbGFjZSgvW1xuXHRcc10vZywiIil9KSkuam9pbigiXG5cbiIrSkUrIlxuXG4iKSxtZXRhOnIubWV0YX19KHQpO2lmKFUodSkpe3ZhciBwPXUoZS5nZXRPcHRpb24oKSk7WChwKT9zLmlubmVySFRNTD1wOkoocCkmJnMuYXBwZW5kQ2hpbGQocCl9ZWxzZXtsLnJlYWRPbmx5PWkuZ2V0KCJyZWFkT25seSIpO3ZhciBkPWwuc3R5bGU7ZC5jc3NUZXh0PSJkaXNwbGF5OmJsb2NrO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7Zm9udC1mYW1pbHk6bW9ub3NwYWNlO2ZvbnQtc2l6ZToxNHB4O2xpbmUtaGVpZ2h0OjEuNnJlbTtyZXNpemU6bm9uZTtib3gtc2l6aW5nOmJvcmRlci1ib3g7b3V0bGluZTpub25lIixkLmNvbG9yPWkuZ2V0KCJ0ZXh0Q29sb3IiKSxkLmJvcmRlckNvbG9yPWkuZ2V0KCJ0ZXh0YXJlYUJvcmRlckNvbG9yIiksZC5iYWNrZ3JvdW5kQ29sb3I9aS5nZXQoInRleHRhcmVhQ29sb3IiKSxsLnZhbHVlPWMudmFsdWUscy5hcHBlbmRDaGlsZChsKX12YXIgZj1jLm1ldGEsZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtnLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2JvdHRvbTo1cHg7bGVmdDowO3JpZ2h0OjAiO3ZhciB5PSJmbG9hdDpyaWdodDttYXJnaW4tcmlnaHQ6MjBweDtib3JkZXI6bm9uZTtjdXJzb3I6cG9pbnRlcjtwYWRkaW5nOjJweCA1cHg7Zm9udC1zaXplOjEycHg7Ym9yZGVyLXJhZGl1czozcHgiLHY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt5Kz0iO2JhY2tncm91bmQtY29sb3I6IitpLmdldCgiYnV0dG9uQ29sb3IiKSx5Kz0iO2NvbG9yOiIraS5nZXQoImJ1dHRvblRleHRDb2xvciIpO3ZhciB4PXRoaXM7ZnVuY3Rpb24gXygpe24ucmVtb3ZlQ2hpbGQocikseC5fZG9tPW51bGx9YWUodiwiY2xpY2siLF8pLGFlKG0sImNsaWNrIiwoZnVuY3Rpb24oKXtpZihudWxsPT1oJiZudWxsIT11fHxudWxsIT1oJiZudWxsPT11KV8oKTtlbHNle3ZhciB0O3RyeXt0PVUoaCk/aChzLGUuZ2V0T3B0aW9uKCkpOm56KGwudmFsdWUsZil9Y2F0Y2godCl7dGhyb3cgXygpLG5ldyBFcnJvcigiRGF0YSB2aWV3IGZvcm1hdCBlcnJvciAiK3QpfXQmJmUuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImNoYW5nZURhdGFWaWV3IixuZXdPcHRpb246dH0pLF8oKX19KSksdi5pbm5lckhUTUw9YVsxXSxtLmlubmVySFRNTD1hWzJdLG0uc3R5bGUuY3NzVGV4dD12LnN0eWxlLmNzc1RleHQ9eSwhaS5nZXQoInJlYWRPbmx5IikmJmcuYXBwZW5kQ2hpbGQobSksZy5hcHBlbmRDaGlsZCh2KSxyLmFwcGVuZENoaWxkKG8pLHIuYXBwZW5kQ2hpbGQocyksci5hcHBlbmRDaGlsZChnKSxzLnN0eWxlLmhlaWdodD1uLmNsaWVudEhlaWdodC04MCsicHgiLG4uYXBwZW5kQ2hpbGQociksdGhpcy5fZG9tPXJ9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3RoaXMuX2RvbSYmZS5nZXREb20oKS5yZW1vdmVDaGlsZCh0aGlzLl9kb20pfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQsZSl7dGhpcy5yZW1vdmUodCxlKX0sZS5nZXREZWZhdWx0T3B0aW9uPWZ1bmN0aW9uKHQpe3JldHVybntzaG93OiEwLHJlYWRPbmx5OiExLG9wdGlvblRvQ29udGVudDpudWxsLGNvbnRlbnRUb09wdGlvbjpudWxsLGljb246Ik0xNy41LDE3LjNIMzMgTTE3LjUsMTcuM0gzMyBNNDUuNCwyOS41aC0yOCBNMTEuNSwydjU2SDUxVjE0LjhMMzguNCwySDExLjV6IE0zOC40LDIuMnYxMi43SDUxIE00NS40LDQxLjdoLTI4Iix0aXRsZTp0LmdldExvY2FsZU1vZGVsKCkuZ2V0KFsidG9vbGJveCIsImRhdGFWaWV3IiwidGl0bGUiXSksbGFuZzp0LmdldExvY2FsZU1vZGVsKCkuZ2V0KFsidG9vbGJveCIsImRhdGFWaWV3IiwibGFuZyJdKSxiYWNrZ3JvdW5kQ29sb3I6IiNmZmYiLHRleHRDb2xvcjoiIzAwMCIsdGV4dGFyZWFDb2xvcjoiI2ZmZiIsdGV4dGFyZWFCb3JkZXJDb2xvcjoiIzMzMyIsYnV0dG9uQ29sb3I6IiNjMjM1MzEiLGJ1dHRvblRleHRDb2xvcjoiI2ZmZiJ9fSxlfShGRSk7ZnVuY3Rpb24gcnoodCxlKXtyZXR1cm4geih0LChmdW5jdGlvbih0LG4pe3ZhciBpPWUmJmVbbl07aWYocShpKSYmIVkoaSkpe3EodCkmJiFZKHQpfHwodD17dmFsdWU6dH0pO3ZhciByPW51bGwhPWkubmFtZSYmbnVsbD09dC5uYW1lO3JldHVybiB0PWsodCxpKSxyJiZkZWxldGUgdC5uYW1lLHR9cmV0dXJuIHR9KSl9aG0oe3R5cGU6ImNoYW5nZURhdGFWaWV3IixldmVudDoiZGF0YVZpZXdDaGFuZ2VkIix1cGRhdGU6InByZXBhcmVBbmRVcGRhdGUifSwoZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtFKHQubmV3T3B0aW9uLnNlcmllcywoZnVuY3Rpb24odCl7dmFyIGk9ZS5nZXRTZXJpZXNCeU5hbWUodC5uYW1lKVswXTtpZihpKXt2YXIgcj1pLmdldCgiZGF0YSIpO24ucHVzaCh7bmFtZTp0Lm5hbWUsZGF0YTpyeih0LmRhdGEscil9KX1lbHNlIG4ucHVzaChBKHt0eXBlOiJzY2F0dGVyIn0sdCkpfSkpLGUubWVyZ2VPcHRpb24oayh7c2VyaWVzOm59LHQubmV3T3B0aW9uKSl9KSk7dmFyIG96PUUsYXo9U28oKTtmdW5jdGlvbiBzeih0KXt2YXIgZT1heih0KTtyZXR1cm4gZS5zbmFwc2hvdHN8fChlLnNuYXBzaG90cz1be31dKSxlLnNuYXBzaG90c312YXIgbHo9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5vbmNsaWNrPWZ1bmN0aW9uKHQsZSl7IWZ1bmN0aW9uKHQpe2F6KHQpLnNuYXBzaG90cz1udWxsfSh0KSxlLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJyZXN0b3JlIixmcm9tOnRoaXMudWlkfSl9LGUuZ2V0RGVmYXVsdE9wdGlvbj1mdW5jdGlvbih0KXtyZXR1cm57c2hvdzohMCxpY29uOiJNMy44LDMzLjQgTTQ3LDE4LjloOS44VjguNyBNNTYuMywyMC4xIEM1Mi4xLDksNDAuNSwwLjYsMjYuOCwyLjFDMTIuNiwzLjcsMS42LDE2LjIsMi4xLDMwLjYgTTEzLDQxLjFIMy4xdjEwLjIgTTMuNywzOS45YzQuMiwxMS4xLDE1LjgsMTkuNSwyOS41LDE4IGMxNC4yLTEuNiwyNS4yLTE0LjEsMjQuNy0yOC41Iix0aXRsZTp0LmdldExvY2FsZU1vZGVsKCkuZ2V0KFsidG9vbGJveCIsInJlc3RvcmUiLCJ0aXRsZSJdKX19LGV9KEZFKTtobSh7dHlwZToicmVzdG9yZSIsZXZlbnQ6InJlc3RvcmUiLHVwZGF0ZToicHJlcGFyZUFuZFVwZGF0ZSJ9LChmdW5jdGlvbih0LGUpe2UucmVzZXRPcHRpb24oInJlY3JlYXRlIil9KSk7dmFyIHV6PVsiZ3JpZCIsInhBeGlzIiwieUF4aXMiLCJnZW8iLCJncmFwaCIsInBvbGFyIiwicmFkaXVzQXhpcyIsImFuZ2xlQXhpcyIsImJtYXAiXSxoej1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3ZhciBpPXRoaXM7dGhpcy5fdGFyZ2V0SW5mb0xpc3Q9W107dmFyIHI9cHooZSx0KTtFKGR6LChmdW5jdGlvbih0LGUpeyghbnx8IW4uaW5jbHVkZXx8UChuLmluY2x1ZGUsZSk+PTApJiZ0KHIsaS5fdGFyZ2V0SW5mb0xpc3QpfSkpfXJldHVybiB0LnByb3RvdHlwZS5zZXRPdXRwdXRSYW5nZXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5tYXRjaE91dHB1dFJhbmdlcyh0LGUsKGZ1bmN0aW9uKHQsZSxuKXtpZigodC5jb29yZFJhbmdlc3x8KHQuY29vcmRSYW5nZXM9W10pKS5wdXNoKGUpLCF0LmNvb3JkUmFuZ2Upe3QuY29vcmRSYW5nZT1lO3ZhciBpPXl6W3QuYnJ1c2hUeXBlXSgwLG4sZSk7dC5fX3JhbmdlT2Zmc2V0PXtvZmZzZXQ6bXpbdC5icnVzaFR5cGVdKGkudmFsdWVzLHQucmFuZ2UsWzEsMV0pLHh5TWluTWF4OmkueHlNaW5NYXh9fX0pKSx0fSx0LnByb3RvdHlwZS5tYXRjaE91dHB1dFJhbmdlcz1mdW5jdGlvbih0LGUsbil7RSh0LChmdW5jdGlvbih0KXt2YXIgaT10aGlzLmZpbmRUYXJnZXRJbmZvKHQsZSk7aSYmITAhPT1pJiZFKGkuY29vcmRTeXNlcywoZnVuY3Rpb24oaSl7dmFyIHI9eXpbdC5icnVzaFR5cGVdKDEsaSx0LnJhbmdlLCEwKTtuKHQsci52YWx1ZXMsaSxlKX0pKX0pLHRoaXMpfSx0LnByb3RvdHlwZS5zZXRJbnB1dFJhbmdlcz1mdW5jdGlvbih0LGUpe0UodCwoZnVuY3Rpb24odCl7dmFyIG4saSxyLG8sYSxzPXRoaXMuZmluZFRhcmdldEluZm8odCxlKTtpZih0LnJhbmdlPXQucmFuZ2V8fFtdLHMmJiEwIT09cyl7dC5wYW5lbElkPXMucGFuZWxJZDt2YXIgbD15elt0LmJydXNoVHlwZV0oMCxzLmNvb3JkU3lzLHQuY29vcmRSYW5nZSksdT10Ll9fcmFuZ2VPZmZzZXQ7dC5yYW5nZT11P216W3QuYnJ1c2hUeXBlXShsLnZhbHVlcyx1Lm9mZnNldCwobj1sLnh5TWluTWF4LGk9dS54eU1pbk1heCxyPV96KG4pLG89X3ooaSksYT1bclswXS9vWzBdLHJbMV0vb1sxXV0saXNOYU4oYVswXSkmJihhWzBdPTEpLGlzTmFOKGFbMV0pJiYoYVsxXT0xKSxhKSk6bC52YWx1ZXN9fSksdGhpcyl9LHQucHJvdG90eXBlLm1ha2VQYW5lbE9wdHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4geih0aGlzLl90YXJnZXRJbmZvTGlzdCwoZnVuY3Rpb24obil7dmFyIGk9bi5nZXRQYW5lbFJlY3QoKTtyZXR1cm57cGFuZWxJZDpuLnBhbmVsSWQsZGVmYXVsdEJydXNoVHlwZTplP2Uobik6bnVsbCxjbGlwUGF0aDp1TChpKSxpc1RhcmdldEJ5Q3Vyc29yOmNMKGksdCxuLmNvb3JkU3lzTW9kZWwpLGdldExpbmVhckJydXNoT3RoZXJFeHRlbnQ6aEwoaSl9fSkpfSx0LnByb3RvdHlwZS5jb250cm9sU2VyaWVzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmZpbmRUYXJnZXRJbmZvKHQsbik7cmV0dXJuITA9PT1pfHxpJiZQKGkuY29vcmRTeXNlcyxlLmNvb3JkaW5hdGVTeXN0ZW0pPj0wfSx0LnByb3RvdHlwZS5maW5kVGFyZ2V0SW5mbz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLl90YXJnZXRJbmZvTGlzdCxpPXB6KGUsdCkscj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgbz1uW3JdLGE9dC5wYW5lbElkO2lmKGEpe2lmKG8ucGFuZWxJZD09PWEpcmV0dXJuIG99ZWxzZSBmb3IodmFyIHM9MDtzPGZ6Lmxlbmd0aDtzKyspaWYoZnpbc10oaSxvKSlyZXR1cm4gb31yZXR1cm4hMH0sdH0oKTtmdW5jdGlvbiBjeih0KXtyZXR1cm4gdFswXT50WzFdJiZ0LnJldmVyc2UoKSx0fWZ1bmN0aW9uIHB6KHQsZSl7cmV0dXJuIElvKHQsZSx7aW5jbHVkZU1haW5UeXBlczp1en0pfXZhciBkej17Z3JpZDpmdW5jdGlvbih0LGUpe3ZhciBuPXQueEF4aXNNb2RlbHMsaT10LnlBeGlzTW9kZWxzLHI9dC5ncmlkTW9kZWxzLG89ZnQoKSxhPXt9LHM9e307KG58fGl8fHIpJiYoRShuLChmdW5jdGlvbih0KXt2YXIgZT10LmF4aXMuZ3JpZC5tb2RlbDtvLnNldChlLmlkLGUpLGFbZS5pZF09ITB9KSksRShpLChmdW5jdGlvbih0KXt2YXIgZT10LmF4aXMuZ3JpZC5tb2RlbDtvLnNldChlLmlkLGUpLHNbZS5pZF09ITB9KSksRShyLChmdW5jdGlvbih0KXtvLnNldCh0LmlkLHQpLGFbdC5pZF09ITAsc1t0LmlkXT0hMH0pKSxvLmVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPXQuY29vcmRpbmF0ZVN5c3RlbSxvPVtdO0Uoci5nZXRDYXJ0ZXNpYW5zKCksKGZ1bmN0aW9uKHQsZSl7KFAobix0LmdldEF4aXMoIngiKS5tb2RlbCk+PTB8fFAoaSx0LmdldEF4aXMoInkiKS5tb2RlbCk+PTApJiZvLnB1c2godCl9KSksZS5wdXNoKHtwYW5lbElkOiJncmlkLS0iK3QuaWQsZ3JpZE1vZGVsOnQsY29vcmRTeXNNb2RlbDp0LGNvb3JkU3lzOm9bMF0sY29vcmRTeXNlczpvLGdldFBhbmVsUmVjdDpnei5ncmlkLHhBeGlzRGVjbGFyZWQ6YVt0LmlkXSx5QXhpc0RlY2xhcmVkOnNbdC5pZF19KX0pKSl9LGdlbzpmdW5jdGlvbih0LGUpe0UodC5nZW9Nb2RlbHMsKGZ1bmN0aW9uKHQpe3ZhciBuPXQuY29vcmRpbmF0ZVN5c3RlbTtlLnB1c2goe3BhbmVsSWQ6Imdlby0tIit0LmlkLGdlb01vZGVsOnQsY29vcmRTeXNNb2RlbDp0LGNvb3JkU3lzOm4sY29vcmRTeXNlczpbbl0sZ2V0UGFuZWxSZWN0Omd6Lmdlb30pfSkpfX0sZno9W2Z1bmN0aW9uKHQsZSl7dmFyIG49dC54QXhpc01vZGVsLGk9dC55QXhpc01vZGVsLHI9dC5ncmlkTW9kZWw7cmV0dXJuIXImJm4mJihyPW4uYXhpcy5ncmlkLm1vZGVsKSwhciYmaSYmKHI9aS5heGlzLmdyaWQubW9kZWwpLHImJnI9PT1lLmdyaWRNb2RlbH0sZnVuY3Rpb24odCxlKXt2YXIgbj10Lmdlb01vZGVsO3JldHVybiBuJiZuPT09ZS5nZW9Nb2RlbH1dLGd6PXtncmlkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29vcmRTeXMubWFzdGVyLmdldFJlY3QoKS5jbG9uZSgpfSxnZW86ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvb3JkU3lzLGU9dC5nZXRCb3VuZGluZ1JlY3QoKS5jbG9uZSgpO3JldHVybiBlLmFwcGx5VHJhbnNmb3JtKEloKHQpKSxlfX0seXo9e2xpbmVYOkgodnosMCksbGluZVk6SCh2eiwxKSxyZWN0OmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXQ/ZS5wb2ludFRvRGF0YShbblswXVswXSxuWzFdWzBdXSxpKTplLmRhdGFUb1BvaW50KFtuWzBdWzBdLG5bMV1bMF1dLGkpLG89dD9lLnBvaW50VG9EYXRhKFtuWzBdWzFdLG5bMV1bMV1dLGkpOmUuZGF0YVRvUG9pbnQoW25bMF1bMV0sblsxXVsxXV0saSksYT1bY3ooW3JbMF0sb1swXV0pLGN6KFtyWzFdLG9bMV1dKV07cmV0dXJue3ZhbHVlczphLHh5TWluTWF4OmF9fSxwb2x5Z29uOmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPVtbMS8wLC0xLzBdLFsxLzAsLTEvMF1dO3JldHVybnt2YWx1ZXM6eihuLChmdW5jdGlvbihuKXt2YXIgbz10P2UucG9pbnRUb0RhdGEobixpKTplLmRhdGFUb1BvaW50KG4saSk7cmV0dXJuIHJbMF1bMF09TWF0aC5taW4oclswXVswXSxvWzBdKSxyWzFdWzBdPU1hdGgubWluKHJbMV1bMF0sb1sxXSksclswXVsxXT1NYXRoLm1heChyWzBdWzFdLG9bMF0pLHJbMV1bMV09TWF0aC5tYXgoclsxXVsxXSxvWzFdKSxvfSkpLHh5TWluTWF4OnJ9fX07ZnVuY3Rpb24gdnoodCxlLG4saSl7dmFyIHI9bi5nZXRBeGlzKFsieCIsInkiXVt0XSksbz1jeih6KFswLDFdLChmdW5jdGlvbih0KXtyZXR1cm4gZT9yLmNvb3JkVG9EYXRhKHIudG9Mb2NhbENvb3JkKGlbdF0pLCEwKTpyLnRvR2xvYmFsQ29vcmQoci5kYXRhVG9Db29yZChpW3RdKSl9KSkpLGE9W107cmV0dXJuIGFbdF09byxhWzEtdF09W05hTixOYU5dLHt2YWx1ZXM6byx4eU1pbk1heDphfX12YXIgbXo9e2xpbmVYOkgoeHosMCksbGluZVk6SCh4eiwxKSxyZWN0OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm5bW3RbMF1bMF0tblswXSplWzBdWzBdLHRbMF1bMV0tblswXSplWzBdWzFdXSxbdFsxXVswXS1uWzFdKmVbMV1bMF0sdFsxXVsxXS1uWzFdKmVbMV1bMV1dXX0scG9seWdvbjpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHoodCwoZnVuY3Rpb24odCxpKXtyZXR1cm5bdFswXS1uWzBdKmVbaV1bMF0sdFsxXS1uWzFdKmVbaV1bMV1dfSkpfX07ZnVuY3Rpb24geHoodCxlLG4saSl7cmV0dXJuW2VbMF0taVt0XSpuWzBdLGVbMV0taVt0XSpuWzFdXX1mdW5jdGlvbiBfeih0KXtyZXR1cm4gdD9bdFswXVsxXS10WzBdWzBdLHRbMV1bMV0tdFsxXVswXV06W05hTixOYU5dfXZhciBieix3eixTej1FLE16PXVvKyJ0b29sYm94LWRhdGFab29tXyIsSXo9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5fYnJ1c2hDb250cm9sbGVyfHwodGhpcy5fYnJ1c2hDb250cm9sbGVyPW5ldyBQayhuLmdldFpyKCkpLHRoaXMuX2JydXNoQ29udHJvbGxlci5vbigiYnJ1c2giLFcodGhpcy5fb25CcnVzaCx0aGlzKSkubW91bnQoKSksZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1uLl9pc1pvb21BY3RpdmU7aSYmInRha2VHbG9iYWxDdXJzb3IiPT09aS50eXBlJiYobz0iZGF0YVpvb21TZWxlY3QiPT09aS5rZXkmJmkuZGF0YVpvb21TZWxlY3RBY3RpdmUpO24uX2lzWm9vbUFjdGl2ZT1vLHQuc2V0SWNvblN0YXR1cygiem9vbSIsbz8iZW1waGFzaXMiOiJub3JtYWwiKTt2YXIgYT1uZXcgaHooQ3oodCksZSx7aW5jbHVkZTpbImdyaWQiXX0pLm1ha2VQYW5lbE9wdHMociwoZnVuY3Rpb24odCl7cmV0dXJuIHQueEF4aXNEZWNsYXJlZCYmIXQueUF4aXNEZWNsYXJlZD8ibGluZVgiOiF0LnhBeGlzRGVjbGFyZWQmJnQueUF4aXNEZWNsYXJlZD8ibGluZVkiOiJyZWN0In0pKTtuLl9icnVzaENvbnRyb2xsZXIuc2V0UGFuZWxzKGEpLmVuYWJsZUJydXNoKCEoIW98fCFhLmxlbmd0aCkmJnticnVzaFR5cGU6ImF1dG8iLGJydXNoU3R5bGU6dC5nZXRNb2RlbCgiYnJ1c2hTdHlsZSIpLmdldEl0ZW1TdHlsZSgpfSl9KHQsZSx0aGlzLGksbiksZnVuY3Rpb24odCxlKXt0LnNldEljb25TdGF0dXMoImJhY2siLGZ1bmN0aW9uKHQpe3JldHVybiBzeih0KS5sZW5ndGh9KGUpPjE/ImVtcGhhc2lzIjoibm9ybWFsIil9KHQsZSl9LGUucHJvdG90eXBlLm9uY2xpY2s9ZnVuY3Rpb24odCxlLG4pe1R6W25dLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3RoaXMuX2JydXNoQ29udHJvbGxlciYmdGhpcy5fYnJ1c2hDb250cm9sbGVyLnVubW91bnQoKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LGUpe3RoaXMuX2JydXNoQ29udHJvbGxlciYmdGhpcy5fYnJ1c2hDb250cm9sbGVyLmRpc3Bvc2UoKX0sZS5wcm90b3R5cGUuX29uQnJ1c2g9ZnVuY3Rpb24odCl7dmFyIGU9dC5hcmVhcztpZih0LmlzRW5kJiZlLmxlbmd0aCl7dmFyIG49e30saT10aGlzLmVjTW9kZWw7dGhpcy5fYnJ1c2hDb250cm9sbGVyLnVwZGF0ZUNvdmVycyhbXSksbmV3IGh6KEN6KHRoaXMubW9kZWwpLGkse2luY2x1ZGU6WyJncmlkIl19KS5tYXRjaE91dHB1dFJhbmdlcyhlLGksKGZ1bmN0aW9uKHQsZSxuKXtpZigiY2FydGVzaWFuMmQiPT09bi50eXBlKXt2YXIgaT10LmJydXNoVHlwZTsicmVjdCI9PT1pPyhyKCJ4IixuLGVbMF0pLHIoInkiLG4sZVsxXSkpOnIoe2xpbmVYOiJ4IixsaW5lWToieSJ9W2ldLG4sZSl9fSkpLGZ1bmN0aW9uKHQsZSl7dmFyIG49c3oodCk7b3ooZSwoZnVuY3Rpb24oZSxpKXtmb3IodmFyIHI9bi5sZW5ndGgtMTtyPj0wJiYhbltyXVtpXTtyLS0pO2lmKHI8MCl7dmFyIG89dC5xdWVyeUNvbXBvbmVudHMoe21haW5UeXBlOiJkYXRhWm9vbSIsc3ViVHlwZToic2VsZWN0IixpZDppfSlbMF07aWYobyl7dmFyIGE9by5nZXRQZXJjZW50UmFuZ2UoKTtuWzBdW2ldPXtkYXRhWm9vbUlkOmksc3RhcnQ6YVswXSxlbmQ6YVsxXX19fX0pKSxuLnB1c2goZSl9KGksbiksdGhpcy5fZGlzcGF0Y2hab29tQWN0aW9uKG4pfWZ1bmN0aW9uIHIodCxlLHIpe3ZhciBvPWUuZ2V0QXhpcyh0KSxhPW8ubW9kZWwscz1mdW5jdGlvbih0LGUsbil7dmFyIGk7cmV0dXJuIG4uZWFjaENvbXBvbmVudCh7bWFpblR5cGU6ImRhdGFab29tIixzdWJUeXBlOiJzZWxlY3QifSwoZnVuY3Rpb24obil7bi5nZXRBeGlzTW9kZWwodCxlLmNvbXBvbmVudEluZGV4KSYmKGk9bil9KSksaX0odCxhLGkpLGw9cy5maW5kUmVwcmVzZW50YXRpdmVBeGlzUHJveHkoYSkuZ2V0TWluTWF4U3BhbigpO251bGw9PWwubWluVmFsdWVTcGFuJiZudWxsPT1sLm1heFZhbHVlU3Bhbnx8KHI9c2soMCxyLnNsaWNlKCksby5zY2FsZS5nZXRFeHRlbnQoKSwwLGwubWluVmFsdWVTcGFuLGwubWF4VmFsdWVTcGFuKSkscyYmKG5bcy5pZF09e2RhdGFab29tSWQ6cy5pZCxzdGFydFZhbHVlOnJbMF0sZW5kVmFsdWU6clsxXX0pfX0sZS5wcm90b3R5cGUuX2Rpc3BhdGNoWm9vbUFjdGlvbj1mdW5jdGlvbih0KXt2YXIgZT1bXTtTeih0LChmdW5jdGlvbih0LG4pe2UucHVzaChUKHQpKX0pKSxlLmxlbmd0aCYmdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImRhdGFab29tIixmcm9tOnRoaXMudWlkLGJhdGNoOmV9KX0sZS5nZXREZWZhdWx0T3B0aW9uPWZ1bmN0aW9uKHQpe3JldHVybntzaG93OiEwLGZpbHRlck1vZGU6ImZpbHRlciIsaWNvbjp7em9vbToiTTAsMTMuNWgyNi45IE0xMy41LDI2LjlWMCBNMzIuMSwxMy41SDU4VjU4SDEzLjUgVjMyLjEiLGJhY2s6Ik0yMiwxLjRMOS45LDEzLjVsMTIuMywxMi4zIE0xMC4zLDEzLjVINTQuOXY0NC42IEgxMC4zdi0yNiJ9LHRpdGxlOnQuZ2V0TG9jYWxlTW9kZWwoKS5nZXQoWyJ0b29sYm94IiwiZGF0YVpvb20iLCJ0aXRsZSJdKSxicnVzaFN0eWxlOntib3JkZXJXaWR0aDowLGNvbG9yOiJyZ2JhKDIxMCwyMTksMjM4LDAuMikifX19LGV9KEZFKSxUej17em9vbTpmdW5jdGlvbigpe3ZhciB0PSF0aGlzLl9pc1pvb21BY3RpdmU7dGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InRha2VHbG9iYWxDdXJzb3IiLGtleToiZGF0YVpvb21TZWxlY3QiLGRhdGFab29tU2VsZWN0QWN0aXZlOnR9KX0sYmFjazpmdW5jdGlvbigpe3RoaXMuX2Rpc3BhdGNoWm9vbUFjdGlvbihmdW5jdGlvbih0KXt2YXIgZT1zeih0KSxuPWVbZS5sZW5ndGgtMV07ZS5sZW5ndGg+MSYmZS5wb3AoKTt2YXIgaT17fTtyZXR1cm4gb3oobiwoZnVuY3Rpb24odCxuKXtmb3IodmFyIHI9ZS5sZW5ndGgtMTtyPj0wO3ItLSlpZih0PWVbcl1bbl0pe2lbbl09dDticmVha319KSksaX0odGhpcy5lY01vZGVsKSl9fTtmdW5jdGlvbiBDeih0KXt2YXIgZT17eEF4aXNJbmRleDp0LmdldCgieEF4aXNJbmRleCIsITApLHlBeGlzSW5kZXg6dC5nZXQoInlBeGlzSW5kZXgiLCEwKSx4QXhpc0lkOnQuZ2V0KCJ4QXhpc0lkIiwhMCkseUF4aXNJZDp0LmdldCgieUF4aXNJZCIsITApfTtyZXR1cm4gbnVsbD09ZS54QXhpc0luZGV4JiZudWxsPT1lLnhBeGlzSWQmJihlLnhBeGlzSW5kZXg9ImFsbCIpLG51bGw9PWUueUF4aXNJbmRleCYmbnVsbD09ZS55QXhpc0lkJiYoZS55QXhpc0luZGV4PSJhbGwiKSxlfWJ6PSJkYXRhWm9vbSIsd3o9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRDb21wb25lbnQoInRvb2xib3giLDApLG49WyJmZWF0dXJlIiwiZGF0YVpvb20iXTtpZihlJiZudWxsIT1lLmdldChuKSl7dmFyIGk9ZS5nZXRNb2RlbChuKSxyPVtdLG89SW8odCxDeihpKSk7cmV0dXJuIFN6KG8ueEF4aXNNb2RlbHMsKGZ1bmN0aW9uKHQpe3JldHVybiBhKHQsInhBeGlzIiwieEF4aXNJbmRleCIpfSkpLFN6KG8ueUF4aXNNb2RlbHMsKGZ1bmN0aW9uKHQpe3JldHVybiBhKHQsInlBeGlzIiwieUF4aXNJbmRleCIpfSkpLHJ9ZnVuY3Rpb24gYSh0LGUsbil7dmFyIG89dC5jb21wb25lbnRJbmRleCxhPXt0eXBlOiJzZWxlY3QiLCRmcm9tVG9vbGJveDohMCxmaWx0ZXJNb2RlOmkuZ2V0KCJmaWx0ZXJNb2RlIiwhMCl8fCJmaWx0ZXIiLGlkOk16K2Urb307YVtuXT1vLHIucHVzaChhKX19LGx0KG51bGw9PWpwLmdldChieikmJnd6KSxqcC5zZXQoYnosd3opO3ZhciBEej1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnR5cGU9InRvb2x0aXAiLGUuZGVwZW5kZW5jaWVzPVsiYXhpc1BvaW50ZXIiXSxlLmRlZmF1bHRPcHRpb249e3o6NjAsc2hvdzohMCxzaG93Q29udGVudDohMCx0cmlnZ2VyOiJpdGVtIix0cmlnZ2VyT246Im1vdXNlbW92ZXxjbGljayIsYWx3YXlzU2hvd0NvbnRlbnQ6ITEsZGlzcGxheU1vZGU6InNpbmdsZSIscmVuZGVyTW9kZToiYXV0byIsY29uZmluZTpudWxsLHNob3dEZWxheTowLGhpZGVEZWxheToxMDAsdHJhbnNpdGlvbkR1cmF0aW9uOi40LGVudGVyYWJsZTohMSxiYWNrZ3JvdW5kQ29sb3I6IiNmZmYiLHNoYWRvd0JsdXI6MTAsc2hhZG93Q29sb3I6InJnYmEoMCwgMCwgMCwgLjIpIixzaGFkb3dPZmZzZXRYOjEsc2hhZG93T2Zmc2V0WToyLGJvcmRlclJhZGl1czo0LGJvcmRlcldpZHRoOjEscGFkZGluZzpudWxsLGV4dHJhQ3NzVGV4dDoiIixheGlzUG9pbnRlcjp7dHlwZToibGluZSIsYXhpczoiYXV0byIsYW5pbWF0aW9uOiJhdXRvIixhbmltYXRpb25EdXJhdGlvblVwZGF0ZToyMDAsYW5pbWF0aW9uRWFzaW5nVXBkYXRlOiJleHBvbmVudGlhbE91dCIsY3Jvc3NTdHlsZTp7Y29sb3I6IiM5OTkiLHdpZHRoOjEsdHlwZToiZGFzaGVkIix0ZXh0U3R5bGU6e319fSx0ZXh0U3R5bGU6e2NvbG9yOiIjNjY2Iixmb250U2l6ZToxNH19LGV9KFRwKTtmdW5jdGlvbiBBeih0KXt2YXIgZT10LmdldCgiY29uZmluZSIpO3JldHVybiBudWxsIT1lPyEhZToicmljaFRleHQiPT09dC5nZXQoInJlbmRlck1vZGUiKX1mdW5jdGlvbiBreih0KXtpZihyLmRvbVN1cHBvcnRlZClmb3IodmFyIGU9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLG49MCxpPXQubGVuZ3RoO248aTtuKyspaWYodFtuXWluIGUpcmV0dXJuIHRbbl19dmFyIEx6PWt6KFsidHJhbnNmb3JtIiwid2Via2l0VHJhbnNmb3JtIiwiT1RyYW5zZm9ybSIsIk1velRyYW5zZm9ybSIsIm1zVHJhbnNmb3JtIl0pO2Z1bmN0aW9uIFB6KHQsZSl7aWYoIXQpcmV0dXJuIGU7ZT1ucChlLCEwKTt2YXIgbj10LmluZGV4T2YoZSk7cmV0dXJuKHQ9LTE9PT1uP2U6Ii0iK3Quc2xpY2UoMCxuKSsiLSIrZSkudG9Mb3dlckNhc2UoKX12YXIgT3o9UHooa3ooWyJ3ZWJraXRUcmFuc2l0aW9uIiwidHJhbnNpdGlvbiIsIk9UcmFuc2l0aW9uIiwiTW96VHJhbnNpdGlvbiIsIm1zVHJhbnNpdGlvbiJdKSwidHJhbnNpdGlvbiIpLFJ6PVB6KEx6LCJ0cmFuc2Zvcm0iKSxOej0icG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpibG9jaztib3JkZXItc3R5bGU6c29saWQ7d2hpdGUtc3BhY2U6bm93cmFwO3otaW5kZXg6OTk5OTk5OTsiKyhyLnRyYW5zZm9ybTNkU3VwcG9ydGVkPyJ3aWxsLWNoYW5nZTp0cmFuc2Zvcm07IjoiIik7ZnVuY3Rpb24gRXoodCxlLG4pe3ZhciBpPXQudG9GaXhlZCgwKSsicHgiLG89ZS50b0ZpeGVkKDApKyJweCI7aWYoIXIudHJhbnNmb3JtU3VwcG9ydGVkKXJldHVybiBuPyJ0b3A6IitvKyI7bGVmdDoiK2krIjsiOltbInRvcCIsb10sWyJsZWZ0IixpXV07dmFyIGE9ci50cmFuc2Zvcm0zZFN1cHBvcnRlZCxzPSJ0cmFuc2xhdGUiKyhhPyIzZCI6IiIpKyIoIitpKyIsIitvKyhhPyIsMCI6IiIpKyIpIjtyZXR1cm4gbj8idG9wOjA7bGVmdDowOyIrUnorIjoiK3MrIjsiOltbInRvcCIsMF0sWyJsZWZ0IiwwXSxbTHosc11dfWZ1bmN0aW9uIHp6KHQsZSxuKXt2YXIgaT1bXSxvPXQuZ2V0KCJ0cmFuc2l0aW9uRHVyYXRpb24iKSxhPXQuZ2V0KCJiYWNrZ3JvdW5kQ29sb3IiKSxzPXQuZ2V0KCJzaGFkb3dCbHVyIiksbD10LmdldCgic2hhZG93Q29sb3IiKSx1PXQuZ2V0KCJzaGFkb3dPZmZzZXRYIiksaD10LmdldCgic2hhZG93T2Zmc2V0WSIpLGM9dC5nZXRNb2RlbCgidGV4dFN0eWxlIikscD1uZyh0LCJodG1sIiksZD11KyJweCAiK2grInB4ICIrcysicHggIitsO3JldHVybiBpLnB1c2goImJveC1zaGFkb3c6IitkKSxlJiZvJiZpLnB1c2goZnVuY3Rpb24odCxlKXt2YXIgbj0iY3ViaWMtYmV6aWVyKDAuMjMsMSwwLjMyLDEpIixpPSIgIit0LzIrInMgIituLG89Im9wYWNpdHkiK2krIix2aXNpYmlsaXR5IitpO3JldHVybiBlfHwoaT0iICIrdCsicyAiK24sbys9ci50cmFuc2Zvcm1TdXBwb3J0ZWQ/IiwiK1J6K2k6IixsZWZ0IitpKyIsdG9wIitpKSxPeisiOiIrb30obyxuKSksYSYmaS5wdXNoKCJiYWNrZ3JvdW5kLWNvbG9yOiIrYSksRShbIndpZHRoIiwiY29sb3IiLCJyYWRpdXMiXSwoZnVuY3Rpb24oZSl7dmFyIG49ImJvcmRlci0iK2Uscj1ucChuKSxvPXQuZ2V0KHIpO251bGwhPW8mJmkucHVzaChuKyI6IitvKygiY29sb3IiPT09ZT8iIjoicHgiKSl9KSksaS5wdXNoKGZ1bmN0aW9uKHQpe3ZhciBlPVtdLG49dC5nZXQoImZvbnRTaXplIiksaT10LmdldFRleHRDb2xvcigpO2kmJmUucHVzaCgiY29sb3I6IitpKSxlLnB1c2goImZvbnQ6Iit0LmdldEZvbnQoKSksbiYmZS5wdXNoKCJsaW5lLWhlaWdodDoiK01hdGgucm91bmQoMypuLzIpKyJweCIpO3ZhciByPXQuZ2V0KCJ0ZXh0U2hhZG93Q29sb3IiKSxvPXQuZ2V0KCJ0ZXh0U2hhZG93Qmx1ciIpfHwwLGE9dC5nZXQoInRleHRTaGFkb3dPZmZzZXRYIil8fDAscz10LmdldCgidGV4dFNoYWRvd09mZnNldFkiKXx8MDtyZXR1cm4gciYmbyYmZS5wdXNoKCJ0ZXh0LXNoYWRvdzoiK2ErInB4ICIrcysicHggIitvKyJweCAiK3IpLEUoWyJkZWNvcmF0aW9uIiwiYWxpZ24iXSwoZnVuY3Rpb24obil7dmFyIGk9dC5nZXQobik7aSYmZS5wdXNoKCJ0ZXh0LSIrbisiOiIraSl9KSksZS5qb2luKCI7Iil9KGMpKSxudWxsIT1wJiZpLnB1c2goInBhZGRpbmc6IitpcChwKS5qb2luKCJweCAiKSsicHgiKSxpLmpvaW4oIjsiKSsiOyJ9ZnVuY3Rpb24gVnoodCxlLG4saSxyKXt2YXIgbz1lJiZlLnBhaW50ZXI7aWYobil7dmFyIGE9byYmby5nZXRWaWV3cG9ydFJvb3QoKTthJiZmdW5jdGlvbih0LGUsbixpLHIpeyR0KEt0LGUsaSxyLCEwKSYmJHQodCxuLEt0WzBdLEt0WzFdKX0odCxhLGRvY3VtZW50LmJvZHksaSxyKX1lbHNle3RbMF09aSx0WzFdPXI7dmFyIHM9byYmby5nZXRWaWV3cG9ydFJvb3RPZmZzZXQoKTtzJiYodFswXSs9cy5vZmZzZXRMZWZ0LHRbMV0rPXMub2Zmc2V0VG9wKX10WzJdPXRbMF0vZS5nZXRXaWR0aCgpLHRbM109dFsxXS9lLmdldEhlaWdodCgpfXZhciBCej1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe2lmKHRoaXMuX3Nob3c9ITEsdGhpcy5fc3R5bGVDb29yZD1bMCwwLDAsMF0sdGhpcy5fZW50ZXJhYmxlPSEwLHRoaXMuX2ZpcnN0U2hvdz0hMCx0aGlzLl9sb25nSGlkZT0hMCxyLnd4YSlyZXR1cm4gbnVsbDt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtpLmRvbUJlbG9uZ1RvWnI9ITAsdGhpcy5lbD1pO3ZhciBvPXRoaXMuX3pyPWUuZ2V0WnIoKSxhPXRoaXMuX2FwcGVuZFRvQm9keT1uJiZuLmFwcGVuZFRvQm9keTtWeih0aGlzLl9zdHlsZUNvb3JkLG8sYSxlLmdldFdpZHRoKCkvMixlLmdldEhlaWdodCgpLzIpLGE/ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpKTp0LmFwcGVuZENoaWxkKGkpLHRoaXMuX2NvbnRhaW5lcj10O3ZhciBzPXRoaXM7aS5vbm1vdXNlZW50ZXI9ZnVuY3Rpb24oKXtzLl9lbnRlcmFibGUmJihjbGVhclRpbWVvdXQocy5faGlkZVRpbWVvdXQpLHMuX3Nob3c9ITApLHMuX2luQ29udGVudD0hMH0saS5vbm1vdXNlbW92ZT1mdW5jdGlvbih0KXtpZih0PXR8fHdpbmRvdy5ldmVudCwhcy5fZW50ZXJhYmxlKXt2YXIgZT1vLmhhbmRsZXI7b2Uoby5wYWludGVyLmdldFZpZXdwb3J0Um9vdCgpLHQsITApLGUuZGlzcGF0Y2goIm1vdXNlbW92ZSIsdCl9fSxpLm9ubW91c2VsZWF2ZT1mdW5jdGlvbigpe3MuX2luQ29udGVudD0hMSxzLl9lbnRlcmFibGUmJnMuX3Nob3cmJnMuaGlkZUxhdGVyKHMuX2hpZGVEZWxheSl9fXJldHVybiB0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dmFyIGUsbixpLHI9dGhpcy5fY29udGFpbmVyLG89KG49InBvc2l0aW9uIiwoaT0oZT1yKS5jdXJyZW50U3R5bGV8fGRvY3VtZW50LmRlZmF1bHRWaWV3JiZkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGUpKT9uP2lbbl06aTpudWxsKSxhPXIuc3R5bGU7ImFic29sdXRlIiE9PWEucG9zaXRpb24mJiJhYnNvbHV0ZSIhPT1vJiYoYS5wb3NpdGlvbj0icmVsYXRpdmUiKSx0LmdldCgiYWx3YXlzU2hvd0NvbnRlbnQiKSYmdGhpcy5fbW92ZUlmUmVzaXplZCgpLHRoaXMuZWwuY2xhc3NOYW1lPXQuZ2V0KCJjbGFzc05hbWUiKXx8IiJ9LHQucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24odCxlKXtjbGVhclRpbWVvdXQodGhpcy5faGlkZVRpbWVvdXQpLGNsZWFyVGltZW91dCh0aGlzLl9sb25nSGlkZVRpbWVvdXQpO3ZhciBuPXRoaXMuZWwsaT1uLnN0eWxlLHI9dGhpcy5fc3R5bGVDb29yZDtuLmlubmVySFRNTD9pLmNzc1RleHQ9TnorenoodCwhdGhpcy5fZmlyc3RTaG93LHRoaXMuX2xvbmdIaWRlKStFeihyWzBdLHJbMV0sITApKyJib3JkZXItY29sb3I6IitwcChlKSsiOyIrKHQuZ2V0KCJleHRyYUNzc1RleHQiKXx8IiIpKyI7cG9pbnRlci1ldmVudHM6IisodGhpcy5fZW50ZXJhYmxlPyJhdXRvIjoibm9uZSIpOmkuZGlzcGxheT0ibm9uZSIsdGhpcy5fc2hvdz0hMCx0aGlzLl9maXJzdFNob3c9ITEsdGhpcy5fbG9uZ0hpZGU9ITF9LHQucHJvdG90eXBlLnNldENvbnRlbnQ9ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz10aGlzLmVsO2lmKG51bGwhPXQpe3ZhciBhPSIiO2lmKFgocikmJiJpdGVtIj09PW4uZ2V0KCJ0cmlnZ2VyIikmJiFBeihuKSYmKGE9ZnVuY3Rpb24odCxlLG4pe2lmKCFYKG4pfHwiaW5zaWRlIj09PW4pcmV0dXJuIiI7dmFyIGk9dC5nZXQoImJhY2tncm91bmRDb2xvciIpLHI9dC5nZXQoImJvcmRlcldpZHRoIik7ZT1wcChlKTt2YXIgbyxhLHM9ImxlZnQiPT09KG89bik/InJpZ2h0IjoicmlnaHQiPT09bz8ibGVmdCI6InRvcCI9PT1vPyJib3R0b20iOiJ0b3AiLGw9TWF0aC5tYXgoMS41Kk1hdGgucm91bmQociksNiksdT0iIixoPVJ6KyI6IjtQKFsibGVmdCIsInJpZ2h0Il0scyk+LTE/KHUrPSJ0b3A6NTAlIixoKz0idHJhbnNsYXRlWSgtNTAlKSByb3RhdGUoIisoYT0ibGVmdCI9PT1zPy0yMjU6LTQ1KSsiZGVnKSIpOih1Kz0ibGVmdDo1MCUiLGgrPSJ0cmFuc2xhdGVYKC01MCUpIHJvdGF0ZSgiKyhhPSJ0b3AiPT09cz8yMjU6NDUpKyJkZWcpIik7dmFyIGM9YSpNYXRoLlBJLzE4MCxwPWwrcixkPXAqTWF0aC5hYnMoTWF0aC5jb3MoYykpK3AqTWF0aC5hYnMoTWF0aC5zaW4oYykpLGY9ZSsiIHNvbGlkICIrcisicHg7IjtyZXR1cm4nPGRpdiBzdHlsZT0iJytbInBvc2l0aW9uOmFic29sdXRlO3dpZHRoOiIrbCsicHg7aGVpZ2h0OiIrbCsicHg7IiwodSs9IjsiK3MrIjotIitNYXRoLnJvdW5kKDEwMCooKGQtTWF0aC5TUVJUMipyKS8yK01hdGguU1FSVDIqci0oZC1wKS8yKSkvMTAwKyJweCIpKyI7IitoKyI7IiwiYm9yZGVyLWJvdHRvbToiK2YsImJvcmRlci1yaWdodDoiK2YsImJhY2tncm91bmQtY29sb3I6IitpKyI7Il0uam9pbigiIikrJyI+PC9kaXY+J30obixpLHIpKSxYKHQpKW8uaW5uZXJIVE1MPXQrYTtlbHNlIGlmKHQpe28uaW5uZXJIVE1MPSIiLFkodCl8fCh0PVt0XSk7Zm9yKHZhciBzPTA7czx0Lmxlbmd0aDtzKyspSih0W3NdKSYmdFtzXS5wYXJlbnROb2RlIT09byYmby5hcHBlbmRDaGlsZCh0W3NdKTtpZihhJiZvLmNoaWxkTm9kZXMubGVuZ3RoKXt2YXIgbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtsLmlubmVySFRNTD1hLG8uYXBwZW5kQ2hpbGQobCl9fX1lbHNlIG8uaW5uZXJIVE1MPSIifSx0LnByb3RvdHlwZS5zZXRFbnRlcmFibGU9ZnVuY3Rpb24odCl7dGhpcy5fZW50ZXJhYmxlPXR9LHQucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsO3JldHVyblt0Lm9mZnNldFdpZHRoLHQub2Zmc2V0SGVpZ2h0XX0sdC5wcm90b3R5cGUubW92ZVRvPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fc3R5bGVDb29yZDtpZihWeihuLHRoaXMuX3pyLHRoaXMuX2FwcGVuZFRvQm9keSx0LGUpLG51bGwhPW5bMF0mJm51bGwhPW5bMV0pe3ZhciBpPXRoaXMuZWwuc3R5bGU7RShFeihuWzBdLG5bMV0pLChmdW5jdGlvbih0KXtpW3RbMF1dPXRbMV19KSl9fSx0LnByb3RvdHlwZS5fbW92ZUlmUmVzaXplZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N0eWxlQ29vcmRbMl0sZT10aGlzLl9zdHlsZUNvb3JkWzNdO3RoaXMubW92ZVRvKHQqdGhpcy5fenIuZ2V0V2lkdGgoKSxlKnRoaXMuX3pyLmdldEhlaWdodCgpKX0sdC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLmVsLnN0eWxlO2UudmlzaWJpbGl0eT0iaGlkZGVuIixlLm9wYWNpdHk9IjAiLHIudHJhbnNmb3JtM2RTdXBwb3J0ZWQmJihlLndpbGxDaGFuZ2U9IiIpLHRoaXMuX3Nob3c9ITEsdGhpcy5fbG9uZ0hpZGVUaW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX2xvbmdIaWRlPSEwfSksNTAwKX0sdC5wcm90b3R5cGUuaGlkZUxhdGVyPWZ1bmN0aW9uKHQpeyF0aGlzLl9zaG93fHx0aGlzLl9pbkNvbnRlbnQmJnRoaXMuX2VudGVyYWJsZXx8KHQ/KHRoaXMuX2hpZGVEZWxheT10LHRoaXMuX3Nob3c9ITEsdGhpcy5faGlkZVRpbWVvdXQ9c2V0VGltZW91dChXKHRoaXMuaGlkZSx0aGlzKSx0KSk6dGhpcy5oaWRlKCkpfSx0LnByb3RvdHlwZS5pc1Nob3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hvd30sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsKX0sdH0oKSxGej1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fc2hvdz0hMSx0aGlzLl9zdHlsZUNvb3JkPVswLDAsMCwwXSx0aGlzLl9lbnRlcmFibGU9ITAsdGhpcy5fenI9dC5nZXRacigpLEh6KHRoaXMuX3N0eWxlQ29vcmQsdGhpcy5fenIsdC5nZXRXaWR0aCgpLzIsdC5nZXRIZWlnaHQoKS8yKX1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3QuZ2V0KCJhbHdheXNTaG93Q29udGVudCIpJiZ0aGlzLl9tb3ZlSWZSZXNpemVkKCl9LHQucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt0aGlzLl9oaWRlVGltZW91dCYmY2xlYXJUaW1lb3V0KHRoaXMuX2hpZGVUaW1lb3V0KSx0aGlzLmVsLnNob3coKSx0aGlzLl9zaG93PSEwfSx0LnByb3RvdHlwZS5zZXRDb250ZW50PWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89dGhpcztxKHQpJiZhbygiIiksdGhpcy5lbCYmdGhpcy5fenIucmVtb3ZlKHRoaXMuZWwpO3ZhciBhPW4uZ2V0TW9kZWwoInRleHRTdHlsZSIpO3RoaXMuZWw9bmV3IGtzKHtzdHlsZTp7cmljaDplLnJpY2hUZXh0U3R5bGVzLHRleHQ6dCxsaW5lSGVpZ2h0OjIyLGJvcmRlcldpZHRoOjEsYm9yZGVyQ29sb3I6aSx0ZXh0U2hhZG93Q29sb3I6YS5nZXQoInRleHRTaGFkb3dDb2xvciIpLGZpbGw6bi5nZXQoWyJ0ZXh0U3R5bGUiLCJjb2xvciJdKSxwYWRkaW5nOm5nKG4sInJpY2hUZXh0IiksdmVydGljYWxBbGlnbjoidG9wIixhbGlnbjoibGVmdCJ9LHo6bi5nZXQoInoiKX0pLEUoWyJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXJSYWRpdXMiLCJzaGFkb3dDb2xvciIsInNoYWRvd0JsdXIiLCJzaGFkb3dPZmZzZXRYIiwic2hhZG93T2Zmc2V0WSJdLChmdW5jdGlvbih0KXtvLmVsLnN0eWxlW3RdPW4uZ2V0KHQpfSkpLEUoWyJ0ZXh0U2hhZG93Qmx1ciIsInRleHRTaGFkb3dPZmZzZXRYIiwidGV4dFNoYWRvd09mZnNldFkiXSwoZnVuY3Rpb24odCl7by5lbC5zdHlsZVt0XT1hLmdldCh0KXx8MH0pKSx0aGlzLl96ci5hZGQodGhpcy5lbCk7dmFyIHM9dGhpczt0aGlzLmVsLm9uKCJtb3VzZW92ZXIiLChmdW5jdGlvbigpe3MuX2VudGVyYWJsZSYmKGNsZWFyVGltZW91dChzLl9oaWRlVGltZW91dCkscy5fc2hvdz0hMCkscy5faW5Db250ZW50PSEwfSkpLHRoaXMuZWwub24oIm1vdXNlb3V0IiwoZnVuY3Rpb24oKXtzLl9lbnRlcmFibGUmJnMuX3Nob3cmJnMuaGlkZUxhdGVyKHMuX2hpZGVEZWxheSkscy5faW5Db250ZW50PSExfSkpfSx0LnByb3RvdHlwZS5zZXRFbnRlcmFibGU9ZnVuY3Rpb24odCl7dGhpcy5fZW50ZXJhYmxlPXR9LHQucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsLGU9dGhpcy5lbC5nZXRCb3VuZGluZ1JlY3QoKSxuPVd6KHQuc3R5bGUpO3JldHVybltlLndpZHRoK24ubGVmdCtuLnJpZ2h0LGUuaGVpZ2h0K24udG9wK24uYm90dG9tXX0sdC5wcm90b3R5cGUubW92ZVRvPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5lbDtpZihuKXt2YXIgaT10aGlzLl9zdHlsZUNvb3JkO0h6KGksdGhpcy5fenIsdCxlKSx0PWlbMF0sZT1pWzFdO3ZhciByPW4uc3R5bGUsbz1HeihyLmJvcmRlcldpZHRofHwwKSxhPVd6KHIpO24ueD10K28rYS5sZWZ0LG4ueT1lK28rYS50b3Asbi5tYXJrUmVkcmF3KCl9fSx0LnByb3RvdHlwZS5fbW92ZUlmUmVzaXplZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N0eWxlQ29vcmRbMl0sZT10aGlzLl9zdHlsZUNvb3JkWzNdO3RoaXMubW92ZVRvKHQqdGhpcy5fenIuZ2V0V2lkdGgoKSxlKnRoaXMuX3pyLmdldEhlaWdodCgpKX0sdC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMuZWwmJnRoaXMuZWwuaGlkZSgpLHRoaXMuX3Nob3c9ITF9LHQucHJvdG90eXBlLmhpZGVMYXRlcj1mdW5jdGlvbih0KXshdGhpcy5fc2hvd3x8dGhpcy5faW5Db250ZW50JiZ0aGlzLl9lbnRlcmFibGV8fCh0Pyh0aGlzLl9oaWRlRGVsYXk9dCx0aGlzLl9zaG93PSExLHRoaXMuX2hpZGVUaW1lb3V0PXNldFRpbWVvdXQoVyh0aGlzLmhpZGUsdGhpcyksdCkpOnRoaXMuaGlkZSgpKX0sdC5wcm90b3R5cGUuaXNTaG93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Nob3d9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl96ci5yZW1vdmUodGhpcy5lbCl9LHR9KCk7ZnVuY3Rpb24gR3oodCl7cmV0dXJuIE1hdGgubWF4KDAsdCl9ZnVuY3Rpb24gV3oodCl7dmFyIGU9R3oodC5zaGFkb3dCbHVyfHwwKSxuPUd6KHQuc2hhZG93T2Zmc2V0WHx8MCksaT1Heih0LnNoYWRvd09mZnNldFl8fDApO3JldHVybntsZWZ0Okd6KGUtbikscmlnaHQ6R3ooZStuKSx0b3A6R3ooZS1pKSxib3R0b206R3ooZStpKX19ZnVuY3Rpb24gSHoodCxlLG4saSl7dFswXT1uLHRbMV09aSx0WzJdPXRbMF0vZS5nZXRXaWR0aCgpLHRbM109dFsxXS9lLmdldEhlaWdodCgpfXZhciBZej1uZXcgQ3Moe3NoYXBlOnt4Oi0xLHk6LTEsd2lkdGg6MixoZWlnaHQ6Mn19KSxVej1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSl7aWYoIXIubm9kZSYmZS5nZXREb20oKSl7dmFyIG4saT10LmdldENvbXBvbmVudCgidG9vbHRpcCIpLG89dGhpcy5fcmVuZGVyTW9kZT0iYXV0byI9PT0obj1pLmdldCgicmVuZGVyTW9kZSIpKT9yLmRvbVN1cHBvcnRlZD8iaHRtbCI6InJpY2hUZXh0IjpufHwiaHRtbCI7dGhpcy5fdG9vbHRpcENvbnRlbnQ9InJpY2hUZXh0Ij09PW8/bmV3IEZ6KGUpOm5ldyBCeihlLmdldERvbSgpLGUse2FwcGVuZFRvQm9keTppLmdldCgiYXBwZW5kVG9Cb2R5IiwhMCl9KX19LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7aWYoIXIubm9kZSYmbi5nZXREb20oKSl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0aGlzLl90b29sdGlwTW9kZWw9dCx0aGlzLl9lY01vZGVsPWUsdGhpcy5fYXBpPW4sdGhpcy5fYWx3YXlzU2hvd0NvbnRlbnQ9dC5nZXQoImFsd2F5c1Nob3dDb250ZW50Iik7dmFyIGk9dGhpcy5fdG9vbHRpcENvbnRlbnQ7aS51cGRhdGUodCksaS5zZXRFbnRlcmFibGUodC5nZXQoImVudGVyYWJsZSIpKSx0aGlzLl9pbml0R2xvYmFsTGlzdGVuZXIoKSx0aGlzLl9rZWVwU2hvdygpLCJyaWNoVGV4dCIhPT10aGlzLl9yZW5kZXJNb2RlJiZ0LmdldCgidHJhbnNpdGlvbkR1cmF0aW9uIik/QWcodGhpcywiX3VwZGF0ZVBvc2l0aW9uIiw1MCwiZml4UmF0ZSIpOmtnKHRoaXMsIl91cGRhdGVQb3NpdGlvbiIpfX0sZS5wcm90b3R5cGUuX2luaXRHbG9iYWxMaXN0ZW5lcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3Rvb2x0aXBNb2RlbC5nZXQoInRyaWdnZXJPbiIpO3FSKCJpdGVtVG9vbHRpcCIsdGhpcy5fYXBpLFcoKGZ1bmN0aW9uKGUsbixpKXsibm9uZSIhPT10JiYodC5pbmRleE9mKGUpPj0wP3RoaXMuX3RyeVNob3cobixpKToibGVhdmUiPT09ZSYmdGhpcy5faGlkZShpKSl9KSx0aGlzKSl9LGUucHJvdG90eXBlLl9rZWVwU2hvdz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3Rvb2x0aXBNb2RlbCxlPXRoaXMuX2VjTW9kZWwsbj10aGlzLl9hcGk7aWYobnVsbCE9dGhpcy5fbGFzdFgmJm51bGwhPXRoaXMuX2xhc3RZJiYibm9uZSIhPT10LmdldCgidHJpZ2dlck9uIikpe3ZhciBpPXRoaXM7Y2xlYXJUaW1lb3V0KHRoaXMuX3JlZnJlc2hVcGRhdGVUaW1lb3V0KSx0aGlzLl9yZWZyZXNoVXBkYXRlVGltZW91dD1zZXRUaW1lb3V0KChmdW5jdGlvbigpeyFuLmlzRGlzcG9zZWQoKSYmaS5tYW51YWxseVNob3dUaXAodCxlLG4se3g6aS5fbGFzdFgseTppLl9sYXN0WSxkYXRhQnlDb29yZFN5czppLl9sYXN0RGF0YUJ5Q29vcmRTeXN9KX0pKX19LGUucHJvdG90eXBlLm1hbnVhbGx5U2hvd1RpcD1mdW5jdGlvbih0LGUsbixpKXtpZihpLmZyb20hPT10aGlzLnVpZCYmIXIubm9kZSYmbi5nZXREb20oKSl7dmFyIG89WnooaSxuKTt0aGlzLl90aWNrZXQ9IiI7dmFyIGE9aS5kYXRhQnlDb29yZFN5cyxzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1Ubyh0KS5xdWVyeU9wdGlvbk1hcCxyPWkua2V5cygpWzBdO2lmKCFyfHwic2VyaWVzIj09PXIpcmV0dXJuO3ZhciBvLGE9QW8oZSxyLGkuZ2V0KHIpLHt1c2VEZWZhdWx0OiExLGVuYWJsZUFsbDohMSxlbmFibGVOb25lOiExfSkubW9kZWxzWzBdO2lmKCFhKXJldHVybjtpZihuLmdldFZpZXdPZkNvbXBvbmVudE1vZGVsKGEpLmdyb3VwLnRyYXZlcnNlKChmdW5jdGlvbihlKXt2YXIgbj1IcyhlKS50b29sdGlwQ29uZmlnO2lmKG4mJm4ubmFtZT09PXQubmFtZSlyZXR1cm4gbz1lLCEwfSkpLG8pcmV0dXJue2NvbXBvbmVudE1haW5UeXBlOnIsY29tcG9uZW50SW5kZXg6YS5jb21wb25lbnRJbmRleCxlbDpvfX0oaSxlLG4pO2lmKHMpe3ZhciBsPXMuZWwuZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKTtsLmFwcGx5VHJhbnNmb3JtKHMuZWwudHJhbnNmb3JtKSx0aGlzLl90cnlTaG93KHtvZmZzZXRYOmwueCtsLndpZHRoLzIsb2Zmc2V0WTpsLnkrbC5oZWlnaHQvMix0YXJnZXQ6cy5lbCxwb3NpdGlvbjppLnBvc2l0aW9uLHBvc2l0aW9uRGVmYXVsdDoiYm90dG9tIn0sbyl9ZWxzZSBpZihpLnRvb2x0aXAmJm51bGwhPWkueCYmbnVsbCE9aS55KXt2YXIgdT1Zejt1Lng9aS54LHUueT1pLnksdS51cGRhdGUoKSxIcyh1KS50b29sdGlwQ29uZmlnPXtuYW1lOm51bGwsb3B0aW9uOmkudG9vbHRpcH0sdGhpcy5fdHJ5U2hvdyh7b2Zmc2V0WDppLngsb2Zmc2V0WTppLnksdGFyZ2V0OnV9LG8pfWVsc2UgaWYoYSl0aGlzLl90cnlTaG93KHtvZmZzZXRYOmkueCxvZmZzZXRZOmkueSxwb3NpdGlvbjppLnBvc2l0aW9uLGRhdGFCeUNvb3JkU3lzOmEsdG9vbHRpcE9wdGlvbjppLnRvb2x0aXBPcHRpb259LG8pO2Vsc2UgaWYobnVsbCE9aS5zZXJpZXNJbmRleCl7aWYodGhpcy5fbWFudWFsbHlBeGlzU2hvd1RpcCh0LGUsbixpKSlyZXR1cm47dmFyIGg9dE4oaSxlKSxjPWgucG9pbnRbMF0scD1oLnBvaW50WzFdO251bGwhPWMmJm51bGwhPXAmJnRoaXMuX3RyeVNob3coe29mZnNldFg6YyxvZmZzZXRZOnAsdGFyZ2V0OmguZWwscG9zaXRpb246aS5wb3NpdGlvbixwb3NpdGlvbkRlZmF1bHQ6ImJvdHRvbSJ9LG8pfWVsc2UgbnVsbCE9aS54JiZudWxsIT1pLnkmJihuLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJ1cGRhdGVBeGlzUG9pbnRlciIseDppLngseTppLnl9KSx0aGlzLl90cnlTaG93KHtvZmZzZXRYOmkueCxvZmZzZXRZOmkueSxwb3NpdGlvbjppLnBvc2l0aW9uLHRhcmdldDpuLmdldFpyKCkuZmluZEhvdmVyKGkueCxpLnkpLnRhcmdldH0sbykpfX0sZS5wcm90b3R5cGUubWFudWFsbHlIaWRlVGlwPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXMuX3Rvb2x0aXBDb250ZW50OyF0aGlzLl9hbHdheXNTaG93Q29udGVudCYmdGhpcy5fdG9vbHRpcE1vZGVsJiZyLmhpZGVMYXRlcih0aGlzLl90b29sdGlwTW9kZWwuZ2V0KCJoaWRlRGVsYXkiKSksdGhpcy5fbGFzdFg9dGhpcy5fbGFzdFk9dGhpcy5fbGFzdERhdGFCeUNvb3JkU3lzPW51bGwsaS5mcm9tIT09dGhpcy51aWQmJnRoaXMuX2hpZGUoWnooaSxuKSl9LGUucHJvdG90eXBlLl9tYW51YWxseUF4aXNTaG93VGlwPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWkuc2VyaWVzSW5kZXgsbz1pLmRhdGFJbmRleCxhPWUuZ2V0Q29tcG9uZW50KCJheGlzUG9pbnRlciIpLmNvb3JkU3lzQXhlc0luZm87aWYobnVsbCE9ciYmbnVsbCE9byYmbnVsbCE9YSl7dmFyIHM9ZS5nZXRTZXJpZXNCeUluZGV4KHIpO2lmKHMpaWYoImF4aXMiPT09WHooW3MuZ2V0RGF0YSgpLmdldEl0ZW1Nb2RlbChvKSxzLChzLmNvb3JkaW5hdGVTeXN0ZW18fHt9KS5tb2RlbF0sdGhpcy5fdG9vbHRpcE1vZGVsKS5nZXQoInRyaWdnZXIiKSlyZXR1cm4gbi5kaXNwYXRjaEFjdGlvbih7dHlwZToidXBkYXRlQXhpc1BvaW50ZXIiLHNlcmllc0luZGV4OnIsZGF0YUluZGV4Om8scG9zaXRpb246aS5wb3NpdGlvbn0pLCEwfX0sZS5wcm90b3R5cGUuX3RyeVNob3c9ZnVuY3Rpb24odCxlKXt2YXIgbj10LnRhcmdldDtpZih0aGlzLl90b29sdGlwTW9kZWwpe3RoaXMuX2xhc3RYPXQub2Zmc2V0WCx0aGlzLl9sYXN0WT10Lm9mZnNldFk7dmFyIGk9dC5kYXRhQnlDb29yZFN5cztpZihpJiZpLmxlbmd0aCl0aGlzLl9zaG93QXhpc1Rvb2x0aXAoaSx0KTtlbHNlIGlmKG4pe3ZhciByLG87dGhpcy5fbGFzdERhdGFCeUNvb3JkU3lzPW51bGwseHkobiwoZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPUhzKHQpLmRhdGFJbmRleD8ocj10LCEwKTpudWxsIT1Icyh0KS50b29sdGlwQ29uZmlnPyhvPXQsITApOnZvaWQgMH0pLCEwKSxyP3RoaXMuX3Nob3dTZXJpZXNJdGVtVG9vbHRpcCh0LHIsZSk6bz90aGlzLl9zaG93Q29tcG9uZW50SXRlbVRvb2x0aXAodCxvLGUpOnRoaXMuX2hpZGUoZSl9ZWxzZSB0aGlzLl9sYXN0RGF0YUJ5Q29vcmRTeXM9bnVsbCx0aGlzLl9oaWRlKGUpfX0sZS5wcm90b3R5cGUuX3Nob3dPck1vdmU9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldCgic2hvd0RlbGF5Iik7ZT1XKGUsdGhpcyksY2xlYXJUaW1lb3V0KHRoaXMuX3Nob3dUaW1vdXQpLG4+MD90aGlzLl9zaG93VGltb3V0PXNldFRpbWVvdXQoZSxuKTplKCl9LGUucHJvdG90eXBlLl9zaG93QXhpc1Rvb2x0aXA9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9lY01vZGVsLGk9dGhpcy5fdG9vbHRpcE1vZGVsLHI9W2Uub2Zmc2V0WCxlLm9mZnNldFldLG89WHooW2UudG9vbHRpcE9wdGlvbl0saSksYT10aGlzLl9yZW5kZXJNb2RlLHM9W10sbD1YZigic2VjdGlvbiIse2Jsb2NrczpbXSxub0hlYWRlcjohMH0pLHU9W10saD1uZXcgaWc7RSh0LChmdW5jdGlvbih0KXtFKHQuZGF0YUJ5QXhpcywoZnVuY3Rpb24odCl7dmFyIGU9bi5nZXRDb21wb25lbnQodC5heGlzRGltKyJBeGlzIix0LmF4aXNJbmRleCkscj10LnZhbHVlO2lmKGUmJm51bGwhPXIpe3ZhciBvPUVSKHIsZS5heGlzLG4sdC5zZXJpZXNEYXRhSW5kaWNlcyx0LnZhbHVlTGFiZWxPcHQpLGM9WGYoInNlY3Rpb24iLHtoZWFkZXI6byxub0hlYWRlcjohdXQobyksc29ydEJsb2NrczohMCxibG9ja3M6W119KTtsLmJsb2Nrcy5wdXNoKGMpLEUodC5zZXJpZXNEYXRhSW5kaWNlcywoZnVuY3Rpb24obCl7dmFyIHA9bi5nZXRTZXJpZXNCeUluZGV4KGwuc2VyaWVzSW5kZXgpLGQ9bC5kYXRhSW5kZXhJbnNpZGUsZj1wLmdldERhdGFQYXJhbXMoZCk7aWYoIShmLmRhdGFJbmRleDwwKSl7Zi5heGlzRGltPXQuYXhpc0RpbSxmLmF4aXNJbmRleD10LmF4aXNJbmRleCxmLmF4aXNUeXBlPXQuYXhpc1R5cGUsZi5heGlzSWQ9dC5heGlzSWQsZi5heGlzVmFsdWU9YV8oZS5heGlzLHt2YWx1ZTpyfSksZi5heGlzVmFsdWVMYWJlbD1vLGYubWFya2VyPWgubWFrZVRvb2x0aXBNYXJrZXIoIml0ZW0iLHBwKGYuY29sb3IpLGEpO3ZhciBnPXVmKHAuZm9ybWF0VG9vbHRpcChkLCEwLG51bGwpKSx5PWcuZnJhZztpZih5KXt2YXIgdj1YeihbcF0saSkuZ2V0KCJ2YWx1ZUZvcm1hdHRlciIpO2MuYmxvY2tzLnB1c2godj9BKHt2YWx1ZUZvcm1hdHRlcjp2fSx5KTp5KX1nLnRleHQmJnUucHVzaChnLnRleHQpLHMucHVzaChmKX19KSl9fSkpfSkpLGwuYmxvY2tzLnJldmVyc2UoKSx1LnJldmVyc2UoKTt2YXIgYz1lLnBvc2l0aW9uLHA9by5nZXQoIm9yZGVyIiksZD1KZihsLGgsYSxwLG4uZ2V0KCJ1c2VVVEMiKSxvLmdldCgidGV4dFN0eWxlIikpO2QmJnUudW5zaGlmdChkKTt2YXIgZj0icmljaFRleHQiPT09YT8iXG5cbiI6Ijxici8+IixnPXUuam9pbihmKTt0aGlzLl9zaG93T3JNb3ZlKG8sKGZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlQ29udGVudE5vdENoYW5nZWRPbkF4aXModCxzKT90aGlzLl91cGRhdGVQb3NpdGlvbihvLGMsclswXSxyWzFdLHRoaXMuX3Rvb2x0aXBDb250ZW50LHMpOnRoaXMuX3Nob3dUb29sdGlwQ29udGVudChvLGcscyxNYXRoLnJhbmRvbSgpKyIiLHJbMF0sclsxXSxjLG51bGwsaCl9KSl9LGUucHJvdG90eXBlLl9zaG93U2VyaWVzSXRlbVRvb2x0aXA9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuX2VjTW9kZWwscj1IcyhlKSxvPXIuc2VyaWVzSW5kZXgsYT1pLmdldFNlcmllc0J5SW5kZXgobykscz1yLmRhdGFNb2RlbHx8YSxsPXIuZGF0YUluZGV4LHU9ci5kYXRhVHlwZSxoPXMuZ2V0RGF0YSh1KSxjPXRoaXMuX3JlbmRlck1vZGUscD10LnBvc2l0aW9uRGVmYXVsdCxkPVh6KFtoLmdldEl0ZW1Nb2RlbChsKSxzLGEmJihhLmNvb3JkaW5hdGVTeXN0ZW18fHt9KS5tb2RlbF0sdGhpcy5fdG9vbHRpcE1vZGVsLHA/e3Bvc2l0aW9uOnB9Om51bGwpLGY9ZC5nZXQoInRyaWdnZXIiKTtpZihudWxsPT1mfHwiaXRlbSI9PT1mKXt2YXIgZz1zLmdldERhdGFQYXJhbXMobCx1KSx5PW5ldyBpZztnLm1hcmtlcj15Lm1ha2VUb29sdGlwTWFya2VyKCJpdGVtIixwcChnLmNvbG9yKSxjKTt2YXIgdj11ZihzLmZvcm1hdFRvb2x0aXAobCwhMSx1KSksbT1kLmdldCgib3JkZXIiKSx4PWQuZ2V0KCJ2YWx1ZUZvcm1hdHRlciIpLF89di5mcmFnLGI9Xz9KZih4P0Eoe3ZhbHVlRm9ybWF0dGVyOnh9LF8pOl8seSxjLG0saS5nZXQoInVzZVVUQyIpLGQuZ2V0KCJ0ZXh0U3R5bGUiKSk6di50ZXh0LHc9Iml0ZW1fIitzLm5hbWUrIl8iK2w7dGhpcy5fc2hvd09yTW92ZShkLChmdW5jdGlvbigpe3RoaXMuX3Nob3dUb29sdGlwQ29udGVudChkLGIsZyx3LHQub2Zmc2V0WCx0Lm9mZnNldFksdC5wb3NpdGlvbix0LnRhcmdldCx5KX0pKSxuKHt0eXBlOiJzaG93VGlwIixkYXRhSW5kZXhJbnNpZGU6bCxkYXRhSW5kZXg6aC5nZXRSYXdJbmRleChsKSxzZXJpZXNJbmRleDpvLGZyb206dGhpcy51aWR9KX19LGUucHJvdG90eXBlLl9zaG93Q29tcG9uZW50SXRlbVRvb2x0aXA9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPUhzKGUpLHI9aS50b29sdGlwQ29uZmlnLm9wdGlvbnx8e307aWYoWChyKSl7cj17Y29udGVudDpyLGZvcm1hdHRlcjpyfX12YXIgbz1bcl0sYT10aGlzLl9lY01vZGVsLmdldENvbXBvbmVudChpLmNvbXBvbmVudE1haW5UeXBlLGkuY29tcG9uZW50SW5kZXgpO2EmJm8ucHVzaChhKSxvLnB1c2goe2Zvcm1hdHRlcjpyLmNvbnRlbnR9KTt2YXIgcz10LnBvc2l0aW9uRGVmYXVsdCxsPVh6KG8sdGhpcy5fdG9vbHRpcE1vZGVsLHM/e3Bvc2l0aW9uOnN9Om51bGwpLHU9bC5nZXQoImNvbnRlbnQiKSxoPU1hdGgucmFuZG9tKCkrIiIsYz1uZXcgaWc7dGhpcy5fc2hvd09yTW92ZShsLChmdW5jdGlvbigpe3ZhciBuPVQobC5nZXQoImZvcm1hdHRlclBhcmFtcyIpfHx7fSk7dGhpcy5fc2hvd1Rvb2x0aXBDb250ZW50KGwsdSxuLGgsdC5vZmZzZXRYLHQub2Zmc2V0WSx0LnBvc2l0aW9uLGUsYyl9KSksbih7dHlwZToic2hvd1RpcCIsZnJvbTp0aGlzLnVpZH0pfSxlLnByb3RvdHlwZS5fc2hvd1Rvb2x0aXBDb250ZW50PWZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyxsKXtpZih0aGlzLl90aWNrZXQ9IiIsdC5nZXQoInNob3dDb250ZW50IikmJnQuZ2V0KCJzaG93Iikpe3ZhciB1PXRoaXMuX3Rvb2x0aXBDb250ZW50O3Uuc2V0RW50ZXJhYmxlKHQuZ2V0KCJlbnRlcmFibGUiKSk7dmFyIGg9dC5nZXQoImZvcm1hdHRlciIpO2E9YXx8dC5nZXQoInBvc2l0aW9uIik7dmFyIGM9ZSxwPXRoaXMuX2dldE5lYXJlc3RQb2ludChbcixvXSxuLHQuZ2V0KCJ0cmlnZ2VyIiksdC5nZXQoImJvcmRlckNvbG9yIikpLmNvbG9yO2lmKGgpaWYoWChoKSl7dmFyIGQ9dC5lY01vZGVsLmdldCgidXNlVVRDIiksZj1ZKG4pP25bMF06bjtjPWgsZiYmZi5heGlzVHlwZSYmZi5heGlzVHlwZS5pbmRleE9mKCJ0aW1lIik+PTAmJihjPVZjKGYuYXhpc1ZhbHVlLGMsZCkpLGM9aHAoYyxuLCEwKX1lbHNlIGlmKFUoaCkpe3ZhciBnPVcoKGZ1bmN0aW9uKGUsaSl7ZT09PXRoaXMuX3RpY2tldCYmKHUuc2V0Q29udGVudChpLGwsdCxwLGEpLHRoaXMuX3VwZGF0ZVBvc2l0aW9uKHQsYSxyLG8sdSxuLHMpKX0pLHRoaXMpO3RoaXMuX3RpY2tldD1pLGM9aChuLGksZyl9ZWxzZSBjPWg7dS5zZXRDb250ZW50KGMsbCx0LHAsYSksdS5zaG93KHQscCksdGhpcy5fdXBkYXRlUG9zaXRpb24odCxhLHIsbyx1LG4scyl9fSxlLnByb3RvdHlwZS5fZ2V0TmVhcmVzdFBvaW50PWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiJheGlzIj09PW58fFkoZSk/e2NvbG9yOml8fCgiaHRtbCI9PT10aGlzLl9yZW5kZXJNb2RlPyIjZmZmIjoibm9uZSIpfTpZKGUpP3ZvaWQgMDp7Y29sb3I6aXx8ZS5jb2xvcnx8ZS5ib3JkZXJDb2xvcn19LGUucHJvdG90eXBlLl91cGRhdGVQb3NpdGlvbj1mdW5jdGlvbih0LGUsbixpLHIsbyxhKXt2YXIgcz10aGlzLl9hcGkuZ2V0V2lkdGgoKSxsPXRoaXMuX2FwaS5nZXRIZWlnaHQoKTtlPWV8fHQuZ2V0KCJwb3NpdGlvbiIpO3ZhciB1PXIuZ2V0U2l6ZSgpLGg9dC5nZXQoImFsaWduIiksYz10LmdldCgidmVydGljYWxBbGlnbiIpLHA9YSYmYS5nZXRCb3VuZGluZ1JlY3QoKS5jbG9uZSgpO2lmKGEmJnAuYXBwbHlUcmFuc2Zvcm0oYS50cmFuc2Zvcm0pLFUoZSkmJihlPWUoW24saV0sbyxyLmVsLHAse3ZpZXdTaXplOltzLGxdLGNvbnRlbnRTaXplOnUuc2xpY2UoKX0pKSxZKGUpKW49RXIoZVswXSxzKSxpPUVyKGVbMV0sbCk7ZWxzZSBpZihxKGUpKXt2YXIgZD1lO2Qud2lkdGg9dVswXSxkLmhlaWdodD11WzFdO3ZhciBmPXhwKGQse3dpZHRoOnMsaGVpZ2h0Omx9KTtuPWYueCxpPWYueSxoPW51bGwsYz1udWxsfWVsc2UgaWYoWChlKSYmYSl7dmFyIGc9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9blswXSxvPW5bMV0sYT1NYXRoLmNlaWwoTWF0aC5TUVJUMippKSs4LHM9MCxsPTAsdT1lLndpZHRoLGg9ZS5oZWlnaHQ7c3dpdGNoKHQpe2Nhc2UiaW5zaWRlIjpzPWUueCt1LzItci8yLGw9ZS55K2gvMi1vLzI7YnJlYWs7Y2FzZSJ0b3AiOnM9ZS54K3UvMi1yLzIsbD1lLnktby1hO2JyZWFrO2Nhc2UiYm90dG9tIjpzPWUueCt1LzItci8yLGw9ZS55K2grYTticmVhaztjYXNlImxlZnQiOnM9ZS54LXItYSxsPWUueStoLzItby8yO2JyZWFrO2Nhc2UicmlnaHQiOnM9ZS54K3UrYSxsPWUueStoLzItby8yfXJldHVybltzLGxdfShlLHAsdSx0LmdldCgiYm9yZGVyV2lkdGgiKSk7bj1nWzBdLGk9Z1sxXX1lbHNle2c9ZnVuY3Rpb24odCxlLG4saSxyLG8sYSl7dmFyIHM9bi5nZXRTaXplKCksbD1zWzBdLHU9c1sxXTtudWxsIT1vJiYodCtsK28rMj5pP3QtPWwrbzp0Kz1vKTtudWxsIT1hJiYoZSt1K2E+cj9lLT11K2E6ZSs9YSk7cmV0dXJuW3QsZV19KG4saSxyLHMsbCxoP251bGw6MjAsYz9udWxsOjIwKTtuPWdbMF0saT1nWzFdfWlmKGgmJihuLT1qeihoKT91WzBdLzI6InJpZ2h0Ij09PWg/dVswXTowKSxjJiYoaS09anooYyk/dVsxXS8yOiJib3R0b20iPT09Yz91WzFdOjApLEF6KHQpKXtnPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89bi5nZXRTaXplKCksYT1vWzBdLHM9b1sxXTtyZXR1cm4gdD1NYXRoLm1pbih0K2EsaSktYSxlPU1hdGgubWluKGUrcyxyKS1zLHQ9TWF0aC5tYXgodCwwKSxlPU1hdGgubWF4KGUsMCksW3QsZV19KG4saSxyLHMsbCk7bj1nWzBdLGk9Z1sxXX1yLm1vdmVUbyhuLGkpfSxlLnByb3RvdHlwZS5fdXBkYXRlQ29udGVudE5vdENoYW5nZWRPbkF4aXM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9sYXN0RGF0YUJ5Q29vcmRTeXMsaT10aGlzLl9jYlBhcmFtc0xpc3Qscj0hIW4mJm4ubGVuZ3RoPT09dC5sZW5ndGg7cmV0dXJuIHImJkUobiwoZnVuY3Rpb24obixvKXt2YXIgYT1uLmRhdGFCeUF4aXN8fFtdLHM9KHRbb118fHt9KS5kYXRhQnlBeGlzfHxbXTsocj1yJiZhLmxlbmd0aD09PXMubGVuZ3RoKSYmRShhLChmdW5jdGlvbih0LG4pe3ZhciBvPXNbbl18fHt9LGE9dC5zZXJpZXNEYXRhSW5kaWNlc3x8W10sbD1vLnNlcmllc0RhdGFJbmRpY2VzfHxbXTsocj1yJiZ0LnZhbHVlPT09by52YWx1ZSYmdC5heGlzVHlwZT09PW8uYXhpc1R5cGUmJnQuYXhpc0lkPT09by5heGlzSWQmJmEubGVuZ3RoPT09bC5sZW5ndGgpJiZFKGEsKGZ1bmN0aW9uKHQsZSl7dmFyIG49bFtlXTtyPXImJnQuc2VyaWVzSW5kZXg9PT1uLnNlcmllc0luZGV4JiZ0LmRhdGFJbmRleD09PW4uZGF0YUluZGV4fSkpLGkmJkUodC5zZXJpZXNEYXRhSW5kaWNlcywoZnVuY3Rpb24odCl7dmFyIG49dC5zZXJpZXNJbmRleCxvPWVbbl0sYT1pW25dO28mJmEmJmEuZGF0YSE9PW8uZGF0YSYmKHI9ITEpfSkpfSkpfSkpLHRoaXMuX2xhc3REYXRhQnlDb29yZFN5cz10LHRoaXMuX2NiUGFyYW1zTGlzdD1lLCEhcn0sZS5wcm90b3R5cGUuX2hpZGU9ZnVuY3Rpb24odCl7dGhpcy5fbGFzdERhdGFCeUNvb3JkU3lzPW51bGwsdCh7dHlwZToiaGlkZVRpcCIsZnJvbTp0aGlzLnVpZH0pfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQsZSl7IXIubm9kZSYmZS5nZXREb20oKSYmKGtnKHRoaXMsIl91cGRhdGVQb3NpdGlvbiIpLHRoaXMuX3Rvb2x0aXBDb250ZW50LmRpc3Bvc2UoKSxKUigiaXRlbVRvb2x0aXAiLGUpKX0sZS50eXBlPSJ0b29sdGlwIixlfShnZyk7ZnVuY3Rpb24gWHoodCxlLG4pe3ZhciBpLHI9ZS5lY01vZGVsO24/KGk9bmV3IGRjKG4scixyKSxpPW5ldyBkYyhlLm9wdGlvbixpLHIpKTppPWU7Zm9yKHZhciBvPXQubGVuZ3RoLTE7bz49MDtvLS0pe3ZhciBhPXRbb107YSYmKGEgaW5zdGFuY2VvZiBkYyYmKGE9YS5nZXQoInRvb2x0aXAiLCEwKSksWChhKSYmKGE9e2Zvcm1hdHRlcjphfSksYSYmKGk9bmV3IGRjKGEsaSxyKSkpfXJldHVybiBpfWZ1bmN0aW9uIFp6KHQsZSl7cmV0dXJuIHQuZGlzcGF0Y2hBY3Rpb258fFcoZS5kaXNwYXRjaEFjdGlvbixlKX1mdW5jdGlvbiBqeih0KXtyZXR1cm4iY2VudGVyIj09PXR8fCJtaWRkbGUiPT09dH12YXIgcXo9WyJyZWN0IiwicG9seWdvbiIsImtlZXAiLCJjbGVhciJdO2Z1bmN0aW9uIEt6KHQsZSl7dmFyIG49aG8odD90LmJydXNoOltdKTtpZihuLmxlbmd0aCl7dmFyIGk9W107RShuLChmdW5jdGlvbih0KXt2YXIgZT10Lmhhc093blByb3BlcnR5KCJ0b29sYm94Iik/dC50b29sYm94OltdO2UgaW5zdGFuY2VvZiBBcnJheSYmKGk9aS5jb25jYXQoZSkpfSkpO3ZhciByPXQmJnQudG9vbGJveDtZKHIpJiYocj1yWzBdKSxyfHwocj17ZmVhdHVyZTp7fX0sdC50b29sYm94PVtyXSk7dmFyIG89ci5mZWF0dXJlfHwoci5mZWF0dXJlPXt9KSxhPW8uYnJ1c2h8fChvLmJydXNoPXt9KSxzPWEudHlwZXx8KGEudHlwZT1bXSk7cy5wdXNoLmFwcGx5KHMsaSksZnVuY3Rpb24odCl7dmFyIGU9e307RSh0LChmdW5jdGlvbih0KXtlW3RdPTF9KSksdC5sZW5ndGg9MCxFKGUsKGZ1bmN0aW9uKGUsbil7dC5wdXNoKG4pfSkpfShzKSxlJiYhcy5sZW5ndGgmJnMucHVzaC5hcHBseShzLHF6KX19dmFyICR6PUU7ZnVuY3Rpb24gSnoodCl7aWYodClmb3IodmFyIGUgaW4gdClpZih0Lmhhc093blByb3BlcnR5KGUpKXJldHVybiEwfWZ1bmN0aW9uIFF6KHQsZSxuKXt2YXIgaT17fTtyZXR1cm4gJHooZSwoZnVuY3Rpb24oZSl7dmFyIHIsbz1pW2VdPSgocj1mdW5jdGlvbigpe30pLnByb3RvdHlwZS5fX2hpZGRlbj1yLnByb3RvdHlwZSxuZXcgcik7JHoodFtlXSwoZnVuY3Rpb24odCxpKXtpZihuRC5pc1ZhbGlkVHlwZShpKSl7dmFyIHI9e3R5cGU6aSx2aXN1YWw6dH07biYmbihyLGUpLG9baV09bmV3IG5EKHIpLCJvcGFjaXR5Ij09PWkmJigocj1UKHIpKS50eXBlPSJjb2xvckFscGhhIixvLl9faGlkZGVuLl9fYWxwaGFGb3JPcGFjaXR5PW5ldyBuRChyKSl9fSkpfSkpLGl9ZnVuY3Rpb24gdFYodCxlLG4pe3ZhciBpO0UobiwoZnVuY3Rpb24odCl7ZS5oYXNPd25Qcm9wZXJ0eSh0KSYmSnooZVt0XSkmJihpPSEwKX0pKSxpJiZFKG4sKGZ1bmN0aW9uKG4pe2UuaGFzT3duUHJvcGVydHkobikmJkp6KGVbbl0pP3Rbbl09VChlW25dKTpkZWxldGUgdFtuXX0pKX12YXIgZVY9e2xpbmVYOm5WKDApLGxpbmVZOm5WKDEpLHJlY3Q6e3BvaW50OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCYmbi5ib3VuZGluZ1JlY3QuY29udGFpbih0WzBdLHRbMV0pfSxyZWN0OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCYmbi5ib3VuZGluZ1JlY3QuaW50ZXJzZWN0KHQpfX0scG9seWdvbjp7cG9pbnQ6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0JiZuLmJvdW5kaW5nUmVjdC5jb250YWluKHRbMF0sdFsxXSkmJmdfKG4ucmFuZ2UsdFswXSx0WzFdKX0scmVjdDpmdW5jdGlvbih0LGUsbil7dmFyIGk9bi5yYW5nZTtpZighdHx8aS5sZW5ndGg8PTEpcmV0dXJuITE7dmFyIHI9dC54LG89dC55LGE9dC53aWR0aCxzPXQuaGVpZ2h0LGw9aVswXTtyZXR1cm4hIShnXyhpLHIsbyl8fGdfKGkscithLG8pfHxnXyhpLHIsbytzKXx8Z18oaSxyK2EsbytzKXx8c3IuY3JlYXRlKHQpLmNvbnRhaW4obFswXSxsWzFdKXx8T2gocixvLHIrYSxvLGkpfHxPaChyLG8scixvK3MsaSl8fE9oKHIrYSxvLHIrYSxvK3MsaSl8fE9oKHIsbytzLHIrYSxvK3MsaSkpfHx2b2lkIDB9fX07ZnVuY3Rpb24gblYodCl7dmFyIGU9WyJ4IiwieSJdLG49WyJ3aWR0aCIsImhlaWdodCJdO3JldHVybntwb2ludDpmdW5jdGlvbihlLG4saSl7aWYoZSl7dmFyIHI9aS5yYW5nZTtyZXR1cm4gaVYoZVt0XSxyKX19LHJlY3Q6ZnVuY3Rpb24oaSxyLG8pe2lmKGkpe3ZhciBhPW8ucmFuZ2Uscz1baVtlW3RdXSxpW2VbdF1dK2lbblt0XV1dO3JldHVybiBzWzFdPHNbMF0mJnMucmV2ZXJzZSgpLGlWKHNbMF0sYSl8fGlWKHNbMV0sYSl8fGlWKGFbMF0scyl8fGlWKGFbMV0scyl9fX19ZnVuY3Rpb24gaVYodCxlKXtyZXR1cm4gZVswXTw9dCYmdDw9ZVsxXX12YXIgclY9WyJpbkJydXNoIiwib3V0T2ZCcnVzaCJdLG9WPSJfX2VjQnJ1c2hTZWxlY3QiLGFWPSJfX2VjSW5CcnVzaFNlbGVjdEV2ZW50IjtmdW5jdGlvbiBzVih0KXt0LmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJicnVzaCJ9LChmdW5jdGlvbihlKXsoZS5icnVzaFRhcmdldE1hbmFnZXI9bmV3IGh6KGUub3B0aW9uLHQpKS5zZXRJbnB1dFJhbmdlcyhlLmFyZWFzLHQpfSkpfWZ1bmN0aW9uIGxWKHQsZSxuKXt2YXIgaSxyLG89W107dC5lYWNoQ29tcG9uZW50KHttYWluVHlwZToiYnJ1c2gifSwoZnVuY3Rpb24odCl7biYmInRha2VHbG9iYWxDdXJzb3IiPT09bi50eXBlJiZ0LnNldEJydXNoT3B0aW9uKCJicnVzaCI9PT1uLmtleT9uLmJydXNoT3B0aW9uOnticnVzaFR5cGU6ITF9KX0pKSxzVih0KSx0LmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJicnVzaCJ9LChmdW5jdGlvbihlLG4pe3ZhciBhPXticnVzaElkOmUuaWQsYnJ1c2hJbmRleDpuLGJydXNoTmFtZTplLm5hbWUsYXJlYXM6VChlLmFyZWFzKSxzZWxlY3RlZDpbXX07by5wdXNoKGEpO3ZhciBzPWUub3B0aW9uLGw9cy5icnVzaExpbmssdT1bXSxoPVtdLGM9W10scD0hMTtufHwoaT1zLnRocm90dGxlVHlwZSxyPXMudGhyb3R0bGVEZWxheSk7dmFyIGQ9eihlLmFyZWFzLChmdW5jdGlvbih0KXt2YXIgZT1jVlt0LmJydXNoVHlwZV0sbj1rKHtib3VuZGluZ1JlY3Q6ZT9lKHQpOnZvaWQgMH0sdCk7cmV0dXJuIG4uc2VsZWN0b3JzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuYnJ1c2hUeXBlLG49e3BvaW50OmZ1bmN0aW9uKGkpe3JldHVybiBlVltlXS5wb2ludChpLG4sdCl9LHJlY3Q6ZnVuY3Rpb24oaSl7cmV0dXJuIGVWW2VdLnJlY3QoaSxuLHQpfX07cmV0dXJuIG59KG4pLG59KSksZj1ReihlLm9wdGlvbixyViwoZnVuY3Rpb24odCl7dC5tYXBwaW5nTWV0aG9kPSJmaXhlZCJ9KSk7ZnVuY3Rpb24gZyh0KXtyZXR1cm4iYWxsIj09PWx8fCEhdVt0XX1mdW5jdGlvbiB5KHQpe3JldHVybiEhdC5sZW5ndGh9WShsKSYmRShsLChmdW5jdGlvbih0KXt1W3RdPTF9KSksdC5lYWNoU2VyaWVzKChmdW5jdGlvbihuLGkpe3ZhciByPWNbaV09W107InBhcmFsbGVsIj09PW4uc3ViVHlwZT9mdW5jdGlvbih0LGUpe3ZhciBuPXQuY29vcmRpbmF0ZVN5c3RlbTtwPXB8fG4uaGFzQXhpc0JydXNoZWQoKSxnKGUpJiZuLmVhY2hBY3RpdmVTdGF0ZSh0LmdldERhdGEoKSwoZnVuY3Rpb24odCxlKXsiYWN0aXZlIj09PXQmJihoW2VdPTEpfSkpfShuLGkpOmZ1bmN0aW9uKG4saSxyKXtpZighbi5icnVzaFNlbGVjdG9yfHxmdW5jdGlvbih0LGUpe3ZhciBuPXQub3B0aW9uLnNlcmllc0luZGV4O3JldHVybiBudWxsIT1uJiYiYWxsIiE9PW4mJihZKG4pP1AobixlKTwwOmUhPT1uKX0oZSxpKSlyZXR1cm47aWYoRShkLChmdW5jdGlvbihpKXtlLmJydXNoVGFyZ2V0TWFuYWdlci5jb250cm9sU2VyaWVzKGksbix0KSYmci5wdXNoKGkpLHA9cHx8eShyKX0pKSxnKGkpJiZ5KHIpKXt2YXIgbz1uLmdldERhdGEoKTtvLmVhY2goKGZ1bmN0aW9uKHQpe2hWKG4scixvLHQpJiYoaFt0XT0xKX0pKX19KG4saSxyKX0pKSx0LmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQsZSl7dmFyIG49e3Nlcmllc0lkOnQuaWQsc2VyaWVzSW5kZXg6ZSxzZXJpZXNOYW1lOnQubmFtZSxkYXRhSW5kZXg6W119O2Euc2VsZWN0ZWQucHVzaChuKTt2YXIgaT1jW2VdLHI9dC5nZXREYXRhKCksbz1nKGUpP2Z1bmN0aW9uKHQpe3JldHVybiBoW3RdPyhuLmRhdGFJbmRleC5wdXNoKHIuZ2V0UmF3SW5kZXgodCkpLCJpbkJydXNoIik6Im91dE9mQnJ1c2gifTpmdW5jdGlvbihlKXtyZXR1cm4gaFYodCxpLHIsZSk/KG4uZGF0YUluZGV4LnB1c2goci5nZXRSYXdJbmRleChlKSksImluQnJ1c2giKToib3V0T2ZCcnVzaCJ9OyhnKGUpP3A6eShpKSkmJmZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYSxzPXt9O2Z1bmN0aW9uIGwodCl7cmV0dXJuIGZ5KG4sYSx0KX1mdW5jdGlvbiB1KHQsZSl7eXkobixhLHQsZSl9ZnVuY3Rpb24gaCh0LGgpe2E9bnVsbD09bz90Omg7dmFyIGM9bi5nZXRSYXdEYXRhSXRlbShhKTtpZighY3x8ITEhPT1jLnZpc3VhbE1hcClmb3IodmFyIHA9aS5jYWxsKHIsdCksZD1lW3BdLGY9c1twXSxnPTAseT1mLmxlbmd0aDtnPHk7ZysrKXt2YXIgdj1mW2ddO2Rbdl0mJmRbdl0uYXBwbHlWaXN1YWwodCxsLHUpfX1FKHQsKGZ1bmN0aW9uKHQpe3ZhciBuPW5ELnByZXBhcmVWaXN1YWxUeXBlcyhlW3RdKTtzW3RdPW59KSksbnVsbD09bz9uLmVhY2goaCk6bi5lYWNoKFtvXSxoKX0oclYsZixyLG8pfSkpfSkpLGZ1bmN0aW9uKHQsZSxuLGkscil7aWYoIXIpcmV0dXJuO3ZhciBvPXQuZ2V0WnIoKTtpZihvW2FWXSlyZXR1cm47by5fX2VjQnJ1c2hTZWxlY3R8fChvLl9fZWNCcnVzaFNlbGVjdD11Vik7QWcobyxvVixuLGUpKHQsaSl9KGUsaSxyLG8sbil9ZnVuY3Rpb24gdVYodCxlKXtpZighdC5pc0Rpc3Bvc2VkKCkpe3ZhciBuPXQuZ2V0WnIoKTtuW2FWXT0hMCx0LmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJicnVzaFNlbGVjdCIsYmF0Y2g6ZX0pLG5bYVZdPSExfX1mdW5jdGlvbiBoVih0LGUsbixpKXtmb3IodmFyIHI9MCxvPWUubGVuZ3RoO3I8bztyKyspe3ZhciBhPWVbcl07aWYodC5icnVzaFNlbGVjdG9yKGksbixhLnNlbGVjdG9ycyxhKSlyZXR1cm4hMH19dmFyIGNWPXtyZWN0OmZ1bmN0aW9uKHQpe3JldHVybiBwVih0LnJhbmdlKX0scG9seWdvbjpmdW5jdGlvbih0KXtmb3IodmFyIGUsbj10LnJhbmdlLGk9MCxyPW4ubGVuZ3RoO2k8cjtpKyspe2U9ZXx8W1sxLzAsLTEvMF0sWzEvMCwtMS8wXV07dmFyIG89bltpXTtvWzBdPGVbMF1bMF0mJihlWzBdWzBdPW9bMF0pLG9bMF0+ZVswXVsxXSYmKGVbMF1bMV09b1swXSksb1sxXTxlWzFdWzBdJiYoZVsxXVswXT1vWzFdKSxvWzFdPmVbMV1bMV0mJihlWzFdWzFdPW9bMV0pfXJldHVybiBlJiZwVihlKX19O2Z1bmN0aW9uIHBWKHQpe3JldHVybiBuZXcgc3IodFswXVswXSx0WzFdWzBdLHRbMF1bMV0tdFswXVswXSx0WzFdWzFdLXRbMV1bMF0pfXZhciBkVj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSl7dGhpcy5lY01vZGVsPXQsdGhpcy5hcGk9ZSx0aGlzLm1vZGVsLCh0aGlzLl9icnVzaENvbnRyb2xsZXI9bmV3IFBrKGUuZ2V0WnIoKSkpLm9uKCJicnVzaCIsVyh0aGlzLl9vbkJydXNoLHRoaXMpKS5tb3VudCgpfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5tb2RlbD10LHRoaXMuX3VwZGF0ZUNvbnRyb2xsZXIodCxlLG4saSl9LGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbih0LGUsbixpKXtzVihlKSx0aGlzLl91cGRhdGVDb250cm9sbGVyKHQsZSxuLGkpfSxlLnByb3RvdHlwZS51cGRhdGVWaXN1YWw9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy51cGRhdGVUcmFuc2Zvcm0odCxlLG4saSl9LGUucHJvdG90eXBlLnVwZGF0ZVZpZXc9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5fdXBkYXRlQ29udHJvbGxlcih0LGUsbixpKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUNvbnRyb2xsZXI9ZnVuY3Rpb24odCxlLG4saSl7KCFpfHxpLiRmcm9tIT09dC5pZCkmJnRoaXMuX2JydXNoQ29udHJvbGxlci5zZXRQYW5lbHModC5icnVzaFRhcmdldE1hbmFnZXIubWFrZVBhbmVsT3B0cyhuKSkuZW5hYmxlQnJ1c2godC5icnVzaE9wdGlvbikudXBkYXRlQ292ZXJzKHQuYXJlYXMuc2xpY2UoKSl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9icnVzaENvbnRyb2xsZXIuZGlzcG9zZSgpfSxlLnByb3RvdHlwZS5fb25CcnVzaD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm1vZGVsLmlkLG49dGhpcy5tb2RlbC5icnVzaFRhcmdldE1hbmFnZXIuc2V0T3V0cHV0UmFuZ2VzKHQuYXJlYXMsdGhpcy5lY01vZGVsKTsoIXQuaXNFbmR8fHQucmVtb3ZlT25DbGljaykmJnRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJicnVzaCIsYnJ1c2hJZDplLGFyZWFzOlQobiksJGZyb206ZX0pLHQuaXNFbmQmJnRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJicnVzaEVuZCIsYnJ1c2hJZDplLGFyZWFzOlQobiksJGZyb206ZX0pfSxlLnR5cGU9ImJydXNoIixlfShnZyksZlY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmFyZWFzPVtdLG4uYnJ1c2hPcHRpb249e30sbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm9wdGlvbjshZSYmdFYobix0LFsiaW5CcnVzaCIsIm91dE9mQnJ1c2giXSk7dmFyIGk9bi5pbkJydXNoPW4uaW5CcnVzaHx8e307bi5vdXRPZkJydXNoPW4ub3V0T2ZCcnVzaHx8e2NvbG9yOiIjZGRkIn0saS5oYXNPd25Qcm9wZXJ0eSgibGlmdFoiKXx8KGkubGlmdFo9NSl9LGUucHJvdG90eXBlLnNldEFyZWFzPWZ1bmN0aW9uKHQpe3QmJih0aGlzLmFyZWFzPXoodCwoZnVuY3Rpb24odCl7cmV0dXJuIGdWKHRoaXMub3B0aW9uLHQpfSksdGhpcykpfSxlLnByb3RvdHlwZS5zZXRCcnVzaE9wdGlvbj1mdW5jdGlvbih0KXt0aGlzLmJydXNoT3B0aW9uPWdWKHRoaXMub3B0aW9uLHQpLHRoaXMuYnJ1c2hUeXBlPXRoaXMuYnJ1c2hPcHRpb24uYnJ1c2hUeXBlfSxlLnR5cGU9ImJydXNoIixlLmRlcGVuZGVuY2llcz1bImdlbyIsImdyaWQiLCJ4QXhpcyIsInlBeGlzIiwicGFyYWxsZWwiLCJzZXJpZXMiXSxlLmRlZmF1bHRPcHRpb249e3Nlcmllc0luZGV4OiJhbGwiLGJydXNoVHlwZToicmVjdCIsYnJ1c2hNb2RlOiJzaW5nbGUiLHRyYW5zZm9ybWFibGU6ITAsYnJ1c2hTdHlsZTp7Ym9yZGVyV2lkdGg6MSxjb2xvcjoicmdiYSgyMTAsMjE5LDIzOCwwLjMpIixib3JkZXJDb2xvcjoiI0QyREJFRSJ9LHRocm90dGxlVHlwZToiZml4UmF0ZSIsdGhyb3R0bGVEZWxheTowLHJlbW92ZU9uQ2xpY2s6ITAsejoxZTR9LGV9KFRwKTtmdW5jdGlvbiBnVih0LGUpe3JldHVybiBDKHticnVzaFR5cGU6dC5icnVzaFR5cGUsYnJ1c2hNb2RlOnQuYnJ1c2hNb2RlLHRyYW5zZm9ybWFibGU6dC50cmFuc2Zvcm1hYmxlLGJydXNoU3R5bGU6bmV3IGRjKHQuYnJ1c2hTdHlsZSkuZ2V0SXRlbVN0eWxlKCkscmVtb3ZlT25DbGljazp0LnJlbW92ZU9uQ2xpY2ssejp0Lnp9LGUsITApfXZhciB5Vj1bInJlY3QiLCJwb2x5Z29uIiwibGluZVgiLCJsaW5lWSIsImtlZXAiLCJjbGVhciJdLHZWPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyLG87ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToiYnJ1c2gifSwoZnVuY3Rpb24odCl7aT10LmJydXNoVHlwZSxyPXQuYnJ1c2hPcHRpb24uYnJ1c2hNb2RlfHwic2luZ2xlIixvPW98fCEhdC5hcmVhcy5sZW5ndGh9KSksdGhpcy5fYnJ1c2hUeXBlPWksdGhpcy5fYnJ1c2hNb2RlPXIsRSh0LmdldCgidHlwZSIsITApLChmdW5jdGlvbihlKXt0LnNldEljb25TdGF0dXMoZSwoImtlZXAiPT09ZT8ibXVsdGlwbGUiPT09cjoiY2xlYXIiPT09ZT9vOmU9PT1pKT8iZW1waGFzaXMiOiJub3JtYWwiKX0pKX0sZS5wcm90b3R5cGUudXBkYXRlVmlldz1mdW5jdGlvbih0LGUsbil7dGhpcy5yZW5kZXIodCxlLG4pfSxlLnByb3RvdHlwZS5nZXRJY29ucz1mdW5jdGlvbigpe3ZhciB0PXRoaXMubW9kZWwsZT10LmdldCgiaWNvbiIsITApLG49e307cmV0dXJuIEUodC5nZXQoInR5cGUiLCEwKSwoZnVuY3Rpb24odCl7ZVt0XSYmKG5bdF09ZVt0XSl9KSksbn0sZS5wcm90b3R5cGUub25jbGljaz1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5fYnJ1c2hUeXBlLHI9dGhpcy5fYnJ1c2hNb2RlOyJjbGVhciI9PT1uPyhlLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJheGlzQXJlYVNlbGVjdCIsaW50ZXJ2YWxzOltdfSksZS5kaXNwYXRjaEFjdGlvbih7dHlwZToiYnJ1c2giLGNvbW1hbmQ6ImNsZWFyIixhcmVhczpbXX0pKTplLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJ0YWtlR2xvYmFsQ3Vyc29yIixrZXk6ImJydXNoIixicnVzaE9wdGlvbjp7YnJ1c2hUeXBlOiJrZWVwIj09PW4/aTppIT09biYmbixicnVzaE1vZGU6ImtlZXAiPT09bj8ibXVsdGlwbGUiPT09cj8ic2luZ2xlIjoibXVsdGlwbGUiOnJ9fSl9LGUuZ2V0RGVmYXVsdE9wdGlvbj1mdW5jdGlvbih0KXtyZXR1cm57c2hvdzohMCx0eXBlOnlWLnNsaWNlKCksaWNvbjp7cmVjdDoiTTcuMywzNC43IE0wLjQsMTBWLTAuMmg5LjggTTg5LjYsMTBWLTAuMmgtOS44IE0wLjQsNjB2MTAuMmg5LjggTTg5LjYsNjB2MTAuMmgtOS44IE0xMi4zLDIyLjRWMTAuNWgxMy4xIE0zMy42LDEwLjVoNy44IE00OS4xLDEwLjVoNy44IE03Ny41LDIyLjRWMTAuNWgtMTMgTTEyLjMsMzEuMXY4LjIgTTc3LjcsMzEuMXY4LjIgTTEyLjMsNDcuNnYxMS45aDEzLjEgTTMzLjYsNTkuNWg3LjYgTTQ5LjEsNTkuNSBoNy43IE03Ny41LDQ3LjZ2MTEuOWgtMTMiLHBvbHlnb246Ik01NS4yLDM0LjljMS43LDAsMy4xLDEuNCwzLjEsMy4xcy0xLjQsMy4xLTMuMSwzLjEgcy0zLjEtMS40LTMuMS0zLjFTNTMuNSwzNC45LDU1LjIsMzQuOXogTTUwLjQsNTFjMS43LDAsMy4xLDEuNCwzLjEsMy4xYzAsMS43LTEuNCwzLjEtMy4xLDMuMWMtMS43LDAtMy4xLTEuNC0zLjEtMy4xIEM0Ny4zLDUyLjQsNDguNyw1MSw1MC40LDUxeiBNNTUuNiwzNy4xbDEuNS03LjggTTYwLjEsMTMuNWwxLjYtOC43bC03LjgsNCBNNTksMTlsLTEsNS4zIE0yNCwxNi4xbDYuNCw0LjlsNi40LTMuMyBNNDguNSwxMS42IGwtNS45LDMuMSBNMTkuMSwxMi44TDkuNyw1LjFsMS4xLDcuNyBNMTMuNCwyOS44bDEsNy4zbDYuNiwxLjYgTTExLjYsMTguNGwxLDYuMSBNMzIuOCw0MS45IE0yNi42LDQwLjQgTTI3LjMsNDAuMmw2LjEsMS42IE00OS45LDUyLjFsLTUuNi03LjZsLTQuOS0xLjIiLGxpbmVYOiJNMTUuMiwzMCBNMTkuNywxNS42VjEuOUgyOSBNMzQuOCwxLjlINDAuNCBNNTUuMywxNS42VjEuOUg0NS45IE0xOS43LDQ0LjRWNTguMUgyOSBNMzQuOCw1OC4xSDQwLjQgTTU1LjMsNDQuNCBWNTguMUg0NS45IE0xMi41LDIwLjNsLTkuNCw5LjZsOS42LDkuOCBNMy4xLDI5LjloMTYuNSBNNjIuNSwyMC4zbDkuNCw5LjZMNjIuMywzOS43IE03MS45LDI5LjlINTUuNCIsbGluZVk6Ik0zOC44LDcuNyBNNTIuNywxMmgxMy4ydjkgTTY1LjksMjYuNlYzMiBNNTIuNyw0Ni4zaDEzLjJ2LTkgTTI0LjksMTJIMTEuOHY5IE0xMS44LDI2LjZWMzIgTTI0LjksNDYuM0gxMS44di05IE00OC4yLDUuMWwtOS4zLTlsLTkuNCw5LjIgTTM4LjktMy45VjEyIE00OC4yLDUzLjNsLTkuMyw5bC05LjQtOS4yIE0zOC45LDYyLjNWNDYuNCIsa2VlcDoiTTQsMTAuNVYxaDEwLjMgTTIwLjcsMWg2LjEgTTMzLDFoNi4xIE01NS40LDEwLjVWMUg0NS4yIE00LDE3LjN2Ni42IE01NS42LDE3LjN2Ni42IE00LDMwLjVWNDBoMTAuMyBNMjAuNyw0MCBoNi4xIE0zMyw0MGg2LjEgTTU1LjQsMzAuNVY0MEg0NS4yIE0yMSwxOC45aDYyLjl2NDguNkgyMVYxOC45eiIsY2xlYXI6Ik0yMiwxNC43bDMwLjksMzEgTTUyLjksMTQuN0wyMiw0NS43IE00LjcsMTYuOFY0LjJoMTMuMSBNMjYsNC4yaDcuOCBNNDEuNiw0LjJoNy44IE03MC4zLDE2LjhWNC4ySDU3LjIgTTQuNywyNS45djguNiBNNzAuMywyNS45djguNiBNNC43LDQzLjJ2MTIuNmgxMy4xIE0yNiw1NS44aDcuOCBNNDEuNiw1NS44aDcuOCBNNzAuMyw0My4ydjEyLjZINTcuMiJ9LHRpdGxlOnQuZ2V0TG9jYWxlTW9kZWwoKS5nZXQoWyJ0b29sYm94IiwiYnJ1c2giLCJ0aXRsZSJdKX19LGV9KEZFKTt2YXIgbVY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmxheW91dE1vZGU9e3R5cGU6ImJveCIsaWdub3JlU2l6ZTohMH0sbn1yZXR1cm4gbihlLHQpLGUudHlwZT0idGl0bGUiLGUuZGVmYXVsdE9wdGlvbj17ejo2LHNob3c6ITAsdGV4dDoiIix0YXJnZXQ6ImJsYW5rIixzdWJ0ZXh0OiIiLHN1YnRhcmdldDoiYmxhbmsiLGxlZnQ6MCx0b3A6MCxiYWNrZ3JvdW5kQ29sb3I6InJnYmEoMCwwLDAsMCkiLGJvcmRlckNvbG9yOiIjY2NjIixib3JkZXJXaWR0aDowLHBhZGRpbmc6NSxpdGVtR2FwOjEwLHRleHRTdHlsZTp7Zm9udFNpemU6MTgsZm9udFdlaWdodDoiYm9sZCIsY29sb3I6IiM0NjQ2NDYifSxzdWJ0ZXh0U3R5bGU6e2ZvbnRTaXplOjEyLGNvbG9yOiIjNkU3MDc5In19LGV9KFRwKSx4Vj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe2lmKHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdC5nZXQoInNob3ciKSl7dmFyIGk9dGhpcy5ncm91cCxyPXQuZ2V0TW9kZWwoInRleHRTdHlsZSIpLG89dC5nZXRNb2RlbCgic3VidGV4dFN0eWxlIiksYT10LmdldCgidGV4dEFsaWduIikscz1ydCh0LmdldCgidGV4dEJhc2VsaW5lIiksdC5nZXQoInRleHRWZXJ0aWNhbEFsaWduIikpLGw9bmV3IGtzKHtzdHlsZTpVaChyLHt0ZXh0OnQuZ2V0KCJ0ZXh0IiksZmlsbDpyLmdldFRleHRDb2xvcigpfSx7ZGlzYWJsZUJveDohMH0pLHoyOjEwfSksdT1sLmdldEJvdW5kaW5nUmVjdCgpLGg9dC5nZXQoInN1YnRleHQiKSxjPW5ldyBrcyh7c3R5bGU6VWgobyx7dGV4dDpoLGZpbGw6by5nZXRUZXh0Q29sb3IoKSx5OnUuaGVpZ2h0K3QuZ2V0KCJpdGVtR2FwIiksdmVydGljYWxBbGlnbjoidG9wIn0se2Rpc2FibGVCb3g6ITB9KSx6MjoxMH0pLHA9dC5nZXQoImxpbmsiKSxkPXQuZ2V0KCJzdWJsaW5rIiksZj10LmdldCgidHJpZ2dlckV2ZW50IiwhMCk7bC5zaWxlbnQ9IXAmJiFmLGMuc2lsZW50PSFkJiYhZixwJiZsLm9uKCJjbGljayIsKGZ1bmN0aW9uKCl7ZHAocCwiXyIrdC5nZXQoInRhcmdldCIpKX0pKSxkJiZjLm9uKCJjbGljayIsKGZ1bmN0aW9uKCl7ZHAoZCwiXyIrdC5nZXQoInN1YnRhcmdldCIpKX0pKSxIcyhsKS5ldmVudERhdGE9SHMoYykuZXZlbnREYXRhPWY/e2NvbXBvbmVudFR5cGU6InRpdGxlIixjb21wb25lbnRJbmRleDp0LmNvbXBvbmVudEluZGV4fTpudWxsLGkuYWRkKGwpLGgmJmkuYWRkKGMpO3ZhciBnPWkuZ2V0Qm91bmRpbmdSZWN0KCkseT10LmdldEJveExheW91dFBhcmFtcygpO3kud2lkdGg9Zy53aWR0aCx5LmhlaWdodD1nLmhlaWdodDt2YXIgdj14cCh5LHt3aWR0aDpuLmdldFdpZHRoKCksaGVpZ2h0Om4uZ2V0SGVpZ2h0KCl9LHQuZ2V0KCJwYWRkaW5nIikpO2F8fCgibWlkZGxlIj09PShhPXQuZ2V0KCJsZWZ0Iil8fHQuZ2V0KCJyaWdodCIpKSYmKGE9ImNlbnRlciIpLCJyaWdodCI9PT1hP3YueCs9di53aWR0aDoiY2VudGVyIj09PWEmJih2LngrPXYud2lkdGgvMikpLHN8fCgiY2VudGVyIj09PShzPXQuZ2V0KCJ0b3AiKXx8dC5nZXQoImJvdHRvbSIpKSYmKHM9Im1pZGRsZSIpLCJib3R0b20iPT09cz92LnkrPXYuaGVpZ2h0OiJtaWRkbGUiPT09cyYmKHYueSs9di5oZWlnaHQvMikscz1zfHwidG9wIiksaS54PXYueCxpLnk9di55LGkubWFya1JlZHJhdygpO3ZhciBtPXthbGlnbjphLHZlcnRpY2FsQWxpZ246c307bC5zZXRTdHlsZShtKSxjLnNldFN0eWxlKG0pLGc9aS5nZXRCb3VuZGluZ1JlY3QoKTt2YXIgeD12Lm1hcmdpbixfPXQuZ2V0SXRlbVN0eWxlKFsiY29sb3IiLCJvcGFjaXR5Il0pO18uZmlsbD10LmdldCgiYmFja2dyb3VuZENvbG9yIik7dmFyIGI9bmV3IENzKHtzaGFwZTp7eDpnLngteFszXSx5OmcueS14WzBdLHdpZHRoOmcud2lkdGgreFsxXSt4WzNdLGhlaWdodDpnLmhlaWdodCt4WzBdK3hbMl0scjp0LmdldCgiYm9yZGVyUmFkaXVzIil9LHN0eWxlOl8sc3ViUGl4ZWxPcHRpbWl6ZTohMCxzaWxlbnQ6ITB9KTtpLmFkZChiKX19LGUudHlwZT0idGl0bGUiLGV9KGdnKTt2YXIgX1Y9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmxheW91dE1vZGU9ImJveCIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlLG4pe3RoaXMubWVyZ2VEZWZhdWx0QW5kVGhlbWUodCxuKSx0aGlzLl9pbml0RGF0YSgpfSxlLnByb3RvdHlwZS5tZXJnZU9wdGlvbj1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5tZXJnZU9wdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5faW5pdERhdGEoKX0sZS5wcm90b3R5cGUuc2V0Q3VycmVudEluZGV4PWZ1bmN0aW9uKHQpe251bGw9PXQmJih0PXRoaXMub3B0aW9uLmN1cnJlbnRJbmRleCk7dmFyIGU9dGhpcy5fZGF0YS5jb3VudCgpO3RoaXMub3B0aW9uLmxvb3A/dD0odCVlK2UpJWU6KHQ+PWUmJih0PWUtMSksdDwwJiYodD0wKSksdGhpcy5vcHRpb24uY3VycmVudEluZGV4PXR9LGUucHJvdG90eXBlLmdldEN1cnJlbnRJbmRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbi5jdXJyZW50SW5kZXh9LGUucHJvdG90eXBlLmlzSW5kZXhNYXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDdXJyZW50SW5kZXgoKT49dGhpcy5fZGF0YS5jb3VudCgpLTF9LGUucHJvdG90eXBlLnNldFBsYXlTdGF0ZT1mdW5jdGlvbih0KXt0aGlzLm9wdGlvbi5hdXRvUGxheT0hIXR9LGUucHJvdG90eXBlLmdldFBsYXlTdGF0ZT1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5vcHRpb24uYXV0b1BsYXl9LGUucHJvdG90eXBlLl9pbml0RGF0YT1mdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5vcHRpb24sbj1lLmRhdGF8fFtdLGk9ZS5heGlzVHlwZSxyPXRoaXMuX25hbWVzPVtdOyJjYXRlZ29yeSI9PT1pPyh0PVtdLEUobiwoZnVuY3Rpb24oZSxuKXt2YXIgaSxvPXhvKGZvKGUpLCIiKTtxKGUpPyhpPVQoZSkpLnZhbHVlPW46aT1uLHQucHVzaChpKSxyLnB1c2gobyl9KSkpOnQ9bjt2YXIgbz17Y2F0ZWdvcnk6Im9yZGluYWwiLHRpbWU6InRpbWUiLHZhbHVlOiJudW1iZXIifVtpXXx8Im51bWJlciI7KHRoaXMuX2RhdGE9bmV3IGptKFt7bmFtZToidmFsdWUiLHR5cGU6b31dLHRoaXMpKS5pbml0RGF0YSh0LHIpfSxlLnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9LGUucHJvdG90eXBlLmdldENhdGVnb3JpZXM9ZnVuY3Rpb24oKXtpZigiY2F0ZWdvcnkiPT09dGhpcy5nZXQoImF4aXNUeXBlIikpcmV0dXJuIHRoaXMuX25hbWVzLnNsaWNlKCl9LGUudHlwZT0idGltZWxpbmUiLGUuZGVmYXVsdE9wdGlvbj17ejo0LHNob3c6ITAsYXhpc1R5cGU6InRpbWUiLHJlYWx0aW1lOiEwLGxlZnQ6IjIwJSIsdG9wOm51bGwscmlnaHQ6IjIwJSIsYm90dG9tOjAsd2lkdGg6bnVsbCxoZWlnaHQ6NDAscGFkZGluZzo1LGNvbnRyb2xQb3NpdGlvbjoibGVmdCIsYXV0b1BsYXk6ITEscmV3aW5kOiExLGxvb3A6ITAscGxheUludGVydmFsOjJlMyxjdXJyZW50SW5kZXg6MCxpdGVtU3R5bGU6e30sbGFiZWw6e2NvbG9yOiIjMDAwIn0sZGF0YTpbXX0sZX0oVHApLGJWPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUudHlwZT0idGltZWxpbmUuc2xpZGVyIixlLmRlZmF1bHRPcHRpb249eWMoX1YuZGVmYXVsdE9wdGlvbix7YmFja2dyb3VuZENvbG9yOiJyZ2JhKDAsMCwwLDApIixib3JkZXJDb2xvcjoiI2NjYyIsYm9yZGVyV2lkdGg6MCxvcmllbnQ6Imhvcml6b250YWwiLGludmVyc2U6ITEsdG9vbHRpcDp7dHJpZ2dlcjoiaXRlbSJ9LHN5bWJvbDoiY2lyY2xlIixzeW1ib2xTaXplOjEyLGxpbmVTdHlsZTp7c2hvdzohMCx3aWR0aDoyLGNvbG9yOiIjREFFMUY1In0sbGFiZWw6e3Bvc2l0aW9uOiJhdXRvIixzaG93OiEwLGludGVydmFsOiJhdXRvIixyb3RhdGU6MCxjb2xvcjoiI0E0QjFENyJ9LGl0ZW1TdHlsZTp7Y29sb3I6IiNBNEIxRDciLGJvcmRlcldpZHRoOjF9LGNoZWNrcG9pbnRTdHlsZTp7c3ltYm9sOiJjaXJjbGUiLHN5bWJvbFNpemU6MTUsY29sb3I6IiMzMTZiZjMiLGJvcmRlckNvbG9yOiIjZmZmIixib3JkZXJXaWR0aDoyLHNoYWRvd0JsdXI6MixzaGFkb3dPZmZzZXRYOjEsc2hhZG93T2Zmc2V0WToxLHNoYWRvd0NvbG9yOiJyZ2JhKDAsIDAsIDAsIDAuMykiLGFuaW1hdGlvbjohMCxhbmltYXRpb25EdXJhdGlvbjozMDAsYW5pbWF0aW9uRWFzaW5nOiJxdWludGljSW5PdXQifSxjb250cm9sU3R5bGU6e3Nob3c6ITAsc2hvd1BsYXlCdG46ITAsc2hvd1ByZXZCdG46ITAsc2hvd05leHRCdG46ITAsaXRlbVNpemU6MjQsaXRlbUdhcDoxMixwb3NpdGlvbjoibGVmdCIscGxheUljb246InBhdGg6Ly9NMzEuNiw1M0MxNy41LDUzLDYsNDEuNSw2LDI3LjRTMTcuNSwxLjgsMzEuNiwxLjhDNDUuNywxLjgsNTcuMiwxMy4zLDU3LjIsMjcuNFM0NS43LDUzLDMxLjYsNTN6IE0zMS42LDMuMyBDMTguNCwzLjMsNy41LDE0LjEsNy41LDI3LjRjMCwxMy4zLDEwLjgsMjQuMSwyNC4xLDI0LjFDNDQuOSw1MS41LDU1LjcsNDAuNyw1NS43LDI3LjRDNTUuNywxNC4xLDQ0LjksMy4zLDMxLjYsMy4zeiBNMjQuOSwyMS4zIGMwLTIuMiwxLjYtMy4xLDMuNS0ybDEwLjUsNi4xYzEuODk5LDEuMSwxLjg5OSwyLjksMCw0bC0xMC41LDYuMWMtMS45LDEuMS0zLjUsMC4yLTMuNS0yVjIxLjN6IixzdG9wSWNvbjoicGF0aDovL00zMC45LDUzLjJDMTYuOCw1My4yLDUuMyw0MS43LDUuMywyNy42UzE2LjgsMiwzMC45LDJDNDUsMiw1Ni40LDEzLjUsNTYuNCwyNy42UzQ1LDUzLjIsMzAuOSw1My4yeiBNMzAuOSwzLjVDMTcuNiwzLjUsNi44LDE0LjQsNi44LDI3LjZjMCwxMy4zLDEwLjgsMjQuMSwyNC4xMDEsMjQuMUM0NC4yLDUxLjcsNTUsNDAuOSw1NSwyNy42QzU0LjksMTQuNCw0NC4xLDMuNSwzMC45LDMuNXogTTM2LjksMzUuOGMwLDAuNjAxLTAuNCwxLTAuOSwxaC0xLjNjLTAuNSwwLTAuOS0wLjM5OS0wLjktMVYxOS41YzAtMC42LDAuNC0xLDAuOS0xSDM2YzAuNSwwLDAuOSwwLjQsMC45LDFWMzUuOHogTTI3LjgsMzUuOCBjMCwwLjYwMS0wLjQsMS0wLjksMWgtMS4zYy0wLjUsMC0wLjktMC4zOTktMC45LTFWMTkuNWMwLTAuNiwwLjQtMSwwLjktMUgyN2MwLjUsMCwwLjksMC40LDAuOSwxTDI3LjgsMzUuOEwyNy44LDM1Ljh6IixuZXh0SWNvbjoiTTIsMTguNUExLjUyLDEuNTIsMCwwLDEsLjkyLDE4YTEuNDksMS40OSwwLDAsMSwwLTIuMTJMNy44MSw5LjM2LDEsMy4xMUExLjUsMS41LDAsMSwxLDMsLjg5bDgsNy4zNGExLjQ4LDEuNDgsMCwwLDEsLjQ5LDEuMDksMS41MSwxLjUxLDAsMCwxLS40NiwxLjFMMywxOC4wOEExLjUsMS41LDAsMCwxLDIsMTguNVoiLHByZXZJY29uOiJNMTAsLjVBMS41MiwxLjUyLDAsMCwxLDExLjA4LDFhMS40OSwxLjQ5LDAsMCwxLDAsMi4xMkw0LjE5LDkuNjQsMTEsMTUuODlhMS41LDEuNSwwLDEsMS0yLDIuMjJMMSwxMC43N0ExLjQ4LDEuNDgsMCwwLDEsLjUsOS42OCwxLjUxLDEuNTEsMCwwLDEsMSw4LjU4TDksLjkyQTEuNSwxLjUsMCwwLDEsMTAsLjVaIixwcmV2QnRuU2l6ZToxOCxuZXh0QnRuU2l6ZToxOCxjb2xvcjoiI0E0QjFENyIsYm9yZGVyQ29sb3I6IiNBNEIxRDciLGJvcmRlcldpZHRoOjF9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMCxjb2xvcjoiIzZmNzc4ZCJ9LGl0ZW1TdHlsZTp7Y29sb3I6IiMzMTZCRjMifSxjb250cm9sU3R5bGU6e2NvbG9yOiIjMzE2QkYzIixib3JkZXJDb2xvcjoiIzMxNkJGMyIsYm9yZGVyV2lkdGg6Mn19LHByb2dyZXNzOntsaW5lU3R5bGU6e2NvbG9yOiIjMzE2QkYzIn0saXRlbVN0eWxlOntjb2xvcjoiIzMxNkJGMyJ9LGxhYmVsOntjb2xvcjoiIzZmNzc4ZCJ9fSxkYXRhOltdfSksZX0oX1YpO1IoYlYsbGYucHJvdG90eXBlKTt2YXIgd1Y9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS50eXBlPSJ0aW1lbGluZSIsZX0oZ2cpLFNWPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscil7dmFyIG89dC5jYWxsKHRoaXMsZSxuLGkpfHx0aGlzO3JldHVybiBvLnR5cGU9cnx8InZhbHVlIixvfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0TGFiZWxNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZGVsLmdldE1vZGVsKCJsYWJlbCIpfSxlLnByb3RvdHlwZS5pc0hvcml6b250YWw9ZnVuY3Rpb24oKXtyZXR1cm4iaG9yaXpvbnRhbCI9PT10aGlzLm1vZGVsLmdldCgib3JpZW50Iil9LGV9KFdfKSxNVj1NYXRoLlBJLElWPVNvKCksVFY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUpe3RoaXMuYXBpPWV9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7aWYodGhpcy5tb2RlbD10LHRoaXMuYXBpPW4sdGhpcy5lY01vZGVsPWUsdGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0LmdldCgic2hvdyIsITApKXt2YXIgaT10aGlzLl9sYXlvdXQodCxuKSxyPXRoaXMuX2NyZWF0ZUdyb3VwKCJfbWFpbkdyb3VwIiksbz10aGlzLl9jcmVhdGVHcm91cCgiX2xhYmVsR3JvdXAiKSxhPXRoaXMuX2F4aXM9dGhpcy5fY3JlYXRlQXhpcyhpLHQpO3QuZm9ybWF0VG9vbHRpcD1mdW5jdGlvbih0KXtyZXR1cm4gWGYoIm5hbWVWYWx1ZSIse25vTmFtZTohMCx2YWx1ZTphLnNjYWxlLmdldExhYmVsKHt2YWx1ZTp0fSl9KX0sRShbIkF4aXNMaW5lIiwiQXhpc1RpY2siLCJDb250cm9sIiwiQ3VycmVudFBvaW50ZXIiXSwoZnVuY3Rpb24oZSl7dGhpc1siX3JlbmRlciIrZV0oaSxyLGEsdCl9KSx0aGlzKSx0aGlzLl9yZW5kZXJBeGlzTGFiZWwoaSxvLGEsdCksdGhpcy5fcG9zaXRpb24oaSx0KX10aGlzLl9kb1BsYXlTdG9wKCksdGhpcy5fdXBkYXRlVGlja3NTdGF0dXMoKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJUaW1lcigpLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhclRpbWVyKCl9LGUucHJvdG90eXBlLl9sYXlvdXQ9ZnVuY3Rpb24odCxlKXt2YXIgbixpLHIsbyxhPXQuZ2V0KFsibGFiZWwiLCJwb3NpdGlvbiJdKSxzPXQuZ2V0KCJvcmllbnQiKSxsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHhwKHQuZ2V0Qm94TGF5b3V0UGFyYW1zKCkse3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0sdC5nZXQoInBhZGRpbmciKSl9KHQsZSksdT17aG9yaXpvbnRhbDoiY2VudGVyIix2ZXJ0aWNhbDoobj1udWxsPT1hfHwiYXV0byI9PT1hPyJob3Jpem9udGFsIj09PXM/bC55K2wuaGVpZ2h0LzI8ZS5nZXRIZWlnaHQoKS8yPyItIjoiKyI6bC54K2wud2lkdGgvMjxlLmdldFdpZHRoKCkvMj8iKyI6Ii0iOlgoYSk/e2hvcml6b250YWw6e3RvcDoiLSIsYm90dG9tOiIrIn0sdmVydGljYWw6e2xlZnQ6Ii0iLHJpZ2h0OiIrIn19W3NdW2FdOmEpPj0wfHwiKyI9PT1uPyJsZWZ0IjoicmlnaHQifSxoPXtob3Jpem9udGFsOm4+PTB8fCIrIj09PW4/InRvcCI6ImJvdHRvbSIsdmVydGljYWw6Im1pZGRsZSJ9LGM9e2hvcml6b250YWw6MCx2ZXJ0aWNhbDpNVi8yfSxwPSJ2ZXJ0aWNhbCI9PT1zP2wuaGVpZ2h0Omwud2lkdGgsZD10LmdldE1vZGVsKCJjb250cm9sU3R5bGUiKSxmPWQuZ2V0KCJzaG93IiwhMCksZz1mP2QuZ2V0KCJpdGVtU2l6ZSIpOjAseT1mP2QuZ2V0KCJpdGVtR2FwIik6MCx2PWcreSxtPXQuZ2V0KFsibGFiZWwiLCJyb3RhdGUiXSl8fDA7bT1tKk1WLzE4MDt2YXIgeD1kLmdldCgicG9zaXRpb24iLCEwKSxfPWYmJmQuZ2V0KCJzaG93UGxheUJ0biIsITApLGI9ZiYmZC5nZXQoInNob3dQcmV2QnRuIiwhMCksdz1mJiZkLmdldCgic2hvd05leHRCdG4iLCEwKSxTPTAsTT1wOyJsZWZ0Ij09PXh8fCJib3R0b20iPT09eD8oXyYmKGk9WzAsMF0sUys9diksYiYmKHI9W1MsMF0sUys9diksdyYmKG89W00tZywwXSxNLT12KSk6KF8mJihpPVtNLWcsMF0sTS09diksYiYmKHI9WzAsMF0sUys9diksdyYmKG89W00tZywwXSxNLT12KSk7dmFyIEk9W1MsTV07cmV0dXJuIHQuZ2V0KCJpbnZlcnNlIikmJkkucmV2ZXJzZSgpLHt2aWV3UmVjdDpsLG1haW5MZW5ndGg6cCxvcmllbnQ6cyxyb3RhdGlvbjpjW3NdLGxhYmVsUm90YXRpb246bSxsYWJlbFBvc09wdDpuLGxhYmVsQWxpZ246dC5nZXQoWyJsYWJlbCIsImFsaWduIl0pfHx1W3NdLGxhYmVsQmFzZWxpbmU6dC5nZXQoWyJsYWJlbCIsInZlcnRpY2FsQWxpZ24iXSl8fHQuZ2V0KFsibGFiZWwiLCJiYXNlbGluZSJdKXx8aFtzXSxwbGF5UG9zaXRpb246aSxwcmV2QnRuUG9zaXRpb246cixuZXh0QnRuUG9zaXRpb246byxheGlzRXh0ZW50OkksY29udHJvbFNpemU6Zyxjb250cm9sR2FwOnl9fSxlLnByb3RvdHlwZS5fcG9zaXRpb249ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9tYWluR3JvdXAsaT10aGlzLl9sYWJlbEdyb3VwLHI9dC52aWV3UmVjdDtpZigidmVydGljYWwiPT09dC5vcmllbnQpe3ZhciBvPVsxLDAsMCwxLDAsMF0sYT1yLngscz1yLnkrci5oZWlnaHQ7RWkobyxvLFstYSwtc10pLHppKG8sbywtTVYvMiksRWkobyxvLFthLHNdKSwocj1yLmNsb25lKCkpLmFwcGx5VHJhbnNmb3JtKG8pfXZhciBsPXkociksdT15KG4uZ2V0Qm91bmRpbmdSZWN0KCkpLGg9eShpLmdldEJvdW5kaW5nUmVjdCgpKSxjPVtuLngsbi55XSxwPVtpLngsaS55XTtwWzBdPWNbMF09bFswXVswXTt2YXIgZCxmPXQubGFiZWxQb3NPcHQ7bnVsbD09Znx8WChmKT8odihjLHUsbCwxLGQ9IisiPT09Zj8wOjEpLHYocCxoLGwsMSwxLWQpKToodihjLHUsbCwxLGQ9Zj49MD8wOjEpLHBbMV09Y1sxXStmKTtmdW5jdGlvbiBnKHQpe3Qub3JpZ2luWD1sWzBdWzBdLXQueCx0Lm9yaWdpblk9bFsxXVswXS10Lnl9ZnVuY3Rpb24geSh0KXtyZXR1cm5bW3QueCx0LngrdC53aWR0aF0sW3QueSx0LnkrdC5oZWlnaHRdXX1mdW5jdGlvbiB2KHQsZSxuLGkscil7dFtpXSs9bltpXVtyXS1lW2ldW3JdfW4uc2V0UG9zaXRpb24oYyksaS5zZXRQb3NpdGlvbihwKSxuLnJvdGF0aW9uPWkucm90YXRpb249dC5yb3RhdGlvbixnKG4pLGcoaSl9LGUucHJvdG90eXBlLl9jcmVhdGVBeGlzPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5nZXREYXRhKCksaT1lLmdldCgiYXhpc1R5cGUiKSxyPWZ1bmN0aW9uKHQsZSl7aWYoZT1lfHx0LmdldCgidHlwZSIpKXN3aXRjaChlKXtjYXNlImNhdGVnb3J5IjpyZXR1cm4gbmV3IHl4KHtvcmRpbmFsTWV0YTp0LmdldENhdGVnb3JpZXMoKSxleHRlbnQ6WzEvMCwtMS8wXX0pO2Nhc2UidGltZSI6cmV0dXJuIG5ldyBPeCh7bG9jYWxlOnQuZWNNb2RlbC5nZXRMb2NhbGVNb2RlbCgpLHVzZVVUQzp0LmVjTW9kZWwuZ2V0KCJ1c2VVVEMiKX0pO2RlZmF1bHQ6cmV0dXJuIG5ldyBteH19KGUsaSk7ci5nZXRUaWNrcz1mdW5jdGlvbigpe3JldHVybiBuLm1hcEFycmF5KFsidmFsdWUiXSwoZnVuY3Rpb24odCl7cmV0dXJue3ZhbHVlOnR9fSkpfTt2YXIgbz1uLmdldERhdGFFeHRlbnQoInZhbHVlIik7ci5zZXRFeHRlbnQob1swXSxvWzFdKSxyLmNhbGNOaWNlVGlja3MoKTt2YXIgYT1uZXcgU1YoInZhbHVlIixyLHQuYXhpc0V4dGVudCxpKTtyZXR1cm4gYS5tb2RlbD1lLGF9LGUucHJvdG90eXBlLl9jcmVhdGVHcm91cD1mdW5jdGlvbih0KXt2YXIgZT10aGlzW3RdPW5ldyBDcjtyZXR1cm4gdGhpcy5ncm91cC5hZGQoZSksZX0sZS5wcm90b3R5cGUuX3JlbmRlckF4aXNMaW5lPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPW4uZ2V0RXh0ZW50KCk7aWYoaS5nZXQoWyJsaW5lU3R5bGUiLCJzaG93Il0pKXt2YXIgbz1uZXcgenUoe3NoYXBlOnt4MTpyWzBdLHkxOjAseDI6clsxXSx5MjowfSxzdHlsZTpBKHtsaW5lQ2FwOiJyb3VuZCJ9LGkuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpKSxzaWxlbnQ6ITAsejI6MX0pO2UuYWRkKG8pO3ZhciBhPXRoaXMuX3Byb2dyZXNzTGluZT1uZXcgenUoe3NoYXBlOnt4MTpyWzBdLHgyOnRoaXMuX2N1cnJlbnRQb2ludGVyP3RoaXMuX2N1cnJlbnRQb2ludGVyLng6clswXSx5MTowLHkyOjB9LHN0eWxlOmsoe2xpbmVDYXA6InJvdW5kIixsaW5lV2lkdGg6by5zdHlsZS5saW5lV2lkdGh9LGkuZ2V0TW9kZWwoWyJwcm9ncmVzcyIsImxpbmVTdHlsZSJdKS5nZXRMaW5lU3R5bGUoKSksc2lsZW50OiEwLHoyOjF9KTtlLmFkZChhKX19LGUucHJvdG90eXBlLl9yZW5kZXJBeGlzVGljaz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLG89aS5nZXREYXRhKCksYT1uLnNjYWxlLmdldFRpY2tzKCk7dGhpcy5fdGlja1N5bWJvbHM9W10sRShhLChmdW5jdGlvbih0KXt2YXIgYT1uLmRhdGFUb0Nvb3JkKHQudmFsdWUpLHM9by5nZXRJdGVtTW9kZWwodC52YWx1ZSksbD1zLmdldE1vZGVsKCJpdGVtU3R5bGUiKSx1PXMuZ2V0TW9kZWwoWyJlbXBoYXNpcyIsIml0ZW1TdHlsZSJdKSxoPXMuZ2V0TW9kZWwoWyJwcm9ncmVzcyIsIml0ZW1TdHlsZSJdKSxjPXt4OmEseTowLG9uY2xpY2s6VyhyLl9jaGFuZ2VUaW1lbGluZSxyLHQudmFsdWUpfSxwPUNWKHMsbCxlLGMpO3AuZW5zdXJlU3RhdGUoImVtcGhhc2lzIikuc3R5bGU9dS5nZXRJdGVtU3R5bGUoKSxwLmVuc3VyZVN0YXRlKCJwcm9ncmVzcyIpLnN0eWxlPWguZ2V0SXRlbVN0eWxlKCksT2wocCk7dmFyIGQ9SHMocCk7cy5nZXQoInRvb2x0aXAiKT8oZC5kYXRhSW5kZXg9dC52YWx1ZSxkLmRhdGFNb2RlbD1pKTpkLmRhdGFJbmRleD1kLmRhdGFNb2RlbD1udWxsLHIuX3RpY2tTeW1ib2xzLnB1c2gocCl9KSl9LGUucHJvdG90eXBlLl9yZW5kZXJBeGlzTGFiZWw9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcztpZihuLmdldExhYmVsTW9kZWwoKS5nZXQoInNob3ciKSl7dmFyIG89aS5nZXREYXRhKCksYT1uLmdldFZpZXdMYWJlbHMoKTt0aGlzLl90aWNrTGFiZWxzPVtdLEUoYSwoZnVuY3Rpb24oaSl7dmFyIGE9aS50aWNrVmFsdWUscz1vLmdldEl0ZW1Nb2RlbChhKSxsPXMuZ2V0TW9kZWwoImxhYmVsIiksdT1zLmdldE1vZGVsKFsiZW1waGFzaXMiLCJsYWJlbCJdKSxoPXMuZ2V0TW9kZWwoWyJwcm9ncmVzcyIsImxhYmVsIl0pLGM9bi5kYXRhVG9Db29yZChpLnRpY2tWYWx1ZSkscD1uZXcga3Moe3g6Yyx5OjAscm90YXRpb246dC5sYWJlbFJvdGF0aW9uLXQucm90YXRpb24sb25jbGljazpXKHIuX2NoYW5nZVRpbWVsaW5lLHIsYSksc2lsZW50OiExLHN0eWxlOlVoKGwse3RleHQ6aS5mb3JtYXR0ZWRMYWJlbCxhbGlnbjp0LmxhYmVsQWxpZ24sdmVydGljYWxBbGlnbjp0LmxhYmVsQmFzZWxpbmV9KX0pO3AuZW5zdXJlU3RhdGUoImVtcGhhc2lzIikuc3R5bGU9VWgodSkscC5lbnN1cmVTdGF0ZSgicHJvZ3Jlc3MiKS5zdHlsZT1VaChoKSxlLmFkZChwKSxPbChwKSxJVihwKS5kYXRhSW5kZXg9YSxyLl90aWNrTGFiZWxzLnB1c2gocCl9KSl9fSxlLnByb3RvdHlwZS5fcmVuZGVyQ29udHJvbD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmNvbnRyb2xTaXplLG89dC5yb3RhdGlvbixhPWkuZ2V0TW9kZWwoImNvbnRyb2xTdHlsZSIpLmdldEl0ZW1TdHlsZSgpLHM9aS5nZXRNb2RlbChbImVtcGhhc2lzIiwiY29udHJvbFN0eWxlIl0pLmdldEl0ZW1TdHlsZSgpLGw9aS5nZXRQbGF5U3RhdGUoKSx1PWkuZ2V0KCJpbnZlcnNlIiwhMCk7ZnVuY3Rpb24gaCh0LG4sbCx1KXtpZih0KXt2YXIgaD1ncihydChpLmdldChbImNvbnRyb2xTdHlsZSIsbisiQnRuU2l6ZSJdKSxyKSxyKSxjPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWkuc3R5bGUsbz1QaCh0LmdldChbImNvbnRyb2xTdHlsZSIsZV0pLGl8fHt9LG5ldyBzcihuWzBdLG5bMV0sblsyXSxuWzNdKSk7ciYmby5zZXRTdHlsZShyKTtyZXR1cm4gb30oaSxuKyJJY29uIixbMCwtaC8yLGgsaF0se3g6dFswXSx5OnRbMV0sb3JpZ2luWDpyLzIsb3JpZ2luWTowLHJvdGF0aW9uOnU/LW86MCxyZWN0SG92ZXI6ITAsc3R5bGU6YSxvbmNsaWNrOmx9KTtjLmVuc3VyZVN0YXRlKCJlbXBoYXNpcyIpLnN0eWxlPXMsZS5hZGQoYyksT2woYyl9fWgodC5uZXh0QnRuUG9zaXRpb24sIm5leHQiLFcodGhpcy5fY2hhbmdlVGltZWxpbmUsdGhpcyx1PyItIjoiKyIpKSxoKHQucHJldkJ0blBvc2l0aW9uLCJwcmV2IixXKHRoaXMuX2NoYW5nZVRpbWVsaW5lLHRoaXMsdT8iKyI6Ii0iKSksaCh0LnBsYXlQb3NpdGlvbixsPyJzdG9wIjoicGxheSIsVyh0aGlzLl9oYW5kbGVQbGF5Q2xpY2ssdGhpcywhbCksITApfSxlLnByb3RvdHlwZS5fcmVuZGVyQ3VycmVudFBvaW50ZXI9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9aS5nZXREYXRhKCksbz1pLmdldEN1cnJlbnRJbmRleCgpLGE9ci5nZXRJdGVtTW9kZWwobykuZ2V0TW9kZWwoImNoZWNrcG9pbnRTdHlsZSIpLHM9dGhpcyxsPXtvbkNyZWF0ZTpmdW5jdGlvbih0KXt0LmRyYWdnYWJsZT0hMCx0LmRyaWZ0PVcocy5faGFuZGxlUG9pbnRlckRyYWcscyksdC5vbmRyYWdlbmQ9VyhzLl9oYW5kbGVQb2ludGVyRHJhZ2VuZCxzKSxEVih0LHMuX3Byb2dyZXNzTGluZSxvLG4saSwhMCl9LG9uVXBkYXRlOmZ1bmN0aW9uKHQpe0RWKHQscy5fcHJvZ3Jlc3NMaW5lLG8sbixpKX19O3RoaXMuX2N1cnJlbnRQb2ludGVyPUNWKGEsYSx0aGlzLl9tYWluR3JvdXAse30sdGhpcy5fY3VycmVudFBvaW50ZXIsbCl9LGUucHJvdG90eXBlLl9oYW5kbGVQbGF5Q2xpY2s9ZnVuY3Rpb24odCl7dGhpcy5fY2xlYXJUaW1lcigpLHRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJ0aW1lbGluZVBsYXlDaGFuZ2UiLHBsYXlTdGF0ZTp0LGZyb206dGhpcy51aWR9KX0sZS5wcm90b3R5cGUuX2hhbmRsZVBvaW50ZXJEcmFnPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl9jbGVhclRpbWVyKCksdGhpcy5fcG9pbnRlckNoYW5nZVRpbWVsaW5lKFtuLm9mZnNldFgsbi5vZmZzZXRZXSl9LGUucHJvdG90eXBlLl9oYW5kbGVQb2ludGVyRHJhZ2VuZD1mdW5jdGlvbih0KXt0aGlzLl9wb2ludGVyQ2hhbmdlVGltZWxpbmUoW3Qub2Zmc2V0WCx0Lm9mZnNldFldLCEwKX0sZS5wcm90b3R5cGUuX3BvaW50ZXJDaGFuZ2VUaW1lbGluZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX3RvQXhpc0Nvb3JkKHQpWzBdLGk9VnIodGhpcy5fYXhpcy5nZXRFeHRlbnQoKS5zbGljZSgpKTtuPmlbMV0mJihuPWlbMV0pLG48aVswXSYmKG49aVswXSksdGhpcy5fY3VycmVudFBvaW50ZXIueD1uLHRoaXMuX2N1cnJlbnRQb2ludGVyLm1hcmtSZWRyYXcoKSx0aGlzLl9wcm9ncmVzc0xpbmUuc2hhcGUueDI9bix0aGlzLl9wcm9ncmVzc0xpbmUuZGlydHkoKTt2YXIgcj10aGlzLl9maW5kTmVhcmVzdFRpY2sobiksbz10aGlzLm1vZGVsOyhlfHxyIT09by5nZXRDdXJyZW50SW5kZXgoKSYmby5nZXQoInJlYWx0aW1lIikpJiZ0aGlzLl9jaGFuZ2VUaW1lbGluZShyKX0sZS5wcm90b3R5cGUuX2RvUGxheVN0b3A9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX2NsZWFyVGltZXIoKSx0aGlzLm1vZGVsLmdldFBsYXlTdGF0ZSgpJiYodGhpcy5fdGltZXI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt2YXIgZT10Lm1vZGVsO3QuX2NoYW5nZVRpbWVsaW5lKGUuZ2V0Q3VycmVudEluZGV4KCkrKGUuZ2V0KCJyZXdpbmQiLCEwKT8tMToxKSl9KSx0aGlzLm1vZGVsLmdldCgicGxheUludGVydmFsIikpKX0sZS5wcm90b3R5cGUuX3RvQXhpc0Nvb3JkPWZ1bmN0aW9uKHQpe3JldHVybiBUaCh0LHRoaXMuX21haW5Hcm91cC5nZXRMb2NhbFRyYW5zZm9ybSgpLCEwKX0sZS5wcm90b3R5cGUuX2ZpbmROZWFyZXN0VGljaz1mdW5jdGlvbih0KXt2YXIgZSxuPXRoaXMubW9kZWwuZ2V0RGF0YSgpLGk9MS8wLHI9dGhpcy5fYXhpcztyZXR1cm4gbi5lYWNoKFsidmFsdWUiXSwoZnVuY3Rpb24obixvKXt2YXIgYT1yLmRhdGFUb0Nvb3JkKG4pLHM9TWF0aC5hYnMoYS10KTtzPGkmJihpPXMsZT1vKX0pKSxlfSxlLnByb3RvdHlwZS5fY2xlYXJUaW1lcj1mdW5jdGlvbigpe3RoaXMuX3RpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKSx0aGlzLl90aW1lcj1udWxsKX0sZS5wcm90b3R5cGUuX2NoYW5nZVRpbWVsaW5lPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubW9kZWwuZ2V0Q3VycmVudEluZGV4KCk7IisiPT09dD90PWUrMToiLSI9PT10JiYodD1lLTEpLHRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJ0aW1lbGluZUNoYW5nZSIsY3VycmVudEluZGV4OnQsZnJvbTp0aGlzLnVpZH0pfSxlLnByb3RvdHlwZS5fdXBkYXRlVGlja3NTdGF0dXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm1vZGVsLmdldEN1cnJlbnRJbmRleCgpLGU9dGhpcy5fdGlja1N5bWJvbHMsbj10aGlzLl90aWNrTGFiZWxzO2lmKGUpZm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspZSYmZVtpXSYmZVtpXS50b2dnbGVTdGF0ZSgicHJvZ3Jlc3MiLGk8dCk7aWYobilmb3IoaT0wO2k8bi5sZW5ndGg7aSsrKW4mJm5baV0mJm5baV0udG9nZ2xlU3RhdGUoInByb2dyZXNzIixJVihuW2ldKS5kYXRhSW5kZXg8PXQpfSxlLnR5cGU9InRpbWVsaW5lLnNsaWRlciIsZX0od1YpO2Z1bmN0aW9uIENWKHQsZSxuLGkscixvKXt2YXIgYT1lLmdldCgiY29sb3IiKTtyPyhyLnNldENvbG9yKGEpLG4uYWRkKHIpLG8mJm8ub25VcGRhdGUocikpOigocj1MeSh0LmdldCgic3ltYm9sIiksLTEsLTEsMiwyLGEpKS5zZXRTdHlsZSgic3Ryb2tlTm9TY2FsZSIsITApLG4uYWRkKHIpLG8mJm8ub25DcmVhdGUocikpO3ZhciBzPWUuZ2V0SXRlbVN0eWxlKFsiY29sb3IiXSk7ci5zZXRTdHlsZShzKSxpPUMoe3JlY3RIb3ZlcjohMCx6MjoxMDB9LGksITApO3ZhciBsPVB5KHQuZ2V0KCJzeW1ib2xTaXplIikpO2kuc2NhbGVYPWxbMF0vMixpLnNjYWxlWT1sWzFdLzI7dmFyIHU9T3kodC5nZXQoInN5bWJvbE9mZnNldCIpLGwpO3UmJihpLng9KGkueHx8MCkrdVswXSxpLnk9KGkueXx8MCkrdVsxXSk7dmFyIGg9dC5nZXQoInN5bWJvbFJvdGF0ZSIpO3JldHVybiBpLnJvdGF0aW9uPShofHwwKSpNYXRoLlBJLzE4MHx8MCxyLmF0dHIoaSksci51cGRhdGVUcmFuc2Zvcm0oKSxyfWZ1bmN0aW9uIERWKHQsZSxuLGkscixvKXtpZighdC5kcmFnZ2luZyl7dmFyIGE9ci5nZXRNb2RlbCgiY2hlY2twb2ludFN0eWxlIikscz1pLmRhdGFUb0Nvb3JkKHIuZ2V0RGF0YSgpLmdldCgidmFsdWUiLG4pKTtpZihvfHwhYS5nZXQoImFuaW1hdGlvbiIsITApKXQuYXR0cih7eDpzLHk6MH0pLGUmJmUuYXR0cih7c2hhcGU6e3gyOnN9fSk7ZWxzZXt2YXIgbD17ZHVyYXRpb246YS5nZXQoImFuaW1hdGlvbkR1cmF0aW9uIiwhMCksZWFzaW5nOmEuZ2V0KCJhbmltYXRpb25FYXNpbmciLCEwKX07dC5zdG9wQW5pbWF0aW9uKG51bGwsITApLHQuYW5pbWF0ZVRvKHt4OnMseTowfSxsKSxlJiZlLmFuaW1hdGVUbyh7c2hhcGU6e3gyOnN9fSxsKX19fWZ1bmN0aW9uIEFWKHQpe3ZhciBlPXQmJnQudGltZWxpbmU7WShlKXx8KGU9ZT9bZV06W10pLEUoZSwoZnVuY3Rpb24odCl7dCYmZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlLG49e251bWJlcjoidmFsdWUiLHRpbWU6InRpbWUifTtuW2VdJiYodC5heGlzVHlwZT1uW2VdLGRlbGV0ZSB0LnR5cGUpO2lmKGtWKHQpLExWKHQsImNvbnRyb2xQb3NpdGlvbiIpKXt2YXIgaT10LmNvbnRyb2xTdHlsZXx8KHQuY29udHJvbFN0eWxlPXt9KTtMVihpLCJwb3NpdGlvbiIpfHwoaS5wb3NpdGlvbj10LmNvbnRyb2xQb3NpdGlvbiksIm5vbmUiIT09aS5wb3NpdGlvbnx8TFYoaSwic2hvdyIpfHwoaS5zaG93PSExLGRlbGV0ZSBpLnBvc2l0aW9uKSxkZWxldGUgdC5jb250cm9sUG9zaXRpb259RSh0LmRhdGF8fFtdLChmdW5jdGlvbih0KXtxKHQpJiYhWSh0KSYmKCFMVih0LCJ2YWx1ZSIpJiZMVih0LCJuYW1lIikmJih0LnZhbHVlPXQubmFtZSksa1YodCkpfSkpfSh0KX0pKX1mdW5jdGlvbiBrVih0KXt2YXIgZT10Lml0ZW1TdHlsZXx8KHQuaXRlbVN0eWxlPXt9KSxuPWUuZW1waGFzaXN8fChlLmVtcGhhc2lzPXt9KSxpPXQubGFiZWx8fHQubGFiZWx8fHt9LHI9aS5ub3JtYWx8fChpLm5vcm1hbD17fSksbz17bm9ybWFsOjEsZW1waGFzaXM6MX07RShpLChmdW5jdGlvbih0LGUpe29bZV18fExWKHIsZSl8fChyW2VdPXQpfSkpLG4ubGFiZWwmJiFMVihpLCJlbXBoYXNpcyIpJiYoaS5lbXBoYXNpcz1uLmxhYmVsLGRlbGV0ZSBuLmxhYmVsKX1mdW5jdGlvbiBMVih0LGUpe3JldHVybiB0Lmhhc093blByb3BlcnR5KGUpfWZ1bmN0aW9uIFBWKHQsZSl7aWYoIXQpcmV0dXJuITE7Zm9yKHZhciBuPVkodCk/dDpbdF0saT0wO2k8bi5sZW5ndGg7aSsrKWlmKG5baV0mJm5baV1bZV0pcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gT1YodCl7Y28odCwibGFiZWwiLFsic2hvdyJdKX12YXIgUlY9U28oKSxOVj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uY3JlYXRlZEJ5U2VsZj0hMSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUsbil7dGhpcy5tZXJnZURlZmF1bHRBbmRUaGVtZSh0LG4pLHRoaXMuX21lcmdlT3B0aW9uKHQsbiwhMSwhMCl9LGUucHJvdG90eXBlLmlzQW5pbWF0aW9uRW5hYmxlZD1mdW5jdGlvbigpe2lmKHIubm9kZSlyZXR1cm4hMTt2YXIgdD10aGlzLl9faG9zdFNlcmllcztyZXR1cm4gdGhpcy5nZXRTaGFsbG93KCJhbmltYXRpb24iKSYmdCYmdC5pc0FuaW1hdGlvbkVuYWJsZWQoKX0sZS5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24odCxlKXt0aGlzLl9tZXJnZU9wdGlvbih0LGUsITEsITEpfSxlLnByb3RvdHlwZS5fbWVyZ2VPcHRpb249ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcy5tYWluVHlwZTtufHxlLmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe3ZhciBuPXQuZ2V0KHRoaXMubWFpblR5cGUsITApLG89UlYodClbcl07biYmbi5kYXRhPyhvP28uX21lcmdlT3B0aW9uKG4sZSwhMCk6KGkmJk9WKG4pLEUobi5kYXRhLChmdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgQXJyYXk/KE9WKHRbMF0pLE9WKHRbMV0pKTpPVih0KX0pKSxBKG89dGhpcy5jcmVhdGVNYXJrZXJNb2RlbEZyb21TZXJpZXMobix0aGlzLGUpLHttYWluVHlwZTp0aGlzLm1haW5UeXBlLHNlcmllc0luZGV4OnQuc2VyaWVzSW5kZXgsbmFtZTp0Lm5hbWUsY3JlYXRlZEJ5U2VsZjohMH0pLG8uX19ob3N0U2VyaWVzPXQpLFJWKHQpW3JdPW8pOlJWKHQpW3JdPW51bGx9KSx0aGlzKX0sZS5wcm90b3R5cGUuZm9ybWF0VG9vbHRpcD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5nZXREYXRhKCkscj10aGlzLmdldFJhd1ZhbHVlKHQpLG89aS5nZXROYW1lKHQpO3JldHVybiBYZigic2VjdGlvbiIse2hlYWRlcjp0aGlzLm5hbWUsYmxvY2tzOltYZigibmFtZVZhbHVlIix7bmFtZTpvLHZhbHVlOnIsbm9OYW1lOiFvLG5vVmFsdWU6bnVsbD09cn0pXX0pfSxlLnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9LGUucHJvdG90eXBlLnNldERhdGE9ZnVuY3Rpb24odCl7dGhpcy5fZGF0YT10fSxlLmdldE1hcmtlck1vZGVsRnJvbVNlcmllcz1mdW5jdGlvbih0LGUpe3JldHVybiBSVih0KVtlXX0sZS50eXBlPSJtYXJrZXIiLGUuZGVwZW5kZW5jaWVzPVsic2VyaWVzIiwiZ3JpZCIsInBvbGFyIiwiZ2VvIl0sZX0oVHApO1IoTlYsbGYucHJvdG90eXBlKTt2YXIgRVY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuY3JlYXRlTWFya2VyTW9kZWxGcm9tU2VyaWVzPWZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbmV3IGUodCxuLGkpfSxlLnR5cGU9Im1hcmtQb2ludCIsZS5kZWZhdWx0T3B0aW9uPXt6OjUsc3ltYm9sOiJwaW4iLHN5bWJvbFNpemU6NTAsdG9vbHRpcDp7dHJpZ2dlcjoiaXRlbSJ9LGxhYmVsOntzaG93OiEwLHBvc2l0aW9uOiJpbnNpZGUifSxpdGVtU3R5bGU6e2JvcmRlcldpZHRoOjJ9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMH19fSxlfShOVik7ZnVuY3Rpb24gelYodCxlLG4saSxyLG8pe3ZhciBhPVtdLHM9ZXgoZSxpKT9lLmdldENhbGN1bGF0aW9uSW5mbygic3RhY2tSZXN1bHREaW1lbnNpb24iKTppLGw9SFYoZSxzLHQpLHU9ZS5pbmRpY2VzT2ZOZWFyZXN0KHMsbClbMF07YVtyXT1lLmdldChuLHUpLGFbb109ZS5nZXQocyx1KTt2YXIgaD1lLmdldChpLHUpLGM9QnIoZS5nZXQoaSx1KSk7cmV0dXJuKGM9TWF0aC5taW4oYywyMCkpPj0wJiYoYVtvXT0rYVtvXS50b0ZpeGVkKGMpKSxbYSxoXX12YXIgVlY9e21pbjpIKHpWLCJtaW4iKSxtYXg6SCh6ViwibWF4IiksYXZlcmFnZTpIKHpWLCJhdmVyYWdlIiksbWVkaWFuOkgoelYsIm1lZGlhbiIpfTtmdW5jdGlvbiBCVih0LGUpe3ZhciBuPXQuZ2V0RGF0YSgpLGk9dC5jb29yZGluYXRlU3lzdGVtO2lmKGUmJiFmdW5jdGlvbih0KXtyZXR1cm4haXNOYU4ocGFyc2VGbG9hdCh0LngpKSYmIWlzTmFOKHBhcnNlRmxvYXQodC55KSl9KGUpJiYhWShlLmNvb3JkKSYmaSl7dmFyIHI9aS5kaW1lbnNpb25zLG89RlYoZSxuLGksdCk7aWYoKGU9VChlKSkudHlwZSYmVlZbZS50eXBlXSYmby5iYXNlQXhpcyYmby52YWx1ZUF4aXMpe3ZhciBhPVAocixvLmJhc2VBeGlzLmRpbSkscz1QKHIsby52YWx1ZUF4aXMuZGltKSxsPVZWW2UudHlwZV0obixvLmJhc2VEYXRhRGltLG8udmFsdWVEYXRhRGltLGEscyk7ZS5jb29yZD1sWzBdLGUudmFsdWU9bFsxXX1lbHNle2Zvcih2YXIgdT1bbnVsbCE9ZS54QXhpcz9lLnhBeGlzOmUucmFkaXVzQXhpcyxudWxsIT1lLnlBeGlzP2UueUF4aXM6ZS5hbmdsZUF4aXNdLGg9MDtoPDI7aCsrKVZWW3VbaF1dJiYodVtoXT1IVihuLG4ubWFwRGltZW5zaW9uKHJbaF0pLHVbaF0pKTtlLmNvb3JkPXV9fXJldHVybiBlfWZ1bmN0aW9uIEZWKHQsZSxuLGkpe3ZhciByPXt9O3JldHVybiBudWxsIT10LnZhbHVlSW5kZXh8fG51bGwhPXQudmFsdWVEaW0/KHIudmFsdWVEYXRhRGltPW51bGwhPXQudmFsdWVJbmRleD9lLmdldERpbWVuc2lvbih0LnZhbHVlSW5kZXgpOnQudmFsdWVEaW0sci52YWx1ZUF4aXM9bi5nZXRBeGlzKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXREYXRhKCkuZ2V0RGltZW5zaW9uSW5mbyhlKTtyZXR1cm4gbiYmbi5jb29yZERpbX0oaSxyLnZhbHVlRGF0YURpbSkpLHIuYmFzZUF4aXM9bi5nZXRPdGhlckF4aXMoci52YWx1ZUF4aXMpLHIuYmFzZURhdGFEaW09ZS5tYXBEaW1lbnNpb24oci5iYXNlQXhpcy5kaW0pKTooci5iYXNlQXhpcz1pLmdldEJhc2VBeGlzKCksci52YWx1ZUF4aXM9bi5nZXRPdGhlckF4aXMoci5iYXNlQXhpcyksci5iYXNlRGF0YURpbT1lLm1hcERpbWVuc2lvbihyLmJhc2VBeGlzLmRpbSksci52YWx1ZURhdGFEaW09ZS5tYXBEaW1lbnNpb24oci52YWx1ZUF4aXMuZGltKSkscn1mdW5jdGlvbiBHVih0LGUpe3JldHVybiEodCYmdC5jb250YWluRGF0YSYmZS5jb29yZCYmIWZ1bmN0aW9uKHQpe3JldHVybiEoaXNOYU4ocGFyc2VGbG9hdCh0LngpKSYmaXNOYU4ocGFyc2VGbG9hdCh0LnkpKSl9KGUpKXx8dC5jb250YWluRGF0YShlLmNvb3JkKX1mdW5jdGlvbiBXVih0LGUpe3JldHVybiB0P2Z1bmN0aW9uKHQsbixpLHIpe3JldHVybiBkZihyPDI/dC5jb29yZCYmdC5jb29yZFtyXTp0LnZhbHVlLGVbcl0pfTpmdW5jdGlvbih0LG4saSxyKXtyZXR1cm4gZGYodC52YWx1ZSxlW3JdKX19ZnVuY3Rpb24gSFYodCxlLG4pe2lmKCJhdmVyYWdlIj09PW4pe3ZhciBpPTAscj0wO3JldHVybiB0LmVhY2goZSwoZnVuY3Rpb24odCxlKXtpc05hTih0KXx8KGkrPXQscisrKX0pKSxpL3J9cmV0dXJuIm1lZGlhbiI9PT1uP3QuZ2V0TWVkaWFuKGUpOnQuZ2V0RGF0YUV4dGVudChlKVsibWF4Ij09PW4/MTowXX12YXIgWVY9U28oKSxVVj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5tYXJrZXJHcm91cE1hcD1mdCgpfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMscj10aGlzLm1hcmtlckdyb3VwTWFwO3IuZWFjaCgoZnVuY3Rpb24odCl7WVYodCkua2VlcD0hMX0pKSxlLmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe3ZhciByPU5WLmdldE1hcmtlck1vZGVsRnJvbVNlcmllcyh0LGkudHlwZSk7ciYmaS5yZW5kZXJTZXJpZXModCxyLGUsbil9KSksci5lYWNoKChmdW5jdGlvbih0KXshWVYodCkua2VlcCYmaS5ncm91cC5yZW1vdmUodC5ncm91cCl9KSl9LGUucHJvdG90eXBlLm1hcmtLZWVwPWZ1bmN0aW9uKHQpe1lWKHQpLmtlZXA9ITB9LGUucHJvdG90eXBlLnRvZ2dsZUJsdXJTZXJpZXM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO0UodCwoZnVuY3Rpb24odCl7dmFyIGk9TlYuZ2V0TWFya2VyTW9kZWxGcm9tU2VyaWVzKHQsbi50eXBlKTtpJiZpLmdldERhdGEoKS5lYWNoSXRlbUdyYXBoaWNFbCgoZnVuY3Rpb24odCl7dCYmKGU/d2wodCk6U2wodCkpfSkpfSkpfSxlLnR5cGU9Im1hcmtlciIsZX0oZ2cpO2Z1bmN0aW9uIFhWKHQsZSxuKXt2YXIgaT1lLmNvb3JkaW5hdGVTeXN0ZW07dC5lYWNoKChmdW5jdGlvbihyKXt2YXIgbyxhPXQuZ2V0SXRlbU1vZGVsKHIpLHM9RXIoYS5nZXQoIngiKSxuLmdldFdpZHRoKCkpLGw9RXIoYS5nZXQoInkiKSxuLmdldEhlaWdodCgpKTtpZihpc05hTihzKXx8aXNOYU4obCkpe2lmKGUuZ2V0TWFya2VyUG9zaXRpb24pbz1lLmdldE1hcmtlclBvc2l0aW9uKHQuZ2V0VmFsdWVzKHQuZGltZW5zaW9ucyxyKSk7ZWxzZSBpZihpKXt2YXIgdT10LmdldChpLmRpbWVuc2lvbnNbMF0sciksaD10LmdldChpLmRpbWVuc2lvbnNbMV0scik7bz1pLmRhdGFUb1BvaW50KFt1LGhdKX19ZWxzZSBvPVtzLGxdO2lzTmFOKHMpfHwob1swXT1zKSxpc05hTihsKXx8KG9bMV09bCksdC5zZXRJdGVtTGF5b3V0KHIsbyl9KSl9dmFyIFpWPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbih0LGUsbil7ZS5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXt2YXIgZT1OVi5nZXRNYXJrZXJNb2RlbEZyb21TZXJpZXModCwibWFya1BvaW50Iik7ZSYmKFhWKGUuZ2V0RGF0YSgpLHQsbiksdGhpcy5tYXJrZXJHcm91cE1hcC5nZXQodC5pZCkudXBkYXRlTGF5b3V0KCkpfSksdGhpcyl9LGUucHJvdG90eXBlLnJlbmRlclNlcmllcz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmNvb3JkaW5hdGVTeXN0ZW0sbz10LmlkLGE9dC5nZXREYXRhKCkscz10aGlzLm1hcmtlckdyb3VwTWFwLGw9cy5nZXQobyl8fHMuc2V0KG8sbmV3IGp3KSx1PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaTtpPXQ/eih0JiZ0LmRpbWVuc2lvbnMsKGZ1bmN0aW9uKHQpe3JldHVybiBBKEEoe30sZS5nZXREYXRhKCkuZ2V0RGltZW5zaW9uSW5mbyhlLmdldERhdGEoKS5tYXBEaW1lbnNpb24odCkpfHx7fSkse25hbWU6dCxvcmRpbmFsTWV0YTpudWxsfSl9KSk6W3tuYW1lOiJ2YWx1ZSIsdHlwZToiZmxvYXQifV07dmFyIHI9bmV3IGptKGksbiksbz16KG4uZ2V0KCJkYXRhIiksSChCVixlKSk7dCYmKG89QihvLEgoR1YsdCkpKTt2YXIgYT1XVighIXQsaSk7cmV0dXJuIHIuaW5pdERhdGEobyxudWxsLGEpLHJ9KHIsdCxlKTtlLnNldERhdGEodSksWFYoZS5nZXREYXRhKCksdCxpKSx1LmVhY2goKGZ1bmN0aW9uKHQpe3ZhciBuPXUuZ2V0SXRlbU1vZGVsKHQpLGk9bi5nZXRTaGFsbG93KCJzeW1ib2wiKSxyPW4uZ2V0U2hhbGxvdygic3ltYm9sU2l6ZSIpLG89bi5nZXRTaGFsbG93KCJzeW1ib2xSb3RhdGUiKSxzPW4uZ2V0U2hhbGxvdygic3ltYm9sT2Zmc2V0IiksbD1uLmdldFNoYWxsb3coInN5bWJvbEtlZXBBc3BlY3QiKTtpZihVKGkpfHxVKHIpfHxVKG8pfHxVKHMpKXt2YXIgaD1lLmdldFJhd1ZhbHVlKHQpLGM9ZS5nZXREYXRhUGFyYW1zKHQpO1UoaSkmJihpPWkoaCxjKSksVShyKSYmKHI9cihoLGMpKSxVKG8pJiYobz1vKGgsYykpLFUocykmJihzPXMoaCxjKSl9dmFyIHA9bi5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCksZD1neShhLCJjb2xvciIpO3AuZmlsbHx8KHAuZmlsbD1kKSx1LnNldEl0ZW1WaXN1YWwodCx7c3ltYm9sOmksc3ltYm9sU2l6ZTpyLHN5bWJvbFJvdGF0ZTpvLHN5bWJvbE9mZnNldDpzLHN5bWJvbEtlZXBBc3BlY3Q6bCxzdHlsZTpwfSl9KSksbC51cGRhdGVEYXRhKHUpLHRoaXMuZ3JvdXAuYWRkKGwuZ3JvdXApLHUuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKHQpe3QudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe0hzKHQpLmRhdGFNb2RlbD1lfSkpfSkpLHRoaXMubWFya0tlZXAobCksbC5ncm91cC5zaWxlbnQ9ZS5nZXQoInNpbGVudCIpfHx0LmdldCgic2lsZW50Iil9LGUudHlwZT0ibWFya1BvaW50IixlfShVVik7dmFyIGpWPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmNyZWF0ZU1hcmtlck1vZGVsRnJvbVNlcmllcz1mdW5jdGlvbih0LG4saSl7cmV0dXJuIG5ldyBlKHQsbixpKX0sZS50eXBlPSJtYXJrTGluZSIsZS5kZWZhdWx0T3B0aW9uPXt6OjUsc3ltYm9sOlsiY2lyY2xlIiwiYXJyb3ciXSxzeW1ib2xTaXplOls4LDE2XSxzeW1ib2xPZmZzZXQ6MCxwcmVjaXNpb246Mix0b29sdGlwOnt0cmlnZ2VyOiJpdGVtIn0sbGFiZWw6e3Nob3c6ITAscG9zaXRpb246ImVuZCIsZGlzdGFuY2U6NX0sbGluZVN0eWxlOnt0eXBlOiJkYXNoZWQifSxlbXBoYXNpczp7bGFiZWw6e3Nob3c6ITB9LGxpbmVTdHlsZTp7d2lkdGg6M319LGFuaW1hdGlvbkVhc2luZzoibGluZWFyIn0sZX0oTlYpLHFWPVNvKCksS1Y9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHIsbz10LmdldERhdGEoKTtpZihZKGkpKXI9aTtlbHNle3ZhciBhPWkudHlwZTtpZigibWluIj09PWF8fCJtYXgiPT09YXx8ImF2ZXJhZ2UiPT09YXx8Im1lZGlhbiI9PT1hfHxudWxsIT1pLnhBeGlzfHxudWxsIT1pLnlBeGlzKXt2YXIgcz12b2lkIDAsbD12b2lkIDA7aWYobnVsbCE9aS55QXhpc3x8bnVsbCE9aS54QXhpcylzPWUuZ2V0QXhpcyhudWxsIT1pLnlBeGlzPyJ5IjoieCIpLGw9aXQoaS55QXhpcyxpLnhBeGlzKTtlbHNle3ZhciB1PUZWKGksbyxlLHQpO3M9dS52YWx1ZUF4aXMsbD1IVihvLG54KG8sdS52YWx1ZURhdGFEaW0pLGEpfXZhciBoPSJ4Ij09PXMuZGltPzA6MSxjPTEtaCxwPVQoaSksZD17Y29vcmQ6W119O3AudHlwZT1udWxsLHAuY29vcmQ9W10scC5jb29yZFtjXT0tMS8wLGQuY29vcmRbY109MS8wO3ZhciBmPW4uZ2V0KCJwcmVjaXNpb24iKTtmPj0wJiZqKGwpJiYobD0rbC50b0ZpeGVkKE1hdGgubWluKGYsMjApKSkscC5jb29yZFtoXT1kLmNvb3JkW2hdPWwscj1bcCxkLHt0eXBlOmEsdmFsdWVJbmRleDppLnZhbHVlSW5kZXgsdmFsdWU6bH1dfWVsc2Ugcj1bXX12YXIgZz1bQlYodCxyWzBdKSxCVih0LHJbMV0pLEEoe30sclsyXSldO3JldHVybiBnWzJdLnR5cGU9Z1syXS50eXBlfHxudWxsLEMoZ1syXSxnWzBdKSxDKGdbMl0sZ1sxXSksZ307ZnVuY3Rpb24gJFYodCl7cmV0dXJuIWlzTmFOKHQpJiYhaXNGaW5pdGUodCl9ZnVuY3Rpb24gSlYodCxlLG4saSl7dmFyIHI9MS10LG89aS5kaW1lbnNpb25zW3RdO3JldHVybiAkVihlW3JdKSYmJFYobltyXSkmJmVbdF09PT1uW3RdJiZpLmdldEF4aXMobykuY29udGFpbkRhdGEoZVt0XSl9ZnVuY3Rpb24gUVYodCxlKXtpZigiY2FydGVzaWFuMmQiPT09dC50eXBlKXt2YXIgbj1lWzBdLmNvb3JkLGk9ZVsxXS5jb29yZDtpZihuJiZpJiYoSlYoMSxuLGksdCl8fEpWKDAsbixpLHQpKSlyZXR1cm4hMH1yZXR1cm4gR1YodCxlWzBdKSYmR1YodCxlWzFdKX1mdW5jdGlvbiB0Qih0LGUsbixpLHIpe3ZhciBvLGE9aS5jb29yZGluYXRlU3lzdGVtLHM9dC5nZXRJdGVtTW9kZWwoZSksbD1FcihzLmdldCgieCIpLHIuZ2V0V2lkdGgoKSksdT1FcihzLmdldCgieSIpLHIuZ2V0SGVpZ2h0KCkpO2lmKGlzTmFOKGwpfHxpc05hTih1KSl7aWYoaS5nZXRNYXJrZXJQb3NpdGlvbilvPWkuZ2V0TWFya2VyUG9zaXRpb24odC5nZXRWYWx1ZXModC5kaW1lbnNpb25zLGUpKTtlbHNle3ZhciBoPWEuZGltZW5zaW9ucyxjPXQuZ2V0KGhbMF0sZSkscD10LmdldChoWzFdLGUpO289YS5kYXRhVG9Qb2ludChbYyxwXSl9aWYobFMoYSwiY2FydGVzaWFuMmQiKSl7dmFyIGQ9YS5nZXRBeGlzKCJ4IiksZj1hLmdldEF4aXMoInkiKTtoPWEuZGltZW5zaW9uczskVih0LmdldChoWzBdLGUpKT9vWzBdPWQudG9HbG9iYWxDb29yZChkLmdldEV4dGVudCgpW24/MDoxXSk6JFYodC5nZXQoaFsxXSxlKSkmJihvWzFdPWYudG9HbG9iYWxDb29yZChmLmdldEV4dGVudCgpW24/MDoxXSkpfWlzTmFOKGwpfHwob1swXT1sKSxpc05hTih1KXx8KG9bMV09dSl9ZWxzZSBvPVtsLHVdO3Quc2V0SXRlbUxheW91dChlLG8pfXZhciBlQj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24odCxlLG4pe2UuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7dmFyIGU9TlYuZ2V0TWFya2VyTW9kZWxGcm9tU2VyaWVzKHQsIm1hcmtMaW5lIik7aWYoZSl7dmFyIGk9ZS5nZXREYXRhKCkscj1xVihlKS5mcm9tLG89cVYoZSkudG87ci5lYWNoKChmdW5jdGlvbihlKXt0QihyLGUsITAsdCxuKSx0QihvLGUsITEsdCxuKX0pKSxpLmVhY2goKGZ1bmN0aW9uKHQpe2kuc2V0SXRlbUxheW91dCh0LFtyLmdldEl0ZW1MYXlvdXQodCksby5nZXRJdGVtTGF5b3V0KHQpXSl9KSksdGhpcy5tYXJrZXJHcm91cE1hcC5nZXQodC5pZCkudXBkYXRlTGF5b3V0KCl9fSksdGhpcyl9LGUucHJvdG90eXBlLnJlbmRlclNlcmllcz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmNvb3JkaW5hdGVTeXN0ZW0sbz10LmlkLGE9dC5nZXREYXRhKCkscz10aGlzLm1hcmtlckdyb3VwTWFwLGw9cy5nZXQobyl8fHMuc2V0KG8sbmV3IGZBKTt0aGlzLmdyb3VwLmFkZChsLmdyb3VwKTt2YXIgdT1mdW5jdGlvbih0LGUsbil7dmFyIGk7aT10P3oodCYmdC5kaW1lbnNpb25zLChmdW5jdGlvbih0KXtyZXR1cm4gQShBKHt9LGUuZ2V0RGF0YSgpLmdldERpbWVuc2lvbkluZm8oZS5nZXREYXRhKCkubWFwRGltZW5zaW9uKHQpKXx8e30pLHtuYW1lOnQsb3JkaW5hbE1ldGE6bnVsbH0pfSkpOlt7bmFtZToidmFsdWUiLHR5cGU6ImZsb2F0In1dO3ZhciByPW5ldyBqbShpLG4pLG89bmV3IGptKGksbiksYT1uZXcgam0oW10sbikscz16KG4uZ2V0KCJkYXRhIiksSChLVixlLHQsbikpO3QmJihzPUIocyxIKFFWLHQpKSk7dmFyIGw9V1YoISF0LGkpO3JldHVybiByLmluaXREYXRhKHoocywoZnVuY3Rpb24odCl7cmV0dXJuIHRbMF19KSksbnVsbCxsKSxvLmluaXREYXRhKHoocywoZnVuY3Rpb24odCl7cmV0dXJuIHRbMV19KSksbnVsbCxsKSxhLmluaXREYXRhKHoocywoZnVuY3Rpb24odCl7cmV0dXJuIHRbMl19KSkpLGEuaGFzSXRlbU9wdGlvbj0hMCx7ZnJvbTpyLHRvOm8sbGluZTphfX0ocix0LGUpLGg9dS5mcm9tLGM9dS50byxwPXUubGluZTtxVihlKS5mcm9tPWgscVYoZSkudG89YyxlLnNldERhdGEocCk7dmFyIGQ9ZS5nZXQoInN5bWJvbCIpLGY9ZS5nZXQoInN5bWJvbFNpemUiKSxnPWUuZ2V0KCJzeW1ib2xSb3RhdGUiKSx5PWUuZ2V0KCJzeW1ib2xPZmZzZXQiKTtmdW5jdGlvbiB2KGUsbixyKXt2YXIgbz1lLmdldEl0ZW1Nb2RlbChuKTt0QihlLG4scix0LGkpO3ZhciBzPW8uZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpO251bGw9PXMuZmlsbCYmKHMuZmlsbD1neShhLCJjb2xvciIpKSxlLnNldEl0ZW1WaXN1YWwobix7c3ltYm9sS2VlcEFzcGVjdDpvLmdldCgic3ltYm9sS2VlcEFzcGVjdCIpLHN5bWJvbE9mZnNldDpydChvLmdldCgic3ltYm9sT2Zmc2V0IiwhMCkseVtyPzA6MV0pLHN5bWJvbFJvdGF0ZTpydChvLmdldCgic3ltYm9sUm90YXRlIiwhMCksZ1tyPzA6MV0pLHN5bWJvbFNpemU6cnQoby5nZXQoInN5bWJvbFNpemUiKSxmW3I/MDoxXSksc3ltYm9sOnJ0KG8uZ2V0KCJzeW1ib2wiLCEwKSxkW3I/MDoxXSksc3R5bGU6c30pfVkoZCl8fChkPVtkLGRdKSxZKGYpfHwoZj1bZixmXSksWShnKXx8KGc9W2csZ10pLFkoeSl8fCh5PVt5LHldKSx1LmZyb20uZWFjaCgoZnVuY3Rpb24odCl7dihoLHQsITApLHYoYyx0LCExKX0pKSxwLmVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPXAuZ2V0SXRlbU1vZGVsKHQpLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKTtwLnNldEl0ZW1MYXlvdXQodCxbaC5nZXRJdGVtTGF5b3V0KHQpLGMuZ2V0SXRlbUxheW91dCh0KV0pLG51bGw9PWUuc3Ryb2tlJiYoZS5zdHJva2U9aC5nZXRJdGVtVmlzdWFsKHQsInN0eWxlIikuZmlsbCkscC5zZXRJdGVtVmlzdWFsKHQse2Zyb21TeW1ib2xLZWVwQXNwZWN0OmguZ2V0SXRlbVZpc3VhbCh0LCJzeW1ib2xLZWVwQXNwZWN0IiksZnJvbVN5bWJvbE9mZnNldDpoLmdldEl0ZW1WaXN1YWwodCwic3ltYm9sT2Zmc2V0IiksZnJvbVN5bWJvbFJvdGF0ZTpoLmdldEl0ZW1WaXN1YWwodCwic3ltYm9sUm90YXRlIiksZnJvbVN5bWJvbFNpemU6aC5nZXRJdGVtVmlzdWFsKHQsInN5bWJvbFNpemUiKSxmcm9tU3ltYm9sOmguZ2V0SXRlbVZpc3VhbCh0LCJzeW1ib2wiKSx0b1N5bWJvbEtlZXBBc3BlY3Q6Yy5nZXRJdGVtVmlzdWFsKHQsInN5bWJvbEtlZXBBc3BlY3QiKSx0b1N5bWJvbE9mZnNldDpjLmdldEl0ZW1WaXN1YWwodCwic3ltYm9sT2Zmc2V0IiksdG9TeW1ib2xSb3RhdGU6Yy5nZXRJdGVtVmlzdWFsKHQsInN5bWJvbFJvdGF0ZSIpLHRvU3ltYm9sU2l6ZTpjLmdldEl0ZW1WaXN1YWwodCwic3ltYm9sU2l6ZSIpLHRvU3ltYm9sOmMuZ2V0SXRlbVZpc3VhbCh0LCJzeW1ib2wiKSxzdHlsZTplfSl9KSksbC51cGRhdGVEYXRhKHApLHUubGluZS5lYWNoSXRlbUdyYXBoaWNFbCgoZnVuY3Rpb24odCxuKXt0LnRyYXZlcnNlKChmdW5jdGlvbih0KXtIcyh0KS5kYXRhTW9kZWw9ZX0pKX0pKSx0aGlzLm1hcmtLZWVwKGwpLGwuZ3JvdXAuc2lsZW50PWUuZ2V0KCJzaWxlbnQiKXx8dC5nZXQoInNpbGVudCIpfSxlLnR5cGU9Im1hcmtMaW5lIixlfShVVik7dmFyIG5CPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmNyZWF0ZU1hcmtlck1vZGVsRnJvbVNlcmllcz1mdW5jdGlvbih0LG4saSl7cmV0dXJuIG5ldyBlKHQsbixpKX0sZS50eXBlPSJtYXJrQXJlYSIsZS5kZWZhdWx0T3B0aW9uPXt6OjEsdG9vbHRpcDp7dHJpZ2dlcjoiaXRlbSJ9LGFuaW1hdGlvbjohMSxsYWJlbDp7c2hvdzohMCxwb3NpdGlvbjoidG9wIn0saXRlbVN0eWxlOntib3JkZXJXaWR0aDowfSxlbXBoYXNpczp7bGFiZWw6e3Nob3c6ITAscG9zaXRpb246InRvcCJ9fX0sZX0oTlYpLGlCPVNvKCksckI9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9QlYodCxpWzBdKSxvPUJWKHQsaVsxXSksYT1yLmNvb3JkLHM9by5jb29yZDthWzBdPWl0KGFbMF0sLTEvMCksYVsxXT1pdChhWzFdLC0xLzApLHNbMF09aXQoc1swXSwxLzApLHNbMV09aXQoc1sxXSwxLzApO3ZhciBsPUQoW3t9LHIsb10pO3JldHVybiBsLmNvb3JkPVtyLmNvb3JkLG8uY29vcmRdLGwueDA9ci54LGwueTA9ci55LGwueDE9by54LGwueTE9by55LGx9O2Z1bmN0aW9uIG9CKHQpe3JldHVybiFpc05hTih0KSYmIWlzRmluaXRlKHQpfWZ1bmN0aW9uIGFCKHQsZSxuLGkpe3ZhciByPTEtdDtyZXR1cm4gb0IoZVtyXSkmJm9CKG5bcl0pfWZ1bmN0aW9uIHNCKHQsZSl7dmFyIG49ZS5jb29yZFswXSxpPWUuY29vcmRbMV07cmV0dXJuISEobFModCwiY2FydGVzaWFuMmQiKSYmbiYmaSYmKGFCKDEsbixpKXx8YUIoMCxuLGkpKSl8fChHVih0LHtjb29yZDpuLHg6ZS54MCx5OmUueTB9KXx8R1YodCx7Y29vcmQ6aSx4OmUueDEseTplLnkxfSkpfWZ1bmN0aW9uIGxCKHQsZSxuLGkscil7dmFyIG8sYT1pLmNvb3JkaW5hdGVTeXN0ZW0scz10LmdldEl0ZW1Nb2RlbChlKSxsPUVyKHMuZ2V0KG5bMF0pLHIuZ2V0V2lkdGgoKSksdT1FcihzLmdldChuWzFdKSxyLmdldEhlaWdodCgpKTtpZihpc05hTihsKXx8aXNOYU4odSkpe2lmKGkuZ2V0TWFya2VyUG9zaXRpb24pbz1pLmdldE1hcmtlclBvc2l0aW9uKHQuZ2V0VmFsdWVzKG4sZSkpO2Vsc2V7dmFyIGg9W2Q9dC5nZXQoblswXSxlKSxmPXQuZ2V0KG5bMV0sZSldO2EuY2xhbXBEYXRhJiZhLmNsYW1wRGF0YShoLGgpLG89YS5kYXRhVG9Qb2ludChoLCEwKX1pZihsUyhhLCJjYXJ0ZXNpYW4yZCIpKXt2YXIgYz1hLmdldEF4aXMoIngiKSxwPWEuZ2V0QXhpcygieSIpLGQ9dC5nZXQoblswXSxlKSxmPXQuZ2V0KG5bMV0sZSk7b0IoZCk/b1swXT1jLnRvR2xvYmFsQ29vcmQoYy5nZXRFeHRlbnQoKVsieDAiPT09blswXT8wOjFdKTpvQihmKSYmKG9bMV09cC50b0dsb2JhbENvb3JkKHAuZ2V0RXh0ZW50KClbInkwIj09PW5bMV0/MDoxXSkpfWlzTmFOKGwpfHwob1swXT1sKSxpc05hTih1KXx8KG9bMV09dSl9ZWxzZSBvPVtsLHVdO3JldHVybiBvfXZhciB1Qj1bWyJ4MCIsInkwIl0sWyJ4MSIsInkwIl0sWyJ4MSIsInkxIl0sWyJ4MCIsInkxIl1dLGhCPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbih0LGUsbil7ZS5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXt2YXIgZT1OVi5nZXRNYXJrZXJNb2RlbEZyb21TZXJpZXModCwibWFya0FyZWEiKTtpZihlKXt2YXIgaT1lLmdldERhdGEoKTtpLmVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPXoodUIsKGZ1bmN0aW9uKHIpe3JldHVybiBsQihpLGUscix0LG4pfSkpO2kuc2V0SXRlbUxheW91dChlLHIpLGkuZ2V0SXRlbUdyYXBoaWNFbChlKS5zZXRTaGFwZSgicG9pbnRzIixyKX0pKX19KSx0aGlzKX0sZS5wcm90b3R5cGUucmVuZGVyU2VyaWVzPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXQuY29vcmRpbmF0ZVN5c3RlbSxvPXQuaWQsYT10LmdldERhdGEoKSxzPXRoaXMubWFya2VyR3JvdXBNYXAsbD1zLmdldChvKXx8cy5zZXQobyx7Z3JvdXA6bmV3IENyfSk7dGhpcy5ncm91cC5hZGQobC5ncm91cCksdGhpcy5tYXJrS2VlcChsKTt2YXIgdT1mdW5jdGlvbih0LGUsbil7dmFyIGkscixvPVsieDAiLCJ5MCIsIngxIiwieTEiXTtpZih0KXt2YXIgYT16KHQmJnQuZGltZW5zaW9ucywoZnVuY3Rpb24odCl7dmFyIG49ZS5nZXREYXRhKCk7cmV0dXJuIEEoQSh7fSxuLmdldERpbWVuc2lvbkluZm8obi5tYXBEaW1lbnNpb24odCkpfHx7fSkse25hbWU6dCxvcmRpbmFsTWV0YTpudWxsfSl9KSk7cj16KG8sKGZ1bmN0aW9uKHQsZSl7cmV0dXJue25hbWU6dCx0eXBlOmFbZSUyXS50eXBlfX0pKSxpPW5ldyBqbShyLG4pfWVsc2UgaT1uZXcgam0ocj1be25hbWU6InZhbHVlIix0eXBlOiJmbG9hdCJ9XSxuKTt2YXIgcz16KG4uZ2V0KCJkYXRhIiksSChyQixlLHQsbikpO3QmJihzPUIocyxIKHNCLHQpKSk7dmFyIGw9dD9mdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gZGYodC5jb29yZFtNYXRoLmZsb29yKGkvMildW2klMl0scltpXSl9OmZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiBkZih0LnZhbHVlLHJbaV0pfTtyZXR1cm4gaS5pbml0RGF0YShzLG51bGwsbCksaS5oYXNJdGVtT3B0aW9uPSEwLGl9KHIsdCxlKTtlLnNldERhdGEodSksdS5lYWNoKChmdW5jdGlvbihlKXt2YXIgbj16KHVCLChmdW5jdGlvbihuKXtyZXR1cm4gbEIodSxlLG4sdCxpKX0pKSxvPXIuZ2V0QXhpcygieCIpLnNjYWxlLHM9ci5nZXRBeGlzKCJ5Iikuc2NhbGUsbD1vLmdldEV4dGVudCgpLGg9cy5nZXRFeHRlbnQoKSxjPVtvLnBhcnNlKHUuZ2V0KCJ4MCIsZSkpLG8ucGFyc2UodS5nZXQoIngxIixlKSldLHA9W3MucGFyc2UodS5nZXQoInkwIixlKSkscy5wYXJzZSh1LmdldCgieTEiLGUpKV07VnIoYyksVnIocCk7dmFyIGQ9ISEobFswXT5jWzFdfHxsWzFdPGNbMF18fGhbMF0+cFsxXXx8aFsxXTxwWzBdKTt1LnNldEl0ZW1MYXlvdXQoZSx7cG9pbnRzOm4sYWxsQ2xpcHBlZDpkfSk7dmFyIGY9dS5nZXRJdGVtTW9kZWwoZSkuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpLGc9Z3koYSwiY29sb3IiKTtmLmZpbGx8fChmLmZpbGw9ZyxYKGYuZmlsbCkmJihmLmZpbGw9QW4oZi5maWxsLC40KSkpLGYuc3Ryb2tlfHwoZi5zdHJva2U9ZyksdS5zZXRJdGVtVmlzdWFsKGUsInN0eWxlIixmKX0pKSx1LmRpZmYoaUIobCkuZGF0YSkuYWRkKChmdW5jdGlvbih0KXt2YXIgZT11LmdldEl0ZW1MYXlvdXQodCk7aWYoIWUuYWxsQ2xpcHBlZCl7dmFyIG49bmV3IFB1KHtzaGFwZTp7cG9pbnRzOmUucG9pbnRzfX0pO3Uuc2V0SXRlbUdyYXBoaWNFbCh0LG4pLGwuZ3JvdXAuYWRkKG4pfX0pKS51cGRhdGUoKGZ1bmN0aW9uKHQsbil7dmFyIGk9aUIobCkuZGF0YS5nZXRJdGVtR3JhcGhpY0VsKG4pLHI9dS5nZXRJdGVtTGF5b3V0KHQpO3IuYWxsQ2xpcHBlZD9pJiZsLmdyb3VwLnJlbW92ZShpKTooaT9yaChpLHtzaGFwZTp7cG9pbnRzOnIucG9pbnRzfX0sZSx0KTppPW5ldyBQdSh7c2hhcGU6e3BvaW50czpyLnBvaW50c319KSx1LnNldEl0ZW1HcmFwaGljRWwodCxpKSxsLmdyb3VwLmFkZChpKSl9KSkucmVtb3ZlKChmdW5jdGlvbih0KXt2YXIgZT1pQihsKS5kYXRhLmdldEl0ZW1HcmFwaGljRWwodCk7bC5ncm91cC5yZW1vdmUoZSl9KSkuZXhlY3V0ZSgpLHUuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKHQsbil7dmFyIGk9dS5nZXRJdGVtTW9kZWwobikscj11LmdldEl0ZW1WaXN1YWwobiwic3R5bGUiKTt0LnVzZVN0eWxlKHUuZ2V0SXRlbVZpc3VhbChuLCJzdHlsZSIpKSxIaCh0LFloKGkpLHtsYWJlbEZldGNoZXI6ZSxsYWJlbERhdGFJbmRleDpuLGRlZmF1bHRUZXh0OnUuZ2V0TmFtZShuKXx8IiIsaW5oZXJpdENvbG9yOlgoci5maWxsKT9BbihyLmZpbGwsMSk6IiMwMDAifSksVmwodCxpKSxSbCh0LG51bGwsbnVsbCxpLmdldChbImVtcGhhc2lzIiwiZGlzYWJsZWQiXSkpLEhzKHQpLmRhdGFNb2RlbD1lfSkpLGlCKGwpLmRhdGE9dSxsLmdyb3VwLnNpbGVudD1lLmdldCgic2lsZW50Iil8fHQuZ2V0KCJzaWxlbnQiKX0sZS50eXBlPSJtYXJrQXJlYSIsZX0oVVYpO3ZhciBjQj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4ubGF5b3V0TW9kZT17dHlwZToiYm94IixpZ25vcmVTaXplOiEwfSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUsbil7dGhpcy5tZXJnZURlZmF1bHRBbmRUaGVtZSh0LG4pLHQuc2VsZWN0ZWQ9dC5zZWxlY3RlZHx8e30sdGhpcy5fdXBkYXRlU2VsZWN0b3IodCl9LGUucHJvdG90eXBlLm1lcmdlT3B0aW9uPWZ1bmN0aW9uKGUsbil7dC5wcm90b3R5cGUubWVyZ2VPcHRpb24uY2FsbCh0aGlzLGUsbiksdGhpcy5fdXBkYXRlU2VsZWN0b3IoZSl9LGUucHJvdG90eXBlLl91cGRhdGVTZWxlY3Rvcj1mdW5jdGlvbih0KXt2YXIgZT10LnNlbGVjdG9yLG49dGhpcy5lY01vZGVsOyEwPT09ZSYmKGU9dC5zZWxlY3Rvcj1bImFsbCIsImludmVyc2UiXSksWShlKSYmRShlLChmdW5jdGlvbih0LGkpe1godCkmJih0PXt0eXBlOnR9KSxlW2ldPUModCxmdW5jdGlvbih0LGUpe3JldHVybiJhbGwiPT09ZT97dHlwZToiYWxsIix0aXRsZTp0LmdldExvY2FsZU1vZGVsKCkuZ2V0KFsibGVnZW5kIiwic2VsZWN0b3IiLCJhbGwiXSl9OiJpbnZlcnNlIj09PWU/e3R5cGU6ImludmVyc2UiLHRpdGxlOnQuZ2V0TG9jYWxlTW9kZWwoKS5nZXQoWyJsZWdlbmQiLCJzZWxlY3RvciIsImludmVyc2UiXSl9OnZvaWQgMH0obix0LnR5cGUpKX0pKX0sZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbigpe3RoaXMuX3VwZGF0ZURhdGEodGhpcy5lY01vZGVsKTt2YXIgdD10aGlzLl9kYXRhO2lmKHRbMF0mJiJzaW5nbGUiPT09dGhpcy5nZXQoInNlbGVjdGVkTW9kZSIpKXtmb3IodmFyIGU9ITEsbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dLmdldCgibmFtZSIpO2lmKHRoaXMuaXNTZWxlY3RlZChpKSl7dGhpcy5zZWxlY3QoaSksZT0hMDticmVha319IWUmJnRoaXMuc2VsZWN0KHRbMF0uZ2V0KCJuYW1lIikpfX0sZS5wcm90b3R5cGUuX3VwZGF0ZURhdGE9ZnVuY3Rpb24odCl7dmFyIGU9W10sbj1bXTt0LmVhY2hSYXdTZXJpZXMoKGZ1bmN0aW9uKGkpe3ZhciByLG89aS5uYW1lO2lmKG4ucHVzaChvKSxpLmxlZ2VuZFZpc3VhbFByb3ZpZGVyKXt2YXIgYT1pLmxlZ2VuZFZpc3VhbFByb3ZpZGVyLmdldEFsbE5hbWVzKCk7dC5pc1Nlcmllc0ZpbHRlcmVkKGkpfHwobj1uLmNvbmNhdChhKSksYS5sZW5ndGg/ZT1lLmNvbmNhdChhKTpyPSEwfWVsc2Ugcj0hMDtyJiZfbyhpKSYmZS5wdXNoKGkubmFtZSl9KSksdGhpcy5fYXZhaWxhYmxlTmFtZXM9bjt2YXIgaT16KHRoaXMuZ2V0KCJkYXRhIil8fGUsKGZ1bmN0aW9uKHQpe3JldHVybihYKHQpfHxqKHQpKSYmKHQ9e25hbWU6dH0pLG5ldyBkYyh0LHRoaXMsdGhpcy5lY01vZGVsKX0pLHRoaXMpO3RoaXMuX2RhdGE9aX0sZS5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfSxlLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24uc2VsZWN0ZWQ7InNpbmdsZSI9PT10aGlzLmdldCgic2VsZWN0ZWRNb2RlIikmJkUodGhpcy5fZGF0YSwoZnVuY3Rpb24odCl7ZVt0LmdldCgibmFtZSIpXT0hMX0pKTtlW3RdPSEwfSxlLnByb3RvdHlwZS51blNlbGVjdD1mdW5jdGlvbih0KXsic2luZ2xlIiE9PXRoaXMuZ2V0KCJzZWxlY3RlZE1vZGUiKSYmKHRoaXMub3B0aW9uLnNlbGVjdGVkW3RdPSExKX0sZS5wcm90b3R5cGUudG9nZ2xlU2VsZWN0ZWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24uc2VsZWN0ZWQ7ZS5oYXNPd25Qcm9wZXJ0eSh0KXx8KGVbdF09ITApLHRoaXNbZVt0XT8idW5TZWxlY3QiOiJzZWxlY3QiXSh0KX0sZS5wcm90b3R5cGUuYWxsU2VsZWN0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZGF0YSxlPXRoaXMub3B0aW9uLnNlbGVjdGVkO0UodCwoZnVuY3Rpb24odCl7ZVt0LmdldCgibmFtZSIsITApXT0hMH0pKX0sZS5wcm90b3R5cGUuaW52ZXJzZVNlbGVjdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2RhdGEsZT10aGlzLm9wdGlvbi5zZWxlY3RlZDtFKHQsKGZ1bmN0aW9uKHQpe3ZhciBuPXQuZ2V0KCJuYW1lIiwhMCk7ZS5oYXNPd25Qcm9wZXJ0eShuKXx8KGVbbl09ITApLGVbbl09IWVbbl19KSl9LGUucHJvdG90eXBlLmlzU2VsZWN0ZWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24uc2VsZWN0ZWQ7cmV0dXJuIShlLmhhc093blByb3BlcnR5KHQpJiYhZVt0XSkmJlAodGhpcy5fYXZhaWxhYmxlTmFtZXMsdCk+PTB9LGUucHJvdG90eXBlLmdldE9yaWVudD1mdW5jdGlvbigpe3JldHVybiJ2ZXJ0aWNhbCI9PT10aGlzLmdldCgib3JpZW50Iik/e2luZGV4OjEsbmFtZToidmVydGljYWwifTp7aW5kZXg6MCxuYW1lOiJob3Jpem9udGFsIn19LGUudHlwZT0ibGVnZW5kLnBsYWluIixlLmRlcGVuZGVuY2llcz1bInNlcmllcyJdLGUuZGVmYXVsdE9wdGlvbj17ejo0LHNob3c6ITAsb3JpZW50OiJob3Jpem9udGFsIixsZWZ0OiJjZW50ZXIiLHRvcDowLGFsaWduOiJhdXRvIixiYWNrZ3JvdW5kQ29sb3I6InJnYmEoMCwwLDAsMCkiLGJvcmRlckNvbG9yOiIjY2NjIixib3JkZXJSYWRpdXM6MCxib3JkZXJXaWR0aDowLHBhZGRpbmc6NSxpdGVtR2FwOjEwLGl0ZW1XaWR0aDoyNSxpdGVtSGVpZ2h0OjE0LHN5bWJvbFJvdGF0ZToiaW5oZXJpdCIsc3ltYm9sS2VlcEFzcGVjdDohMCxpbmFjdGl2ZUNvbG9yOiIjY2NjIixpbmFjdGl2ZUJvcmRlckNvbG9yOiIjY2NjIixpbmFjdGl2ZUJvcmRlcldpZHRoOiJhdXRvIixpdGVtU3R5bGU6e2NvbG9yOiJpbmhlcml0IixvcGFjaXR5OiJpbmhlcml0Iixib3JkZXJDb2xvcjoiaW5oZXJpdCIsYm9yZGVyV2lkdGg6ImF1dG8iLGJvcmRlckNhcDoiaW5oZXJpdCIsYm9yZGVySm9pbjoiaW5oZXJpdCIsYm9yZGVyRGFzaE9mZnNldDoiaW5oZXJpdCIsYm9yZGVyTWl0ZXJMaW1pdDoiaW5oZXJpdCJ9LGxpbmVTdHlsZTp7d2lkdGg6ImF1dG8iLGNvbG9yOiJpbmhlcml0IixpbmFjdGl2ZUNvbG9yOiIjY2NjIixpbmFjdGl2ZVdpZHRoOjIsb3BhY2l0eToiaW5oZXJpdCIsdHlwZToiaW5oZXJpdCIsY2FwOiJpbmhlcml0Iixqb2luOiJpbmhlcml0IixkYXNoT2Zmc2V0OiJpbmhlcml0IixtaXRlckxpbWl0OiJpbmhlcml0In0sdGV4dFN0eWxlOntjb2xvcjoiIzMzMyJ9LHNlbGVjdGVkTW9kZTohMCxzZWxlY3RvcjohMSxzZWxlY3RvckxhYmVsOntzaG93OiEwLGJvcmRlclJhZGl1czoxMCxwYWRkaW5nOlszLDUsMyw1XSxmb250U2l6ZToxMixmb250RmFtaWx5OiJzYW5zLXNlcmlmIixjb2xvcjoiIzY2NiIsYm9yZGVyV2lkdGg6MSxib3JkZXJDb2xvcjoiIzY2NiJ9LGVtcGhhc2lzOntzZWxlY3RvckxhYmVsOntzaG93OiEwLGNvbG9yOiIjZWVlIixiYWNrZ3JvdW5kQ29sb3I6IiM2NjYifX0sc2VsZWN0b3JQb3NpdGlvbjoiYXV0byIsc2VsZWN0b3JJdGVtR2FwOjcsc2VsZWN0b3JCdXR0b25HYXA6MTAsdG9vbHRpcDp7c2hvdzohMX19LGV9KFRwKSxwQj1ILGRCPUUsZkI9Q3IsZ0I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLm5ld2xpbmVEaXNhYmxlZD0hMSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMuZ3JvdXAuYWRkKHRoaXMuX2NvbnRlbnRHcm91cD1uZXcgZkIpLHRoaXMuZ3JvdXAuYWRkKHRoaXMuX3NlbGVjdG9yR3JvdXA9bmV3IGZCKSx0aGlzLl9pc0ZpcnN0UmVuZGVyPSEwfSxlLnByb3RvdHlwZS5nZXRDb250ZW50R3JvdXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGVudEdyb3VwfSxlLnByb3RvdHlwZS5nZXRTZWxlY3Rvckdyb3VwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdG9yR3JvdXB9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5faXNGaXJzdFJlbmRlcjtpZih0aGlzLl9pc0ZpcnN0UmVuZGVyPSExLHRoaXMucmVzZXRJbm5lcigpLHQuZ2V0KCJzaG93IiwhMCkpe3ZhciByPXQuZ2V0KCJhbGlnbiIpLG89dC5nZXQoIm9yaWVudCIpO3ImJiJhdXRvIiE9PXJ8fChyPSJyaWdodCI9PT10LmdldCgibGVmdCIpJiYidmVydGljYWwiPT09bz8icmlnaHQiOiJsZWZ0Iik7dmFyIGE9dC5nZXQoInNlbGVjdG9yIiwhMCkscz10LmdldCgic2VsZWN0b3JQb3NpdGlvbiIsITApOyFhfHxzJiYiYXV0byIhPT1zfHwocz0iaG9yaXpvbnRhbCI9PT1vPyJlbmQiOiJzdGFydCIpLHRoaXMucmVuZGVySW5uZXIocix0LGUsbixhLG8scyk7dmFyIGw9dC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx1PXt3aWR0aDpuLmdldFdpZHRoKCksaGVpZ2h0Om4uZ2V0SGVpZ2h0KCl9LGg9dC5nZXQoInBhZGRpbmciKSxjPXhwKGwsdSxoKSxwPXRoaXMubGF5b3V0SW5uZXIodCxyLGMsaSxhLHMpLGQ9eHAoayh7d2lkdGg6cC53aWR0aCxoZWlnaHQ6cC5oZWlnaHR9LGwpLHUsaCk7dGhpcy5ncm91cC54PWQueC1wLngsdGhpcy5ncm91cC55PWQueS1wLnksdGhpcy5ncm91cC5tYXJrUmVkcmF3KCksdGhpcy5ncm91cC5hZGQodGhpcy5fYmFja2dyb3VuZEVsPVVFKHAsdCkpfX0sZS5wcm90b3R5cGUucmVzZXRJbm5lcj1mdW5jdGlvbigpe3RoaXMuZ2V0Q29udGVudEdyb3VwKCkucmVtb3ZlQWxsKCksdGhpcy5fYmFja2dyb3VuZEVsJiZ0aGlzLmdyb3VwLnJlbW92ZSh0aGlzLl9iYWNrZ3JvdW5kRWwpLHRoaXMuZ2V0U2VsZWN0b3JHcm91cCgpLnJlbW92ZUFsbCgpfSxlLnByb3RvdHlwZS5yZW5kZXJJbm5lcj1mdW5jdGlvbih0LGUsbixpLHIsbyxhKXt2YXIgcz10aGlzLmdldENvbnRlbnRHcm91cCgpLGw9ZnQoKSx1PWUuZ2V0KCJzZWxlY3RlZE1vZGUiKSxoPVtdO24uZWFjaFJhd1NlcmllcygoZnVuY3Rpb24odCl7IXQuZ2V0KCJsZWdlbmRIb3ZlckxpbmsiKSYmaC5wdXNoKHQuaWQpfSkpLGRCKGUuZ2V0RGF0YSgpLChmdW5jdGlvbihyLG8pe3ZhciBhPXIuZ2V0KCJuYW1lIik7aWYoIXRoaXMubmV3bGluZURpc2FibGVkJiYoIiI9PT1hfHwiXG4iPT09YSkpe3ZhciBjPW5ldyBmQjtyZXR1cm4gYy5uZXdsaW5lPSEwLHZvaWQgcy5hZGQoYyl9dmFyIHA9bi5nZXRTZXJpZXNCeU5hbWUoYSlbMF07aWYoIWwuZ2V0KGEpKXtpZihwKXt2YXIgZD1wLmdldERhdGEoKSxmPWQuZ2V0VmlzdWFsKCJsZWdlbmRMaW5lU3R5bGUiKXx8e30sZz1kLmdldFZpc3VhbCgibGVnZW5kSWNvbiIpLHk9ZC5nZXRWaXN1YWwoInN0eWxlIik7dGhpcy5fY3JlYXRlSXRlbShwLGEsbyxyLGUsdCxmLHksZyx1KS5vbigiY2xpY2siLHBCKHlCLGEsbnVsbCxpLGgpKS5vbigibW91c2VvdmVyIixwQihtQixwLm5hbWUsbnVsbCxpLGgpKS5vbigibW91c2VvdXQiLHBCKHhCLHAubmFtZSxudWxsLGksaCkpLGwuc2V0KGEsITApfWVsc2Ugbi5lYWNoUmF3U2VyaWVzKChmdW5jdGlvbihuKXtpZighbC5nZXQoYSkmJm4ubGVnZW5kVmlzdWFsUHJvdmlkZXIpe3ZhciBzPW4ubGVnZW5kVmlzdWFsUHJvdmlkZXI7aWYoIXMuY29udGFpbk5hbWUoYSkpcmV0dXJuO3ZhciBjPXMuaW5kZXhPZk5hbWUoYSkscD1zLmdldEl0ZW1WaXN1YWwoYywic3R5bGUiKSxkPXMuZ2V0SXRlbVZpc3VhbChjLCJsZWdlbmRJY29uIiksZj1ibihwLmZpbGwpO2YmJjA9PT1mWzNdJiYoZlszXT0uMixwPUEoQSh7fSxwKSx7ZmlsbDprbihmLCJyZ2JhIil9KSksdGhpcy5fY3JlYXRlSXRlbShuLGEsbyxyLGUsdCx7fSxwLGQsdSkub24oImNsaWNrIixwQih5QixudWxsLGEsaSxoKSkub24oIm1vdXNlb3ZlciIscEIobUIsbnVsbCxhLGksaCkpLm9uKCJtb3VzZW91dCIscEIoeEIsbnVsbCxhLGksaCkpLGwuc2V0KGEsITApfX0pLHRoaXMpOzB9fSksdGhpcyksciYmdGhpcy5fY3JlYXRlU2VsZWN0b3IocixlLGksbyxhKX0sZS5wcm90b3R5cGUuX2NyZWF0ZVNlbGVjdG9yPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89dGhpcy5nZXRTZWxlY3Rvckdyb3VwKCk7ZEIodCwoZnVuY3Rpb24odCl7dmFyIGk9dC50eXBlLHI9bmV3IGtzKHtzdHlsZTp7eDowLHk6MCxhbGlnbjoiY2VudGVyIix2ZXJ0aWNhbEFsaWduOiJtaWRkbGUifSxvbmNsaWNrOmZ1bmN0aW9uKCl7bi5kaXNwYXRjaEFjdGlvbih7dHlwZToiYWxsIj09PWk/ImxlZ2VuZEFsbFNlbGVjdCI6ImxlZ2VuZEludmVyc2VTZWxlY3QifSl9fSk7by5hZGQociksSGgocix7bm9ybWFsOmUuZ2V0TW9kZWwoInNlbGVjdG9yTGFiZWwiKSxlbXBoYXNpczplLmdldE1vZGVsKFsiZW1waGFzaXMiLCJzZWxlY3RvckxhYmVsIl0pfSx7ZGVmYXVsdFRleHQ6dC50aXRsZX0pLE9sKHIpfSkpfSxlLnByb3RvdHlwZS5fY3JlYXRlSXRlbT1mdW5jdGlvbih0LGUsbixpLHIsbyxhLHMsbCx1KXt2YXIgaD10LnZpc3VhbERyYXdUeXBlLGM9ci5nZXQoIml0ZW1XaWR0aCIpLHA9ci5nZXQoIml0ZW1IZWlnaHQiKSxkPXIuaXNTZWxlY3RlZChlKSxmPWkuZ2V0KCJzeW1ib2xSb3RhdGUiKSxnPWkuZ2V0KCJzeW1ib2xLZWVwQXNwZWN0IikseT1pLmdldCgiaWNvbiIpLHY9ZnVuY3Rpb24odCxlLG4saSxyLG8pe2Z1bmN0aW9uIGEodCxlKXsiYXV0byI9PT10LmxpbmVXaWR0aCYmKHQubGluZVdpZHRoPWUubGluZVdpZHRoPjA/MjowKSxkQih0LChmdW5jdGlvbihuLGkpeyJpbmhlcml0Ij09PXRbaV0mJih0W2ldPWVbaV0pfSkpfXZhciBzPWUuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpLGw9MD09PXQubGFzdEluZGV4T2YoImVtcHR5IiwwKT8iZmlsbCI6InN0cm9rZSI7cy5kZWNhbD1pLmRlY2FsLCJpbmhlcml0Ij09PXMuZmlsbCYmKHMuZmlsbD1pW3JdKTsiaW5oZXJpdCI9PT1zLnN0cm9rZSYmKHMuc3Ryb2tlPWlbbF0pOyJpbmhlcml0Ij09PXMub3BhY2l0eSYmKHMub3BhY2l0eT0oImZpbGwiPT09cj9pOm4pLm9wYWNpdHkpO2EocyxpKTt2YXIgdT1lLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxoPXUuZ2V0TGluZVN0eWxlKCk7aWYoYShoLG4pLCJhdXRvIj09PXMuZmlsbCYmKHMuZmlsbD1pLmZpbGwpLCJhdXRvIj09PXMuc3Ryb2tlJiYocy5zdHJva2U9aS5maWxsKSwiYXV0byI9PT1oLnN0cm9rZSYmKGguc3Ryb2tlPWkuZmlsbCksIW8pe3ZhciBjPWUuZ2V0KCJpbmFjdGl2ZUJvcmRlcldpZHRoIikscD1zW2xdO3MubGluZVdpZHRoPSJhdXRvIj09PWM/aS5saW5lV2lkdGg+MCYmcD8yOjA6cy5saW5lV2lkdGgscy5maWxsPWUuZ2V0KCJpbmFjdGl2ZUNvbG9yIikscy5zdHJva2U9ZS5nZXQoImluYWN0aXZlQm9yZGVyQ29sb3IiKSxoLnN0cm9rZT11LmdldCgiaW5hY3RpdmVDb2xvciIpLGgubGluZVdpZHRoPXUuZ2V0KCJpbmFjdGl2ZVdpZHRoIil9cmV0dXJue2l0ZW1TdHlsZTpzLGxpbmVTdHlsZTpofX0obD15fHxsfHwicm91bmRSZWN0IixpLGEscyxoLGQpLG09bmV3IGZCLHg9aS5nZXRNb2RlbCgidGV4dFN0eWxlIik7aWYoIVUodC5nZXRMZWdlbmRJY29uKXx8eSYmImluaGVyaXQiIT09eSl7dmFyIF89ImluaGVyaXQiPT09eSYmdC5nZXREYXRhKCkuZ2V0VmlzdWFsKCJzeW1ib2wiKT8iaW5oZXJpdCI9PT1mP3QuZ2V0RGF0YSgpLmdldFZpc3VhbCgic3ltYm9sUm90YXRlIik6ZjowO20uYWRkKGZ1bmN0aW9uKHQpe3ZhciBlPXQuaWNvbnx8InJvdW5kUmVjdCIsbj1MeShlLDAsMCx0Lml0ZW1XaWR0aCx0Lml0ZW1IZWlnaHQsdC5pdGVtU3R5bGUuZmlsbCx0LnN5bWJvbEtlZXBBc3BlY3QpO24uc2V0U3R5bGUodC5pdGVtU3R5bGUpLG4ucm90YXRpb249KHQuaWNvblJvdGF0ZXx8MCkqTWF0aC5QSS8xODAsbi5zZXRPcmlnaW4oW3QuaXRlbVdpZHRoLzIsdC5pdGVtSGVpZ2h0LzJdKSxlLmluZGV4T2YoImVtcHR5Iik+LTEmJihuLnN0eWxlLnN0cm9rZT1uLnN0eWxlLmZpbGwsbi5zdHlsZS5maWxsPSIjZmZmIixuLnN0eWxlLmxpbmVXaWR0aD0yKTtyZXR1cm4gbn0oe2l0ZW1XaWR0aDpjLGl0ZW1IZWlnaHQ6cCxpY29uOmwsaWNvblJvdGF0ZTpfLGl0ZW1TdHlsZTp2Lml0ZW1TdHlsZSxsaW5lU3R5bGU6di5saW5lU3R5bGUsc3ltYm9sS2VlcEFzcGVjdDpnfSkpfWVsc2UgbS5hZGQodC5nZXRMZWdlbmRJY29uKHtpdGVtV2lkdGg6YyxpdGVtSGVpZ2h0OnAsaWNvbjpsLGljb25Sb3RhdGU6ZixpdGVtU3R5bGU6di5pdGVtU3R5bGUsbGluZVN0eWxlOnYubGluZVN0eWxlLHN5bWJvbEtlZXBBc3BlY3Q6Z30pKTt2YXIgYj0ibGVmdCI9PT1vP2MrNTotNSx3PW8sUz1yLmdldCgiZm9ybWF0dGVyIiksTT1lO1goUykmJlM/TT1TLnJlcGxhY2UoIntuYW1lfSIsbnVsbCE9ZT9lOiIiKTpVKFMpJiYoTT1TKGUpKTt2YXIgST1pLmdldCgiaW5hY3RpdmVDb2xvciIpO20uYWRkKG5ldyBrcyh7c3R5bGU6VWgoeCx7dGV4dDpNLHg6Yix5OnAvMixmaWxsOmQ/eC5nZXRUZXh0Q29sb3IoKTpJLGFsaWduOncsdmVydGljYWxBbGlnbjoibWlkZGxlIn0pfSkpO3ZhciBUPW5ldyBDcyh7c2hhcGU6bS5nZXRCb3VuZGluZ1JlY3QoKSxpbnZpc2libGU6ITB9KSxDPWkuZ2V0TW9kZWwoInRvb2x0aXAiKTtyZXR1cm4gQy5nZXQoInNob3ciKSYmRWgoe2VsOlQsY29tcG9uZW50TW9kZWw6cixpdGVtTmFtZTplLGl0ZW1Ub29sdGlwT3B0aW9uOkMub3B0aW9ufSksbS5hZGQoVCksbS5lYWNoQ2hpbGQoKGZ1bmN0aW9uKHQpe3Quc2lsZW50PSEwfSkpLFQuc2lsZW50PSF1LHRoaXMuZ2V0Q29udGVudEdyb3VwKCkuYWRkKG0pLE9sKG0pLG0uX19sZWdlbmREYXRhSW5kZXg9bixtfSxlLnByb3RvdHlwZS5sYXlvdXRJbm5lcj1mdW5jdGlvbih0LGUsbixpLHIsbyl7dmFyIGE9dGhpcy5nZXRDb250ZW50R3JvdXAoKSxzPXRoaXMuZ2V0U2VsZWN0b3JHcm91cCgpO21wKHQuZ2V0KCJvcmllbnQiKSxhLHQuZ2V0KCJpdGVtR2FwIiksbi53aWR0aCxuLmhlaWdodCk7dmFyIGw9YS5nZXRCb3VuZGluZ1JlY3QoKSx1PVstbC54LC1sLnldO2lmKHMubWFya1JlZHJhdygpLGEubWFya1JlZHJhdygpLHIpe21wKCJob3Jpem9udGFsIixzLHQuZ2V0KCJzZWxlY3Rvckl0ZW1HYXAiLCEwKSk7dmFyIGg9cy5nZXRCb3VuZGluZ1JlY3QoKSxjPVstaC54LC1oLnldLHA9dC5nZXQoInNlbGVjdG9yQnV0dG9uR2FwIiwhMCksZD10LmdldE9yaWVudCgpLmluZGV4LGY9MD09PWQ/IndpZHRoIjoiaGVpZ2h0IixnPTA9PT1kPyJoZWlnaHQiOiJ3aWR0aCIseT0wPT09ZD8ieSI6IngiOyJlbmQiPT09bz9jW2RdKz1sW2ZdK3A6dVtkXSs9aFtmXStwLGNbMS1kXSs9bFtnXS8yLWhbZ10vMixzLng9Y1swXSxzLnk9Y1sxXSxhLng9dVswXSxhLnk9dVsxXTt2YXIgdj17eDowLHk6MH07cmV0dXJuIHZbZl09bFtmXStwK2hbZl0sdltnXT1NYXRoLm1heChsW2ddLGhbZ10pLHZbeV09TWF0aC5taW4oMCxoW3ldK2NbMS1kXSksdn1yZXR1cm4gYS54PXVbMF0sYS55PXVbMV0sdGhpcy5ncm91cC5nZXRCb3VuZGluZ1JlY3QoKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5nZXRDb250ZW50R3JvdXAoKS5yZW1vdmVBbGwoKSx0aGlzLl9pc0ZpcnN0UmVuZGVyPSEwfSxlLnR5cGU9ImxlZ2VuZC5wbGFpbiIsZX0oZ2cpO2Z1bmN0aW9uIHlCKHQsZSxuLGkpe3hCKHQsZSxuLGkpLG4uZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImxlZ2VuZFRvZ2dsZVNlbGVjdCIsbmFtZTpudWxsIT10P3Q6ZX0pLG1CKHQsZSxuLGkpfWZ1bmN0aW9uIHZCKHQpe2Zvcih2YXIgZSxuPXQuZ2V0WnIoKS5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCksaT0wLHI9bi5sZW5ndGg7aTxyJiYhKGU9bltpXS5zdGF0ZXMuZW1waGFzaXMpOylpKys7cmV0dXJuIGUmJmUuaG92ZXJMYXllcn1mdW5jdGlvbiBtQih0LGUsbixpKXt2QihuKXx8bi5kaXNwYXRjaEFjdGlvbih7dHlwZToiaGlnaGxpZ2h0IixzZXJpZXNOYW1lOnQsbmFtZTplLGV4Y2x1ZGVTZXJpZXNJZDppfSl9ZnVuY3Rpb24geEIodCxlLG4saSl7dkIobil8fG4uZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImRvd25wbGF5IixzZXJpZXNOYW1lOnQsbmFtZTplLGV4Y2x1ZGVTZXJpZXNJZDppfSl9ZnVuY3Rpb24gX0IodCl7dmFyIGU9dC5maW5kQ29tcG9uZW50cyh7bWFpblR5cGU6ImxlZ2VuZCJ9KTtlJiZlLmxlbmd0aCYmdC5maWx0ZXJTZXJpZXMoKGZ1bmN0aW9uKHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWlmKCFlW25dLmlzU2VsZWN0ZWQodC5uYW1lKSlyZXR1cm4hMTtyZXR1cm4hMH0pKX1mdW5jdGlvbiBiQih0LGUsbil7dmFyIGkscj17fSxvPSJ0b2dnbGVTZWxlY3RlZCI9PT10O3JldHVybiBuLmVhY2hDb21wb25lbnQoImxlZ2VuZCIsKGZ1bmN0aW9uKG4pe28mJm51bGwhPWk/bltpPyJzZWxlY3QiOiJ1blNlbGVjdCJdKGUubmFtZSk6ImFsbFNlbGVjdCI9PT10fHwiaW52ZXJzZVNlbGVjdCI9PT10P25bdF0oKTooblt0XShlLm5hbWUpLGk9bi5pc1NlbGVjdGVkKGUubmFtZSkpLEUobi5nZXREYXRhKCksKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KCJuYW1lIik7aWYoIlxuIiE9PWUmJiIiIT09ZSl7dmFyIGk9bi5pc1NlbGVjdGVkKGUpO3IuaGFzT3duUHJvcGVydHkoZSk/cltlXT1yW2VdJiZpOnJbZV09aX19KSl9KSksImFsbFNlbGVjdCI9PT10fHwiaW52ZXJzZVNlbGVjdCI9PT10P3tzZWxlY3RlZDpyfTp7bmFtZTplLm5hbWUsc2VsZWN0ZWQ6cn19ZnVuY3Rpb24gd0IodCl7dC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKGNCKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhnQiksdC5yZWdpc3RlclByb2Nlc3Nvcih0LlBSSU9SSVRZLlBST0NFU1NPUi5TRVJJRVNfRklMVEVSLF9CKSx0LnJlZ2lzdGVyU3ViVHlwZURlZmF1bHRlcigibGVnZW5kIiwoZnVuY3Rpb24oKXtyZXR1cm4icGxhaW4ifSkpLGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJBY3Rpb24oImxlZ2VuZFRvZ2dsZVNlbGVjdCIsImxlZ2VuZHNlbGVjdGNoYW5nZWQiLEgoYkIsInRvZ2dsZVNlbGVjdGVkIikpLHQucmVnaXN0ZXJBY3Rpb24oImxlZ2VuZEFsbFNlbGVjdCIsImxlZ2VuZHNlbGVjdGFsbCIsSChiQiwiYWxsU2VsZWN0IikpLHQucmVnaXN0ZXJBY3Rpb24oImxlZ2VuZEludmVyc2VTZWxlY3QiLCJsZWdlbmRpbnZlcnNlc2VsZWN0IixIKGJCLCJpbnZlcnNlU2VsZWN0IikpLHQucmVnaXN0ZXJBY3Rpb24oImxlZ2VuZFNlbGVjdCIsImxlZ2VuZHNlbGVjdGVkIixIKGJCLCJzZWxlY3QiKSksdC5yZWdpc3RlckFjdGlvbigibGVnZW5kVW5TZWxlY3QiLCJsZWdlbmR1bnNlbGVjdGVkIixIKGJCLCJ1blNlbGVjdCIpKX0odCl9dmFyIFNCPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnNldFNjcm9sbERhdGFJbmRleD1mdW5jdGlvbih0KXt0aGlzLm9wdGlvbi5zY3JvbGxEYXRhSW5kZXg9dH0sZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlLG4saSl7dmFyIHI9U3AoZSk7dC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMsZSxuLGkpLE1CKHRoaXMsZSxyKX0sZS5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24oZSxuKXt0LnByb3RvdHlwZS5tZXJnZU9wdGlvbi5jYWxsKHRoaXMsZSxuKSxNQih0aGlzLHRoaXMub3B0aW9uLGUpfSxlLnR5cGU9ImxlZ2VuZC5zY3JvbGwiLGUuZGVmYXVsdE9wdGlvbj15YyhjQi5kZWZhdWx0T3B0aW9uLHtzY3JvbGxEYXRhSW5kZXg6MCxwYWdlQnV0dG9uSXRlbUdhcDo1LHBhZ2VCdXR0b25HYXA6bnVsbCxwYWdlQnV0dG9uUG9zaXRpb246ImVuZCIscGFnZUZvcm1hdHRlcjoie2N1cnJlbnR9L3t0b3RhbH0iLHBhZ2VJY29uczp7aG9yaXpvbnRhbDpbIk0wLDBMMTIsLTEwTDEyLDEweiIsIk0wLDBMLTEyLC0xMEwtMTIsMTB6Il0sdmVydGljYWw6WyJNMCwwTDIwLDBMMTAsLTIweiIsIk0wLDBMMjAsMEwxMCwyMHoiXX0scGFnZUljb25Db2xvcjoiIzJmNDU1NCIscGFnZUljb25JbmFjdGl2ZUNvbG9yOiIjYWFhIixwYWdlSWNvblNpemU6MTUscGFnZVRleHRTdHlsZTp7Y29sb3I6IiMzMzMifSxhbmltYXRpb25EdXJhdGlvblVwZGF0ZTo4MDB9KSxlfShjQik7ZnVuY3Rpb24gTUIodCxlLG4pe3ZhciBpPVsxLDFdO2lbdC5nZXRPcmllbnQoKS5pbmRleF09MCx3cChlLG4se3R5cGU6ImJveCIsaWdub3JlU2l6ZTohIWl9KX12YXIgSUI9Q3IsVEI9WyJ3aWR0aCIsImhlaWdodCJdLENCPVsieCIsInkiXSxEQj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4ubmV3bGluZURpc2FibGVkPSEwLG4uX2N1cnJlbnRJbmRleD0wLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMuZ3JvdXAuYWRkKHRoaXMuX2NvbnRhaW5lckdyb3VwPW5ldyBJQiksdGhpcy5fY29udGFpbmVyR3JvdXAuYWRkKHRoaXMuZ2V0Q29udGVudEdyb3VwKCkpLHRoaXMuZ3JvdXAuYWRkKHRoaXMuX2NvbnRyb2xsZXJHcm91cD1uZXcgSUIpfSxlLnByb3RvdHlwZS5yZXNldElubmVyPWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUucmVzZXRJbm5lci5jYWxsKHRoaXMpLHRoaXMuX2NvbnRyb2xsZXJHcm91cC5yZW1vdmVBbGwoKSx0aGlzLl9jb250YWluZXJHcm91cC5yZW1vdmVDbGlwUGF0aCgpLHRoaXMuX2NvbnRhaW5lckdyb3VwLl9fcmVjdFNpemU9bnVsbH0sZS5wcm90b3R5cGUucmVuZGVySW5uZXI9ZnVuY3Rpb24oZSxuLGkscixvLGEscyl7dmFyIGw9dGhpczt0LnByb3RvdHlwZS5yZW5kZXJJbm5lci5jYWxsKHRoaXMsZSxuLGkscixvLGEscyk7dmFyIHU9dGhpcy5fY29udHJvbGxlckdyb3VwLGg9bi5nZXQoInBhZ2VJY29uU2l6ZSIsITApLGM9WShoKT9oOltoLGhdO2QoInBhZ2VQcmV2IiwwKTt2YXIgcD1uLmdldE1vZGVsKCJwYWdlVGV4dFN0eWxlIik7ZnVuY3Rpb24gZCh0LGUpe3ZhciBpPXQrIkRhdGFJbmRleCIsbz1QaChuLmdldCgicGFnZUljb25zIiwhMClbbi5nZXRPcmllbnQoKS5uYW1lXVtlXSx7b25jbGljazpXKGwuX3BhZ2VHbyxsLGksbixyKX0se3g6LWNbMF0vMix5Oi1jWzFdLzIsd2lkdGg6Y1swXSxoZWlnaHQ6Y1sxXX0pO28ubmFtZT10LHUuYWRkKG8pfXUuYWRkKG5ldyBrcyh7bmFtZToicGFnZVRleHQiLHN0eWxlOnt0ZXh0OiJ4eC94eCIsZmlsbDpwLmdldFRleHRDb2xvcigpLGZvbnQ6cC5nZXRGb250KCksdmVydGljYWxBbGlnbjoibWlkZGxlIixhbGlnbjoiY2VudGVyIn0sc2lsZW50OiEwfSkpLGQoInBhZ2VOZXh0IiwxKX0sZS5wcm90b3R5cGUubGF5b3V0SW5uZXI9ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhPXRoaXMuZ2V0U2VsZWN0b3JHcm91cCgpLHM9dC5nZXRPcmllbnQoKS5pbmRleCxsPVRCW3NdLHU9Q0Jbc10saD1UQlsxLXNdLGM9Q0JbMS1zXTtyJiZtcCgiaG9yaXpvbnRhbCIsYSx0LmdldCgic2VsZWN0b3JJdGVtR2FwIiwhMCkpO3ZhciBwPXQuZ2V0KCJzZWxlY3RvckJ1dHRvbkdhcCIsITApLGQ9YS5nZXRCb3VuZGluZ1JlY3QoKSxmPVstZC54LC1kLnldLGc9VChuKTtyJiYoZ1tsXT1uW2xdLWRbbF0tcCk7dmFyIHk9dGhpcy5fbGF5b3V0Q29udGVudEFuZENvbnRyb2xsZXIodCxpLGcscyxsLGgsYyx1KTtpZihyKXtpZigiZW5kIj09PW8pZltzXSs9eVtsXStwO2Vsc2V7dmFyIHY9ZFtsXStwO2Zbc10tPXYseVt1XS09dn15W2xdKz1kW2xdK3AsZlsxLXNdKz15W2NdK3lbaF0vMi1kW2hdLzIseVtoXT1NYXRoLm1heCh5W2hdLGRbaF0pLHlbY109TWF0aC5taW4oeVtjXSxkW2NdK2ZbMS1zXSksYS54PWZbMF0sYS55PWZbMV0sYS5tYXJrUmVkcmF3KCl9cmV0dXJuIHl9LGUucHJvdG90eXBlLl9sYXlvdXRDb250ZW50QW5kQ29udHJvbGxlcj1mdW5jdGlvbih0LGUsbixpLHIsbyxhLHMpe3ZhciBsPXRoaXMuZ2V0Q29udGVudEdyb3VwKCksdT10aGlzLl9jb250YWluZXJHcm91cCxoPXRoaXMuX2NvbnRyb2xsZXJHcm91cDttcCh0LmdldCgib3JpZW50IiksbCx0LmdldCgiaXRlbUdhcCIpLGk/bi53aWR0aDpudWxsLGk/bnVsbDpuLmhlaWdodCksbXAoImhvcml6b250YWwiLGgsdC5nZXQoInBhZ2VCdXR0b25JdGVtR2FwIiwhMCkpO3ZhciBjPWwuZ2V0Qm91bmRpbmdSZWN0KCkscD1oLmdldEJvdW5kaW5nUmVjdCgpLGQ9dGhpcy5fc2hvd0NvbnRyb2xsZXI9Y1tyXT5uW3JdLGY9Wy1jLngsLWMueV07ZXx8KGZbaV09bFtzXSk7dmFyIGc9WzAsMF0seT1bLXAueCwtcC55XSx2PXJ0KHQuZ2V0KCJwYWdlQnV0dG9uR2FwIiwhMCksdC5nZXQoIml0ZW1HYXAiLCEwKSk7ZCYmKCJlbmQiPT09dC5nZXQoInBhZ2VCdXR0b25Qb3NpdGlvbiIsITApP3lbaV0rPW5bcl0tcFtyXTpnW2ldKz1wW3JdK3YpO3lbMS1pXSs9Y1tvXS8yLXBbb10vMixsLnNldFBvc2l0aW9uKGYpLHUuc2V0UG9zaXRpb24oZyksaC5zZXRQb3NpdGlvbih5KTt2YXIgbT17eDowLHk6MH07aWYobVtyXT1kP25bcl06Y1tyXSxtW29dPU1hdGgubWF4KGNbb10scFtvXSksbVthXT1NYXRoLm1pbigwLHBbYV0reVsxLWldKSx1Ll9fcmVjdFNpemU9bltyXSxkKXt2YXIgeD17eDowLHk6MH07eFtyXT1NYXRoLm1heChuW3JdLXBbcl0tdiwwKSx4W29dPW1bb10sdS5zZXRDbGlwUGF0aChuZXcgQ3Moe3NoYXBlOnh9KSksdS5fX3JlY3RTaXplPXhbcl19ZWxzZSBoLmVhY2hDaGlsZCgoZnVuY3Rpb24odCl7dC5hdHRyKHtpbnZpc2libGU6ITAsc2lsZW50OiEwfSl9KSk7dmFyIF89dGhpcy5fZ2V0UGFnZUluZm8odCk7cmV0dXJuIG51bGwhPV8ucGFnZUluZGV4JiZyaChsLHt4Ol8uY29udGVudFBvc2l0aW9uWzBdLHk6Xy5jb250ZW50UG9zaXRpb25bMV19LGQ/dDpudWxsKSx0aGlzLl91cGRhdGVQYWdlSW5mb1ZpZXcodCxfKSxtfSxlLnByb3RvdHlwZS5fcGFnZUdvPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLl9nZXRQYWdlSW5mbyhlKVt0XTtudWxsIT1pJiZuLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJsZWdlbmRTY3JvbGwiLHNjcm9sbERhdGFJbmRleDppLGxlZ2VuZElkOmUuaWR9KX0sZS5wcm90b3R5cGUuX3VwZGF0ZVBhZ2VJbmZvVmlldz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2NvbnRyb2xsZXJHcm91cDtFKFsicGFnZVByZXYiLCJwYWdlTmV4dCJdLChmdW5jdGlvbihpKXt2YXIgcj1udWxsIT1lW2krIkRhdGFJbmRleCJdLG89bi5jaGlsZE9mTmFtZShpKTtvJiYoby5zZXRTdHlsZSgiZmlsbCIscj90LmdldCgicGFnZUljb25Db2xvciIsITApOnQuZ2V0KCJwYWdlSWNvbkluYWN0aXZlQ29sb3IiLCEwKSksby5jdXJzb3I9cj8icG9pbnRlciI6ImRlZmF1bHQiKX0pKTt2YXIgaT1uLmNoaWxkT2ZOYW1lKCJwYWdlVGV4dCIpLHI9dC5nZXQoInBhZ2VGb3JtYXR0ZXIiKSxvPWUucGFnZUluZGV4LGE9bnVsbCE9bz9vKzE6MCxzPWUucGFnZUNvdW50O2kmJnImJmkuc2V0U3R5bGUoInRleHQiLFgocik/ci5yZXBsYWNlKCJ7Y3VycmVudH0iLG51bGw9PWE/IiI6YSsiIikucmVwbGFjZSgie3RvdGFsfSIsbnVsbD09cz8iIjpzKyIiKTpyKHtjdXJyZW50OmEsdG90YWw6c30pKX0sZS5wcm90b3R5cGUuX2dldFBhZ2VJbmZvPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KCJzY3JvbGxEYXRhSW5kZXgiLCEwKSxuPXRoaXMuZ2V0Q29udGVudEdyb3VwKCksaT10aGlzLl9jb250YWluZXJHcm91cC5fX3JlY3RTaXplLHI9dC5nZXRPcmllbnQoKS5pbmRleCxvPVRCW3JdLGE9Q0Jbcl0scz10aGlzLl9maW5kVGFyZ2V0SXRlbUluZGV4KGUpLGw9bi5jaGlsZHJlbigpLHU9bFtzXSxoPWwubGVuZ3RoLGM9aD8xOjAscD17Y29udGVudFBvc2l0aW9uOltuLngsbi55XSxwYWdlQ291bnQ6YyxwYWdlSW5kZXg6Yy0xLHBhZ2VQcmV2RGF0YUluZGV4Om51bGwscGFnZU5leHREYXRhSW5kZXg6bnVsbH07aWYoIXUpcmV0dXJuIHA7dmFyIGQ9bSh1KTtwLmNvbnRlbnRQb3NpdGlvbltyXT0tZC5zO2Zvcih2YXIgZj1zKzEsZz1kLHk9ZCx2PW51bGw7Zjw9aDsrK2YpKCEodj1tKGxbZl0pKSYmeS5lPmcucytpfHx2JiYheCh2LGcucykpJiYoZz15Lmk+Zy5pP3k6dikmJihudWxsPT1wLnBhZ2VOZXh0RGF0YUluZGV4JiYocC5wYWdlTmV4dERhdGFJbmRleD1nLmkpLCsrcC5wYWdlQ291bnQpLHk9djtmb3IoZj1zLTEsZz1kLHk9ZCx2PW51bGw7Zj49LTE7LS1mKSh2PW0obFtmXSkpJiZ4KHksdi5zKXx8IShnLmk8eS5pKXx8KHk9ZyxudWxsPT1wLnBhZ2VQcmV2RGF0YUluZGV4JiYocC5wYWdlUHJldkRhdGFJbmRleD1nLmkpLCsrcC5wYWdlQ291bnQsKytwLnBhZ2VJbmRleCksZz12O3JldHVybiBwO2Z1bmN0aW9uIG0odCl7aWYodCl7dmFyIGU9dC5nZXRCb3VuZGluZ1JlY3QoKSxuPWVbYV0rdFthXTtyZXR1cm57czpuLGU6bitlW29dLGk6dC5fX2xlZ2VuZERhdGFJbmRleH19fWZ1bmN0aW9uIHgodCxlKXtyZXR1cm4gdC5lPj1lJiZ0LnM8PWUraX19LGUucHJvdG90eXBlLl9maW5kVGFyZ2V0SXRlbUluZGV4PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zaG93Q29udHJvbGxlcj8odGhpcy5nZXRDb250ZW50R3JvdXAoKS5lYWNoQ2hpbGQoKGZ1bmN0aW9uKGkscil7dmFyIG89aS5fX2xlZ2VuZERhdGFJbmRleDtudWxsPT1uJiZudWxsIT1vJiYobj1yKSxvPT09dCYmKGU9cil9KSksbnVsbCE9ZT9lOm4pOjA7dmFyIGUsbn0sZS50eXBlPSJsZWdlbmQuc2Nyb2xsIixlfShnQik7ZnVuY3Rpb24gQUIodCl7Ym0od0IpLHQucmVnaXN0ZXJDb21wb25lbnRNb2RlbChTQiksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoREIpLGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJBY3Rpb24oImxlZ2VuZFNjcm9sbCIsImxlZ2VuZHNjcm9sbCIsKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5zY3JvbGxEYXRhSW5kZXg7bnVsbCE9biYmZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToibGVnZW5kIixzdWJUeXBlOiJzY3JvbGwiLHF1ZXJ5OnR9LChmdW5jdGlvbih0KXt0LnNldFNjcm9sbERhdGFJbmRleChuKX0pKX0pKX0odCl9dmFyIGtCPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUudHlwZT0iZGF0YVpvb20uaW5zaWRlIixlLmRlZmF1bHRPcHRpb249eWMoREUuZGVmYXVsdE9wdGlvbix7ZGlzYWJsZWQ6ITEsem9vbUxvY2s6ITEsem9vbU9uTW91c2VXaGVlbDohMCxtb3ZlT25Nb3VzZU1vdmU6ITAsbW92ZU9uTW91c2VXaGVlbDohMSxwcmV2ZW50RGVmYXVsdE1vdXNlTW92ZTohMH0pLGV9KERFKSxMQj1TbygpO2Z1bmN0aW9uIFBCKHQsZSxuKXtMQih0KS5jb29yZFN5c1JlY29yZE1hcC5lYWNoKChmdW5jdGlvbih0KXt2YXIgaT10LmRhdGFab29tSW5mb01hcC5nZXQoZS51aWQpO2kmJihpLmdldFJhbmdlPW4pfSkpfWZ1bmN0aW9uIE9CKHQsZSl7aWYoZSl7dC5yZW1vdmVLZXkoZS5tb2RlbC51aWQpO3ZhciBuPWUuY29udHJvbGxlcjtuJiZuLmRpc3Bvc2UoKX19ZnVuY3Rpb24gUkIodCxlKXt0LmlzRGlzcG9zZWQoKXx8dC5kaXNwYXRjaEFjdGlvbih7dHlwZToiZGF0YVpvb20iLGFuaW1hdGlvbjp7ZWFzaW5nOiJjdWJpY091dCIsZHVyYXRpb246MTAwfSxiYXRjaDplfSl9ZnVuY3Rpb24gTkIodCxlLG4saSl7cmV0dXJuIHQuY29vcmRpbmF0ZVN5c3RlbS5jb250YWluUG9pbnQoW24saV0pfWZ1bmN0aW9uIEVCKHQpe3QucmVnaXN0ZXJQcm9jZXNzb3IodC5QUklPUklUWS5QUk9DRVNTT1IuRklMVEVSLChmdW5jdGlvbih0LGUpe3ZhciBuPUxCKGUpLGk9bi5jb29yZFN5c1JlY29yZE1hcHx8KG4uY29vcmRTeXNSZWNvcmRNYXA9ZnQoKSk7aS5lYWNoKChmdW5jdGlvbih0KXt0LmRhdGFab29tSW5mb01hcD1udWxsfSkpLHQuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6ImRhdGFab29tIixzdWJUeXBlOiJpbnNpZGUifSwoZnVuY3Rpb24odCl7RShURSh0KS5pbmZvTGlzdCwoZnVuY3Rpb24obil7dmFyIHI9bi5tb2RlbC51aWQsbz1pLmdldChyKXx8aS5zZXQocixmdW5jdGlvbih0LGUpe3ZhciBuPXttb2RlbDplLGNvbnRhaW5zUG9pbnQ6SChOQixlKSxkaXNwYXRjaEFjdGlvbjpIKFJCLHQpLGRhdGFab29tSW5mb01hcDpudWxsLGNvbnRyb2xsZXI6bnVsbH0saT1uLmNvbnRyb2xsZXI9bmV3IEFJKHQuZ2V0WnIoKSk7cmV0dXJuIEUoWyJwYW4iLCJ6b29tIiwic2Nyb2xsTW92ZSJdLChmdW5jdGlvbih0KXtpLm9uKHQsKGZ1bmN0aW9uKGUpe3ZhciBpPVtdO24uZGF0YVpvb21JbmZvTWFwLmVhY2goKGZ1bmN0aW9uKHIpe2lmKGUuaXNBdmFpbGFibGVCZWhhdmlvcihyLm1vZGVsLm9wdGlvbikpe3ZhciBvPShyLmdldFJhbmdlfHx7fSlbdF0sYT1vJiZvKHIuZHpSZWZlckNvb3JkU3lzSW5mbyxuLm1vZGVsLm1haW5UeXBlLG4uY29udHJvbGxlcixlKTshci5tb2RlbC5nZXQoImRpc2FibGVkIiwhMCkmJmEmJmkucHVzaCh7ZGF0YVpvb21JZDpyLm1vZGVsLmlkLHN0YXJ0OmFbMF0sZW5kOmFbMV19KX19KSksaS5sZW5ndGgmJm4uZGlzcGF0Y2hBY3Rpb24oaSl9KSl9KSksbn0oZSxuLm1vZGVsKSk7KG8uZGF0YVpvb21JbmZvTWFwfHwoby5kYXRhWm9vbUluZm9NYXA9ZnQoKSkpLnNldCh0LnVpZCx7ZHpSZWZlckNvb3JkU3lzSW5mbzpuLG1vZGVsOnQsZ2V0UmFuZ2U6bnVsbH0pfSkpfSkpLGkuZWFjaCgoZnVuY3Rpb24odCl7dmFyIGUsbj10LmNvbnRyb2xsZXIscj10LmRhdGFab29tSW5mb01hcDtpZihyKXt2YXIgbz1yLmtleXMoKVswXTtudWxsIT1vJiYoZT1yLmdldChvKSl9aWYoZSl7dmFyIGE9ZnVuY3Rpb24odCl7dmFyIGUsbj0idHlwZV8iLGk9e3R5cGVfdHJ1ZToyLHR5cGVfbW92ZToxLHR5cGVfZmFsc2U6MCx0eXBlX3VuZGVmaW5lZDotMX0scj0hMDtyZXR1cm4gdC5lYWNoKChmdW5jdGlvbih0KXt2YXIgbz10Lm1vZGVsLGE9IW8uZ2V0KCJkaXNhYmxlZCIsITApJiYoIW8uZ2V0KCJ6b29tTG9jayIsITApfHwibW92ZSIpO2lbbithXT5pW24rZV0mJihlPWEpLHI9ciYmby5nZXQoInByZXZlbnREZWZhdWx0TW91c2VNb3ZlIiwhMCl9KSkse2NvbnRyb2xUeXBlOmUsb3B0Ont6b29tT25Nb3VzZVdoZWVsOiEwLG1vdmVPbk1vdXNlTW92ZTohMCxtb3ZlT25Nb3VzZVdoZWVsOiEwLHByZXZlbnREZWZhdWx0TW91c2VNb3ZlOiEhcn19fShyKTtuLmVuYWJsZShhLmNvbnRyb2xUeXBlLGEub3B0KSxuLnNldFBvaW50ZXJDaGVja2VyKHQuY29udGFpbnNQb2ludCksQWcodCwiZGlzcGF0Y2hBY3Rpb24iLGUubW9kZWwuZ2V0KCJ0aHJvdHRsZSIsITApLCJmaXhSYXRlIil9ZWxzZSBPQihpLHQpfSkpfSkpfXZhciB6Qj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLnR5cGU9ImRhdGFab29tLmluc2lkZSIsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlLG4saSl7dC5wcm90b3R5cGUucmVuZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlLm5vVGFyZ2V0KCk/dGhpcy5fY2xlYXIoKToodGhpcy5yYW5nZT1lLmdldFBlcmNlbnRSYW5nZSgpLFBCKGksZSx7cGFuOlcoVkIucGFuLHRoaXMpLHpvb206VyhWQi56b29tLHRoaXMpLHNjcm9sbE1vdmU6VyhWQi5zY3JvbGxNb3ZlLHRoaXMpfSkpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXIoKSx0LnByb3RvdHlwZS5kaXNwb3NlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5wcm90b3R5cGUuX2NsZWFyPWZ1bmN0aW9uKCl7IWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPUxCKHQpLmNvb3JkU3lzUmVjb3JkTWFwLGk9bi5rZXlzKCkscj0wO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdLGE9bi5nZXQobykscz1hLmRhdGFab29tSW5mb01hcDtpZihzKXt2YXIgbD1lLnVpZDtzLmdldChsKSYmKHMucmVtb3ZlS2V5KGwpLHMua2V5cygpLmxlbmd0aHx8T0IobixhKSl9fX0odGhpcy5hcGksdGhpcy5kYXRhWm9vbU1vZGVsKSx0aGlzLnJhbmdlPW51bGx9LGUudHlwZT0iZGF0YVpvb20uaW5zaWRlIixlfShMRSksVkI9e3pvb206ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcy5yYW5nZSxvPXIuc2xpY2UoKSxhPXQuYXhpc01vZGVsc1swXTtpZihhKXt2YXIgcz1GQltlXShudWxsLFtpLm9yaWdpblgsaS5vcmlnaW5ZXSxhLG4sdCksbD0ocy5zaWduYWw+MD9zLnBpeGVsU3RhcnQrcy5waXhlbExlbmd0aC1zLnBpeGVsOnMucGl4ZWwtcy5waXhlbFN0YXJ0KS9zLnBpeGVsTGVuZ3RoKihvWzFdLW9bMF0pK29bMF0sdT1NYXRoLm1heCgxL2kuc2NhbGUsMCk7b1swXT0ob1swXS1sKSp1K2wsb1sxXT0ob1sxXS1sKSp1K2w7dmFyIGg9dGhpcy5kYXRhWm9vbU1vZGVsLmZpbmRSZXByZXNlbnRhdGl2ZUF4aXNQcm94eSgpLmdldE1pbk1heFNwYW4oKTtyZXR1cm4gc2soMCxvLFswLDEwMF0sMCxoLm1pblNwYW4saC5tYXhTcGFuKSx0aGlzLnJhbmdlPW8sclswXSE9PW9bMF18fHJbMV0hPT1vWzFdP286dm9pZCAwfX0scGFuOkJCKChmdW5jdGlvbih0LGUsbixpLHIsbyl7dmFyIGE9RkJbaV0oW28ub2xkWCxvLm9sZFldLFtvLm5ld1gsby5uZXdZXSxlLHIsbik7cmV0dXJuIGEuc2lnbmFsKih0WzFdLXRbMF0pKmEucGl4ZWwvYS5waXhlbExlbmd0aH0pKSxzY3JvbGxNb3ZlOkJCKChmdW5jdGlvbih0LGUsbixpLHIsbyl7cmV0dXJuIEZCW2ldKFswLDBdLFtvLnNjcm9sbERlbHRhLG8uc2Nyb2xsRGVsdGFdLGUscixuKS5zaWduYWwqKHRbMV0tdFswXSkqby5zY3JvbGxEZWx0YX0pKX07ZnVuY3Rpb24gQkIodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixpLHIpe3ZhciBvPXRoaXMucmFuZ2UsYT1vLnNsaWNlKCkscz1lLmF4aXNNb2RlbHNbMF07aWYocylyZXR1cm4gc2sodChhLHMsZSxuLGksciksYSxbMCwxMDBdLCJhbGwiKSx0aGlzLnJhbmdlPWEsb1swXSE9PWFbMF18fG9bMV0hPT1hWzFdP2E6dm9pZCAwfX12YXIgRkI9e2dyaWQ6ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1uLmF4aXMsYT17fSxzPXIubW9kZWwuY29vcmRpbmF0ZVN5c3RlbS5nZXRSZWN0KCk7cmV0dXJuIHQ9dHx8WzAsMF0sIngiPT09by5kaW0/KGEucGl4ZWw9ZVswXS10WzBdLGEucGl4ZWxMZW5ndGg9cy53aWR0aCxhLnBpeGVsU3RhcnQ9cy54LGEuc2lnbmFsPW8uaW52ZXJzZT8xOi0xKTooYS5waXhlbD1lWzFdLXRbMV0sYS5waXhlbExlbmd0aD1zLmhlaWdodCxhLnBpeGVsU3RhcnQ9cy55LGEuc2lnbmFsPW8uaW52ZXJzZT8tMToxKSxhfSxwb2xhcjpmdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPW4uYXhpcyxhPXt9LHM9ci5tb2RlbC5jb29yZGluYXRlU3lzdGVtLGw9cy5nZXRSYWRpdXNBeGlzKCkuZ2V0RXh0ZW50KCksdT1zLmdldEFuZ2xlQXhpcygpLmdldEV4dGVudCgpO3JldHVybiB0PXQ/cy5wb2ludFRvQ29vcmQodCk6WzAsMF0sZT1zLnBvaW50VG9Db29yZChlKSwicmFkaXVzQXhpcyI9PT1uLm1haW5UeXBlPyhhLnBpeGVsPWVbMF0tdFswXSxhLnBpeGVsTGVuZ3RoPWxbMV0tbFswXSxhLnBpeGVsU3RhcnQ9bFswXSxhLnNpZ25hbD1vLmludmVyc2U/MTotMSk6KGEucGl4ZWw9ZVsxXS10WzFdLGEucGl4ZWxMZW5ndGg9dVsxXS11WzBdLGEucGl4ZWxTdGFydD11WzBdLGEuc2lnbmFsPW8uaW52ZXJzZT8tMToxKSxhfSxzaW5nbGVBeGlzOmZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89bi5heGlzLGE9ci5tb2RlbC5jb29yZGluYXRlU3lzdGVtLmdldFJlY3QoKSxzPXt9O3JldHVybiB0PXR8fFswLDBdLCJob3Jpem9udGFsIj09PW8ub3JpZW50PyhzLnBpeGVsPWVbMF0tdFswXSxzLnBpeGVsTGVuZ3RoPWEud2lkdGgscy5waXhlbFN0YXJ0PWEueCxzLnNpZ25hbD1vLmludmVyc2U/MTotMSk6KHMucGl4ZWw9ZVsxXS10WzFdLHMucGl4ZWxMZW5ndGg9YS5oZWlnaHQscy5waXhlbFN0YXJ0PWEueSxzLnNpZ25hbD1vLmludmVyc2U/LTE6MSksc319O2Z1bmN0aW9uIEdCKHQpe1ZFKHQpLHQucmVnaXN0ZXJDb21wb25lbnRNb2RlbChrQiksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoekIpLEVCKHQpfXZhciBXQj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnR5cGU9ImRhdGFab29tLnNsaWRlciIsZS5sYXlvdXRNb2RlPSJib3giLGUuZGVmYXVsdE9wdGlvbj15YyhERS5kZWZhdWx0T3B0aW9uLHtzaG93OiEwLHJpZ2h0OiJwaCIsdG9wOiJwaCIsd2lkdGg6InBoIixoZWlnaHQ6InBoIixsZWZ0Om51bGwsYm90dG9tOm51bGwsYm9yZGVyQ29sb3I6IiNkMmRiZWUiLGJvcmRlclJhZGl1czozLGJhY2tncm91bmRDb2xvcjoicmdiYSg0Nyw2OSw4NCwwKSIsZGF0YUJhY2tncm91bmQ6e2xpbmVTdHlsZTp7Y29sb3I6IiNkMmRiZWUiLHdpZHRoOi41fSxhcmVhU3R5bGU6e2NvbG9yOiIjZDJkYmVlIixvcGFjaXR5Oi4yfX0sc2VsZWN0ZWREYXRhQmFja2dyb3VuZDp7bGluZVN0eWxlOntjb2xvcjoiIzhmYjBmNyIsd2lkdGg6LjV9LGFyZWFTdHlsZTp7Y29sb3I6IiM4ZmIwZjciLG9wYWNpdHk6LjJ9fSxmaWxsZXJDb2xvcjoicmdiYSgxMzUsMTc1LDI3NCwwLjIpIixoYW5kbGVJY29uOiJwYXRoOi8vTS05LjM1LDM0LjU2VjQybTAtNDBWOS41bS0yLDBoNGEyLDIsMCwwLDEsMiwydjIxYTIsMiwwLDAsMS0yLDJoLTRhMiwyLDAsMCwxLTItMnYtMjFBMiwyLDAsMCwxLTExLjM1LDkuNVoiLGhhbmRsZVNpemU6IjEwMCUiLGhhbmRsZVN0eWxlOntjb2xvcjoiI2ZmZiIsYm9yZGVyQ29sb3I6IiNBQ0I4RDEifSxtb3ZlSGFuZGxlU2l6ZTo3LG1vdmVIYW5kbGVJY29uOiJwYXRoOi8vTS0zMjAuOS01MEwtMzIwLjktNTBjMTguMSwwLDI3LjEsOSwyNy4xLDI3LjFWODUuN2MwLDE4LjEtOSwyNy4xLTI3LjEsMjcuMWwwLDBjLTE4LjEsMC0yNy4xLTktMjcuMS0yNy4xVi0yMi45Qy0zNDgtNDEtMzM5LTUwLTMyMC45LTUweiBNLTIxMi4zLTUwTC0yMTIuMy01MGMxOC4xLDAsMjcuMSw5LDI3LjEsMjcuMVY4NS43YzAsMTguMS05LDI3LjEtMjcuMSwyNy4xbDAsMGMtMTguMSwwLTI3LjEtOS0yNy4xLTI3LjFWLTIyLjlDLTIzOS40LTQxLTIzMC40LTUwLTIxMi4zLTUweiBNLTEwMy43LTUwTC0xMDMuNy01MGMxOC4xLDAsMjcuMSw5LDI3LjEsMjcuMVY4NS43YzAsMTguMS05LDI3LjEtMjcuMSwyNy4xbDAsMGMtMTguMSwwLTI3LjEtOS0yNy4xLTI3LjFWLTIyLjlDLTEzMC45LTQxLTEyMS44LTUwLTEwMy43LTUweiIsbW92ZUhhbmRsZVN0eWxlOntjb2xvcjoiI0QyREJFRSIsb3BhY2l0eTouN30sc2hvd0RldGFpbDohMCxzaG93RGF0YVNoYWRvdzoiYXV0byIscmVhbHRpbWU6ITAsem9vbUxvY2s6ITEsdGV4dFN0eWxlOntjb2xvcjoiIzZFNzA3OSJ9LGJydXNoU2VsZWN0OiEwLGJydXNoU3R5bGU6e2NvbG9yOiJyZ2JhKDEzNSwxNzUsMjc0LDAuMTUpIn0sZW1waGFzaXM6e2hhbmRsZVN0eWxlOntib3JkZXJDb2xvcjoiIzhGQjBGNyJ9LG1vdmVIYW5kbGVTdHlsZTp7Y29sb3I6IiM4RkIwRjcifX19KSxlfShERSksSEI9Q3MsWUI9Imhvcml6b250YWwiLFVCPSJ2ZXJ0aWNhbCIsWEI9WyJsaW5lIiwiYmFyIiwiY2FuZGxlc3RpY2siLCJzY2F0dGVyIl0sWkI9e2Vhc2luZzoiY3ViaWNPdXQiLGR1cmF0aW9uOjEwMCxkZWxheTowfSxqQj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uX2Rpc3BsYXlhYmxlcz17fSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUpe3RoaXMuYXBpPWUsdGhpcy5fb25CcnVzaD1XKHRoaXMuX29uQnJ1c2gsdGhpcyksdGhpcy5fb25CcnVzaEVuZD1XKHRoaXMuX29uQnJ1c2hFbmQsdGhpcyl9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlLG4saSxyKXtpZih0LnByb3RvdHlwZS5yZW5kZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLEFnKHRoaXMsIl9kaXNwYXRjaFpvb21BY3Rpb24iLGUuZ2V0KCJ0aHJvdHRsZSIpLCJmaXhSYXRlIiksdGhpcy5fb3JpZW50PWUuZ2V0T3JpZW50KCksITEhPT1lLmdldCgic2hvdyIpKXtpZihlLm5vVGFyZ2V0KCkpcmV0dXJuIHRoaXMuX2NsZWFyKCksdm9pZCB0aGlzLmdyb3VwLnJlbW92ZUFsbCgpO3ImJiJkYXRhWm9vbSI9PT1yLnR5cGUmJnIuZnJvbT09PXRoaXMudWlkfHx0aGlzLl9idWlsZFZpZXcoKSx0aGlzLl91cGRhdGVWaWV3KCl9ZWxzZSB0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXIoKSx0LnByb3RvdHlwZS5kaXNwb3NlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5wcm90b3R5cGUuX2NsZWFyPWZ1bmN0aW9uKCl7a2codGhpcywiX2Rpc3BhdGNoWm9vbUFjdGlvbiIpO3ZhciB0PXRoaXMuYXBpLmdldFpyKCk7dC5vZmYoIm1vdXNlbW92ZSIsdGhpcy5fb25CcnVzaCksdC5vZmYoIm1vdXNldXAiLHRoaXMuX29uQnJ1c2hFbmQpfSxlLnByb3RvdHlwZS5fYnVpbGRWaWV3PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ncm91cDt0LnJlbW92ZUFsbCgpLHRoaXMuX2JydXNoaW5nPSExLHRoaXMuX2Rpc3BsYXlhYmxlcy5icnVzaFJlY3Q9bnVsbCx0aGlzLl9yZXNldExvY2F0aW9uKCksdGhpcy5fcmVzZXRJbnRlcnZhbCgpO3ZhciBlPXRoaXMuX2Rpc3BsYXlhYmxlcy5zbGlkZXJHcm91cD1uZXcgQ3I7dGhpcy5fcmVuZGVyQmFja2dyb3VuZCgpLHRoaXMuX3JlbmRlckhhbmRsZSgpLHRoaXMuX3JlbmRlckRhdGFTaGFkb3coKSx0LmFkZChlKSx0aGlzLl9wb3NpdGlvbkdyb3VwKCl9LGUucHJvdG90eXBlLl9yZXNldExvY2F0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kYXRhWm9vbU1vZGVsLGU9dGhpcy5hcGksbj10LmdldCgiYnJ1c2hTZWxlY3QiKT83OjAsaT10aGlzLl9maW5kQ29vcmRSZWN0KCkscj17d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSxvPXRoaXMuX29yaWVudD09PVlCP3tyaWdodDpyLndpZHRoLWkueC1pLndpZHRoLHRvcDpyLmhlaWdodC0zMC03LW4sd2lkdGg6aS53aWR0aCxoZWlnaHQ6MzB9OntyaWdodDo3LHRvcDppLnksd2lkdGg6MzAsaGVpZ2h0OmkuaGVpZ2h0fSxhPVNwKHQub3B0aW9uKTtFKFsicmlnaHQiLCJ0b3AiLCJ3aWR0aCIsImhlaWdodCJdLChmdW5jdGlvbih0KXsicGgiPT09YVt0XSYmKGFbdF09b1t0XSl9KSk7dmFyIHM9eHAoYSxyKTt0aGlzLl9sb2NhdGlvbj17eDpzLngseTpzLnl9LHRoaXMuX3NpemU9W3Mud2lkdGgscy5oZWlnaHRdLHRoaXMuX29yaWVudD09PVVCJiZ0aGlzLl9zaXplLnJldmVyc2UoKX0sZS5wcm90b3R5cGUuX3Bvc2l0aW9uR3JvdXA9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdyb3VwLGU9dGhpcy5fbG9jYXRpb24sbj10aGlzLl9vcmllbnQsaT10aGlzLmRhdGFab29tTW9kZWwuZ2V0Rmlyc3RUYXJnZXRBeGlzTW9kZWwoKSxyPWkmJmkuZ2V0KCJpbnZlcnNlIiksbz10aGlzLl9kaXNwbGF5YWJsZXMuc2xpZGVyR3JvdXAsYT0odGhpcy5fZGF0YVNoYWRvd0luZm98fHt9KS5vdGhlckF4aXNJbnZlcnNlO28uYXR0cihuIT09WUJ8fHI/bj09PVlCJiZyP3tzY2FsZVk6YT8xOi0xLHNjYWxlWDotMX06biE9PVVCfHxyP3tzY2FsZVk6YT8tMToxLHNjYWxlWDotMSxyb3RhdGlvbjpNYXRoLlBJLzJ9OntzY2FsZVk6YT8tMToxLHNjYWxlWDoxLHJvdGF0aW9uOk1hdGguUEkvMn06e3NjYWxlWTphPzE6LTEsc2NhbGVYOjF9KTt2YXIgcz10LmdldEJvdW5kaW5nUmVjdChbb10pO3QueD1lLngtcy54LHQueT1lLnktcy55LHQubWFya1JlZHJhdygpfSxlLnByb3RvdHlwZS5fZ2V0Vmlld0V4dGVudD1mdW5jdGlvbigpe3JldHVyblswLHRoaXMuX3NpemVbMF1dfSxlLnByb3RvdHlwZS5fcmVuZGVyQmFja2dyb3VuZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZGF0YVpvb21Nb2RlbCxlPXRoaXMuX3NpemUsbj10aGlzLl9kaXNwbGF5YWJsZXMuc2xpZGVyR3JvdXAsaT10LmdldCgiYnJ1c2hTZWxlY3QiKTtuLmFkZChuZXcgSEIoe3NpbGVudDohMCxzaGFwZTp7eDowLHk6MCx3aWR0aDplWzBdLGhlaWdodDplWzFdfSxzdHlsZTp7ZmlsbDp0LmdldCgiYmFja2dyb3VuZENvbG9yIil9LHoyOi00MH0pKTt2YXIgcj1uZXcgSEIoe3NoYXBlOnt4OjAseTowLHdpZHRoOmVbMF0saGVpZ2h0OmVbMV19LHN0eWxlOntmaWxsOiJ0cmFuc3BhcmVudCJ9LHoyOjAsb25jbGljazpXKHRoaXMuX29uQ2xpY2tQYW5lbCx0aGlzKX0pLG89dGhpcy5hcGkuZ2V0WnIoKTtpPyhyLm9uKCJtb3VzZWRvd24iLHRoaXMuX29uQnJ1c2hTdGFydCx0aGlzKSxyLmN1cnNvcj0iY3Jvc3NoYWlyIixvLm9uKCJtb3VzZW1vdmUiLHRoaXMuX29uQnJ1c2gpLG8ub24oIm1vdXNldXAiLHRoaXMuX29uQnJ1c2hFbmQpKTooby5vZmYoIm1vdXNlbW92ZSIsdGhpcy5fb25CcnVzaCksby5vZmYoIm1vdXNldXAiLHRoaXMuX29uQnJ1c2hFbmQpKSxuLmFkZChyKX0sZS5wcm90b3R5cGUuX3JlbmRlckRhdGFTaGFkb3c9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9kYXRhU2hhZG93SW5mbz10aGlzLl9wcmVwYXJlRGF0YVNoYWRvd0luZm8oKTtpZih0aGlzLl9kaXNwbGF5YWJsZXMuZGF0YVNoYWRvd1NlZ3M9W10sdCl7dmFyIGU9dGhpcy5fc2l6ZSxuPXRoaXMuX3NoYWRvd1NpemV8fFtdLGk9dC5zZXJpZXMscj1pLmdldFJhd0RhdGEoKSxvPWkuZ2V0U2hhZG93RGltP2kuZ2V0U2hhZG93RGltKCk6dC5vdGhlckRpbTtpZihudWxsIT1vKXt2YXIgYT10aGlzLl9zaGFkb3dQb2x5Z29uUHRzLHM9dGhpcy5fc2hhZG93UG9seWxpbmVQdHM7aWYociE9PXRoaXMuX3NoYWRvd0RhdGF8fG8hPT10aGlzLl9zaGFkb3dEaW18fGVbMF0hPT1uWzBdfHxlWzFdIT09blsxXSl7dmFyIGw9ci5nZXREYXRhRXh0ZW50KG8pLHU9LjMqKGxbMV0tbFswXSk7bD1bbFswXS11LGxbMV0rdV07dmFyIGgsYz1bMCxlWzFdXSxwPVswLGVbMF1dLGQ9W1tlWzBdLDBdLFswLDBdXSxmPVtdLGc9cFsxXS8oci5jb3VudCgpLTEpLHk9MCx2PU1hdGgucm91bmQoci5jb3VudCgpL2VbMF0pO3IuZWFjaChbb10sKGZ1bmN0aW9uKHQsZSl7aWYodj4wJiZlJXYpeSs9ZztlbHNle3ZhciBuPW51bGw9PXR8fGlzTmFOKHQpfHwiIj09PXQsaT1uPzA6TnIodCxsLGMsITApO24mJiFoJiZlPyhkLnB1c2goW2RbZC5sZW5ndGgtMV1bMF0sMF0pLGYucHVzaChbZltmLmxlbmd0aC0xXVswXSwwXSkpOiFuJiZoJiYoZC5wdXNoKFt5LDBdKSxmLnB1c2goW3ksMF0pKSxkLnB1c2goW3ksaV0pLGYucHVzaChbeSxpXSkseSs9ZyxoPW59fSkpLGE9dGhpcy5fc2hhZG93UG9seWdvblB0cz1kLHM9dGhpcy5fc2hhZG93UG9seWxpbmVQdHM9Zn10aGlzLl9zaGFkb3dEYXRhPXIsdGhpcy5fc2hhZG93RGltPW8sdGhpcy5fc2hhZG93U2l6ZT1bZVswXSxlWzFdXTtmb3IodmFyIG09dGhpcy5kYXRhWm9vbU1vZGVsLHg9MDt4PDM7eCsrKXt2YXIgXz1iKDE9PT14KTt0aGlzLl9kaXNwbGF5YWJsZXMuc2xpZGVyR3JvdXAuYWRkKF8pLHRoaXMuX2Rpc3BsYXlhYmxlcy5kYXRhU2hhZG93U2Vncy5wdXNoKF8pfX19ZnVuY3Rpb24gYih0KXt2YXIgZT1tLmdldE1vZGVsKHQ/InNlbGVjdGVkRGF0YUJhY2tncm91bmQiOiJkYXRhQmFja2dyb3VuZCIpLG49bmV3IENyLGk9bmV3IFB1KHtzaGFwZTp7cG9pbnRzOmF9LHNlZ21lbnRJZ25vcmVUaHJlc2hvbGQ6MSxzdHlsZTplLmdldE1vZGVsKCJhcmVhU3R5bGUiKS5nZXRBcmVhU3R5bGUoKSxzaWxlbnQ6ITAsejI6LTIwfSkscj1uZXcgUnUoe3NoYXBlOntwb2ludHM6c30sc2VnbWVudElnbm9yZVRocmVzaG9sZDoxLHN0eWxlOmUuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLHNpbGVudDohMCx6MjotMTl9KTtyZXR1cm4gbi5hZGQoaSksbi5hZGQociksbn19LGUucHJvdG90eXBlLl9wcmVwYXJlRGF0YVNoYWRvd0luZm89ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRhdGFab29tTW9kZWwsZT10LmdldCgic2hvd0RhdGFTaGFkb3ciKTtpZighMSE9PWUpe3ZhciBuLGk9dGhpcy5lY01vZGVsO3JldHVybiB0LmVhY2hUYXJnZXRBeGlzKChmdW5jdGlvbihyLG8pe0UodC5nZXRBeGlzUHJveHkocixvKS5nZXRUYXJnZXRTZXJpZXNNb2RlbHMoKSwoZnVuY3Rpb24odCl7aWYoIShufHwhMCE9PWUmJlAoWEIsdC5nZXQoInR5cGUiKSk8MCkpe3ZhciBhLHM9aS5nZXRDb21wb25lbnQoTUUociksbykuYXhpcyxsPXt4OiJ5Iix5OiJ4IixyYWRpdXM6ImFuZ2xlIixhbmdsZToicmFkaXVzIn1bcl0sdT10LmNvb3JkaW5hdGVTeXN0ZW07bnVsbCE9bCYmdS5nZXRPdGhlckF4aXMmJihhPXUuZ2V0T3RoZXJBeGlzKHMpLmludmVyc2UpLGw9dC5nZXREYXRhKCkubWFwRGltZW5zaW9uKGwpLG49e3RoaXNBeGlzOnMsc2VyaWVzOnQsdGhpc0RpbTpyLG90aGVyRGltOmwsb3RoZXJBeGlzSW52ZXJzZTphfX19KSx0aGlzKX0pLHRoaXMpLG59fSxlLnByb3RvdHlwZS5fcmVuZGVySGFuZGxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ncm91cCxlPXRoaXMuX2Rpc3BsYXlhYmxlcyxuPWUuaGFuZGxlcz1bbnVsbCxudWxsXSxpPWUuaGFuZGxlTGFiZWxzPVtudWxsLG51bGxdLHI9dGhpcy5fZGlzcGxheWFibGVzLnNsaWRlckdyb3VwLG89dGhpcy5fc2l6ZSxhPXRoaXMuZGF0YVpvb21Nb2RlbCxzPXRoaXMuYXBpLGw9YS5nZXQoImJvcmRlclJhZGl1cyIpfHwwLHU9YS5nZXQoImJydXNoU2VsZWN0IiksaD1lLmZpbGxlcj1uZXcgSEIoe3NpbGVudDp1LHN0eWxlOntmaWxsOmEuZ2V0KCJmaWxsZXJDb2xvciIpfSx0ZXh0Q29uZmlnOntwb3NpdGlvbjoiaW5zaWRlIn19KTtyLmFkZChoKSxyLmFkZChuZXcgSEIoe3NpbGVudDohMCxzdWJQaXhlbE9wdGltaXplOiEwLHNoYXBlOnt4OjAseTowLHdpZHRoOm9bMF0saGVpZ2h0Om9bMV0scjpsfSxzdHlsZTp7c3Ryb2tlOmEuZ2V0KCJkYXRhQmFja2dyb3VuZENvbG9yIil8fGEuZ2V0KCJib3JkZXJDb2xvciIpLGxpbmVXaWR0aDoxLGZpbGw6InJnYmEoMCwwLDAsMCkifX0pKSxFKFswLDFdLChmdW5jdGlvbihlKXt2YXIgbz1hLmdldCgiaGFuZGxlSWNvbiIpOyFEeVtvXSYmby5pbmRleE9mKCJwYXRoOi8vIik8MCYmby5pbmRleE9mKCJpbWFnZTovLyIpPDAmJihvPSJwYXRoOi8vIitvKTt2YXIgcz1MeShvLC0xLDAsMiwyLG51bGwsITApO3MuYXR0cih7Y3Vyc29yOnFCKHRoaXMuX29yaWVudCksZHJhZ2dhYmxlOiEwLGRyaWZ0OlcodGhpcy5fb25EcmFnTW92ZSx0aGlzLGUpLG9uZHJhZ2VuZDpXKHRoaXMuX29uRHJhZ0VuZCx0aGlzKSxvbm1vdXNlb3ZlcjpXKHRoaXMuX3Nob3dEYXRhSW5mbyx0aGlzLCEwKSxvbm1vdXNlb3V0OlcodGhpcy5fc2hvd0RhdGFJbmZvLHRoaXMsITEpLHoyOjV9KTt2YXIgbD1zLmdldEJvdW5kaW5nUmVjdCgpLHU9YS5nZXQoImhhbmRsZVNpemUiKTt0aGlzLl9oYW5kbGVIZWlnaHQ9RXIodSx0aGlzLl9zaXplWzFdKSx0aGlzLl9oYW5kbGVXaWR0aD1sLndpZHRoL2wuaGVpZ2h0KnRoaXMuX2hhbmRsZUhlaWdodCxzLnNldFN0eWxlKGEuZ2V0TW9kZWwoImhhbmRsZVN0eWxlIikuZ2V0SXRlbVN0eWxlKCkpLHMuc3R5bGUuc3Ryb2tlTm9TY2FsZT0hMCxzLnJlY3RIb3Zlcj0hMCxzLmVuc3VyZVN0YXRlKCJlbXBoYXNpcyIpLnN0eWxlPWEuZ2V0TW9kZWwoWyJlbXBoYXNpcyIsImhhbmRsZVN0eWxlIl0pLmdldEl0ZW1TdHlsZSgpLE9sKHMpO3ZhciBoPWEuZ2V0KCJoYW5kbGVDb2xvciIpO251bGwhPWgmJihzLnN0eWxlLmZpbGw9aCksci5hZGQobltlXT1zKTt2YXIgYz1hLmdldE1vZGVsKCJ0ZXh0U3R5bGUiKTt0LmFkZChpW2VdPW5ldyBrcyh7c2lsZW50OiEwLGludmlzaWJsZTohMCxzdHlsZTpVaChjLHt4OjAseTowLHRleHQ6IiIsdmVydGljYWxBbGlnbjoibWlkZGxlIixhbGlnbjoiY2VudGVyIixmaWxsOmMuZ2V0VGV4dENvbG9yKCksZm9udDpjLmdldEZvbnQoKX0pLHoyOjEwfSkpfSksdGhpcyk7dmFyIGM9aDtpZih1KXt2YXIgcD1FcihhLmdldCgibW92ZUhhbmRsZVNpemUiKSxvWzFdKSxkPWUubW92ZUhhbmRsZT1uZXcgQ3Moe3N0eWxlOmEuZ2V0TW9kZWwoIm1vdmVIYW5kbGVTdHlsZSIpLmdldEl0ZW1TdHlsZSgpLHNpbGVudDohMCxzaGFwZTp7cjpbMCwwLDIsMl0seTpvWzFdLS41LGhlaWdodDpwfX0pLGY9LjgqcCxnPWUubW92ZUhhbmRsZUljb249THkoYS5nZXQoIm1vdmVIYW5kbGVJY29uIiksLWYvMiwtZi8yLGYsZiwiI2ZmZiIsITApO2cuc2lsZW50PSEwLGcueT1vWzFdK3AvMi0uNSxkLmVuc3VyZVN0YXRlKCJlbXBoYXNpcyIpLnN0eWxlPWEuZ2V0TW9kZWwoWyJlbXBoYXNpcyIsIm1vdmVIYW5kbGVTdHlsZSJdKS5nZXRJdGVtU3R5bGUoKTt2YXIgeT1NYXRoLm1pbihvWzFdLzIsTWF0aC5tYXgocCwxMCkpOyhjPWUubW92ZVpvbmU9bmV3IENzKHtpbnZpc2libGU6ITAsc2hhcGU6e3k6b1sxXS15LGhlaWdodDpwK3l9fSkpLm9uKCJtb3VzZW92ZXIiLChmdW5jdGlvbigpe3MuZW50ZXJFbXBoYXNpcyhkKX0pKS5vbigibW91c2VvdXQiLChmdW5jdGlvbigpe3MubGVhdmVFbXBoYXNpcyhkKX0pKSxyLmFkZChkKSxyLmFkZChnKSxyLmFkZChjKX1jLmF0dHIoe2RyYWdnYWJsZTohMCxjdXJzb3I6cUIodGhpcy5fb3JpZW50KSxkcmlmdDpXKHRoaXMuX29uRHJhZ01vdmUsdGhpcywiYWxsIiksb25kcmFnc3RhcnQ6Vyh0aGlzLl9zaG93RGF0YUluZm8sdGhpcywhMCksb25kcmFnZW5kOlcodGhpcy5fb25EcmFnRW5kLHRoaXMpLG9ubW91c2VvdmVyOlcodGhpcy5fc2hvd0RhdGFJbmZvLHRoaXMsITApLG9ubW91c2VvdXQ6Vyh0aGlzLl9zaG93RGF0YUluZm8sdGhpcywhMSl9KX0sZS5wcm90b3R5cGUuX3Jlc2V0SW50ZXJ2YWw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yYW5nZT10aGlzLmRhdGFab29tTW9kZWwuZ2V0UGVyY2VudFJhbmdlKCksZT10aGlzLl9nZXRWaWV3RXh0ZW50KCk7dGhpcy5faGFuZGxlRW5kcz1bTnIodFswXSxbMCwxMDBdLGUsITApLE5yKHRbMV0sWzAsMTAwXSxlLCEwKV19LGUucHJvdG90eXBlLl91cGRhdGVJbnRlcnZhbD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZGF0YVpvb21Nb2RlbCxpPXRoaXMuX2hhbmRsZUVuZHMscj10aGlzLl9nZXRWaWV3RXh0ZW50KCksbz1uLmZpbmRSZXByZXNlbnRhdGl2ZUF4aXNQcm94eSgpLmdldE1pbk1heFNwYW4oKSxhPVswLDEwMF07c2soZSxpLHIsbi5nZXQoInpvb21Mb2NrIik/ImFsbCI6dCxudWxsIT1vLm1pblNwYW4/TnIoby5taW5TcGFuLGEsciwhMCk6bnVsbCxudWxsIT1vLm1heFNwYW4/TnIoby5tYXhTcGFuLGEsciwhMCk6bnVsbCk7dmFyIHM9dGhpcy5fcmFuZ2UsbD10aGlzLl9yYW5nZT1WcihbTnIoaVswXSxyLGEsITApLE5yKGlbMV0scixhLCEwKV0pO3JldHVybiFzfHxzWzBdIT09bFswXXx8c1sxXSE9PWxbMV19LGUucHJvdG90eXBlLl91cGRhdGVWaWV3PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2Rpc3BsYXlhYmxlcyxuPXRoaXMuX2hhbmRsZUVuZHMsaT1WcihuLnNsaWNlKCkpLHI9dGhpcy5fc2l6ZTtFKFswLDFdLChmdW5jdGlvbih0KXt2YXIgaT1lLmhhbmRsZXNbdF0sbz10aGlzLl9oYW5kbGVIZWlnaHQ7aS5hdHRyKHtzY2FsZVg6by8yLHNjYWxlWTpvLzIseDpuW3RdKyh0Py0xOjEpLHk6clsxXS8yLW8vMn0pfSksdGhpcyksZS5maWxsZXIuc2V0U2hhcGUoe3g6aVswXSx5OjAsd2lkdGg6aVsxXS1pWzBdLGhlaWdodDpyWzFdfSk7dmFyIG89e3g6aVswXSx3aWR0aDppWzFdLWlbMF19O2UubW92ZUhhbmRsZSYmKGUubW92ZUhhbmRsZS5zZXRTaGFwZShvKSxlLm1vdmVab25lLnNldFNoYXBlKG8pLGUubW92ZVpvbmUuZ2V0Qm91bmRpbmdSZWN0KCksZS5tb3ZlSGFuZGxlSWNvbiYmZS5tb3ZlSGFuZGxlSWNvbi5hdHRyKCJ4IixvLngrby53aWR0aC8yKSk7Zm9yKHZhciBhPWUuZGF0YVNoYWRvd1NlZ3Mscz1bMCxpWzBdLGlbMV0sclswXV0sbD0wO2w8YS5sZW5ndGg7bCsrKXt2YXIgdT1hW2xdLGg9dS5nZXRDbGlwUGF0aCgpO2h8fChoPW5ldyBDcyx1LnNldENsaXBQYXRoKGgpKSxoLnNldFNoYXBlKHt4OnNbbF0seTowLHdpZHRoOnNbbCsxXS1zW2xdLGhlaWdodDpyWzFdfSl9dGhpcy5fdXBkYXRlRGF0YUluZm8odCl9LGUucHJvdG90eXBlLl91cGRhdGVEYXRhSW5mbz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmRhdGFab29tTW9kZWwsbj10aGlzLl9kaXNwbGF5YWJsZXMsaT1uLmhhbmRsZUxhYmVscyxyPXRoaXMuX29yaWVudCxvPVsiIiwiIl07aWYoZS5nZXQoInNob3dEZXRhaWwiKSl7dmFyIGE9ZS5maW5kUmVwcmVzZW50YXRpdmVBeGlzUHJveHkoKTtpZihhKXt2YXIgcz1hLmdldEF4aXNNb2RlbCgpLmF4aXMsbD10aGlzLl9yYW5nZSx1PXQ/YS5jYWxjdWxhdGVEYXRhV2luZG93KHtzdGFydDpsWzBdLGVuZDpsWzFdfSkudmFsdWVXaW5kb3c6YS5nZXREYXRhVmFsdWVXaW5kb3coKTtvPVt0aGlzLl9mb3JtYXRMYWJlbCh1WzBdLHMpLHRoaXMuX2Zvcm1hdExhYmVsKHVbMV0scyldfX12YXIgaD1Wcih0aGlzLl9oYW5kbGVFbmRzLnNsaWNlKCkpO2Z1bmN0aW9uIGModCl7dmFyIGU9SWgobi5oYW5kbGVzW3RdLnBhcmVudCx0aGlzLmdyb3VwKSxhPUNoKDA9PT10PyJyaWdodCI6ImxlZnQiLGUpLHM9dGhpcy5faGFuZGxlV2lkdGgvMis1LGw9VGgoW2hbdF0rKDA9PT10Py1zOnMpLHRoaXMuX3NpemVbMV0vMl0sZSk7aVt0XS5zZXRTdHlsZSh7eDpsWzBdLHk6bFsxXSx2ZXJ0aWNhbEFsaWduOnI9PT1ZQj8ibWlkZGxlIjphLGFsaWduOnI9PT1ZQj9hOiJjZW50ZXIiLHRleHQ6b1t0XX0pfWMuY2FsbCh0aGlzLDApLGMuY2FsbCh0aGlzLDEpfSxlLnByb3RvdHlwZS5fZm9ybWF0TGFiZWw9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmRhdGFab29tTW9kZWwsaT1uLmdldCgibGFiZWxGb3JtYXR0ZXIiKSxyPW4uZ2V0KCJsYWJlbFByZWNpc2lvbiIpO251bGwhPXImJiJhdXRvIiE9PXJ8fChyPWUuZ2V0UGl4ZWxQcmVjaXNpb24oKSk7dmFyIG89bnVsbD09dHx8aXNOYU4odCk/IiI6ImNhdGVnb3J5Ij09PWUudHlwZXx8InRpbWUiPT09ZS50eXBlP2Uuc2NhbGUuZ2V0TGFiZWwoe3ZhbHVlOk1hdGgucm91bmQodCl9KTp0LnRvRml4ZWQoTWF0aC5taW4ociwyMCkpO3JldHVybiBVKGkpP2kodCxvKTpYKGkpP2kucmVwbGFjZSgie3ZhbHVlfSIsbyk6b30sZS5wcm90b3R5cGUuX3Nob3dEYXRhSW5mbz1mdW5jdGlvbih0KXt0PXRoaXMuX2RyYWdnaW5nfHx0O3ZhciBlPXRoaXMuX2Rpc3BsYXlhYmxlcyxuPWUuaGFuZGxlTGFiZWxzO25bMF0uYXR0cigiaW52aXNpYmxlIiwhdCksblsxXS5hdHRyKCJpbnZpc2libGUiLCF0KSxlLm1vdmVIYW5kbGUmJnRoaXMuYXBpW3Q/ImVudGVyRW1waGFzaXMiOiJsZWF2ZUVtcGhhc2lzIl0oZS5tb3ZlSGFuZGxlLDEpfSxlLnByb3RvdHlwZS5fb25EcmFnTW92ZT1mdW5jdGlvbih0LGUsbixpKXt0aGlzLl9kcmFnZ2luZz0hMCxzZShpLmV2ZW50KTt2YXIgcj1UaChbZSxuXSx0aGlzLl9kaXNwbGF5YWJsZXMuc2xpZGVyR3JvdXAuZ2V0TG9jYWxUcmFuc2Zvcm0oKSwhMCksbz10aGlzLl91cGRhdGVJbnRlcnZhbCh0LHJbMF0pLGE9dGhpcy5kYXRhWm9vbU1vZGVsLmdldCgicmVhbHRpbWUiKTt0aGlzLl91cGRhdGVWaWV3KCFhKSxvJiZhJiZ0aGlzLl9kaXNwYXRjaFpvb21BY3Rpb24oITApfSxlLnByb3RvdHlwZS5fb25EcmFnRW5kPWZ1bmN0aW9uKCl7dGhpcy5fZHJhZ2dpbmc9ITEsdGhpcy5fc2hvd0RhdGFJbmZvKCExKSwhdGhpcy5kYXRhWm9vbU1vZGVsLmdldCgicmVhbHRpbWUiKSYmdGhpcy5fZGlzcGF0Y2hab29tQWN0aW9uKCExKX0sZS5wcm90b3R5cGUuX29uQ2xpY2tQYW5lbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zaXplLG49dGhpcy5fZGlzcGxheWFibGVzLnNsaWRlckdyb3VwLnRyYW5zZm9ybUNvb3JkVG9Mb2NhbCh0Lm9mZnNldFgsdC5vZmZzZXRZKTtpZighKG5bMF08MHx8blswXT5lWzBdfHxuWzFdPDB8fG5bMV0+ZVsxXSkpe3ZhciBpPXRoaXMuX2hhbmRsZUVuZHMscj0oaVswXStpWzFdKS8yLG89dGhpcy5fdXBkYXRlSW50ZXJ2YWwoImFsbCIsblswXS1yKTt0aGlzLl91cGRhdGVWaWV3KCksbyYmdGhpcy5fZGlzcGF0Y2hab29tQWN0aW9uKCExKX19LGUucHJvdG90eXBlLl9vbkJydXNoU3RhcnQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5vZmZzZXRYLG49dC5vZmZzZXRZO3RoaXMuX2JydXNoU3RhcnQ9bmV3IEppKGUsbiksdGhpcy5fYnJ1c2hpbmc9ITAsdGhpcy5fYnJ1c2hTdGFydFRpbWU9K25ldyBEYXRlfSxlLnByb3RvdHlwZS5fb25CcnVzaEVuZD1mdW5jdGlvbih0KXtpZih0aGlzLl9icnVzaGluZyl7dmFyIGU9dGhpcy5fZGlzcGxheWFibGVzLmJydXNoUmVjdDtpZih0aGlzLl9icnVzaGluZz0hMSxlKXtlLmF0dHIoImlnbm9yZSIsITApO3ZhciBuPWUuc2hhcGU7aWYoISgrbmV3IERhdGUtdGhpcy5fYnJ1c2hTdGFydFRpbWU8MjAwJiZNYXRoLmFicyhuLndpZHRoKTw1KSl7dmFyIGk9dGhpcy5fZ2V0Vmlld0V4dGVudCgpLHI9WzAsMTAwXTt0aGlzLl9yYW5nZT1WcihbTnIobi54LGksciwhMCksTnIobi54K24ud2lkdGgsaSxyLCEwKV0pLHRoaXMuX2hhbmRsZUVuZHM9W24ueCxuLngrbi53aWR0aF0sdGhpcy5fdXBkYXRlVmlldygpLHRoaXMuX2Rpc3BhdGNoWm9vbUFjdGlvbighMSl9fX19LGUucHJvdG90eXBlLl9vbkJydXNoPWZ1bmN0aW9uKHQpe3RoaXMuX2JydXNoaW5nJiYoc2UodC5ldmVudCksdGhpcy5fdXBkYXRlQnJ1c2hSZWN0KHQub2Zmc2V0WCx0Lm9mZnNldFkpKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUJydXNoUmVjdD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2Rpc3BsYXlhYmxlcyxpPXRoaXMuZGF0YVpvb21Nb2RlbCxyPW4uYnJ1c2hSZWN0O3J8fChyPW4uYnJ1c2hSZWN0PW5ldyBIQih7c2lsZW50OiEwLHN0eWxlOmkuZ2V0TW9kZWwoImJydXNoU3R5bGUiKS5nZXRJdGVtU3R5bGUoKX0pLG4uc2xpZGVyR3JvdXAuYWRkKHIpKSxyLmF0dHIoImlnbm9yZSIsITEpO3ZhciBvPXRoaXMuX2JydXNoU3RhcnQsYT10aGlzLl9kaXNwbGF5YWJsZXMuc2xpZGVyR3JvdXAscz1hLnRyYW5zZm9ybUNvb3JkVG9Mb2NhbCh0LGUpLGw9YS50cmFuc2Zvcm1Db29yZFRvTG9jYWwoby54LG8ueSksdT10aGlzLl9zaXplO3NbMF09TWF0aC5tYXgoTWF0aC5taW4odVswXSxzWzBdKSwwKSxyLnNldFNoYXBlKHt4OmxbMF0seTowLHdpZHRoOnNbMF0tbFswXSxoZWlnaHQ6dVsxXX0pfSxlLnByb3RvdHlwZS5fZGlzcGF0Y2hab29tQWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3JhbmdlO3RoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJkYXRhWm9vbSIsZnJvbTp0aGlzLnVpZCxkYXRhWm9vbUlkOnRoaXMuZGF0YVpvb21Nb2RlbC5pZCxhbmltYXRpb246dD9aQjpudWxsLHN0YXJ0OmVbMF0sZW5kOmVbMV19KX0sZS5wcm90b3R5cGUuX2ZpbmRDb29yZFJlY3Q9ZnVuY3Rpb24oKXt2YXIgdCxlPVRFKHRoaXMuZGF0YVpvb21Nb2RlbCkuaW5mb0xpc3Q7aWYoIXQmJmUubGVuZ3RoKXt2YXIgbj1lWzBdLm1vZGVsLmNvb3JkaW5hdGVTeXN0ZW07dD1uLmdldFJlY3QmJm4uZ2V0UmVjdCgpfWlmKCF0KXt2YXIgaT10aGlzLmFwaS5nZXRXaWR0aCgpLHI9dGhpcy5hcGkuZ2V0SGVpZ2h0KCk7dD17eDouMippLHk6LjIqcix3aWR0aDouNippLGhlaWdodDouNipyfX1yZXR1cm4gdH0sZS50eXBlPSJkYXRhWm9vbS5zbGlkZXIiLGV9KExFKTtmdW5jdGlvbiBxQih0KXtyZXR1cm4idmVydGljYWwiPT09dD8ibnMtcmVzaXplIjoiZXctcmVzaXplIn1mdW5jdGlvbiBLQih0KXt0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoV0IpLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KGpCKSxWRSh0KX12YXIgJEI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPVQoKEpCW3RdfHx7fSlbZV0pO3JldHVybiBuJiZZKGkpP2lbaS5sZW5ndGgtMV06aX0sSkI9e2NvbG9yOnthY3RpdmU6WyIjMDA2ZWRkIiwiI2UwZmZmZiJdLGluYWN0aXZlOlsicmdiYSgwLDAsMCwwKSJdfSxjb2xvckh1ZTp7YWN0aXZlOlswLDM2MF0saW5hY3RpdmU6WzAsMF19LGNvbG9yU2F0dXJhdGlvbjp7YWN0aXZlOlsuMywxXSxpbmFjdGl2ZTpbMCwwXX0sY29sb3JMaWdodG5lc3M6e2FjdGl2ZTpbLjksLjVdLGluYWN0aXZlOlswLDBdfSxjb2xvckFscGhhOnthY3RpdmU6Wy4zLDFdLGluYWN0aXZlOlswLDBdfSxvcGFjaXR5OnthY3RpdmU6Wy4zLDFdLGluYWN0aXZlOlswLDBdfSxzeW1ib2w6e2FjdGl2ZTpbImNpcmNsZSIsInJvdW5kUmVjdCIsImRpYW1vbmQiXSxpbmFjdGl2ZTpbIm5vbmUiXX0sc3ltYm9sU2l6ZTp7YWN0aXZlOlsxMCw1MF0saW5hY3RpdmU6WzAsMF19fSxRQj1uRC5tYXBWaXN1YWwsdEY9bkQuZWFjaFZpc3VhbCxlRj1ZLG5GPUUsaUY9VnIsckY9TnIsb0Y9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLnN0YXRlTGlzdD1bImluUmFuZ2UiLCJvdXRPZlJhbmdlIl0sbi5yZXBsYWNhYmxlT3B0aW9uS2V5cz1bImluUmFuZ2UiLCJvdXRPZlJhbmdlIiwidGFyZ2V0IiwiY29udHJvbGxlciIsImNvbG9yIl0sbi5sYXlvdXRNb2RlPXt0eXBlOiJib3giLGlnbm9yZVNpemU6ITB9LG4uZGF0YUJvdW5kPVstMS8wLDEvMF0sbi50YXJnZXRWaXN1YWxzPXt9LG4uY29udHJvbGxlclZpc3VhbHM9e30sbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlLG4pe3RoaXMubWVyZ2VEZWZhdWx0QW5kVGhlbWUodCxuKX0sZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMub3B0aW9uOyFlJiZ0VihuLHQsdGhpcy5yZXBsYWNhYmxlT3B0aW9uS2V5cyksdGhpcy50ZXh0U3R5bGVNb2RlbD10aGlzLmdldE1vZGVsKCJ0ZXh0U3R5bGUiKSx0aGlzLnJlc2V0SXRlbVNpemUoKSx0aGlzLmNvbXBsZXRlVmlzdWFsT3B0aW9uKCl9LGUucHJvdG90eXBlLnJlc2V0VmlzdWFsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RhdGVMaXN0O3Q9Vyh0LHRoaXMpLHRoaXMuY29udHJvbGxlclZpc3VhbHM9UXoodGhpcy5vcHRpb24uY29udHJvbGxlcixlLHQpLHRoaXMudGFyZ2V0VmlzdWFscz1Reih0aGlzLm9wdGlvbi50YXJnZXQsZSx0KX0sZS5wcm90b3R5cGUuZ2V0SXRlbVN5bWJvbD1mdW5jdGlvbigpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRUYXJnZXRTZXJpZXNJbmRpY2VzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb24uc2VyaWVzSW5kZXgsZT1bXTtyZXR1cm4gbnVsbD09dHx8ImFsbCI9PT10P3RoaXMuZWNNb2RlbC5lYWNoU2VyaWVzKChmdW5jdGlvbih0LG4pe2UucHVzaChuKX0pKTplPWhvKHQpLGV9LGUucHJvdG90eXBlLmVhY2hUYXJnZXRTZXJpZXM9ZnVuY3Rpb24odCxlKXtFKHRoaXMuZ2V0VGFyZ2V0U2VyaWVzSW5kaWNlcygpLChmdW5jdGlvbihuKXt2YXIgaT10aGlzLmVjTW9kZWwuZ2V0U2VyaWVzQnlJbmRleChuKTtpJiZ0LmNhbGwoZSxpKX0pLHRoaXMpfSxlLnByb3RvdHlwZS5pc1RhcmdldFNlcmllcz1mdW5jdGlvbih0KXt2YXIgZT0hMTtyZXR1cm4gdGhpcy5lYWNoVGFyZ2V0U2VyaWVzKChmdW5jdGlvbihuKXtuPT09dCYmKGU9ITApfSkpLGV9LGUucHJvdG90eXBlLmZvcm1hdFZhbHVlVGV4dD1mdW5jdGlvbih0LGUsbil7dmFyIGkscj10aGlzLm9wdGlvbixvPXIucHJlY2lzaW9uLGE9dGhpcy5kYXRhQm91bmQscz1yLmZvcm1hdHRlcjtuPW58fFsiPCIsIj4iXSxZKHQpJiYodD10LnNsaWNlKCksaT0hMCk7dmFyIGw9ZT90Omk/W3UodFswXSksdSh0WzFdKV06dSh0KTtyZXR1cm4gWChzKT9zLnJlcGxhY2UoInt2YWx1ZX0iLGk/bFswXTpsKS5yZXBsYWNlKCJ7dmFsdWUyfSIsaT9sWzFdOmwpOlUocyk/aT9zKHRbMF0sdFsxXSk6cyh0KTppP3RbMF09PT1hWzBdP25bMF0rIiAiK2xbMV06dFsxXT09PWFbMV0/blsxXSsiICIrbFswXTpsWzBdKyIgLSAiK2xbMV06bDtmdW5jdGlvbiB1KHQpe3JldHVybiB0PT09YVswXT8ibWluIjp0PT09YVsxXT8ibWF4IjooK3QpLnRvRml4ZWQoTWF0aC5taW4obywyMCkpfX0sZS5wcm90b3R5cGUucmVzZXRFeHRlbnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbixlPWlGKFt0Lm1pbix0Lm1heF0pO3RoaXMuX2RhdGFFeHRlbnQ9ZX0sZS5wcm90b3R5cGUuZ2V0RGF0YURpbWVuc2lvbkluZGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLmRpbWVuc2lvbjtpZihudWxsIT1lKXJldHVybiB0LmdldERpbWVuc2lvbkluZGV4KGUpO2Zvcih2YXIgbj10LmRpbWVuc2lvbnMsaT1uLmxlbmd0aC0xO2k+PTA7aS0tKXt2YXIgcj1uW2ldLG89dC5nZXREaW1lbnNpb25JbmZvKHIpO2lmKCFvLmlzQ2FsY3VsYXRpb25Db29yZClyZXR1cm4gby5zdG9yZURpbUluZGV4fX0sZS5wcm90b3R5cGUuZ2V0RXh0ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGFFeHRlbnQuc2xpY2UoKX0sZS5wcm90b3R5cGUuY29tcGxldGVWaXN1YWxPcHRpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVjTW9kZWwsZT10aGlzLm9wdGlvbixuPXtpblJhbmdlOmUuaW5SYW5nZSxvdXRPZlJhbmdlOmUub3V0T2ZSYW5nZX0saT1lLnRhcmdldHx8KGUudGFyZ2V0PXt9KSxyPWUuY29udHJvbGxlcnx8KGUuY29udHJvbGxlcj17fSk7QyhpLG4pLEMocixuKTt2YXIgbz10aGlzLmlzQ2F0ZWdvcnkoKTtmdW5jdGlvbiBhKG4pe2VGKGUuY29sb3IpJiYhbi5pblJhbmdlJiYobi5pblJhbmdlPXtjb2xvcjplLmNvbG9yLnNsaWNlKCkucmV2ZXJzZSgpfSksbi5pblJhbmdlPW4uaW5SYW5nZXx8e2NvbG9yOnQuZ2V0KCJncmFkaWVudENvbG9yIil9fWEuY2FsbCh0aGlzLGkpLGEuY2FsbCh0aGlzLHIpLGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10W2VdLHI9dFtuXTtpJiYhciYmKHI9dFtuXT17fSxuRihpLChmdW5jdGlvbih0LGUpe2lmKG5ELmlzVmFsaWRUeXBlKGUpKXt2YXIgbj0kQihlLCJpbmFjdGl2ZSIsbyk7bnVsbCE9biYmKHJbZV09biwiY29sb3IiIT09ZXx8ci5oYXNPd25Qcm9wZXJ0eSgib3BhY2l0eSIpfHxyLmhhc093blByb3BlcnR5KCJjb2xvckFscGhhIil8fChyLm9wYWNpdHk9WzAsMF0pKX19KSkpfS5jYWxsKHRoaXMsaSwiaW5SYW5nZSIsIm91dE9mUmFuZ2UiKSxmdW5jdGlvbih0KXt2YXIgZT0odC5pblJhbmdlfHx7fSkuc3ltYm9sfHwodC5vdXRPZlJhbmdlfHx7fSkuc3ltYm9sLG49KHQuaW5SYW5nZXx8e30pLnN5bWJvbFNpemV8fCh0Lm91dE9mUmFuZ2V8fHt9KS5zeW1ib2xTaXplLGk9dGhpcy5nZXQoImluYWN0aXZlQ29sb3IiKSxyPXRoaXMuZ2V0SXRlbVN5bWJvbCgpfHwicm91bmRSZWN0IjtuRih0aGlzLnN0YXRlTGlzdCwoZnVuY3Rpb24oYSl7dmFyIHM9dGhpcy5pdGVtU2l6ZSxsPXRbYV07bHx8KGw9dFthXT17Y29sb3I6bz9pOltpXX0pLG51bGw9PWwuc3ltYm9sJiYobC5zeW1ib2w9ZSYmVChlKXx8KG8/cjpbcl0pKSxudWxsPT1sLnN5bWJvbFNpemUmJihsLnN5bWJvbFNpemU9biYmVChuKXx8KG8/c1swXTpbc1swXSxzWzBdXSkpLGwuc3ltYm9sPVFCKGwuc3ltYm9sLChmdW5jdGlvbih0KXtyZXR1cm4ibm9uZSI9PT10P3I6dH0pKTt2YXIgdT1sLnN5bWJvbFNpemU7aWYobnVsbCE9dSl7dmFyIGg9LTEvMDt0Rih1LChmdW5jdGlvbih0KXt0PmgmJihoPXQpfSkpLGwuc3ltYm9sU2l6ZT1RQih1LChmdW5jdGlvbih0KXtyZXR1cm4gckYodCxbMCxoXSxbMCxzWzBdXSwhMCl9KSl9fSksdGhpcyl9LmNhbGwodGhpcyxyKX0sZS5wcm90b3R5cGUucmVzZXRJdGVtU2l6ZT1mdW5jdGlvbigpe3RoaXMuaXRlbVNpemU9W3BhcnNlRmxvYXQodGhpcy5nZXQoIml0ZW1XaWR0aCIpKSxwYXJzZUZsb2F0KHRoaXMuZ2V0KCJpdGVtSGVpZ2h0IikpXX0sZS5wcm90b3R5cGUuaXNDYXRlZ29yeT1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5vcHRpb24uY2F0ZWdvcmllc30sZS5wcm90b3R5cGUuc2V0U2VsZWN0ZWQ9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5nZXRTZWxlY3RlZD1mdW5jdGlvbigpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRWYWx1ZVN0YXRlPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRWaXN1YWxNZXRhPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsfSxlLnR5cGU9InZpc3VhbE1hcCIsZS5kZXBlbmRlbmNpZXM9WyJzZXJpZXMiXSxlLmRlZmF1bHRPcHRpb249e3Nob3c6ITAsejo0LHNlcmllc0luZGV4OiJhbGwiLG1pbjowLG1heDoyMDAsbGVmdDowLHJpZ2h0Om51bGwsdG9wOm51bGwsYm90dG9tOjAsaXRlbVdpZHRoOm51bGwsaXRlbUhlaWdodDpudWxsLGludmVyc2U6ITEsb3JpZW50OiJ2ZXJ0aWNhbCIsYmFja2dyb3VuZENvbG9yOiJyZ2JhKDAsMCwwLDApIixib3JkZXJDb2xvcjoiI2NjYyIsY29udGVudENvbG9yOiIjNTc5M2YzIixpbmFjdGl2ZUNvbG9yOiIjYWFhIixib3JkZXJXaWR0aDowLHBhZGRpbmc6NSx0ZXh0R2FwOjEwLHByZWNpc2lvbjowLHRleHRTdHlsZTp7Y29sb3I6IiMzMzMifX0sZX0oVHApLGFGPVsyMCwxNDBdLHNGPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQ9ZnVuY3Rpb24oZSxuKXt0LnByb3RvdHlwZS5vcHRpb25VcGRhdGVkLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLnJlc2V0RXh0ZW50KCksdGhpcy5yZXNldFZpc3VhbCgoZnVuY3Rpb24odCl7dC5tYXBwaW5nTWV0aG9kPSJsaW5lYXIiLHQuZGF0YUV4dGVudD10aGlzLmdldEV4dGVudCgpfSkpLHRoaXMuX3Jlc2V0UmFuZ2UoKX0sZS5wcm90b3R5cGUucmVzZXRJdGVtU2l6ZT1mdW5jdGlvbigpe3QucHJvdG90eXBlLnJlc2V0SXRlbVNpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBlPXRoaXMuaXRlbVNpemU7KG51bGw9PWVbMF18fGlzTmFOKGVbMF0pKSYmKGVbMF09YUZbMF0pLChudWxsPT1lWzFdfHxpc05hTihlWzFdKSkmJihlWzFdPWFGWzFdKX0sZS5wcm90b3R5cGUuX3Jlc2V0UmFuZ2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEV4dGVudCgpLGU9dGhpcy5vcHRpb24ucmFuZ2U7IWV8fGUuYXV0bz8odC5hdXRvPTEsdGhpcy5vcHRpb24ucmFuZ2U9dCk6WShlKSYmKGVbMF0+ZVsxXSYmZS5yZXZlcnNlKCksZVswXT1NYXRoLm1heChlWzBdLHRbMF0pLGVbMV09TWF0aC5taW4oZVsxXSx0WzFdKSl9LGUucHJvdG90eXBlLmNvbXBsZXRlVmlzdWFsT3B0aW9uPWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUuY29tcGxldGVWaXN1YWxPcHRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpLEUodGhpcy5zdGF0ZUxpc3QsKGZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLmNvbnRyb2xsZXJbdF0uc3ltYm9sU2l6ZTtlJiZlWzBdIT09ZVsxXSYmKGVbMF09ZVsxXS8zKX0pLHRoaXMpfSxlLnByb3RvdHlwZS5zZXRTZWxlY3RlZD1mdW5jdGlvbih0KXt0aGlzLm9wdGlvbi5yYW5nZT10LnNsaWNlKCksdGhpcy5fcmVzZXRSYW5nZSgpfSxlLnByb3RvdHlwZS5nZXRTZWxlY3RlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0RXh0ZW50KCksZT1WcigodGhpcy5nZXQoInJhbmdlIil8fFtdKS5zbGljZSgpKTtyZXR1cm4gZVswXT50WzFdJiYoZVswXT10WzFdKSxlWzFdPnRbMV0mJihlWzFdPXRbMV0pLGVbMF08dFswXSYmKGVbMF09dFswXSksZVsxXTx0WzBdJiYoZVsxXT10WzBdKSxlfSxlLnByb3RvdHlwZS5nZXRWYWx1ZVN0YXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLnJhbmdlLG49dGhpcy5nZXRFeHRlbnQoKTtyZXR1cm4oZVswXTw9blswXXx8ZVswXTw9dCkmJihlWzFdPj1uWzFdfHx0PD1lWzFdKT8iaW5SYW5nZSI6Im91dE9mUmFuZ2UifSxlLnByb3RvdHlwZS5maW5kVGFyZ2V0RGF0YUluZGljZXM9ZnVuY3Rpb24odCl7dmFyIGU9W107cmV0dXJuIHRoaXMuZWFjaFRhcmdldFNlcmllcygoZnVuY3Rpb24obil7dmFyIGk9W10scj1uLmdldERhdGEoKTtyLmVhY2godGhpcy5nZXREYXRhRGltZW5zaW9uSW5kZXgociksKGZ1bmN0aW9uKGUsbil7dFswXTw9ZSYmZTw9dFsxXSYmaS5wdXNoKG4pfSksdGhpcyksZS5wdXNoKHtzZXJpZXNJZDpuLmlkLGRhdGFJbmRleDppfSl9KSx0aGlzKSxlfSxlLnByb3RvdHlwZS5nZXRWaXN1YWxNZXRhPWZ1bmN0aW9uKHQpe3ZhciBlPWxGKHRoaXMsIm91dE9mUmFuZ2UiLHRoaXMuZ2V0RXh0ZW50KCkpLG49bEYodGhpcywiaW5SYW5nZSIsdGhpcy5vcHRpb24ucmFuZ2Uuc2xpY2UoKSksaT1bXTtmdW5jdGlvbiByKGUsbil7aS5wdXNoKHt2YWx1ZTplLGNvbG9yOnQoZSxuKX0pfWZvcih2YXIgbz0wLGE9MCxzPW4ubGVuZ3RoLGw9ZS5sZW5ndGg7YTxsJiYoIW4ubGVuZ3RofHxlW2FdPD1uWzBdKTthKyspZVthXTxuW29dJiZyKGVbYV0sIm91dE9mUmFuZ2UiKTtmb3IodmFyIHU9MTtvPHM7bysrLHU9MCl1JiZpLmxlbmd0aCYmcihuW29dLCJvdXRPZlJhbmdlIikscihuW29dLCJpblJhbmdlIik7Zm9yKHU9MTthPGw7YSsrKSghbi5sZW5ndGh8fG5bbi5sZW5ndGgtMV08ZVthXSkmJih1JiYoaS5sZW5ndGgmJnIoaVtpLmxlbmd0aC0xXS52YWx1ZSwib3V0T2ZSYW5nZSIpLHU9MCkscihlW2FdLCJvdXRPZlJhbmdlIikpO3ZhciBoPWkubGVuZ3RoO3JldHVybntzdG9wczppLG91dGVyQ29sb3JzOltoP2lbMF0uY29sb3I6InRyYW5zcGFyZW50IixoP2lbaC0xXS5jb2xvcjoidHJhbnNwYXJlbnQiXX19LGUudHlwZT0idmlzdWFsTWFwLmNvbnRpbnVvdXMiLGUuZGVmYXVsdE9wdGlvbj15YyhvRi5kZWZhdWx0T3B0aW9uLHthbGlnbjoiYXV0byIsY2FsY3VsYWJsZTohMSxob3Zlckxpbms6ITAscmVhbHRpbWU6ITAsaGFuZGxlSWNvbjoicGF0aDovL00tMTEuMzksOS43N2gwYTMuNSwzLjUsMCwwLDEtMy41LDMuNWgtMjJhMy41LDMuNSwwLDAsMS0zLjUtMy41aDBhMy41LDMuNSwwLDAsMSwzLjUtMy41aDIyQTMuNSwzLjUsMCwwLDEtMTEuMzksOS43N1oiLGhhbmRsZVNpemU6IjEyMCUiLGhhbmRsZVN0eWxlOntib3JkZXJDb2xvcjoiI2ZmZiIsYm9yZGVyV2lkdGg6MX0saW5kaWNhdG9ySWNvbjoiY2lyY2xlIixpbmRpY2F0b3JTaXplOiI1MCUiLGluZGljYXRvclN0eWxlOntib3JkZXJDb2xvcjoiI2ZmZiIsYm9yZGVyV2lkdGg6MixzaGFkb3dCbHVyOjIsc2hhZG93T2Zmc2V0WDoxLHNoYWRvd09mZnNldFk6MSxzaGFkb3dDb2xvcjoicmdiYSgwLDAsMCwwLjIpIn19KSxlfShvRik7ZnVuY3Rpb24gbEYodCxlLG4pe2lmKG5bMF09PT1uWzFdKXJldHVybiBuLnNsaWNlKCk7Zm9yKHZhciBpPShuWzFdLW5bMF0pLzIwMCxyPW5bMF0sbz1bXSxhPTA7YTw9MjAwJiZyPG5bMV07YSsrKW8ucHVzaChyKSxyKz1pO3JldHVybiBvLnB1c2goblsxXSksb312YXIgdUY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmF1dG9Qb3NpdGlvblZhbHVlcz17bGVmdDoxLHJpZ2h0OjEsdG9wOjEsYm90dG9tOjF9LG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSl7dGhpcy5lY01vZGVsPXQsdGhpcy5hcGk9ZX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMudmlzdWFsTWFwTW9kZWw9dCwhMSE9PXQuZ2V0KCJzaG93Iik/dGhpcy5kb1JlbmRlcih0LGUsbixpKTp0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSxlLnByb3RvdHlwZS5yZW5kZXJCYWNrZ3JvdW5kPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmlzdWFsTWFwTW9kZWwsbj1pcChlLmdldCgicGFkZGluZyIpfHwwKSxpPXQuZ2V0Qm91bmRpbmdSZWN0KCk7dC5hZGQobmV3IENzKHt6MjotMSxzaWxlbnQ6ITAsc2hhcGU6e3g6aS54LW5bM10seTppLnktblswXSx3aWR0aDppLndpZHRoK25bM10rblsxXSxoZWlnaHQ6aS5oZWlnaHQrblswXStuWzJdfSxzdHlsZTp7ZmlsbDplLmdldCgiYmFja2dyb3VuZENvbG9yIiksc3Ryb2tlOmUuZ2V0KCJib3JkZXJDb2xvciIpLGxpbmVXaWR0aDplLmdldCgiYm9yZGVyV2lkdGgiKX19KSl9LGUucHJvdG90eXBlLmdldENvbnRyb2xsZXJWaXN1YWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPShuPW58fHt9KS5mb3JjZVN0YXRlLHI9dGhpcy52aXN1YWxNYXBNb2RlbCxvPXt9O2lmKCJjb2xvciI9PT1lKXt2YXIgYT1yLmdldCgiY29udGVudENvbG9yIik7by5jb2xvcj1hfWZ1bmN0aW9uIHModCl7cmV0dXJuIG9bdF19ZnVuY3Rpb24gbCh0LGUpe29bdF09ZX12YXIgdT1yLmNvbnRyb2xsZXJWaXN1YWxzW2l8fHIuZ2V0VmFsdWVTdGF0ZSh0KV07cmV0dXJuIEUobkQucHJlcGFyZVZpc3VhbFR5cGVzKHUpLChmdW5jdGlvbihpKXt2YXIgcj11W2ldO24uY29udmVydE9wYWNpdHlUb0FscGhhJiYib3BhY2l0eSI9PT1pJiYoaT0iY29sb3JBbHBoYSIscj11Ll9fYWxwaGFGb3JPcGFjaXR5KSxuRC5kZXBlbmRzT24oaSxlKSYmciYmci5hcHBseVZpc3VhbCh0LHMsbCl9KSksb1tlXX0sZS5wcm90b3R5cGUucG9zaXRpb25Hcm91cD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnZpc3VhbE1hcE1vZGVsLG49dGhpcy5hcGk7X3AodCxlLmdldEJveExheW91dFBhcmFtcygpLHt3aWR0aDpuLmdldFdpZHRoKCksaGVpZ2h0Om4uZ2V0SGVpZ2h0KCl9KX0sZS5wcm90b3R5cGUuZG9SZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7fSxlLnR5cGU9InZpc3VhbE1hcCIsZX0oZ2cpLGhGPVtbImxlZnQiLCJyaWdodCIsIndpZHRoIl0sWyJ0b3AiLCJib3R0b20iLCJoZWlnaHQiXV07ZnVuY3Rpb24gY0YodCxlLG4pe3ZhciBpPXQub3B0aW9uLHI9aS5hbGlnbjtpZihudWxsIT1yJiYiYXV0byIhPT1yKXJldHVybiByO2Zvcih2YXIgbz17d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSxhPSJob3Jpem9udGFsIj09PWkub3JpZW50PzE6MCxzPWhGW2FdLGw9WzAsbnVsbCwxMF0sdT17fSxoPTA7aDwzO2grKyl1W2hGWzEtYV1baF1dPWxbaF0sdVtzW2hdXT0yPT09aD9uWzBdOmlbc1toXV07dmFyIGM9W1sieCIsIndpZHRoIiwzXSxbInkiLCJoZWlnaHQiLDBdXVthXSxwPXhwKHUsbyxpLnBhZGRpbmcpO3JldHVybiBzWyhwLm1hcmdpbltjWzJdXXx8MCkrcFtjWzBdXSsuNSpwW2NbMV1dPC41Km9bY1sxXV0/MDoxXX1mdW5jdGlvbiBwRih0LGUpe3JldHVybiBFKHR8fFtdLChmdW5jdGlvbih0KXtudWxsIT10LmRhdGFJbmRleCYmKHQuZGF0YUluZGV4SW5zaWRlPXQuZGF0YUluZGV4LHQuZGF0YUluZGV4PW51bGwpLHQuaGlnaGxpZ2h0S2V5PSJ2aXN1YWxNYXAiKyhlP2UuY29tcG9uZW50SW5kZXg6IiIpfSkpLHR9dmFyIGRGPU5yLGZGPUUsZ0Y9TWF0aC5taW4seUY9TWF0aC5tYXgsdkY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLl9zaGFwZXM9e30sbi5fZGF0YUludGVydmFsPVtdLG4uX2hhbmRsZUVuZHM9W10sbi5faG92ZXJMaW5rRGF0YUluZGljZXM9W10sbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmRvUmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMuX2FwaT1uLGkmJiJzZWxlY3REYXRhUmFuZ2UiPT09aS50eXBlJiZpLmZyb209PT10aGlzLnVpZHx8dGhpcy5fYnVpbGRWaWV3KCl9LGUucHJvdG90eXBlLl9idWlsZFZpZXc9ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpO3ZhciB0PXRoaXMudmlzdWFsTWFwTW9kZWwsZT10aGlzLmdyb3VwO3RoaXMuX29yaWVudD10LmdldCgib3JpZW50IiksdGhpcy5fdXNlSGFuZGxlPXQuZ2V0KCJjYWxjdWxhYmxlIiksdGhpcy5fcmVzZXRJbnRlcnZhbCgpLHRoaXMuX3JlbmRlckJhcihlKTt2YXIgbj10LmdldCgidGV4dCIpO3RoaXMuX3JlbmRlckVuZHNUZXh0KGUsbiwwKSx0aGlzLl9yZW5kZXJFbmRzVGV4dChlLG4sMSksdGhpcy5fdXBkYXRlVmlldyghMCksdGhpcy5yZW5kZXJCYWNrZ3JvdW5kKGUpLHRoaXMuX3VwZGF0ZVZpZXcoKSx0aGlzLl9lbmFibGVIb3ZlckxpbmtUb1NlcmllcygpLHRoaXMuX2VuYWJsZUhvdmVyTGlua0Zyb21TZXJpZXMoKSx0aGlzLnBvc2l0aW9uR3JvdXAoZSl9LGUucHJvdG90eXBlLl9yZW5kZXJFbmRzVGV4dD1mdW5jdGlvbih0LGUsbil7aWYoZSl7dmFyIGk9ZVsxLW5dO2k9bnVsbCE9aT9pKyIiOiIiO3ZhciByPXRoaXMudmlzdWFsTWFwTW9kZWwsbz1yLmdldCgidGV4dEdhcCIpLGE9ci5pdGVtU2l6ZSxzPXRoaXMuX3NoYXBlcy5tYWluR3JvdXAsbD10aGlzLl9hcHBseVRyYW5zZm9ybShbYVswXS8yLDA9PT1uPy1vOmFbMV0rb10scyksdT10aGlzLl9hcHBseVRyYW5zZm9ybSgwPT09bj8iYm90dG9tIjoidG9wIixzKSxoPXRoaXMuX29yaWVudCxjPXRoaXMudmlzdWFsTWFwTW9kZWwudGV4dFN0eWxlTW9kZWw7dGhpcy5ncm91cC5hZGQobmV3IGtzKHtzdHlsZTpVaChjLHt4OmxbMF0seTpsWzFdLHZlcnRpY2FsQWxpZ246Imhvcml6b250YWwiPT09aD8ibWlkZGxlIjp1LGFsaWduOiJob3Jpem9udGFsIj09PWg/dToiY2VudGVyIix0ZXh0Oml9KX0pKX19LGUucHJvdG90eXBlLl9yZW5kZXJCYXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52aXN1YWxNYXBNb2RlbCxuPXRoaXMuX3NoYXBlcyxpPWUuaXRlbVNpemUscj10aGlzLl9vcmllbnQsbz10aGlzLl91c2VIYW5kbGUsYT1jRihlLHRoaXMuYXBpLGkpLHM9bi5tYWluR3JvdXA9dGhpcy5fY3JlYXRlQmFyR3JvdXAoYSksbD1uZXcgQ3I7cy5hZGQobCksbC5hZGQobi5vdXRPZlJhbmdlPW1GKCkpLGwuYWRkKG4uaW5SYW5nZT1tRihudWxsLG8/X0YodGhpcy5fb3JpZW50KTpudWxsLFcodGhpcy5fZHJhZ0hhbmRsZSx0aGlzLCJhbGwiLCExKSxXKHRoaXMuX2RyYWdIYW5kbGUsdGhpcywiYWxsIiwhMCkpKSxsLnNldENsaXBQYXRoKG5ldyBDcyh7c2hhcGU6e3g6MCx5OjAsd2lkdGg6aVswXSxoZWlnaHQ6aVsxXSxyOjN9fSkpO3ZhciB1PWUudGV4dFN0eWxlTW9kZWwuZ2V0VGV4dFJlY3QoIuWbvSIpLGg9eUYodS53aWR0aCx1LmhlaWdodCk7byYmKG4uaGFuZGxlVGh1bWJzPVtdLG4uaGFuZGxlTGFiZWxzPVtdLG4uaGFuZGxlTGFiZWxQb2ludHM9W10sdGhpcy5fY3JlYXRlSGFuZGxlKGUscywwLGksaCxyKSx0aGlzLl9jcmVhdGVIYW5kbGUoZSxzLDEsaSxoLHIpKSx0aGlzLl9jcmVhdGVJbmRpY2F0b3IoZSxzLGksaCxyKSx0LmFkZChzKX0sZS5wcm90b3R5cGUuX2NyZWF0ZUhhbmRsZT1mdW5jdGlvbih0LGUsbixpLHIsbyl7dmFyIGE9Vyh0aGlzLl9kcmFnSGFuZGxlLHRoaXMsbiwhMSkscz1XKHRoaXMuX2RyYWdIYW5kbGUsdGhpcyxuLCEwKSxsPWdyKHQuZ2V0KCJoYW5kbGVTaXplIiksaVswXSksdT1MeSh0LmdldCgiaGFuZGxlSWNvbiIpLC1sLzIsLWwvMixsLGwsbnVsbCwhMCksaD1fRih0aGlzLl9vcmllbnQpO3UuYXR0cih7Y3Vyc29yOmgsZHJhZ2dhYmxlOiEwLGRyaWZ0OmEsb25kcmFnZW5kOnMsb25tb3VzZW1vdmU6ZnVuY3Rpb24odCl7c2UodC5ldmVudCl9fSksdS54PWlbMF0vMix1LnVzZVN0eWxlKHQuZ2V0TW9kZWwoImhhbmRsZVN0eWxlIikuZ2V0SXRlbVN0eWxlKCkpLHUuc2V0U3R5bGUoe3N0cm9rZU5vU2NhbGU6ITAsc3Ryb2tlRmlyc3Q6ITB9KSx1LnN0eWxlLmxpbmVXaWR0aCo9Mix1LmVuc3VyZVN0YXRlKCJlbXBoYXNpcyIpLnN0eWxlPXQuZ2V0TW9kZWwoWyJlbXBoYXNpcyIsImhhbmRsZVN0eWxlIl0pLmdldEl0ZW1TdHlsZSgpLEJsKHUsITApLGUuYWRkKHUpO3ZhciBjPXRoaXMudmlzdWFsTWFwTW9kZWwudGV4dFN0eWxlTW9kZWwscD1uZXcga3Moe2N1cnNvcjpoLGRyYWdnYWJsZTohMCxkcmlmdDphLG9ubW91c2Vtb3ZlOmZ1bmN0aW9uKHQpe3NlKHQuZXZlbnQpfSxvbmRyYWdlbmQ6cyxzdHlsZTpVaChjLHt4OjAseTowLHRleHQ6IiJ9KX0pO3AuZW5zdXJlU3RhdGUoImJsdXIiKS5zdHlsZT17b3BhY2l0eTouMX0scC5zdGF0ZVRyYW5zaXRpb249e2R1cmF0aW9uOjIwMH0sdGhpcy5ncm91cC5hZGQocCk7dmFyIGQ9W2wsMF0sZj10aGlzLl9zaGFwZXM7Zi5oYW5kbGVUaHVtYnNbbl09dSxmLmhhbmRsZUxhYmVsUG9pbnRzW25dPWQsZi5oYW5kbGVMYWJlbHNbbl09cH0sZS5wcm90b3R5cGUuX2NyZWF0ZUluZGljYXRvcj1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPWdyKHQuZ2V0KCJpbmRpY2F0b3JTaXplIiksblswXSksYT1MeSh0LmdldCgiaW5kaWNhdG9ySWNvbiIpLC1vLzIsLW8vMixvLG8sbnVsbCwhMCk7YS5hdHRyKHtjdXJzb3I6Im1vdmUiLGludmlzaWJsZTohMCxzaWxlbnQ6ITAseDpuWzBdLzJ9KTt2YXIgcz10LmdldE1vZGVsKCJpbmRpY2F0b3JTdHlsZSIpLmdldEl0ZW1TdHlsZSgpO2lmKGEgaW5zdGFuY2VvZiBfcyl7dmFyIGw9YS5zdHlsZTthLnVzZVN0eWxlKEEoe2ltYWdlOmwuaW1hZ2UseDpsLngseTpsLnksd2lkdGg6bC53aWR0aCxoZWlnaHQ6bC5oZWlnaHR9LHMpKX1lbHNlIGEudXNlU3R5bGUocyk7ZS5hZGQoYSk7dmFyIHU9dGhpcy52aXN1YWxNYXBNb2RlbC50ZXh0U3R5bGVNb2RlbCxoPW5ldyBrcyh7c2lsZW50OiEwLGludmlzaWJsZTohMCxzdHlsZTpVaCh1LHt4OjAseTowLHRleHQ6IiJ9KX0pO3RoaXMuZ3JvdXAuYWRkKGgpO3ZhciBjPVsoImhvcml6b250YWwiPT09cj9pLzI6NikrblswXS8yLDBdLHA9dGhpcy5fc2hhcGVzO3AuaW5kaWNhdG9yPWEscC5pbmRpY2F0b3JMYWJlbD1oLHAuaW5kaWNhdG9yTGFiZWxQb2ludD1jLHRoaXMuX2ZpcnN0U2hvd0luZGljYXRvcj0hMH0sZS5wcm90b3R5cGUuX2RyYWdIYW5kbGU9ZnVuY3Rpb24odCxlLG4saSl7aWYodGhpcy5fdXNlSGFuZGxlKXtpZih0aGlzLl9kcmFnZ2luZz0hZSwhZSl7dmFyIHI9dGhpcy5fYXBwbHlUcmFuc2Zvcm0oW24saV0sdGhpcy5fc2hhcGVzLm1haW5Hcm91cCwhMCk7dGhpcy5fdXBkYXRlSW50ZXJ2YWwodCxyWzFdKSx0aGlzLl9oaWRlSW5kaWNhdG9yKCksdGhpcy5fdXBkYXRlVmlldygpfWU9PT0hdGhpcy52aXN1YWxNYXBNb2RlbC5nZXQoInJlYWx0aW1lIikmJnRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJzZWxlY3REYXRhUmFuZ2UiLGZyb206dGhpcy51aWQsdmlzdWFsTWFwSWQ6dGhpcy52aXN1YWxNYXBNb2RlbC5pZCxzZWxlY3RlZDp0aGlzLl9kYXRhSW50ZXJ2YWwuc2xpY2UoKX0pLGU/IXRoaXMuX2hvdmVyaW5nJiZ0aGlzLl9jbGVhckhvdmVyTGlua1RvU2VyaWVzKCk6eEYodGhpcy52aXN1YWxNYXBNb2RlbCkmJnRoaXMuX2RvSG92ZXJMaW5rVG9TZXJpZXModGhpcy5faGFuZGxlRW5kc1t0XSwhMSl9fSxlLnByb3RvdHlwZS5fcmVzZXRJbnRlcnZhbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMudmlzdWFsTWFwTW9kZWwsZT10aGlzLl9kYXRhSW50ZXJ2YWw9dC5nZXRTZWxlY3RlZCgpLG49dC5nZXRFeHRlbnQoKSxpPVswLHQuaXRlbVNpemVbMV1dO3RoaXMuX2hhbmRsZUVuZHM9W2RGKGVbMF0sbixpLCEwKSxkRihlWzFdLG4saSwhMCldfSxlLnByb3RvdHlwZS5fdXBkYXRlSW50ZXJ2YWw9ZnVuY3Rpb24odCxlKXtlPWV8fDA7dmFyIG49dGhpcy52aXN1YWxNYXBNb2RlbCxpPXRoaXMuX2hhbmRsZUVuZHMscj1bMCxuLml0ZW1TaXplWzFdXTtzayhlLGkscix0LDApO3ZhciBvPW4uZ2V0RXh0ZW50KCk7dGhpcy5fZGF0YUludGVydmFsPVtkRihpWzBdLHIsbywhMCksZEYoaVsxXSxyLG8sITApXX0sZS5wcm90b3R5cGUuX3VwZGF0ZVZpZXc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52aXN1YWxNYXBNb2RlbCxuPWUuZ2V0RXh0ZW50KCksaT10aGlzLl9zaGFwZXMscj1bMCxlLml0ZW1TaXplWzFdXSxvPXQ/cjp0aGlzLl9oYW5kbGVFbmRzLGE9dGhpcy5fY3JlYXRlQmFyVmlzdWFsKHRoaXMuX2RhdGFJbnRlcnZhbCxuLG8sImluUmFuZ2UiKSxzPXRoaXMuX2NyZWF0ZUJhclZpc3VhbChuLG4sciwib3V0T2ZSYW5nZSIpO2kuaW5SYW5nZS5zZXRTdHlsZSh7ZmlsbDphLmJhckNvbG9yfSkuc2V0U2hhcGUoInBvaW50cyIsYS5iYXJQb2ludHMpLGkub3V0T2ZSYW5nZS5zZXRTdHlsZSh7ZmlsbDpzLmJhckNvbG9yfSkuc2V0U2hhcGUoInBvaW50cyIscy5iYXJQb2ludHMpLHRoaXMuX3VwZGF0ZUhhbmRsZShvLGEpfSxlLnByb3RvdHlwZS5fY3JlYXRlQmFyVmlzdWFsPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXtmb3JjZVN0YXRlOmksY29udmVydE9wYWNpdHlUb0FscGhhOiEwfSxvPXRoaXMuX21ha2VDb2xvckdyYWRpZW50KHQsciksYT1bdGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKHRbMF0sInN5bWJvbFNpemUiLHIpLHRoaXMuZ2V0Q29udHJvbGxlclZpc3VhbCh0WzFdLCJzeW1ib2xTaXplIixyKV0scz10aGlzLl9jcmVhdGVCYXJQb2ludHMobixhKTtyZXR1cm57YmFyQ29sb3I6bmV3IFh1KDAsMCwwLDEsbyksYmFyUG9pbnRzOnMsaGFuZGxlc0NvbG9yOltvWzBdLmNvbG9yLG9bby5sZW5ndGgtMV0uY29sb3JdfX0sZS5wcm90b3R5cGUuX21ha2VDb2xvckdyYWRpZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49W10saT0odFsxXS10WzBdKS8xMDA7bi5wdXNoKHtjb2xvcjp0aGlzLmdldENvbnRyb2xsZXJWaXN1YWwodFswXSwiY29sb3IiLGUpLG9mZnNldDowfSk7Zm9yKHZhciByPTE7cjwxMDA7cisrKXt2YXIgbz10WzBdK2kqcjtpZihvPnRbMV0pYnJlYWs7bi5wdXNoKHtjb2xvcjp0aGlzLmdldENvbnRyb2xsZXJWaXN1YWwobywiY29sb3IiLGUpLG9mZnNldDpyLzEwMH0pfXJldHVybiBuLnB1c2goe2NvbG9yOnRoaXMuZ2V0Q29udHJvbGxlclZpc3VhbCh0WzFdLCJjb2xvciIsZSksb2Zmc2V0OjF9KSxufSxlLnByb3RvdHlwZS5fY3JlYXRlQmFyUG9pbnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy52aXN1YWxNYXBNb2RlbC5pdGVtU2l6ZTtyZXR1cm5bW25bMF0tZVswXSx0WzBdXSxbblswXSx0WzBdXSxbblswXSx0WzFdXSxbblswXS1lWzFdLHRbMV1dXX0sZS5wcm90b3R5cGUuX2NyZWF0ZUJhckdyb3VwPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX29yaWVudCxuPXRoaXMudmlzdWFsTWFwTW9kZWwuZ2V0KCJpbnZlcnNlIik7cmV0dXJuIG5ldyBDcigiaG9yaXpvbnRhbCIhPT1lfHxuPyJob3Jpem9udGFsIj09PWUmJm4/e3NjYWxlWDoiYm90dG9tIj09PXQ/LTE6MSxyb3RhdGlvbjotTWF0aC5QSS8yfToidmVydGljYWwiIT09ZXx8bj97c2NhbGVYOiJsZWZ0Ij09PXQ/MTotMX06e3NjYWxlWDoibGVmdCI9PT10PzE6LTEsc2NhbGVZOi0xfTp7c2NhbGVYOiJib3R0b20iPT09dD8xOi0xLHJvdGF0aW9uOk1hdGguUEkvMn0pfSxlLnByb3RvdHlwZS5fdXBkYXRlSGFuZGxlPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fdXNlSGFuZGxlKXt2YXIgbj10aGlzLl9zaGFwZXMsaT10aGlzLnZpc3VhbE1hcE1vZGVsLHI9bi5oYW5kbGVUaHVtYnMsbz1uLmhhbmRsZUxhYmVscyxhPWkuaXRlbVNpemUscz1pLmdldEV4dGVudCgpO2ZGKFswLDFdLChmdW5jdGlvbihsKXt2YXIgdT1yW2xdO3Uuc2V0U3R5bGUoImZpbGwiLGUuaGFuZGxlc0NvbG9yW2xdKSx1Lnk9dFtsXTt2YXIgaD1kRih0W2xdLFswLGFbMV1dLHMsITApLGM9dGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKGgsInN5bWJvbFNpemUiKTt1LnNjYWxlWD11LnNjYWxlWT1jL2FbMF0sdS54PWFbMF0tYy8yO3ZhciBwPVRoKG4uaGFuZGxlTGFiZWxQb2ludHNbbF0sSWgodSx0aGlzLmdyb3VwKSk7b1tsXS5zZXRTdHlsZSh7eDpwWzBdLHk6cFsxXSx0ZXh0OmkuZm9ybWF0VmFsdWVUZXh0KHRoaXMuX2RhdGFJbnRlcnZhbFtsXSksdmVydGljYWxBbGlnbjoibWlkZGxlIixhbGlnbjoidmVydGljYWwiPT09dGhpcy5fb3JpZW50P3RoaXMuX2FwcGx5VHJhbnNmb3JtKCJsZWZ0IixuLm1haW5Hcm91cCk6ImNlbnRlciJ9KX0pLHRoaXMpfX0sZS5wcm90b3R5cGUuX3Nob3dJbmRpY2F0b3I9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcy52aXN1YWxNYXBNb2RlbCxvPXIuZ2V0RXh0ZW50KCksYT1yLml0ZW1TaXplLHM9WzAsYVsxXV0sbD10aGlzLl9zaGFwZXMsdT1sLmluZGljYXRvcjtpZih1KXt1LmF0dHIoImludmlzaWJsZSIsITEpO3ZhciBoPXRoaXMuZ2V0Q29udHJvbGxlclZpc3VhbCh0LCJjb2xvciIse2NvbnZlcnRPcGFjaXR5VG9BbHBoYTohMH0pLGM9dGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKHQsInN5bWJvbFNpemUiKSxwPWRGKHQsbyxzLCEwKSxkPWFbMF0tYy8yLGY9e3g6dS54LHk6dS55fTt1Lnk9cCx1Lng9ZDt2YXIgZz1UaChsLmluZGljYXRvckxhYmVsUG9pbnQsSWgodSx0aGlzLmdyb3VwKSkseT1sLmluZGljYXRvckxhYmVsO3kuYXR0cigiaW52aXNpYmxlIiwhMSk7dmFyIHY9dGhpcy5fYXBwbHlUcmFuc2Zvcm0oImxlZnQiLGwubWFpbkdyb3VwKSxtPSJob3Jpem9udGFsIj09PXRoaXMuX29yaWVudDt5LnNldFN0eWxlKHt0ZXh0OihufHwiIikrci5mb3JtYXRWYWx1ZVRleHQoZSksdmVydGljYWxBbGlnbjptP3Y6Im1pZGRsZSIsYWxpZ246bT8iY2VudGVyIjp2fSk7dmFyIHg9e3g6ZCx5OnAsc3R5bGU6e2ZpbGw6aH19LF89e3N0eWxlOnt4OmdbMF0seTpnWzFdfX07aWYoci5lY01vZGVsLmlzQW5pbWF0aW9uRW5hYmxlZCgpJiYhdGhpcy5fZmlyc3RTaG93SW5kaWNhdG9yKXt2YXIgYj17ZHVyYXRpb246MTAwLGVhc2luZzoiY3ViaWNJbk91dCIsYWRkaXRpdmU6ITB9O3UueD1mLngsdS55PWYueSx1LmFuaW1hdGVUbyh4LGIpLHkuYW5pbWF0ZVRvKF8sYil9ZWxzZSB1LmF0dHIoeCkseS5hdHRyKF8pO3RoaXMuX2ZpcnN0U2hvd0luZGljYXRvcj0hMTt2YXIgdz10aGlzLl9zaGFwZXMuaGFuZGxlTGFiZWxzO2lmKHcpZm9yKHZhciBTPTA7Uzx3Lmxlbmd0aDtTKyspdGhpcy5fYXBpLmVudGVyQmx1cih3W1NdKX19LGUucHJvdG90eXBlLl9lbmFibGVIb3ZlckxpbmtUb1Nlcmllcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fc2hhcGVzLm1haW5Hcm91cC5vbigibW91c2Vtb3ZlIiwoZnVuY3Rpb24oZSl7aWYodC5faG92ZXJpbmc9ITAsIXQuX2RyYWdnaW5nKXt2YXIgbj10LnZpc3VhbE1hcE1vZGVsLml0ZW1TaXplLGk9dC5fYXBwbHlUcmFuc2Zvcm0oW2Uub2Zmc2V0WCxlLm9mZnNldFldLHQuX3NoYXBlcy5tYWluR3JvdXAsITAsITApO2lbMV09Z0YoeUYoMCxpWzFdKSxuWzFdKSx0Ll9kb0hvdmVyTGlua1RvU2VyaWVzKGlbMV0sMDw9aVswXSYmaVswXTw9blswXSl9fSkpLm9uKCJtb3VzZW91dCIsKGZ1bmN0aW9uKCl7dC5faG92ZXJpbmc9ITEsIXQuX2RyYWdnaW5nJiZ0Ll9jbGVhckhvdmVyTGlua1RvU2VyaWVzKCl9KSl9LGUucHJvdG90eXBlLl9lbmFibGVIb3ZlckxpbmtGcm9tU2VyaWVzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5hcGkuZ2V0WnIoKTt0aGlzLnZpc3VhbE1hcE1vZGVsLm9wdGlvbi5ob3Zlckxpbms/KHQub24oIm1vdXNlb3ZlciIsdGhpcy5faG92ZXJMaW5rRnJvbVNlcmllc01vdXNlT3Zlcix0aGlzKSx0Lm9uKCJtb3VzZW91dCIsdGhpcy5faGlkZUluZGljYXRvcix0aGlzKSk6dGhpcy5fY2xlYXJIb3ZlckxpbmtGcm9tU2VyaWVzKCl9LGUucHJvdG90eXBlLl9kb0hvdmVyTGlua1RvU2VyaWVzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy52aXN1YWxNYXBNb2RlbCxpPW4uaXRlbVNpemU7aWYobi5vcHRpb24uaG92ZXJMaW5rKXt2YXIgcj1bMCxpWzFdXSxvPW4uZ2V0RXh0ZW50KCk7dD1nRih5RihyWzBdLHQpLHJbMV0pO3ZhciBhPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT02LHI9dC5nZXQoImhvdmVyTGlua0RhdGFTaXplIik7ciYmKGk9ZEYocixlLG4sITApLzIpO3JldHVybiBpfShuLG8scikscz1bdC1hLHQrYV0sbD1kRih0LHIsbywhMCksdT1bZEYoc1swXSxyLG8sITApLGRGKHNbMV0scixvLCEwKV07c1swXTxyWzBdJiYodVswXT0tMS8wKSxzWzFdPnJbMV0mJih1WzFdPTEvMCksZSYmKHVbMF09PT0tMS8wP3RoaXMuX3Nob3dJbmRpY2F0b3IobCx1WzFdLCI8ICIsYSk6dVsxXT09PTEvMD90aGlzLl9zaG93SW5kaWNhdG9yKGwsdVswXSwiPiAiLGEpOnRoaXMuX3Nob3dJbmRpY2F0b3IobCxsLCLiiYggIixhKSk7dmFyIGg9dGhpcy5faG92ZXJMaW5rRGF0YUluZGljZXMsYz1bXTsoZXx8eEYobikpJiYoYz10aGlzLl9ob3ZlckxpbmtEYXRhSW5kaWNlcz1uLmZpbmRUYXJnZXREYXRhSW5kaWNlcyh1KSk7dmFyIHA9ZnVuY3Rpb24odCxlKXt2YXIgbj17fSxpPXt9O3JldHVybiByKHR8fFtdLG4pLHIoZXx8W10saSxuKSxbbyhuKSxvKGkpXTtmdW5jdGlvbiByKHQsZSxuKXtmb3IodmFyIGk9MCxyPXQubGVuZ3RoO2k8cjtpKyspe3ZhciBvPXhvKHRbaV0uc2VyaWVzSWQsbnVsbCk7aWYobnVsbD09bylyZXR1cm47Zm9yKHZhciBhPWhvKHRbaV0uZGF0YUluZGV4KSxzPW4mJm5bb10sbD0wLHU9YS5sZW5ndGg7bDx1O2wrKyl7dmFyIGg9YVtsXTtzJiZzW2hdP3NbaF09bnVsbDooZVtvXXx8KGVbb109e30pKVtoXT0xfX19ZnVuY3Rpb24gbyh0LGUpe3ZhciBuPVtdO2Zvcih2YXIgaSBpbiB0KWlmKHQuaGFzT3duUHJvcGVydHkoaSkmJm51bGwhPXRbaV0paWYoZSluLnB1c2goK2kpO2Vsc2V7dmFyIHI9byh0W2ldLCEwKTtyLmxlbmd0aCYmbi5wdXNoKHtzZXJpZXNJZDppLGRhdGFJbmRleDpyfSl9cmV0dXJuIG59fShoLGMpO3RoaXMuX2Rpc3BhdGNoSGlnaERvd24oImRvd25wbGF5IixwRihwWzBdLG4pKSx0aGlzLl9kaXNwYXRjaEhpZ2hEb3duKCJoaWdobGlnaHQiLHBGKHBbMV0sbikpfX0sZS5wcm90b3R5cGUuX2hvdmVyTGlua0Zyb21TZXJpZXNNb3VzZU92ZXI9ZnVuY3Rpb24odCl7dmFyIGU9dC50YXJnZXQsbj10aGlzLnZpc3VhbE1hcE1vZGVsO2lmKGUmJm51bGwhPUhzKGUpLmRhdGFJbmRleCl7dmFyIGk9SHMoZSkscj10aGlzLmVjTW9kZWwuZ2V0U2VyaWVzQnlJbmRleChpLnNlcmllc0luZGV4KTtpZihuLmlzVGFyZ2V0U2VyaWVzKHIpKXt2YXIgbz1yLmdldERhdGEoaS5kYXRhVHlwZSksYT1vLmdldFN0b3JlKCkuZ2V0KG4uZ2V0RGF0YURpbWVuc2lvbkluZGV4KG8pLGkuZGF0YUluZGV4KTtpc05hTihhKXx8dGhpcy5fc2hvd0luZGljYXRvcihhLGEpfX19LGUucHJvdG90eXBlLl9oaWRlSW5kaWNhdG9yPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc2hhcGVzO3QuaW5kaWNhdG9yJiZ0LmluZGljYXRvci5hdHRyKCJpbnZpc2libGUiLCEwKSx0LmluZGljYXRvckxhYmVsJiZ0LmluZGljYXRvckxhYmVsLmF0dHIoImludmlzaWJsZSIsITApO3ZhciBlPXRoaXMuX3NoYXBlcy5oYW5kbGVMYWJlbHM7aWYoZSlmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0aGlzLl9hcGkubGVhdmVCbHVyKGVbbl0pfSxlLnByb3RvdHlwZS5fY2xlYXJIb3ZlckxpbmtUb1Nlcmllcz1mdW5jdGlvbigpe3RoaXMuX2hpZGVJbmRpY2F0b3IoKTt2YXIgdD10aGlzLl9ob3ZlckxpbmtEYXRhSW5kaWNlczt0aGlzLl9kaXNwYXRjaEhpZ2hEb3duKCJkb3ducGxheSIscEYodCx0aGlzLnZpc3VhbE1hcE1vZGVsKSksdC5sZW5ndGg9MH0sZS5wcm90b3R5cGUuX2NsZWFySG92ZXJMaW5rRnJvbVNlcmllcz1mdW5jdGlvbigpe3RoaXMuX2hpZGVJbmRpY2F0b3IoKTt2YXIgdD10aGlzLmFwaS5nZXRacigpO3Qub2ZmKCJtb3VzZW92ZXIiLHRoaXMuX2hvdmVyTGlua0Zyb21TZXJpZXNNb3VzZU92ZXIpLHQub2ZmKCJtb3VzZW91dCIsdGhpcy5faGlkZUluZGljYXRvcil9LGUucHJvdG90eXBlLl9hcHBseVRyYW5zZm9ybT1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1JaChlLGk/bnVsbDp0aGlzLmdyb3VwKTtyZXR1cm4gWSh0KT9UaCh0LHIsbik6Q2godCxyLG4pfSxlLnByb3RvdHlwZS5fZGlzcGF0Y2hIaWdoRG93bj1mdW5jdGlvbih0LGUpe2UmJmUubGVuZ3RoJiZ0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZTp0LGJhdGNoOmV9KX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFySG92ZXJMaW5rRnJvbVNlcmllcygpLHRoaXMuX2NsZWFySG92ZXJMaW5rVG9TZXJpZXMoKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJIb3ZlckxpbmtGcm9tU2VyaWVzKCksdGhpcy5fY2xlYXJIb3ZlckxpbmtUb1NlcmllcygpfSxlLnR5cGU9InZpc3VhbE1hcC5jb250aW51b3VzIixlfSh1Rik7ZnVuY3Rpb24gbUYodCxlLG4saSl7cmV0dXJuIG5ldyBQdSh7c2hhcGU6e3BvaW50czp0fSxkcmFnZ2FibGU6ISFuLGN1cnNvcjplLGRyaWZ0Om4sb25tb3VzZW1vdmU6ZnVuY3Rpb24odCl7c2UodC5ldmVudCl9LG9uZHJhZ2VuZDppfSl9ZnVuY3Rpb24geEYodCl7dmFyIGU9dC5nZXQoImhvdmVyTGlua09uSGFuZGxlIik7cmV0dXJuISEobnVsbD09ZT90LmdldCgicmVhbHRpbWUiKTplKX1mdW5jdGlvbiBfRih0KXtyZXR1cm4idmVydGljYWwiPT09dD8ibnMtcmVzaXplIjoiZXctcmVzaXplIn12YXIgYkY9e3R5cGU6InNlbGVjdERhdGFSYW5nZSIsZXZlbnQ6ImRhdGFSYW5nZVNlbGVjdGVkIix1cGRhdGU6InVwZGF0ZSJ9LHdGPWZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToidmlzdWFsTWFwIixxdWVyeTp0fSwoZnVuY3Rpb24oZSl7ZS5zZXRTZWxlY3RlZCh0LnNlbGVjdGVkKX0pKX0sU0Y9W3tjcmVhdGVPbkFsbFNlcmllczohMCxyZXNldDpmdW5jdGlvbih0LGUpe3ZhciBuPVtdO3JldHVybiBlLmVhY2hDb21wb25lbnQoInZpc3VhbE1hcCIsKGZ1bmN0aW9uKGUpe3ZhciBpLHIsbyxhLHMsbD10LnBpcGVsaW5lQ29udGV4dDshZS5pc1RhcmdldFNlcmllcyh0KXx8bCYmbC5sYXJnZXx8bi5wdXNoKChpPWUuc3RhdGVMaXN0LHI9ZS50YXJnZXRWaXN1YWxzLG89VyhlLmdldFZhbHVlU3RhdGUsZSksYT1lLmdldERhdGFEaW1lbnNpb25JbmRleCh0LmdldERhdGEoKSkscz17fSxFKGksKGZ1bmN0aW9uKHQpe3ZhciBlPW5ELnByZXBhcmVWaXN1YWxUeXBlcyhyW3RdKTtzW3RdPWV9KSkse3Byb2dyZXNzOmZ1bmN0aW9uKHQsZSl7dmFyIG4saTtmdW5jdGlvbiBsKHQpe3JldHVybiBmeShlLGksdCl9ZnVuY3Rpb24gdSh0LG4pe3l5KGUsaSx0LG4pfW51bGwhPWEmJihuPWUuZ2V0RGltZW5zaW9uSW5kZXgoYSkpO2Zvcih2YXIgaD1lLmdldFN0b3JlKCk7bnVsbCE9KGk9dC5uZXh0KCkpOyl7dmFyIGM9ZS5nZXRSYXdEYXRhSXRlbShpKTtpZighY3x8ITEhPT1jLnZpc3VhbE1hcClmb3IodmFyIHA9bnVsbCE9YT9oLmdldChuLGkpOmksZD1vKHApLGY9cltkXSxnPXNbZF0seT0wLHY9Zy5sZW5ndGg7eTx2O3krKyl7dmFyIG09Z1t5XTtmW21dJiZmW21dLmFwcGx5VmlzdWFsKHAsbCx1KX19fX0pKX0pKSxufX0se2NyZWF0ZU9uQWxsU2VyaWVzOiEwLHJlc2V0OmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXREYXRhKCksaT1bXTtlLmVhY2hDb21wb25lbnQoInZpc3VhbE1hcCIsKGZ1bmN0aW9uKGUpe2lmKGUuaXNUYXJnZXRTZXJpZXModCkpe3ZhciByPWUuZ2V0VmlzdWFsTWV0YShXKE1GLG51bGwsdCxlKSl8fHtzdG9wczpbXSxvdXRlckNvbG9yczpbXX0sbz1lLmdldERhdGFEaW1lbnNpb25JbmRleChuKTtvPj0wJiYoci5kaW1lbnNpb249byxpLnB1c2gocikpfX0pKSx0LmdldERhdGEoKS5zZXRWaXN1YWwoInZpc3VhbE1ldGEiLGkpfX1dO2Z1bmN0aW9uIE1GKHQsZSxuLGkpe2Zvcih2YXIgcj1lLnRhcmdldFZpc3VhbHNbaV0sbz1uRC5wcmVwYXJlVmlzdWFsVHlwZXMociksYT17Y29sb3I6Z3kodC5nZXREYXRhKCksImNvbG9yIil9LHM9MCxsPW8ubGVuZ3RoO3M8bDtzKyspe3ZhciB1PW9bc10saD1yWyJvcGFjaXR5Ij09PXU/Il9fYWxwaGFGb3JPcGFjaXR5Ijp1XTtoJiZoLmFwcGx5VmlzdWFsKG4sYyxwKX1yZXR1cm4gYS5jb2xvcjtmdW5jdGlvbiBjKHQpe3JldHVybiBhW3RdfWZ1bmN0aW9uIHAodCxlKXthW3RdPWV9fXZhciBJRj1FO2Z1bmN0aW9uIFRGKHQpe3ZhciBlPXQmJnQudmlzdWFsTWFwO1koZSl8fChlPWU/W2VdOltdKSxJRihlLChmdW5jdGlvbih0KXtpZih0KXtDRih0LCJzcGxpdExpc3QiKSYmIUNGKHQsInBpZWNlcyIpJiYodC5waWVjZXM9dC5zcGxpdExpc3QsZGVsZXRlIHQuc3BsaXRMaXN0KTt2YXIgZT10LnBpZWNlcztlJiZZKGUpJiZJRihlLChmdW5jdGlvbih0KXtxKHQpJiYoQ0YodCwic3RhcnQiKSYmIUNGKHQsIm1pbiIpJiYodC5taW49dC5zdGFydCksQ0YodCwiZW5kIikmJiFDRih0LCJtYXgiKSYmKHQubWF4PXQuZW5kKSl9KSl9fSkpfWZ1bmN0aW9uIENGKHQsZSl7cmV0dXJuIHQmJnQuaGFzT3duUHJvcGVydHkmJnQuaGFzT3duUHJvcGVydHkoZSl9dmFyIERGPSExO2Z1bmN0aW9uIEFGKHQpe0RGfHwoREY9ITAsdC5yZWdpc3RlclN1YlR5cGVEZWZhdWx0ZXIoInZpc3VhbE1hcCIsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNhdGVnb3JpZXN8fCh0LnBpZWNlcz90LnBpZWNlcy5sZW5ndGg+MDp0LnNwbGl0TnVtYmVyPjApJiYhdC5jYWxjdWxhYmxlPyJwaWVjZXdpc2UiOiJjb250aW51b3VzIn0pKSx0LnJlZ2lzdGVyQWN0aW9uKGJGLHdGKSxFKFNGLChmdW5jdGlvbihlKXt0LnJlZ2lzdGVyVmlzdWFsKHQuUFJJT1JJVFkuVklTVUFMLkNPTVBPTkVOVCxlKX0pKSx0LnJlZ2lzdGVyUHJlcHJvY2Vzc29yKFRGKSl9ZnVuY3Rpb24ga0YodCl7dC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKHNGKSx0LnJlZ2lzdGVyQ29tcG9uZW50Vmlldyh2RiksQUYodCl9dmFyIExGPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5fcGllY2VMaXN0PVtdLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5vcHRpb25VcGRhdGVkPWZ1bmN0aW9uKGUsbil7dC5wcm90b3R5cGUub3B0aW9uVXBkYXRlZC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5yZXNldEV4dGVudCgpO3ZhciBpPXRoaXMuX21vZGU9dGhpcy5fZGV0ZXJtaW5lTW9kZSgpO3RoaXMuX3BpZWNlTGlzdD1bXSxQRlt0aGlzLl9tb2RlXS5jYWxsKHRoaXMsdGhpcy5fcGllY2VMaXN0KSx0aGlzLl9yZXNldFNlbGVjdGVkKGUsbik7dmFyIHI9dGhpcy5vcHRpb24uY2F0ZWdvcmllczt0aGlzLnJlc2V0VmlzdWFsKChmdW5jdGlvbih0LGUpeyJjYXRlZ29yaWVzIj09PWk/KHQubWFwcGluZ01ldGhvZD0iY2F0ZWdvcnkiLHQuY2F0ZWdvcmllcz1UKHIpKToodC5kYXRhRXh0ZW50PXRoaXMuZ2V0RXh0ZW50KCksdC5tYXBwaW5nTWV0aG9kPSJwaWVjZXdpc2UiLHQucGllY2VMaXN0PXoodGhpcy5fcGllY2VMaXN0LChmdW5jdGlvbih0KXtyZXR1cm4gdD1UKHQpLCJpblJhbmdlIiE9PWUmJih0LnZpc3VhbD1udWxsKSx0fSkpKX0pKX0sZS5wcm90b3R5cGUuY29tcGxldGVWaXN1YWxPcHRpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbixuPXt9LGk9bkQubGlzdFZpc3VhbFR5cGVzKCkscj10aGlzLmlzQ2F0ZWdvcnkoKTtmdW5jdGlvbiBvKHQsZSxuKXtyZXR1cm4gdCYmdFtlXSYmdFtlXS5oYXNPd25Qcm9wZXJ0eShuKX1FKGUucGllY2VzLChmdW5jdGlvbih0KXtFKGksKGZ1bmN0aW9uKGUpe3QuaGFzT3duUHJvcGVydHkoZSkmJihuW2VdPTEpfSkpfSkpLEUobiwoZnVuY3Rpb24odCxuKXt2YXIgaT0hMTtFKHRoaXMuc3RhdGVMaXN0LChmdW5jdGlvbih0KXtpPWl8fG8oZSx0LG4pfHxvKGUudGFyZ2V0LHQsbil9KSx0aGlzKSwhaSYmRSh0aGlzLnN0YXRlTGlzdCwoZnVuY3Rpb24odCl7KGVbdF18fChlW3RdPXt9KSlbbl09JEIobiwiaW5SYW5nZSI9PT10PyJhY3RpdmUiOiJpbmFjdGl2ZSIscil9KSl9KSx0aGlzKSx0LnByb3RvdHlwZS5jb21wbGV0ZVZpc3VhbE9wdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLl9yZXNldFNlbGVjdGVkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5vcHRpb24saT10aGlzLl9waWVjZUxpc3Qscj0oZT9uOnQpLnNlbGVjdGVkfHx7fTtpZihuLnNlbGVjdGVkPXIsRShpLChmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZ2V0U2VsZWN0ZWRNYXBLZXkodCk7ci5oYXNPd25Qcm9wZXJ0eShuKXx8KHJbbl09ITApfSksdGhpcyksInNpbmdsZSI9PT1uLnNlbGVjdGVkTW9kZSl7dmFyIG89ITE7RShpLChmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZ2V0U2VsZWN0ZWRNYXBLZXkodCk7cltuXSYmKG8/cltuXT0hMTpvPSEwKX0pLHRoaXMpfX0sZS5wcm90b3R5cGUuZ2V0SXRlbVN5bWJvbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgiaXRlbVN5bWJvbCIpfSxlLnByb3RvdHlwZS5nZXRTZWxlY3RlZE1hcEtleT1mdW5jdGlvbih0KXtyZXR1cm4iY2F0ZWdvcmllcyI9PT10aGlzLl9tb2RlP3QudmFsdWUrIiI6dC5pbmRleCsiIn0sZS5wcm90b3R5cGUuZ2V0UGllY2VMaXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BpZWNlTGlzdH0sZS5wcm90b3R5cGUuX2RldGVybWluZU1vZGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbjtyZXR1cm4gdC5waWVjZXMmJnQucGllY2VzLmxlbmd0aD4wPyJwaWVjZXMiOnRoaXMub3B0aW9uLmNhdGVnb3JpZXM/ImNhdGVnb3JpZXMiOiJzcGxpdE51bWJlciJ9LGUucHJvdG90eXBlLnNldFNlbGVjdGVkPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLnNlbGVjdGVkPVQodCl9LGUucHJvdG90eXBlLmdldFZhbHVlU3RhdGU9ZnVuY3Rpb24odCl7dmFyIGU9bkQuZmluZFBpZWNlSW5kZXgodCx0aGlzLl9waWVjZUxpc3QpO3JldHVybiBudWxsIT1lJiZ0aGlzLm9wdGlvbi5zZWxlY3RlZFt0aGlzLmdldFNlbGVjdGVkTWFwS2V5KHRoaXMuX3BpZWNlTGlzdFtlXSldPyJpblJhbmdlIjoib3V0T2ZSYW5nZSJ9LGUucHJvdG90eXBlLmZpbmRUYXJnZXREYXRhSW5kaWNlcz1mdW5jdGlvbih0KXt2YXIgZT1bXSxuPXRoaXMuX3BpZWNlTGlzdDtyZXR1cm4gdGhpcy5lYWNoVGFyZ2V0U2VyaWVzKChmdW5jdGlvbihpKXt2YXIgcj1bXSxvPWkuZ2V0RGF0YSgpO28uZWFjaCh0aGlzLmdldERhdGFEaW1lbnNpb25JbmRleChvKSwoZnVuY3Rpb24oZSxpKXtuRC5maW5kUGllY2VJbmRleChlLG4pPT09dCYmci5wdXNoKGkpfSksdGhpcyksZS5wdXNoKHtzZXJpZXNJZDppLmlkLGRhdGFJbmRleDpyfSl9KSx0aGlzKSxlfSxlLnByb3RvdHlwZS5nZXRSZXByZXNlbnRWYWx1ZT1mdW5jdGlvbih0KXt2YXIgZTtpZih0aGlzLmlzQ2F0ZWdvcnkoKSllPXQudmFsdWU7ZWxzZSBpZihudWxsIT10LnZhbHVlKWU9dC52YWx1ZTtlbHNle3ZhciBuPXQuaW50ZXJ2YWx8fFtdO2U9blswXT09PS0xLzAmJm5bMV09PT0xLzA/MDooblswXStuWzFdKS8yfXJldHVybiBlfSxlLnByb3RvdHlwZS5nZXRWaXN1YWxNZXRhPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmlzQ2F0ZWdvcnkoKSl7dmFyIGU9W10sbj1bIiIsIiJdLGk9dGhpcyxyPXRoaXMuX3BpZWNlTGlzdC5zbGljZSgpO2lmKHIubGVuZ3RoKXt2YXIgbz1yWzBdLmludGVydmFsWzBdO28hPT0tMS8wJiZyLnVuc2hpZnQoe2ludGVydmFsOlstMS8wLG9dfSksKG89cltyLmxlbmd0aC0xXS5pbnRlcnZhbFsxXSkhPT0xLzAmJnIucHVzaCh7aW50ZXJ2YWw6W28sMS8wXX0pfWVsc2Ugci5wdXNoKHtpbnRlcnZhbDpbLTEvMCwxLzBdfSk7dmFyIGE9LTEvMDtyZXR1cm4gRShyLChmdW5jdGlvbih0KXt2YXIgZT10LmludGVydmFsO2UmJihlWzBdPmEmJnMoW2EsZVswXV0sIm91dE9mUmFuZ2UiKSxzKGUuc2xpY2UoKSksYT1lWzFdKX0pLHRoaXMpLHtzdG9wczplLG91dGVyQ29sb3JzOm59fWZ1bmN0aW9uIHMocixvKXt2YXIgYT1pLmdldFJlcHJlc2VudFZhbHVlKHtpbnRlcnZhbDpyfSk7b3x8KG89aS5nZXRWYWx1ZVN0YXRlKGEpKTt2YXIgcz10KGEsbyk7clswXT09PS0xLzA/blswXT1zOnJbMV09PT0xLzA/blsxXT1zOmUucHVzaCh7dmFsdWU6clswXSxjb2xvcjpzfSx7dmFsdWU6clsxXSxjb2xvcjpzfSl9fSxlLnR5cGU9InZpc3VhbE1hcC5waWVjZXdpc2UiLGUuZGVmYXVsdE9wdGlvbj15YyhvRi5kZWZhdWx0T3B0aW9uLHtzZWxlY3RlZDpudWxsLG1pbk9wZW46ITEsbWF4T3BlbjohMSxhbGlnbjoiYXV0byIsaXRlbVdpZHRoOjIwLGl0ZW1IZWlnaHQ6MTQsaXRlbVN5bWJvbDoicm91bmRSZWN0IixwaWVjZXM6bnVsbCxjYXRlZ29yaWVzOm51bGwsc3BsaXROdW1iZXI6NSxzZWxlY3RlZE1vZGU6Im11bHRpcGxlIixpdGVtR2FwOjEwLGhvdmVyTGluazohMH0pLGV9KG9GKSxQRj17c3BsaXROdW1iZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24sbj1NYXRoLm1pbihlLnByZWNpc2lvbiwyMCksaT10aGlzLmdldEV4dGVudCgpLHI9ZS5zcGxpdE51bWJlcjtyPU1hdGgubWF4KHBhcnNlSW50KHIsMTApLDEpLGUuc3BsaXROdW1iZXI9cjtmb3IodmFyIG89KGlbMV0taVswXSkvcjsrby50b0ZpeGVkKG4pIT09byYmbjw1OyluKys7ZS5wcmVjaXNpb249bixvPStvLnRvRml4ZWQobiksZS5taW5PcGVuJiZ0LnB1c2goe2ludGVydmFsOlstMS8wLGlbMF1dLGNsb3NlOlswLDBdfSk7Zm9yKHZhciBhPTAscz1pWzBdO2E8cjtzKz1vLGErKyl7dmFyIGw9YT09PXItMT9pWzFdOnMrbzt0LnB1c2goe2ludGVydmFsOltzLGxdLGNsb3NlOlsxLDFdfSl9ZS5tYXhPcGVuJiZ0LnB1c2goe2ludGVydmFsOltpWzFdLDEvMF0sY2xvc2U6WzAsMF19KSxRcih0KSxFKHQsKGZ1bmN0aW9uKHQsZSl7dC5pbmRleD1lLHQudGV4dD10aGlzLmZvcm1hdFZhbHVlVGV4dCh0LmludGVydmFsKX0pLHRoaXMpfSxjYXRlZ29yaWVzOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uO0UoZS5jYXRlZ29yaWVzLChmdW5jdGlvbihlKXt0LnB1c2goe3RleHQ6dGhpcy5mb3JtYXRWYWx1ZVRleHQoZSwhMCksdmFsdWU6ZX0pfSksdGhpcyksT0YoZSx0KX0scGllY2VzOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uO0UoZS5waWVjZXMsKGZ1bmN0aW9uKGUsbil7cShlKXx8KGU9e3ZhbHVlOmV9KTt2YXIgaT17dGV4dDoiIixpbmRleDpufTtpZihudWxsIT1lLmxhYmVsJiYoaS50ZXh0PWUubGFiZWwpLGUuaGFzT3duUHJvcGVydHkoInZhbHVlIikpe3ZhciByPWkudmFsdWU9ZS52YWx1ZTtpLmludGVydmFsPVtyLHJdLGkuY2xvc2U9WzEsMV19ZWxzZXtmb3IodmFyIG89aS5pbnRlcnZhbD1bXSxhPWkuY2xvc2U9WzAsMF0scz1bMSwwLDFdLGw9Wy0xLzAsMS8wXSx1PVtdLGg9MDtoPDI7aCsrKXtmb3IodmFyIGM9W1siZ3RlIiwiZ3QiLCJtaW4iXSxbImx0ZSIsImx0IiwibWF4Il1dW2hdLHA9MDtwPDMmJm51bGw9PW9baF07cCsrKW9baF09ZVtjW3BdXSxhW2hdPXNbcF0sdVtoXT0yPT09cDtudWxsPT1vW2hdJiYob1toXT1sW2hdKX11WzBdJiZvWzFdPT09MS8wJiYoYVswXT0wKSx1WzFdJiZvWzBdPT09LTEvMCYmKGFbMV09MCksb1swXT09PW9bMV0mJmFbMF0mJmFbMV0mJihpLnZhbHVlPW9bMF0pfWkudmlzdWFsPW5ELnJldHJpZXZlVmlzdWFscyhlKSx0LnB1c2goaSl9KSx0aGlzKSxPRihlLHQpLFFyKHQpLEUodCwoZnVuY3Rpb24odCl7dmFyIGU9dC5jbG9zZSxuPVtbIjwiLCLiiaQiXVtlWzFdXSxbIj4iLCLiiaUiXVtlWzBdXV07dC50ZXh0PXQudGV4dHx8dGhpcy5mb3JtYXRWYWx1ZVRleHQobnVsbCE9dC52YWx1ZT90LnZhbHVlOnQuaW50ZXJ2YWwsITEsbil9KSx0aGlzKX19O2Z1bmN0aW9uIE9GKHQsZSl7dmFyIG49dC5pbnZlcnNlOygidmVydGljYWwiPT09dC5vcmllbnQ/IW46bikmJmUucmV2ZXJzZSgpfXZhciBSRj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5kb1JlbmRlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ3JvdXA7dC5yZW1vdmVBbGwoKTt2YXIgZT10aGlzLnZpc3VhbE1hcE1vZGVsLG49ZS5nZXQoInRleHRHYXAiKSxpPWUudGV4dFN0eWxlTW9kZWwscj1pLmdldEZvbnQoKSxvPWkuZ2V0VGV4dENvbG9yKCksYT10aGlzLl9nZXRJdGVtQWxpZ24oKSxzPWUuaXRlbVNpemUsbD10aGlzLl9nZXRWaWV3RGF0YSgpLHU9bC5lbmRzVGV4dCxoPWl0KGUuZ2V0KCJzaG93TGFiZWwiLCEwKSwhdSk7dSYmdGhpcy5fcmVuZGVyRW5kc1RleHQodCx1WzBdLHMsaCxhKSxFKGwudmlld1BpZWNlTGlzdCwoZnVuY3Rpb24oaSl7dmFyIGw9aS5waWVjZSx1PW5ldyBDcjt1Lm9uY2xpY2s9Vyh0aGlzLl9vbkl0ZW1DbGljayx0aGlzLGwpLHRoaXMuX2VuYWJsZUhvdmVyTGluayh1LGkuaW5kZXhJbk1vZGVsUGllY2VMaXN0KTt2YXIgYz1lLmdldFJlcHJlc2VudFZhbHVlKGwpO2lmKHRoaXMuX2NyZWF0ZUl0ZW1TeW1ib2wodSxjLFswLDAsc1swXSxzWzFdXSksaCl7dmFyIHA9dGhpcy52aXN1YWxNYXBNb2RlbC5nZXRWYWx1ZVN0YXRlKGMpO3UuYWRkKG5ldyBrcyh7c3R5bGU6e3g6InJpZ2h0Ij09PWE/LW46c1swXStuLHk6c1sxXS8yLHRleHQ6bC50ZXh0LHZlcnRpY2FsQWxpZ246Im1pZGRsZSIsYWxpZ246YSxmb250OnIsZmlsbDpvLG9wYWNpdHk6Im91dE9mUmFuZ2UiPT09cD8uNToxfX0pKX10LmFkZCh1KX0pLHRoaXMpLHUmJnRoaXMuX3JlbmRlckVuZHNUZXh0KHQsdVsxXSxzLGgsYSksbXAoZS5nZXQoIm9yaWVudCIpLHQsZS5nZXQoIml0ZW1HYXAiKSksdGhpcy5yZW5kZXJCYWNrZ3JvdW5kKHQpLHRoaXMucG9zaXRpb25Hcm91cCh0KX0sZS5wcm90b3R5cGUuX2VuYWJsZUhvdmVyTGluaz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dC5vbigibW91c2VvdmVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gaSgiaGlnaGxpZ2h0Iil9KSkub24oIm1vdXNlb3V0IiwoZnVuY3Rpb24oKXtyZXR1cm4gaSgiZG93bnBsYXkiKX0pKTt2YXIgaT1mdW5jdGlvbih0KXt2YXIgaT1uLnZpc3VhbE1hcE1vZGVsO2kub3B0aW9uLmhvdmVyTGluayYmbi5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6dCxiYXRjaDpwRihpLmZpbmRUYXJnZXREYXRhSW5kaWNlcyhlKSxpKX0pfX0sZS5wcm90b3R5cGUuX2dldEl0ZW1BbGlnbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMudmlzdWFsTWFwTW9kZWwsZT10Lm9wdGlvbjtpZigidmVydGljYWwiPT09ZS5vcmllbnQpcmV0dXJuIGNGKHQsdGhpcy5hcGksdC5pdGVtU2l6ZSk7dmFyIG49ZS5hbGlnbjtyZXR1cm4gbiYmImF1dG8iIT09bnx8KG49ImxlZnQiKSxufSxlLnByb3RvdHlwZS5fcmVuZGVyRW5kc1RleHQ9ZnVuY3Rpb24odCxlLG4saSxyKXtpZihlKXt2YXIgbz1uZXcgQ3IsYT10aGlzLnZpc3VhbE1hcE1vZGVsLnRleHRTdHlsZU1vZGVsO28uYWRkKG5ldyBrcyh7c3R5bGU6VWgoYSx7eDppPyJyaWdodCI9PT1yP25bMF06MDpuWzBdLzIseTpuWzFdLzIsdmVydGljYWxBbGlnbjoibWlkZGxlIixhbGlnbjppP3I6ImNlbnRlciIsdGV4dDplfSl9KSksdC5hZGQobyl9fSxlLnByb3RvdHlwZS5fZ2V0Vmlld0RhdGE9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnZpc3VhbE1hcE1vZGVsLGU9eih0LmdldFBpZWNlTGlzdCgpLChmdW5jdGlvbih0LGUpe3JldHVybntwaWVjZTp0LGluZGV4SW5Nb2RlbFBpZWNlTGlzdDplfX0pKSxuPXQuZ2V0KCJ0ZXh0IiksaT10LmdldCgib3JpZW50Iikscj10LmdldCgiaW52ZXJzZSIpO3JldHVybigiaG9yaXpvbnRhbCI9PT1pP3I6IXIpP2UucmV2ZXJzZSgpOm4mJihuPW4uc2xpY2UoKS5yZXZlcnNlKCkpLHt2aWV3UGllY2VMaXN0OmUsZW5kc1RleHQ6bn19LGUucHJvdG90eXBlLl9jcmVhdGVJdGVtU3ltYm9sPWZ1bmN0aW9uKHQsZSxuKXt0LmFkZChMeSh0aGlzLmdldENvbnRyb2xsZXJWaXN1YWwoZSwic3ltYm9sIiksblswXSxuWzFdLG5bMl0sblszXSx0aGlzLmdldENvbnRyb2xsZXJWaXN1YWwoZSwiY29sb3IiKSkpfSxlLnByb3RvdHlwZS5fb25JdGVtQ2xpY2s9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52aXN1YWxNYXBNb2RlbCxuPWUub3B0aW9uLGk9VChuLnNlbGVjdGVkKSxyPWUuZ2V0U2VsZWN0ZWRNYXBLZXkodCk7InNpbmdsZSI9PT1uLnNlbGVjdGVkTW9kZT8oaVtyXT0hMCxFKGksKGZ1bmN0aW9uKHQsZSl7aVtlXT1lPT09cn0pKSk6aVtyXT0haVtyXSx0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToic2VsZWN0RGF0YVJhbmdlIixmcm9tOnRoaXMudWlkLHZpc3VhbE1hcElkOnRoaXMudmlzdWFsTWFwTW9kZWwuaWQsc2VsZWN0ZWQ6aX0pfSxlLnR5cGU9InZpc3VhbE1hcC5waWVjZXdpc2UiLGV9KHVGKTtmdW5jdGlvbiBORih0KXt0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoTEYpLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KFJGKSxBRih0KX12YXIgRUY9e2xhYmVsOntlbmFibGVkOiEwfSxkZWNhbDp7c2hvdzohMX19LHpGPVNvKCksVkY9e307ZnVuY3Rpb24gQkYodCxlKXt2YXIgbj10LmdldE1vZGVsKCJhcmlhIik7aWYobi5nZXQoImVuYWJsZWQiKSl7dmFyIGk9VChFRik7QyhpLmxhYmVsLHQuZ2V0TG9jYWxlTW9kZWwoKS5nZXQoImFyaWEiKSwhMSksQyhuLm9wdGlvbixpLCExKSxmdW5jdGlvbigpe2lmKG4uZ2V0TW9kZWwoImRlY2FsIikuZ2V0KCJzaG93Iikpe3ZhciBlPWZ0KCk7dC5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXtpZighdC5pc0NvbG9yQnlTZXJpZXMoKSl7dmFyIG49ZS5nZXQodC50eXBlKTtufHwobj17fSxlLnNldCh0LnR5cGUsbikpLHpGKHQpLnNjb3BlPW59fSkpLHQuZWFjaFJhd1NlcmllcygoZnVuY3Rpb24oZSl7aWYoIXQuaXNTZXJpZXNGaWx0ZXJlZChlKSlpZihVKGUuZW5hYmxlQXJpYURlY2FsKSllLmVuYWJsZUFyaWFEZWNhbCgpO2Vsc2V7dmFyIG49ZS5nZXREYXRhKCk7aWYoZS5pc0NvbG9yQnlTZXJpZXMoKSl7dmFyIGk9ZWQoZS5lY01vZGVsLGUubmFtZSxWRix0LmdldFNlcmllc0NvdW50KCkpLHI9bi5nZXRWaXN1YWwoImRlY2FsIik7bi5zZXRWaXN1YWwoImRlY2FsIix1KHIsaSkpfWVsc2V7dmFyIG89ZS5nZXRSYXdEYXRhKCksYT17fSxzPXpGKGUpLnNjb3BlO24uZWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9bi5nZXRSYXdJbmRleCh0KTthW2VdPXR9KSk7dmFyIGw9by5jb3VudCgpO28uZWFjaCgoZnVuY3Rpb24odCl7dmFyIGk9YVt0XSxyPW8uZ2V0TmFtZSh0KXx8dCsiIixoPWVkKGUuZWNNb2RlbCxyLHMsbCksYz1uLmdldEl0ZW1WaXN1YWwoaSwiZGVjYWwiKTtuLnNldEl0ZW1WaXN1YWwoaSwiZGVjYWwiLHUoYyxoKSl9KSl9fWZ1bmN0aW9uIHUodCxlKXt2YXIgbj10P0EoQSh7fSxlKSx0KTplO3JldHVybiBuLmRpcnR5PSEwLG59fSkpfX0oKSxmdW5jdGlvbigpe3ZhciBpPXQuZ2V0TG9jYWxlTW9kZWwoKS5nZXQoImFyaWEiKSxvPW4uZ2V0TW9kZWwoImxhYmVsIik7aWYoby5vcHRpb249ayhvLm9wdGlvbixpKSwhby5nZXQoImVuYWJsZWQiKSlyZXR1cm47dmFyIGE9ZS5nZXRacigpLmRvbTtpZihvLmdldCgiZGVzY3JpcHRpb24iKSlyZXR1cm4gdm9pZCBhLnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIsby5nZXQoImRlc2NyaXB0aW9uIikpO3ZhciBzLGw9dC5nZXRTZXJpZXNDb3VudCgpLHU9by5nZXQoWyJkYXRhIiwibWF4Q291bnQiXSl8fDEwLGg9by5nZXQoWyJzZXJpZXMiLCJtYXhDb3VudCJdKXx8MTAsYz1NYXRoLm1pbihsLGgpO2lmKGw8MSlyZXR1cm47dmFyIHA9ZnVuY3Rpb24oKXt2YXIgZT10LmdldCgidGl0bGUiKTtlJiZlLmxlbmd0aCYmKGU9ZVswXSk7cmV0dXJuIGUmJmUudGV4dH0oKTtpZihwKXt2YXIgZD1vLmdldChbImdlbmVyYWwiLCJ3aXRoVGl0bGUiXSk7cz1yKGQse3RpdGxlOnB9KX1lbHNlIHM9by5nZXQoWyJnZW5lcmFsIiwid2l0aG91dFRpdGxlIl0pO3ZhciBmPVtdLGc9bD4xP28uZ2V0KFsic2VyaWVzIiwibXVsdGlwbGUiLCJwcmVmaXgiXSk6by5nZXQoWyJzZXJpZXMiLCJzaW5nbGUiLCJwcmVmaXgiXSk7cys9cihnLHtzZXJpZXNDb3VudDpsfSksdC5lYWNoU2VyaWVzKChmdW5jdGlvbihlLG4pe2lmKG48Yyl7dmFyIGk9dm9pZCAwLGE9ZS5nZXQoIm5hbWUiKT8id2l0aE5hbWUiOiJ3aXRob3V0TmFtZSI7aT1yKGk9bD4xP28uZ2V0KFsic2VyaWVzIiwibXVsdGlwbGUiLGFdKTpvLmdldChbInNlcmllcyIsInNpbmdsZSIsYV0pLHtzZXJpZXNJZDplLnNlcmllc0luZGV4LHNlcmllc05hbWU6ZS5nZXQoIm5hbWUiKSxzZXJpZXNUeXBlOih4PWUuc3ViVHlwZSx0LmdldExvY2FsZU1vZGVsKCkuZ2V0KFsic2VyaWVzIiwidHlwZU5hbWVzIl0pW3hdfHwi6Ieq5a6a5LmJ5Zu+Iil9KTt2YXIgcz1lLmdldERhdGEoKTtpZihzLmNvdW50KCk+dSlpKz1yKG8uZ2V0KFsiZGF0YSIsInBhcnRpYWxEYXRhIl0pLHtkaXNwbGF5Q250OnV9KTtlbHNlIGkrPW8uZ2V0KFsiZGF0YSIsImFsbERhdGEiXSk7Zm9yKHZhciBoPW8uZ2V0KFsiZGF0YSIsInNlcGFyYXRvciIsIm1pZGRsZSJdKSxwPW8uZ2V0KFsiZGF0YSIsInNlcGFyYXRvciIsImVuZCJdKSxkPVtdLGc9MDtnPHMuY291bnQoKTtnKyspaWYoZzx1KXt2YXIgeT1zLmdldE5hbWUoZyksdj1zLmdldFZhbHVlcyhnKSxtPW8uZ2V0KFsiZGF0YSIseT8id2l0aE5hbWUiOiJ3aXRob3V0TmFtZSJdKTtkLnB1c2gocihtLHtuYW1lOnksdmFsdWU6di5qb2luKGgpfSkpfWkrPWQuam9pbihoKStwLGYucHVzaChpKX12YXIgeH0pKTt2YXIgeT1vLmdldE1vZGVsKFsic2VyaWVzIiwibXVsdGlwbGUiLCJzZXBhcmF0b3IiXSksdj15LmdldCgibWlkZGxlIiksbT15LmdldCgiZW5kIik7cys9Zi5qb2luKHYpK20sYS5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiLHMpfSgpfWZ1bmN0aW9uIHIodCxlKXtpZighWCh0KSlyZXR1cm4gdDt2YXIgbj10O3JldHVybiBFKGUsKGZ1bmN0aW9uKHQsZSl7bj1uLnJlcGxhY2UobmV3IFJlZ0V4cCgiXFx7XFxzKiIrZSsiXFxzKlxcfSIsImciKSx0KX0pKSxufX1mdW5jdGlvbiBGRih0KXtpZih0JiZ0LmFyaWEpe3ZhciBlPXQuYXJpYTtudWxsIT1lLnNob3cmJihlLmVuYWJsZWQ9ZS5zaG93KSxlLmxhYmVsPWUubGFiZWx8fHt9LEUoWyJkZXNjcmlwdGlvbiIsImdlbmVyYWwiLCJzZXJpZXMiLCJkYXRhIl0sKGZ1bmN0aW9uKHQpe251bGwhPWVbdF0mJihlLmxhYmVsW3RdPWVbdF0pfSkpfX12YXIgR0Y9e3ZhbHVlOiJlcSIsIjwiOiJsdCIsIjw9IjoibHRlIiwiPiI6Imd0IiwiPj0iOiJndGUiLCI9IjoiZXEiLCIhPSI6Im5lIiwiPD4iOiJuZSJ9LFdGPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtpZihudWxsPT0odGhpcy5fY29uZFZhbD1YKHQpP25ldyBSZWdFeHAodCk6ZXQodCk/dDpudWxsKSl7dmFyIGU9IiI7MCxhbyhlKX19cmV0dXJuIHQucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXR5cGVvZiB0O3JldHVybiBYKGUpP3RoaXMuX2NvbmRWYWwudGVzdCh0KTohIWooZSkmJnRoaXMuX2NvbmRWYWwudGVzdCh0KyIiKX0sdH0oKSxIRj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWV9LHR9KCksWUY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmNoaWxkcmVuLGU9MDtlPHQubGVuZ3RoO2UrKylpZighdFtlXS5ldmFsdWF0ZSgpKXJldHVybiExO3JldHVybiEwfSx0fSgpLFVGPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5jaGlsZHJlbixlPTA7ZTx0Lmxlbmd0aDtlKyspaWYodFtlXS5ldmFsdWF0ZSgpKXJldHVybiEwO3JldHVybiExfSx0fSgpLFhGPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5jaGlsZC5ldmFsdWF0ZSgpfSx0fSgpLFpGPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9ISF0aGlzLnZhbHVlUGFyc2VyLGU9KDAsdGhpcy5nZXRWYWx1ZSkodGhpcy52YWx1ZUdldHRlclBhcmFtKSxuPXQ/dGhpcy52YWx1ZVBhcnNlcihlKTpudWxsLGk9MDtpPHRoaXMuc3ViQ29uZExpc3QubGVuZ3RoO2krKylpZighdGhpcy5zdWJDb25kTGlzdFtpXS5ldmFsdWF0ZSh0P246ZSkpcmV0dXJuITE7cmV0dXJuITB9LHR9KCk7ZnVuY3Rpb24gakYodCxlKXtpZighMD09PXR8fCExPT09dCl7dmFyIG49bmV3IEhGO3JldHVybiBuLnZhbHVlPXQsbn12YXIgaT0iIjtyZXR1cm4gS0YodCl8fGFvKGkpLHQuYW5kP3FGKCJhbmQiLHQsZSk6dC5vcj9xRigib3IiLHQsZSk6dC5ub3Q/ZnVuY3Rpb24odCxlKXt2YXIgbj10Lm5vdCxpPSIiOzA7S0Yobil8fGFvKGkpO3ZhciByPW5ldyBYRjtyLmNoaWxkPWpGKG4sZSksci5jaGlsZHx8YW8oaSk7cmV0dXJuIHJ9KHQsZSk6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49IiIsaT1lLnByZXBhcmVHZXRWYWx1ZSh0KSxyPVtdLG89Ryh0KSxhPXQucGFyc2VyLHM9YT9nZihhKTpudWxsLGw9MDtsPG8ubGVuZ3RoO2wrKyl7dmFyIHU9b1tsXTtpZigicGFyc2VyIiE9PXUmJiFlLnZhbHVlR2V0dGVyQXR0ck1hcC5nZXQodSkpe3ZhciBoPW10KEdGLHUpP0dGW3VdOnUsYz10W3VdLHA9cz9zKGMpOmMsZD1fZihoLHApfHwicmVnIj09PWgmJm5ldyBXRihwKTtkfHxhbyhuKSxyLnB1c2goZCl9fXIubGVuZ3RofHxhbyhuKTt2YXIgZj1uZXcgWkY7cmV0dXJuIGYudmFsdWVHZXR0ZXJQYXJhbT1pLGYudmFsdWVQYXJzZXI9cyxmLmdldFZhbHVlPWUuZ2V0VmFsdWUsZi5zdWJDb25kTGlzdD1yLGZ9KHQsZSl9ZnVuY3Rpb24gcUYodCxlLG4pe3ZhciBpPWVbdF0scj0iIjtZKGkpfHxhbyhyKSxpLmxlbmd0aHx8YW8ocik7dmFyIG89ImFuZCI9PT10P25ldyBZRjpuZXcgVUY7cmV0dXJuIG8uY2hpbGRyZW49eihpLChmdW5jdGlvbih0KXtyZXR1cm4gakYodCxuKX0pKSxvLmNoaWxkcmVuLmxlbmd0aHx8YW8ociksb31mdW5jdGlvbiBLRih0KXtyZXR1cm4gcSh0KSYmIU4odCl9dmFyICRGPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX2NvbmQ9akYodCxlKX1yZXR1cm4gdC5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29uZC5ldmFsdWF0ZSgpfSx0fSgpO3ZhciBKRj17dHlwZToiZWNoYXJ0czpmaWx0ZXIiLHRyYW5zZm9ybTpmdW5jdGlvbih0KXtmb3IodmFyIGUsbixpLHI9dC51cHN0cmVhbSxvPShuPXQuY29uZmlnLGk9e3ZhbHVlR2V0dGVyQXR0ck1hcDpmdCh7ZGltZW5zaW9uOiEwfSkscHJlcGFyZUdldFZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSIiLG49dC5kaW1lbnNpb247bXQodCwiZGltZW5zaW9uIil8fGFvKGUpO3ZhciBpPXIuZ2V0RGltZW5zaW9uSW5mbyhuKTtyZXR1cm4gaXx8YW8oZSkse2RpbUlkeDppLmluZGV4fX0sZ2V0VmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHIucmV0cmlldmVWYWx1ZUZyb21JdGVtKGUsdC5kaW1JZHgpfX0sbmV3ICRGKG4saSkpLGE9W10scz0wLGw9ci5jb3VudCgpO3M8bDtzKyspZT1yLmdldFJhd0RhdGFJdGVtKHMpLG8uZXZhbHVhdGUoKSYmYS5wdXNoKGUpO3JldHVybntkYXRhOmF9fX07dmFyIFFGPXt0eXBlOiJlY2hhcnRzOnNvcnQiLHRyYW5zZm9ybTpmdW5jdGlvbih0KXt2YXIgZT10LnVwc3RyZWFtLG49dC5jb25maWcsaT0iIixyPWhvKG4pO3IubGVuZ3RofHxhbyhpKTt2YXIgbz1bXTtFKHIsKGZ1bmN0aW9uKHQpe3ZhciBuPXQuZGltZW5zaW9uLHI9dC5vcmRlcixhPXQucGFyc2VyLHM9dC5pbmNvbXBhcmFibGU7aWYobnVsbD09biYmYW8oaSksImFzYyIhPT1yJiYiZGVzYyIhPT1yJiZhbyhpKSxzJiYibWluIiE9PXMmJiJtYXgiIT09cyl7dmFyIGw9IiI7MCxhbyhsKX1pZigiYXNjIiE9PXImJiJkZXNjIiE9PXIpe3ZhciB1PSIiOzAsYW8odSl9dmFyIGg9ZS5nZXREaW1lbnNpb25JbmZvKG4pO2h8fGFvKGkpO3ZhciBjPWE/Z2YoYSk6bnVsbDthJiYhYyYmYW8oaSksby5wdXNoKHtkaW1JZHg6aC5pbmRleCxwYXJzZXI6Yyxjb21wYXJhdG9yOm5ldyBtZihyLHMpfSl9KSk7dmFyIGE9ZS5zb3VyY2VGb3JtYXQ7YSE9PVBwJiZhIT09T3AmJmFvKGkpO2Zvcih2YXIgcz1bXSxsPTAsdT1lLmNvdW50KCk7bDx1O2wrKylzLnB1c2goZS5nZXRSYXdEYXRhSXRlbShsKSk7cmV0dXJuIHMuc29ydCgoZnVuY3Rpb24odCxuKXtmb3IodmFyIGk9MDtpPG8ubGVuZ3RoO2krKyl7dmFyIHI9b1tpXSxhPWUucmV0cmlldmVWYWx1ZUZyb21JdGVtKHQsci5kaW1JZHgpLHM9ZS5yZXRyaWV2ZVZhbHVlRnJvbUl0ZW0obixyLmRpbUlkeCk7ci5wYXJzZXImJihhPXIucGFyc2VyKGEpLHM9ci5wYXJzZXIocykpO3ZhciBsPXIuY29tcGFyYXRvci5ldmFsdWF0ZShhLHMpO2lmKDAhPT1sKXJldHVybiBsfXJldHVybiAwfSkpLHtkYXRhOnN9fX07dmFyIHRHPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUudHlwZT0iZGF0YXNldCIsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSxuLGkpe3QucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzLGUsbixpKSx0aGlzLl9zb3VyY2VNYW5hZ2VyPW5ldyBCZih0aGlzKSxGZih0aGlzKX0sZS5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24oZSxuKXt0LnByb3RvdHlwZS5tZXJnZU9wdGlvbi5jYWxsKHRoaXMsZSxuKSxGZih0aGlzKX0sZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbigpe3RoaXMuX3NvdXJjZU1hbmFnZXIuZGlydHkoKX0sZS5wcm90b3R5cGUuZ2V0U291cmNlTWFuYWdlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VNYW5hZ2VyfSxlLnR5cGU9ImRhdGFzZXQiLGUuZGVmYXVsdE9wdGlvbj17c2VyaWVzTGF5b3V0Qnk6enB9LGV9KFRwKSxlRz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLnR5cGU9ImRhdGFzZXQiLGV9cmV0dXJuIG4oZSx0KSxlLnR5cGU9ImRhdGFzZXQiLGV9KGdnKTt2YXIgbkc9cWEuQ01EO2Z1bmN0aW9uIGlHKHQsZSl7cmV0dXJuIE1hdGguYWJzKHQtZSk8MWUtNX1mdW5jdGlvbiByRyh0KXt2YXIgZSxuLGkscixvLGE9dC5kYXRhLHM9dC5sZW4oKSxsPVtdLHU9MCxoPTAsYz0wLHA9MDtmdW5jdGlvbiBkKHQsbil7ZSYmZS5sZW5ndGg+MiYmbC5wdXNoKGUpLGU9W3Qsbl19ZnVuY3Rpb24gZih0LG4saSxyKXtpRyh0LGkpJiZpRyhuLHIpfHxlLnB1c2godCxuLGkscixpLHIpfWZ1bmN0aW9uIGcodCxuLGkscixvLGEpe3ZhciBzPU1hdGguYWJzKG4tdCksbD00Kk1hdGgudGFuKHMvNCkvMyx1PW48dD8tMToxLGg9TWF0aC5jb3ModCksYz1NYXRoLnNpbih0KSxwPU1hdGguY29zKG4pLGQ9TWF0aC5zaW4obiksZj1oKm8raSxnPWMqYStyLHk9cCpvK2ksdj1kKmErcixtPW8qbCp1LHg9YSpsKnU7ZS5wdXNoKGYtbSpjLGcreCpoLHkrbSpkLHYteCpwLHksdil9Zm9yKHZhciB5PTA7eTxzOyl7dmFyIHY9YVt5KytdLG09MT09PXk7c3dpdGNoKG0mJihjPXU9YVt5XSxwPWg9YVt5KzFdLHYhPT1uRy5MJiZ2IT09bkcuQyYmdiE9PW5HLlF8fChlPVtjLHBdKSksdil7Y2FzZSBuRy5NOnU9Yz1hW3krK10saD1wPWFbeSsrXSxkKGMscCk7YnJlYWs7Y2FzZSBuRy5MOmYodSxoLG49YVt5KytdLGk9YVt5KytdKSx1PW4saD1pO2JyZWFrO2Nhc2UgbkcuQzplLnB1c2goYVt5KytdLGFbeSsrXSxhW3krK10sYVt5KytdLHU9YVt5KytdLGg9YVt5KytdKTticmVhaztjYXNlIG5HLlE6bj1hW3krK10saT1hW3krK10scj1hW3krK10sbz1hW3krK10sZS5wdXNoKHUrMi8zKihuLXUpLGgrMi8zKihpLWgpLHIrMi8zKihuLXIpLG8rMi8zKihpLW8pLHIsbyksdT1yLGg9bzticmVhaztjYXNlIG5HLkE6dmFyIHg9YVt5KytdLF89YVt5KytdLGI9YVt5KytdLHc9YVt5KytdLFM9YVt5KytdLE09YVt5KytdK1M7eSs9MTt2YXIgST0hYVt5KytdO249TWF0aC5jb3MoUykqYit4LGk9TWF0aC5zaW4oUykqdytfLG0/ZChjPW4scD1pKTpmKHUsaCxuLGkpLHU9TWF0aC5jb3MoTSkqYit4LGg9TWF0aC5zaW4oTSkqdytfO2Zvcih2YXIgVD0oST8tMToxKSpNYXRoLlBJLzIsQz1TO0k/Qz5NOkM8TTtDKz1UKXtnKEMsST9NYXRoLm1heChDK1QsTSk6TWF0aC5taW4oQytULE0pLHgsXyxiLHcpfWJyZWFrO2Nhc2UgbkcuUjpjPXU9YVt5KytdLHA9aD1hW3krK10sbj1jK2FbeSsrXSxpPXArYVt5KytdLGQobixwKSxmKG4scCxuLGkpLGYobixpLGMsaSksZihjLGksYyxwKSxmKGMscCxuLHApO2JyZWFrO2Nhc2UgbkcuWjplJiZmKHUsaCxjLHApLHU9YyxoPXB9fXJldHVybiBlJiZlLmxlbmd0aD4yJiZsLnB1c2goZSksbH1mdW5jdGlvbiBvRyh0LGUsbixpLHIsbyxhLHMsbCx1KXtpZihpRyh0LG4pJiZpRyhlLGkpJiZpRyhyLGEpJiZpRyhvLHMpKWwucHVzaChhLHMpO2Vsc2V7dmFyIGg9Mi91LGM9aCpoLHA9YS10LGQ9cy1lLGY9TWF0aC5zcXJ0KHAqcCtkKmQpO3AvPWYsZC89Zjt2YXIgZz1uLXQseT1pLWUsdj1yLWEsbT1vLXMseD1nKmcreSp5LF89dip2K20qbTtpZih4PGMmJl88YylsLnB1c2goYSxzKTtlbHNle3ZhciBiPXAqZytkKnksdz0tcCp2LWQqbTtpZih4LWIqYjxjJiZiPj0wJiZfLXcqdzxjJiZ3Pj0wKWwucHVzaChhLHMpO2Vsc2V7dmFyIFM9W10sTT1bXTtaZSh0LG4scixhLC41LFMpLFplKGUsaSxvLHMsLjUsTSksb0coU1swXSxNWzBdLFNbMV0sTVsxXSxTWzJdLE1bMl0sU1szXSxNWzNdLGwsdSksb0coU1s0XSxNWzRdLFNbNV0sTVs1XSxTWzZdLE1bNl0sU1s3XSxNWzddLGwsdSl9fX19ZnVuY3Rpb24gYUcodCxlLG4pe3ZhciBpPXRbZV0scj10WzEtZV0sbz1NYXRoLmFicyhpL3IpLGE9TWF0aC5jZWlsKE1hdGguc3FydChvKm4pKSxzPU1hdGguZmxvb3Iobi9hKTswPT09cyYmKHM9MSxhPW4pO2Zvcih2YXIgbD1bXSx1PTA7dTxhO3UrKylsLnB1c2gocyk7dmFyIGg9bi1hKnM7aWYoaD4wKWZvcih1PTA7dTxoO3UrKylsW3UlYV0rPTE7cmV0dXJuIGx9ZnVuY3Rpb24gc0codCxlLG4pe2Zvcih2YXIgaT10LnIwLHI9dC5yLG89dC5zdGFydEFuZ2xlLGE9dC5lbmRBbmdsZSxzPU1hdGguYWJzKGEtbyksbD1zKnIsdT1yLWksaD1sPk1hdGguYWJzKHUpLGM9YUcoW2wsdV0saD8wOjEsZSkscD0oaD9zOnUpL2MubGVuZ3RoLGQ9MDtkPGMubGVuZ3RoO2QrKylmb3IodmFyIGY9KGg/dTpzKS9jW2RdLGc9MDtnPGNbZF07ZysrKXt2YXIgeT17fTtoPyh5LnN0YXJ0QW5nbGU9bytwKmQseS5lbmRBbmdsZT1vK3AqKGQrMSkseS5yMD1pK2YqZyx5LnI9aStmKihnKzEpKTooeS5zdGFydEFuZ2xlPW8rZipnLHkuZW5kQW5nbGU9bytmKihnKzEpLHkucjA9aStwKmQseS5yPWkrcCooZCsxKSkseS5jbG9ja3dpc2U9dC5jbG9ja3dpc2UseS5jeD10LmN4LHkuY3k9dC5jeSxuLnB1c2goeSl9fWZ1bmN0aW9uIGxHKHQsZSxuLGkpe3JldHVybiB0KmktbiplfWZ1bmN0aW9uIHVHKHQsZSxuLGkscixvLGEscyl7dmFyIGw9bi10LHU9aS1lLGg9YS1yLGM9cy1vLHA9bEcoaCxjLGwsdSk7aWYoTWF0aC5hYnMocCk8MWUtNilyZXR1cm4gbnVsbDt2YXIgZD1sRyh0LXIsZS1vLGgsYykvcDtyZXR1cm4gZDwwfHxkPjE/bnVsbDpuZXcgSmkoZCpsK3QsZCp1K2UpfWZ1bmN0aW9uIGhHKHQsZSxuKXt2YXIgaT1uZXcgSmk7Smkuc3ViKGksbixlKSxpLm5vcm1hbGl6ZSgpO3ZhciByPW5ldyBKaTtyZXR1cm4gSmkuc3ViKHIsdCxlKSxyLmRvdChpKX1mdW5jdGlvbiBjRyh0LGUpe3ZhciBuPXRbdC5sZW5ndGgtMV07biYmblswXT09PWVbMF0mJm5bMV09PT1lWzFdfHx0LnB1c2goZSl9ZnVuY3Rpb24gcEcodCl7dmFyIGU9dC5wb2ludHMsbj1bXSxpPVtdO01hKGUsbixpKTt2YXIgcj1uZXcgc3IoblswXSxuWzFdLGlbMF0tblswXSxpWzFdLW5bMV0pLG89ci53aWR0aCxhPXIuaGVpZ2h0LHM9ci54LGw9ci55LHU9bmV3IEppLGg9bmV3IEppO3JldHVybiBvPmE/KHUueD1oLng9cytvLzIsdS55PWwsaC55PWwrYSk6KHUueT1oLnk9bCthLzIsdS54PXMsaC54PXMrbyksZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10Lmxlbmd0aCxyPVtdLG89MDtvPGk7bysrKXt2YXIgYT10W29dLHM9dFsobysxKSVpXSxsPXVHKGFbMF0sYVsxXSxzWzBdLHNbMV0sZS54LGUueSxuLngsbi55KTtsJiZyLnB1c2goe3Byb2pQdDpoRyhsLGUsbikscHQ6bCxpZHg6b30pfWlmKHIubGVuZ3RoPDIpcmV0dXJuW3twb2ludHM6dH0se3BvaW50czp0fV07ci5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnByb2pQdC1lLnByb2pQdH0pKTt2YXIgdT1yWzBdLGg9cltyLmxlbmd0aC0xXTtpZihoLmlkeDx1LmlkeCl7dmFyIGM9dTt1PWgsaD1jfXZhciBwPVt1LnB0LngsdS5wdC55XSxkPVtoLnB0LngsaC5wdC55XSxmPVtwXSxnPVtkXTtmb3Iobz11LmlkeCsxO288PWguaWR4O28rKyljRyhmLHRbb10uc2xpY2UoKSk7Zm9yKGNHKGYsZCksY0coZixwKSxvPWguaWR4KzE7bzw9dS5pZHgraTtvKyspY0coZyx0W28laV0uc2xpY2UoKSk7cmV0dXJuIGNHKGcscCksY0coZyxkKSxbe3BvaW50czpmfSx7cG9pbnRzOmd9XX0oZSx1LGgpfWZ1bmN0aW9uIGRHKHQsZSxuLGkpe2lmKDE9PT1uKWkucHVzaChlKTtlbHNle3ZhciByPU1hdGguZmxvb3Iobi8yKSxvPXQoZSk7ZEcodCxvWzBdLHIsaSksZEcodCxvWzFdLG4tcixpKX1yZXR1cm4gaX1mdW5jdGlvbiBmRyh0LGUpe2Uuc2V0U3R5bGUodC5zdHlsZSksZS56PXQueixlLnoyPXQuejIsZS56bGV2ZWw9dC56bGV2ZWx9ZnVuY3Rpb24gZ0codCxlKXt2YXIgbixpPVtdLHI9dC5zaGFwZTtzd2l0Y2godC50eXBlKXtjYXNlInJlY3QiOiFmdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPXQud2lkdGgscj10LmhlaWdodCxvPWk+cixhPWFHKFtpLHJdLG8/MDoxLGUpLHM9bz8id2lkdGgiOiJoZWlnaHQiLGw9bz8iaGVpZ2h0Ijoid2lkdGgiLHU9bz8ieCI6InkiLGg9bz8ieSI6IngiLGM9dFtzXS9hLmxlbmd0aCxwPTA7cDxhLmxlbmd0aDtwKyspZm9yKHZhciBkPXRbbF0vYVtwXSxmPTA7ZjxhW3BdO2YrKyl7dmFyIGc9e307Z1t1XT1wKmMsZ1toXT1mKmQsZ1tzXT1jLGdbbF09ZCxnLngrPXQueCxnLnkrPXQueSxuLnB1c2goZyl9fShyLGUsaSksbj1DczticmVhaztjYXNlInNlY3RvciI6c0cocixlLGkpLG49Q3U7YnJlYWs7Y2FzZSJjaXJjbGUiOnNHKHtyMDowLHI6ci5yLHN0YXJ0QW5nbGU6MCxlbmRBbmdsZToyKk1hdGguUEksY3g6ci5jeCxjeTpyLmN5fSxlLGkpLG49Q3U7YnJlYWs7ZGVmYXVsdDp2YXIgbz10LmdldENvbXB1dGVkVHJhbnNmb3JtKCksYT1vP01hdGguc3FydChNYXRoLm1heChvWzBdKm9bMF0rb1sxXSpvWzFdLG9bMl0qb1syXStvWzNdKm9bM10pKToxLHM9eihmdW5jdGlvbih0LGUpe3ZhciBuPXJHKHQpLGk9W107ZT1lfHwxO2Zvcih2YXIgcj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgbz1uW3JdLGE9W10scz1vWzBdLGw9b1sxXTthLnB1c2gocyxsKTtmb3IodmFyIHU9Mjt1PG8ubGVuZ3RoOyl7dmFyIGg9b1t1KytdLGM9b1t1KytdLHA9b1t1KytdLGQ9b1t1KytdLGY9b1t1KytdLGc9b1t1KytdO29HKHMsbCxoLGMscCxkLGYsZyxhLGUpLHM9ZixsPWd9aS5wdXNoKGEpfXJldHVybiBpfSh0LmdldFVwZGF0ZWRQYXRoUHJveHkoKSxhKSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDspZS5wdXNoKFt0W24rK10sdFtuKytdXSk7cmV0dXJuIGV9KHQpfSkpLGw9cy5sZW5ndGg7aWYoMD09PWwpZEcocEcse3BvaW50czpzWzBdfSxlLGkpO2Vsc2UgaWYobD09PWUpZm9yKHZhciB1PTA7dTxsO3UrKylpLnB1c2goe3BvaW50czpzW3VdfSk7ZWxzZXt2YXIgaD0wLGM9eihzLChmdW5jdGlvbih0KXt2YXIgZT1bXSxuPVtdO01hKHQsZSxuKTt2YXIgaT0oblsxXS1lWzFdKSooblswXS1lWzBdKTtyZXR1cm4gaCs9aSx7cG9seTp0LGFyZWE6aX19KSk7Yy5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBlLmFyZWEtdC5hcmVhfSkpO3ZhciBwPWU7Zm9yKHU9MDt1PGw7dSsrKXt2YXIgZD1jW3VdO2lmKHA8PTApYnJlYWs7dmFyIGY9dT09PWwtMT9wOk1hdGguY2VpbChkLmFyZWEvaCplKTtmPDB8fChkRyhwRyx7cG9pbnRzOmQucG9seX0sZixpKSxwLT1mKX19bj1QdX1pZighbilyZXR1cm4gZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W10saT0wO2k8ZTtpKyspbi5wdXNoKGx1KHQpKTtyZXR1cm4gbn0odCxlKTt2YXIgZz1bXTtmb3IodT0wO3U8aS5sZW5ndGg7dSsrKXt2YXIgeT1uZXcgbjt5LnNldFNoYXBlKGlbdV0pLGZHKHQseSksZy5wdXNoKHkpfXJldHVybiBnfWZ1bmN0aW9uIHlHKHQsZSl7dmFyIG49dC5sZW5ndGgsaT1lLmxlbmd0aDtpZihuPT09aSlyZXR1cm5bdCxlXTtmb3IodmFyIHI9W10sbz1bXSxhPW48aT90OmUscz1NYXRoLm1pbihuLGkpLGw9TWF0aC5hYnMoaS1uKS82LHU9KHMtMikvNixoPU1hdGguY2VpbChsL3UpKzEsYz1bYVswXSxhWzFdXSxwPWwsZD0yO2Q8czspe3ZhciBmPWFbZC0yXSxnPWFbZC0xXSx5PWFbZCsrXSx2PWFbZCsrXSxtPWFbZCsrXSx4PWFbZCsrXSxfPWFbZCsrXSxiPWFbZCsrXTtpZihwPD0wKWMucHVzaCh5LHYsbSx4LF8sYik7ZWxzZXtmb3IodmFyIHc9TWF0aC5taW4ocCxoLTEpKzEsUz0xO1M8PXc7UysrKXt2YXIgTT1TL3c7WmUoZix5LG0sXyxNLHIpLFplKGcsdix4LGIsTSxvKSxmPXJbM10sZz1vWzNdLGMucHVzaChyWzFdLG9bMV0sclsyXSxvWzJdLGYsZykseT1yWzVdLHY9b1s1XSxtPXJbNl0seD1vWzZdfXAtPXctMX19cmV0dXJuIGE9PT10P1tjLGVdOlt0LGNdfWZ1bmN0aW9uIHZHKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoLGk9dFtuLTJdLHI9dFtuLTFdLG89W10sYT0wO2E8ZS5sZW5ndGg7KW9bYSsrXT1pLG9bYSsrXT1yO3JldHVybiBvfWZ1bmN0aW9uIG1HKHQpe2Zvcih2YXIgZT0wLG49MCxpPTAscj10Lmxlbmd0aCxvPTAsYT1yLTI7bzxyO2E9byxvKz0yKXt2YXIgcz10W2FdLGw9dFthKzFdLHU9dFtvXSxoPXRbbysxXSxjPXMqaC11Kmw7ZSs9YyxuKz0ocyt1KSpjLGkrPShsK2gpKmN9cmV0dXJuIDA9PT1lP1t0WzBdfHwwLHRbMV18fDBdOltuL2UvMyxpL2UvMyxlXX1mdW5jdGlvbiB4Ryh0LGUsbixpKXtmb3IodmFyIHI9KHQubGVuZ3RoLTIpLzYsbz0xLzAsYT0wLHM9dC5sZW5ndGgsbD1zLTIsdT0wO3U8cjt1Kyspe2Zvcih2YXIgaD02KnUsYz0wLHA9MDtwPHM7cCs9Mil7dmFyIGQ9MD09PXA/aDooaCtwLTIpJWwrMixmPXRbZF0tblswXSxnPXRbZCsxXS1uWzFdLHk9ZVtwXS1pWzBdLWYsdj1lW3ArMV0taVsxXS1nO2MrPXkqeSt2KnZ9YzxvJiYobz1jLGE9dSl9cmV0dXJuIGF9ZnVuY3Rpb24gX0codCl7Zm9yKHZhciBlPVtdLG49dC5sZW5ndGgsaT0wO2k8bjtpKz0yKWVbaV09dFtuLWktMl0sZVtpKzFdPXRbbi1pLTFdO3JldHVybiBlfWZ1bmN0aW9uIGJHKHQpe3JldHVybiB0Ll9faXNDb21iaW5lTW9ycGhpbmd9dmFyIHdHPSJfX21PcmlnaW5hbF8iO2Z1bmN0aW9uIFNHKHQsZSxuKXt2YXIgaT13RytlLHI9dFtpXXx8dFtlXTt0W2ldfHwodFtpXT10W2VdKTt2YXIgbz1uLnJlcGxhY2UsYT1uLmFmdGVyLHM9bi5iZWZvcmU7dFtlXT1mdW5jdGlvbigpe3ZhciB0LGU9YXJndW1lbnRzO3JldHVybiBzJiZzLmFwcGx5KHRoaXMsZSksdD1vP28uYXBwbHkodGhpcyxlKTpyLmFwcGx5KHRoaXMsZSksYSYmYS5hcHBseSh0aGlzLGUpLHR9fWZ1bmN0aW9uIE1HKHQsZSl7dmFyIG49d0crZTt0W25dJiYodFtlXT10W25dLHRbbl09bnVsbCl9ZnVuY3Rpb24gSUcodCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylmb3IodmFyIGk9dFtuXSxyPTA7cjxpLmxlbmd0aDspe3ZhciBvPWlbcl0sYT1pW3IrMV07aVtyKytdPWVbMF0qbytlWzJdKmErZVs0XSxpW3IrK109ZVsxXSpvK2VbM10qYStlWzVdfX1mdW5jdGlvbiBURyh0LGUpe3ZhciBuPXQuZ2V0VXBkYXRlZFBhdGhQcm94eSgpLGk9ZS5nZXRVcGRhdGVkUGF0aFByb3h5KCkscj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbixpLHIsbz1bXSxhPVtdLHM9MDtzPE1hdGgubWF4KHQubGVuZ3RoLGUubGVuZ3RoKTtzKyspe3ZhciBsPXRbc10sdT1lW3NdLGg9dm9pZCAwLGM9dm9pZCAwO2w/dT8oaT1oPShuPXlHKGwsdSkpWzBdLHI9Yz1uWzFdKTooYz12RyhyfHxsLGwpLGg9bCk6KGg9dkcoaXx8dSx1KSxjPXUpLG8ucHVzaChoKSxhLnB1c2goYyl9cmV0dXJuW28sYV19KHJHKG4pLHJHKGkpKSxvPXJbMF0sYT1yWzFdLHM9dC5nZXRDb21wdXRlZFRyYW5zZm9ybSgpLGw9ZS5nZXRDb21wdXRlZFRyYW5zZm9ybSgpO3MmJklHKG8scyksbCYmSUcoYSxsKSxTRyhlLCJ1cGRhdGVUcmFuc2Zvcm0iLHtyZXBsYWNlOmZ1bmN0aW9uKCl7dGhpcy50cmFuc2Zvcm09bnVsbH19KSxlLnRyYW5zZm9ybT1udWxsO3ZhciB1PWZ1bmN0aW9uKHQsZSxuLGkpe2Zvcih2YXIgcixvPVtdLGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIHM9dFthXSxsPWVbYV0sdT1tRyhzKSxoPW1HKGwpO251bGw9PXImJihyPXVbMl08MCE9aFsyXTwwKTt2YXIgYz1bXSxwPVtdLGQ9MCxmPTEvMCxnPVtdLHk9cy5sZW5ndGg7ciYmKHM9X0cocykpO2Zvcih2YXIgdj02KnhHKHMsbCx1LGgpLG09eS0yLHg9MDt4PG07eCs9Mil7dmFyIF89KHYreCklbSsyO2NbeCsyXT1zW19dLXVbMF0sY1t4KzNdPXNbXysxXS11WzFdfWlmKGNbMF09c1t2XS11WzBdLGNbMV09c1t2KzFdLXVbMV0sbj4wKWZvcih2YXIgYj1pL24sdz0taS8yO3c8PWkvMjt3Kz1iKXt2YXIgUz1NYXRoLnNpbih3KSxNPU1hdGguY29zKHcpLEk9MDtmb3IoeD0wO3g8cy5sZW5ndGg7eCs9Mil7dmFyIFQ9Y1t4XSxDPWNbeCsxXSxEPWxbeF0taFswXSxBPWxbeCsxXS1oWzFdLGs9RCpNLUEqUyxMPUQqUytBKk07Z1t4XT1rLGdbeCsxXT1MO3ZhciBQPWstVCxPPUwtQztJKz1QKlArTypPfWlmKEk8Zil7Zj1JLGQ9dztmb3IodmFyIFI9MDtSPGcubGVuZ3RoO1IrKylwW1JdPWdbUl19fWVsc2UgZm9yKHZhciBOPTA7Tjx5O04rPTIpcFtOXT1sW05dLWhbMF0scFtOKzFdPWxbTisxXS1oWzFdO28ucHVzaCh7ZnJvbTpjLHRvOnAsZnJvbUNwOnUsdG9DcDpoLHJvdGF0aW9uOi1kfSl9cmV0dXJuIG99KG8sYSwxMCxNYXRoLlBJKSxoPVtdO1NHKGUsImJ1aWxkUGF0aCIse3JlcGxhY2U6ZnVuY3Rpb24odCl7Zm9yKHZhciBuPWUuX19tb3JwaFQsaT0xLW4scj1bXSxvPTA7bzx1Lmxlbmd0aDtvKyspe3ZhciBhPXVbb10scz1hLmZyb20sbD1hLnRvLGM9YS5yb3RhdGlvbipuLHA9YS5mcm9tQ3AsZD1hLnRvQ3AsZj1NYXRoLnNpbihjKSxnPU1hdGguY29zKGMpO0J0KHIscCxkLG4pO2Zvcih2YXIgeT0wO3k8cy5sZW5ndGg7eSs9Mil7dmFyIHY9c1t5XSxtPXNbeSsxXSx4PXYqaSsoUz1sW3ldKSpuLF89bSppKyhNPWxbeSsxXSkqbjtoW3ldPXgqZy1fKmYrclswXSxoW3krMV09eCpmK18qZytyWzFdfXZhciBiPWhbMF0sdz1oWzFdO3QubW92ZVRvKGIsdyk7Zm9yKHk9Mjt5PHMubGVuZ3RoOyl7dmFyIFM9aFt5KytdLE09aFt5KytdLEk9aFt5KytdLFQ9aFt5KytdLEM9aFt5KytdLEQ9aFt5KytdO2I9PT1TJiZ3PT09TSYmST09PUMmJlQ9PT1EP3QubGluZVRvKEMsRCk6dC5iZXppZXJDdXJ2ZVRvKFMsTSxJLFQsQyxEKSxiPUMsdz1EfX19fSl9ZnVuY3Rpb24gQ0codCxlLG4pe2lmKCF0fHwhZSlyZXR1cm4gZTt2YXIgaT1uLmRvbmUscj1uLmR1cmluZztyZXR1cm4gVEcodCxlKSxlLl9fbW9ycGhUPTAsZS5hbmltYXRlVG8oe19fbW9ycGhUOjF9LGsoe2R1cmluZzpmdW5jdGlvbih0KXtlLmRpcnR5U2hhcGUoKSxyJiZyKHQpfSxkb25lOmZ1bmN0aW9uKCl7TUcoZSwiYnVpbGRQYXRoIiksTUcoZSwidXBkYXRlVHJhbnNmb3JtIiksZS5fX21vcnBoVD0tMSxlLmNyZWF0ZVBhdGhQcm94eSgpLGUuZGlydHlTaGFwZSgpLGkmJmkoKX19LG4pKSxlfWZ1bmN0aW9uIERHKHQsZSxuLGkscixvKXt0PXI9PT1uPzA6TWF0aC5yb3VuZCgzMjc2NyoodC1uKS8oci1uKSksZT1vPT09aT8wOk1hdGgucm91bmQoMzI3NjcqKGUtaSkvKG8taSkpO2Zvcih2YXIgYSxzPTAsbD0zMjc2ODtsPjA7bC89Mil7dmFyIHU9MCxoPTA7KHQmbCk+MCYmKHU9MSksKGUmbCk+MCYmKGg9MSkscys9bCpsKigzKnVeaCksMD09PWgmJigxPT09dSYmKHQ9bC0xLXQsZT1sLTEtZSksYT10LHQ9ZSxlPWEpfXJldHVybiBzfWZ1bmN0aW9uIEFHKHQpe3ZhciBlPTEvMCxuPTEvMCxpPS0xLzAscj0tMS8wLG89eih0LChmdW5jdGlvbih0KXt2YXIgbz10LmdldEJvdW5kaW5nUmVjdCgpLGE9dC5nZXRDb21wdXRlZFRyYW5zZm9ybSgpLHM9by54K28ud2lkdGgvMisoYT9hWzRdOjApLGw9by55K28uaGVpZ2h0LzIrKGE/YVs1XTowKTtyZXR1cm4gZT1NYXRoLm1pbihzLGUpLG49TWF0aC5taW4obCxuKSxpPU1hdGgubWF4KHMsaSkscj1NYXRoLm1heChsLHIpLFtzLGxdfSkpO3JldHVybiB6KG8sKGZ1bmN0aW9uKG8sYSl7cmV0dXJue2NwOm8sejpERyhvWzBdLG9bMV0sZSxuLGkscikscGF0aDp0W2FdfX0pKS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnotZS56fSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQucGF0aH0pKX1mdW5jdGlvbiBrRyh0KXtyZXR1cm4gZ0codC5wYXRoLHQuY291bnQpfWZ1bmN0aW9uIExHKHQpe3JldHVybiBZKHRbMF0pfWZ1bmN0aW9uIFBHKHQsZSl7Zm9yKHZhciBuPVtdLGk9dC5sZW5ndGgscj0wO3I8aTtyKyspbi5wdXNoKHtvbmU6dFtyXSxtYW55OltdfSk7Zm9yKHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG89ZVtyXS5sZW5ndGgsYT12b2lkIDA7Zm9yKGE9MDthPG87YSsrKW5bYSVpXS5tYW55LnB1c2goZVtyXVthXSl9dmFyIHM9MDtmb3Iocj1pLTE7cj49MDtyLS0paWYoIW5bcl0ubWFueS5sZW5ndGgpe3ZhciBsPW5bc10ubWFueTtpZihsLmxlbmd0aDw9MSl7aWYoIXMpcmV0dXJuIG47cz0wfW89bC5sZW5ndGg7dmFyIHU9TWF0aC5jZWlsKG8vMik7bltyXS5tYW55PWwuc2xpY2UodSxvKSxuW3NdLm1hbnk9bC5zbGljZSgwLHUpLHMrK31yZXR1cm4gbn12YXIgT0c9e2Nsb25lOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTEtTWF0aC5wb3coMS10LnBhdGguc3R5bGUub3BhY2l0eSwxL3QuY291bnQpLGk9MDtpPHQuY291bnQ7aSsrKXt2YXIgcj1sdSh0LnBhdGgpO3Iuc2V0U3R5bGUoIm9wYWNpdHkiLG4pLGUucHVzaChyKX1yZXR1cm4gZX0sc3BsaXQ6bnVsbH07ZnVuY3Rpb24gUkcodCxlLG4saSxyLG8pe2lmKHQubGVuZ3RoJiZlLmxlbmd0aCl7dmFyIGE9bmgoInVwZGF0ZSIsaSxyKTtpZihhJiZhLmR1cmF0aW9uPjApe3ZhciBzLGwsdT1pLmdldE1vZGVsKCJ1bml2ZXJzYWxUcmFuc2l0aW9uIikuZ2V0KCJkZWxheSIpLGg9T2JqZWN0LmFzc2lnbih7c2V0VG9GaW5hbDohMH0sYSk7TEcodCkmJihzPXQsbD1lKSxMRyhlKSYmKHM9ZSxsPXQpO2Zvcih2YXIgYz1zP3M9PT10OnQubGVuZ3RoPmUubGVuZ3RoLHA9cz9QRyhsLHMpOlBHKGM/ZTp0LFtjP3Q6ZV0pLGQ9MCxmPTA7ZjxwLmxlbmd0aDtmKyspZCs9cFtmXS5tYW55Lmxlbmd0aDt2YXIgZz0wO2ZvcihmPTA7ZjxwLmxlbmd0aDtmKyspeShwW2ZdLGMsZyxkKSxnKz1wW2ZdLm1hbnkubGVuZ3RofX1mdW5jdGlvbiB5KHQsZSxpLHIsYSl7dmFyIHM9dC5tYW55LGw9dC5vbmU7aWYoMSE9PXMubGVuZ3RofHxhKWZvcih2YXIgYz1rKHtkaXZpZGVQYXRoOk9HW25dLGluZGl2aWR1YWxEZWxheTp1JiZmdW5jdGlvbih0LGUsbixvKXtyZXR1cm4gdSh0K2kscil9fSxoKSxwPWU/ZnVuY3Rpb24odCxlLG4pe3ZhciBpPVtdOyFmdW5jdGlvbiB0KGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO2JHKHIpP3Qoci5jaGlsZHJlblJlZigpKTpyIGluc3RhbmNlb2YgZ3MmJmkucHVzaChyKX19KHQpO3ZhciByPWkubGVuZ3RoO2lmKCFyKXJldHVybntmcm9tSW5kaXZpZHVhbHM6W10sdG9JbmRpdmlkdWFsczpbXSxjb3VudDowfTt2YXIgbz0obi5kaXZpZGVQYXRofHxrRykoe3BhdGg6ZSxjb3VudDpyfSk7aWYoby5sZW5ndGghPT1yKXJldHVybiBjb25zb2xlLmVycm9yKCJJbnZhbGlkIG1vcnBoaW5nOiB1bm1hdGNoZWQgc3BsaXR0ZWQgcGF0aCIpLHtmcm9tSW5kaXZpZHVhbHM6W10sdG9JbmRpdmlkdWFsczpbXSxjb3VudDowfTtpPUFHKGkpLG89QUcobyk7Zm9yKHZhciBhPW4uZG9uZSxzPW4uZHVyaW5nLGw9bi5pbmRpdmlkdWFsRGVsYXksdT1uZXcgcWksaD0wO2g8cjtoKyspe3ZhciBjPWlbaF0scD1vW2hdO3AucGFyZW50PWUscC5jb3B5VHJhbnNmb3JtKHUpLGx8fFRHKGMscCl9ZnVuY3Rpb24gZCh0KXtmb3IodmFyIGU9MDtlPG8ubGVuZ3RoO2UrKylvW2VdLmFkZFNlbGZUb1pyKHQpfWZ1bmN0aW9uIGYoKXtlLl9faXNDb21iaW5lTW9ycGhpbmc9ITEsZS5fX21vcnBoVD0tMSxlLmNoaWxkcmVuUmVmPW51bGwsTUcoZSwiYWRkU2VsZlRvWnIiKSxNRyhlLCJyZW1vdmVTZWxmRnJvbVpyIil9ZS5fX2lzQ29tYmluZU1vcnBoaW5nPSEwLGUuY2hpbGRyZW5SZWY9ZnVuY3Rpb24oKXtyZXR1cm4gb30sU0coZSwiYWRkU2VsZlRvWnIiLHthZnRlcjpmdW5jdGlvbih0KXtkKHQpfX0pLFNHKGUsInJlbW92ZVNlbGZGcm9tWnIiLHthZnRlcjpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPG8ubGVuZ3RoO2UrKylvW2VdLnJlbW92ZVNlbGZGcm9tWnIodCl9fSk7dmFyIGc9by5sZW5ndGg7aWYobCl7dmFyIHk9Zyx2PWZ1bmN0aW9uKCl7MD09LS15JiYoZigpLGEmJmEoKSl9O2ZvcihoPTA7aDxnO2grKyl7dmFyIG09bD9rKHtkZWxheToobi5kZWxheXx8MCkrbChoLGcsaVtoXSxvW2hdKSxkb25lOnZ9LG4pOm47Q0coaVtoXSxvW2hdLG0pfX1lbHNlIGUuX19tb3JwaFQ9MCxlLmFuaW1hdGVUbyh7X19tb3JwaFQ6MX0sayh7ZHVyaW5nOmZ1bmN0aW9uKHQpe2Zvcih2YXIgbj0wO248ZztuKyspe3ZhciBpPW9bbl07aS5fX21vcnBoVD1lLl9fbW9ycGhULGkuZGlydHlTaGFwZSgpfXMmJnModCl9LGRvbmU6ZnVuY3Rpb24oKXtmKCk7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspTUcodFtlXSwidXBkYXRlVHJhbnNmb3JtIik7YSYmYSgpfX0sbikpO3JldHVybiBlLl9fenImJmQoZS5fX3pyKSx7ZnJvbUluZGl2aWR1YWxzOmksdG9JbmRpdmlkdWFsczpvLGNvdW50Omd9fShzLGwsYyk6ZnVuY3Rpb24odCxlLG4pe3ZhciBpPWUubGVuZ3RoLHI9W10sbz1uLmRpdmlkZVBhdGh8fGtHO2lmKGJHKHQpKXshZnVuY3Rpb24gdChlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTtiRyhpKT90KGkuY2hpbGRyZW5SZWYoKSk6aSBpbnN0YW5jZW9mIGdzJiZyLnB1c2goaSl9fSh0LmNoaWxkcmVuUmVmKCkpO3ZhciBhPXIubGVuZ3RoO2lmKGE8aSlmb3IodmFyIHM9MCxsPWE7bDxpO2wrKylyLnB1c2gobHUocltzKyslYV0pKTtyLmxlbmd0aD1pfWVsc2V7cj1vKHtwYXRoOnQsY291bnQ6aX0pO3ZhciB1PXQuZ2V0Q29tcHV0ZWRUcmFuc2Zvcm0oKTtmb3IobD0wO2w8ci5sZW5ndGg7bCsrKXJbbF0uc2V0TG9jYWxUcmFuc2Zvcm0odSk7aWYoci5sZW5ndGghPT1pKXJldHVybiBjb25zb2xlLmVycm9yKCJJbnZhbGlkIG1vcnBoaW5nOiB1bm1hdGNoZWQgc3BsaXR0ZWQgcGF0aCIpLHtmcm9tSW5kaXZpZHVhbHM6W10sdG9JbmRpdmlkdWFsczpbXSxjb3VudDowfX1yPUFHKHIpLGU9QUcoZSk7dmFyIGg9bi5pbmRpdmlkdWFsRGVsYXk7Zm9yKGw9MDtsPGk7bCsrKXt2YXIgYz1oP2soe2RlbGF5OihuLmRlbGF5fHwwKStoKGwsaSxyW2xdLGVbbF0pfSxuKTpuO0NHKHJbbF0sZVtsXSxjKX1yZXR1cm57ZnJvbUluZGl2aWR1YWxzOnIsdG9JbmRpdmlkdWFsczplLGNvdW50OmUubGVuZ3RofX0obCxzLGMpLGQ9cC5mcm9tSW5kaXZpZHVhbHMsZj1wLnRvSW5kaXZpZHVhbHMsZz1kLmxlbmd0aCx2PTA7djxnO3YrKyl7bT11P2soe2RlbGF5OnUodixnKX0saCk6aDtvKGRbdl0sZlt2XSxlP3Nbdl06dC5vbmUsZT90Lm9uZTpzW3ZdLG0pfWVsc2V7dmFyIG0seD1lP3NbMF06bCxfPWU/bDpzWzBdO2lmKGJHKHgpKXkoe21hbnk6W3hdLG9uZTpffSwhMCxpLHIsITApO2Vsc2UgQ0coeCxfLG09dT9rKHtkZWxheTp1KGkscil9LGgpOmgpLG8oeCxfLHgsXyxtKX19fWZ1bmN0aW9uIE5HKHQpe2lmKCF0KXJldHVybltdO2lmKFkodCkpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDtuKyspZS5wdXNoKE5HKHRbbl0pKTtyZXR1cm4gZX12YXIgaT1bXTtyZXR1cm4gdC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIGdzJiYhdC5kaXNhYmxlTW9ycGhpbmcmJiF0LmludmlzaWJsZSYmIXQuaWdub3JlJiZpLnB1c2godCl9KSksaX12YXIgRUc9U28oKTtmdW5jdGlvbiB6Ryh0KXt2YXIgZT1bXTtyZXR1cm4gRSh0LChmdW5jdGlvbih0KXt2YXIgbj10LmRhdGE7aWYoIShuLmNvdW50KCk+MWU0KSlmb3IodmFyIGk9bi5nZXRJbmRpY2VzKCkscj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5kaW1lbnNpb25zLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9dC5nZXREaW1lbnNpb25JbmZvKGVbbl0pO2lmKGkmJjA9PT1pLm90aGVyRGltcy5pdGVtR3JvdXBJZClyZXR1cm4gZVtuXX19KG4pLG89MDtvPGkubGVuZ3RoO28rKyllLnB1c2goe2RhdGE6bixkaW06dC5kaW18fHIsZGl2aWRlOnQuZGl2aWRlLGRhdGFJbmRleDpvfSl9KSksZX1mdW5jdGlvbiBWRyh0LGUsbil7dC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIGdzJiZvaCh0LHtzdHlsZTp7b3BhY2l0eTowfX0sZSx7ZGF0YUluZGV4Om4saXNGcm9tOiEwfSl9KSl9ZnVuY3Rpb24gQkcodCl7aWYodC5wYXJlbnQpe3ZhciBlPXQuZ2V0Q29tcHV0ZWRUcmFuc2Zvcm0oKTt0LnNldExvY2FsVHJhbnNmb3JtKGUpLHQucGFyZW50LnJlbW92ZSh0KX19ZnVuY3Rpb24gRkcodCl7dC5zdG9wQW5pbWF0aW9uKCksdC5pc0dyb3VwJiZ0LnRyYXZlcnNlKChmdW5jdGlvbih0KXt0LnN0b3BBbmltYXRpb24oKX0pKX1mdW5jdGlvbiBHRyh0LGUsbil7dmFyIGk9bmgoInVwZGF0ZSIsbixlKTtpJiZ0LnRyYXZlcnNlKChmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgZGEpe3ZhciBlPWZ1bmN0aW9uKHQpe3JldHVybiBlaCh0KS5vbGRTdHlsZX0odCk7ZSYmdC5hbmltYXRlRnJvbSh7c3R5bGU6ZX0saSl9fSkpfWZ1bmN0aW9uIFdHKHQsZSxuKXt2YXIgaT16Ryh0KSxyPXpHKGUpO2Z1bmN0aW9uIG8odCxlLG4saSxyKXsobnx8dCkmJmUuYW5pbWF0ZUZyb20oe3N0eWxlOm4mJm4hPT10P0EoQSh7fSxuLnN0eWxlKSx0LnN0eWxlKTp0LnN0eWxlfSxyKX1mdW5jdGlvbiBhKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKHRbZV0uZGltKXJldHVybiB0W2VdLmRpbX12YXIgcz1hKGkpLGw9YShyKSx1PSExO2Z1bmN0aW9uIGgodCxlKXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIGk9bi5kYXRhLHI9bi5kYXRhSW5kZXg7aWYoZSlyZXR1cm4gaS5nZXRJZChyKTt2YXIgbz1pLmhvc3RNb2RlbCYmaS5ob3N0TW9kZWwuZ2V0KCJkYXRhR3JvdXBJZCIpLGE9dD9zfHxsOmx8fHMsdT1hJiZpLmdldERpbWVuc2lvbkluZm8oYSksaD11JiZ1Lm9yZGluYWxNZXRhO2lmKHUpe3ZhciBjPWkuZ2V0KHUubmFtZSxyKTtyZXR1cm4gaCYmaC5jYXRlZ29yaWVzW2NdfHxjKyIifXZhciBwPWkuZ2V0UmF3RGF0YUl0ZW0ocik7cmV0dXJuIHAmJnAuZ3JvdXBJZD9wLmdyb3VwSWQrIiI6b3x8aS5nZXRJZChyKX19dmFyIGM9ZnVuY3Rpb24odCxlKXt2YXIgbj10Lmxlbmd0aDtpZihuIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBpPTA7aTxuO2krKyl7dmFyIHI9dFtpXSxvPWVbaV07aWYoci5kYXRhLmdldElkKHIuZGF0YUluZGV4KSE9PW8uZGF0YS5nZXRJZChvLmRhdGFJbmRleCkpcmV0dXJuITF9cmV0dXJuITB9KGkscikscD17fTtpZighYylmb3IodmFyIGQ9MDtkPHIubGVuZ3RoO2QrKyl7dmFyIGY9cltkXSxnPWYuZGF0YS5nZXRJdGVtR3JhcGhpY0VsKGYuZGF0YUluZGV4KTtnJiYocFtnLmlkXT0hMCl9ZnVuY3Rpb24geSh0LGUpe3ZhciBuPWlbZV0sYT1yW3RdLHM9YS5kYXRhLmhvc3RNb2RlbCxsPW4uZGF0YS5nZXRJdGVtR3JhcGhpY0VsKG4uZGF0YUluZGV4KSxoPWEuZGF0YS5nZXRJdGVtR3JhcGhpY0VsKGEuZGF0YUluZGV4KTtsIT09aD9sJiZwW2wuaWRdfHxoJiYoRkcoaCksbD8oRkcobCksQkcobCksdT0hMCxSRyhORyhsKSxORyhoKSxhLmRpdmlkZSxzLHQsbykpOlZHKGgscyx0KSk6aCYmR0coaCxhLmRhdGFJbmRleCxzKX1uZXcgTW0oaSxyLGgoITAsYyksaCghMSxjKSxudWxsLCJtdWx0aXBsZSIpLnVwZGF0ZSh5KS51cGRhdGVNYW55VG9PbmUoKGZ1bmN0aW9uKHQsZSl7dmFyIG49clt0XSxhPW4uZGF0YSxzPWEuaG9zdE1vZGVsLGw9YS5nZXRJdGVtR3JhcGhpY0VsKG4uZGF0YUluZGV4KSxoPUIoeihlLChmdW5jdGlvbih0KXtyZXR1cm4gaVt0XS5kYXRhLmdldEl0ZW1HcmFwaGljRWwoaVt0XS5kYXRhSW5kZXgpfSkpLChmdW5jdGlvbih0KXtyZXR1cm4gdCYmdCE9PWwmJiFwW3QuaWRdfSkpO2wmJihGRyhsKSxoLmxlbmd0aD8oRShoLChmdW5jdGlvbih0KXtGRyh0KSxCRyh0KX0pKSx1PSEwLFJHKE5HKGgpLE5HKGwpLG4uZGl2aWRlLHMsdCxvKSk6VkcobCxzLG4uZGF0YUluZGV4KSl9KSkudXBkYXRlT25lVG9NYW55KChmdW5jdGlvbih0LGUpe3ZhciBuPWlbZV0sYT1uLmRhdGEuZ2V0SXRlbUdyYXBoaWNFbChuLmRhdGFJbmRleCk7aWYoIWF8fCFwW2EuaWRdKXt2YXIgcz1CKHoodCwoZnVuY3Rpb24odCl7cmV0dXJuIHJbdF0uZGF0YS5nZXRJdGVtR3JhcGhpY0VsKHJbdF0uZGF0YUluZGV4KX0pKSwoZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQhPT1hfSkpLGw9clt0WzBdXS5kYXRhLmhvc3RNb2RlbDtzLmxlbmd0aCYmKEUocywoZnVuY3Rpb24odCl7cmV0dXJuIEZHKHQpfSkpLGE/KEZHKGEpLEJHKGEpLHU9ITAsUkcoTkcoYSksTkcocyksbi5kaXZpZGUsbCx0WzBdLG8pKTpFKHMsKGZ1bmN0aW9uKGUpe3JldHVybiBWRyhlLGwsdFswXSl9KSkpfX0pKS51cGRhdGVNYW55VG9NYW55KChmdW5jdGlvbih0LGUpe25ldyBNbShlLHQsKGZ1bmN0aW9uKHQpe3JldHVybiBpW3RdLmRhdGEuZ2V0SWQoaVt0XS5kYXRhSW5kZXgpfSksKGZ1bmN0aW9uKHQpe3JldHVybiByW3RdLmRhdGEuZ2V0SWQoclt0XS5kYXRhSW5kZXgpfSkpLnVwZGF0ZSgoZnVuY3Rpb24obixpKXt5KHRbbl0sZVtpXSl9KSkuZXhlY3V0ZSgpfSkpLmV4ZWN1dGUoKSx1JiZFKGUsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZGF0YS5ob3N0TW9kZWwsaT1lJiZuLmdldFZpZXdPZlNlcmllc01vZGVsKGUpLHI9bmgoInVwZGF0ZSIsZSwwKTtpJiZlLmlzQW5pbWF0aW9uRW5hYmxlZCgpJiZyJiZyLmR1cmF0aW9uPjAmJmkuZ3JvdXAudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiBncyYmIXQuYW5pbWF0b3JzLmxlbmd0aCYmdC5hbmltYXRlRnJvbSh7c3R5bGU6e29wYWNpdHk6MH19LHIpfSkpfSkpfWZ1bmN0aW9uIEhHKHQpe3ZhciBlPXQuZ2V0TW9kZWwoInVuaXZlcnNhbFRyYW5zaXRpb24iKS5nZXQoInNlcmllc0tleSIpO3JldHVybiBlfHx0LmlkfWZ1bmN0aW9uIFlHKHQpe3JldHVybiBZKHQpP3Quc29ydCgpLmpvaW4oIiwiKTp0fWZ1bmN0aW9uIFVHKHQpe2lmKHQuaG9zdE1vZGVsKXJldHVybiB0Lmhvc3RNb2RlbC5nZXRNb2RlbCgidW5pdmVyc2FsVHJhbnNpdGlvbiIpLmdldCgiZGl2aWRlU2hhcGUiKX1mdW5jdGlvbiBYRyh0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXtpZihudWxsIT1lLnNlcmllc0luZGV4JiZlLnNlcmllc0luZGV4PT09dFtuXS5zZXJpZXNJbmRleHx8bnVsbCE9ZS5zZXJpZXNJZCYmZS5zZXJpZXNJZD09PXRbbl0uaWQpcmV0dXJuIG59fWJtKFtmdW5jdGlvbih0KXt0LnJlZ2lzdGVyUGFpbnRlcigiY2FudmFzIixCdyl9XSksYm0oW2Z1bmN0aW9uKHQpe3QucmVnaXN0ZXJQYWludGVyKCJzdmciLFB3KX1dKSxibShbZnVuY3Rpb24odCl7dC5yZWdpc3RlckNoYXJ0Vmlldyh4UyksdC5yZWdpc3RlclNlcmllc01vZGVsKEZ3KSx0LnJlZ2lzdGVyTGF5b3V0KF9TKCJsaW5lIiwhMCkpLHQucmVnaXN0ZXJWaXN1YWwoe3Nlcmllc1R5cGU6ImxpbmUiLHJlc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RGF0YSgpLG49dC5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCk7biYmIW4uc3Ryb2tlJiYobi5zdHJva2U9ZS5nZXRWaXN1YWwoInN0eWxlIikuZmlsbCksZS5zZXRWaXN1YWwoImxlZ2VuZExpbmVTdHlsZSIsbil9fSksdC5yZWdpc3RlclByb2Nlc3Nvcih0LlBSSU9SSVRZLlBST0NFU1NPUi5TVEFUSVNUSUMsU1MoImxpbmUiKSl9LGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDaGFydFZpZXcoUFMpLHQucmVnaXN0ZXJTZXJpZXNNb2RlbChJUyksdC5yZWdpc3RlckxheW91dCh0LlBSSU9SSVRZLlZJU1VBTC5MQVlPVVQsSChBeCwiYmFyIikpLHQucmVnaXN0ZXJMYXlvdXQodC5QUklPUklUWS5WSVNVQUwuUFJPR1JFU1NJVkVfTEFZT1VULGt4KCJiYXIiKSksdC5yZWdpc3RlclByb2Nlc3Nvcih0LlBSSU9SSVRZLlBST0NFU1NPUi5TVEFUSVNUSUMsU1MoImJhciIpKSx0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOiJjaGFuZ2VBeGlzT3JkZXIiLGV2ZW50OiJjaGFuZ2VBeGlzT3JkZXIiLHVwZGF0ZToidXBkYXRlIn0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5jb21wb25lbnRUeXBlfHwic2VyaWVzIjtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOm4scXVlcnk6dH0sKGZ1bmN0aW9uKGUpe3Quc29ydEluZm8mJmUuYXhpcy5zZXRDYXRlZ29yeVNvcnRJbmZvKHQuc29ydEluZm8pfSkpfSkpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KHNNKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoaE0pLHZ5KCJwaWUiLHQucmVnaXN0ZXJBY3Rpb24pLHQucmVnaXN0ZXJMYXlvdXQoSChKUywicGllIikpLHQucmVnaXN0ZXJQcm9jZXNzb3IoUVMoInBpZSIpKSx0LnJlZ2lzdGVyUHJvY2Vzc29yKGZ1bmN0aW9uKHQpe3JldHVybntzZXJpZXNUeXBlOnQscmVzZXQ6ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldERhdGEoKTtuLmZpbHRlclNlbGYoKGZ1bmN0aW9uKHQpe3ZhciBlPW4ubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLGk9bi5nZXQoZSx0KTtyZXR1cm4hKGooaSkmJiFpc05hTihpKSYmaTwwKX0pKX19fSgicGllIikpfSxmdW5jdGlvbih0KXtibShjSSksdC5yZWdpc3RlclNlcmllc01vZGVsKGNNKSx0LnJlZ2lzdGVyQ2hhcnRWaWV3KGdNKSx0LnJlZ2lzdGVyTGF5b3V0KF9TKCJzY2F0dGVyIikpfSxmdW5jdGlvbih0KXtibShJSSksdC5yZWdpc3RlckNoYXJ0Vmlldyh5SSksdC5yZWdpc3RlclNlcmllc01vZGVsKHZJKSx0LnJlZ2lzdGVyTGF5b3V0KHBJKSx0LnJlZ2lzdGVyUHJvY2Vzc29yKFFTKCJyYWRhciIpKSx0LnJlZ2lzdGVyUHJlcHJvY2Vzc29yKGdJKX0sZnVuY3Rpb24odCl7Ym0oUVQpLHQucmVnaXN0ZXJDaGFydFZpZXcoTlQpLHQucmVnaXN0ZXJTZXJpZXNNb2RlbChFVCksdC5yZWdpc3RlckxheW91dChWVCksdC5yZWdpc3RlclByb2Nlc3Nvcih0LlBSSU9SSVRZLlBST0NFU1NPUi5TVEFUSVNUSUMselQpLHZ5KCJtYXAiLHQucmVnaXN0ZXJBY3Rpb24pfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KGNDKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoT0MpLHQucmVnaXN0ZXJMYXlvdXQoTkMpLHQucmVnaXN0ZXJWaXN1YWwoRUMpLGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJBY3Rpb24oe3R5cGU6InRyZWVFeHBhbmRBbmRDb2xsYXBzZSIsZXZlbnQ6InRyZWVFeHBhbmRBbmRDb2xsYXBzZSIsdXBkYXRlOiJ1cGRhdGUifSwoZnVuY3Rpb24odCxlKXtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJzZXJpZXMiLHN1YlR5cGU6InRyZWUiLHF1ZXJ5OnR9LChmdW5jdGlvbihlKXt2YXIgbj10LmRhdGFJbmRleCxpPWUuZ2V0RGF0YSgpLnRyZWUuZ2V0Tm9kZUJ5RGF0YUluZGV4KG4pO2kuaXNFeHBhbmQ9IWkuaXNFeHBhbmR9KSl9KSksdC5yZWdpc3RlckFjdGlvbih7dHlwZToidHJlZVJvYW0iLGV2ZW50OiJ0cmVlUm9hbSIsdXBkYXRlOiJub25lIn0sKGZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToic2VyaWVzIixzdWJUeXBlOiJ0cmVlIixxdWVyeTp0fSwoZnVuY3Rpb24oZSl7dmFyIG49S1QoZS5jb29yZGluYXRlU3lzdGVtLHQpO2Uuc2V0Q2VudGVyJiZlLnNldENlbnRlcihuLmNlbnRlciksZS5zZXRab29tJiZlLnNldFpvb20obi56b29tKX0pKX0pKX0odCl9LGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJTZXJpZXNNb2RlbChCQyksdC5yZWdpc3RlckNoYXJ0VmlldyhKQyksdC5yZWdpc3RlclZpc3VhbChnRCksdC5yZWdpc3RlckxheW91dChERCksZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx6Qy5sZW5ndGg7ZSsrKXQucmVnaXN0ZXJBY3Rpb24oe3R5cGU6ekNbZV0sdXBkYXRlOiJ1cGRhdGVWaWV3In0seHQpO3QucmVnaXN0ZXJBY3Rpb24oe3R5cGU6InRyZWVtYXBSb290VG9Ob2RlIix1cGRhdGU6InVwZGF0ZVZpZXcifSwoZnVuY3Rpb24odCxlKXtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJzZXJpZXMiLHN1YlR5cGU6InRyZWVtYXAiLHF1ZXJ5OnR9LChmdW5jdGlvbihlLG4pe3ZhciBpPUFDKHQsWyJ0cmVlbWFwWm9vbVRvTm9kZSIsInRyZWVtYXBSb290VG9Ob2RlIl0sZSk7aWYoaSl7dmFyIHI9ZS5nZXRWaWV3Um9vdCgpO3ImJih0LmRpcmVjdGlvbj1MQyhyLGkubm9kZSk/InJvbGxVcCI6ImRyaWxsRG93biIpLGUucmVzZXRWaWV3Um9vdChpLm5vZGUpfX0pKX0pKX0odCl9LGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDaGFydFZpZXcoQ0EpLHQucmVnaXN0ZXJTZXJpZXNNb2RlbChSQSksdC5yZWdpc3RlclByb2Nlc3NvcihSRCksdC5yZWdpc3RlclZpc3VhbChORCksdC5yZWdpc3RlclZpc3VhbCh6RCksdC5yZWdpc3RlckxheW91dChaRCksdC5yZWdpc3RlckxheW91dCh0LlBSSU9SSVRZLlZJU1VBTC5QT1NUX0NIQVJUX0xBWU9VVCx0QSksdC5yZWdpc3RlckxheW91dChuQSksdC5yZWdpc3RlckNvb3JkaW5hdGVTeXN0ZW0oImdyYXBoVmlldyIse2RpbWVuc2lvbnM6RlQuZGltZW5zaW9ucyxjcmVhdGU6aUF9KSx0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOiJmb2N1c05vZGVBZGphY2VuY3kiLGV2ZW50OiJmb2N1c05vZGVBZGphY2VuY3kiLHVwZGF0ZToic2VyaWVzOmZvY3VzTm9kZUFkamFjZW5jeSJ9LHh0KSx0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOiJ1bmZvY3VzTm9kZUFkamFjZW5jeSIsZXZlbnQ6InVuZm9jdXNOb2RlQWRqYWNlbmN5Iix1cGRhdGU6InNlcmllczp1bmZvY3VzTm9kZUFkamFjZW5jeSJ9LHh0KSx0LnJlZ2lzdGVyQWN0aW9uKE5BLChmdW5jdGlvbih0LGUpe2UuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InNlcmllcyIscXVlcnk6dH0sKGZ1bmN0aW9uKGUpe3ZhciBuPUtUKGUuY29vcmRpbmF0ZVN5c3RlbSx0KTtlLnNldENlbnRlciYmZS5zZXRDZW50ZXIobi5jZW50ZXIpLGUuc2V0Wm9vbSYmZS5zZXRab29tKG4uem9vbSl9KSl9KSl9LGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDaGFydFZpZXcoQkEpLHQucmVnaXN0ZXJTZXJpZXNNb2RlbChGQSl9LGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDaGFydFZpZXcoSEEpLHQucmVnaXN0ZXJTZXJpZXNNb2RlbChZQSksdC5yZWdpc3RlckxheW91dChVQSksdC5yZWdpc3RlclByb2Nlc3NvcihRUygiZnVubmVsIikpfSxmdW5jdGlvbih0KXtibSh2TCksdC5yZWdpc3RlckNoYXJ0VmlldyhYQSksdC5yZWdpc3RlclNlcmllc01vZGVsKCRBKSx0LnJlZ2lzdGVyVmlzdWFsKHQuUFJJT1JJVFkuVklTVUFMLkJSVVNILHRrKX0sZnVuY3Rpb24odCl7dC5yZWdpc3RlckNoYXJ0VmlldyhfTCksdC5yZWdpc3RlclNlcmllc01vZGVsKGJMKSx0LnJlZ2lzdGVyTGF5b3V0KHdMKSx0LnJlZ2lzdGVyVmlzdWFsKFJMKSx0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOiJkcmFnTm9kZSIsZXZlbnQ6ImRyYWdub2RlIix1cGRhdGU6InVwZGF0ZSJ9LChmdW5jdGlvbih0LGUpe2UuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InNlcmllcyIsc3ViVHlwZToic2Fua2V5IixxdWVyeTp0fSwoZnVuY3Rpb24oZSl7ZS5zZXROb2RlUG9zaXRpb24odC5kYXRhSW5kZXgsW3QubG9jYWxYLHQubG9jYWxZXSl9KSl9KSl9LGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJTZXJpZXNNb2RlbChFTCksdC5yZWdpc3RlckNoYXJ0Vmlldyh6TCksdC5yZWdpc3RlclZpc3VhbChITCksdC5yZWdpc3RlckxheW91dChVTCksdC5yZWdpc3RlclRyYW5zZm9ybShYTCl9LGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDaGFydFZpZXcoakwpLHQucmVnaXN0ZXJTZXJpZXNNb2RlbChvUCksdC5yZWdpc3RlclByZXByb2Nlc3NvcihhUCksdC5yZWdpc3RlclZpc3VhbChjUCksdC5yZWdpc3RlckxheW91dChwUCl9LGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDaGFydFZpZXcoeVApLHQucmVnaXN0ZXJTZXJpZXNNb2RlbCh2UCksdC5yZWdpc3RlckxheW91dChfUygiZWZmZWN0U2NhdHRlciIpKX0sZnVuY3Rpb24odCl7dC5yZWdpc3RlckNoYXJ0VmlldyhJUCksdC5yZWdpc3RlclNlcmllc01vZGVsKEFQKSx0LnJlZ2lzdGVyTGF5b3V0KE1QKSx0LnJlZ2lzdGVyVmlzdWFsKExQKX0sZnVuY3Rpb24odCl7dC5yZWdpc3RlckNoYXJ0VmlldyhSUCksdC5yZWdpc3RlclNlcmllc01vZGVsKE5QKX0sZnVuY3Rpb24odCl7dC5yZWdpc3RlckNoYXJ0VmlldyhCUCksdC5yZWdpc3RlclNlcmllc01vZGVsKGlPKSx0LnJlZ2lzdGVyTGF5b3V0KHQuUFJJT1JJVFkuVklTVUFMLkxBWU9VVCxIKEF4LCJwaWN0b3JpYWxCYXIiKSksdC5yZWdpc3RlckxheW91dCh0LlBSSU9SSVRZLlZJU1VBTC5QUk9HUkVTU0lWRV9MQVlPVVQsa3goInBpY3RvcmlhbEJhciIpKX0sZnVuY3Rpb24odCl7dC5yZWdpc3RlckNoYXJ0VmlldyhyTyksdC5yZWdpc3RlclNlcmllc01vZGVsKG9PKSx0LnJlZ2lzdGVyTGF5b3V0KGFPKSx0LnJlZ2lzdGVyUHJvY2Vzc29yKFFTKCJ0aGVtZVJpdmVyIikpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KGNPKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwocE8pLHQucmVnaXN0ZXJMYXlvdXQoSChnTywic3VuYnVyc3QiKSksdC5yZWdpc3RlclByb2Nlc3NvcihIKFFTLCJzdW5idXJzdCIpKSx0LnJlZ2lzdGVyVmlzdWFsKHZPKSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOnVPLHVwZGF0ZToidXBkYXRlVmlldyJ9LChmdW5jdGlvbih0LGUpe2UuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InNlcmllcyIsc3ViVHlwZToic3VuYnVyc3QiLHF1ZXJ5OnR9LChmdW5jdGlvbihlLG4pe3ZhciBpPUFDKHQsW3VPXSxlKTtpZihpKXt2YXIgcj1lLmdldFZpZXdSb290KCk7ciYmKHQuZGlyZWN0aW9uPUxDKHIsaS5ub2RlKT8icm9sbFVwIjoiZHJpbGxEb3duIiksZS5yZXNldFZpZXdSb290KGkubm9kZSl9fSkpfSkpLHQucmVnaXN0ZXJBY3Rpb24oe3R5cGU6aE8sdXBkYXRlOiJub25lIn0sKGZ1bmN0aW9uKHQsZSxuKXt0PUEoe30sdCksZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToic2VyaWVzIixzdWJUeXBlOiJzdW5idXJzdCIscXVlcnk6dH0sKGZ1bmN0aW9uKGUpe3ZhciBuPUFDKHQsW2hPXSxlKTtuJiYodC5kYXRhSW5kZXg9bi5ub2RlLmRhdGFJbmRleCl9KSksbi5kaXNwYXRjaEFjdGlvbihBKHQse3R5cGU6ImhpZ2hsaWdodCJ9KSl9KSksdC5yZWdpc3RlckFjdGlvbih7dHlwZToic3VuYnVyc3RVbmhpZ2hsaWdodCIsdXBkYXRlOiJ1cGRhdGVWaWV3In0sKGZ1bmN0aW9uKHQsZSxuKXt0PUEoe30sdCksbi5kaXNwYXRjaEFjdGlvbihBKHQse3R5cGU6ImRvd25wbGF5In0pKX0pKX0odCl9LGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDaGFydFZpZXcobFIpLHQucmVnaXN0ZXJTZXJpZXNNb2RlbChiTyl9XSksYm0oKGZ1bmN0aW9uKHQpe2JtKGNJKSxibShsTil9KSksYm0oKGZ1bmN0aW9uKHQpe2JtKGxOKSxRTS5yZWdpc3RlckF4aXNQb2ludGVyQ2xhc3MoIlBvbGFyQXhpc1BvaW50ZXIiLHVOKSx0LnJlZ2lzdGVyQ29vcmRpbmF0ZVN5c3RlbSgicG9sYXIiLFNOKSx0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoY04pLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KEJOKSxTTSh0LCJhbmdsZSIsZE4sek4pLFNNKHQsInJhZGl1cyIsZk4sVk4pLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KEROKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhQTiksdC5yZWdpc3RlckxheW91dChIKEVOLCJiYXIiKSl9KSksYm0oUVQpLGJtKChmdW5jdGlvbih0KXtibShsTiksUU0ucmVnaXN0ZXJBeGlzUG9pbnRlckNsYXNzKCJTaW5nbGVBeGlzUG9pbnRlciIsUU4pLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KGlFKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhITiksdC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKFVOKSxTTSh0LCJzaW5nbGUiLFVOLFVOLmRlZmF1bHRPcHRpb24pLHQucmVnaXN0ZXJDb29yZGluYXRlU3lzdGVtKCJzaW5nbGUiLEtOKX0pKSxibSh2TCksYm0oKGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDb21wb25lbnRNb2RlbChyRSksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoYUUpLHQucmVnaXN0ZXJDb29yZGluYXRlU3lzdGVtKCJjYWxlbmRhciIsbEUpfSkpLGJtKChmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoZkUpLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KHZFKSx0LnJlZ2lzdGVyUHJlcHJvY2Vzc29yKChmdW5jdGlvbih0KXt2YXIgZT10LmdyYXBoaWM7WShlKT9lWzBdJiZlWzBdLmVsZW1lbnRzP3QuZ3JhcGhpYz1bdC5ncmFwaGljWzBdXTp0LmdyYXBoaWM9W3tlbGVtZW50czplfV06ZSYmIWUuZWxlbWVudHMmJih0LmdyYXBoaWM9W3tlbGVtZW50czpbZV19XSl9KSl9KSksYm0oKGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDb21wb25lbnRNb2RlbChZRSksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoWEUpLFdFKCJzYXZlQXNJbWFnZSIsWkUpLFdFKCJtYWdpY1R5cGUiLEtFKSxXRSgiZGF0YVZpZXciLGl6KSxXRSgiZGF0YVpvb20iLEl6KSxXRSgicmVzdG9yZSIsbHopLGJtKEJFKX0pKSxibSgoZnVuY3Rpb24odCl7Ym0obE4pLHQucmVnaXN0ZXJDb21wb25lbnRNb2RlbChEeiksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoVXopLHQucmVnaXN0ZXJBY3Rpb24oe3R5cGU6InNob3dUaXAiLGV2ZW50OiJzaG93VGlwIix1cGRhdGU6InRvb2x0aXA6bWFudWFsbHlTaG93VGlwIn0seHQpLHQucmVnaXN0ZXJBY3Rpb24oe3R5cGU6ImhpZGVUaXAiLGV2ZW50OiJoaWRlVGlwIix1cGRhdGU6InRvb2x0aXA6bWFudWFsbHlIaWRlVGlwIn0seHQpfSkpLGJtKGxOKSxibSgoZnVuY3Rpb24odCl7dC5yZWdpc3RlckNvbXBvbmVudFZpZXcoZFYpLHQucmVnaXN0ZXJDb21wb25lbnRNb2RlbChmViksdC5yZWdpc3RlclByZXByb2Nlc3NvcihLeiksdC5yZWdpc3RlclZpc3VhbCh0LlBSSU9SSVRZLlZJU1VBTC5CUlVTSCxsViksdC5yZWdpc3RlckFjdGlvbih7dHlwZToiYnJ1c2giLGV2ZW50OiJicnVzaCIsdXBkYXRlOiJ1cGRhdGVWaXN1YWwifSwoZnVuY3Rpb24odCxlKXtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJicnVzaCIscXVlcnk6dH0sKGZ1bmN0aW9uKGUpe2Uuc2V0QXJlYXModC5hcmVhcyl9KSl9KSksdC5yZWdpc3RlckFjdGlvbih7dHlwZToiYnJ1c2hTZWxlY3QiLGV2ZW50OiJicnVzaFNlbGVjdGVkIix1cGRhdGU6Im5vbmUifSx4dCksdC5yZWdpc3RlckFjdGlvbih7dHlwZToiYnJ1c2hFbmQiLGV2ZW50OiJicnVzaEVuZCIsdXBkYXRlOiJub25lIn0seHQpLFdFKCJicnVzaCIsdlYpfSkpLGJtKChmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwobVYpLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KHhWKX0pKSxibSgoZnVuY3Rpb24odCl7dC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKGJWKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhUViksdC5yZWdpc3RlclN1YlR5cGVEZWZhdWx0ZXIoInRpbWVsaW5lIiwoZnVuY3Rpb24oKXtyZXR1cm4ic2xpZGVyIn0pKSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOiJ0aW1lbGluZUNoYW5nZSIsZXZlbnQ6InRpbWVsaW5lQ2hhbmdlZCIsdXBkYXRlOiJwcmVwYXJlQW5kVXBkYXRlIn0sKGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lLmdldENvbXBvbmVudCgidGltZWxpbmUiKTtyZXR1cm4gaSYmbnVsbCE9dC5jdXJyZW50SW5kZXgmJihpLnNldEN1cnJlbnRJbmRleCh0LmN1cnJlbnRJbmRleCksIWkuZ2V0KCJsb29wIiwhMCkmJmkuaXNJbmRleE1heCgpJiZpLmdldFBsYXlTdGF0ZSgpJiYoaS5zZXRQbGF5U3RhdGUoITEpLG4uZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InRpbWVsaW5lUGxheUNoYW5nZSIscGxheVN0YXRlOiExLGZyb206dC5mcm9tfSkpKSxlLnJlc2V0T3B0aW9uKCJ0aW1lbGluZSIse3JlcGxhY2VNZXJnZTppLmdldCgicmVwbGFjZU1lcmdlIiwhMCl9KSxrKHtjdXJyZW50SW5kZXg6aS5vcHRpb24uY3VycmVudEluZGV4fSx0KX0pKSx0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOiJ0aW1lbGluZVBsYXlDaGFuZ2UiLGV2ZW50OiJ0aW1lbGluZVBsYXlDaGFuZ2VkIix1cGRhdGU6InVwZGF0ZSJ9LChmdW5jdGlvbih0LGUpe3ZhciBuPWUuZ2V0Q29tcG9uZW50KCJ0aW1lbGluZSIpO24mJm51bGwhPXQucGxheVN0YXRlJiZuLnNldFBsYXlTdGF0ZSh0LnBsYXlTdGF0ZSl9KSl9KHQpLHQucmVnaXN0ZXJQcmVwcm9jZXNzb3IoQVYpfSkpLGJtKChmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoRVYpLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KFpWKSx0LnJlZ2lzdGVyUHJlcHJvY2Vzc29yKChmdW5jdGlvbih0KXtQVih0LnNlcmllcywibWFya1BvaW50IikmJih0Lm1hcmtQb2ludD10Lm1hcmtQb2ludHx8e30pfSkpfSkpLGJtKChmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoalYpLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KGVCKSx0LnJlZ2lzdGVyUHJlcHJvY2Vzc29yKChmdW5jdGlvbih0KXtQVih0LnNlcmllcywibWFya0xpbmUiKSYmKHQubWFya0xpbmU9dC5tYXJrTGluZXx8e30pfSkpfSkpLGJtKChmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwobkIpLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KGhCKSx0LnJlZ2lzdGVyUHJlcHJvY2Vzc29yKChmdW5jdGlvbih0KXtQVih0LnNlcmllcywibWFya0FyZWEiKSYmKHQubWFya0FyZWE9dC5tYXJrQXJlYXx8e30pfSkpfSkpLGJtKChmdW5jdGlvbih0KXtibSh3QiksYm0oQUIpfSkpLGJtKChmdW5jdGlvbih0KXtibShHQiksYm0oS0IpfSkpLGJtKEdCKSxibShLQiksYm0oKGZ1bmN0aW9uKHQpe2JtKGtGKSxibShORil9KSksYm0oa0YpLGJtKE5GKSxibSgoZnVuY3Rpb24odCl7dC5yZWdpc3RlclByZXByb2Nlc3NvcihGRiksdC5yZWdpc3RlclZpc3VhbCh0LlBSSU9SSVRZLlZJU1VBTC5BUklBLEJGKX0pKSxibSgoZnVuY3Rpb24odCl7dC5yZWdpc3RlclRyYW5zZm9ybShKRiksdC5yZWdpc3RlclRyYW5zZm9ybShRRil9KSksYm0oKGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDb21wb25lbnRNb2RlbCh0RyksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoZUcpfSkpLGJtKChmdW5jdGlvbih0KXt0LnJlZ2lzdGVyVXBkYXRlTGlmZWN5Y2xlKCJzZXJpZXM6YmVmb3JldXBkYXRlIiwoZnVuY3Rpb24odCxlLG4pe0UoaG8obi5zZXJpZXNUcmFuc2l0aW9uKSwoZnVuY3Rpb24odCl7RShobyh0LnRvKSwoZnVuY3Rpb24odCl7Zm9yKHZhciBlPW4udXBkYXRlZFNlcmllcyxpPTA7aTxlLmxlbmd0aDtpKyspKG51bGwhPXQuc2VyaWVzSW5kZXgmJnQuc2VyaWVzSW5kZXg9PT1lW2ldLnNlcmllc0luZGV4fHxudWxsIT10LnNlcmllc0lkJiZ0LnNlcmllc0lkPT09ZVtpXS5pZCkmJihlW2ldLl9fdW5pdmVyc2FsVHJhbnNpdGlvbkVuYWJsZWQ9ITApfSkpfSkpfSkpLHQucmVnaXN0ZXJVcGRhdGVMaWZlY3ljbGUoInNlcmllczp0cmFuc2l0aW9uIiwoZnVuY3Rpb24odCxlLG4pe3ZhciBpPUVHKGUpO2lmKGkub2xkU2VyaWVzJiZuLnVwZGF0ZWRTZXJpZXMmJm4ub3B0aW9uQ2hhbmdlZCl7dmFyIHI9bi5zZXJpZXNUcmFuc2l0aW9uO2lmKHIpRShobyhyKSwoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPVtdLG89W107RShobyh0LmZyb20pLChmdW5jdGlvbih0KXt2YXIgbj1YRyhlLm9sZFNlcmllcyx0KTtuPj0wJiZyLnB1c2goe2RhdGE6ZS5vbGREYXRhW25dLGRpdmlkZTpVRyhlLm9sZERhdGFbbl0pLGRpbTp0LmRpbWVuc2lvbn0pfSkpLEUoaG8odC50byksKGZ1bmN0aW9uKHQpe3ZhciBlPVhHKG4udXBkYXRlZFNlcmllcyx0KTtpZihlPj0wKXt2YXIgaT1uLnVwZGF0ZWRTZXJpZXNbZV0uZ2V0RGF0YSgpO28ucHVzaCh7ZGF0YTppLGRpdmlkZTpVRyhpKSxkaW06dC5kaW1lbnNpb259KX19KSksci5sZW5ndGg+MCYmby5sZW5ndGg+MCYmV0cocixvLGkpfSh0LGksbixlKX0pKTtlbHNle3ZhciBvPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZnQoKSxpPWZ0KCkscj1mdCgpO3JldHVybiBFKHQub2xkU2VyaWVzLChmdW5jdGlvbihlLG4pe3ZhciBvPXQub2xkRGF0YVtuXSxhPUhHKGUpLHM9WUcoYSk7aS5zZXQocyxvKSxZKGEpJiZFKGEsKGZ1bmN0aW9uKHQpe3Iuc2V0KHQse2RhdGE6byxrZXk6c30pfSkpfSkpLEUoZS51cGRhdGVkU2VyaWVzLChmdW5jdGlvbih0KXtpZih0LmlzVW5pdmVyc2FsVHJhbnNpdGlvbkVuYWJsZWQoKSYmdC5pc0FuaW1hdGlvbkVuYWJsZWQoKSl7dmFyIGU9dC5nZXREYXRhKCksbz1IRyh0KSxhPVlHKG8pLHM9aS5nZXQoYSk7aWYocyluLnNldChhLHtvbGRTZXJpZXM6W3tkaXZpZGU6VUcocyksZGF0YTpzfV0sbmV3U2VyaWVzOlt7ZGl2aWRlOlVHKGUpLGRhdGE6ZX1dfSk7ZWxzZSBpZihZKG8pKXt2YXIgbD1bXTtFKG8sKGZ1bmN0aW9uKHQpe3ZhciBlPWkuZ2V0KHQpO2UmJmwucHVzaCh7ZGl2aWRlOlVHKGUpLGRhdGE6ZX0pfSkpLGwubGVuZ3RoJiZuLnNldChhLHtvbGRTZXJpZXM6bCxuZXdTZXJpZXM6W3tkYXRhOmUsZGl2aWRlOlVHKGUpfV19KX1lbHNle3ZhciB1PXIuZ2V0KG8pO2lmKHUpe3ZhciBoPW4uZ2V0KHUua2V5KTtofHwoaD17b2xkU2VyaWVzOlt7ZGF0YTp1LmRhdGEsZGl2aWRlOlVHKHUuZGF0YSl9XSxuZXdTZXJpZXM6W119LG4uc2V0KHUua2V5LGgpKSxoLm5ld1Nlcmllcy5wdXNoKHtkYXRhOmUsZGl2aWRlOlVHKGUpfSl9fX19KSksbn0oaSxuKTtFKG8ua2V5cygpLChmdW5jdGlvbih0KXt2YXIgbj1vLmdldCh0KTtXRyhuLm9sZFNlcmllcyxuLm5ld1NlcmllcyxlKX0pKX1FKG4udXBkYXRlZFNlcmllcywoZnVuY3Rpb24odCl7dC5fX3VuaXZlcnNhbFRyYW5zaXRpb25FbmFibGVkJiYodC5fX3VuaXZlcnNhbFRyYW5zaXRpb25FbmFibGVkPSExKX0pKX1mb3IodmFyIGE9dC5nZXRTZXJpZXMoKSxzPWkub2xkU2VyaWVzPVtdLGw9aS5vbGREYXRhPVtdLHU9MDt1PGEubGVuZ3RoO3UrKyl7dmFyIGg9YVt1XS5nZXREYXRhKCk7aC5jb3VudCgpPDFlNCYmKHMucHVzaChhW3VdKSxsLnB1c2goaCkpfX0pKX0pKSxibSgoZnVuY3Rpb24odCl7dC5yZWdpc3RlclVwZGF0ZUxpZmVjeWNsZSgic2VyaWVzOmJlZm9yZXVwZGF0ZSIsKGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1DYihlKS5sYWJlbE1hbmFnZXI7aXx8KGk9Q2IoZSkubGFiZWxNYW5hZ2VyPW5ldyBUYiksaS5jbGVhckxhYmVscygpfSkpLHQucmVnaXN0ZXJVcGRhdGVMaWZlY3ljbGUoInNlcmllczpsYXlvdXRsYWJlbHMiLChmdW5jdGlvbih0LGUsbil7dmFyIGk9Q2IoZSkubGFiZWxNYW5hZ2VyO24udXBkYXRlZFNlcmllcy5mb3JFYWNoKChmdW5jdGlvbih0KXtpLmFkZExhYmVsc09mU2VyaWVzKGUuZ2V0Vmlld09mU2VyaWVzTW9kZWwodCkpfSkpLGkudXBkYXRlTGF5b3V0Q29uZmlnKGUpLGkubGF5b3V0KGUpLGkucHJvY2Vzc0xhYmVsc092ZXJhbGwoKX0pKX0pKSx0LkF4aXM9V18sdC5DaGFydFZpZXc9eGcsdC5Db21wb25lbnRNb2RlbD1UcCx0LkNvbXBvbmVudFZpZXc9Z2csdC5MaXN0PWptLHQuTW9kZWw9ZGMsdC5QUklPUklUWT1kdix0LlNlcmllc01vZGVsPXNnLHQuY29sb3I9UG4sdC5jb25uZWN0PWZ1bmN0aW9uKHQpe2lmKFkodCkpe3ZhciBlPXQ7dD1udWxsLEUoZSwoZnVuY3Rpb24oZSl7bnVsbCE9ZS5ncm91cCYmKHQ9ZS5ncm91cCl9KSksdD10fHwiZ18iK1F2KyssRShlLChmdW5jdGlvbihlKXtlLmdyb3VwPXR9KSl9cmV0dXJuICR2W3RdPSEwLHR9LHQuZGF0YVRvb2w9e30sdC5kZXBlbmRlbmNpZXM9e3pyZW5kZXI6IjUuMy4xIn0sdC5kaXNDb25uZWN0PWVtLHQuZGlzY29ubmVjdD1ubSx0LmRpc3Bvc2U9ZnVuY3Rpb24odCl7WCh0KT90PUt2W3RdOnQgaW5zdGFuY2VvZiBCdnx8KHQ9aW0odCkpLHQgaW5zdGFuY2VvZiBCdiYmIXQuaXNEaXNwb3NlZCgpJiZ0LmRpc3Bvc2UoKX0sdC5lbnY9cix0LmV4dGVuZENoYXJ0Vmlldz1mdW5jdGlvbih0KXt2YXIgZT14Zy5leHRlbmQodCk7cmV0dXJuIHhnLnJlZ2lzdGVyQ2xhc3MoZSksZX0sdC5leHRlbmRDb21wb25lbnRNb2RlbD1mdW5jdGlvbih0KXt2YXIgZT1UcC5leHRlbmQodCk7cmV0dXJuIFRwLnJlZ2lzdGVyQ2xhc3MoZSksZX0sdC5leHRlbmRDb21wb25lbnRWaWV3PWZ1bmN0aW9uKHQpe3ZhciBlPWdnLmV4dGVuZCh0KTtyZXR1cm4gZ2cucmVnaXN0ZXJDbGFzcyhlKSxlfSx0LmV4dGVuZFNlcmllc01vZGVsPWZ1bmN0aW9uKHQpe3ZhciBlPXNnLmV4dGVuZCh0KTtyZXR1cm4gc2cucmVnaXN0ZXJDbGFzcyhlKSxlfSx0LmZvcm1hdD1rXyx0LmdldENvb3JkaW5hdGVTeXN0ZW1EaW1lbnNpb25zPWZ1bmN0aW9uKHQpe3ZhciBlPWhkLmdldCh0KTtpZihlKXJldHVybiBlLmdldERpbWVuc2lvbnNJbmZvP2UuZ2V0RGltZW5zaW9uc0luZm8oKTplLmRpbWVuc2lvbnMuc2xpY2UoKX0sdC5nZXRJbnN0YW5jZUJ5RG9tPWltLHQuZ2V0SW5zdGFuY2VCeUlkPWZ1bmN0aW9uKHQpe3JldHVybiBLdlt0XX0sdC5nZXRNYXA9ZnVuY3Rpb24odCl7dmFyIGU9dXYoImdldE1hcCIpO3JldHVybiBlJiZlKHQpfSx0LmdyYXBoaWM9QV8sdC5oZWxwZXI9ZF8sdC5pbml0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT0hKG4mJm4uc3NyKTtpZihpKXswO3ZhciByPWltKHQpO2lmKHIpcmV0dXJuIHI7MH12YXIgbz1uZXcgQnYodCxlLG4pO3JldHVybiBvLmlkPSJlY18iK0p2KyssS3Zbby5pZF09byxpJiZrbyh0LHRtLG8uaWQpLFJ2KG8pLHN2LnRyaWdnZXIoImFmdGVyaW5pdCIsbyksb30sdC5pbm5lckRyYXdFbGVtZW50T25DYW52YXM9SnksdC5tYXRyaXg9R2ksdC5udW1iZXI9Q18sdC5wYXJzZUdlb0pTT049VF8sdC5wYXJzZUdlb0pzb249VF8sdC5yZWdpc3RlckFjdGlvbj1obSx0LnJlZ2lzdGVyQ29vcmRpbmF0ZVN5c3RlbT1jbSx0LnJlZ2lzdGVyTGF5b3V0PXBtLHQucmVnaXN0ZXJMb2FkaW5nPXltLHQucmVnaXN0ZXJMb2NhbGU9U2MsdC5yZWdpc3Rlck1hcD12bSx0LnJlZ2lzdGVyUG9zdEluaXQ9c20sdC5yZWdpc3RlclBvc3RVcGRhdGU9bG0sdC5yZWdpc3RlclByZXByb2Nlc3Nvcj1vbSx0LnJlZ2lzdGVyUHJvY2Vzc29yPWFtLHQucmVnaXN0ZXJUaGVtZT1ybSx0LnJlZ2lzdGVyVHJhbnNmb3JtPW1tLHQucmVnaXN0ZXJVcGRhdGVMaWZlY3ljbGU9dW0sdC5yZWdpc3RlclZpc3VhbD1kbSx0LnNldENhbnZhc0NyZWF0b3I9ZnVuY3Rpb24odCl7Yyh7Y3JlYXRlQ2FudmFzOnR9KX0sdC5zZXRQbGF0Zm9ybUFQST1jLHQudGhyb3R0bGU9RGcsdC50aW1lPURfLHQudXNlPWJtLHQudXRpbD1MXyx0LnZlY3Rvcj1IdCx0LnZlcnNpb249IjUuMy4yIix0LnpyVXRpbD1idCx0LnpyZW5kZXI9T3IsT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSkpOwo="></script>
<script src="data:application/javascript;base64,IWZ1bmN0aW9uKHIsbil7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1uKCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sbik6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuZWNTdGF0PW4oKTpyLmVjU3RhdD1uKCl9KHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihlKXtpZih0W2VdKXJldHVybiB0W2VdLmV4cG9ydHM7dmFyIG89dFtlXT17ZXhwb3J0czp7fSxpZDplLGxvYWRlZDohMX07cmV0dXJuIHJbZV0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsbiksby5sb2FkZWQ9ITAsby5leHBvcnRzfXZhciB0PXt9O3JldHVybiBuLm09cixuLmM9dCxuLnA9IiIsbigwKX0oW2Z1bmN0aW9uKHIsbix0KXtyLmV4cG9ydHM9dCgxMil9LGZ1bmN0aW9uKHIsbix0KXt2YXIgZTtlPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG4ocil7cmV0dXJuIHI9bnVsbD09PXI/TmFOOityLCJudW1iZXIiPT10eXBlb2YgciYmIWlzTmFOKHIpfWZ1bmN0aW9uIHQocil7cmV0dXJuIGlzRmluaXRlKHIpJiZyPT09TWF0aC5yb3VuZChyKX1yZXR1cm57aXNOdW1iZXI6bixpc0ludGVnZXI6dH19LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7cmV0dXJuIGZ1bmN0aW9uKHIsbil7dmFyIHQ9ci5sZW5ndGg7aWYoIXQpcmV0dXJuIDA7aWYobjw9MHx8dDwyKXJldHVybiByWzBdO2lmKG4+PTEpcmV0dXJuIHJbdC0xXTt2YXIgZT0odC0xKSpuLG89TWF0aC5mbG9vcihlKSxhPXJbb10sdT1yW28rMV07cmV0dXJuIGErKHUtYSkqKGUtbyl9fS5jYWxsKG4sdCxuLHIpLCEodm9pZCAwIT09ZSYmKHIuZXhwb3J0cz1lKSl9LGZ1bmN0aW9uKHIsbix0KXt2YXIgZTtlPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG4ocil7Zm9yKHZhciBuPVtdO3Qocik7KW4ucHVzaChyLmxlbmd0aCkscj1yWzBdO3JldHVybiBufWZ1bmN0aW9uIHQocil7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PWwuY2FsbChyKX1mdW5jdGlvbiBlKHIsbil7Zm9yKHZhciB0PVtdLGU9MDtlPHI7ZSsrKXt0W2VdPVtdO2Zvcih2YXIgbz0wO288bjtvKyspdFtlXVtvXT0wfXJldHVybiB0fWZ1bmN0aW9uIG8ocil7Zm9yKHZhciBuPTAsdD0wO3Q8ci5sZW5ndGg7dCsrKW4rPXJbdF07cmV0dXJuIG59ZnVuY3Rpb24gYShyLG4pe2Zvcih2YXIgdD0wLGU9MDtlPHIubGVuZ3RoO2UrKyl0Kz1yW2VdW25dO3JldHVybiB0fWZ1bmN0aW9uIHUocixuKXtyZXR1cm4gcj5uPzE6cjxuPy0xOnI9PT1uPzA6TmFOfWZ1bmN0aW9uIGkocixuLHQsZSl7Zm9yKG51bGw9PXQmJih0PTApLG51bGw9PWUmJihlPXIubGVuZ3RoKTt0PGU7KXt2YXIgbz1NYXRoLmZsb29yKCh0K2UpLzIpLGE9dShyW29dLG4pO2lmKGE+MCllPW87ZWxzZXtpZighKGE8MCkpcmV0dXJuIG8rMTt0PW8rMX19cmV0dXJuIHR9ZnVuY3Rpb24gZihyLG4sdCl7aWYociYmbil7aWYoci5tYXAmJnIubWFwPT09aClyZXR1cm4gci5tYXAobix0KTtmb3IodmFyIGU9W10sbz0wLGE9ci5sZW5ndGg7bzxhO28rKyllLnB1c2gobi5jYWxsKHQscltvXSxvLHIpKTtyZXR1cm4gZX19dmFyIGw9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxzPUFycmF5LnByb3RvdHlwZSxoPXMubWFwO3JldHVybntzaXplOm4saXNBcnJheTp0LHplcm9zOmUsc3VtOm8sc3VtT2ZDb2x1bW46YSxhc2NlbmRpbmc6dSxiaXNlY3Q6aSxtYXA6Zn19LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihyKXtpZighbyhyKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgZGF0YSB0eXBlLCB5b3Ugc2hvdWxkIGlucHV0IGFuIGFycmF5Iik7dmFyIG49W10sdD1hKHIpO2lmKDE9PT10Lmxlbmd0aClmb3IodmFyIGU9MDtlPHRbMF07ZSsrKWkocltlXSkmJm4ucHVzaChyW2VdKTtlbHNlIGlmKDI9PT10Lmxlbmd0aClmb3IodmFyIGU9MDtlPHRbMF07ZSsrKXtmb3IodmFyIHU9ITAsZj0wO2Y8dFsxXTtmKyspaShyW2VdW2ZdKXx8KHU9ITEpO3UmJm4ucHVzaChyW2VdKX1yZXR1cm4gbn12YXIgZT10KDMpLG89ZS5pc0FycmF5LGE9ZS5zaXplLHU9dCgxKSxpPXUuaXNOdW1iZXI7cmV0dXJuIG59LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7dmFyIG49dCg5KTtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIHQ9bihyKTtyZXR1cm4gdD9NYXRoLnNxcnQodCk6dH19LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihyKXtmb3IodmFyIG49LSgxLzApLHQ9MDt0PHIubGVuZ3RoO3QrKylvKHJbdF0pJiZyW3RdPm4mJihuPXJbdF0pO3JldHVybiBufXZhciBlPXQoMSksbz1lLmlzTnVtYmVyO3JldHVybiBufS5jYWxsKG4sdCxuLHIpLCEodm9pZCAwIT09ZSYmKHIuZXhwb3J0cz1lKSl9LGZ1bmN0aW9uKHIsbix0KXt2YXIgZTtlPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG4ocil7dmFyIG49ci5sZW5ndGg7cmV0dXJuIG4/ZShyKS9yLmxlbmd0aDowfXZhciBlPXQoMTApO3JldHVybiBufS5jYWxsKG4sdCxuLHIpLCEodm9pZCAwIT09ZSYmKHIuZXhwb3J0cz1lKSl9LGZ1bmN0aW9uKHIsbix0KXt2YXIgZTtlPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG4ocil7Zm9yKHZhciBuPTEvMCx0PTA7dDxyLmxlbmd0aDt0KyspbyhyW3RdKSYmclt0XTxuJiYobj1yW3RdKTtyZXR1cm4gbn12YXIgZT10KDEpLG89ZS5pc051bWJlcjtyZXR1cm4gbn0uY2FsbChuLHQsbixyKSwhKHZvaWQgMCE9PWUmJihyLmV4cG9ydHM9ZSkpfSxmdW5jdGlvbihyLG4sdCl7dmFyIGU7ZT1mdW5jdGlvbihyKXtmdW5jdGlvbiBuKHIpe3ZhciBuPXIubGVuZ3RoO2lmKCFufHxuPDIpcmV0dXJuIDA7aWYoci5sZW5ndGg+PTIpe2Zvcih2YXIgdCxlPWEociksdT0wLGk9MDtpPHIubGVuZ3RoO2krKylvKHJbaV0pJiYodD1yW2ldLWUsdSs9dCp0KTtyZXR1cm4gdS9yLmxlbmd0aC0xfX12YXIgZT10KDEpLG89ZS5pc051bWJlcixhPXQoNyk7cmV0dXJuIG59LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihyKXt2YXIgbj1yLmxlbmd0aDtpZighbilyZXR1cm4gMDtmb3IodmFyIHQ9MCxlPTA7ZTxuO2UrKylvKHJbZV0pJiYodCs9cltlXSk7cmV0dXJuIHR9dmFyIGU9dCgxKSxvPWUuaXNOdW1iZXI7cmV0dXJuIG59LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihyLG4pe2Zvcih2YXIgdCxvLGksZixzPWwociksaD1jKHNbMF0sMiksdj1hKHIsbikscD0hMDtwOyl7cD0hMTtmb3IodmFyIGQ9MDtkPHNbMF07ZCsrKXt0PTEvMCxvPS0xO2Zvcih2YXIgTT0wO008bjtNKyspaT11KHJbZF0sdltNXSksaTx0JiYodD1pLG89TSk7aFtkXVswXSE9PW8mJihwPSEwKSxoW2RdWzBdPW8saFtkXVsxXT1nKHQsMil9Zm9yKHZhciBkPTA7ZDxuO2QrKyl7Zj1bXTtmb3IodmFyIE09MDtNPGgubGVuZ3RoO00rKyloW01dWzBdPT09ZCYmZi5wdXNoKHJbTV0pO3ZbZF09ZShmKX19dmFyIHg9e2NlbnRyb2lkczp2LGNsdXN0ZXJBc3NpZ25lZDpofTtyZXR1cm4geH1mdW5jdGlvbiBlKHIpe2Zvcih2YXIgbix0LGU9bChyKSxvPVtdLGE9MDthPGVbMV07YSsrKXtuPTA7Zm9yKHZhciB1PTA7dTxlWzBdO3UrKyluKz1yW3VdW2FdO3Q9bi9lWzBdLG8ucHVzaCh0KX1yZXR1cm4gb31mdW5jdGlvbiBvKHIsdCxvKXtmdW5jdGlvbiBhKCl7aWYoRTx0KXt5PTEvMDtmb3IodmFyIHIsZSxvLGE9MDthPHgubGVuZ3RoO2ErKyl7Yj1bXSx3PVtdO2Zvcih2YXIgdT0wO3U8ZC5sZW5ndGg7dSsrKWRbdV1bMF09PT1hP2IucHVzaCh2W3VdKTp3LnB1c2goZFt1XVsxXSk7Tj1uKGIsMiksQT1zKE4uY2x1c3RlckFzc2lnbmVkLDEpLHE9aCh3KSxBK3E8eSYmKHk9cStBLHI9YSxlPU4uY2VudHJvaWRzLG89Ti5jbHVzdGVyQXNzaWduZWQpfWZvcih2YXIgdT0wO3U8by5sZW5ndGg7dSsrKTA9PT1vW3VdWzBdP29bdV1bMF09cjoxPT09b1t1XVswXSYmKG9bdV1bMF09eC5sZW5ndGgpO2Zvcih4W3JdPWVbMF0seC5wdXNoKGVbMV0pLHU9MCxhPTA7dTxkLmxlbmd0aCYmYTxvLmxlbmd0aDt1KyspZFt1XVswXT09PXImJihkW3VdWzBdPW9bYV1bMF0sZFt1XVsxXT1vW2ErK11bMV0pO2Zvcih2YXIgaT1bXSx1PTA7dTx4Lmxlbmd0aDt1Kyspe2lbdV09W107Zm9yKHZhciBhPTA7YTxkLmxlbmd0aDthKyspZFthXVswXT09PXUmJmlbdV0ucHVzaCh2W2FdKX1qLmNsdXN0ZXJBc3NtZW50PWQsai5jZW50cm9pZHM9eCxqLnBvaW50c0luQ2x1c3Rlcj1pLEUrK31lbHNlIGouaXNFbmQ9ITA7cmV0dXJuIGp9Zm9yKHZhciBmLHY9aShyKSxwPWwodiksZD1jKHBbMF0sMiksTT1lKHYpLHg9W01dLG09MDttPHBbMF07bSsrKWY9dSh2W21dLE0pLGRbbV1bMV09ZyhmLDIpO3ZhciB5LGIsdyxOLEEscSxFPTEsaj17aXNFbmQ6ITF9LHo9e25leHQ6YX07aWYobylyZXR1cm4gejtmb3IodmFyIGo7IShqPXoubmV4dCgpKS5pc0VuZDspO3JldHVybiBqfWZ1bmN0aW9uIGEocixuKXtmb3IodmFyIHQsZSxvLGE9bChyKSx1PWMobixhWzFdKSxpPTA7aTxhWzFdO2krKyl7dD1yWzBdW2ldLGU9clswXVtpXTtmb3IodmFyIGY9MTtmPGFbMF07ZisrKXJbZl1baV08dCYmKHQ9cltmXVtpXSkscltmXVtpXT5lJiYoZT1yW2ZdW2ldKTtvPWUtdDtmb3IodmFyIGY9MDtmPG47ZisrKXVbZl1baV09dCtvKk1hdGgucmFuZG9tKCl9cmV0dXJuIHV9ZnVuY3Rpb24gdShyLG4pe2lmKCF2KHIpJiYhdihuKSlyZXR1cm4gcChnKHItbiwyKSk7Zm9yKHZhciB0PTAsZT0wO2U8ci5sZW5ndGg7ZSsrKXQrPWcocltlXS1uW2VdLDIpO3JldHVybiBwKHQpfXZhciBpPXQoNCksZj10KDMpLGw9Zi5zaXplLHM9Zi5zdW1PZkNvbHVtbixoPWYuc3VtLGM9Zi56ZXJvcyx2PWYuaXNBcnJheSxwPU1hdGguc3FydCxnPU1hdGgucG93O3JldHVybntrTWVhbnM6bixoaWVyYXJjaGljYWxLTWVhbnM6b319LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7cmV0dXJue2NsdXN0ZXJpbmc6dCgxMSkscmVncmVzc2lvbjp0KDE0KSxzdGF0aXN0aWNzOnQoMTUpLGhpc3RvZ3JhbTp0KDEzKX19LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihyLG4pe249bnVsbD09bj9wLnNxdWFyZVJvb3Q6cFtuXTtmb3IodmFyIHQ9aShyKSxhPWUodCksdT1vKHQpLGY9bih0LHUsYSksbD12KHUsYSxmKSxnPWgoTWF0aC5jZWlsKHUvbCkqbCxNYXRoLmZsb29yKGEvbCkqbCxsKSxkPWcubGVuZ3RoLE09bmV3IEFycmF5KGQrMSkseD0wO3g8PWQ7eCsrKU1beF09e30sTVt4XS5zYW1wbGU9W10sTVt4XS54MD14PjA/Z1t4LTFdOmdbeF0tdT09PWw/dTpnW3hdLWwsTVt4XS54MT14PGQ/Z1t4XTphLWdbeC0xXT09PWw/YTpnW3gtMV0rbDtmb3IodmFyIHg9MDt4PHQubGVuZ3RoO3grKyl1PD10W3hdJiZ0W3hdPD1hJiZNW2MoZyx0W3hdLDAsZCldLnNhbXBsZS5wdXNoKHRbeF0pO3ZhciByPXMoTSxmdW5jdGlvbihyKXtyZXR1cm5bKHIueDArci54MSkvMixyLnNhbXBsZS5sZW5ndGhdfSk7cmV0dXJue2JpbnM6TSxkYXRhOnJ9fXZhciBlPXQoNiksbz10KDgpLGE9dCgyKSx1PXQoNSksaT10KDQpLGY9dCgzKSxsPWYuYXNjZW5kaW5nLHM9Zi5tYXAsaD10KDE3KSxjPWYuYmlzZWN0LHY9dCgxOCkscD17c3F1YXJlUm9vdDpmdW5jdGlvbihyKXt2YXIgbj1NYXRoLmNlaWwoTWF0aC5zcXJ0KHIubGVuZ3RoKSk7cmV0dXJuIG4+NTA/NTA6bn0sc2NvdHQ6ZnVuY3Rpb24ocixuLHQpe3JldHVybiBNYXRoLmNlaWwoKHQtbikvKDMuNSp1KHIpKk1hdGgucG93KHIubGVuZ3RoLC0xLzMpKSl9LGZyZWVkbWFuRGlhY29uaXM6ZnVuY3Rpb24ocixuLHQpe3JldHVybiByLnNvcnQobCksTWF0aC5jZWlsKCh0LW4pLygyKihhKHIsLjc1KS1hKHIsLjI1KSkqTWF0aC5wb3coci5sZW5ndGgsLTEvMykpKX0sc3R1cmdlczpmdW5jdGlvbihyKXtyZXR1cm4gTWF0aC5jZWlsKE1hdGgubG9nKHIubGVuZ3RoKS9NYXRoLkxOMikrMX19O3JldHVybiBufS5jYWxsKG4sdCxuLHIpLCEodm9pZCAwIT09ZSYmKHIuZXhwb3J0cz1lKSl9LGZ1bmN0aW9uKHIsbix0KXt2YXIgZTtlPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG4ocixuKXtmb3IodmFyIHQ9MDt0PHIubGVuZ3RoLTE7dCsrKXtmb3IodmFyIGU9dCxvPXQrMTtvPHIubGVuZ3RoLTE7bysrKU1hdGguYWJzKHJbdF1bb10pPk1hdGguYWJzKHJbdF1bZV0pJiYoZT1vKTtmb3IodmFyIGE9dDthPHIubGVuZ3RoO2ErKyl7dmFyIHU9clthXVt0XTtyW2FdW3RdPXJbYV1bZV0sclthXVtlXT11fWZvcih2YXIgaT10KzE7aTxyLmxlbmd0aC0xO2krKylmb3IodmFyIGY9ci5sZW5ndGgtMTtmPj10O2YtLSlyW2ZdW2ldLT1yW2ZdW3RdL3JbdF1bdF0qclt0XVtpXX1mb3IodmFyIGw9bmV3IEFycmF5KG4pLHM9ci5sZW5ndGgtMSxvPXIubGVuZ3RoLTI7bz49MDtvLS0pe2Zvcih2YXIgdT0wLHQ9bysxO3Q8ci5sZW5ndGgtMTt0KyspdSs9clt0XVtvXSpsW3RdO2xbb109KHJbc11bb10tdSkvcltvXVtvXX1yZXR1cm4gbH12YXIgZT10KDQpLG89e2xpbmVhcjpmdW5jdGlvbihyKXtmb3IodmFyIG49ZShyKSx0PTAsbz0wLGE9MCx1PTAsaT1uLmxlbmd0aCxmPTA7ZjxpO2YrKyl0Kz1uW2ZdWzBdLG8rPW5bZl1bMV0sYSs9bltmXVswXSpuW2ZdWzFdLHUrPW5bZl1bMF0qbltmXVswXTtmb3IodmFyIGw9KGkqYS10Km8pLyhpKnUtdCp0KSxzPW8vaS1sKnQvaSxoPVtdLGM9MDtjPG4ubGVuZ3RoO2MrKyl7dmFyIHY9W25bY11bMF0sbCpuW2NdWzBdK3NdO2gucHVzaCh2KX12YXIgcD0ieSA9ICIrTWF0aC5yb3VuZCgxMDAqbCkvMTAwKyJ4ICsgIitNYXRoLnJvdW5kKDEwMCpzKS8xMDA7cmV0dXJue3BvaW50czpoLHBhcmFtZXRlcjp7Z3JhZGllbnQ6bCxpbnRlcmNlcHQ6c30sZXhwcmVzc2lvbjpwfX0sbGluZWFyVGhyb3VnaE9yaWdpbjpmdW5jdGlvbihyKXtmb3IodmFyIG49ZShyKSx0PTAsbz0wLGE9MDthPG4ubGVuZ3RoO2ErKyl0Kz1uW2FdWzBdKm5bYV1bMF0sbys9blthXVswXSpuW2FdWzFdO2Zvcih2YXIgdT1vL3QsaT1bXSxmPTA7ZjxuLmxlbmd0aDtmKyspe3ZhciBsPVtuW2ZdWzBdLG5bZl1bMF0qdV07aS5wdXNoKGwpfXZhciBzPSJ5ID0gIitNYXRoLnJvdW5kKDEwMCp1KS8xMDArIngiO3JldHVybntwb2ludHM6aSxwYXJhbWV0ZXI6e2dyYWRpZW50OnV9LGV4cHJlc3Npb246c319LGV4cG9uZW50aWFsOmZ1bmN0aW9uKHIpe2Zvcih2YXIgbj1lKHIpLHQ9MCxvPTAsYT0wLHU9MCxpPTAsZj0wLGw9MDtsPG4ubGVuZ3RoO2wrKyl0Kz1uW2xdWzBdLG8rPW5bbF1bMV0sZis9bltsXVswXSpuW2xdWzFdLGErPW5bbF1bMF0qbltsXVswXSpuW2xdWzFdLHUrPW5bbF1bMV0qTWF0aC5sb2cobltsXVsxXSksaSs9bltsXVswXSpuW2xdWzFdKk1hdGgubG9nKG5bbF1bMV0pO2Zvcih2YXIgcz1vKmEtZipmLGg9TWF0aC5wb3coTWF0aC5FLChhKnUtZippKS9zKSxjPShvKmktZip1KS9zLHY9W10scD0wO3A8bi5sZW5ndGg7cCsrKXt2YXIgZz1bbltwXVswXSxoKk1hdGgucG93KE1hdGguRSxjKm5bcF1bMF0pXTt2LnB1c2goZyl9dmFyIGQ9InkgPSAiK01hdGgucm91bmQoMTAwKmgpLzEwMCsiZV4oIitNYXRoLnJvdW5kKDEwMCpjKS8xMDArIngpIjtyZXR1cm57cG9pbnRzOnYscGFyYW1ldGVyOntjb2VmZmljaWVudDpoLGluZGV4OmN9LGV4cHJlc3Npb246ZH19LGxvZ2FyaXRobWljOmZ1bmN0aW9uKHIpe2Zvcih2YXIgbj1lKHIpLHQ9MCxvPTAsYT0wLHU9MCxpPTA7aTxuLmxlbmd0aDtpKyspdCs9TWF0aC5sb2cobltpXVswXSksbys9bltpXVsxXSpNYXRoLmxvZyhuW2ldWzBdKSxhKz1uW2ldWzFdLHUrPU1hdGgucG93KE1hdGgubG9nKG5baV1bMF0pLDIpO2Zvcih2YXIgZj0oaSpvLWEqdCkvKGkqdS10KnQpLGw9KGEtZip0KS9pLHM9W10saD0wO2g8bi5sZW5ndGg7aCsrKXt2YXIgYz1bbltoXVswXSxmKk1hdGgubG9nKG5baF1bMF0pK2xdO3MucHVzaChjKX12YXIgdj0ieSA9ICIrTWF0aC5yb3VuZCgxMDAqbCkvMTAwKyIgKyAiK01hdGgucm91bmQoMTAwKmYpLzEwMCsibG4oeCkiO3JldHVybntwb2ludHM6cyxwYXJhbWV0ZXI6e2dyYWRpZW50OmYsaW50ZXJjZXB0Omx9LGV4cHJlc3Npb246dn19LHBvbHlub21pYWw6ZnVuY3Rpb24ocix0KXt2YXIgbz1lKHIpOyJ1bmRlZmluZWQiPT10eXBlb2YgdCYmKHQ9Mik7Zm9yKHZhciBhPVtdLHU9W10saT10KzEsZj0wO2Y8aTtmKyspe2Zvcih2YXIgbD0wLHM9MDtzPG8ubGVuZ3RoO3MrKylsKz1vW3NdWzFdKk1hdGgucG93KG9bc11bMF0sZik7dS5wdXNoKGwpO2Zvcih2YXIgaD1bXSxjPTA7YzxpO2MrKyl7Zm9yKHZhciB2PTAscD0wO3A8by5sZW5ndGg7cCsrKXYrPU1hdGgucG93KG9bcF1bMF0sZitjKTtoLnB1c2godil9YS5wdXNoKGgpfWEucHVzaCh1KTtmb3IodmFyIGc9bihhLGkpLGQ9W10sZj0wO2Y8by5sZW5ndGg7ZisrKXtmb3IodmFyIE09MCxzPTA7czxnLmxlbmd0aDtzKyspTSs9Z1tzXSpNYXRoLnBvdyhvW2ZdWzBdLHMpO2QucHVzaChbb1tmXVswXSxNXSl9Zm9yKHZhciB4PSJ5ID0gIixmPWcubGVuZ3RoLTE7Zj49MDtmLS0peCs9Zj4xP01hdGgucm91bmQoZ1tmXSpNYXRoLnBvdygxMCxmKzEpKS9NYXRoLnBvdygxMCxmKzEpKyJ4XiIrZisiICsgIjoxPT09Zj9NYXRoLnJvdW5kKDEwMCpnW2ZdKS8xMDArInggKyAiOk1hdGgucm91bmQoMTAwKmdbZl0pLzEwMDtyZXR1cm57cG9pbnRzOmQscGFyYW1ldGVyOmcsZXhwcmVzc2lvbjp4fX19LGE9ZnVuY3Rpb24ocixuLHQpe3JldHVybiBvW3JdKG4sdCl9O3JldHVybiBhfS5jYWxsKG4sdCxuLHIpLCEodm9pZCAwIT09ZSYmKHIuZXhwb3J0cz1lKSl9LGZ1bmN0aW9uKHIsbix0KXt2YXIgZTtlPWZ1bmN0aW9uKHIpe3ZhciBuPXt9O3JldHVybiBuLm1heD10KDYpLG4uZGV2aWF0aW9uPXQoNSksbi5tZWFuPXQoNyksbi5tZWRpYW49dCgxNiksbi5taW49dCg4KSxuLm1heD10KDIpLG4ubWF4PXQoOSksbi5zdW09dCgxMCksbn0uY2FsbChuLHQsbixyKSwhKHZvaWQgMCE9PWUmJihyLmV4cG9ydHM9ZSkpfSxmdW5jdGlvbihyLG4sdCl7dmFyIGU7ZT1mdW5jdGlvbihyKXtmdW5jdGlvbiBuKHIpe3JldHVybiBlKHIsLjUpfXZhciBlPXQoMik7cmV0dXJuIG59LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7cmV0dXJuIGZ1bmN0aW9uKHIsbix0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoO2U8Mj8obj1yLHI9MCx0PTEpOnQ9ZTwzPzE6K3Q7Zm9yKHZhciBvPU1hdGguY2VpbCgobi1yKS90KSxhPW5ldyBBcnJheShvKzEpLHU9MDt1PG8rMTt1KyspYVt1XT1yK3UqdDtyZXR1cm4gYX19LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7cmV0dXJuIGZ1bmN0aW9uKHIsbix0KXt2YXIgZT1NYXRoLmFicyhuLXIpL3Qsbz1NYXRoLnBvdygxMCxNYXRoLmZsb29yKE1hdGgubG9nKGUpL01hdGguTE4xMCkpLGE9ZS9vO3JldHVybiBhPj1NYXRoLnNxcnQoNTApP28qPTEwOmE+PU1hdGguc3FydCgxMCk/byo9NTphPj1NYXRoLnNxcnQoMikmJihvKj0yKSxuPj1yP286LW99fS5jYWxsKG4sdCxuLHIpLCEodm9pZCAwIT09ZSYmKHIuZXhwb3J0cz1lKSl9XSl9KTs="></script>
<script src="data:application/javascript;base64,Ci8qCiogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZQoqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQoqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uCiogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQoqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUKKiAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlCiogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbgoqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQoqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQoqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMKKiB1bmRlciB0aGUgTGljZW5zZS4KKi8KCgohZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlP3QoZXhwb3J0cyxyZXF1aXJlKCJlY2hhcnRzIikpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiZXhwb3J0cyIsImVjaGFydHMiXSx0KTp0KChlPWV8fHNlbGYpLmRhdGFUb29sPXt9LGUuZWNoYXJ0cyl9KHRoaXMsZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIHI9QXJyYXkucHJvdG90eXBlLGk9ci5zbGljZSxsPXIubWFwLG89ZnVuY3Rpb24oKXt9LmNvbnN0cnVjdG9yLHI9bz9vLnByb3RvdHlwZTpudWxsO2Z1bmN0aW9uIGEoZSx0LHIpe2lmKCFlKXJldHVybltdO2lmKCF0KXJldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gaS5hcHBseShlLHQpfShlKTtpZihlLm1hcCYmZS5tYXA9PT1sKXJldHVybiBlLm1hcCh0LHIpO2Zvcih2YXIgbz1bXSxuPTAsYT1lLmxlbmd0aDtuPGE7bisrKW8ucHVzaCh0LmNhbGwocixlW25dLG4sZSkpO3JldHVybiBvfXImJiJmdW5jdGlvbiI9PXR5cGVvZiByLmJpbmQmJnIuY2FsbC5iaW5kKHIuYmluZCk7ZnVuY3Rpb24gcChlLHQpe3JldHVybiBlLmdldEF0dHJpYnV0ZSh0KX1mdW5jdGlvbiBjKGUsdCl7Zm9yKHZhciByPWUuZmlyc3RDaGlsZDtyOyl7aWYoMT09PXIubm9kZVR5cGUmJnIubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKSlyZXR1cm4gcjtyPXIubmV4dFNpYmxpbmd9cmV0dXJuIG51bGx9ZnVuY3Rpb24gZChlLHQpe2Zvcih2YXIgcj1lLmZpcnN0Q2hpbGQsbz1bXTtyOylyLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCkmJm8ucHVzaChyKSxyPXIubmV4dFNpYmxpbmc7cmV0dXJuIG99bz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxwYXJzZTpmdW5jdGlvbihlKXtpZighKHQ9InN0cmluZyI9PXR5cGVvZiBlPyhuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZSwidGV4dC94bWwiKTplKXx8dC5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGgpcmV0dXJuIG51bGw7aWYoIShlPWModCwiZ2V4ZiIpKSlyZXR1cm4gbnVsbDtmb3IodmFyIGYsdD1jKGUsImdyYXBoIikscj0oZT1jKHQsImF0dHJpYnV0ZXMiKSk/YShkKGUsImF0dHJpYnV0ZSIpLGZ1bmN0aW9uKGUpe3JldHVybntpZDpwKGUsImlkIiksdGl0bGU6cChlLCJ0aXRsZSIpLHR5cGU6cChlLCJ0eXBlIil9fSk6W10sbz17fSxuPTA7bjxyLmxlbmd0aDtuKyspb1tyW25dLmlkXT1yW25dO3JldHVybntub2RlczooZT1jKHQsIm5vZGVzIiksZj1vLGU/YShkKGUsIm5vZGUiKSxmdW5jdGlvbihlKXt2YXIgdD17aWQ6cChlLCJpZCIpLG5hbWU6cChlLCJsYWJlbCIpLGl0ZW1TdHlsZTp7bm9ybWFsOnt9fX0scj1jKGUsInZpejpzaXplIiksbz1jKGUsInZpejpwb3NpdGlvbiIpLG49YyhlLCJ2aXo6Y29sb3IiKSxlPWMoZSwiYXR0dmFsdWVzIik7aWYociYmKHQuc3ltYm9sU2l6ZT1wYXJzZUZsb2F0KHAociwidmFsdWUiKSkpLG8mJih0Lng9cGFyc2VGbG9hdChwKG8sIngiKSksdC55PXBhcnNlRmxvYXQocChvLCJ5IikpKSxuJiYodC5pdGVtU3R5bGUubm9ybWFsLmNvbG9yPSJyZ2IoIitbMHxwKG4sInIiKSwwfHAobiwiZyIpLDB8cChuLCJiIildLmpvaW4oIiwiKSsiKSIpLGUpe3ZhciBhPWQoZSwiYXR0dmFsdWUiKTt0LmF0dHJpYnV0ZXM9e307Zm9yKHZhciBpPTA7aTxhLmxlbmd0aDtpKyspe3ZhciBsPWFbaV0sdT1wKGwsImZvciIpLHM9cChsLCJ2YWx1ZSIpLGw9Zlt1XTtpZihsKXtzd2l0Y2gobC50eXBlKXtjYXNlImludGVnZXIiOmNhc2UibG9uZyI6cz1wYXJzZUludChzLDEwKTticmVhaztjYXNlImZsb2F0IjpjYXNlImRvdWJsZSI6cz1wYXJzZUZsb2F0KHMpO2JyZWFrO2Nhc2UiYm9vbGVhbiI6cz0idHJ1ZSI9PT1zLnRvTG93ZXJDYXNlKCl9dC5hdHRyaWJ1dGVzW3VdPXN9fX1yZXR1cm4gdH0pOltdKSxsaW5rczoodD1jKHQsImVkZ2VzIikpP2EoZCh0LCJlZGdlIiksZnVuY3Rpb24oZSl7dmFyIHQ9e2lkOnAoZSwiaWQiKSxuYW1lOnAoZSwibGFiZWwiKSxzb3VyY2U6cChlLCJzb3VyY2UiKSx0YXJnZXQ6cChlLCJ0YXJnZXQiKSxsaW5lU3R5bGU6e25vcm1hbDp7fX19LHI9dC5saW5lU3R5bGUubm9ybWFsLG89YyhlLCJ2aXo6dGhpY2tuZXNzIiksZT1jKGUsInZpejpjb2xvciIpO3JldHVybiBvJiYoci53aWR0aD1wYXJzZUZsb2F0KG8uZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpKSksZSYmKHIuY29sb3I9InJnYigiK1swfHAoZSwiciIpLDB8cChlLCJnIiksMHxwKGUsImIiKV0uam9pbigiLCIpKyIpIiksdH0pOltdfX19KTtmdW5jdGlvbiB5KGUsdCl7dmFyIHI9KGUubGVuZ3RoLTEpKnQrMSxvPU1hdGguZmxvb3IociksdD0rZVtvLTFdLHI9ci1vO3JldHVybiByP3QrciooZVtvXS10KTp0fWZ1bmN0aW9uIG4oZSx0KXtmb3IodmFyIHI9W10sbz1bXSxuPVtdLGE9KHQ9dHx8e30pLmJvdW5kSVFSLGk9Im5vbmUiPT09YXx8MD09PWEsbD0wO2w8ZS5sZW5ndGg7bCsrKXtuLnB1c2gobCsiIik7dmFyIHU9KChnPWVbbF0uc2xpY2UoKSkuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBlLXR9KSxnKSxzPXkodSwuMjUpLGY9eSh1LC41KSxwPXkodSwuNzUpLGM9dVswXSxkPXVbdS5sZW5ndGgtMV0sZz0obnVsbD09YT8xLjU6YSkqKHAtcyksdj1pP2M6TWF0aC5tYXgoYyxzLWcpLGI9aT9kOk1hdGgubWluKGQscCtnKTtyLnB1c2goW3YscyxmLHAsYl0pO2Zvcih2YXIgaD0wO2g8dS5sZW5ndGg7aCsrKXt2YXIgbT11W2hdOyhtPHZ8fGI8bSkmJihtPVtsLG1dLCJ2ZXJ0aWNhbCI9PT10LmxheW91dCYmbS5yZXZlcnNlKCksby5wdXNoKG0pKX19cmV0dXJue2JveERhdGE6cixvdXRsaWVyczpvLGF4aXNEYXRhOm59fXI9IjEuMC4wIjt0LmRhdGFUb29sJiYodC5kYXRhVG9vbC52ZXJzaW9uPXIsdC5kYXRhVG9vbC5nZXhmPW8sdC5kYXRhVG9vbC5wcmVwYXJlQm94cGxvdERhdGE9biksZS5nZXhmPW8sZS5wcmVwYXJlQm94cGxvdERhdGE9bixlLnZlcnNpb249cixPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9KTs="></script>
<script src="data:application/javascript;base64,SFRNTFdpZGdldHMud2lkZ2V0KHsKCiAgbmFtZTogJ2VjaGFydHM0cicsCgogIHR5cGU6ICdvdXRwdXQnLAoKICBmYWN0b3J5OiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCkgewogICAgCiAgICB2YXIgaW5pdGlhbGl6ZWQgPSBmYWxzZTsKCiAgICB2YXIgY2hhcnQsb3B0czsKCiAgICBjb25zdCBldmFsRnVuID0gKHNvdXJjZU9wdHMpID0+IHsKICAgICAgbGV0IG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBzb3VyY2VPcHRzKTsKICAgICAgT2JqZWN0LmtleXMob3B0cykuZm9yRWFjaCgoa2V5KSA9PiB7CiAgICAgICAgaWYgKG9wdHNba2V5XSAhPT0gbnVsbCkgewogICAgICAgICAgaWYgKHR5cGVvZiBvcHRzW2tleV0gPT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgIGV2YWxGdW4ob3B0c1trZXldKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHR5cGVvZiBvcHRzW2tleV0gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgb3B0c1trZXldID0gZXZhbCgnKCcgKyBvcHRzW2tleV0gKyAnKScpOwogICAgICAgICAgICB9IGNhdGNoIHsgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybihvcHRzKTsKICAgIH0KICAgIAogICAgcmV0dXJuIHsKCiAgICAgIHJlbmRlclZhbHVlOiBmdW5jdGlvbih4KSB7CiAgICAgICAgCiAgICAgICAgaWYoeC5kaXNwb3NlID09PSB0cnVlKXsKICAgICAgICAgIGNoYXJ0ID0gZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsLmlkKSk7CiAgICAgICAgICBjaGFydC5kaXNwb3NlKCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmICghaW5pdGlhbGl6ZWQpIHsKICAgICAgICAgIGluaXRpYWxpemVkID0gdHJ1ZTsKICAgICAgICAgIGlmKHgudGhlbWUyID09PSB0cnVlKXsKICAgICAgICAgICAgdmFyIHRoID0gSlNPTi5wYXJzZSh4LmN1c3RvbVRoZW1lKTsKICAgICAgICAgICAgZWNoYXJ0cy5yZWdpc3RlclRoZW1lKHgudGhlbWVfbmFtZSwgdGgpOwogICAgICAgICAgfQogICAgICAgICAgCiAgICAgICAgfQoKICAgICAgICBpZih4Lmhhc093blByb3BlcnR5KCdyZWdpc3Rlck1hcCcpKXsKICAgICAgICAgIGZvciggdmFyIG1hcCA9IDA7IG1hcCA8IHgucmVnaXN0ZXJNYXAubGVuZ3RoOyBtYXArKyl7CiAgICAgICAgICAgIGVjaGFydHMucmVnaXN0ZXJNYXAoeC5yZWdpc3Rlck1hcFttYXBdLm1hcE5hbWUsIHgucmVnaXN0ZXJNYXBbbWFwXS5nZW9KU09OKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYoeC5oYXNPd25Qcm9wZXJ0eSgnbWFwYm94VG9rZW4nKSl7CiAgICAgICAgICBtYXBib3hnbC5hY2Nlc3NUb2tlbiA9IHgubWFwYm94VG9rZW47CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmKCF4Lm1haW5PcHRzKQogICAgICAgICAgeC5tYWluT3B0cyA9IFtdOwogICAgICAgIHgubWFpbk9wdHMucmVuZGVyZXIgPSB4LnJlbmRlcmVyOwoKICAgICAgICBjaGFydCA9IGVjaGFydHMuaW5pdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbC5pZCksIHgudGhlbWUsIHgubWFpbk9wdHMpOwogICAgICAgIAogICAgICAgIG9wdHMgPSBldmFsRnVuKHgub3B0cyk7CiAgICAgICAgCiAgICAgICAgaWYoeC5kcmF3ID09PSB0cnVlKQogICAgICAgICAgY2hhcnQuc2V0T3B0aW9uKG9wdHMpOwogICAgICAgIAogICAgICAgIC8vIHNoaW55IGNhbGxiYWNrcwogICAgICAgIGlmIChIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsKICAgICAgICAgIAogICAgICAgICAgY2hhcnQub24oImJydXNoc2VsZWN0ZWQiLCBmdW5jdGlvbihlKXsKICAgICAgICAgICAgU2hpbnkub25JbnB1dENoYW5nZShlbC5pZCArICdfYnJ1c2gnICsgIjplY2hhcnRzNHJQYXJzZSIsIGUpOwogICAgICAgICAgfSk7CgogICAgICAgICAgY2hhcnQub24oImJydXNoIiwgZnVuY3Rpb24oZSl7CiAgICAgICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKyAnX2JydXNoX3JlbGVhc2VkJyArICI6ZWNoYXJ0czRyUGFyc2UiLCBlKTsKICAgICAgICAgIH0pOwogICAgICAgICAgCiAgICAgICAgICBjaGFydC5vbigibGVnZW5kc2VsZWN0Y2hhbmdlZCIsIGZ1bmN0aW9uKGUpewogICAgICAgICAgICBTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsgJ19sZWdlbmRfY2hhbmdlJyArICI6ZWNoYXJ0czRyUGFyc2UiLCBlLm5hbWUpOwogICAgICAgICAgICBTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsgJ19sZWdlbmRfc2VsZWN0ZWQnICsgIjplY2hhcnRzNHJQYXJzZSIsIGUuc2VsZWN0ZWQpOwogICAgICAgICAgfSk7CiAgICAgICAgICAKICAgICAgICAgIGNoYXJ0Lm9uKCJnbG9iYWxvdXQiLCBmdW5jdGlvbihlKXsKICAgICAgICAgICAgU2hpbnkub25JbnB1dENoYW5nZShlbC5pZCArICdfZ2xvYmFsX291dCcgKyAiOmVjaGFydHM0clBhcnNlIiwgZSwge3ByaW9yaXR5OiAnZXZlbnQnfSk7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZih4Lmhhc093blByb3BlcnR5KCd6cicpKXsKICAgICAgICAgICAgY2hhcnQuZ2V0WnIoKS5vbigiY2xpY2siLCBmdW5jdGlvbihlKXsKICAgICAgICAgICAgICBkZWxldGUgZS5zdG9wOwogICAgICAgICAgICAgIGRlbGV0ZSBlLnRvcFRhcmdldDsKICAgICAgICAgICAgICBkZWxldGUgZS50YXJnZXQKICAgICAgICAgICAgICBkZWxldGUgZS5ldmVudC5wYXRoOwogICAgICAgICAgICAgIFNoaW55LnNldElucHV0VmFsdWUoZWwuaWQgKyAnX2NsaWNrZWRfenInICsgIjplY2hhcnRzNHJQYXJzZSIsIGUpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIAogICAgICAgICAgaWYoeC5oYXNPd25Qcm9wZXJ0eSgnY2FwdHVyZScpKXsKICAgICAgICAgICAgY2hhcnQub24oeC5jYXB0dXJlLCBmdW5jdGlvbihlKXsKICAgICAgICAgICAgICBTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsgJ18nICsgeC5jYXB0dXJlICsgIjplY2hhcnRzNHJQYXJzZSIsIGUsIHtwcmlvcml0eTogJ2V2ZW50J30pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIAogICAgICAgICAgY2hhcnQub24oImNsaWNrIiwgZnVuY3Rpb24oZSl7CiAgICAgICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKyAnX2NsaWNrZWRfZGF0YScgKyAiOmVjaGFydHM0clBhcnNlIiwgZS5kYXRhLCB7cHJpb3JpdHk6ICdldmVudCd9KTsKICAgICAgICAgICAgU2hpbnkub25JbnB1dENoYW5nZShlbC5pZCArICdfY2xpY2tlZF9yb3cnICsgIjplY2hhcnRzNHJQYXJzZSIsIGUuZGF0YUluZGV4ICsgMSwge3ByaW9yaXR5OiAnZXZlbnQnfSk7CiAgICAgICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKyAnX2NsaWNrZWRfc2VyaWUnICsgIjplY2hhcnRzNHJQYXJzZSIsIGUuc2VyaWVzTmFtZSwge3ByaW9yaXR5OiAnZXZlbnQnfSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIAogICAgICAgICAgY2hhcnQub24oIm1vdXNlb3ZlciIsIGZ1bmN0aW9uKGUpewogICAgICAgICAgICBTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsgJ19tb3VzZW92ZXJfZGF0YScgKyAiOmVjaGFydHM0clBhcnNlIiwgZS5kYXRhKTsKICAgICAgICAgICAgU2hpbnkub25JbnB1dENoYW5nZShlbC5pZCArICdfbW91c2VvdmVyX3JvdycgKyAiOmVjaGFydHM0clBhcnNlIiwgZS5kYXRhSW5kZXggKyAxKTsKICAgICAgICAgICAgU2hpbnkub25JbnB1dENoYW5nZShlbC5pZCArICdfbW91c2VvdmVyX3NlcmllJyArICI6ZWNoYXJ0czRyUGFyc2UiLCBlLnNlcmllc05hbWUpOwogICAgICAgICAgfSk7CiAgICAgICAgICAKICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdzaGlueTpyZWNhbGN1bGF0aW5nJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZih4LmhpZGVXaGl0ZSA9PT0gdHJ1ZSl7CiAgICAgICAgICAgICAgdmFyIGNzcyA9ICcucmVjYWxjdWxhdGluZyB7b3BhY2l0eTogMS4wICFpbXBvcnRhbnQ7IH0nLAogICAgICAgICAgICAgICAgICBoZWFkID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLAogICAgICAgICAgICAgICAgICBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgc3R5bGUudHlwZSA9ICd0ZXh0L2Nzcyc7CiAgICAgICAgICAgICAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpewogICAgICAgICAgICAgICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGlmKHgubG9hZGluZyA9PT0gdHJ1ZSl7CiAgICAgICAgICAgICAgY2hhcnQuc2hvd0xvYWRpbmcoJ2RlZmF1bHQnLCB4LmxvYWRpbmdPcHRzKTsKICAgICAgICAgICAgfSBlbHNlIGlmKHgubG9hZGluZyA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICBjaGFydC5oaWRlTG9hZGluZygpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgfSk7CiAgICAgICAgICAKICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdzaGlueTp2YWx1ZScsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBjaGFydC5oaWRlTG9hZGluZygpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmKHguaGFzT3duUHJvcGVydHkoJ2Nvbm5lY3QnKSl7CiAgICAgICAgICB2YXIgY29ubmVjdGlvbnMgPSBbXTsKICAgICAgICAgIGZvcih2YXIgYyA9IDA7IGMgPCB4LmNvbm5lY3QubGVuZ3RoOyBjKyspewogICAgICAgICAgICBjb25uZWN0aW9ucy5wdXNoKGdldF9lX2NoYXJ0cyh4LmNvbm5lY3RbY10pKTsKICAgICAgICAgIH0KICAgICAgICAgIGNvbm5lY3Rpb25zLnB1c2goY2hhcnQpOwogICAgICAgICAgZWNoYXJ0cy5jb25uZWN0KGNvbm5lY3Rpb25zKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gYWN0aW9ucwogICAgICAgIGlmKHguZXZlbnRzLmxlbmd0aCA+PSAxKXsKICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB4LmV2ZW50cy5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgIGNoYXJ0LmRpc3BhdGNoQWN0aW9uKHguZXZlbnRzW2ldLmRhdGEpOwogICAgICAgICAgfSAgCiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIGJ1dHRvbnMKICAgICAgICB2YXIgYnV0dG9ucyA9IHguYnV0dG9uczsKICAgICAgICBPYmplY3Qua2V5cyhidXR0b25zKS5tYXAoIGZ1bmN0aW9uKGJ1dHRvbklkKXsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJ1dHRvbklkKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIAogICAgICAgICAgICAoZnVuY3Rpb24oaWQpIHsKICAgICAgICAgICAgICBjb25zdCBzY29wZWRfaWQgPSBpZDsKICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oZSl7CiAgICAgICAgICAgICAgICBidXR0b25zW3Njb3BlZF9pZF0uZm9yRWFjaChmdW5jdGlvbihlbCl7CiAgICAgICAgICAgICAgICAgIGNoYXJ0LmRpc3BhdGNoQWN0aW9uKGVsLmRhdGEpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICApKGJ1dHRvbklkKQogICAgICAgICAgKTsKICAgICAgICB9KTsKICAgICAgICAgIAogICAgICAgIGlmKHguaGFzT3duUHJvcGVydHkoJ29uJykpewogICAgICAgICAgZm9yKHZhciBlID0gMDsgZSA8IHgub24ubGVuZ3RoOyBlKyspewogICAgICAgICAgICBjaGFydC5vbih4Lm9uW2VdLmV2ZW50LCB4Lm9uW2VdLnF1ZXJ5LCB4Lm9uW2VdLmhhbmRsZXIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBpZih4Lmhhc093blByb3BlcnR5KCdvZmYnKSl7CiAgICAgICAgICBmb3IodmFyIGV2ID0gMDsgZXYgPCB4Lm9mZi5sZW5ndGg7IGV2KyspewogICAgICAgICAgICBjaGFydC5vZmYoeC5vZmZbZXZdLmV2ZW50LCB4Lm9mZltldl0ucXVlcnksIHgub2ZmW2V2XS5oYW5kbGVyKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYoeC5oYXNPd25Qcm9wZXJ0eSgnY2hhcnRHcm91cCcpKXsKICAgICAgICAgIGNoYXJ0Lmdyb3VwID0geC5jaGFydEdyb3VwOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBpZih4Lmhhc093blByb3BlcnR5KCdncm91cENvbm5lY3QnKSl7CiAgICAgICAgICBlY2hhcnRzLmNvbm5lY3QoeC5ncm91cENvbm5lY3QpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBpZih4Lmhhc093blByb3BlcnR5KCdncm91cERpc2Nvbm5lY3QnKSl7CiAgICAgICAgICBlY2hhcnRzLmRpc2Nvbm5lY3QoeC5ncm91cERpc2Nvbm5lY3QpOwogICAgICAgIH0KCiAgICAgIH0sCiAgICAgIAogICAgICBnZXRDaGFydDogZnVuY3Rpb24oKXsKICAgICAgICByZXR1cm4gY2hhcnQ7CiAgICAgIH0sCiAgICAgIAogICAgICBnZXRPcHRzOiBmdW5jdGlvbigpewogICAgICAgIHJldHVybiBvcHRzOwogICAgICB9LAoKICAgICAgcmVzaXplOiBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7CiAgICAgICAgaWYoIWNoYXJ0KQogICAgICAgICAgcmV0dXJuOwoKICAgICAgICBjaGFydC5yZXNpemUoe3dpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHR9KTsKICAgICAgfQoKICAgIH07CiAgfQp9KTsKCmZ1bmN0aW9uIGdldF9lX2NoYXJ0cyhpZCl7CgogIHZhciBodG1sV2lkZ2V0c09iaiA9IEhUTUxXaWRnZXRzLmZpbmQoIiMiICsgaWQpOwoKICB2YXIgZWNoYXJ0czsKCiAgaWYgKHR5cGVvZiBodG1sV2lkZ2V0c09iaiAhPSAndW5kZWZpbmVkJykgewogICAgZWNoYXJ0cyA9IGh0bWxXaWRnZXRzT2JqLmdldENoYXJ0KCk7CiAgfQoKICByZXR1cm4oZWNoYXJ0cyk7Cn0KCmZ1bmN0aW9uIGdldF9lX2NoYXJ0c19vcHRzKGlkKXsKCiAgdmFyIGh0bWxXaWRnZXRzT2JqID0gSFRNTFdpZGdldHMuZmluZCgiIyIgKyBpZCk7CgogIHZhciBlY2hhcnRzOwoKICBpZiAodHlwZW9mIGh0bWxXaWRnZXRzT2JqICE9ICd1bmRlZmluZWQnKSB7CiAgICBlY2hhcnRzID0gaHRtbFdpZGdldHNPYmouZ2V0T3B0cygpOwogIH0KCiAgcmV0dXJuKGVjaGFydHMpOwp9CgpmdW5jdGlvbiBkaXN0aW5jdCh2YWx1ZSwgaW5kZXgsIHNlbGYpIHsgCiAgcmV0dXJuIHNlbGYuaW5kZXhPZih2YWx1ZSkgPT09IGluZGV4Owp9CgpmdW5jdGlvbiBybV91bmRlZmluZWQoZWwpewogIHJldHVybiBlbCAhPSB1bmRlZmluZWQ7Cn0KCmlmIChIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsKICAKICAvLyBEUkFXCiAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ2VfZHJhd19wJywKICAgIGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgdmFyIGNoYXJ0ID0gZ2V0X2VfY2hhcnRzKGRhdGEuaWQpOwogICAgICB2YXIgb3B0cyA9IGdldF9lX2NoYXJ0c19vcHRzKGRhdGEuaWQpOwogICAgICBpZiAodHlwZW9mIGNoYXJ0ICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgY2hhcnQuc2V0T3B0aW9uKG9wdHMpOwogICAgICB9CiAgfSk7CiAgCiAgLy8gSElHSExJR0hUIEFORCBET1dOUExBWQogIAogIFNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdlX2hpZ2hsaWdodF9wJywKICAgIGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgdmFyIGNoYXJ0ID0gZ2V0X2VfY2hhcnRzKGRhdGEuaWQpOwogICAgICBpZiAodHlwZW9mIGNoYXJ0ICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgY2hhcnQuZGlzcGF0Y2hBY3Rpb24oewogICAgICAgICAgdHlwZTogJ2hpZ2hsaWdodCcsCiAgICAgICAgICBzZXJpZXNJbmRleDogZGF0YS5zZXJpZXNJbmRleCwKICAgICAgICAgIHNlcmllc05hbWU6IGRhdGEuc2VyaWVzTmFtZQogICAgICAgIH0pOwogICAgICB9CiAgfSk7CiAgCiAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ2VfZG93bnBsYXlfcCcsCiAgICBmdW5jdGlvbihkYXRhKSB7CiAgICAgIHZhciBjaGFydCA9IGdldF9lX2NoYXJ0cyhkYXRhLmlkKTsKICAgICAgaWYgKHR5cGVvZiBjaGFydCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIGNoYXJ0LmRpc3BhdGNoQWN0aW9uKHsKICAgICAgICAgIHR5cGU6ICdkb3ducGxheScsCiAgICAgICAgICBzZXJpZXNJbmRleDogZGF0YS5zZXJpZXNJbmRleCwKICAgICAgICAgIHNlcmllc05hbWU6IGRhdGEuc2VyaWVzTmFtZQogICAgICAgIH0pOwogICAgICB9CiAgfSk7CiAgCiAgLy8gVE9PTFRJUCAgCiAgCiAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ2Vfc2hvd3RpcF9wJywKICAgIGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgdmFyIGNoYXJ0ID0gZ2V0X2VfY2hhcnRzKGRhdGEuaWQpOwogICAgICBpZiAodHlwZW9mIGNoYXJ0ICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgY2hhcnQuZGlzcGF0Y2hBY3Rpb24oZGF0YS5vcHRzKTsKICAgICAgfQogIH0pOwogIAogIFNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdlX2hpZGV0aXBfcCcsCiAgICBmdW5jdGlvbihkYXRhKSB7CiAgICAgIHZhciBjaGFydCA9IGdldF9lX2NoYXJ0cyhkYXRhLmlkKTsKICAgICAgaWYgKHR5cGVvZiBjaGFydCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIGNoYXJ0LmRpc3BhdGNoQWN0aW9uKHsKICAgICAgICAgIHR5cGU6ICdoaWRlVGlwJwogICAgICAgIH0pOwogICAgICB9CiAgfSk7CiAgCiAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ2VfYXBwZW5kX3AnLAogICAgZnVuY3Rpb24ob3B0cykgewogICAgICB2YXIgY2hhcnQgPSBnZXRfZV9jaGFydHMob3B0cy5pZCk7CiAgICAgIGlmICh0eXBlb2YgY2hhcnQgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBjaGFydC5hcHBlbmREYXRhKHsKICAgICAgICAgIHNlcmllc0luZGV4OiBvcHRzLnNlcmllc0luZGV4LAogICAgICAgICAgZGF0YTogb3B0cy5kYXRhCiAgICAgICAgfSk7CiAgICAgIH0KICB9KTsKICAKICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignZV9mb2N1c19ub2RlX2FkamFjZW5jeV9wJywKICAgIGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgdmFyIGNoYXJ0ID0gZ2V0X2VfY2hhcnRzKGRhdGFbMF0uaWQpOwogICAgICBpZiAodHlwZW9mIGNoYXJ0ICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGhpZ2hsaWdodCl7CiAgICAgICAgICBjaGFydC5kaXNwYXRjaEFjdGlvbihoaWdobGlnaHQub3B0cyk7CiAgICAgICAgfSkKICAgICAgfQogIH0pOwogIAogIFNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdlX3VuZm9jdXNfbm9kZV9hZGphY2VuY3lfcCcsCiAgICBmdW5jdGlvbihkYXRhKSB7CiAgICAgIHZhciBjaGFydCA9IGdldF9lX2NoYXJ0cyhkYXRhWzBdLmlkKTsKICAgICAgaWYgKHR5cGVvZiBjaGFydCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihoaWdobGlnaHQpewogICAgICAgICAgY2hhcnQuZGlzcGF0Y2hBY3Rpb24oaGlnaGxpZ2h0Lm9wdHMpOwogICAgICAgIH0pCiAgICAgIH0KICB9KTsKICAKICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignZV9kaXNwYXRjaF9hY3Rpb25fcCcsCiAgICBmdW5jdGlvbihkYXRhKSB7CiAgICAgIHZhciBjaGFydCA9IGdldF9lX2NoYXJ0cyhkYXRhLmlkKTsKICAgICAgaWYgKHR5cGVvZiBjaGFydCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIGNoYXJ0LmRpc3BhdGNoQWN0aW9uKGRhdGEub3B0cyk7CiAgICAgIH0KICB9KTsKCiAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ2VfcmVnaXN0ZXJfbWFwJywKICAgIGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgaWYgKHR5cGVvZiBjaGFydCAhPSAndW5kZWZpbmVkJykgewogICAgICAgICQuYWpheCh7IAogICAgICAgICAgdXJsOiBkYXRhLmdlb0pTT04sIAogICAgICAgICAgZGF0YVR5cGU6ICdqc29uJywgCiAgICAgICAgICBhc3luYzogZGF0YS5tYXBBc3luYywKICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGpzb24peyAKICAgICAgICAgICAgZWNoYXJ0cy5yZWdpc3Rlck1hcChkYXRhLm1hcE5hbWUsIGpzb24pOwogICAgICAgICAgfSAKICAgICAgICB9KTsKICAgICAgICAKICAgICAgfQogIH0pOwoKICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignZV9yZXNpemUnLAogICAgZnVuY3Rpb24oZGF0YSkgewogICAgICB2YXIgY2hhcnQgPSBnZXRfZV9jaGFydHMoZGF0YS5pZCk7CiAgICAgIGlmICh0eXBlb2YgY2hhcnQgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBjaGFydC5yZXNpemUoKTsKICAgICAgfQogIH0pOwoKICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignZV9zZW5kX3AnLAogICAgZnVuY3Rpb24oZGF0YSkgewogICAgICB2YXIgY2hhcnQgPSBnZXRfZV9jaGFydHMoZGF0YS5pZCk7CiAgICAgIGlmICh0eXBlb2YgY2hhcnQgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBsZXQgb3B0cyA9IGNoYXJ0LmdldE9wdGlvbigpOwoKICAgICAgICAvLyBhZGQgc2VyaWVzCiAgICAgICAgaWYoIW9wdHMuc2VyaWVzKQogICAgICAgICAgb3B0cy5zZXJpZXMgPSBbXTsKCiAgICAgICAgaWYoZGF0YS5vcHRzLnNlcmllcykKICAgICAgICAgIGRhdGEub3B0cy5zZXJpZXMuZm9yRWFjaChmdW5jdGlvbihzZXJpZSl7CiAgICAgICAgICAgIG9wdHMuc2VyaWVzLnB1c2goc2VyaWUpOwogICAgICAgICAgfSk7CgogICAgICAgIGlmKGRhdGEub3B0cy5jb2xvcil7CiAgICAgICAgICBpZihkYXRhLm9wdHMuYXBwZW5kQ29sb3IpCiAgICAgICAgICAgIGRhdGEub3B0cy5jb2xvci5mb3JFYWNoKGZ1bmN0aW9uKGNvbG9yKXsKICAgICAgICAgICAgICBvcHRzLmNvbG9yLnB1c2goY29sb3IpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIGVsc2UgCiAgICAgICAgICAgIG9wdHMuY29sb3IgPSBkYXRhLm9wdHMuY29sb3I7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmKGRhdGEub3B0cy5iYWNrZ3JvdW5kQ29sb3IpCiAgICAgICAgICBvcHRzLmNvbG9yID0gZGF0YS5vcHRzLmJhY2tncm91bmRDb2xvcjsKCiAgICAgICAgLy8gbGVnZW5kCiAgICAgICAgaWYoZGF0YS5vcHRzLmxlZ2VuZCAmJiBvcHRzLmxlZ2VuZC5sZW5ndGggPiAwKQogICAgICAgICAgaWYoZGF0YS5vcHRzLmxlZ2VuZC5kYXRhKQogICAgICAgICAgICBvcHRzLmxlZ2VuZFswXS5kYXRhID0gb3B0cy5sZWdlbmRbMF0uZGF0YS5jb25jYXQoZGF0YS5vcHRzLmxlZ2VuZC5kYXRhKTsKICAgICAgICAKICAgICAgICAvLyB4IEF4aXMKICAgICAgICBpZihvcHRzLnhBeGlzKXsKICAgICAgICAgIGlmKG9wdHMueEF4aXNbMF0uZGF0YSl7CiAgICAgICAgICAgIGxldCB4YXhpcyA9IG9wdHMueEF4aXNbMF0uZGF0YS5jb25jYXQoZGF0YS5vcHRzLnhBeGlzWzBdLmRhdGEpOwogICAgICAgICAgICB4YXhpcyA9IHhheGlzLmZpbHRlcihkaXN0aW5jdCkuZmlsdGVyKHJtX3VuZGVmaW5lZCk7CiAgICAgICAgICAgIG9wdHMueEF4aXNbMF0uZGF0YSA9IHhheGlzOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8geSBBeGlzCiAgICAgICAgaWYob3B0cy55QXhpcyl7CiAgICAgICAgICBpZihvcHRzLnlBeGlzWzBdLmRhdGEpewogICAgICAgICAgICBsZXQgeWF4aXMgPSBvcHRzLnlBeGlzWzBdLmRhdGEuY29uY2F0KGRhdGEub3B0cy55QXhpc1swXS5kYXRhKTsKICAgICAgICAgICAgeWF4aXMgPSB5YXhpcy5maWx0ZXIoZGlzdGluY3QpLmZpbHRlcihybV91bmRlZmluZWQpOwogICAgICAgICAgICBvcHRzLnlBeGlzWzBdLmRhdGEgPSB5YXhpczsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGNoYXJ0LnNldE9wdGlvbihvcHRzLCB0cnVlKTsKICAgICAgfQogIH0pOwoKICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignZV9yZW1vdmVfc2VyaWVfcCcsCiAgICBmdW5jdGlvbihkYXRhKSB7CiAgICAgIAogICAgICB2YXIgY2hhcnQgPSBnZXRfZV9jaGFydHMoZGF0YS5pZCk7CiAgICAgIGlmICh0eXBlb2YgY2hhcnQgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBsZXQgb3B0cyA9IGNoYXJ0LmdldE9wdGlvbigpOwoKICAgICAgICBpZihkYXRhLnNlcmllX25hbWUpewogICAgICAgICAgbGV0IHNlcmllcyA9IG9wdHMuc2VyaWVzOwogICAgICAgICAgc2VyaWVzLmZvckVhY2goZnVuY3Rpb24ocywgaW5kZXgpewogICAgICAgICAgICBpZiAodHlwZW9mIHMubmFtZSA9PSAidW5kZWZpbmVkIil7CiAgICAgICAgICAgICBpZiAocy5kYXRhW1swXV0ubmFtZSA9PSBkYXRhLnNlcmllX25hbWUpewogICAgICAgICAgICAgICB0aGlzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmKHMubmFtZSA9PSBkYXRhLnNlcmllX25hbWUpewogICAgICAgICAgICAgIHRoaXMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBzZXJpZXMpCiAgICAgICAgICBvcHRzLnNlcmllcyA9IHNlcmllczsKICAgICAgICB9CgogICAgICAgIGlmKGRhdGEuc2VyaWVfaW5kZXggIT0gbnVsbCl7CiAgICAgICAgICBvcHRzLnNlcmllcyA9IG9wdHMuc2VyaWVzLnNwbGljZShkYXRhLnNlcmllX2luZGV4LCAxKTsKICAgICAgICB9CgogICAgICAgIGNoYXJ0LnNldE9wdGlvbihvcHRzLCB0cnVlKTsKICAgICAgfQogIH0pOwoKICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignZV9tZXJnZV9wJywKICAgIGZ1bmN0aW9uKGRhdGEpIHsgICAgCiAgICAgIC8vIGNhbGxlZCBieSBlX21lcmdlLCBhZGQgbWFya3MgdG8gc2VyaWUKICAgICAgdmFyIGNoYXJ0ID0gZ2V0X2VfY2hhcnRzKGRhdGEuaWQpOwogICAgICBpZiAodHlwZW9mIGNoYXJ0ICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgY2hhcnQuc2V0T3B0aW9uKGRhdGEub3B0cyk7IAogICAgICB9CiAgfSk7CiAgCn0K"></script>
<script src="data:application/javascript;base64,LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICovCgooZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkgewogICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgewogICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS4KICAgICAgICBkZWZpbmUoWydleHBvcnRzJywgJ2VjaGFydHMnXSwgZmFjdG9yeSk7CiAgICB9IGVsc2UgaWYgKAogICAgICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJgogICAgICAgIHR5cGVvZiBleHBvcnRzLm5vZGVOYW1lICE9PSAnc3RyaW5nJwogICAgKSB7CiAgICAgICAgLy8gQ29tbW9uSlMKICAgICAgICBmYWN0b3J5KGV4cG9ydHMsIHJlcXVpcmUoJ2VjaGFydHMvbGliL2VjaGFydHMnKSk7CiAgICB9IGVsc2UgewogICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscwogICAgICAgIGZhY3Rvcnkoe30sIHJvb3QuZWNoYXJ0cyk7CiAgICB9Cn0pKHRoaXMsIGZ1bmN0aW9uKGV4cG9ydHMsIGVjaGFydHMpIHsKICAgIHZhciBsb2cgPSBmdW5jdGlvbihtc2cpIHsKICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgIGNvbnNvbGUgJiYgY29uc29sZS5lcnJvciAmJiBjb25zb2xlLmVycm9yKG1zZyk7CiAgICAgICAgfQogICAgfTsKICAgIGlmICghZWNoYXJ0cykgewogICAgICAgIGxvZygnRUNoYXJ0cyBpcyBub3QgTG9hZGVkJyk7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBjb2xvclBhbGV0dGUgPSBbCiAgICAgICAgJyNmYWQwODknLAogICAgICAgICcjZmY5YzViJywKICAgICAgICAnI2Y1NjM0YScsCiAgICAgICAgJyNlZDMwM2MnLAogICAgICAgICcjM2I4MTgzJywKICAgICAgICAnI2Y3ODI2ZScsCiAgICAgICAgJyNmYWFjOWUnLAogICAgICAgICcjZmNkNWNmJwogICAgXTsKCiAgICB2YXIgdGhlbWUgPSB7CiAgICAgICAgY29sb3I6IGNvbG9yUGFsZXR0ZSwKCiAgICAgICAgdGl0bGU6IHsKICAgICAgICAgICAgdGV4dFN0eWxlOiB7CiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnbm9ybWFsJywKICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZhZDA4OScKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHZpc3VhbE1hcDogewogICAgICAgICAgICBjb2xvcjogWycjZmFkMDg5JywgJyNhMmQ0ZTYnXQogICAgICAgIH0sCgogICAgICAgIHRvb2xib3g6IHsKICAgICAgICAgICAgY29sb3I6IFsnI2ZhZDA4OScsICcjZmFkMDg5JywgJyNmYWQwODknLCAnI2ZhZDA4OSddCiAgICAgICAgfSwKCiAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsMCwwLDAuNSknLAogICAgICAgICAgICBheGlzUG9pbnRlcjogewogICAgICAgICAgICAgICAgLy8gQXhpcyBpbmRpY2F0b3IsIGNvb3JkaW5hdGUgdHJpZ2dlciBlZmZlY3RpdmUKICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5lJywgLy8gVGhlIGRlZmF1bHQgaXMgYSBzdHJhaWdodCBsaW5l77yaICdsaW5lJyB8ICdzaGFkb3cnCiAgICAgICAgICAgICAgICBsaW5lU3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAvLyBTdHJhaWdodCBsaW5lIGluZGljYXRvciBzdHlsZSBzZXR0aW5ncwogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZhZDA4OScsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Rhc2hlZCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBjcm9zc1N0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZmFkMDg5JwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHNoYWRvd1N0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgLy8gU2hhZG93IGluZGljYXRvciBzdHlsZSBzZXR0aW5ncwogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAncmdiYSgyMDAsMjAwLDIwMCwwLjMpJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgLy8gQXJlYSBzY2FsaW5nIGNvbnRyb2xsZXIKICAgICAgICBkYXRhWm9vbTogewogICAgICAgICAgICBkYXRhQmFja2dyb3VuZENvbG9yOiAnI2VlZScsIC8vIERhdGEgYmFja2dyb3VuZCBjb2xvcgogICAgICAgICAgICBmaWxsZXJDb2xvcjogJ3JnYmEoMTQ0LDE5NywyMzcsMC4yKScsIC8vIEZpbGwgdGhlIGNvbG9yCiAgICAgICAgICAgIGhhbmRsZUNvbG9yOiAnI2ZhZDA4OScgLy8gSGFuZGxlIGNvbG9yCiAgICAgICAgfSwKCiAgICAgICAgdGltZWxpbmU6IHsKICAgICAgICAgICAgbGluZVN0eWxlOiB7CiAgICAgICAgICAgICAgICBjb2xvcjogJyNmYWQwODknCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNvbnRyb2xTdHlsZTogewogICAgICAgICAgICAgICAgY29sb3I6ICcjZmFkMDg5JywKICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnI2ZhZDA4OScKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIGNhbmRsZXN0aWNrOiB7CiAgICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICAgICAgY29sb3I6ICcjZmY5YzViJywKICAgICAgICAgICAgICAgIGNvbG9yMDogJyNmNTYzNGEnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGxpbmVTdHlsZTogewogICAgICAgICAgICAgICAgd2lkdGg6IDEsCiAgICAgICAgICAgICAgICBjb2xvcjogJyMzYjgxODMnLAogICAgICAgICAgICAgICAgY29sb3IwOiAnI2VkMzAzYycKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYXJlYVN0eWxlOiB7CiAgICAgICAgICAgICAgICBjb2xvcjogJyNmYWQwODknLAogICAgICAgICAgICAgICAgY29sb3IwOiAnI2VkMzAzYycKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIGNob3JkOiB7CiAgICAgICAgICAgIHBhZGRpbmc6IDQsCiAgICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICAgICAgY29sb3I6ICcjZmFkMDg5JywKICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiAxLAogICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICdyZ2JhKDEyOCwgMTI4LCAxMjgsIDAuNSknCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGxpbmVTdHlsZTogewogICAgICAgICAgICAgICAgY29sb3I6ICdyZ2JhKDEyOCwgMTI4LCAxMjgsIDAuNSknCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFyZWFTdHlsZTogewogICAgICAgICAgICAgICAgY29sb3I6ICcjZWQzMDNjJwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICAgICAgY29sb3I6ICcjZGRkJwogICAgICAgICAgICB9LAogICAgICAgICAgICBhcmVhU3R5bGU6IHsKICAgICAgICAgICAgICAgIGNvbG9yOiAnI2Y1NjM0YScKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbGFiZWw6IHsKICAgICAgICAgICAgICAgIGNvbG9yOiAnI2MxMmUzNCcKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIGdyYXBoOiB7CiAgICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICAgICAgY29sb3I6ICcjZjU2MzRhJwogICAgICAgICAgICB9LAogICAgICAgICAgICBsaW5rU3R5bGU6IHsKICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZhZDA4OScKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIGdhdWdlOiB7CiAgICAgICAgICAgIGF4aXNMaW5lOiB7CiAgICAgICAgICAgICAgICBsaW5lU3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogWwogICAgICAgICAgICAgICAgICAgICAgICBbMC4yLCAnI2ZmOWM1YiddLAogICAgICAgICAgICAgICAgICAgICAgICBbMC44LCAnI2ZhZDA4OSddLAogICAgICAgICAgICAgICAgICAgICAgICBbMSwgJyMzYjgxODMnXQogICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDgKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CgogICAgZWNoYXJ0cy5yZWdpc3RlclRoZW1lKCdjYXJhdmFuJywgdGhlbWUpOwp9KTsK"></script>

</head>
<body>
<div id="htmlwidget_container">
  <div id="htmlwidget-cc0942ecfe4e8012e8d1" style="width:100%;height:500px;" class="echarts4r html-widget"></div>
</div>
<script type="application/json" data-for="htmlwidget-cc0942ecfe4e8012e8d1">{"x":{"theme":"caravan","tl":false,"draw":true,"renderer":"canvas","events":[],"buttons":[],"opts":{"polar":{"show":true},"angleAxis":{"show":true,"data":[2017,2018,2019,2020,2021]},"radiusAxis":{"show":true},"legend":{"data":["Políticas","Questões Culturais","Questões Econômicas","Avaliação da Qualidade"],"show":true,"type":"plain","orient":"vertical","right":"2","top":"15%"},"series":[{"data":[1,2,2,2,2],"name":"Políticas","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"polar","stack":"Tipo","label":{"show":true,"position":"inside"}},{"data":[1,null,2,2,2],"name":"Questões Culturais","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"polar","stack":"Tipo","label":{"show":true,"position":"inside"}},{"data":[null,1,1,2,1],"name":"Questões Econômicas","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"polar","stack":"Tipo","label":{"show":true,"position":"inside"}},{"data":[null,2,null,2,null],"name":"Avaliação da Qualidade","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"polar","stack":"Tipo","label":{"show":true,"position":"inside"}}]},"dispose":true},"evals":[],"jsHooks":[]}</script>
<script type="application/htmlwidget-sizing" data-for="htmlwidget-cc0942ecfe4e8012e8d1">{"viewer":{"width":"100%","height":350,"padding":0,"fill":true},"browser":{"width":"100%","height":500,"padding":0,"fill":true}}</script>
</body>
</html>
